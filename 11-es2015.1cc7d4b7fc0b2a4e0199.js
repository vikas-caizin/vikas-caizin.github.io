(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{sspt:function(e,t,o){"use strict";var r,i,n=o("Y7sv"),s=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<o;t++)for(var n=arguments[t],s=0,a=n.length;s<a;s++,i++)r[i]=n[s];return r},a=function(){function e(t,o,r,i,n,s,a,p){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=o,this.context=r,this.eventService=i,this.columnModel=n,this.gridApi=s,this.columnApi=a,this.selectionService=p,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return e.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},e.prototype.getCopyOfNodesMap=function(){return n.mb.cloneObject(this.allNodesMap)},e.prototype.getRowNode=function(e){return this.allNodesMap[e]},e.prototype.setRowData=function(t){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.rootNode.updateHasChildren(),this.nextId=0,this.allNodesMap={},!t)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);this.rootNode.allLeafChildren=this.recursiveFunction(t,this.rootNode,e.TOP_LEVEL)},e.prototype.updateRowData=function(e,t){var o={remove:[],update:[],add:[]},r=[];return this.executeRemove(e,o,r),this.executeUpdate(e,o,r),this.executeAdd(e,o),this.updateSelection(r),t&&n.mb.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),o},e.prototype.updateSelection=function(e){var t=e.length>0;t&&e.forEach(function(e){e.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),t&&this.eventService.dispatchEvent({type:n.C.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.executeAdd=function(t,o){var r=this,i=t.add,a=t.addIndex;if(!n.mb.missingOrEmpty(i)){var p=i.map(function(t){return r.createNode(t,r.rootNode,e.TOP_LEVEL)});if("number"==typeof a&&a>=0){var d=this.rootNode.allLeafChildren,l=d.slice(0,a),c=d.slice(a,d.length);this.rootNode.allLeafChildren=s(l,p,c)}else this.rootNode.allLeafChildren=s(this.rootNode.allLeafChildren,p);o.add=p}},e.prototype.executeRemove=function(e,t,o){var r=this,i=e.remove;if(!n.mb.missingOrEmpty(i)){var s={};i.forEach(function(e){var i=r.lookupRowNode(e);i&&(i.isSelected()&&o.push(i),i.clearRowTopAndRowIndex(),s[i.id]=!0,delete r.allNodesMap[i.id],t.remove.push(i))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(e){return!s[e.id]})}},e.prototype.executeUpdate=function(t,o,r){var i=this,s=t.update;n.mb.missingOrEmpty(s)||s.forEach(function(t){var n=i.lookupRowNode(t);n&&(n.updateData(t),!n.selectable&&n.isSelected()&&r.push(n),i.setMasterForRow(n,t,e.TOP_LEVEL,!1),o.update.push(n))})},e.prototype.lookupRowNode=function(e){var t,o=this.gridOptionsWrapper.getRowNodeIdFunc();if(n.mb.exists(o)){var r=o(e);if(!(t=this.allNodesMap[r]))return console.error("AG Grid: could not find row id="+r+", data item was not found for this id"),null}else if(!(t=n.mb.find(this.rootNode.allLeafChildren,function(t){return t.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowNodeId to help the Grid find matching row data"),null;return t},e.prototype.recursiveFunction=function(e,t,o){var r=this;if("string"!=typeof e){var i=[];return e.forEach(function(e){var n=r.createNode(e,t,o);i.push(n)}),i}console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},e.prototype.createNode=function(e,t,o){var r=new n.Z;return this.context.createBean(r),r.group=!1,this.setMasterForRow(r,e,o,!0),t&&!this.suppressParentsInRowNodes&&(r.parent=t),r.level=o,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn("ag-grid: duplicate node id '"+r.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[r.id]=r,this.nextId++,r},e.prototype.setMasterForRow=function(e,t,o,r){if(this.doingTreeData)e.setMaster(!1),r&&(e.expanded=!1);else if(e.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(t))),r){var i=this.columnModel.getRowGroupColumns();e.expanded=!!e.master&&this.isExpanded(o+(i?i.length:0))}},e.prototype.isExpanded=function(e){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===t||e<t},e.TOP_LEVEL=0,e.ROOT_NODE_ID="ROOT_NODE_ID",e}(),p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),d=function(e,t,o,r){var i,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(n<3?i(s):n>3?i(t,o,s):i(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.Normal=0]="Normal",e[e.AfterFilter=1]="AfterFilter",e[e.AfterFilterAndSort=2]="AfterFilterAndSort",e[e.PivotNodes=3]="PivotNodes"}(i||(i={}));var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:n.r.EVERYTHING}),t=this.refreshModel.bind(this,{step:n.r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.eventService,n.C.EVENT_NEW_COLUMNS_LOADED,t),this.addManagedListener(this.eventService,n.C.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,n.C.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,n.C.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:n.r.PIVOT})),this.addManagedListener(this.eventService,n.C.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,n.C.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,n.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var o=this.refreshModel.bind(this,{step:n.r.MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,n.G.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o),this.addManagedListener(this.gridOptionsWrapper,n.G.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o),this.rootNode=new n.Z,this.nodeManager=new a(this.rootNode,this.gridOptionsWrapper,this.getContext(),this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService),this.createBean(this.rootNode)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,t,o,r){var i,n=!1;do{i=!1;for(var s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),p=Math.max(s,o),d=Math.min(a,r),l=p;l<=d;l++){var c=this.getRow(l);if(c.rowHeightEstimated){var h=this.gridOptionsWrapper.getRowHeightForNode(c);c.setRowHeight(h.height),i=!0,n=!0}}i&&this.setRowTopAndRowIndex()}while(i);return n},t.prototype.setRowTopAndRowIndex=function(){for(var e=0,t=0;t<this.rowsToDisplay.length;t++){var o=this.gridOptionsWrapper.getDomLayout()===n.x.DOM_LAYOUT_NORMAL,r=this.rowsToDisplay[t];if(n.mb.missing(r.rowHeight)){var i=this.gridOptionsWrapper.getRowHeightForNode(r,o);r.setRowHeight(i.height,i.estimated)}r.setRowTop(e),r.setRowIndex(t),e+=r.rowHeight}},t.prototype.clearRowTopAndRowIndex=function(e){var t={};this.rowsToDisplay.forEach(function(e){null!=e.id&&(t[e.id]=e)});var o=function(e){e&&null!=e.id&&null==t[e.id]&&e.clearRowTopAndRowIndex()},r=function(t){if(o(t),o(t.detailNode),o(t.sibling),t.hasChildren()&&t.childrenAfterGroup){var i=-1==t.level;e.isActive()&&!i&&!t.expanded||t.childrenAfterGroup.forEach(r)}};r(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,t,o){var r=this;void 0===o&&(o=0);var i=this.getRowIndexAtPixel(t);return this.getRow(i)!==e[0]&&(e.forEach(function(e){n.mb.removeFromArray(r.rootNode.allLeafChildren,e)}),e.forEach(function(e,t){n.mb.insertIntoArray(r.rootNode.allLeafChildren,e,Math.max(i+o,0)+t)}),this.refreshModel({step:n.r.EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},t.prototype.highlightRowAtPixel=function(e,t){var o=null!=t?this.getRowIndexAtPixel(t):null,r=null!=o?this.getRow(o):null;if(r&&e&&r!==e&&null!=t){var i=this.getHighlightPosition(t,r);this.lastHighlightedRow&&this.lastHighlightedRow!==r&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),r.setHighlighted(i),this.lastHighlightedRow=r}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,t){if(!t){var o=this.getRowIndexAtPixel(e);if(!(t=this.getRow(o||0)))return n.Y.Below}return e-t.rowTop<t.rowHeight/2?n.Y.Above:n.Y.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var t=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex},t.prototype.getRowBounds=function(e){if(n.mb.missing(this.rowsToDisplay))return null;var t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:n.r.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:n.r.FILTER,keepRenderedRows:!0,animate:t})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:n.r.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return n.x.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:n.r.PIVOT}):this.refreshModel({step:n.r.AGGREGATE})},t.prototype.createChangePath=function(e){var t=n.mb.missingOrEmpty(e),o=new n.p(!1,this.rootNode);return(t||this.gridOptionsWrapper.isTreeData())&&o.setInactive(),o},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction())return!1;if(null==e.rowNodeTransactions)return!1;var t=n.mb.filter(e.rowNodeTransactions,function(e){return null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0});return null==t||0==t.length},t.prototype.refreshModel=function(e){var t=this;if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var o=this.createChangePath(e.rowNodeTransactions);switch(e.step){case n.r.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,o,!!e.afterColumnsChanged);case n.r.FILTER:this.doFilter(o);case n.r.PIVOT:this.doPivot(o);case n.r.AGGREGATE:this.doAggregate(o);case n.r.SORT:this.doSort(e.rowNodeTransactions,o);case n.r.MAP:this.doRowsToDisplay()}this.setRowTopAndRowIndex(),this.clearRowTopAndRowIndex(o),this.eventService.dispatchEvent({type:n.C.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){t.$scope.$apply()},0)}},t.prototype.isEmpty=function(){var e=n.mb.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return n.mb.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return n.mb.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,t){var o,r=!t,i=!1,n=[],s=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(a){var p=r&&!i;if(r||a!==t&&a!==e||(r=!0),!a.group||!s){var d=r&&!i,l=a.isParentOfNode(o);(d||l)&&n.push(a)}p&&(a!==t&&a!==e||(i=!0,o=a===t?t:e))}),n},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var t=0,o=this.rowsToDisplay.length-1;if(e<=0)return 0;if(n.mb.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var r=Math.floor((t+o)/2),i=this.rowsToDisplay[r];if(this.isRowInPixel(i,e))return r;i.rowTop<e?t=r+1:i.rowTop>e&&(o=r-1)}},t.prototype.isRowInPixel=function(e,t){return e.rowTop<=t&&e.rowTop+e.rowHeight>t},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(t,o){return e(t,o)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,i.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,e,i.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,i.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,i.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,t,o,r){if(!e)return r;for(var n=0;n<e.length;n++){var s=e[n];if(t(s,r++),s.hasChildren()){var a=null;switch(o){case i.Normal:a=s.childrenAfterGroup;break;case i.AfterFilter:a=s.childrenAfterFilter;break;case i.AfterFilterAndSort:a=s.childrenAfterSort;break;case i.PivotNodes:a=s.leafGroup?null:s.childrenAfterSort}a&&(r=this.recursivelyWalkNodesAndCallback(a,t,o,r))}}return r},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.expandOrCollapseAll=function(e){var t=this.gridOptionsWrapper.isTreeData();this.rootNode&&function o(r){r&&r.forEach(function(r){(t?n.mb.exists(r.childrenAfterGroup):r.group)&&(r.expanded=e,o(r.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:n.r.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:n.C.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})},t.prototype.doRowGrouping=function(e,t,o,r,i){this.groupStage?(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:o,changedPath:r}):(this.selectionService.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:r,afterColumnsChanged:i}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(r)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){e&&n.mb.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(t,o){"boolean"==typeof e[o]&&(t.expanded=e[o])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return n.mb.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(t,o){return e[o]=t.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(n.Z.ID_PREFIX_ROW_GROUP)){var t=void 0;return this.forEachNode(function(o){o.id===e&&(t=o)}),t}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var t=this.getGroupState();this.nodeManager.setRowData(e),this.eventService.dispatchEvent({type:n.C.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:n.r.EVERYTHING,groupState:t,newData:!0})},t.prototype.batchUpdateRowData=function(e,t){var o=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var r=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){o.executeBatchUpdateRowData()},r)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var t=[],o=[],r=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(i){var n=e.nodeManager.updateRowData(i.rowDataTransaction,void 0);o.push(n),i.callback&&t.push(i.callback.bind(null,n)),"number"==typeof i.rowDataTransaction.addIndex&&(r=!0)}),this.commonUpdateRowData(o,void 0,r),t.length>0&&window.setTimeout(function(){t.forEach(function(e){return e()})},0),o.length>0){var i={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:n.C.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o};this.eventService.dispatchEvent(i)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,t){this.valueCache.onDataChanged();var o=this.nodeManager.updateRowData(e,t);return this.commonUpdateRowData([o],t,"number"==typeof e.addIndex),o},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var t=0;t<this.rootNode.allLeafChildren.length;t++)e[this.rootNode.allLeafChildren[t].id]=t;return e}},t.prototype.commonUpdateRowData=function(e,t,o){o&&(t=this.createRowNodeOrder()),this.refreshModel({step:n.r.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),this.eventService.dispatchEvent({type:n.C.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:n.r.MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(t){t.setRowHeight(t.rowHeight,!0);var o=t.detailNode;o&&o.setRowHeight(o.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},d([Object(n.k)("columnModel")],t.prototype,"columnModel",void 0),d([Object(n.k)("$scope")],t.prototype,"$scope",void 0),d([Object(n.k)("selectionService")],t.prototype,"selectionService",void 0),d([Object(n.k)("valueCache")],t.prototype,"valueCache",void 0),d([Object(n.k)("columnApi")],t.prototype,"columnApi",void 0),d([Object(n.k)("gridApi")],t.prototype,"gridApi",void 0),d([Object(n.k)("animationFrameService")],t.prototype,"animationFrameService",void 0),d([Object(n.k)("filterStage")],t.prototype,"filterStage",void 0),d([Object(n.k)("sortStage")],t.prototype,"sortStage",void 0),d([Object(n.k)("flattenStage")],t.prototype,"flattenStage",void 0),d([Object(n.O)("groupStage")],t.prototype,"groupStage",void 0),d([Object(n.O)("aggregationStage")],t.prototype,"aggregationStage",void 0),d([Object(n.O)("pivotStage")],t.prototype,"pivotStage",void 0),d([n.S],t.prototype,"init",null),d([Object(n.m)("rowModel")],t)}(n.n),c=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),h=function(e,t,o,r){var i,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(n<3?i(s):n>3?i(t,o,s):i(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.execute=function(e){var t=e.rowNode;this.filterService.filter(e.changedPath),this.selectableService.updateSelectableAfterFiltering(t)},h([Object(n.k)("selectableService")],t.prototype,"selectableService",void 0),h([Object(n.k)("filterService")],t.prototype,"filterService",void 0),h([Object(n.m)("filterStage")],t)}(n.n),f=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),g=function(e,t,o,r){var i,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(n<3?i(s):n>3?i(t,o,s):i(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s},w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.execute=function(e){var t=this.sortController.getSortOptions(),o=n.mb.exists(t)&&t.length>0,r=o&&n.mb.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),i=r?this.calculateDirtyNodes(e.rowNodeTransactions):null,s=n.mb.missingOrEmpty(this.columnModel.getValueColumns()),a=n.mb.some(t,function(e){return!!e.column.getColDef().showRowGroup});this.sortService.sort(t,o,r,i,e.changedPath,s,a)},t.prototype.calculateDirtyNodes=function(e){var t={},o=function(e){e&&e.forEach(function(e){return t[e.id]=!0})};return e&&e.forEach(function(e){o(e.add),o(e.update),o(e.remove)}),t},g([Object(n.k)("sortService")],t.prototype,"sortService",void 0),g([Object(n.k)("sortController")],t.prototype,"sortController",void 0),g([Object(n.k)("columnModel")],t.prototype,"columnModel",void 0),g([Object(n.m)("sortStage")],t)}(n.n),y=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),v=function(e,t,o,r){var i,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(n<3?i(s):n>3?i(t,o,s):i(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s},N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype.execute=function(e){var t=e.rowNode,o=[],r={value:0},i=this.columnModel.isPivotMode(),n=i&&t.leafGroup;return this.recursivelyAddToRowsToDisplay(n?[t]:t.childrenAfterSort,o,r,i,0),!n&&o.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(t),this.addRowNodeToRowsToDisplay(t.sibling,o,r,0)),o},t.prototype.recursivelyAddToRowsToDisplay=function(e,t,o,r,i){if(!n.mb.missingOrEmpty(e))for(var s=this.gridOptionsWrapper.isGroupHideOpenParents(),a=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),p=!a&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),d=0;d<e.length;d++){var l=e[d],c=l.hasChildren(),h=a&&c&&1===l.childrenAfterGroup.length,u=p&&c&&l.leafGroup&&1===l.childrenAfterGroup.length;if(!(r&&!c||s&&l.expanded&&(!r||!l.leafGroup)||h||u)&&this.addRowNodeToRowsToDisplay(l,t,o,i),!r||!l.leafGroup)if(c){var f=h||u;(l.expanded||f)&&(this.recursivelyAddToRowsToDisplay(l.childrenAfterSort,t,o,r,f?i:i+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(l),this.addRowNodeToRowsToDisplay(l.sibling,t,o,i)))}else if(l.master&&l.expanded){var g=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(g,t,o,i)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,t,o,r){var i=this.gridOptionsWrapper.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(i?0:r)},t.prototype.ensureFooterNodeExists=function(e){if(!n.mb.exists(e.sibling)){var t=new n.Z;this.context.createBean(t),Object.keys(e).forEach(function(o){t[o]=e[o]}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,n.mb.exists(t.id)&&(t.id="rowGroupFooter_"+t.id),t.sibling=e,e.sibling=t}},t.prototype.createDetailNode=function(e){if(n.mb.exists(e.detailNode))return e.detailNode;var t=new n.Z;return this.context.createBean(t),t.detail=!0,t.selectable=!1,t.parent=e,n.mb.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t},v([Object(n.k)("columnModel")],t.prototype,"columnModel",void 0),v([Object(n.m)("flattenStage")],t)}(n.n),R=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),O=function(e,t,o,r){var i,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(n<3?i(s):n>3?i(t,o,s):i(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s},A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,t,o,r,i,n,s){var a=this,p=this.gridOptionsWrapper.isGroupMaintainOrder();i&&i.forEachChangedNodeDepthFirst(function(d){a.pullDownGroupDataForHideOpenParents(d.childrenAfterFilter,!0),d.childrenAfterSort=t?!p||d.leafGroup||s?o?a.doDeltaSort(d,e,r,i,n):a.rowNodeSorter.doFullSort(d.childrenAfterFilter,e):d.childrenAfterSort.slice(0):p&&d.childrenAfterSort?d.childrenAfterSort.slice(0):d.childrenAfterFilter.slice(0),a.updateChildIndexes(d),a.postSortFunc&&a.postSortFunc(d.childrenAfterSort)}),this.updateGroupDataForHideOpenParents(i)},t.prototype.mapNodeToSortedNode=function(e,t){return{currentPos:t,rowNode:e}},t.prototype.doDeltaSort=function(e,t,o,r,i){var n=e.childrenAfterSort.filter(function(e){var t=!o[e.id],n=i||r&&r.canSkip(e);return t&&n}).map(this.mapNodeToSortedNode.bind(this)),s={};n.forEach(function(e){return s[e.rowNode.id]=e.rowNode});var a=e.childrenAfterFilter.filter(function(e){return!s[e.id]}).map(this.mapNodeToSortedNode.bind(this));return a.sort(this.rowNodeSorter.compareRowNodes.bind(this,t)),(0===a.length?n:0===n.length?a:this.mergeSortedArrays(t,n,a)).map(function(e){return e.rowNode})},t.prototype.mergeSortedArrays=function(e,t,o){for(var r=[],i=0,n=0;i<t.length&&n<o.length;){var s=this.rowNodeSorter.compareRowNodes(e,t[i],o[n]);r.push(s<0?t[i++]:o[n++])}for(;i<t.length;)r.push(t[i++]);for(;n<o.length;)r.push(o[n++]);return r},t.prototype.updateChildIndexes=function(e){if(!n.mb.missing(e.childrenAfterSort))for(var t=e.childrenAfterSort,o=0;o<t.length;o++){var r=t[o],i=o===e.childrenAfterSort.length-1;r.setFirstChild(0===o),r.setLastChild(i),r.setChildIndex(o)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var t=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return n.mb.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var o=function(e){t.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach(function(e){e.hasChildren()&&o(e)})};e&&e.executeFromRootNode(function(e){return o(e)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,t){var o=this;this.gridOptionsWrapper.isGroupHideOpenParents()&&!n.mb.missing(e)&&e.forEach(function(e){o.columnModel.getGroupDisplayColumns().forEach(function(r){var i=r.getColDef().showRowGroup;if("string"==typeof i){var n=o.columnModel.getPrimaryColumn(i);if(n!==e.rowGroupColumn)if(t)e.setGroupValue(r.getId(),void 0);else{var s=e.getFirstChildOfFirstChild(n);s&&e.setGroupValue(r.getId(),s.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},O([Object(n.k)("columnModel")],t.prototype,"columnModel",void 0),O([Object(n.k)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),O([n.S],t.prototype,"init",null),O([Object(n.m)("sortService")],t)}(n.n),m=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),T=function(e,t,o,r){var i,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(n<3?i(s):n>3?i(t,o,s):i(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s},S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),t.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.filter=function(e){var t=this.filterManager.isAnyFilterPresent();this.filterNodes(t,e)},t.prototype.filterNodes=function(e,t){var o=this,r=function(t,r){t.hasChildren()?(t.childrenAfterFilter=e&&!r?t.childrenAfterGroup.filter(function(e){var t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,r=e.data&&o.filterManager.doesRowPassFilter({rowNode:e});return t||r}):t.childrenAfterGroup,o.setAllChildrenCount(t)):(t.childrenAfterFilter=t.childrenAfterGroup,t.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){var i=function(e,t){if(e.childrenAfterGroup)for(var n=0;n<e.childrenAfterGroup.length;n++){var s=e.childrenAfterGroup[n],a=t||o.filterManager.doesRowPassFilter({rowNode:s});s.childrenAfterGroup?i(e.childrenAfterGroup[n],a):r(s,a)}r(e,t)};t.executeFromRootNode(function(e){return i(e,!1)})}else t.forEachChangedNodeDepthFirst(function(e){return r(e,!1)},!0)},t.prototype.setAllChildrenCountTreeData=function(e){var t=0;e.childrenAfterFilter.forEach(function(e){t++,t+=e.allChildrenCount}),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCountGridGrouping=function(e){var t=0;e.childrenAfterFilter.forEach(function(e){e.group?t+=e.allChildrenCount:t++}),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCount=function(e){this.doingTreeData?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},T([Object(n.k)("filterManager")],t.prototype,"filterManager",void 0),T([n.S],t.prototype,"postConstruct",null),T([Object(n.m)("filterService")],t)}(n.n),b=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),C=function(e,t,o,r){var i,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(n<3?i(s):n>3?i(t,o,s):i(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s},D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.postConstruct=function(){this.rowModel.getType()===n.x.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.createTransactionForRowData=function(e){if(n.mb.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var t=this.gridOptionsWrapper.getRowNodeIdFunc();if(t&&!n.mb.missing(t)){var o={remove:[],update:[],add:[]},r=this.clientSideRowModel.getCopyOfNodesMap(),i=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return n.mb.exists(e)&&e.forEach(function(e,n){var s=t(e),a=r[s];i&&(i[s]=n),a?(a.data!==e&&o.update.push(e),r[s]=void 0):o.add.push(e)}),n.mb.iterateObject(r,function(e,t){t&&o.remove.push(t.data)}),[o,i]}console.error("AG Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},C([Object(n.k)("rowModel")],t.prototype,"rowModel",void 0),C([n.S],t.prototype,"postConstruct",null),C([Object(n.m)("immutableService")],t)}(n.n),E={moduleName:n.L.ClientSideRowModelModule,beans:[u,w,N,A,S,D],rowModels:{clientSide:l}};o.d(t,"a",function(){return E})}}]);