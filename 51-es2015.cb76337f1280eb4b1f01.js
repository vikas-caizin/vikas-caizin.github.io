(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"4y4f":function(l,n,e){"use strict";e.d(n,"a",function(){return u}),e.d(n,"b",function(){return o});var t=e("8Y7J"),a=e("O9pe"),i=function(){function l(){this.focusable=!1}return l.decorators=[{type:t.Component,args:[{selector:"ibm-icon-trash-can20",template:'\n    <svg\n      ibmIconTrashCan20\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],l.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],focusable:[{type:t.Input}],innerClass:[{type:t.Input}]},l}(),u=function(){function l(l){this.elementRef=l,this.isFocusable=!1}return l.prototype.ngAfterViewInit=function(){var n=this.elementRef.nativeElement;n.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var e=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M12 12h2v12h-2zm6 0h2v12h-2z"></path><path d="M4 6v2h2v20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8h2V6zm4 22V8h16v20zm4-26h8v2h-8z"></path></svg>',"image/svg+xml").documentElement.firstChild;e;)n.appendChild(n.ownerDocument.importNode(e,!0)),e=e.nextSibling;for(var t=Object(a.a)({width:20,height:20,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),i=Object.keys(t),u=0;u<i.length;u++){var o=i[u],r=t[o];"title"!==o&&r&&n.setAttribute(o,r)}if(t.title){var s=document.createElement("title");s.textContent=t.title,s.setAttribute("id","trash-can20-"+ ++l.titleIdCounter),n.appendChild(s),n.setAttribute("aria-labelledby","trash-can20-"+l.titleIdCounter)}},l.titleIdCounter=0,l.decorators=[{type:t.Directive,args:[{selector:"[ibmIconTrashCan20]"}]}],l.ctorParameters=function(){return[{type:t.ElementRef}]},l.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],isFocusable:[{type:t.Input}]},l}(),o=function(){function l(){}return l.decorators=[{type:t.NgModule,args:[{declarations:[i,u],exports:[i,u]}]}],l}()},EJfY:function(l,n,e){"use strict";e.d(n,"a",function(){return t});class t{}},OJuz:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J"),a=e("lvEG");a.i.registerModules([a.n,a.a,a.b,a.e,a.h,a.j,a.l,a.o]);class i{}var u=e("pMnS"),o=e("cgCd"),r=e("9YYN"),s=e("I7CR"),d=e("kNGs"),c=e("eWkc"),m=e("v3aM"),p=e("g7AK"),g=e("fF59"),h=e("BJWQ"),b=e("PybA"),v=e("TfA5"),f=e("ciZX"),y=e("9XGM"),C=e("Z725"),x=e("ddZp"),S=e("SVse");class _{constructor(l,n,e,t,a){this.sapService=l,this._router=n,this.toaster=e,this.modalService=t,this.confirmationService=a,this.metricsList=[],this.size="sm",this.formLists=null,this.getRowStyle=l=>{if(l.node.rowIndex%2!=0)return{background:"#F8F8F8"}},this.columnDefs=[{headerName:"SAP Configuration Name",wrapText:!0,autoHeight:!0,field:"name",minWidth:200},{headerName:"Approval Status",field:"isApproved",minWidth:200,valueGetter:l=>l.data.isApproved?"Approved":"Pending"},{headerName:"Configuration Status",wrapText:!0,minWidth:200,valueGetter:l=>l.data.isApproved?l.data.isActive?"Activated":"Deactivated":""},{headerName:"Last Read",headerTooltip:"Last Read",field:"lastSyncTimestamp",minWidth:205,comparator:(l,n,e,t,a)=>e||t?e.data.lastSyncTimestamp===t.data.lastSyncTimestamp?0:!e.data.lastSyncTimestamp&&t.data.lastSyncTimestamp?-1:e.data.lastSyncTimestamp&&!t.data.lastSyncTimestamp?1:e.data.lastSyncTimestamp>t.data.lastSyncTimestamp?1:-1:0,valueGetter:l=>l.data.lastSyncTimestamp?Object(S.formatDate)(l.data.lastSyncTimestamp,"medium","en-US"):""},{headerName:"Edit",menuTabs:[],sortable:!1,filter:!1,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.onBtnEditClick.bind(this),label:"",imgUrl:"assets/img/edit.svg"},maxWidth:100},{headerName:"Enable/Disable",maxWidth:150,sortable:!1,filter:!0,valueGetter:l=>l.data.isActive?"Enabled":"Disabled",valueFormatter:l=>"",cellRendererSelector:function(l){if(l.data.isApproved)return{component:"buttonRenderer",params:{value:"",imgUrl:l.data.isActive?"assets/img/checkmark.svg":"assets/img/error.svg"}}},cellRendererParams:{onClick:this.onBtnEnableDisableClick.bind(this)}},{headerName:"Form Data",menuTabs:[],sortable:!1,filter:!1,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.onBtnViewFormClick.bind(this),label:"",imgUrl:"assets/img/grip.svg"},maxWidth:160}],this.defaultColDef={wrapText:!0,autoHeight:!0,resizable:!0,sortable:!0,filter:!0,flex:1,minWidth:120,suppressMenu:!1,menuTabs:["filterMenuTab","generalMenuTab"],filterParams:{buttons:["reset"]},sortingOrder:["desc","asc",null]},this.sideBar={toolPanels:[{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel",minWidth:180,maxWidth:400,width:250},{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivotMode:!0,suppressPivots:!0}}],position:"right",defaultToolPanel:"filters"},this.agGridComponents={buttonRenderer:x.a}}onBtnViewFormClick(l){this._router.navigate(["sap/form",l.rowData.sapForm._id,"data"])}onBtnEnableDisableClick(l){this.disablegroup(l.rowData)}onBtnEditClick(l){this._router.navigate(["sap/edit/"+l.rowData._id])}onGridReady(l){this.gridApi=l.api,this.gridApi.ParentComponent=this,this.gridColumnApi=l.columnApi,this.gridApi.closeToolPanel(),this.getForms("",0),this.onGridResized(l)}onGridResized(l){setTimeout(function(){l.api.sizeColumnsToFit()},2e3)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}ngOnInit(){}getForms(l,n,e,t){this.sapService.getFormData(l,1e3,0,e,t).subscribe(l=>{this.formLists=l.response.records},l=>{this.formLists=[]})}disablegroup(l){let n=l._id;l.isActive?(this.sub=this.confirmationService.getData().subscribe(e=>{e?(this.sapService.disableEnableSAPConfiguration(n).subscribe(n=>{this.toaster.success(l.isActive?"Deactivated Successfully":"Activated Successfully"),l.isActive=!l.isActive,this.getForms("",0)}),this.confirmationService.setData(!1)):this.sub&&this.sub.unsubscribe()}),this.modalService.create({component:y.a,inputs:{modalText:"De-activating this SAP configuration will also stop data synchronization for this SAP form.\n\n                       4E will not import SAP data for this configuration this point onwards.\n\n                       Are you sure you want to de-activate?"}})):this.sapService.disableEnableSAPConfiguration(n).subscribe(n=>{this.toaster.success(l.isActive?"Deactivated Successfully":"Activated Successfully"),l.isActive=!l.isActive,this.getForms("",0)})}onSelectedAddAction(){this._router.navigate(["sap/add"])}}var P=e("iInd"),M=e("EApP"),w=e("PJ54"),A=t["\u0275crt"]({encapsulation:0,styles:[[".config-listing-container[_ngcontent-%COMP%]{padding:2rem;background-color:#fff;height:98%;width:100%;display:flex;flex-direction:column}.config-listing-container[_ngcontent-%COMP%]   .bx--btn[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px;margin-left:5px}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{margin-right:10px}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{height:48px;flex:auto}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]{background-color:#f3f3f3!important;min-height:unset}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.config-listing-container[_ngcontent-%COMP%]   .c-ag-grid[_ngcontent-%COMP%]{width:100%;height:100%}"]],data:{}});function I(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,23,"div",[["class","config-listing-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,17,"div",[["class","info-controls"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,9,"div",[["class","label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"ibm-tile",[],[[2,"bx--tile",null]],null,null,o.b,o.a)),t["\u0275did"](4,49152,null,0,r.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,6,"ibm-breadcrumb",[],null,null,null,s.b,s.a)),t["\u0275did"](6,1097728,null,1,d.a,[],{noTrailingSlash:[0,"noTrailingSlash"]},null),t["\u0275qud"](603979776,1,{children:1}),(l()(),t["\u0275eld"](8,0,null,0,3,"ibm-breadcrumb-item",[],[[2,"bx--breadcrumb-item--current",null],[2,"bx--breadcrumb-item",null]],null,null,c.b,c.a)),t["\u0275did"](9,49152,[[1,4]],0,m.a,[],null,null),(l()(),t["\u0275eld"](10,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["SAP Configuration"])),(l()(),t["\u0275eld"](12,0,null,null,6,"div",[["class","controls"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,5,"button",[["ibmButton","danger"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSelectedAddAction()&&t),t},null,null)),t["\u0275did"](14,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](15,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Add Configuration"])),(l()(),t["\u0275eld"](17,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),t["\u0275did"](18,4210688,null,0,g.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](19,16777216,null,null,4,"ag-grid-angular",[["class","ag-theme-alpine c-ag-grid"]],null,[[null,"gridReady"],[null,"gridSizeChanged"]],function(l,n,e){var t=!0,a=l.component;return"gridReady"===n&&(t=!1!==a.onGridReady(e)&&t),"gridSizeChanged"===n&&(t=!1!==a.onGridResized(e)&&t),t},h.b,h.a)),t["\u0275prd"](512,null,b.e,b.e,[t.NgZone]),t["\u0275prd"](512,null,b.d,b.d,[]),t["\u0275did"](22,4898816,[["agGrid",4]],1,b.a,[t.ElementRef,t.ViewContainerRef,b.e,b.d,t.ComponentFactoryResolver],{sideBar:[0,"sideBar"],columnDefs:[1,"columnDefs"],defaultColDef:[2,"defaultColDef"],components:[3,"components"],pagination:[4,"pagination"],paginationAutoPageSize:[5,"paginationAutoPageSize"],rowData:[6,"rowData"],getRowStyle:[7,"getRowStyle"]},{gridReady:"gridReady",gridSizeChanged:"gridSizeChanged"}),t["\u0275qud"](603979776,2,{columns:1})],function(l,n){var e=n.component;l(n,6,0,!0),l(n,14,0,"danger"),l(n,22,0,e.sideBar,e.columnDefs,e.defaultColDef,e.agGridComponents,!0,!0,e.formLists,e.getRowStyle)},function(l,n){l(n,3,0,t["\u0275nov"](n,4).tileClass),l(n,8,0,t["\u0275nov"](n,9).current,t["\u0275nov"](n,9).itemClass),l(n,13,1,[t["\u0275nov"](n,14).baseClass,t["\u0275nov"](n,14).primaryButton,t["\u0275nov"](n,14).secondaryButton,t["\u0275nov"](n,14).tertiaryButton,t["\u0275nov"](n,14).ghostButton,t["\u0275nov"](n,14).dangerButton,t["\u0275nov"](n,14).dangerPrimaryButton,t["\u0275nov"](n,14).skeleton,t["\u0275nov"](n,14).smallSize,t["\u0275nov"](n,14).toolbarAction,t["\u0275nov"](n,14).overflowMenu])})}function N(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-sap-forms-list",[],null,null,null,I,A)),t["\u0275did"](1,245760,null,0,_,[v.a,P.o,M.j,w.a,C.a],null,null)],function(l,n){l(n,1,0)},null)}var O=t["\u0275ccf"]("app-sap-forms-list",_,N,{},{},[]),R=e("XdKZ"),E=e("MqE1"),D=e("tX4/"),T=e("bl9C"),F=e("BOF4");class k{constructor(l,n,e,t,a){this._router=l,this.formsService=n,this.modalService=e,this.confirmationService=t,this._toastrService=a,this.rowData=null,this.defaultColDef={wrapText:!0,autoHeight:!0,resizable:!0,sortable:!0,filter:!0,flex:1,minWidth:120,suppressMenu:!1,menuTabs:["filterMenuTab","generalMenuTab"],filterParams:{buttons:["reset"]},sortingOrder:["desc","asc",null]},this.sideBar={toolPanels:[{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel",minWidth:180,maxWidth:400,width:250},{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivotMode:!0,suppressPivots:!0}}],position:"right",defaultToolPanel:"filters"},this.getRowStyle=l=>{if(l.node.rowIndex%2!=0)return{background:"#F8F8F8"}},this.columnDefs=[{headerName:"Name",headerTooltip:"Form Name",wrapText:!0,autoHeight:!0,field:"formName",minWidth:200},{headerName:"Data Count",headerTooltip:"Data Entries Count",type:"numericColumn",field:"submissionCount",minWidth:145,maxWidth:145,cellRendererSelector:function(l){return{component:"buttonRenderer",params:{value:l.data.submissionCount,imgUrl:""}}},cellRendererParams:{onClick:this.onCellDataCountClicked.bind(this)}},{headerName:"Metrics",headerTooltip:"Metrics",wrapText:!0,field:"metrics",minWidth:200,sortable:!1,filter:"agSetColumnFilter"},{headerName:"Managed By",headerTooltip:"Managed By User, Group or Department",field:"managedBy",sortable:!1,filter:"agSetColumnFilter",valueGetter:l=>l.data.managedBy.split(",")},{headerName:"Last Read",headerTooltip:"Last Read",field:"lastSyncTimestamp",minWidth:205,comparator:(l,n,e,t,a)=>e||t?e.data.lastSyncTimestamp===t.data.lastSyncTimestamp?0:!e.data.lastSyncTimestamp&&t.data.lastSyncTimestamp?-1:e.data.lastSyncTimestamp&&!t.data.lastSyncTimestamp?1:e.data.lastSyncTimestamp>t.data.lastSyncTimestamp?1:-1:0,valueGetter:l=>l.data.lastSyncTimestamp?Object(S.formatDate)(l.data.lastSyncTimestamp,"medium","en-US"):""},{headerName:"Approval",headerTooltip:"Approval Status",field:"approvalStatus",minWidth:135,maxWidth:135,valueGetter:l=>l.data.isApproved?"Approved":"Pending"},{headerName:"Form Status",headerTooltip:"Form Status",field:"formStatus",maxWidth:145,valueGetter:l=>l.data.isApproved?"Active":"Inactive"},{headerName:"Actions",headerTooltip:"More Options",minWidth:90,maxWidth:90,resizable:!1,sortable:!1,filter:!1,menuTabs:[],cellRendererSelector:function(l){return{component:"buttonRenderer",params:{value:"",imgUrl:"assets/img/settings.svg",tooltip:"More Option"}}},cellRendererParams:{onClick:l=>{l.api.getRenderedNodes()[l.rowIndex%l.api.paginationGetPageSize()].beans.contextMenuFactory.showMenu(l.node,l.column,l.value,l.event)}}}],this.agGridComponents={buttonRenderer:x.a}}getContextMenuItems(l){var n=[{name:"View Data",tooltip:"View SAP form data",action:function(){l.api.ParentComponent.onDataListing(l.node.data)},icon:'<img src="assets/img/grip.svg" style="width:20px"/>'},{name:"Edit SAP Config",tooltip:"Edit SAP Configuration",action:function(){l.api.ParentComponent.onSAPConfigEdit(l.node.data.sapConfigId)},icon:'<img src="assets/img/settings--adjust.svg" style="width:20px"/>'},{name:"Form Preview",action:function(){l.api.ParentComponent.modalService.create({component:D.a,inputs:{formData:l.node.data.formElements}})},tooltip:"Preview SAP Form",icon:'<img src="assets/img/eye.svg" style="width:20px" />'},{name:"Form Filters",tooltip:"View SAP filters & filter data",action:function(){l.api.ParentComponent.onOpenFormFilter(l.node.data)},icon:'<img src="assets/img/filter.svg" style="width:20px"/>'}];return l.api.ParentComponent.isAdmin&&n.push({name:"Mark Master Data",action:function(){l.api.ParentComponent._router.navigateByUrl("/master-data/"+l.node.data.formId)},tooltip:"Mark master data in form",icon:'<img src="assets/img/connect.svg" style="width:20px"/>'}),n}onGridReady(l){this.gridApi=l.api,this.gridApi.ParentComponent=this,this.gridColumnApi=l.columnApi,this.gridApi.closeToolPanel(),this.getForms(0),this.onGridResized(l)}onGridResized(l){setTimeout(function(){l.api.sizeColumnsToFit()},2e3)}autoSizeAll(l){var n=[];this.gridColumnApi.getAllColumns().forEach(function(l){n.push(l.colId)}),this.gridColumnApi.autoSizeColumns(n,l)}ngOnInit(){const l=localStorage.getItem(T.b.cookieName);let n=F(l);this.isAdmin=n.isAdmin,this.logInEmployeeId=localStorage.getItem("E_Id")}populateAgGrid(l){let n=[];l.forEach(l=>{(l.userPermissions.read||l.userPermissions.edit||l.userPermissions.fill)&&("-"==l.lastSyncTimestamp&&(l.lastSyncTimestamp=void 0),l.managedBy=this.getManagedBy(l.managedByUsers,l.managedByDepartments,l.managedByGroups),n.push(l))}),this.rowData=n}getForms(l){this.formsService.getSAPForms(null,(1e3*l).toString(),"1000",null,null).subscribe(l=>{l&&l.success&&this.populateAgGrid(l.response.forms)},l=>{this.rowData=[],console.error(l)})}onSAPConfigEdit(l){this._router.navigate(["sap","edit",l])}onCellDataCountClicked(l){this.onDataListing(l.rowData)}onDataListing(l){this._router.navigate(["sap/form",l._id,"data"])}onOpenFormFilter(l){this._router.navigate(["sap/form",l._id,"filter"])}ngOnDestroy(){}getManagedBy(l,n,e){let t="",a=(l||[]).map(l=>(l.firstname?l.firstname:"")+" "+(l.lastname?l.lastname:"")),i=(n||[]).map(l=>l.name),u=(e||[]).map(l=>l.name);return t=a.join(","),i.length>0&&(t+=",",t+=i.join(",")),u.length>0&&(t+=",",t+=u.join(",")),t}exportForms(){this._router.navigate(["forms/export-form"])}}var V=t["\u0275crt"]({encapsulation:0,styles:[[".forms-listing-container[_ngcontent-%COMP%]{padding:2rem;background-color:#fff;height:98%;width:100%;display:flex;flex-direction:column}.forms-listing-container[_ngcontent-%COMP%]   .bx--btn[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px;margin-left:5px}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{margin-right:10px}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{height:48px;flex:auto}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]{background-color:#f3f3f3!important;min-height:unset}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.forms-listing-container[_ngcontent-%COMP%]   .c-ag-grid[_ngcontent-%COMP%]{width:100%;height:100%}"]],data:{}});function B(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,24,"div",[["class","forms-listing-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,18,"div",[["class","info-controls"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,9,"div",[["class","label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"ibm-tile",[["class","bx--tile"]],[[2,"bx--tile",null]],null,null,o.b,o.a)),t["\u0275did"](4,49152,null,0,r.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,6,"ibm-breadcrumb",[],null,null,null,s.b,s.a)),t["\u0275did"](6,1097728,null,1,d.a,[],{noTrailingSlash:[0,"noTrailingSlash"]},null),t["\u0275qud"](603979776,1,{children:1}),(l()(),t["\u0275eld"](8,0,null,0,3,"ibm-breadcrumb-item",[],[[2,"bx--breadcrumb-item--current",null],[2,"bx--breadcrumb-item",null]],null,null,c.b,c.a)),t["\u0275did"](9,49152,[[1,4]],0,m.a,[],null,null),(l()(),t["\u0275eld"](10,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["SAP Forms"])),(l()(),t["\u0275eld"](12,0,null,null,7,"div",[["class","controls"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,6,"button",[["ibmButton","danger"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.exportForms()&&t),t},null,null)),t["\u0275did"](14,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](15,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Export Forms Data "])),(l()(),t["\u0275ted"](-1,null,["\xa0\xa0 "])),(l()(),t["\u0275eld"](18,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconDocumentExport20",""]],null,null,null,null,null)),t["\u0275did"](19,4210688,null,0,R.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](20,16777216,null,null,4,"ag-grid-angular",[["class","ag-theme-alpine c-ag-grid"]],null,[[null,"gridReady"],[null,"gridSizeChanged"]],function(l,n,e){var t=!0,a=l.component;return"gridReady"===n&&(t=!1!==a.onGridReady(e)&&t),"gridSizeChanged"===n&&(t=!1!==a.onGridResized(e)&&t),t},h.b,h.a)),t["\u0275prd"](512,null,b.e,b.e,[t.NgZone]),t["\u0275prd"](512,null,b.d,b.d,[]),t["\u0275did"](23,4898816,[["agGrid",4]],1,b.a,[t.ElementRef,t.ViewContainerRef,b.e,b.d,t.ComponentFactoryResolver],{sideBar:[0,"sideBar"],columnDefs:[1,"columnDefs"],defaultColDef:[2,"defaultColDef"],components:[3,"components"],pagination:[4,"pagination"],paginationAutoPageSize:[5,"paginationAutoPageSize"],rowData:[6,"rowData"],getContextMenuItems:[7,"getContextMenuItems"],getRowStyle:[8,"getRowStyle"]},{gridReady:"gridReady",gridSizeChanged:"gridSizeChanged"}),t["\u0275qud"](603979776,2,{columns:1})],function(l,n){var e=n.component;l(n,6,0,!0),l(n,14,0,"danger"),l(n,23,0,e.sideBar,e.columnDefs,e.defaultColDef,e.agGridComponents,!0,!0,e.rowData,e.getContextMenuItems,e.getRowStyle)},function(l,n){l(n,3,0,t["\u0275nov"](n,4).tileClass),l(n,8,0,t["\u0275nov"](n,9).current,t["\u0275nov"](n,9).itemClass),l(n,13,1,[t["\u0275nov"](n,14).baseClass,t["\u0275nov"](n,14).primaryButton,t["\u0275nov"](n,14).secondaryButton,t["\u0275nov"](n,14).tertiaryButton,t["\u0275nov"](n,14).ghostButton,t["\u0275nov"](n,14).dangerButton,t["\u0275nov"](n,14).dangerPrimaryButton,t["\u0275nov"](n,14).skeleton,t["\u0275nov"](n,14).smallSize,t["\u0275nov"](n,14).toolbarAction,t["\u0275nov"](n,14).overflowMenu])})}function L(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-sap-source-forms",[],null,null,null,B,V)),t["\u0275did"](1,245760,null,0,k,[P.o,E.a,w.a,C.a,M.j],null,null)],function(l,n){l(n,1,0)},null)}var U=t["\u0275ccf"]("app-sap-source-forms",k,L,{},{},[]),G=e("0n+N"),z=e("WLIR"),q=e("cBIm"),W=e("wd/R"),H=e("XNiG"),Q=e("2Vo4"),K=e("s7LF");const j=l=>n=>{const e=n.get("kpiName").value,t=n.get("material").value;return e&&t&&l.find(l=>l.kpiName.trim()==e.trim()&&l.materialType.trim()==t.trim())?{duplicate:!0}:null};class Y extends f.a{constructor(l,n,e){super(),this.data=l,this.dataRows=n,this.fb=e,this.kpiName="",this.material="",this.flag="",this.affix="",this.flagDDItems=[{val:"I",content:"Include"},{val:"E",content:"Exclude"}],this.affixDDItems=[{val:"S",content:"Starts With"},{val:"E",content:"Ends With"},{val:"M",content:"Full Match"}],this.materialForm=this.fb.group({kpiName:["",K.Validators.required],material:["",K.Validators.required],flag:["",K.Validators.required],affix:["",K.Validators.required]},{validators:j(n)})}onSubmit(){this.data.next(this.materialForm.value),this.closeModal()}}var $=e("pQSL");let X=(()=>{class l{constructor(l){this.tqmiHttpService=l,this.apiPath={materialFilter:"api/sap-material-filter",sync:"api/sync-mf-sap-data"}}getMaterialFilterList(){return this.tqmiHttpService.get(this.apiPath.materialFilter,{apiType:T.a.SAP_CONFIG})}updateMaterialFilterList(l){return this.tqmiHttpService.patch(this.apiPath.materialFilter,l,{apiType:T.a.SAP_CONFIG})}initiateSync(){return this.tqmiHttpService.post(this.apiPath.sync,{},{apiType:T.a.SAP_CONFIG})}}return l.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new l(t["\u0275\u0275inject"]($.a))},token:l,providedIn:"root"}),l})();var Z=e("HTWL");const J=(l,n,e,t,a)=>l.val||n.val?l.val===n.val?0:!l.val&&n.val?-1:l.val&&!n.val?1:l.val>n.val?1:-1:0;class ll{constructor(l,n,e,t){this.modalService=l,this.materialFilterService=n,this.toastService=e,this.confirmationService=t,this.FLAG_VALUES=[{val:"",label:"None"},{val:"I",label:"Include"},{val:"E",label:"Exclude"}],this.AFFIX_VALUES=[{val:"",label:"None"},{val:"S",label:"Starts With"},{val:"E",label:"Ends With"},{val:"M",label:"Full Match"}],this.modules=[a.a],this.gridOptions={context:{parentComponent:this},singleClickEdit:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:10,stopEditingWhenCellsLoseFocus:!0,suppressRowClickSelection:!0,onRowEditingStopped:l=>{console.log(l)},getRowClass:l=>{if(l.node.rowIndex%2!=0)return"aggrid-row"},defaultColDef:{wrapText:!0,autoHeight:!0,resizable:!0,sortable:!0,filter:!1,floatingFilter:!1,flex:1,minWidth:120,suppressMenu:!0,menuTabs:["filterMenuTab","generalMenuTab"],sortingOrder:["desc","asc",null]},pagination:!1,paginationAutoPageSize:!0,columnTypes:{nonEditableColumn:{editable:!1},dateColumn:{filter:"agDateColumnFilter",minWidth:205,valueFormatter:l=>{let n=l.data[l.colDef.field];return n?W(n).format(T.b.DATE_FORMAT):""},comparator:(l,n,e,t,a)=>l||n?l===n?0:!l&&n?-1:l&&!n?1:l>n?1:-1:0}},columnDefs:[{headerName:"SAP KPI",wrapText:!0,autoHeight:!0,field:"kpiName",minWidth:200},{headerName:"Material Type",field:"materialType",minWidth:200},{headerName:"Flag",field:"flag",minWidth:200,editable:!0,cellEditor:"agRichSelectCellEditor",cellEditorParams:{values:[{val:"",label:"None"},{val:"I",label:"Include"},{val:"E",label:"Exclude"}]},valueFormatter:l=>l.value.label,cellRenderer:l=>l.value.label,comparator:J},{headerName:"Affix",field:"affix",minWidth:200,editable:!0,cellEditor:"agRichSelectCellEditor",cellEditorParams:l=>{let n=[];return{values:n=l.data.flag&&""==l.data.flag.val?this.AFFIX_VALUES.slice(0,1):this.AFFIX_VALUES.slice(1)}},valueFormatter:l=>l.value.label,cellRenderer:l=>l.value.label,comparator:J},{headerName:"Added On",field:"addedTimestamp",minWidth:200,type:"dateColumn"},{headerName:"Updated On",field:"updatedTimestamp",minWidth:200,type:"dateColumn"}],onCellValueChanged:l=>{"flag"===l.column.getId()&&(""==l.data.flag.val?l.node.setDataValue("affix",this.AFFIX_VALUES[0]):""==l.data.affix.val&&l.node.setDataValue("affix",this.AFFIX_VALUES[1])),this.enableSaveBtn.next(!0)},onRowDataUpdated:l=>this.enableSaveBtn.next(!0)},this.data=new H.a,this.enableSaveBtn=new Q.a(!1),this.enableSync=new Q.a(!0),this.enableSaveBtn.subscribe(l=>this.enableSync.next(!l))}ngOnInit(){this._populateGrid()}_populateGrid(){this.materialFilterService.getMaterialFilterList().subscribe(l=>{l.success&&l.response&&(this.rowData=l.response.materialFilter.map(l=>({kpiName:l.KPI,materialType:l.MATERIAL,flag:this.FLAG_VALUES.find(n=>n.val==l.FLAG),affix:this.AFFIX_VALUES.find(n=>n.val==l.AFFIX),addedTimestamp:l.addedTimestamp,updatedTimestamp:l.updatedTimestamp})),this.gridApi.setRowData(this.rowData),this.enableSaveBtn.next(!1))})}onGridReady(l){this.gridApi=l.api,this.gridColumnApi=l.columnApi,this.gridApi.closeToolPanel(),this.onGridResized(l)}onGridResized(l){setTimeout(function(){l.api.destroyCalled||l.api.sizeColumnsToFit()},1e3)}compareGridRow(l,n){return l.kpiName==n.kpiName&&l.materialType==n.materialType&&l.flag==n.flag&&l.affix==n.affix}onAddClicked(l){let n=this.data.subscribe(l=>{this.gridApi.applyTransaction({add:[{kpiName:l.kpiName,materialType:l.material,flag:this.FLAG_VALUES.find(n=>n.val==l.flag.val),affix:this.AFFIX_VALUES.find(n=>n.val==l.affix.val),addedTimestamp:null,updatedTimestamp:null}]})});const e=[];this.gridApi.forEachNode(function(l){e.push({kpiName:l.data.kpiName,materialType:l.data.materialType,flag:l.data.flag.val,affix:l.data.affix.val})}),this.modalService.create({component:Y,inputs:{data:this.data,dataRows:e}}).onDestroy(l=>{n&&n.unsubscribe()})}onRefreshClicked(l){this._populateGrid()}onSyncClicked(l){this.syncSub=this.confirmationService.getData().subscribe(l=>{l?this.materialFilterService.initiateSync().subscribe(l=>{l.success?this.toastService.success("Sync initiated successfully","Success"):this.toastService.error(l.message),this.confirmationService.setData(!1)},l=>{this.toastService.error(l&&l.error&&l.error.message&&"string"==typeof l.error.message?l.error.message:l&&l.message&&"string"==typeof l.message?l.message:Z.a.PLEASE_TRY_AGAIN),this.confirmationService.setData(!1)}):this.syncSub&&(this.syncSub.unsubscribe(),this.syncSub=null)}),this.modalService.create({component:y.a,inputs:{modalText:"Are you sure to apply material filters to SAP?"}})}onSaveClicked(l){this.saveSub=this.confirmationService.getData().subscribe(l=>{if(l){const l=[];this.gridApi.forEachNode(function(n){l.push({KPI:n.data.kpiName,MATERIAL:n.data.materialType,FLAG:n.data.flag.val,AFFIX:n.data.affix.val})}),this.materialFilterService.updateMaterialFilterList({materialFilter:l}).subscribe(l=>{l.success?(this.toastService.success("Material type filters updated in 4E","Sucess"),this._populateGrid()):this.toastService.error(l.message),this.confirmationService.setData(!1)},l=>{this.toastService.error(l&&l.error&&l.error.message&&"string"==typeof l.error.message?l.error.message:l&&l.message&&"string"==typeof l.message?l.message:Z.a.PLEASE_TRY_AGAIN),this.confirmationService.setData(!1)})}else this.saveSub&&(this.saveSub.unsubscribe(),this.saveSub=null)}),this.modalService.create({component:y.a,inputs:{modalText:"Are you sure to save changes to material filters?"}})}}var nl=t["\u0275crt"]({encapsulation:0,styles:[[".material-filter-container[_ngcontent-%COMP%]{padding:2rem;background-color:#fff;height:98%;width:100%;display:flex;flex-direction:column}.material-filter-container[_ngcontent-%COMP%]   .bx--btn[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px;margin-left:5px}.material-filter-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.material-filter-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{margin-right:10px}.material-filter-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{height:48px;flex:auto}.material-filter-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]{background-color:#f3f3f3!important;min-height:unset}.material-filter-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .material-filter-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.material-filter-container[_ngcontent-%COMP%]   .c-ag-grid[_ngcontent-%COMP%]{width:100%;height:100%}.material-filter-container[_ngcontent-%COMP%]   .c-ag-grid[_ngcontent-%COMP%]   .aggrid-row[_ngcontent-%COMP%]{background-color:#f8f8f8!important}"]],data:{}});function el(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","danger"],["title","Save to 4E"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveClicked(e)&&t),t},null,null)),t["\u0275did"](1,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](2,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconSave20",""]],null,null,null,null,null)),t["\u0275did"](3,4210688,null,0,G.a,[t.ElementRef],null,null)],function(l,n){l(n,1,0,"danger")},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).baseClass,t["\u0275nov"](n,1).primaryButton,t["\u0275nov"](n,1).secondaryButton,t["\u0275nov"](n,1).tertiaryButton,t["\u0275nov"](n,1).ghostButton,t["\u0275nov"](n,1).dangerButton,t["\u0275nov"](n,1).dangerPrimaryButton,t["\u0275nov"](n,1).skeleton,t["\u0275nov"](n,1).smallSize,t["\u0275nov"](n,1).toolbarAction,t["\u0275nov"](n,1).overflowMenu])})}function tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","danger"],["title","Sync to SAP"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSyncClicked(e)&&t),t},null,null)),t["\u0275did"](1,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](2,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconRenew20",""]],null,null,null,null,null)),t["\u0275did"](3,4210688,null,0,z.a,[t.ElementRef],null,null)],function(l,n){l(n,1,0,"danger")},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).baseClass,t["\u0275nov"](n,1).primaryButton,t["\u0275nov"](n,1).secondaryButton,t["\u0275nov"](n,1).tertiaryButton,t["\u0275nov"](n,1).ghostButton,t["\u0275nov"](n,1).dangerButton,t["\u0275nov"](n,1).dangerPrimaryButton,t["\u0275nov"](n,1).skeleton,t["\u0275nov"](n,1).smallSize,t["\u0275nov"](n,1).toolbarAction,t["\u0275nov"](n,1).overflowMenu])})}function al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,31,"div",[["class","material-filter-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,25,"div",[["class","info-controls"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,9,"div",[["class","label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"ibm-tile",[],[[2,"bx--tile",null]],null,null,o.b,o.a)),t["\u0275did"](4,49152,null,0,r.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,6,"ibm-breadcrumb",[],null,null,null,s.b,s.a)),t["\u0275did"](6,1097728,null,1,d.a,[],{noTrailingSlash:[0,"noTrailingSlash"]},null),t["\u0275qud"](603979776,1,{children:1}),(l()(),t["\u0275eld"](8,0,null,0,3,"ibm-breadcrumb-item",[],[[2,"bx--breadcrumb-item--current",null],[2,"bx--breadcrumb-item",null]],null,null,c.b,c.a)),t["\u0275did"](9,49152,[[1,4]],0,m.a,[],null,null),(l()(),t["\u0275eld"](10,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["SAP Material Filter"])),(l()(),t["\u0275eld"](12,0,null,null,14,"div",[["class","controls"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,3,"button",[["ibmButton","secondary"],["title","Refresh List"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRefreshClicked(e)&&t),t},null,null)),t["\u0275did"](14,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](15,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconRestart20",""]],null,null,null,null,null)),t["\u0275did"](16,4210688,null,0,q.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](17,0,null,null,3,"button",[["ibmButton","danger"],["title","Add"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddClicked(e)&&t),t},null,null)),t["\u0275did"](18,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](19,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),t["\u0275did"](20,4210688,null,0,g.a,[t.ElementRef],null,null),(l()(),t["\u0275and"](16777216,null,null,2,null,el)),t["\u0275did"](22,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,2,null,tl)),t["\u0275did"](25,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](27,16777216,null,null,4,"ag-grid-angular",[["class","ag-theme-alpine c-ag-grid"]],null,[[null,"gridReady"],[null,"gridSizeChanged"]],function(l,n,e){var t=!0,a=l.component;return"gridReady"===n&&(t=!1!==a.onGridReady(e)&&t),"gridSizeChanged"===n&&(t=!1!==a.onGridResized(e)&&t),t},h.b,h.a)),t["\u0275prd"](512,null,b.e,b.e,[t.NgZone]),t["\u0275prd"](512,null,b.d,b.d,[]),t["\u0275did"](30,4898816,[["agGrid",4]],1,b.a,[t.ElementRef,t.ViewContainerRef,b.e,b.d,t.ComponentFactoryResolver],{gridOptions:[0,"gridOptions"],modules:[1,"modules"]},{gridReady:"gridReady",gridSizeChanged:"gridSizeChanged"}),t["\u0275qud"](603979776,2,{columns:1})],function(l,n){var e=n.component;l(n,6,0,!0),l(n,14,0,"secondary"),l(n,18,0,"danger"),l(n,22,0,t["\u0275unv"](n,22,0,t["\u0275nov"](n,23).transform(e.enableSaveBtn))),l(n,25,0,t["\u0275unv"](n,25,0,t["\u0275nov"](n,26).transform(e.enableSync))),l(n,30,0,e.gridOptions,e.modules)},function(l,n){l(n,3,0,t["\u0275nov"](n,4).tileClass),l(n,8,0,t["\u0275nov"](n,9).current,t["\u0275nov"](n,9).itemClass),l(n,13,1,[t["\u0275nov"](n,14).baseClass,t["\u0275nov"](n,14).primaryButton,t["\u0275nov"](n,14).secondaryButton,t["\u0275nov"](n,14).tertiaryButton,t["\u0275nov"](n,14).ghostButton,t["\u0275nov"](n,14).dangerButton,t["\u0275nov"](n,14).dangerPrimaryButton,t["\u0275nov"](n,14).skeleton,t["\u0275nov"](n,14).smallSize,t["\u0275nov"](n,14).toolbarAction,t["\u0275nov"](n,14).overflowMenu]),l(n,17,1,[t["\u0275nov"](n,18).baseClass,t["\u0275nov"](n,18).primaryButton,t["\u0275nov"](n,18).secondaryButton,t["\u0275nov"](n,18).tertiaryButton,t["\u0275nov"](n,18).ghostButton,t["\u0275nov"](n,18).dangerButton,t["\u0275nov"](n,18).dangerPrimaryButton,t["\u0275nov"](n,18).skeleton,t["\u0275nov"](n,18).smallSize,t["\u0275nov"](n,18).toolbarAction,t["\u0275nov"](n,18).overflowMenu])})}function il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-sap-material-filter",[],null,null,null,al,nl)),t["\u0275did"](1,114688,null,0,ll,[w.a,X,M.j,C.a],null,null)],function(l,n){l(n,1,0)},null)}var ul=t["\u0275ccf"]("app-sap-material-filter",ll,il,{},{},[]),ol=e("noyz"),rl=e("M+tS"),sl=e("3yNS"),dl=e("IcCv"),cl=e("A+V5"),ml=e("1V2r"),pl=e("gLoP"),gl=e("mEpm"),hl=e("i3NF"),bl=e("FNXg"),vl=e("1ZgJ"),fl=e("baZm"),yl=e("UDqP"),Cl=e("4y4f"),xl=e("XvC9"),Sl=e("kqF4"),_l=e("Amkq"),Pl=e("WeWU"),Ml=e("oljc"),wl=e("mrSG"),Al=e("qHnB"),Il=e("LvDl"),Nl=e.n(Il);class Ol{constructor(l,n,e){this.settingsService=l,this.toaster=n,this.sapService=e,this.endpoints=[],this.captureFrequencyItems=[],this.serviceQuery={},this.parametersList=[],this.onDetailsChange=new t.EventEmitter,this.cronSchedule={},this.dynamicPickListItems=[],this.showPicklistDropdown=!1,this.limit=100,this.showMasterDataValues=!1,this.data_source_placeholder="Enter Value",this.editableParams={param:"",data_type:"",value:""},this.isEditParam=!1,this.disabled=!1,this.monthDays=[],this.days=[{content:"Sunday",value:0,selected:!1},{content:"Monday",value:0,selected:!1},{content:"Tuesday",value:0,selected:!1},{content:"Wednesday",value:0,selected:!1},{content:"Thursday",value:0,selected:!1},{content:"Friday",value:0,selected:!1},{content:"Saturday",value:0,selected:!1}],this.hours=[],this.interval=[],this.minutes=[],this.period=[{content:"AM",selected:!1},{content:"PM",selected:!1}],this.dataTypes=[{content:"Text",value:"text",selected:!1},{content:"Start Date",value:"startdate",selected:!1},{content:"End Date",value:"enddate",selected:!1}],this.dataSource=[{content:"Enter Manually",value:"manually",selected:!1},{content:"Choose from Master Data",value:"masterData",selected:!1}]}ngOnInit(){return Object(wl.__awaiter)(this,void 0,void 0,function*(){this.addHours(),this.addHourlyDCFInterval(),this.addMinutes(),this.addMonthDays(),this.getEndpoints();let l=yield this.getCaptureFreqNew();l&&l.success&&(this.captureFrequencyItems=[],l.response.forEach(l=>{"Shift Wise"!=l.value&&this.captureFrequencyItems.push({content:l.value,id:l._id,selected:!1})}),this.setCronSchedule())})}addHours(){for(let l=1;l<=12;l++)this.hours.push({content:l<=9?"0"+l:""+l,selected:!1})}addHourlyDCFInterval(){for(let l=1;l<=24;l++)this.interval.push({content:"Every "+l+" hours",value:l,selected:!1})}addMinutes(){for(let l=0;l<=59;l++)this.minutes.push({content:l<=9?"0"+l:""+l,selected:!1})}addMonthDays(){for(let l=1;l<=28;l++)this.monthDays.push({content:l,selected:!1});this.monthDays.push({content:"Last Day Of Month",selected:!1})}ngOnChanges(){this.endpoints.forEach(l=>{l._id==this.serviceQuery.service_endpoint?(l.selected=!0,this.serviceQuery.service_endpoint=l):l.selected=!1})}onClickcapture(l){this.captureId=l.item.id,this.captureType=l.item.content,this.cronSchedule={}}onEndpointSelected(l){this.getRequest()}getCaptureFreqNew(){return Object(wl.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getCapturefrequency().toPromise()})}ifDatesAlreadyPresent(l){let n;for(let e=0;e<this.parametersList.length;e++)if(this.parametersList[e].data_type===l){n=!0;break}return n}onAddCode(){let l=Nl.a.cloneDeep(this.editableParams);l.data_type=l.data_type.value,l.param&&l.param.trim()?l.value&&l.value.trim()?l.data_type?"startdate"!==l.data_type&&"enddate"!==l.data_type||!this.ifDatesAlreadyPresent(l.data_type)?(l.deleteExistingResponseMapItems=!0,this.parametersList.push(l),this.resetParams(),this.getRequest()):this.toaster.error(`Parameters can not have more than one ${l.data_type}`):this.toaster.error(Z.a.SAP_MISSING_SERVICE_QUERY_DATA_TYPE_WARNING):this.toaster.error(Z.a.SAP_MISSING_SERVICE_QUERY_VALUE_WARNING):this.toaster.error(Z.a.SAP_MISSING_SERVICE_QUERY_NAME_WARNING)}editCode(l){this.editableParams=Nl.a.cloneDeep(this.parametersList[l]),this.editableParams.data_type=this.dataTypes.find(l=>l.value===this.editableParams.data_type),this.editableParams.data_type.selected=!0,this.editIndex=l,this.isEditParam=!0}updateCode(l){let n=Nl.a.cloneDeep(this.editableParams);n.data_type=n.data_type.value,this.parametersList[l]=n,this.isEditParam=!1,this.resetParams(),this.getRequest()}removeCode(l){this.parametersList.splice(l,1),this.getRequest()}resetParams(){this.editableParams={param:"",value:""},this.data_source_placeholder="Enter Value",this.showMasterDataValues=!1,this.showPicklistDropdown=!1}getEndpoints(){this.settingsService.getAllIntegrations().subscribe(l=>{l&&l.success&&(this.endpoints=l.response.map(({name:l,_id:n,url:e})=>({content:l,id:n,url:e,selected:n==this.serviceQuery.service_endpoint})))},l=>{})}getRequest(){this.onDetailsChange.emit({queryDetails:this.serviceQuery,service_query_params:this.parametersList,dataCaptureFrequency:this.captureId,cronSchedule:this.cronSchedule})}setCronSchedule(){this.captureFrequencyItems.forEach(l=>{l.id==this.serviceQuery.dataCaptureFrequency&&(l.selected=!0,this.captureType=l.content,this.serviceQuery.dataCaptureFrequency=l)}),this.captureFrequencyItems=[...this.captureFrequencyItems],this.hours.forEach(l=>{l.content==this.cronSchedule.hour&&(l.selected=!0,this.cronSchedule.hour=l)}),this.hours=[...this.hours],this.minutes.forEach(l=>{l.content==this.cronSchedule.minutes&&(l.selected=!0,this.cronSchedule.minutes=l)}),this.minutes=[...this.minutes],this.period.forEach(l=>{l.content==this.cronSchedule.period&&(l.selected=!0,this.cronSchedule.period=l)}),this.period=[...this.period],this.monthDays.forEach(l=>{l.content==this.cronSchedule.dayNumber&&(l.selected=!0,this.cronSchedule.dayNumber=l)}),this.monthDays=[...this.monthDays]}onClickDay(l){this.cronSchedule.dayNumber=l.item,this.getRequest()}onClickHour(l){this.cronSchedule.hour=l.item,this.getRequest()}onClickMinute(l){this.cronSchedule.minutes=l.item,this.getRequest()}onClickPeriod(l){this.cronSchedule.period=l.item,this.getRequest()}emitName(){this.sapService.sendMessage(this.serviceQuery.name)}onDataTypeSelected(l){console.log(l.item),this.editableParams.value="startdate"===l.item.value||"enddate"===l.item.value?"Date will be auto calculated during data fetch operations":""}onDataSourceSelected(l){this.showPicklistDropdown=!1,this.showMasterDataValues=!1,this.data_source=l.item.value,this.data_source_placeholder=l.item.content,this.dynamicPickListItems.forEach(l=>{l.selected=!1}),"masterData"===l.item.value&&this.getDynamicPicklistValues()}getDynamicPicklistValues(l){this.dynamicPickListItems=[],this.showMasterDataValues=!1;let n=null;l&&(n=l),this.settingsService.getPicklistMasterData(n,this.limit).subscribe(l=>{l.success&&l.response&&(this.dynamicPickListItems=l.response.masterDataMappingList.map(l=>(l.content=l.name,l.value=l._id,l)),this.showPicklistDropdown=!0)})}onMasterDataColumnSelected(l){this.selectedMasterDataCol=l.item._id,this.onSearchItem("",this.selectedMasterDataCol)}onMasterDataValueSelected(l){this.editableParams.value=l.item.content.toString()}onSearchItem(l,n){this.comboBoxItems=[],this.settingsService.getMasterDataForColumnID(l,n).subscribe(l=>{l&&l.success&&(this.comboBoxItems=l.response.map(l=>({content:l})),this.showMasterDataValues=!0)},l=>{this.comboBoxItems=[]})}}var Rl=t["\u0275crt"]({encapsulation:0,styles:[['.service-query-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:32px}.margin-right30[_ngcontent-%COMP%]{margin-right:30px}  .bx--dropdown{background-color:#f3f3f3!important}  .bx--col-lg-5{padding:0 24px 0 0!important}.title-text[_ngcontent-%COMP%]{color:#161616;font-family:"IBM Plex Sans";font-size:20px;letter-spacing:0;line-height:26px;font-weight:400;margin-bottom:20px}.margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.add-another[_ngcontent-%COMP%]{height:40px!important;width:40px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #fff;background-color:#fff}.update-another[_ngcontent-%COMP%]{height:40px!important;width:110px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #fff;background-color:#fff}.padding0[_ngcontent-%COMP%]{padding:0}.icon-white[_ngcontent-%COMP%]{fill:#e02020}']],data:{}});function El(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Interval"],["placeholder","Interval"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,4).onKeyDown(e)&&a),"ngModelChange"===n&&(a=!1!==(i.cronSchedule.interval=e)&&a),"selected"===n&&(a=!1!==i.onClickHour(e)&&a),a},ml.b,ml.a)),t["\u0275did"](4,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,3,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](7,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](9,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](11,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[3,4]],fl.a,null,[vl.a])],function(l,n){var e=n.component,t=l(n,2,0,2,2,2);l(n,1,0,"margin-right30",t),l(n,4,0,"Interval","Interval","single","true"),l(n,7,0,e.cronSchedule.interval),l(n,11,0,e.interval)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).columnClasses),l(n,3,0,t["\u0275nov"](n,4).hostClass,t["\u0275nov"](n,9).ngClassUntouched,t["\u0275nov"](n,9).ngClassTouched,t["\u0275nov"](n,9).ngClassPristine,t["\u0275nov"](n,9).ngClassDirty,t["\u0275nov"](n,9).ngClassValid,t["\u0275nov"](n,9).ngClassInvalid,t["\u0275nov"](n,9).ngClassPending)})}function Dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Day"],["placeholder","Day"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,4).onKeyDown(e)&&a),"ngModelChange"===n&&(a=!1!==(i.cronSchedule.dayNumber=e)&&a),"selected"===n&&(a=!1!==i.onClickDay(e)&&a),a},ml.b,ml.a)),t["\u0275did"](4,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,4,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](7,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](9,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](11,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[4,4]],fl.a,null,[vl.a])],function(l,n){var e=n.component,t=l(n,2,0,2,2,2);l(n,1,0,"margin-right30",t),l(n,4,0,"Day","Day","single","true"),l(n,7,0,e.cronSchedule.dayNumber),l(n,11,0,e.monthDays)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).columnClasses),l(n,3,0,t["\u0275nov"](n,4).hostClass,t["\u0275nov"](n,9).ngClassUntouched,t["\u0275nov"](n,9).ngClassTouched,t["\u0275nov"](n,9).ngClassPristine,t["\u0275nov"](n,9).ngClassDirty,t["\u0275nov"](n,9).ngClassValid,t["\u0275nov"](n,9).ngClassInvalid,t["\u0275nov"](n,9).ngClassPending)})}function Tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Day"],["placeholder","Day"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,4).onKeyDown(e)&&a),"ngModelChange"===n&&(a=!1!==(i.cronSchedule.dayNumber=e)&&a),"selected"===n&&(a=!1!==i.onClickDay(e)&&a),a},ml.b,ml.a)),t["\u0275did"](4,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,5,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](7,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](9,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](11,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[5,4]],fl.a,null,[vl.a])],function(l,n){var e=n.component,t=l(n,2,0,2,2,2);l(n,1,0,"margin-right30",t),l(n,4,0,"Day","Day","single","true"),l(n,7,0,e.cronSchedule.dayNumber),l(n,11,0,e.days)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).columnClasses),l(n,3,0,t["\u0275nov"](n,4).hostClass,t["\u0275nov"](n,9).ngClassUntouched,t["\u0275nov"](n,9).ngClassTouched,t["\u0275nov"](n,9).ngClassPristine,t["\u0275nov"](n,9).ngClassDirty,t["\u0275nov"](n,9).ngClassValid,t["\u0275nov"](n,9).ngClassInvalid,t["\u0275nov"](n,9).ngClassPending)})}function Fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Hour"],["placeholder","Hour"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,4).onKeyDown(e)&&a),"ngModelChange"===n&&(a=!1!==(i.cronSchedule.hour=e)&&a),"selected"===n&&(a=!1!==i.onClickHour(e)&&a),a},ml.b,ml.a)),t["\u0275did"](4,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,6,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](7,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](9,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](11,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[6,4]],fl.a,null,[vl.a])],function(l,n){var e=n.component,t=l(n,2,0,2,2,2);l(n,1,0,"margin-right30",t),l(n,4,0,"Hour","Hour","single","true"),l(n,7,0,e.cronSchedule.hour),l(n,11,0,e.hours)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).columnClasses),l(n,3,0,t["\u0275nov"](n,4).hostClass,t["\u0275nov"](n,9).ngClassUntouched,t["\u0275nov"](n,9).ngClassTouched,t["\u0275nov"](n,9).ngClassPristine,t["\u0275nov"](n,9).ngClassDirty,t["\u0275nov"](n,9).ngClassValid,t["\u0275nov"](n,9).ngClassInvalid,t["\u0275nov"](n,9).ngClassPending)})}function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Minute"],["placeholder","Minute"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,4).onKeyDown(e)&&a),"ngModelChange"===n&&(a=!1!==(i.cronSchedule.minutes=e)&&a),"selected"===n&&(a=!1!==i.onClickMinute(e)&&a),a},ml.b,ml.a)),t["\u0275did"](4,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,7,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](7,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](9,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](11,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[7,4]],fl.a,null,[vl.a])],function(l,n){var e=n.component,t=l(n,2,0,2,2,2);l(n,1,0,"margin-right30",t),l(n,4,0,"Minute","Minute","single","true"),l(n,7,0,e.cronSchedule.minutes),l(n,11,0,e.minutes)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).columnClasses),l(n,3,0,t["\u0275nov"](n,4).hostClass,t["\u0275nov"](n,9).ngClassUntouched,t["\u0275nov"](n,9).ngClassTouched,t["\u0275nov"](n,9).ngClassPristine,t["\u0275nov"](n,9).ngClassDirty,t["\u0275nov"](n,9).ngClassValid,t["\u0275nov"](n,9).ngClassInvalid,t["\u0275nov"](n,9).ngClassPending)})}function Vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Period"],["placeholder","Period"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,4).onKeyDown(e)&&a),"ngModelChange"===n&&(a=!1!==(i.cronSchedule.period=e)&&a),"selected"===n&&(a=!1!==i.onClickPeriod(e)&&a),a},ml.b,ml.a)),t["\u0275did"](4,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,8,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](7,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](9,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](11,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[8,4]],fl.a,null,[vl.a])],function(l,n){var e=n.component,t=l(n,2,0,2,2,2);l(n,1,0,"margin-right30",t),l(n,4,0,"Period","Period","single","true"),l(n,7,0,e.cronSchedule.period),l(n,11,0,e.period)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).columnClasses),l(n,3,0,t["\u0275nov"](n,4).hostClass,t["\u0275nov"](n,9).ngClassUntouched,t["\u0275nov"](n,9).ngClassTouched,t["\u0275nov"](n,9).ngClassPristine,t["\u0275nov"](n,9).ngClassDirty,t["\u0275nov"](n,9).ngClassValid,t["\u0275nov"](n,9).ngClassInvalid,t["\u0275nov"](n,9).ngClassPending)})}function Bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"tr",[["class","tr-margin-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,3,":svg:svg",[["class","margin-right-8"],["ibmIconEdit20",""],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(e.stopPropagation(),t=!1!==a.editCode(l.context.index)&&t),t},null,null)),t["\u0275did"](9,4210688,null,0,yl.a,[t.ElementRef],{title:[0,"title"]},null),(l()(),t["\u0275eld"](10,0,null,null,1,":svg:title",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Edit"])),(l()(),t["\u0275eld"](12,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconTrashCan20",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeCode(l.context.index)&&t),t},null,null)),t["\u0275did"](13,4210688,null,0,Cl.a,[t.ElementRef],null,null)],function(l,n){l(n,9,0,"Edit")},function(l,n){l(n,2,0,n.context.$implicit.param),l(n,4,0,n.context.$implicit.data_type),l(n,6,0,n.context.$implicit.value)})}function Ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,22,"div",[["class","bx--data-table-container common-table-container"],["data-table",""]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,21,"table",[["class","bx--data-table bx--data-table--sort "]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,17,"thead",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,16,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Parameter"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Parameter"])),(l()(),t["\u0275eld"](8,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Data Type"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Type"])),(l()(),t["\u0275eld"](12,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Value"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Value"])),(l()(),t["\u0275eld"](16,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Actions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Actions"])),(l()(),t["\u0275eld"](20,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Bl)),t["\u0275did"](22,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,22,0,n.component.parametersList)},null)}function Ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","margin-right30 grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"label",[["class","bx--label"],["style","margin-bottom: 8px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Master Data Column"])),(l()(),t["\u0275eld"](6,0,null,null,1,"app-e4-combo-box",[["class","f"],["placeholder","Select Pick List"],["style","width: 100%;"],["type","single"]],null,[[null,"onSearch"],[null,"onSelect"]],function(l,n,e){var t=!0,a=l.component;return"onSearch"===n&&(t=!1!==a.getDynamicPicklistValues(e)&&t),"onSelect"===n&&(t=!1!==a.onMasterDataColumnSelected({item:e})&&t),t},xl.b,xl.a)),t["\u0275did"](7,4964352,null,0,Sl.a,[t.ElementRef],{items:[0,"items"],placeholder:[1,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"})],function(l,n){var e=n.component,t=l(n,2,0,4,4,6);l(n,1,0,"margin-right30 grayed-box user-search-combo-box",t),l(n,7,0,e.dynamicPickListItems,"Select Pick List")},function(l,n){l(n,0,0,t["\u0275nov"](n,1).columnClasses)})}function Gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"label",[["class","bx--label"],["style","margin-bottom: 8px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Value"])),(l()(),t["\u0275eld"](6,0,null,null,1,"app-e4-combo-box",[["class","f"],["placeholder","Specify"],["type","single"]],null,[[null,"onSearch"],[null,"onSelect"]],function(l,n,e){var t=!0,a=l.component;return"onSearch"===n&&(t=!1!==a.onSearchItem(e,a.selectedMasterDataCol)&&t),"onSelect"===n&&(t=!1!==a.onMasterDataValueSelected({item:e})&&t),t},xl.b,xl.a)),t["\u0275did"](7,4964352,null,0,Sl.a,[t.ElementRef],{items:[0,"items"],placeholder:[1,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"})],function(l,n){var e=n.component,t=l(n,2,0,3,3,6);l(n,1,0,"grayed-box user-search-combo-box",t),l(n,7,0,e.comboBoxItems,"Specify")},function(l,n){l(n,0,0,t["\u0275nov"](n,1).columnClasses)})}function zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,_l.b,_l.a)),t["\u0275did"](4,1097728,null,0,Pl.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Value"])),(l()(),t["\u0275eld"](7,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter Value"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,i=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,9)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,9).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,9)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,9)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(i.editableParams.value=e)&&a),a},null,null)),t["\u0275did"](8,16384,null,0,Ml.a,[],null,null),t["\u0275did"](9,16384,null,0,K.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,K.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[K.DefaultValueAccessor]),t["\u0275did"](11,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](13,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null)],function(l,n){var e=n.component,t=l(n,2,0,4,4,6);l(n,1,0,"grayed-box user-search-combo-box",t),l(n,11,0,"startdate"===(null==e.editableParams?null:null==e.editableParams.data_type?null:e.editableParams.data_type.value)||"enddate"===(null==e.editableParams?null:null==e.editableParams.data_type?null:e.editableParams.data_type.value),e.editableParams.value)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).columnClasses),l(n,3,0,t["\u0275nov"](n,4).labelClass),l(n,7,1,[t["\u0275nov"](n,8).inputClass,t["\u0275nov"](n,8).invalid,t["\u0275nov"](n,8).skeleton,t["\u0275nov"](n,8).isLightTheme,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending])})}function ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),t["\u0275did"](1,4210688,null,0,g.a,[t.ElementRef],null,null)],null,null)}function Wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddCode()&&t),t},null,null))],null,null)}function Hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger update-another cursor-pointer pseudo-buttons"],["type","button"],["value","Update"]],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(t=!1!==a.updateCode(a.editIndex)&&t),t},null,null))],null,null)}function Ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,152,"div",[["class","service-query-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,33,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](2,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](3,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](4,0,null,null,1,"h5",[["class","title-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Service Query Details"])),(l()(),t["\u0275eld"](6,0,null,null,28,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](7,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](8,0,null,null,13,"div",[["class","margin-right30"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](9,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](10,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](11,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,_l.b,_l.a)),t["\u0275did"](12,1097728,null,0,Pl.a,[],null,null),(l()(),t["\u0275eld"](13,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Name of Service *"])),(l()(),t["\u0275eld"](15,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter Name"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,i=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,17)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,17).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,17)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,17)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(i.serviceQuery.name=e)&&a),"input"===n&&(a=!1!==i.emitName()&&a),a},null,null)),t["\u0275did"](16,16384,null,0,Ml.a,[],null,null),t["\u0275did"](17,16384,null,0,K.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,K.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[K.DefaultValueAccessor]),t["\u0275did"](19,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](21,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](22,0,null,null,12,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](23,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](24,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](25,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Service Endpoint *"],["placeholder","Select Endpoint"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,26).onKeyDown(e)&&a),"ngModelChange"===n&&(a=!1!==(i.serviceQuery.service_endpoint=e)&&a),"selected"===n&&(a=!1!==i.onEndpointSelected(e)&&a),a},ml.b,ml.a)),t["\u0275did"](26,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,1,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](29,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](31,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](32,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](33,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[1,4]],fl.a,null,[vl.a]),(l()(),t["\u0275eld"](35,0,null,null,17,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](36,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](37,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](38,0,null,null,14,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](39,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](40,0,null,null,12,"div",[["ibmCol",""],["style","padding: 0;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](41,81920,null,0,ol.a,[],null,null),(l()(),t["\u0275eld"](42,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,_l.b,_l.a)),t["\u0275did"](43,1097728,null,0,Pl.a,[],null,null),(l()(),t["\u0275eld"](44,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["SAP Service Link*"])),(l()(),t["\u0275eld"](46,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter Name"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,i=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,48)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,48).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,48)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,48)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(i.serviceQuery.service_resource=e)&&a),a},null,null)),t["\u0275did"](47,16384,null,0,Ml.a,[],null,null),t["\u0275did"](48,16384,null,0,K.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,K.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[K.DefaultValueAccessor]),t["\u0275did"](50,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](52,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](53,0,null,null,29,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](54,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](55,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](56,0,null,null,26,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](57,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](58,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](59,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](60,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](61,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Data Capture Frequency *"],["placeholder","Select"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,62).onKeyDown(e)&&a),"ngModelChange"===n&&(a=!1!==(i.serviceQuery.dataCaptureFrequency=e)&&a),"selected"===n&&(a=!1!==i.onClickcapture(e)&&a),a},ml.b,ml.a)),t["\u0275did"](62,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,2,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](65,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](67,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](68,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](69,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[2,4]],fl.a,null,[vl.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,El)),t["\u0275did"](72,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Dl)),t["\u0275did"](74,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Tl)),t["\u0275did"](76,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Fl)),t["\u0275did"](78,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,kl)),t["\u0275did"](80,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Vl)),t["\u0275did"](82,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](83,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](84,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](85,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](86,0,null,null,1,"h5",[["class","title-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Service Query Parameters"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Ll)),t["\u0275did"](89,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](90,0,null,null,52,"div",[["class","margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](91,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](92,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](93,0,null,null,28,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](94,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](95,0,null,null,13,"div",[["class","margin-right30 padding0"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](96,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](97,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](98,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,_l.b,_l.a)),t["\u0275did"](99,1097728,null,0,Pl.a,[],null,null),(l()(),t["\u0275eld"](100,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Parameter"])),(l()(),t["\u0275eld"](102,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Parameter Name"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,i=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,104)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,104).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,104)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,104)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(i.editableParams.param=e)&&a),a},null,null)),t["\u0275did"](103,16384,null,0,Ml.a,[],null,null),t["\u0275did"](104,16384,null,0,K.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,K.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[K.DefaultValueAccessor]),t["\u0275did"](106,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](108,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](109,0,null,null,12,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](110,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](111,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](112,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["label","Data Type"],["placeholder","Select Type"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,113).onKeyDown(e)&&a),"ngModelChange"===n&&(a=!1!==(i.editableParams.data_type=e)&&a),"selected"===n&&(a=!1!==i.onDataTypeSelected(e)&&a),a},ml.b,ml.a)),t["\u0275did"](113,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,9,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](116,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](118,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](119,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](120,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[9,4]],fl.a,null,[vl.a]),(l()(),t["\u0275eld"](122,0,null,null,20,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](123,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](124,0,null,null,12,"div",[["class","margin-right30 padding0 grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](125,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](126,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](127,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["label","Populate Value"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,128).onKeyDown(e)&&a),"ngModelChange"===n&&(a=!1!==(i.data_source=e)&&a),"selected"===n&&(a=!1!==i.onDataSourceSelected(e)&&a),a},ml.b,ml.a)),t["\u0275did"](128,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,10,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](131,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](133,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](134,0,null,0,2,"ibm-dropdown-list",[],null,[[null,"selected"]],function(l,n,e){var t=!0;return"selected"===n&&(t=!1!==l.component.onDataSourceSelected(e)&&t),t},bl.b,bl.a)),t["\u0275did"](135,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[10,4]],fl.a,null,[vl.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Ul)),t["\u0275did"](138,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Gl)),t["\u0275did"](140,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,zl)),t["\u0275did"](142,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](143,0,null,null,9,"div",[["class","margin-top-20 padding0"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](144,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](145,0,null,null,7,"div",[["ibmCol",""],["style","display: inline-flex;align-items: center;padding: 0;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](146,81920,null,0,ol.a,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ql)),t["\u0275did"](148,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Wl)),t["\u0275did"](150,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Hl)),t["\u0275did"](152,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component,t=l(n,3,0,8,8,12);l(n,2,0,t);var a=l(n,10,0,3,3,6);l(n,9,0,"margin-right30",a),l(n,19,0,e.serviceQuery.name);var i=l(n,24,0,4,4,6);l(n,23,0,"grayed-box user-search-combo-box",i),l(n,26,0,"Service Endpoint *","Select Endpoint","single","true"),l(n,29,0,e.serviceQuery.service_endpoint),l(n,33,0,e.endpoints);var u=l(n,37,0,5,5,10);l(n,36,0,u),l(n,41,0),l(n,50,0,!e.serviceQuery.modifySAPODATAEntity&&e.serviceQuery.hasOwnProperty("modifySAPODATAEntity"),e.serviceQuery.service_resource);var o=l(n,55,0,12,12,12);l(n,54,0,o);var r=l(n,60,0,2,2,4);l(n,59,0,"margin-right30",r),l(n,62,0,"Data Capture Frequency *","Select","single","true"),l(n,65,0,e.serviceQuery.dataCaptureFrequency),l(n,69,0,e.captureFrequencyItems),l(n,72,0,"Hourly"==e.captureType),l(n,74,0,"Monthly"==e.captureType||"Quarterly"==e.captureType||"Half Yearly"==e.captureType||"Yearly"==e.captureType),l(n,76,0,"Weekly"==e.captureType),l(n,78,0,"Daily"==e.captureType||"Weekly"==e.captureType||"Monthly"==e.captureType||"Quarterly"==e.captureType||"Half Yearly"==e.captureType||"Yearly"==e.captureType),l(n,80,0,"Daily"==e.captureType||"Weekly"==e.captureType||"Monthly"==e.captureType||"Quarterly"==e.captureType||"Half Yearly"==e.captureType||"Yearly"==e.captureType),l(n,82,0,"Daily"==e.captureType||"Weekly"==e.captureType||"Monthly"==e.captureType||"Quarterly"==e.captureType||"Half Yearly"==e.captureType||"Yearly"==e.captureType);var s=l(n,85,0,5,5,12);l(n,84,0,s),l(n,89,0,0!=e.parametersList.length);var d=l(n,92,0,8,8,12);l(n,91,0,"margin-top-20",d);var c=l(n,97,0,4,4,6);l(n,96,0,"margin-right30 padding0",c),l(n,106,0,e.editableParams.param);var m=l(n,111,0,4,4,6);l(n,110,0,"grayed-box user-search-combo-box",m),l(n,113,0,"Data Type","Select Type","single","true"),l(n,116,0,e.editableParams.data_type),l(n,120,0,e.dataTypes);var p=l(n,126,0,4,4,6);l(n,125,0,"margin-right30 padding0 grayed-box user-search-combo-box",p),l(n,128,0,"Populate Value",e.data_source_placeholder,"single","true"),l(n,131,0,e.data_source),l(n,135,0,e.dataSource),l(n,138,0,"masterData"===e.data_source&&!0===e.showPicklistDropdown),l(n,140,0,!0===e.showPicklistDropdown&&!0===e.showMasterDataValues),l(n,142,0,"manually"===e.data_source),l(n,146,0),l(n,148,0,!e.isEditParam),l(n,150,0,!e.isEditParam),l(n,152,0,e.isEditParam)},function(l,n){l(n,1,0,t["\u0275nov"](n,2).columnClasses),l(n,6,0,t["\u0275nov"](n,7).baseClass),l(n,8,0,t["\u0275nov"](n,9).columnClasses),l(n,11,0,t["\u0275nov"](n,12).labelClass),l(n,15,1,[t["\u0275nov"](n,16).inputClass,t["\u0275nov"](n,16).invalid,t["\u0275nov"](n,16).skeleton,t["\u0275nov"](n,16).isLightTheme,t["\u0275nov"](n,21).ngClassUntouched,t["\u0275nov"](n,21).ngClassTouched,t["\u0275nov"](n,21).ngClassPristine,t["\u0275nov"](n,21).ngClassDirty,t["\u0275nov"](n,21).ngClassValid,t["\u0275nov"](n,21).ngClassInvalid,t["\u0275nov"](n,21).ngClassPending]),l(n,22,0,t["\u0275nov"](n,23).columnClasses),l(n,25,0,t["\u0275nov"](n,26).hostClass,t["\u0275nov"](n,31).ngClassUntouched,t["\u0275nov"](n,31).ngClassTouched,t["\u0275nov"](n,31).ngClassPristine,t["\u0275nov"](n,31).ngClassDirty,t["\u0275nov"](n,31).ngClassValid,t["\u0275nov"](n,31).ngClassInvalid,t["\u0275nov"](n,31).ngClassPending),l(n,35,0,t["\u0275nov"](n,36).columnClasses),l(n,38,0,t["\u0275nov"](n,39).baseClass),l(n,40,0,t["\u0275nov"](n,41).columnClasses),l(n,42,0,t["\u0275nov"](n,43).labelClass),l(n,46,1,[t["\u0275nov"](n,47).inputClass,t["\u0275nov"](n,47).invalid,t["\u0275nov"](n,47).skeleton,t["\u0275nov"](n,47).isLightTheme,t["\u0275nov"](n,52).ngClassUntouched,t["\u0275nov"](n,52).ngClassTouched,t["\u0275nov"](n,52).ngClassPristine,t["\u0275nov"](n,52).ngClassDirty,t["\u0275nov"](n,52).ngClassValid,t["\u0275nov"](n,52).ngClassInvalid,t["\u0275nov"](n,52).ngClassPending]),l(n,53,0,t["\u0275nov"](n,54).columnClasses),l(n,56,0,t["\u0275nov"](n,57).baseClass),l(n,58,0,t["\u0275nov"](n,59).columnClasses),l(n,61,0,t["\u0275nov"](n,62).hostClass,t["\u0275nov"](n,67).ngClassUntouched,t["\u0275nov"](n,67).ngClassTouched,t["\u0275nov"](n,67).ngClassPristine,t["\u0275nov"](n,67).ngClassDirty,t["\u0275nov"](n,67).ngClassValid,t["\u0275nov"](n,67).ngClassInvalid,t["\u0275nov"](n,67).ngClassPending),l(n,83,0,t["\u0275nov"](n,84).columnClasses),l(n,90,0,t["\u0275nov"](n,91).columnClasses),l(n,93,0,t["\u0275nov"](n,94).baseClass),l(n,95,0,t["\u0275nov"](n,96).columnClasses),l(n,98,0,t["\u0275nov"](n,99).labelClass),l(n,102,1,[t["\u0275nov"](n,103).inputClass,t["\u0275nov"](n,103).invalid,t["\u0275nov"](n,103).skeleton,t["\u0275nov"](n,103).isLightTheme,t["\u0275nov"](n,108).ngClassUntouched,t["\u0275nov"](n,108).ngClassTouched,t["\u0275nov"](n,108).ngClassPristine,t["\u0275nov"](n,108).ngClassDirty,t["\u0275nov"](n,108).ngClassValid,t["\u0275nov"](n,108).ngClassInvalid,t["\u0275nov"](n,108).ngClassPending]),l(n,109,0,t["\u0275nov"](n,110).columnClasses),l(n,112,0,t["\u0275nov"](n,113).hostClass,t["\u0275nov"](n,118).ngClassUntouched,t["\u0275nov"](n,118).ngClassTouched,t["\u0275nov"](n,118).ngClassPristine,t["\u0275nov"](n,118).ngClassDirty,t["\u0275nov"](n,118).ngClassValid,t["\u0275nov"](n,118).ngClassInvalid,t["\u0275nov"](n,118).ngClassPending),l(n,122,0,t["\u0275nov"](n,123).baseClass),l(n,124,0,t["\u0275nov"](n,125).columnClasses),l(n,127,0,t["\u0275nov"](n,128).hostClass,t["\u0275nov"](n,133).ngClassUntouched,t["\u0275nov"](n,133).ngClassTouched,t["\u0275nov"](n,133).ngClassPristine,t["\u0275nov"](n,133).ngClassDirty,t["\u0275nov"](n,133).ngClassValid,t["\u0275nov"](n,133).ngClassInvalid,t["\u0275nov"](n,133).ngClassPending),l(n,143,0,t["\u0275nov"](n,144).baseClass),l(n,145,0,t["\u0275nov"](n,146).columnClasses)})}var Kl=e("tKJU"),jl=e("uUZD"),Yl=e("PsxR");class $l{constructor(l,n,e){this.toaster=l,this.settingsService=n,this.goalService=e,this.responseList=[],this.onMappingChange=new t.EventEmitter,this.editableParams={label:"",data_type:"",api_key:"",unitOfMeasurement:""},this.isEditParam=!1,this.unitOfMeasurementItems=[],this.dataTypes=[{content:"Number",value:"number",selected:!1},{content:"Text",value:"text",selected:!1},{content:"Date",value:"date",selected:!1},{content:"Date-Time",value:"datetime",selected:!1}]}ngOnInit(){return Object(wl.__awaiter)(this,void 0,void 0,function*(){this.setDataType();let l=yield this.getUnitofMeasurement();l&&l.success&&(this.unitOfMeasurementItems=l.response.map(({value:l,_id:n})=>({content:l,id:n})))})}getUOM(l){let n=(this.unitOfMeasurementItems||[]).find(n=>n.id===l);return n?n.content:""}ngOnChanges(){this.setDataType()}setDataType(){this.responseList.forEach(l=>{this.dataTypes.forEach(n=>{l.data_type==n.value&&(n.selected=!0,l.data_type=n)})})}onDataTypeSelected(l){this.editableParams.data_type=l.item}onAddCode(){if(this.editableParams.label)if(this.editableParams.data_type)if("Number"!==this.editableParams.data_type.content||this.editableParams.unitOfMeasurement)if(this.editableParams.api_key){if("datetime"===this.editableParams.data_type.value)for(let l=0;l<this.responseList.length;l++){let n=this.responseList[l];if("datetime"===n.data_type.value&&n.isTimeStamp)return void this.toaster.error(Z.a.SAP_SERVICE_RESPONSE_MORE_THAN_ONE_SAMPLE_DATE_TIME)}this.editableParams.deleteExistingResponseMapItems=!0,this.responseList.push(this.editableParams),this.resetParams()}else this.toaster.error(Z.a.SAP_SERVICE_RESPONSE_MAP_MISSING_KEY_WARNING);else this.toaster.error(Z.a.SAP_SERVICE_RESPONSE_MAP_UNIT_WARNING);else this.toaster.error(Z.a.SAP_SERVICE_RESPONSE_MAP_MISSING_DATA_TYPE_WARNING);else this.toaster.error(Z.a.SAP_SERVICE_RESPONSE_MAP_MISSING_LABEL_WARNING)}editCode(l){if(this.editableParams=this.responseList[l],this.editableParams.data_type.selected=!0,"number"==this.editableParams.data_type.value){let l=Nl.a.cloneDeep(this.unitOfMeasurementItems);this.unitOfMeasurementItems=[],setTimeout(()=>{l.forEach(l=>{l.selected=l.id==this.editableParams.unitOfMeasurement}),this.unitOfMeasurementItems=l},100)}this.editIndex=l,this.isEditParam=!0}updateCode(l){this.responseList[l]=this.editableParams,this.isEditParam=!1,this.resetParams()}removeCode(l){this.responseList.splice(l,1)}resetParams(){this.editableParams={label:"",data_type:"",api_key:"",unitOfMeasurement:""}}onMeasureSelected(l){this.editableParams.unitOfMeasurement=l.item.id}getUnitofMeasurement(){return this.goalService.getunitofMsrmnt().toPromise()}}var Xl=t["\u0275crt"]({encapsulation:0,styles:[['.service-query-container[_ngcontent-%COMP%]{margin-top:20px}.margin-right30[_ngcontent-%COMP%]{margin-right:30px}  .bx--dropdown{background-color:#f3f3f3!important}  .bx--col-lg-5{padding:0 24px 0 0!important}  .bx--col-lg-2{padding:0}.title-text[_ngcontent-%COMP%]{color:#161616;font-family:"IBM Plex Sans";font-size:20px;letter-spacing:0;line-height:26px;font-weight:400;margin-bottom:20px}.margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.add-another[_ngcontent-%COMP%]{height:40px!important;width:40px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #fff;background-color:#fff}.update-another[_ngcontent-%COMP%]{height:40px!important;width:80px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #fff;background-color:#fff}.padding0[_ngcontent-%COMP%]{padding:0}.icon-white[_ngcontent-%COMP%]{fill:#e02020}.common-table-container[_ngcontent-%COMP%]{max-height:400px;overflow-x:hidden;overflow-y:auto}']],data:{}});function Zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,":svg:svg",[["class","margin-right-8"],["ibmIconEdit20",""],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(e.stopPropagation(),t=!1!==a.editCode(l.parent.context.index)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,yl.a,[t.ElementRef],{title:[0,"title"]},null),(l()(),t["\u0275eld"](2,0,null,null,1,":svg:title",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Edit"]))],function(l,n){l(n,1,0,"Edit")},null)}function Jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,":svg:svg",[["class","close-icon"],["ibmIconTrashCan20",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeCode(l.parent.context.index)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,Cl.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](2,0,null,null,1,":svg:title",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Delete"]))],null,null)}function ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"tr",[["class","tr-margin-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),(l()(),t["\u0275eld"](11,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Zl)),t["\u0275did"](13,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Jl)),t["\u0275did"](15,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,13,0,n.context.$implicit.deleteExistingResponseMapItems),l(n,15,0,n.context.$implicit.deleteExistingResponseMapItems)},function(l,n){var e=n.component;l(n,2,0,n.context.$implicit.label),l(n,4,0,n.context.$implicit.data_type.content),l(n,6,0,n.context.$implicit.unitOfMeasurement?e.getUOM(n.context.$implicit.unitOfMeasurement):"-"),l(n,8,0,n.context.$implicit.api_key),l(n,10,0,n.context.$implicit.isTimeStamp?"Yes":"-")})}function nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,30,"div",[["class","bx--data-table-container common-table-container"],["data-table",""]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,29,"table",[["class","bx--data-table bx--data-table--sort "]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,25,"thead",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,24,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Label"])),(l()(),t["\u0275eld"](8,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Data Type"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Type"])),(l()(),t["\u0275eld"](12,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Unit of Measurement"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Unit of Measurement"])),(l()(),t["\u0275eld"](16,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","SAP Key Name"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["SAP Key Name"])),(l()(),t["\u0275eld"](20,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Data Sample Date & Time"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Sample Date & Time"])),(l()(),t["\u0275eld"](24,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Actions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Actions"])),(l()(),t["\u0275eld"](28,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ln)),t["\u0275did"](30,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,30,0,n.component.responseList)},null)}function en(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","grayed-box user-search-combo-box margin-right30"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Unit of measurement"],["placeholder","Select Type"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,5).onKeyDown(e)&&a),"selected"===n&&(a=!1!==i.onMeasureSelected(e)&&a),a},ml.b,ml.a)),t["\u0275prd"](5120,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](5,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,2,{view:0}),(l()(),t["\u0275eld"](7,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](8,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[2,4]],fl.a,null,[vl.a])],function(l,n){var e=n.component,t=l(n,2,0,2,2,3);l(n,1,0,"grayed-box user-search-combo-box margin-right30",t),l(n,5,0,"Unit of measurement","Select Type","single","true"),l(n,8,0,e.unitOfMeasurementItems)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).columnClasses),l(n,3,0,t["\u0275nov"](n,5).hostClass)})}function tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,6,"ibm-checkbox",[],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.component.editableParams.isTimeStamp=e)&&t),t},Kl.b,Kl.a)),t["\u0275did"](4,4243456,null,0,jl.a,[t.ChangeDetectorRef],null,null),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[jl.a]),t["\u0275did"](6,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](8,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275ted"](-1,0,["Consider this field as Data Sample Date & Time"]))],function(l,n){var e=n.component,t=l(n,2,0,2,2,2);l(n,1,0,"grayed-box user-search-combo-box",t),l(n,6,0,e.editableParams.isTimeStamp)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).columnClasses),l(n,3,0,t["\u0275nov"](n,4).checkboxWrapperClass,t["\u0275nov"](n,4).formItemClass,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending)})}function an(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),t["\u0275did"](1,4210688,null,0,g.a,[t.ElementRef],null,null)],null,null)}function un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddCode()&&t),t},null,null))],null,null)}function on(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger update-another cursor-pointer pseudo-buttons"],["type","button"],["value","Update"]],null,[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(t=!1!==a.updateCode(a.editIndex)&&t),t},null,null))],null,null)}function rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,60,"div",[["class","service-query-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,59,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](2,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](3,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](4,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](5,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](6,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[["class","title-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Response Map fields"])),(l()(),t["\u0275and"](16777216,null,null,1,null,nn)),t["\u0275did"](10,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](11,0,null,null,49,"div",[["class","margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](12,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](13,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](14,0,null,null,46,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](15,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](16,0,null,null,13,"div",[["class","margin-right30"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](17,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](18,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](19,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,_l.b,_l.a)),t["\u0275did"](20,1097728,null,0,Pl.a,[],null,null),(l()(),t["\u0275eld"](21,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Label"])),(l()(),t["\u0275eld"](23,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter Label"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,i=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,25)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,25).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,25)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,25)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(i.editableParams.label=e)&&a),a},null,null)),t["\u0275did"](24,16384,null,0,Ml.a,[],null,null),t["\u0275did"](25,16384,null,0,K.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,K.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[K.DefaultValueAccessor]),t["\u0275did"](27,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](29,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](30,0,null,null,12,"div",[["class","grayed-box user-search-combo-box margin-right30"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](31,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](32,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](33,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Data Type"],["placeholder","Select Type"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,34).onKeyDown(e)&&a),"ngModelChange"===n&&(a=!1!==(i.editableParams.data_type=e)&&a),"selected"===n&&(a=!1!==i.onDataTypeSelected(e)&&a),a},ml.b,ml.a)),t["\u0275did"](34,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,1,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](37,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](39,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](40,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](41,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[1,4]],fl.a,null,[vl.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,en)),t["\u0275did"](44,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](45,0,null,null,13,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](46,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](47,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](48,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,_l.b,_l.a)),t["\u0275did"](49,1097728,null,0,Pl.a,[],null,null),(l()(),t["\u0275eld"](50,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["SAP Key Name"])),(l()(),t["\u0275eld"](52,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter api key"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,i=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,54)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,54).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,54)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,54)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(i.editableParams.api_key=e)&&a),a},null,null)),t["\u0275did"](53,16384,null,0,Ml.a,[],null,null),t["\u0275did"](54,16384,null,0,K.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,K.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[K.DefaultValueAccessor]),t["\u0275did"](56,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](58,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,tn)),t["\u0275did"](60,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](61,0,null,null,9,"div",[["class","margin-top-20 padding0"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](62,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](63,0,null,null,7,"div",[["ibmCol",""],["style","display: inline-flex;align-items: center;padding: 0;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](64,81920,null,0,ol.a,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,an)),t["\u0275did"](66,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](68,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,on)),t["\u0275did"](70,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component,t=l(n,3,0,12,12,12);l(n,2,0,t);var a=l(n,6,0,6,6,12);l(n,5,0,a),l(n,10,0,0!=e.responseList.length);var i=l(n,13,0,12,12,12);l(n,12,0,"margin-top-20",i);var u=l(n,18,0,2,2,3);l(n,17,0,"margin-right30",u),l(n,27,0,e.editableParams.label);var o=l(n,32,0,2,2,3);l(n,31,0,"grayed-box user-search-combo-box margin-right30",o),l(n,34,0,"Data Type","Select Type","single","true"),l(n,37,0,e.editableParams.data_type),l(n,41,0,e.dataTypes),l(n,44,0,"number"==e.editableParams.data_type.value);var r=l(n,47,0,2,2,2);l(n,46,0,"grayed-box user-search-combo-box",r),l(n,56,0,e.editableParams.api_key),l(n,60,0,"datetime"==e.editableParams.data_type.value),l(n,64,0),l(n,66,0,!e.isEditParam),l(n,68,0,!e.isEditParam),l(n,70,0,e.isEditParam)},function(l,n){l(n,1,0,t["\u0275nov"](n,2).columnClasses),l(n,4,0,t["\u0275nov"](n,5).columnClasses),l(n,11,0,t["\u0275nov"](n,12).columnClasses),l(n,14,0,t["\u0275nov"](n,15).baseClass),l(n,16,0,t["\u0275nov"](n,17).columnClasses),l(n,19,0,t["\u0275nov"](n,20).labelClass),l(n,23,1,[t["\u0275nov"](n,24).inputClass,t["\u0275nov"](n,24).invalid,t["\u0275nov"](n,24).skeleton,t["\u0275nov"](n,24).isLightTheme,t["\u0275nov"](n,29).ngClassUntouched,t["\u0275nov"](n,29).ngClassTouched,t["\u0275nov"](n,29).ngClassPristine,t["\u0275nov"](n,29).ngClassDirty,t["\u0275nov"](n,29).ngClassValid,t["\u0275nov"](n,29).ngClassInvalid,t["\u0275nov"](n,29).ngClassPending]),l(n,30,0,t["\u0275nov"](n,31).columnClasses),l(n,33,0,t["\u0275nov"](n,34).hostClass,t["\u0275nov"](n,39).ngClassUntouched,t["\u0275nov"](n,39).ngClassTouched,t["\u0275nov"](n,39).ngClassPristine,t["\u0275nov"](n,39).ngClassDirty,t["\u0275nov"](n,39).ngClassValid,t["\u0275nov"](n,39).ngClassInvalid,t["\u0275nov"](n,39).ngClassPending),l(n,45,0,t["\u0275nov"](n,46).columnClasses),l(n,48,0,t["\u0275nov"](n,49).labelClass),l(n,52,1,[t["\u0275nov"](n,53).inputClass,t["\u0275nov"](n,53).invalid,t["\u0275nov"](n,53).skeleton,t["\u0275nov"](n,53).isLightTheme,t["\u0275nov"](n,58).ngClassUntouched,t["\u0275nov"](n,58).ngClassTouched,t["\u0275nov"](n,58).ngClassPristine,t["\u0275nov"](n,58).ngClassDirty,t["\u0275nov"](n,58).ngClassValid,t["\u0275nov"](n,58).ngClassInvalid,t["\u0275nov"](n,58).ngClassPending]),l(n,61,0,t["\u0275nov"](n,62).baseClass),l(n,63,0,t["\u0275nov"](n,64).columnClasses)})}var sn=e("jGGp"),dn=e("TXHj");class cn{constructor(l){this.sapService=l,this.serviceQuery={},this.parametersList=[],this.responseList=[],this.displayColumn=[],this.tableData=[],this.isLoading=!1,this.loadedByMe=!1,this.sapFormName=""}ngOnInit(){this.subscription=this.sapService.getMessage().subscribe(l=>{this.sapFormName=l})}ngOnChanges(l){this.sapFormName=this.serviceQuery.name?this.serviceQuery.name+" - Form":""}testConnection(l){this.sapService.testConnectionData(l).subscribe(l=>{if(l&&l.response&&l.response.length){let n=Object.keys(l.response[0]);this.displayColumn=n,this.tableData=l.response,this.isLoading=!1}else this.isLoading=!1},l=>{this.isLoading=!1})}refresh(){if(this.loadedByMe=!0,this.serviceQuery&&this.responseList.length){this.isLoading=!0,this.tableData=[];let l=this.responseList&&this.responseList.map(l=>({label:l.label,data_type:l.data_type.value,api_key:l.api_key,unitOfMeasurement:"number"===l.data_type.value?l.unitOfMeasurement?l.unitOfMeasurement:"":void 0}));this.parametersList.forEach(l=>{delete l.deleteExistingResponseMapItems}),this.testConnection({service_endpoint:this.serviceQuery.service_endpoint.id,service_resource:this.serviceQuery.service_resource,service_query_params:this.parametersList,service_response_map:l})}}}var mn=t["\u0275crt"]({encapsulation:0,styles:[['.service-query-container[_ngcontent-%COMP%]{margin-top:40px}.margin-right30[_ngcontent-%COMP%]{margin-right:30px}.margin-top20[_ngcontent-%COMP%]{margin-top:20px}  .bx--dropdown{background-color:#f3f3f3!important}  .bx--col-lg-5{padding:0 24px 0 0!important}.title-text[_ngcontent-%COMP%]{color:#161616;font-family:"IBM Plex Sans";font-size:20px;letter-spacing:0;line-height:26px;font-weight:400;margin-bottom:20px}.no-result-text[_ngcontent-%COMP%]{font-size:16px;font-family:"IBM Plex Sans";color:#171717;line-height:16px}.renew-icon[_ngcontent-%COMP%]{fill:#e02020;margin-left:5px;margin-top:5px}']],data:{}});function pn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Metric Name"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""]))],null,function(l,n){l(n,3,0,n.context.$implicit)})}function gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,16777216,null,null,1,null,null,null,null,null,null,null)),t["\u0275did"](1,540672,null,0,S.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){l(n,1,0,t["\u0275nov"](n.parent,34))},null)}function hn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,16777216,null,null,1,null,null,null,null,null,null,null)),t["\u0275did"](1,540672,null,0,S.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){l(n,1,0,t["\u0275nov"](n.parent,32))},null)}function bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,16777216,null,null,1,null,null,null,null,null,null,null)),t["\u0275did"](1,540672,null,0,S.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){l(n,1,0,t["\u0275nov"](n.parent,33))},null)}function vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit[n.context.$implicit])})}function fn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"tr",[["class","tr-margin-1"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,vn)),t["\u0275did"](2,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.displayColumn)},null)}function yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,fn)),t["\u0275did"](2,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.tableData)},null)}function Cn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","no-result-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" There is an error connecting with the service. Please check the parameters and try again. If the problem persists then contact 4E Support Team.Thank you. "]))],null,null)}function xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text "]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"],["title","Loading"]],[[2,"bx--loading-overlay",null]],null,null,sn.b,sn.a)),t["\u0275did"](2,49152,null,0,dn.a,[gl.a],{title:[0,"title"],size:[1,"size"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."]))],function(l,n){l(n,2,0,"Loading","sm")},function(l,n){l(n,1,0,t["\u0275nov"](n,2).overlay)})}function Sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,32,"div",[["class","service-query-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,30,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](2,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](3,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](4,0,null,null,27,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](5,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](6,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](7,0,null,null,5,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](8,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](9,0,null,null,1,"h5",[["class","title-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Test SAP Connection"])),(l()(),t["\u0275eld"](11,0,null,null,1,":svg:svg",[["class","renew-icon"],["ibmIconRenew20",""],["title","Refresh"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.refresh()&&t),t},null,null)),t["\u0275did"](12,4210688,null,0,z.a,[t.ElementRef],{title:[0,"title"]},null),(l()(),t["\u0275eld"](13,0,null,null,6,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](14,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](15,0,null,null,4,"small",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["The SAP form "])),(l()(),t["\u0275eld"](17,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](18,null,["",""])),(l()(),t["\u0275ted"](-1,null,[" created via this configuration will look like the following"])),(l()(),t["\u0275eld"](20,0,null,null,11,"div",[["class","common-table-container margin-top20"],["data-table",""]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,10,"table",[["class","bx--data-table bx--data-table--sort "]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,3,"thead",[],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,pn)),t["\u0275did"](25,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,gn)),t["\u0275did"](27,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,hn)),t["\u0275did"](29,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,bn)),t["\u0275did"](31,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,[["result",2]],null,0,null,yn)),(l()(),t["\u0275and"](0,[["noresults",2]],null,0,null,Cn)),(l()(),t["\u0275and"](0,[["loading",2]],null,0,null,xn))],function(l,n){var e=n.component,t=l(n,3,0,12,12,12);l(n,2,0,t);var a=l(n,6,0,12,12,12);l(n,5,0,a),l(n,12,0,"Refresh"),l(n,25,0,e.displayColumn),l(n,27,0,e.isLoading),l(n,29,0,e.tableData&&e.tableData.length&&e.displayColumn&&e.displayColumn.length&&e.loadedByMe&&!e.isLoading),l(n,31,0,!(e.tableData&&e.tableData.length&&e.displayColumn&&e.displayColumn.length)&&e.loadedByMe&&!e.isLoading)},function(l,n){var e=n.component;l(n,1,0,t["\u0275nov"](n,2).columnClasses),l(n,4,0,t["\u0275nov"](n,5).columnClasses),l(n,7,0,t["\u0275nov"](n,8).baseClass),l(n,13,0,t["\u0275nov"](n,14).baseClass),l(n,18,0,e.sapFormName)})}var _n=e("FS8H"),Pn=e("X/pD");class Mn{constructor(l,n,e,a){this.goalService=l,this.settingsService=n,this.homeService=e,this.sapService=a,this.onPermissionChange=new t.EventEmitter,this.permissions=[],this.serviceQuery={},this.selectedViewersArray=[{employeeId:"",userName:"",departmentName:"",read:!1,edit:!1,fill:!1}],this.selectedManualSyncUsersArray=[{employeeId:"",userName:"",departmentName:""}],this.selectedDepartmentsArray=[{departmentId:"",name:"",read:!1,edit:!1,fill:!1}],this.selectedGroupsArray=[{groupId:"",name:"",read:!1,edit:!1,fill:!1}],this.usersArray=[],this.manualSyncUsersArray=[],this.departmentsArray=[],this.groupsArray=[],this.allUsers={read:!1,edit:!1,fill:!1},this.searchedUsers=[{content:"Search user to select."}],this.searchedManualSyncUsers=[{content:"Search user to select."}],this.searchedDepartments=[{content:"Search department to select."}],this.searchedGroups=[{content:"Search groups to select."}],this.sapFormName=""}ngOnInit(){this.subscription=this.sapService.getMessage().subscribe(l=>{this.sapFormName=this.serviceQuery.name?this.serviceQuery.name+" - Form":""})}ngOnChanges(){this.sapFormName=this.serviceQuery.name?this.serviceQuery.name+" - Form":"",this.isAddMode||(this.permissions.users&&(this.usersArray=[],this.permissions.users.forEach((l,n)=>{null==this.selectedViewersArray[n]&&this.onAddViewUser(),this.selectedViewersArray[n].employeeId=l.employeeId,this.selectedViewersArray[n].departmentName=null,this.selectedViewersArray[n].userName=l.firstname+" "+l.lastname,this.selectedViewersArray[n].read=l.read,this.selectedViewersArray[n].edit=l.edit,this.selectedViewersArray[n].fill=l.fill,this.onUserAdd(),this.usersArray[n].employeeId=l.employeeId,this.usersArray[n].firstname=l.firstname,this.usersArray[n].lastname=l.lastname,this.usersArray[n].read=l.read,this.usersArray[n].edit=l.edit,this.usersArray[n].fill=l.fill})),this.permissions.usersWithManualSyncPermission&&(this.manualSyncUsersArray=[],this.permissions.usersWithManualSyncPermission.forEach((l,n)=>{null==this.selectedManualSyncUsersArray[n]&&this.onAddSyncUser(),this.selectedManualSyncUsersArray[n].employeeId=l.employeeId,this.selectedManualSyncUsersArray[n].departmentName=null,this.selectedManualSyncUsersArray[n].userName=l.firstname+" "+l.lastname,this.onSyncUserAdd(),this.manualSyncUsersArray[n].employeeId=l.employeeId,this.manualSyncUsersArray[n].firstname=l.firstname,this.manualSyncUsersArray[n].lastname=l.lastname})),this.permissions.departments&&(this.departmentsArray=[],this.permissions.departments.forEach((l,n)=>{null==this.selectedDepartmentsArray[n]&&this.onAddDepartment(),this.selectedDepartmentsArray[n].departmentId=l.departmentId,this.selectedDepartmentsArray[n].name=l.name,this.selectedDepartmentsArray[n].read=l.read,this.selectedDepartmentsArray[n].edit=l.edit,this.selectedDepartmentsArray[n].fill=l.fill,this.onDepartmentAdd(),this.departmentsArray[n].departmentId=l.departmentId,this.departmentsArray[n].name=l.name,this.departmentsArray[n].read=l.read,this.departmentsArray[n].edit=l.edit,this.departmentsArray[n].fill=l.fill})),this.permissions.groups&&(this.groupsArray=[],this.permissions.groups.forEach((l,n)=>{null==this.selectedGroupsArray[n]&&this.onAddGroup(),this.selectedGroupsArray[n].groupId=l.groupId,this.selectedGroupsArray[n].name=l.name,this.selectedGroupsArray[n].read=l.read,this.selectedGroupsArray[n].edit=l.edit,this.selectedGroupsArray[n].fill=l.fill,this.onGroupAdd(),this.groupsArray[n].groupId=l.groupId,this.groupsArray[n].name=l.name,this.groupsArray[n].read=l.read,this.groupsArray[n].edit=l.edit,this.groupsArray[n].fill=l.fill})),(this.permissions.all.read||this.permissions.all.edit)&&(this.allUsers.read=this.permissions.all.read,this.allUsers.edit=this.permissions.all.edit),this.emitPermissionEvent())}onSearchUser(l,n,e){this.searchedUsers=[],this.selectedViewersArray[e].employeeId=null,this.selectedViewersArray[e].departmentName=null,this.selectedViewersArray[e].userName=l,this.goalService.getUsers(l,!1,n).subscribe(l=>{this.searchedUsers=l.response.map((l,n)=>(l.content=l.firstname+" "+l.lastname,l.id=l.employeeId,l))},l=>{console.log(l)})}onSearchUserSync(l,n,e){this.searchedManualSyncUsers=[],this.selectedManualSyncUsersArray[e].employeeId=null,this.selectedManualSyncUsersArray[e].departmentName=null,this.selectedManualSyncUsersArray[e].userName=l,this.goalService.getUsers(l,!1,n).subscribe(l=>{this.searchedManualSyncUsers=l.response.map((l,n)=>(l.content=l.firstname+" "+l.lastname,l.id=l.employeeId,l))},l=>{console.log(l)})}onSearchDepartment(l,n,e){this.searchedDepartments=[],this.selectedDepartmentsArray[e].departmentId=null,this.selectedDepartmentsArray[e].name=l,this.settingsService.getDepartments(l).subscribe(l=>{l&&l.success&&(this.searchedDepartments=l.response.map((l,n)=>(l.content=l.name,l.id=l.id,l)))},l=>{console.log(l)})}onSearchGroup(l,n,e){this.searchedGroups=[],this.selectedGroupsArray[e].groupId=null,this.selectedGroupsArray[e].name=l,this.homeService.searchGroups(l).subscribe(l=>{l&&l.success&&l.response.forEach(l=>{l.isActive&&(l.content=l.name,l.id=l.id,this.searchedGroups.push(l))})},l=>{console.log(l)})}onUserAdd(){this.usersArray.push({employeeId:"",userName:"",firstname:"",lastname:"",departmentName:"",read:!1,edit:!1,fill:!1})}onSyncUserAdd(){this.manualSyncUsersArray.push({employeeId:"",userName:"",firstname:"",lastname:"",departmentName:"",read:!1,edit:!1,fill:!1})}onDepartmentAdd(){this.departmentsArray.push({departmentId:"",name:"",read:!1,edit:!1,fill:!1})}onGroupAdd(){this.groupsArray.push({groupId:"",name:"",read:!1,edit:!1,fill:!1})}onAddViewUser(){this.selectedViewersArray.push({employeeId:"",userName:"",firstname:"",lastname:"",departmentName:"",read:!1,edit:!1,fill:!1})}onAddSyncUser(){this.selectedManualSyncUsersArray.push({employeeId:"",userName:"",firstname:"",lastname:"",departmentName:""})}onAddDepartment(){this.selectedDepartmentsArray.push({departmentId:"",name:"",read:!1,edit:!1,fill:!1})}onAddGroup(){this.selectedGroupsArray.push({groupId:"",name:"",read:!1,edit:!1,fill:!1})}onSelectedViewUser(l,n){l.id&&!this.checkIfAlreadySelected(this.selectedViewersArray,l.id)?(this.selectedViewersArray[n].firstname=l.firstname,this.selectedViewersArray[n].lastname=l.lastname,this.selectedViewersArray[n].userName=l.content,this.selectedViewersArray[n].employeeId=l.id,this.selectedViewersArray[n].departmentName=l.departmentName,this.onUserAdd(),this.usersArray[n].employeeId=l.employeeId,this.usersArray[n].firstname=l.firstname,this.usersArray[n].lastname=l.lastname,this.usersArray[n].read=!0,this.usersArray[n].edit=l.edit||!1,this.emitPermissionEvent()):alert("User already selected.")}onSelectedViewUserManualSync(l,n){l.id&&!this.checkIfAlreadySelected(this.selectedManualSyncUsersArray,l.id)?(this.selectedManualSyncUsersArray[n].firstname=l.firstname,this.selectedManualSyncUsersArray[n].lastname=l.lastname,this.selectedManualSyncUsersArray[n].userName=l.content,this.selectedManualSyncUsersArray[n].employeeId=l.id,this.selectedManualSyncUsersArray[n].departmentName=l.departmentName,this.onSyncUserAdd(),this.manualSyncUsersArray[n].employeeId=l.employeeId,this.manualSyncUsersArray[n].firstname=l.firstname,this.manualSyncUsersArray[n].lastname=l.lastname,this.emitPermissionEvent()):alert("User already selected.")}onSelectedDepartment(l,n){l.id&&!this.checkIfDepartmentIsAlreadySelected(this.selectedDepartmentsArray,l.id)?(this.selectedDepartmentsArray[n].name=l.name,this.selectedDepartmentsArray[n].departmentId=l.id,this.onDepartmentAdd(),this.departmentsArray[n].name=l.name,this.departmentsArray[n].departmentId=l.id,this.departmentsArray[n].read=!0,this.departmentsArray[n].edit=l.edit||!1,this.emitPermissionEvent()):alert("Department already selected.")}onSelectedGroup(l,n){l.id&&!this.checkIfGroupIsAlreadySelected(this.selectedGroupsArray,l.id)?(this.selectedGroupsArray[n].name=l.name,this.selectedGroupsArray[n].groupId=l.id,this.onGroupAdd(),this.groupsArray[n].name=l.name,this.groupsArray[n].groupId=l.id,this.groupsArray[n].read=!0,this.groupsArray[n].edit=l.edit||!1,this.emitPermissionEvent()):alert("Group already selected")}onReadSelect(l,n){this.selectedViewersArray[n].read=l.checked,this.usersArray[n].read=l.checked,this.emitPermissionEvent()}onDepartmentReadSelect(l,n){this.selectedDepartmentsArray[n].read=l.checked,this.departmentsArray[n].read=l.checked,this.emitPermissionEvent()}onGroupReadSelect(l,n){this.selectedGroupsArray[n].read=l.checked,this.groupsArray[n].read=l.checked,this.emitPermissionEvent()}onEditSelect(l,n){this.selectedViewersArray[n].edit=l.checked,this.usersArray[n].edit=l.checked,this.emitPermissionEvent()}onDepartmentEditSelect(l,n){this.selectedDepartmentsArray[n].edit=l.checked,this.departmentsArray[n].edit=l.checked,this.emitPermissionEvent()}onGroupEditSelect(l,n){this.selectedGroupsArray[n].edit=l.checked,this.groupsArray[n].edit=l.checked,this.emitPermissionEvent()}onallReadSelect(l){this.allUsers.read=l.checked,this.emitPermissionEvent()}emitPermissionEvent(){this.onPermissionChange.emit({manualSyncPermission:this.manualSyncUsersArray,users:this.usersArray,departments:this.departmentsArray,groups:this.groupsArray,all:this.allUsers})}checkIfAlreadySelected(l,n){return l.findIndex(l=>l.employeeId===n)>-1}checkIfDepartmentIsAlreadySelected(l,n){return l.findIndex(l=>l.departmentId===n)>-1}checkIfGroupIsAlreadySelected(l,n){return l.findIndex(l=>l.groupId===n)>-1}removeViewer(l){this.selectedViewersArray.splice(l,1),this.usersArray.splice(l,1),this.emitPermissionEvent()}removeSyncUser(l){this.selectedManualSyncUsersArray.splice(l,1),this.manualSyncUsersArray.splice(l,1),this.emitPermissionEvent()}removeDepartment(l){this.selectedDepartmentsArray.splice(l,1),this.departmentsArray.splice(l,1),this.emitPermissionEvent()}removeGroup(l){this.selectedGroupsArray.splice(l,1),this.groupsArray.splice(l,1),this.emitPermissionEvent()}onApproverSelect(l,n){this.selectedViewersArray.forEach(l=>{l.isApprover=!1}),this.usersArray.forEach(l=>{l.isApprover=!1}),this.selectedViewersArray[n].isApprover=l.checked,this.usersArray[n].isApprover=l.checked,l.checked&&(this.selectedViewersArray[n].read=l.checked,this.usersArray[n].read=l.checked),this.emitPermissionEvent()}}var wn=t["\u0275crt"]({encapsulation:0,styles:[['.add-another[_ngcontent-%COMP%]{height:40px!important;width:126px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #e02020;background-color:#fff}.margin-top-30[_ngcontent-%COMP%]{margin-top:30px}.combo-container[_ngcontent-%COMP%]{flex:1;align-items:center}.anyone-who-has[_ngcontent-%COMP%]{margin-left:5px;opacity:.8;color:#171717;font-family:"IBM Plex Sans";font-size:12px;letter-spacing:.14px;line-height:18px}.all-users-read[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-left:8px}.margin-left-8[_ngcontent-%COMP%]{margin-left:8px}.fill-the-form[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.margin-top-48[_ngcontent-%COMP%]{margin-top:48px}.margin-left-5[_ngcontent-%COMP%]{margin-left:5px}.bx--grid[_ngcontent-%COMP%]{padding:0}.margin-bottom-20[_ngcontent-%COMP%]{margin-bottom:20px}']],data:{}});function An(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function In(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","display: flex;align-items: center;margin-bottom: 12px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["class","combo-container"],["isDependent","true"]],null,[[null,"onSearch"],[null,"onSelect"]],function(l,n,e){var t=!0,a=l.component;return"onSearch"===n&&(t=!1!==a.onSearchUserSync(e,"viewer",l.context.index)&&t),"onSelect"===n&&(t=!1!==a.onSelectedViewUserManualSync(e,l.context.index)&&t),t},xl.b,xl.a)),t["\u0275did"](6,4964352,null,0,Sl.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"]},{onSearch:"onSearch",onSelect:"onSelect"}),(l()(),t["\u0275eld"](7,0,null,null,4,"div",[["style","flex: 1;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,An)),t["\u0275did"](9,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeSyncUser(l.context.index)&&t),t},null,null)),t["\u0275did"](11,4210688,null,0,_n.a,[t.ElementRef],null,null)],function(l,n){var e=n.component,t=l(n,4,0,12,12,12);l(n,3,0,"user-search-combo-box",t),l(n,6,0,e.searchedManualSyncUsers,"true",n.context.$implicit.userName),l(n,9,0,null!=n.context.$implicit.employeeId&&""!=n.context.$implicit.employeeId)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).baseClass),l(n,2,0,t["\u0275nov"](n,3).columnClasses)})}function Nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function On(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","display: flex;align-items: center;margin-bottom: 12px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["class","combo-container"],["isDependent","true"]],null,[[null,"onSearch"],[null,"onSelect"]],function(l,n,e){var t=!0,a=l.component;return"onSearch"===n&&(t=!1!==a.onSearchUser(e,"viewer",l.context.index)&&t),"onSelect"===n&&(t=!1!==a.onSelectedViewUser(e,l.context.index)&&t),t},xl.b,xl.a)),t["\u0275did"](6,4964352,null,0,Sl.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"]},{onSearch:"onSearch",onSelect:"onSelect"}),(l()(),t["\u0275eld"](7,0,null,null,4,"div",[["style","flex: 1;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Nn)),t["\u0275did"](9,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeViewer(l.context.index)&&t),t},null,null)),t["\u0275did"](11,4210688,null,0,_n.a,[t.ElementRef],null,null)],function(l,n){var e=n.component,t=l(n,4,0,12,12,12);l(n,3,0,"user-search-combo-box",t),l(n,6,0,e.searchedUsers,"true",n.context.$implicit.userName),l(n,9,0,null!=n.context.$implicit.employeeId&&""!=n.context.$implicit.employeeId)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).baseClass),l(n,2,0,t["\u0275nov"](n,3).columnClasses)})}function Rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function En(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","display: flex;align-items: center;margin-bottom: 12px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["class","combo-container"],["isDependent","true"],["placeholder","Search Department"]],null,[[null,"onSearch"],[null,"onSelect"]],function(l,n,e){var t=!0,a=l.component;return"onSearch"===n&&(t=!1!==a.onSearchDepartment(e,"viewer",l.context.index)&&t),"onSelect"===n&&(t=!1!==a.onSelectedDepartment(e,l.context.index)&&t),t},xl.b,xl.a)),t["\u0275did"](6,4964352,null,0,Sl.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"}),(l()(),t["\u0275eld"](7,0,null,null,4,"div",[["style","flex: 1;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Rn)),t["\u0275did"](9,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeDepartment(l.context.index)&&t),t},null,null)),t["\u0275did"](11,4210688,null,0,_n.a,[t.ElementRef],null,null)],function(l,n){var e=n.component,t=l(n,4,0,12,12,12);l(n,3,0,"user-search-combo-box",t),l(n,6,0,e.searchedDepartments,"true",n.context.$implicit.name,"Search Department"),l(n,9,0,null!=n.context.$implicit.departmentId&&""!=n.context.$implicit.departmentId)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).baseClass),l(n,2,0,t["\u0275nov"](n,3).columnClasses)})}function Dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","display: flex;align-items: center;margin-bottom: 12px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["class","combo-container"],["isDependent","true"],["placeholder","Search Group"]],null,[[null,"onSearch"],[null,"onSelect"]],function(l,n,e){var t=!0,a=l.component;return"onSearch"===n&&(t=!1!==a.onSearchGroup(e,"viewer",l.context.index)&&t),"onSelect"===n&&(t=!1!==a.onSelectedGroup(e,l.context.index)&&t),t},xl.b,xl.a)),t["\u0275did"](6,4964352,null,0,Sl.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"}),(l()(),t["\u0275eld"](7,0,null,null,4,"div",[["style","flex: 1;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Dn)),t["\u0275did"](9,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeGroup(l.context.index)&&t),t},null,null)),t["\u0275did"](11,4210688,null,0,_n.a,[t.ElementRef],null,null)],function(l,n){var e=n.component,t=l(n,4,0,12,12,12);l(n,3,0,"user-search-combo-box",t),l(n,6,0,e.searchedGroups,"true",n.context.$implicit.name,"Search Group"),l(n,9,0,null!=n.context.$implicit.groupId&&""!=n.context.$implicit.groupId)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).baseClass),l(n,2,0,t["\u0275nov"](n,3).columnClasses)})}function Fn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,65,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,ol.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,5,"div",[["ibmRow",""],["style","margin-top: 20px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](3,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](4,0,null,null,3,"small",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Define Users who can perform manual data sync for "])),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275eld"](8,0,null,null,1,"h1",[["class","margin-top-30 margin-bottom-20"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Individuals"])),(l()(),t["\u0275and"](16777216,null,null,1,null,In)),t["\u0275did"](11,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](12,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](13,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](14,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](15,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](16,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](17,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddSyncUser()&&t),t},null,null)),(l()(),t["\u0275eld"](18,0,null,null,0,"hr",[["style","margin-top: 48px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,5,"div",[["ibmRow",""],["style","margin-top: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](20,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](21,0,null,null,3,"small",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Define the read permissions for "])),(l()(),t["\u0275eld"](23,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](24,null,["",""])),(l()(),t["\u0275eld"](25,0,null,null,1,"h1",[["class","margin-top-30 margin-bottom-20"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Individuals"])),(l()(),t["\u0275and"](16777216,null,null,1,null,On)),t["\u0275did"](28,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](29,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](30,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](31,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](32,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](33,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](34,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddViewUser()&&t),t},null,null)),(l()(),t["\u0275eld"](35,0,null,null,1,"h1",[["class","margin-top-30 margin-bottom-20"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Departments"])),(l()(),t["\u0275and"](16777216,null,null,1,null,En)),t["\u0275did"](38,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](39,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](40,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](41,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](42,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](43,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](44,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddDepartment()&&t),t},null,null)),(l()(),t["\u0275eld"](45,0,null,null,1,"h1",[["class","margin-top-30 margin-bottom-20"],["style","margin-bottom: 20px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Groups"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Tn)),t["\u0275did"](48,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](49,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](50,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](51,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](52,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](53,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](54,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddGroup()&&t),t},null,null)),(l()(),t["\u0275eld"](55,0,null,null,10,"div",[["class","margin-top-30"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](56,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](57,0,null,null,8,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](58,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](59,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](60,0,null,null,5,"label",[["class","fill-the-form"]],null,null,null,null,null)),(l()(),t["\u0275eld"](61,0,null,null,1,"span",[["style","font-size: 18px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Give Read Access to Everyone in the organisation"])),(l()(),t["\u0275eld"](63,0,null,null,2,"ibm-checkbox",[["class","margin-left-5"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.onallReadSelect(e)&&t),t},Kl.b,Kl.a)),t["\u0275prd"](5120,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[jl.a]),t["\u0275did"](65,4243456,null,0,jl.a,[t.ChangeDetectorRef],{checked:[0,"checked"]},{change:"change"})],function(l,n){var e=n.component;l(n,11,0,e.selectedManualSyncUsersArray);var t=l(n,16,0,12,12,12);l(n,15,0,t),l(n,28,0,e.selectedViewersArray);var a=l(n,33,0,12,12,12);l(n,32,0,a),l(n,38,0,e.selectedDepartmentsArray);var i=l(n,43,0,12,12,12);l(n,42,0,i),l(n,48,0,e.selectedGroupsArray);var u=l(n,53,0,12,12,12);l(n,52,0,u);var o=l(n,59,0,12,12,12);l(n,58,0,o),l(n,65,0,e.allUsers.read)},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,1).baseClass),l(n,2,0,t["\u0275nov"](n,3).baseClass),l(n,7,0,e.sapFormName),l(n,12,0,t["\u0275nov"](n,13).baseClass),l(n,14,0,t["\u0275nov"](n,15).columnClasses),l(n,19,0,t["\u0275nov"](n,20).baseClass),l(n,24,0,e.sapFormName),l(n,29,0,t["\u0275nov"](n,30).baseClass),l(n,31,0,t["\u0275nov"](n,32).columnClasses),l(n,39,0,t["\u0275nov"](n,40).baseClass),l(n,41,0,t["\u0275nov"](n,42).columnClasses),l(n,49,0,t["\u0275nov"](n,50).baseClass),l(n,51,0,t["\u0275nov"](n,52).columnClasses),l(n,55,0,t["\u0275nov"](n,56).baseClass),l(n,57,0,t["\u0275nov"](n,58).columnClasses),l(n,63,0,t["\u0275nov"](n,65).checkboxWrapperClass,t["\u0275nov"](n,65).formItemClass)})}class kn{constructor(l,n,e,t){this.sapFormService=l,this._toastrService=n,this.activatedRoute=e,this.router=t,this.queryDetails={},this.queryParameters=[],this.responseMappings=[],this.formPermissions=[],this.isDisable=!0,this.formsLoading=!1,this.isAddMode=!0,this.cronSchedule={}}ngOnInit(){this.isAddMode=-1!=this.router.url.indexOf("add"),this.formsLoading=!0,this.isAddMode?this.formsLoading=!1:this.activatedRoute.params.subscribe(l=>Object(wl.__awaiter)(this,void 0,void 0,function*(){if(this.formid=l.id,this.isAddMode)this.formsLoading=!1;else{const l=(yield this.getFormRecord()).response;this.queryDetails={name:l.name,service_resource:l.service_resource,service_endpoint:l.service_endpoint,dataCaptureFrequency:l.dataCaptureFrequency,modifySAPODATAEntity:l.modifySAPODATAEntity},this.sapFormService.sendMessage(l.name),l.cronSchedule.dayNumber&&"last"===l.cronSchedule.dayNumber?l.cronSchedule.dayNumber={content:"Last Day Of Month",selected:!0}:l.cronSchedule.interval&&(l.cronSchedule.interval={content:"Every "+l.cronSchedule.interval+" hours",value:l.cronSchedule.interval,selected:!0}),this.cronSchedule=l.cronSchedule,l.service_response_map.forEach(n=>{n.deleteExistingResponseMapItems=l.deleteExistingResponseMapItems}),this.queryParameters=l.service_query_params,this.responseMappings=l.service_response_map,this.formPermissions=l.permissions,this.formPermissions.usersWithManualSyncPermission=l.usersWithManualSyncPermission,this.formsLoading=!1,this.formsLoading=!1}}))}fetchDetails(l){this.cronSchedule=l.cronSchedule,this.queryDetails=l.queryDetails,this.queryParameters=l.service_query_params}fetchMapping(l){this.responseMappings=l}fetchPermissions(l){this.formPermissions=l}addForm(){let l={},n=void 0,e=void 0;if(!this.formPermissions||!(this.formPermissions.users&&this.formPermissions.users.length||this.formPermissions.departments&&this.formPermissions.departments.length||this.formPermissions.groups&&this.formPermissions.groups.length||this.formPermissions.all&&this.formPermissions.all.read))return void this._toastrService.error("Please define individuals/departments/groups/organisation level read permission.");{let l=this.formPermissions&&this.formPermissions.users&&this.formPermissions.users.map(l=>({employeeId:l.employeeId,read:l.read,edit:l.edit,fill:l.fill})),t=this.formPermissions&&this.formPermissions.departments&&this.formPermissions.departments.map(l=>({departmentId:l.departmentId,read:l.read,edit:l.edit,fill:l.fill})),a=this.formPermissions&&this.formPermissions.groups&&this.formPermissions.groups.map(l=>({groupId:l.groupId,read:l.read,edit:l.edit,fill:l.fill}));e=this.formPermissions&&this.formPermissions.manualSyncPermission&&this.formPermissions.manualSyncPermission.map(l=>l.employeeId),n={users:l||[],departments:t||[],groups:a||[],all:this.formPermissions&&this.formPermissions.all?this.formPermissions.all:{read:!1,edit:!1}}}let t=this.responseMappings&&this.responseMappings.map(l=>({label:l.label,data_type:l.data_type.value,api_key:l.api_key,isTimeStamp:!!l.isTimeStamp,unitOfMeasurement:l.unitOfMeasurement?l.unitOfMeasurement:""})),a=null;this.cronSchedule&&(this.cronSchedule.hour&&this.cronSchedule.minutes&&this.cronSchedule.period&&(a={hour:this.cronSchedule.hour.content,minutes:this.cronSchedule.minutes.content,period:this.cronSchedule.period.content}),this.cronSchedule.dayNumber&&(a.dayNumber="Last Day Of Month"===this.cronSchedule.dayNumber.content?"last":this.cronSchedule.dayNumber.content)),"Hourly"===this.queryDetails.dataCaptureFrequency.content&&(a={interval:this.cronSchedule.interval.value}),(this.queryParameters||[]).forEach(l=>{delete l.deleteExistingResponseMapItems}),l={name:this.queryDetails.name,service_endpoint:this.queryDetails.service_endpoint.id,service_resource:this.queryDetails.service_resource,service_query_params:this.queryParameters,service_response_map:t,permissions:n,dataCaptureFrequency:this.queryDetails.dataCaptureFrequency.id,cronSchedule:a,manualSyncPermission:e||[]},this.isAddMode?this.sapFormService.addFormData(l).subscribe(l=>{this._toastrService.success("Configuration Saved Successfully"),window.history.back()}):this.sapFormService.patchFormDetails(this.formid,l).subscribe(l=>{this._toastrService.success("Configuration Updated Successfully"),window.history.back()})}getFormRecord(){return Object(wl.__awaiter)(this,void 0,void 0,function*(){return this.sapFormService.getFormDetails(this.formid).toPromise()})}selectTab(l){this.selectedTab=l}next(){this.selectedTab=this.selectedTab+1}prev(){this.selectedTab=this.selectedTab-1}}var Vn=t["\u0275crt"]({encapsulation:0,styles:[['.forms-container[_ngcontent-%COMP%]{background-color:#fff;margin-top:10px;padding:32px 32px 20px}.forms-container[_ngcontent-%COMP%]   .metrics-listing-header[_ngcontent-%COMP%]{color:rgba(0,0,0,.85);font-family:"IBM Plex Sans";padding-top:12px;font-size:1.5rem;font-weight:300;line-height:3.125rem;letter-spacing:0}.forms-container[_ngcontent-%COMP%]   .forms-btn-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:row}.forms-container[_ngcontent-%COMP%]   .forms-btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:nth-last-child(1)){margin-right:8px}.forms-container[_ngcontent-%COMP%]   .form-tabs-container[_ngcontent-%COMP%], .forms-container[_ngcontent-%COMP%]   .margin-top-32[_ngcontent-%COMP%]{margin-top:32px}.margin-top-20[_ngcontent-%COMP%]{margin-top:20px!important}.active-status[_ngcontent-%COMP%]{border:1px solid red}.approve-note[_ngcontent-%COMP%]{color:red;margin-top:5px}.add-another[_ngcontent-%COMP%]{height:40px!important;width:80px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #e02020;background-color:#fff}.prev-next[_ngcontent-%COMP%]{margin-left:0;margin-top:12px}.sbmt-btn[_ngcontent-%COMP%]{margin-left:8px;font-size:16px;background-color:#dc222b;border:0;color:#fff;padding:10px;width:100px;cursor:pointer}']],data:{}});function Bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function Ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["style","margin-right: 8px;"],["type","button"],["value","Prev"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.prev()&&t),t},null,null))],null,null)}function Un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Next"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.next()&&t),t},null,null))],null,null)}function Gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,9,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,6,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](6,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](7,0,null,null,4,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](8,81920,null,0,ol.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](9,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](10,0,null,null,1,"div",[["class","metrics-listing-header"]],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,[" "," SAP Configuration "])),(l()(),t["\u0275eld"](12,0,null,null,36,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](13,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](14,0,null,null,34,"div",[["class","form-tabs-container"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](15,81920,null,0,ol.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](16,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](17,0,null,null,23,"ibm-tabs",[],null,null,null,rl.b,rl.a)),t["\u0275did"](18,1097728,null,2,sl.a,[],null,null),t["\u0275qud"](603979776,1,{tabs:1}),t["\u0275qud"](335544320,2,{tabHeaders:0}),(l()(),t["\u0275eld"](21,0,null,0,4,"ibm-tab",[["heading","Service Query"]],[[1,"id",0]],[[null,"selected"]],function(l,n,e){var t=!0;return"selected"===n&&(t=!1!==l.component.selectTab(0)&&t),t},dl.b,dl.a)),t["\u0275did"](22,114688,[[1,4]],0,cl.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(l()(),t["\u0275eld"](23,0,null,0,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,1,"app-service-query",[],null,[[null,"onDetailsChange"]],function(l,n,e){var t=!0;return"onDetailsChange"===n&&(t=!1!==l.component.fetchDetails(e)&&t),t},Ql,Rl)),t["\u0275did"](25,638976,null,0,Ol,[Al.a,M.j,v.a],{serviceQuery:[0,"serviceQuery"],parametersList:[1,"parametersList"],cronSchedule:[2,"cronSchedule"]},{onDetailsChange:"onDetailsChange"}),(l()(),t["\u0275eld"](26,0,null,0,4,"ibm-tab",[["heading","Service Response Map"]],[[1,"id",0]],[[null,"selected"]],function(l,n,e){var t=!0;return"selected"===n&&(t=!1!==l.component.selectTab(1)&&t),t},dl.b,dl.a)),t["\u0275did"](27,114688,[[1,4]],0,cl.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(l()(),t["\u0275eld"](28,0,null,0,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,1,"app-service-response-map",[],null,[[null,"onMappingChange"]],function(l,n,e){var t=!0;return"onMappingChange"===n&&(t=!1!==l.component.fetchMapping(e)&&t),t},rn,Xl)),t["\u0275did"](30,638976,null,0,$l,[M.j,Al.a,Yl.a],{responseList:[0,"responseList"]},{onMappingChange:"onMappingChange"}),(l()(),t["\u0275eld"](31,0,null,0,4,"ibm-tab",[["heading","Test Connection"]],[[1,"id",0]],[[null,"selected"]],function(l,n,e){var t=!0;return"selected"===n&&(t=!1!==l.component.selectTab(2)&&t),t},dl.b,dl.a)),t["\u0275did"](32,114688,[[1,4]],0,cl.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(l()(),t["\u0275eld"](33,0,null,0,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,1,"app-test-connection",[],null,null,null,Sn,mn)),t["\u0275did"](35,638976,null,0,cn,[v.a],{serviceQuery:[0,"serviceQuery"],parametersList:[1,"parametersList"],responseList:[2,"responseList"]},null),(l()(),t["\u0275eld"](36,0,null,0,4,"ibm-tab",[["heading","Permissions"]],[[1,"id",0]],[[null,"selected"]],function(l,n,e){var t=!0;return"selected"===n&&(t=!1!==l.component.selectTab(3)&&t),t},dl.b,dl.a)),t["\u0275did"](37,114688,[[1,4]],0,cl.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(l()(),t["\u0275eld"](38,0,null,0,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,1,"app-sap-permissions",[],null,[[null,"onPermissionChange"]],function(l,n,e){var t=!0;return"onPermissionChange"===n&&(t=!1!==l.component.fetchPermissions(e)&&t),t},Fn,wn)),t["\u0275did"](40,638976,null,0,Mn,[Yl.a,Al.a,Pn.a,v.a],{isAddMode:[0,"isAddMode"],permissions:[1,"permissions"],serviceQuery:[2,"serviceQuery"]},{onPermissionChange:"onPermissionChange"}),(l()(),t["\u0275eld"](41,0,null,null,7,"div",[["class","prev-next"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ln)),t["\u0275did"](43,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Un)),t["\u0275did"](45,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](46,0,null,null,2,"button",[["class","sbmt-btn"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addForm()&&t),t},null,null)),(l()(),t["\u0275eld"](47,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Submit"]))],function(l,n){var e=n.component,t=l(n,4,0,12,12,12);l(n,3,0,t);var a=l(n,9,0,5,5,12);l(n,8,0,a);var i=l(n,16,0,12,12,12);l(n,15,0,"form-tabs-container",i),l(n,22,0,"Service Query",0==e.selectedTab),l(n,25,0,e.queryDetails,e.queryParameters,e.cronSchedule),l(n,27,0,"Service Response Map",1==e.selectedTab),l(n,30,0,e.responseMappings),l(n,32,0,"Test Connection",2==e.selectedTab),l(n,35,0,e.queryDetails,e.queryParameters,e.responseMappings),l(n,37,0,"Permissions",3==e.selectedTab),l(n,40,0,e.isAddMode,e.formPermissions,e.queryDetails),l(n,43,0,0!=e.selectedTab),l(n,45,0,3!=e.selectedTab)},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,1).baseClass),l(n,2,0,t["\u0275nov"](n,3).columnClasses),l(n,5,0,t["\u0275nov"](n,6).baseClass),l(n,7,0,t["\u0275nov"](n,8).columnClasses),l(n,11,0,e.isAddMode?"Add":"Edit"),l(n,12,0,t["\u0275nov"](n,13).baseClass),l(n,14,0,t["\u0275nov"](n,15).columnClasses),l(n,21,0,t["\u0275nov"](n,22).attrClass),l(n,26,0,t["\u0275nov"](n,27).attrClass),l(n,31,0,t["\u0275nov"](n,32).attrClass),l(n,36,0,t["\u0275nov"](n,37).attrClass)})}function zn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text "]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"],["title","Loading"]],[[2,"bx--loading-overlay",null]],null,null,sn.b,sn.a)),t["\u0275did"](2,49152,null,0,dn.a,[gl.a],{title:[0,"title"],size:[1,"size"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."]))],function(l,n){l(n,2,0,"Loading","sm")},function(l,n){l(n,1,0,t["\u0275nov"](n,2).overlay)})}function qn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","forms-container"],["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,ol.b,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Bn)),t["\u0275did"](3,540672,null,0,S.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275and"](0,[["result",2]],null,0,null,Gn)),(l()(),t["\u0275and"](0,[["loading",2]],null,0,null,zn))],function(l,n){l(n,3,0,t["\u0275nov"](n,n.component.formsLoading?5:4))},function(l,n){l(n,0,0,t["\u0275nov"](n,1).baseClass)})}function Wn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-sap-forms",[],null,null,null,qn,Vn)),t["\u0275did"](1,114688,null,0,kn,[v.a,M.j,P.a,P.o],null,null)],function(l,n){l(n,1,0)},null)}var Hn=t["\u0275ccf"]("app-sap-forms",kn,Wn,{},{},[]),Qn=e("Kj3r");class Kn{constructor(l,n,e,t){this.modalService=l,this.toasterService=n,this.confirmationService=e,this.sapService=t,this.title="SAP Configuration approval",this.searchModelChanged=new H.a,this.searchQueryText="",this.metricList=[],this.configLists=[]}ngOnInit(){this.logInEmployeeId=localStorage.getItem("E_Id"),this.getForms(),this.searchModelChangeSubscription=this.searchModelChanged.pipe(Object(Qn.a)(600)).subscribe(l=>{this.searchQueryText=l,this.getForms()})}getForms(){this.isFormsLoading=!0,this.configLists=[],this.sapService.getApprovalList(this.searchQueryText,!1).subscribe(l=>{l.response.records.forEach(l=>{l.isApproved||this.configLists.push(l)}),this.isFormsLoading=!1},l=>{this.isFormsLoading=!1})}approveConfig(l){this.approval=this.confirmationService.getData().subscribe(n=>{n?this.sapService.approveSAPConfiguration(l).subscribe(l=>{this.toasterService.success(Z.a.SAP_CONFIG_APPROVAL_SUCCESS),this.getForms(),this.confirmationService.setData(!1)}):this.approval&&this.approval.unsubscribe()}),this.modalService.create({component:y.a,inputs:{modalText:"Are you sure you want to approve?"}})}ngOnDestroy(){this.searchModelChangeSubscription.unsubscribe()}}var jn=t["\u0275crt"]({encapsulation:0,styles:[['.metric-approval-pending-container[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px;padding-top:3rem}.metric-approval-pending-container[_ngcontent-%COMP%]   .justify-content-flex-end[_ngcontent-%COMP%]{justify-content:flex-end;display:flex}.metric-approval-pending-container[_ngcontent-%COMP%]   .kpi-pending-title[_ngcontent-%COMP%]{color:rgba(0,0,0,.85);font-family:"IBM Plex Sans";font-size:27px;line-height:26px;margin-bottom:36px}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]{padding:2px;height:auto;background:#fff;color:#fff;cursor:pointer}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]   .tag-value.green[_ngcontent-%COMP%]{background-color:#24a249;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 24px;border-radius:22px}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]   .tag-value.orange[_ngcontent-%COMP%]{background-color:#f3a600;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 24px;border-radius:22px}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]   .tag-value.blue[_ngcontent-%COMP%]{background-color:#7598fe;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 24px;border-radius:22px}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]   .tag-value.gray[_ngcontent-%COMP%]{background-color:#979797;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 24px;border-radius:22px}.metric-approval-pending-container[_ngcontent-%COMP%]   .align-items-flex-end[_ngcontent-%COMP%]{align-items:flex-end}.metric-approval-pending-container[_ngcontent-%COMP%]   .align-items-flex-center[_ngcontent-%COMP%]{align-items:center}.metric-approval-pending-container[_ngcontent-%COMP%]   .no-padding-max-width-grid[_ngcontent-%COMP%]{padding:0;max-width:none}.metric-approval-pending-container[_ngcontent-%COMP%]   .search-text-input[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px}.metric-approval-pending-container[_ngcontent-%COMP%]   .search-text-input.bx--search-input[_ngcontent-%COMP%]{border-bottom:1px solid #8c8c8c}.metric-approval-pending-container[_ngcontent-%COMP%]   .margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.metric-approval-pending-container[_ngcontent-%COMP%]   .margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTable[_ngcontent-%COMP%]{display:flex;flex-direction:column}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableHead[_ngcontent-%COMP%]{font-size:16px;font-weight:600;display:flex;flex-direction:column;flex-basis:100%;flex:1}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableCell[_ngcontent-%COMP%]{font-size:16px;display:flex;flex-direction:column;flex-basis:100%;flex:1;cursor:pointer}.metric-approval-pending-container[_ngcontent-%COMP%]   .tableHeads[_ngcontent-%COMP%]{height:48px;display:flex;align-items:center;background-color:#f3f3f3;padding:16px}.metric-approval-pending-container[_ngcontent-%COMP%]   .flex-2[_ngcontent-%COMP%]{flex:2!important}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableRowWrapper[_ngcontent-%COMP%]{width:100%;padding:16px;display:flex;align-items:center;border-left:1px solid #f2f3f9;border-bottom:1px solid #f2f3f9;border-top:1px solid #f2f3f9;border-right:1px solid #f2f3f9}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableRowWrapper.tree-list-child[_ngcontent-%COMP%]{width:calc(100% - 12px)}.metric-approval-pending-container[_ngcontent-%COMP%]   .border-left-blue[_ngcontent-%COMP%]{border-left:5px solid #7598fe}.metric-approval-pending-container[_ngcontent-%COMP%]   .border-left-child-item[_ngcontent-%COMP%]{border-left:5px solid #f3a600}.metric-approval-pending-container[_ngcontent-%COMP%]   .padding-16px[_ngcontent-%COMP%]{padding:16px}.metric-approval-pending-container[_ngcontent-%COMP%]   .padding-top-bottom-16px[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}.metric-approval-pending-container[_ngcontent-%COMP%]   .padding-left-16px[_ngcontent-%COMP%]{padding-left:16px}.metric-approval-pending-container[_ngcontent-%COMP%]   .padding-right-16px[_ngcontent-%COMP%]{padding-right:16px}@media screen and (max-width:992px){.metric-approval-pending-container[_ngcontent-%COMP%]   .align-items-flex-end[_ngcontent-%COMP%], .metric-approval-pending-container[_ngcontent-%COMP%]   .button-goal[_ngcontent-%COMP%]{margin-top:24px}}.metric-approval-pending-container[_ngcontent-%COMP%]   .assinged-to-text[_ngcontent-%COMP%]{color:#bebebe;font-family:"IBM Plex Sans";font-size:10px;line-height:13px}.metric-approval-pending-container[_ngcontent-%COMP%]   .assinged-to-text-normal[_ngcontent-%COMP%]{color:#242425;font-family:"IBM Plex Sans";font-size:10px;line-height:13px}.metric-approval-pending-container[_ngcontent-%COMP%]   .background-blue[_ngcontent-%COMP%]{background-color:#f4f7fe}.metric-approval-pending-container[_ngcontent-%COMP%]   .delivery-schedule-ad[_ngcontent-%COMP%]{color:#414042;font-family:"IBM Plex Sans";font-size:16px;font-weight:500;line-height:20px}.metric-approval-pending-container[_ngcontent-%COMP%]   .percentage-text[_ngcontent-%COMP%]{color:#000;font-family:"IBM Plex Sans";font-size:25px;font-weight:500;line-height:33px}.metric-approval-pending-container[_ngcontent-%COMP%]   .percentage-text-ytd[_ngcontent-%COMP%]{color:#9f9f9f;font-family:"IBM Plex Sans";font-size:12px;line-height:15px}.metric-approval-pending-container[_ngcontent-%COMP%]   .d-p[_ngcontent-%COMP%], .metric-approval-pending-container[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{color:#9f9f9f;font-family:"IBM Plex Sans";font-size:16px;line-height:20px}.metric-approval-pending-container[_ngcontent-%COMP%]   .svg-red[_ngcontent-%COMP%]{width:16px;height:16px;fill:red}.metric-approval-pending-container[_ngcontent-%COMP%]   .svg-green[_ngcontent-%COMP%]{width:16px;height:16px;fill:green}.metric-approval-pending-container[_ngcontent-%COMP%]   .display-inline[_ngcontent-%COMP%]{display:inline}.metric-approval-pending-container[_ngcontent-%COMP%]   .view-action-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.metric-approval-pending-container[_ngcontent-%COMP%]   .details-right-arrow[_ngcontent-%COMP%]{fill:#fff}.metric-approval-pending-container[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:space-around;background:#da1e28;cursor:pointer}.tree-list-parent[_ngcontent-%COMP%]{position:relative;width:100%}.tree-list-parent[_ngcontent-%COMP%]   .tree-list-child[_ngcontent-%COMP%]{margin:12px;position:relative;border-left:5px solid #f3a600}.tree-list-parent[_ngcontent-%COMP%]   .tree-list-child[_ngcontent-%COMP%]::before{position:absolute;content:"";width:1em;left:-17px;top:-118%;z-index:0;height:170%;border-left:1px solid #bebebe;border-bottom:1px solid #bebebe}.metadiv[_ngcontent-%COMP%]{padding:16px;border-left:1px solid #8080804a;border-right:1px solid #8080803b;border-bottom:1px solid #8080803b}.center-loader-text[_ngcontent-%COMP%]{display:flex;align-items:center}.inline[_ngcontent-%COMP%]{display:inline-block}.margin-bottom-16[_ngcontent-%COMP%]{margin-bottom:1em}.width10[_ngcontent-%COMP%]{width:10%!important}.width20[_ngcontent-%COMP%]{width:20%!important}.width30[_ngcontent-%COMP%]{width:30%!important}.elipsis[_ngcontent-%COMP%]{max-width:310px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:block!important}']],data:{}});function Yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function $n(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function Xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","bx--search"],["data-search",""],["role","search"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"input",[["class","bx--search-input search-text-input"],["id","search__input-kpi"],["placeholder","Search by configuration Name"],["style","border-bottom: none;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0,i=l.component;return"input"===n&&(a=!1!==t["\u0275nov"](l,2)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,2).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,2)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,2)._compositionEnd(e.target.value)&&a),"ngModelChange"===n&&(a=!1!==(i.searchQueryText=e)&&a),"ngModelChange"===n&&(a=!1!==i.searchModelChanged.next(e)&&a),a},null,null)),t["\u0275did"](2,16384,null,0,K.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,K.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[K.DefaultValueAccessor]),t["\u0275did"](4,671744,null,0,K.NgModel,[[8,null],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,K.NgControl,null,[K.NgModel]),t["\u0275did"](6,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](7,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","bx--search-magnifier"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 16 16"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,0,":svg:path",[["d","M15 14.3L10.7 10c1.9-2.3 1.6-5.8-.7-7.7S4.2.7 2.3 3 .7 8.8 3 10.7c2 1.7 5 1.7 7 0l4.3 4.3.7-.7zM2 6.5C2 4 4 2 6.5 2S11 4 11 6.5 9 11 6.5 11 2 9 2 6.5z"]],null,null,null,null,null))],function(l,n){l(n,4,0,n.component.searchQueryText)},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function Zn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"div",[["class","rTableRow margin-bottom-16"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,7,"div",[["class","rTableRowWrapper"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","rTableCell width20 Width140"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "])),(l()(),t["\u0275eld"](5,0,null,null,4,"div",[["class","rTableCell width10 align-items-flex-center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"button",[["class","accpt-btn"],["ibmButton","danger"],["title","Approve"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.approveConfig(l.context.$implicit._id)&&t),t},null,null)),t["\u0275did"](8,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,[" Approve "]))],function(l,n){l(n,8,0,"danger")},function(l,n){l(n,4,0,n.context.$implicit.name),l(n,7,1,[t["\u0275nov"](n,8).baseClass,t["\u0275nov"](n,8).primaryButton,t["\u0275nov"](n,8).secondaryButton,t["\u0275nov"](n,8).tertiaryButton,t["\u0275nov"](n,8).ghostButton,t["\u0275nov"](n,8).dangerButton,t["\u0275nov"](n,8).dangerPrimaryButton,t["\u0275nov"](n,8).skeleton,t["\u0275nov"](n,8).smallSize,t["\u0275nov"](n,8).toolbarAction,t["\u0275nov"](n,8).overflowMenu])})}function Jn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,8,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,ol.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,null,4,"div",[["class","rTableRow tableHeads"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","rTableHead width20 Width140"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Configuration Name"])),(l()(),t["\u0275eld"](8,0,null,null,0,"div",[["class","rTableHead"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Zn)),t["\u0275did"](10,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0),l(n,10,0,e.configLists)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).baseClass),l(n,2,0,t["\u0275nov"](n,3).columnClasses)})}function le(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text "]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline "],["size","sm"]],[[2,"bx--loading-overlay",null]],null,null,sn.b,sn.a)),t["\u0275did"](2,49152,null,0,dn.a,[gl.a],{title:[0,"title"],size:[1,"size"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."]))],function(l,n){l(n,2,0,n.component.loadingText,"sm")},function(l,n){l(n,1,0,t["\u0275nov"](n,2).overlay)})}function ne(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,ol.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,null,4,"div",[["class","rTableRow tableHeads"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","rTableHead width20 Width140"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Configuration Name"])),(l()(),t["\u0275eld"](8,0,null,null,0,"div",[["class","rTableHead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"div",[["class","metadiv "]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No results found!"]))],function(l,n){l(n,3,0)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).baseClass),l(n,2,0,t["\u0275nov"](n,3).columnClasses)})}function ee(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["class","metric-approval-pending-container no-padding-max-width-grid"],["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,ol.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,1,"h1",[["class","kpi-pending-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),(l()(),t["\u0275eld"](4,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" (Before approval, you can verify the form fields in SAP forms listing.) "])),(l()(),t["\u0275eld"](6,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](7,16384,null,0,ol.c,[],null,null),(l()(),t["\u0275eld"](8,0,null,null,3,"div",[["ibmCol",""],["style","margin-bottom: 10px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](9,81920,null,0,ol.a,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Yn)),t["\u0275did"](11,540672,null,0,S.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,$n)),t["\u0275did"](13,540672,null,0,S.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275and"](0,[["searchTemplate",2]],null,0,null,Xn)),(l()(),t["\u0275and"](0,[["result",2]],null,0,null,Jn)),(l()(),t["\u0275and"](0,[["loading",2]],null,0,null,le)),(l()(),t["\u0275and"](0,[["noresults",2]],null,0,null,ne))],function(l,n){var e=n.component;l(n,9,0),l(n,11,0,t["\u0275nov"](n,14)),l(n,13,0,t["\u0275nov"](n,e.isFormsLoading?16:e.configLists&&e.configLists.length?15:17))},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,1).baseClass),l(n,3,0,e.title),l(n,6,0,t["\u0275nov"](n,7).baseClass),l(n,8,0,t["\u0275nov"](n,9).columnClasses)})}function te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-approval-list",[],null,null,null,ee,jn)),t["\u0275did"](1,245760,null,0,Kn,[w.a,M.j,C.a,v.a],null,null)],function(l,n){l(n,1,0)},null)}var ae=t["\u0275ccf"]("app-approval-list",Kn,te,{},{},[]),ie=e("Tvix"),ue=e("YvIm"),oe=e("hUUB");class re{constructor(l,n){this.formId=l,this.formService=n}static getApiFilterModel(l,n,e){let t=[];for(let a of Object.keys(e)){let i=l.getFilterInstance(a),u=e[a].values;"dataCaptureDate"!=i.providedFilterParams.key_value&&"numericColumn"!=n.getColumn(a).colDef.type||(u=u.map(l=>Number.isNaN(Number(l))?l:Number(l))),t.push({key_type:i.providedFilterParams.key_type,key_value:i.providedFilterParams.key_value,filter_values:u})}return t}getRows(l){let n=l.api.paginationProxy.currentPage,e=l.api.paginationProxy.pageSize,t=re.getApiFilterModel(l.api,l.columnApi,l.request.filterModel);this.formService.getFilteredFormData(this.formId,t,n*e,e).subscribe(n=>{if(n&&n.success){let e=[];n.response.submissions.forEach(l=>{let n={submissionId:l._id,addedByName:l.addedByName,dataCaptureDate:l.dataCaptureDate,updatedTimestamp:l.updatedTimestamp};l.data.forEach(l=>n[l.uuid]=l.value),e.push(n)}),l.successCallback(e,n.response.totalCount)}},n=>{l.fail()})}}var se=e("8aki"),de=e("TYez");class ce{constructor(l,n,e,t,i,u,o,r,s){this.route=l,this._router=n,this.formService=e,this.formDataService=t,this.toastService=i,this.dialog=u,this.sapService=o,this.confirmationService=r,this.modalService=s,this.permissions={read:!1,edit:!1,fill:!1,sapManualSync:!1,showSAPManualSyncButton:!1},this._formId=null,this.filterList=new Q.a([{content:"All Data",filter:!1,selected:!0,data:null}]),this.activeForm=null,this.modules=[a.n,a.h,a.b],this.gridOptions={context:{parentComponent:this},onFilterChanged:l=>{this._checkButtonStatus()},getRowStyle:l=>{if(l.node.rowIndex%2!=0)return{background:"#F8F8F8"}},getRowNodeId:l=>l.submissionId,defaultColDef:{wrapText:!0,autoHeight:!0,resizable:!0,sortable:!1,filter:!0,floatingFilter:!1,flex:1,minWidth:120,suppressMenu:!1,menuTabs:["filterMenuTab","generalMenuTab"],sortingOrder:["desc","asc",null],filterParams:{buttons:["reset","apply"],showTooltips:!0}},pagination:!0,paginationPageSize:20,paginationAutoPageSize:!1,cacheBlockSize:20,rowModelType:"serverSide",serverSideStoreType:"partial",columnTypes:{nonEditableColumn:{editable:!1},dateColumn:{filter:"agDateColumnFilter",minWidth:205,valueGetter:l=>W(l.data[l.colDef.field]).format(T.b.DATE_FORMAT),filterParams:{valueFormatter:l=>W(l.value).format(T.b.DATE_FORMAT)},comparator:(l,n,e,t,a)=>l||n?l===n?0:!l&&n?-1:l&&!n?1:l>n?1:-1:0}},sideBar:{toolPanels:[{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel",minWidth:180,maxWidth:400,width:250},{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivotMode:!0,suppressPivots:!0}}],position:"right",defaultToolPanel:"filters"}},this.isCreateFilterEnabled=new Q.a(!1),this.isUpdateFilterEnabled=new Q.a(!1),this.isDeleteFilterEnabled=new Q.a(!1),this._formId=this.route.snapshot.params.id}get isAdmin(){return null==this._isAdmin&&(this._isAdmin=T.b.IS_ADMIN),this._isAdmin}get logInEmployeeId(){return localStorage.getItem("E_Id")}populateFilterList(l,n=null){let e=[{content:"All Data",filter:!1,selected:!0,data:null}];this.formService.getFormFilterList(l).subscribe(l=>{l&&l.success&&(l.response.filtersList.filter(l=>{if(Array.isArray(l.filter))return l}).forEach(l=>{e.push({content:l.name,filter:!0,selected:!1,data:l})}),n&&e.forEach(l=>{l.selected=l.content==n,l.selected&&(this.activeFilter=l.data,this._checkButtonStatus())}),this.filterList.next(e))},l=>{})}ngOnInit(){this.formService.getFormDetail(this._formId).subscribe(l=>{if(l&&l.success){this.activeForm=l.response.form;var n=new re(this.activeForm.formId,this.formService);this.gridApi.setServerSideDatasource(n),"SAP"!=this.activeForm.formDataSource&&(console.log("SAP Form not found"),this._router.navigate(["/404"])),this.populateFilterList(this.activeForm.formId);let e=[{headerName:"Data Entry By",field:"addedByName",filter:!1,suppressMenu:!0},{headerName:"Data Sample Date & Time",field:"dataCaptureDate",filter:"agSetColumnFilter",type:["dateColumn","rightAligned"],valueGetter:l=>l.data.dataCaptureDate?W(l.data.dataCaptureDate).format(T.b.DATE_FORMAT):"",comparator:(l,n,e,t,a)=>e||t?e.data.dataCaptureDate===t.data.dataCaptureDate?0:!e.data.dataCaptureDate&&t.data.dataCaptureDate?-1:e.data.dataCaptureDate&&!t.data.dataCaptureDate?1:e.data.dataCaptureDate>t.data.dataCaptureDate?1:-1:0,filterParams:{key_type:"metadata",key_value:"dataCaptureDate",valueFormatter:l=>W(Number(l.value)).format(T.b.DATE_FORMAT),values:l=>{this.formService.getFormDropdownValues(this.activeForm.formId,"dataCaptureDate","metadata").subscribe(n=>{l.success(n&&n.success&&n!=[null]?n.response:[])},n=>l.fail())}},minWidth:200},{headerName:"Latest data read on",field:"updatedTimestamp",type:["dateColumn","rightAligned"],valueGetter:l=>l.data.updatedTimestamp?W.unix(l.data.updatedTimestamp).format(T.b.DATE_FORMAT):"",comparator:(l,n,e,t,a)=>e||t?e.data.updatedTimestamp===t.data.updatedTimestamp?0:!e.data.updatedTimestamp&&t.data.updatedTimestamp?-1:e.data.updatedTimestamp&&!t.data.updatedTimestamp?1:e.data.updatedTimestamp>t.data.updatedTimestamp?1:-1:0,filter:!1,suppressMenu:!0,maxWidth:200}],t=["paragraph","heading","section_break","submit_btn"];this.activeForm.formElements.forEach(l=>{if(!t.includes(l.field)){let n={headerName:l.label,field:l.uuid,filter:"agSetColumnFilter",filterParams:{key_type:"uuid",key_value:l.uuid,values:n=>{this.formService.getFormDropdownValues(this.activeForm.formId,l.uuid,"uuid").subscribe(l=>{n.success(l&&l.success&&l!=[null]?l.response:[])},l=>n.fail())}}};l.metricEnabled&&l.unitOfMeasurementLabel&&(n.headerName=`${l.label} (${l.unitOfMeasurementLabel})`),"number"==l.field&&(n.type="numericColumn"),e.splice(-2,0,n)}}),this.gridOptions.api.setColumnDefs(e)}}),this.getUserPermissions(this._formId)}onFilterSelected(l){if(null==l||null==l.item.data)this.isDeleteFilterEnabled.next(!1),this.gridApi.setFilterModel(null),this.activeFilter=null;else{this.isDeleteFilterEnabled.next(!0),this.activeFilter=l.item.data;let n={};l.item.data.filter.forEach(l=>{let e=l.filter_values.map(l=>l+"");n[l.key_value]={type:"set",values:e}}),this.gridApi.setFilterModel(n)}}getUserPermissions(l){this.formDataService.getUserFormPermissions(l,this.logInEmployeeId).subscribe(l=>{l&&l.success&&(this.permissions={read:l.response.read,edit:l.response.edit,fill:l.response.fill,sapManualSync:l.response.sapManualSync,showSAPManualSyncButton:l.response.showSAPManualSyncButton})})}_checkButtonStatus(){let l=re.getApiFilterModel(this.gridApi,this.gridColumnApi,this.gridApi.getFilterModel()),n=Nl.a.isEqual(l,this.activeFilter?this.activeFilter.filter:[]);this.activeFilter?(this.isDeleteFilterEnabled.next(!0),this.isCreateFilterEnabled.next(!1),this.isUpdateFilterEnabled.next(!n)):(this.isDeleteFilterEnabled.next(!1),this.isUpdateFilterEnabled.next(!1),this.isCreateFilterEnabled.next(!n))}onGridReady(l){this.gridApi=l.api,this.gridColumnApi=l.columnApi,this.gridApi.closeToolPanel(),this.onGridSizeChanged(l)}onGridSizeChanged(l){setTimeout(function(){l.api.destroyCalled||l.api.sizeColumnsToFit()},1e3)}createFilter(){this.openSaveFilterMenu(null)}deleteFilter(){this.formService.getFormFilterRecord(this.activeFilter._id).subscribe(l=>{l&&l.success&&(l.response.kpiUsingThisFilter&&l.response.kpiUsingThisFilter.length>0?this.modalService.create({component:se.a,inputs:{activeFilter:l.response}}).onDestroy(()=>{}):(this.disableSub=this.confirmationService.getData().subscribe(l=>{l?this.formService.deleteFormFilter(this.activeFilter._id).subscribe(l=>{l&&l.success&&(this.toastService.success("Filter deleted successfully!"),this.populateFilterList(this.activeForm.formId),this.onFilterSelected(null))},l=>{this.toastService.error(l&&l.error&&l.error.message&&"string"==typeof l.error.message?l.error.message:l&&l.message&&"string"==typeof l.message?l.message:Z.a.PLEASE_TRY_AGAIN)}):this.disableSub&&(this.disableSub.unsubscribe(),this.disableSub=null)}),this.modalService.create({component:y.a,inputs:{modalText:"Are you sure you want to delete this filter?"}})))},l=>{})}updateFilter(){this.formService.getFormFilterRecord(this.activeFilter._id).subscribe(l=>{if(l&&l.success)if(l.response.kpiUsingThisFilter&&l.response.kpiUsingThisFilter.length>0){let l=!1;this.disableSub=this.confirmationService.getData().subscribe(n=>{n?(l=!0,this.confirmationService.setData(!1)):this.disableSub&&(this.disableSub.unsubscribe(),this.disableSub=null)}),this.modalService.create({component:y.a,inputs:{modalText:"Editing this form filter will recompute linked KPI values. Are you sure you would like to proceed?",confirmText:"Yes",titleText:"Warning",overlayClose:!1}}).onDestroy(()=>{l&&this.openSaveFilterMenu(this.activeFilter)})}else this.openSaveFilterMenu(this.activeFilter)},l=>{})}openSaveFilterMenu(l){let n=this.gridApi.getFilterModel(),e=[];for(let t of Object.keys(n)){let l=this.gridApi.getFilterInstance(t),a=n[t].values,i=this.gridColumnApi.getColumn(t).colDef.type;(i.includes("dateColumn")||i.includes("numericColumn"))&&(a=a.map(l=>Number.isNaN(Number(l))?l:Number(l))),e.push({key_type:l.providedFilterParams.key_type,key_value:l.providedFilterParams.key_value,filter_values:a})}if(0==Object.keys(n).length)this.toastService.error("Please select filters.");else{this.activeForm.formElements.forEach(l=>l.isMetricField=l.metricEnabled);let n={cols:this.activeForm.formElements,formId:this.activeForm.formId,filter:e,formElements:this.activeForm.formElements,activeFilter:null,editMode:null};l&&(l.editMode=!0,n.activeFilter=l,n.editMode=!0);let t=this.modalService.create({component:de.a,inputs:n});t.onDestroy(l=>{this.populateFilterList(this.activeForm.formId,t.instance.filterName)})}}downloadFormData(l){this.formService.downloadFormData("",void 0,this.activeForm.formId,"",void 0,this.logInEmployeeId).subscribe(l=>{l.success&&window.open(l.response)},l=>{})}performRecomputations(l){this.formService.performRecomputations(this._formId).subscribe(l=>{l.success&&this.toastService.success(Z.a.FORM_RECOMPUTATION_REQUEST_SENT_SUCCESS)},l=>{this.toastService.error(Z.a.FORM_RECOMPUTATION_REQUEST_SENT_ERROR)})}syncData(l){"SAP"===this.activeForm.formDataSource&&!1===l?this.openDialog(l):(this.disableSub=this.confirmationService.getData().subscribe(n=>{n?(this.getSapData(l,void 0,void 0),this.confirmationService.setData(!1)):this.disableSub&&this.disableSub.unsubscribe()}),this.modalService.create({component:y.a,inputs:{modalText:"Are you sure, you want to full reload data? The action will delete current FY data from the table below and re-load all the data for current FY."}}))}getSapData(l,n,e){this.sapService.getAssociatedSAPConfigForAForm(this._formId).subscribe(t=>{t&&t.success&&this.sapService.getSyncData(t.response.sapConfigId,l,n,e).subscribe(l=>{l&&l.success&&this.toastService.success(Z.a.SAP_DATA_SYNC_MESSAGE)},l=>{console.error(l),l&&l.error&&l.error.message&&this.toastService.error(l.error.message)})},l=>{console.error(l),this.toastService.error(Z.a.SAP_CONFIG_RECORD_NOT_FOUND_ERROR)})}openDialog(l){this.dialog.open(ue.a,{data:{},disableClose:!0}).afterClosed().subscribe(n=>Object(wl.__awaiter)(this,void 0,void 0,function*(){n&&this.getSapData(l,n.startDate,n.endDate)}))}refresh(){this.gridApi.refreshServerSideStore({route:null,purge:!0}),this.gridOptions.api.retryServerSideLoads()}}var me=e("s6ns"),pe=t["\u0275crt"]({encapsulation:0,styles:[[".sapform-datalisting[_ngcontent-%COMP%]{padding:2rem;background-color:#fff;height:98%;width:100%;display:flex;flex-direction:column}.sapform-datalisting[_ngcontent-%COMP%]   .bx--btn[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px;margin-left:5px}.sapform-datalisting[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.sapform-datalisting[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{margin-right:10px}.sapform-datalisting[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{height:48px;flex:auto}.sapform-datalisting[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]{background-color:#f3f3f3!important;min-height:unset}.sapform-datalisting[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .sapform-datalisting[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.sapform-datalisting[_ngcontent-%COMP%]   .c-ag-grid[_ngcontent-%COMP%]{width:100%;height:100%}"]],data:{}});function ge(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"ibm-tile",[["class","bx--tile"]],[[2,"bx--tile",null]],null,null,o.b,o.a)),t["\u0275did"](1,49152,null,0,r.a,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,11,"ibm-breadcrumb",[],null,null,null,s.b,s.a)),t["\u0275did"](3,1097728,null,1,d.a,[],{noTrailingSlash:[0,"noTrailingSlash"]},null),t["\u0275qud"](603979776,1,{children:1}),(l()(),t["\u0275eld"](5,0,null,0,4,"ibm-breadcrumb-item",[],[[2,"bx--breadcrumb-item--current",null],[2,"bx--breadcrumb-item",null]],null,null,c.b,c.a)),t["\u0275did"](6,49152,[[1,4]],0,m.a,[],null,null),(l()(),t["\u0275eld"](7,0,null,0,2,"a",[["routerLink","/sap/forms"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var a=!0;return"click"===n&&(a=!1!==t["\u0275nov"](l,8).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&a),a},null,null)),t["\u0275did"](8,671744,null,0,P.r,[P.o,P.a,S.LocationStrategy],{routerLink:[0,"routerLink"]},null),(l()(),t["\u0275ted"](-1,null,["SAP Forms"])),(l()(),t["\u0275eld"](10,0,null,0,3,"ibm-breadcrumb-item",[],[[2,"bx--breadcrumb-item--current",null],[2,"bx--breadcrumb-item",null]],null,null,c.b,c.a)),t["\u0275did"](11,49152,[[1,4]],0,m.a,[],null,null),(l()(),t["\u0275eld"](12,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,[" ",""]))],function(l,n){l(n,3,0,!0),l(n,8,0,"/sap/forms")},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,1).tileClass),l(n,5,0,t["\u0275nov"](n,6).current,t["\u0275nov"](n,6).itemClass),l(n,7,0,t["\u0275nov"](n,8).target,t["\u0275nov"](n,8).href),l(n,10,0,t["\u0275nov"](n,11).current,t["\u0275nov"](n,11).itemClass),l(n,13,0,e.activeForm.formName)})}function he(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","secondary"]],[[8,"disabled",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0,a=l.component;return"click"===n&&(t=!1!==a.syncData(!1,a.startValue,a.endValue)&&t),t},null,null)),t["\u0275did"](1,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Sync Data"]))],function(l,n){l(n,1,0,"secondary")},function(l,n){l(n,0,1,[!n.component.activeForm.isActive,t["\u0275nov"](n,1).baseClass,t["\u0275nov"](n,1).primaryButton,t["\u0275nov"](n,1).secondaryButton,t["\u0275nov"](n,1).tertiaryButton,t["\u0275nov"](n,1).ghostButton,t["\u0275nov"](n,1).dangerButton,t["\u0275nov"](n,1).dangerPrimaryButton,t["\u0275nov"](n,1).skeleton,t["\u0275nov"](n,1).smallSize,t["\u0275nov"](n,1).toolbarAction,t["\u0275nov"](n,1).overflowMenu])})}function be(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","secondary"],["title","Full Data Refresh"]],[[8,"disabled",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.syncData(!0)&&t),t},null,null)),t["\u0275did"](1,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Full Data Refresh"]))],function(l,n){l(n,1,0,"secondary")},function(l,n){l(n,0,1,[!n.component.activeForm.isActive,t["\u0275nov"](n,1).baseClass,t["\u0275nov"](n,1).primaryButton,t["\u0275nov"](n,1).secondaryButton,t["\u0275nov"](n,1).tertiaryButton,t["\u0275nov"](n,1).ghostButton,t["\u0275nov"](n,1).dangerButton,t["\u0275nov"](n,1).dangerPrimaryButton,t["\u0275nov"](n,1).skeleton,t["\u0275nov"](n,1).smallSize,t["\u0275nov"](n,1).toolbarAction,t["\u0275nov"](n,1).overflowMenu])})}function ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"div",[["class","controls"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"button",[["ibmButton","danger"],["title","Refresh List"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.refresh()&&t),t},null,null)),t["\u0275did"](2,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconRestart20",""]],null,null,null,null,null)),t["\u0275did"](4,4210688,null,0,q.a,[t.ElementRef],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,he)),t["\u0275did"](6,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,be)),t["\u0275did"](8,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](9,0,null,null,3,"button",[["ibmButton","secondary"],["title","Export"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadFormData(e)&&t),t},null,null)),t["\u0275did"](10,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](11,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconDocumentExport20",""]],null,null,null,null,null)),t["\u0275did"](12,4210688,null,0,R.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](13,0,null,null,3,"button",[["ibmButton","secondary"],["title","Recalculate"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.performRecomputations(e)&&t),t},null,null)),t["\u0275did"](14,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](15,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconRenew20",""]],null,null,null,null,null)),t["\u0275did"](16,4210688,null,0,z.a,[t.ElementRef],null,null)],function(l,n){var e=n.component;l(n,2,0,"danger"),l(n,6,0,e.permissions.sapManualSync&&e.permissions.showSAPManualSyncButton),l(n,8,0,e.isAdmin),l(n,10,0,"secondary"),l(n,14,0,"secondary")},function(l,n){l(n,1,1,[t["\u0275nov"](n,2).baseClass,t["\u0275nov"](n,2).primaryButton,t["\u0275nov"](n,2).secondaryButton,t["\u0275nov"](n,2).tertiaryButton,t["\u0275nov"](n,2).ghostButton,t["\u0275nov"](n,2).dangerButton,t["\u0275nov"](n,2).dangerPrimaryButton,t["\u0275nov"](n,2).skeleton,t["\u0275nov"](n,2).smallSize,t["\u0275nov"](n,2).toolbarAction,t["\u0275nov"](n,2).overflowMenu]),l(n,9,1,[t["\u0275nov"](n,10).baseClass,t["\u0275nov"](n,10).primaryButton,t["\u0275nov"](n,10).secondaryButton,t["\u0275nov"](n,10).tertiaryButton,t["\u0275nov"](n,10).ghostButton,t["\u0275nov"](n,10).dangerButton,t["\u0275nov"](n,10).dangerPrimaryButton,t["\u0275nov"](n,10).skeleton,t["\u0275nov"](n,10).smallSize,t["\u0275nov"](n,10).toolbarAction,t["\u0275nov"](n,10).overflowMenu]),l(n,13,1,[t["\u0275nov"](n,14).baseClass,t["\u0275nov"](n,14).primaryButton,t["\u0275nov"](n,14).secondaryButton,t["\u0275nov"](n,14).tertiaryButton,t["\u0275nov"](n,14).ghostButton,t["\u0275nov"](n,14).dangerButton,t["\u0275nov"](n,14).dangerPrimaryButton,t["\u0275nov"](n,14).skeleton,t["\u0275nov"](n,14).smallSize,t["\u0275nov"](n,14).toolbarAction,t["\u0275nov"](n,14).overflowMenu])})}function fe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["ibmIconFilter20",""]],null,null,null,null,null)),t["\u0275did"](1,4210688,null,0,ie.a,[t.ElementRef],null,null)],null,null)}function ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["style","font-size: 14px; display: flex;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,fe)),t["\u0275did"](2,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[],[[4,"padding-left",null]],null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""]))],function(l,n){l(n,2,0,n.parent.context.item.filter)},function(l,n){l(n,3,0,n.parent.context.item.filter?"10px":""),l(n,4,0,n.parent.context.item.content)})}function Ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,ye)),t["\u0275did"](1,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){l(n,1,0,n.context.item&&n.context.item.content)},null)}function xe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","danger"],["title","Create Filter"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.createFilter()&&t),t},null,null)),t["\u0275did"](1,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Create Filter"]))],function(l,n){l(n,1,0,"danger")},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).baseClass,t["\u0275nov"](n,1).primaryButton,t["\u0275nov"](n,1).secondaryButton,t["\u0275nov"](n,1).tertiaryButton,t["\u0275nov"](n,1).ghostButton,t["\u0275nov"](n,1).dangerButton,t["\u0275nov"](n,1).dangerPrimaryButton,t["\u0275nov"](n,1).skeleton,t["\u0275nov"](n,1).smallSize,t["\u0275nov"](n,1).toolbarAction,t["\u0275nov"](n,1).overflowMenu])})}function Se(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","danger"],["title","Save Filter"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateFilter()&&t),t},null,null)),t["\u0275did"](1,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Update Filter"]))],function(l,n){l(n,1,0,"danger")},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).baseClass,t["\u0275nov"](n,1).primaryButton,t["\u0275nov"](n,1).secondaryButton,t["\u0275nov"](n,1).tertiaryButton,t["\u0275nov"](n,1).ghostButton,t["\u0275nov"](n,1).dangerButton,t["\u0275nov"](n,1).dangerPrimaryButton,t["\u0275nov"](n,1).skeleton,t["\u0275nov"](n,1).smallSize,t["\u0275nov"](n,1).toolbarAction,t["\u0275nov"](n,1).overflowMenu])})}function _e(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","danger"],["title","Delete Filter"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteFilter()&&t),t},null,null)),t["\u0275did"](1,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Delete Filter"]))],function(l,n){l(n,1,0,"danger")},function(l,n){l(n,0,1,[t["\u0275nov"](n,1).baseClass,t["\u0275nov"](n,1).primaryButton,t["\u0275nov"](n,1).secondaryButton,t["\u0275nov"](n,1).tertiaryButton,t["\u0275nov"](n,1).ghostButton,t["\u0275nov"](n,1).dangerButton,t["\u0275nov"](n,1).dangerPrimaryButton,t["\u0275nov"](n,1).skeleton,t["\u0275nov"](n,1).smallSize,t["\u0275nov"](n,1).toolbarAction,t["\u0275nov"](n,1).overflowMenu])})}function Pe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,31,"div",[["class","sapform-datalisting"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"div",[["class","info-controls"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","label"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ge)),t["\u0275did"](4,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ve)),t["\u0275did"](6,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](7,0,null,null,19,"div",[["class","info-controls"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,6,"ibm-dropdown",[["style","width:300px"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,10).onKeyDown(e)&&a),"selected"===n&&(a=!1!==i.onFilterSelected(e)&&a),a},ml.b,ml.a)),t["\u0275prd"](5120,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](10,1294336,[["filterDropDown",4]],1,pl.a,[t.ElementRef,gl.a,hl.a],{displayValue:[0,"displayValue"],size:[1,"size"]},{selected:"selected"}),t["\u0275qud"](335544320,2,{view:0}),(l()(),t["\u0275eld"](12,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](13,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"],listTpl:[1,"listTpl"]},null),t["\u0275prd"](2048,[[2,4]],fl.a,null,[vl.a]),(l()(),t["\u0275and"](0,[["dropdownRenderer",2]],null,0,null,Ce)),(l()(),t["\u0275eld"](16,0,null,null,0,"div",[["class","label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,9,"div",[["class","controls"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,xe)),t["\u0275did"](19,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,2,null,Se)),t["\u0275did"](22,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,2,null,_e)),t["\u0275did"](25,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](27,16777216,null,null,4,"ag-grid-angular",[["class","ag-theme-alpine c-ag-grid"]],null,[[null,"gridReady"],[null,"gridSizeChanged"]],function(l,n,e){var t=!0,a=l.component;return"gridReady"===n&&(t=!1!==a.onGridReady(e)&&t),"gridSizeChanged"===n&&(t=!1!==a.onGridSizeChanged(e)&&t),t},h.b,h.a)),t["\u0275prd"](512,null,b.e,b.e,[t.NgZone]),t["\u0275prd"](512,null,b.d,b.d,[]),t["\u0275did"](30,4898816,[["agGrid",4]],1,b.a,[t.ElementRef,t.ViewContainerRef,b.e,b.d,t.ComponentFactoryResolver],{gridOptions:[0,"gridOptions"],modules:[1,"modules"]},{gridReady:"gridReady",gridSizeChanged:"gridSizeChanged"}),t["\u0275qud"](603979776,3,{columns:1})],function(l,n){var e=n.component;l(n,4,0,e.activeForm),l(n,6,0,e.activeForm),l(n,10,0,t["\u0275nov"](n,15),"md"),l(n,13,0,e.filterList,t["\u0275nov"](n,15)),l(n,19,0,t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform(e.isCreateFilterEnabled))),l(n,22,0,t["\u0275unv"](n,22,0,t["\u0275nov"](n,23).transform(e.isUpdateFilterEnabled))),l(n,25,0,t["\u0275unv"](n,25,0,t["\u0275nov"](n,26).transform(e.isDeleteFilterEnabled))),l(n,30,0,e.gridOptions,e.modules)},function(l,n){l(n,8,0,t["\u0275nov"](n,10).hostClass)})}function Me(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-sapform-data",[],null,null,null,Pe,pe)),t["\u0275did"](1,114688,null,0,ce,[P.a,P.o,E.a,oe.a,M.j,me.e,v.a,C.a,w.a],null,null)],function(l,n){l(n,1,0)},null)}var we=t["\u0275ccf"]("app-sapform-data",ce,Me,{},{},[]),Ae=e("1Txd"),Ie=e("+jrW"),Ne=e("NpSD"),Oe=e("cbbC"),Re=e("Gv0t"),Ee=e("cN2v"),De=e("gKtx"),Te=e("GRwY"),Fe=e("P08G"),ke=e("quVZ"),Ve=e("t7MO"),Be=e("t68o"),Le=e("QFM9"),Ue=e("dmj2"),Ge=e("SQQW"),ze=e("I0pH"),qe=e("wX/Y"),We=e("rP3o"),He=e("tU3X"),Qe=e("uvqg"),Ke=e("J83G"),je=t["\u0275crt"]({encapsulation:0,styles:[[".bx--modal-content{margin-bottom:1rem}  .bx--modal-content .bx--dropdown__wrapper,   .bx--modal-content .bx--form-item{width:95%;margin-bottom:12px;display:block}  .bx--modal-close{display:none}  .bx--modal-footer button.bx--btn{padding-top:0;padding-bottom:0}"]],data:{}});function Ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,57,"ibm-modal",[],null,[[null,"overlaySelected"],[null,"keydown"]],function(l,n,e){var a=!0,i=l.component;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,1).handleKeyboardEvent(e)&&a),"overlaySelected"===n&&(a=!1!==i.closeModal()&&a),a},Oe.c,Oe.b)),t["\u0275did"](1,4440064,null,0,We.a,[w.a],null,{overlaySelected:"overlaySelected"}),(l()(),t["\u0275eld"](2,0,null,0,3,"ibm-modal-header",[],null,null,null,Ee.c,Ee.b)),t["\u0275did"](3,49152,null,0,He.a,[gl.a,Qe.a],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h4",[["ibmModalHeaderHeading",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Add Material Type"])),(l()(),t["\u0275eld"](6,0,null,0,43,"section",[["class","bx--modal-content"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var a=!0;return"submit"===n&&(a=!1!==t["\u0275nov"](l,7).onSubmit(e)&&a),"reset"===n&&(a=!1!==t["\u0275nov"](l,7).onReset()&&a),a},null,null)),t["\u0275did"](7,540672,null,0,K.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,K.ControlContainer,null,[K.FormGroupDirective]),t["\u0275did"](9,16384,null,0,K.NgControlStatusGroup,[[4,K.ControlContainer]],null,null),(l()(),t["\u0275eld"](10,0,null,null,9,"ibm-label",[],[[2,"bx--form-item",null]],null,null,_l.b,_l.a)),t["\u0275did"](11,1097728,null,0,Pl.a,[],null,null),(l()(),t["\u0275ted"](-1,0,[" SAP KPI Name "])),(l()(),t["\u0275eld"](13,0,null,1,6,"input",[["formControlName","kpiName"],["ibmText",""],["placeholder","Enter SAP KPI Name"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,15)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,15).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,15)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,15)._compositionEnd(e.target.value)&&a),a},null,null)),t["\u0275did"](14,16384,null,0,Ml.a,[],null,null),t["\u0275did"](15,16384,null,0,K.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,K.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[K.DefaultValueAccessor]),t["\u0275did"](17,671744,null,0,K.FormControlName,[[3,K.ControlContainer],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR],[2,K["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,K.NgControl,null,[K.FormControlName]),t["\u0275did"](19,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](20,0,null,null,9,"ibm-label",[],[[2,"bx--form-item",null]],null,null,_l.b,_l.a)),t["\u0275did"](21,1097728,null,0,Pl.a,[],{invalidText:[0,"invalidText"],invalid:[1,"invalid"]},null),(l()(),t["\u0275ted"](-1,0,[" Material Type "])),(l()(),t["\u0275eld"](23,0,null,1,6,"input",[["formControlName","material"],["ibmText",""],["placeholder","Enter Material Type"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var a=!0;return"input"===n&&(a=!1!==t["\u0275nov"](l,25)._handleInput(e.target.value)&&a),"blur"===n&&(a=!1!==t["\u0275nov"](l,25).onTouched()&&a),"compositionstart"===n&&(a=!1!==t["\u0275nov"](l,25)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t["\u0275nov"](l,25)._compositionEnd(e.target.value)&&a),a},null,null)),t["\u0275did"](24,16384,null,0,Ml.a,[],null,null),t["\u0275did"](25,16384,null,0,K.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,K.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[K.DefaultValueAccessor]),t["\u0275did"](27,671744,null,0,K.FormControlName,[[3,K.ControlContainer],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR],[2,K["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,K.NgControl,null,[K.FormControlName]),t["\u0275did"](29,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](30,0,null,null,9,"ibm-dropdown",[["formControlName","flag"],["placeholder","Select Flag"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,n,e){var a=!0;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,31).onKeyDown(e)&&a),a},ml.b,ml.a)),t["\u0275did"](31,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"]},null),t["\u0275qud"](335544320,1,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](34,671744,null,0,K.FormControlName,[[3,K.ControlContainer],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR],[2,K["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,K.NgControl,null,[K.FormControlName]),t["\u0275did"](36,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](37,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](38,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[1,4]],fl.a,null,[vl.a]),(l()(),t["\u0275eld"](40,0,null,null,9,"ibm-dropdown",[["formControlName","affix"],["placeholder","Select Affix"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,n,e){var a=!0;return"keydown"===n&&(a=!1!==t["\u0275nov"](l,41).onKeyDown(e)&&a),a},ml.b,ml.a)),t["\u0275did"](41,1294336,null,1,pl.a,[t.ElementRef,gl.a,hl.a],{label:[0,"label"],placeholder:[1,"placeholder"]},null),t["\u0275qud"](335544320,2,{view:0}),t["\u0275prd"](1024,null,K.NG_VALUE_ACCESSOR,function(l){return[l]},[pl.a]),t["\u0275did"](44,671744,null,0,K.FormControlName,[[3,K.ControlContainer],[8,null],[8,null],[6,K.NG_VALUE_ACCESSOR],[2,K["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,K.NgControl,null,[K.FormControlName]),t["\u0275did"](46,16384,null,0,K.NgControlStatus,[[4,K.NgControl]],null,null),(l()(),t["\u0275eld"](47,0,null,0,2,"ibm-dropdown-list",[],null,null,null,bl.b,bl.a)),t["\u0275did"](48,4374528,null,0,vl.a,[t.ElementRef,gl.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[2,4]],fl.a,null,[vl.a]),(l()(),t["\u0275eld"](50,0,null,0,7,"ibm-modal-footer",[],null,null,null,Re.c,Re.b)),t["\u0275did"](51,49152,null,0,Ke.a,[],null,null),(l()(),t["\u0275eld"](52,0,null,0,2,"button",[["ibmButton","secondary"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.closeModal()&&t),t},null,null)),t["\u0275did"](53,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,["Cancel"])),(l()(),t["\u0275eld"](55,0,null,0,2,"button",[["ibmButton","danger"],["modal-primary-focus",""]],[[8,"disabled",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSubmit()&&t),t},null,null)),t["\u0275did"](56,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,["Save"]))],function(l,n){var e=n.component;l(n,1,0),l(n,7,0,e.materialForm),l(n,17,0,"kpiName"),l(n,21,0,"KPI + Material Type already added",e.materialForm.errors&&e.materialForm.errors.duplicate&&(e.materialForm.touched||e.materialForm.dirty)),l(n,27,0,"material"),l(n,31,0,"Flag","Select Flag"),l(n,34,0,"flag"),l(n,38,0,e.flagDDItems),l(n,41,0,"Affix","Select Affix"),l(n,44,0,"affix"),l(n,48,0,e.affixDDItems),l(n,53,0,"secondary"),l(n,56,0,"danger")},function(l,n){var e=n.component;l(n,6,0,t["\u0275nov"](n,9).ngClassUntouched,t["\u0275nov"](n,9).ngClassTouched,t["\u0275nov"](n,9).ngClassPristine,t["\u0275nov"](n,9).ngClassDirty,t["\u0275nov"](n,9).ngClassValid,t["\u0275nov"](n,9).ngClassInvalid,t["\u0275nov"](n,9).ngClassPending),l(n,10,0,t["\u0275nov"](n,11).labelClass),l(n,13,1,[t["\u0275nov"](n,14).inputClass,t["\u0275nov"](n,14).invalid,t["\u0275nov"](n,14).skeleton,t["\u0275nov"](n,14).isLightTheme,t["\u0275nov"](n,19).ngClassUntouched,t["\u0275nov"](n,19).ngClassTouched,t["\u0275nov"](n,19).ngClassPristine,t["\u0275nov"](n,19).ngClassDirty,t["\u0275nov"](n,19).ngClassValid,t["\u0275nov"](n,19).ngClassInvalid,t["\u0275nov"](n,19).ngClassPending]),l(n,20,0,t["\u0275nov"](n,21).labelClass),l(n,23,1,[t["\u0275nov"](n,24).inputClass,t["\u0275nov"](n,24).invalid,t["\u0275nov"](n,24).skeleton,t["\u0275nov"](n,24).isLightTheme,t["\u0275nov"](n,29).ngClassUntouched,t["\u0275nov"](n,29).ngClassTouched,t["\u0275nov"](n,29).ngClassPristine,t["\u0275nov"](n,29).ngClassDirty,t["\u0275nov"](n,29).ngClassValid,t["\u0275nov"](n,29).ngClassInvalid,t["\u0275nov"](n,29).ngClassPending]),l(n,30,0,t["\u0275nov"](n,31).hostClass,t["\u0275nov"](n,36).ngClassUntouched,t["\u0275nov"](n,36).ngClassTouched,t["\u0275nov"](n,36).ngClassPristine,t["\u0275nov"](n,36).ngClassDirty,t["\u0275nov"](n,36).ngClassValid,t["\u0275nov"](n,36).ngClassInvalid,t["\u0275nov"](n,36).ngClassPending),l(n,40,0,t["\u0275nov"](n,41).hostClass,t["\u0275nov"](n,46).ngClassUntouched,t["\u0275nov"](n,46).ngClassTouched,t["\u0275nov"](n,46).ngClassPristine,t["\u0275nov"](n,46).ngClassDirty,t["\u0275nov"](n,46).ngClassValid,t["\u0275nov"](n,46).ngClassInvalid,t["\u0275nov"](n,46).ngClassPending),l(n,52,1,[t["\u0275nov"](n,53).baseClass,t["\u0275nov"](n,53).primaryButton,t["\u0275nov"](n,53).secondaryButton,t["\u0275nov"](n,53).tertiaryButton,t["\u0275nov"](n,53).ghostButton,t["\u0275nov"](n,53).dangerButton,t["\u0275nov"](n,53).dangerPrimaryButton,t["\u0275nov"](n,53).skeleton,t["\u0275nov"](n,53).smallSize,t["\u0275nov"](n,53).toolbarAction,t["\u0275nov"](n,53).overflowMenu]),l(n,55,1,[!e.materialForm.valid,t["\u0275nov"](n,56).baseClass,t["\u0275nov"](n,56).primaryButton,t["\u0275nov"](n,56).secondaryButton,t["\u0275nov"](n,56).tertiaryButton,t["\u0275nov"](n,56).ghostButton,t["\u0275nov"](n,56).dangerButton,t["\u0275nov"](n,56).dangerPrimaryButton,t["\u0275nov"](n,56).skeleton,t["\u0275nov"](n,56).smallSize,t["\u0275nov"](n,56).toolbarAction,t["\u0275nov"](n,56).overflowMenu])})}function $e(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-add-material-type",[],null,null,null,Ye,je)),t["\u0275did"](1,49152,null,0,Y,["data","dataRows",K.FormBuilder],null,null)],null,null)}var Xe=t["\u0275ccf"]("app-add-material-type",Y,$e,{},{close:"close"},[]),Ze=e("ZHEK"),Je=e("RJDq"),lt=e("U6oK"),nt=e("QQfA"),et=e("IP0z"),tt=e("POq0"),at=e("BTng"),it=e("/HVE"),ut=e("f8KH"),ot=e("maoM"),rt=e("Z3BZ"),st=e("XX5M"),dt=e("u1gT");class ct{}var mt=e("nU9L"),pt=e("+IpF"),gt=e("jQIA"),ht=e("+NSx"),bt=e("jPU2"),vt=e("h6sn"),ft=e("nXcq"),yt=e("eUdb"),Ct=e("SpJC"),xt=e("IxoR"),St=e("P5T4"),_t=e("H+bR"),Pt=e("nhzO"),Mt=e("cbyg"),wt=e("niTG"),At=e("XBWk"),It=e("4UMp"),Nt=e("5F/F"),Ot=e("3ezH"),Rt=e("zMNK"),Et=e("hOhj"),Dt=e("5GAg"),Tt=e("Lb5T"),Ft=e("ctAq"),kt=e("kEMu"),Vt=e("vjI9"),Bt=e("yKc8"),Lt=e("ezSh"),Ut=e("pVHs"),Gt=e("ixoK"),zt=e("LuTi"),qt=e("h5jA"),Wt=e("9Ntg"),Ht=e("wqUn"),Qt=e("HSTZ"),Kt=e("OZcg"),jt=e("nw/W"),Yt=e("EJfY"),$t=e("Tl03"),Xt=e("TnPb"),Zt=e("4CUH"),Jt=e("yY6o"),la=e("+5LG"),na=e("9LTo"),ea=e("YQsh"),ta=e("r4fo"),aa=e("Cp+m"),ia=e("md77"),ua=e("KsYJ"),oa=e("/swn"),ra=e("aWPX"),sa=e("GMRT"),da=e("+Inj"),ca=e("UWdB"),ma=e("Y/+N"),pa=e("PqSs"),ga=e("F5Q9"),ha=e("kdZC"),ba=e("BeZq"),va=e("bzBv"),fa=e("RCvU"),ya=e("Xd0L"),Ca=e("cUpR"),xa=e("ZQOu"),Sa=e("Jbdn"),_a=e("sNE8"),Pa=e("yFBK");e.d(n,"SapFormModuleNgFactory",function(){return Ma});var Ma=t["\u0275cmf"](i,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,O,U,ul,Hn,ae,we,Ae.a,Ie.c,Ie.d,Ne.a,Oe.a,Re.a,Ee.a,De.a,Te.a,Fe.a,ke.a,Ve.a,Be.a,Le.a,Ue.a,Ge.a,ze.a,qe.a,Xe]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,S.NgLocalization,S.NgLocaleLocalization,[t.LOCALE_ID,[2,S["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,K["\u0275angular_packages_forms_forms_o"],K["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,K.FormBuilder,K.FormBuilder,[]),t["\u0275mpd"](5120,gl.a,Ze.a,[[3,gl.a]]),t["\u0275mpd"](5120,Je.a,lt.a,[[3,Je.a]]),t["\u0275mpd"](4608,hl.a,hl.a,[Je.a]),t["\u0275mpd"](4608,nt.b,nt.b,[nt.h,nt.d,t.ComponentFactoryResolver,nt.g,nt.e,t.Injector,t.NgZone,S.DOCUMENT,et.b,[2,S.Location]]),t["\u0275mpd"](5120,nt.i,nt.j,[nt.b]),t["\u0275mpd"](4608,tt.a,tt.a,[]),t["\u0275mpd"](5120,at.s,at.t,[nt.b]),t["\u0275mpd"](4608,at.v,at.v,[nt.b,t.Injector,[2,S.Location],at.s,[2,at.u],[3,at.v],nt.d]),t["\u0275mpd"](4608,at.f,at.f,[]),t["\u0275mpd"](5120,at.o,at.p,[nt.b]),t["\u0275mpd"](4608,at.a,at.m,[[2,at.c],it.a]),t["\u0275mpd"](5120,Qe.a,ut.a,[[3,Qe.a]]),t["\u0275mpd"](4608,w.a,w.a,[t.ComponentFactoryResolver,Je.a]),t["\u0275mpd"](4608,ot.a,ot.a,[t.ComponentFactoryResolver,t.Injector,Je.a]),t["\u0275mpd"](4608,rt.a,rt.a,[$.a]),t["\u0275mpd"](4608,Yl.a,Yl.a,[Al.a,$.a]),t["\u0275mpd"](4608,Pn.a,Pn.a,[$.a]),t["\u0275mpd"](4608,st.a,st.a,[$.a]),t["\u0275mpd"](5120,me.c,me.d,[nt.b]),t["\u0275mpd"](135680,me.e,me.e,[nt.b,t.Injector,[2,S.Location],[2,me.b],me.c,[3,me.e],nt.d]),t["\u0275mpd"](4608,E.a,E.a,[$.a]),t["\u0275mpd"](4608,oe.a,oe.a,[$.a]),t["\u0275mpd"](4608,dt.a,dt.a,[$.a]),t["\u0275mpd"](4608,v.a,v.a,[$.a]),t["\u0275mpd"](4608,C.a,C.a,[]),t["\u0275mpd"](1073742336,S.CommonModule,S.CommonModule,[]),t["\u0275mpd"](1073742336,P.s,P.s,[[2,P.x],[2,P.o]]),t["\u0275mpd"](1073742336,ct,ct,[]),t["\u0275mpd"](1073742336,mt.a,mt.a,[]),t["\u0275mpd"](1073742336,K["\u0275angular_packages_forms_forms_d"],K["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,K.FormsModule,K.FormsModule,[]),t["\u0275mpd"](1073742336,K.ReactiveFormsModule,K.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,pt.c,pt.c,[]),t["\u0275mpd"](1073742336,gt.a,gt.a,[]),t["\u0275mpd"](1073742336,Ze.c,Ze.c,[]),t["\u0275mpd"](1073742336,lt.b,lt.b,[]),t["\u0275mpd"](1073742336,ht.c,ht.c,[]),t["\u0275mpd"](1073742336,bt.a,bt.a,[]),t["\u0275mpd"](1073742336,vt.a,vt.a,[]),t["\u0275mpd"](1073742336,ft.a,ft.a,[]),t["\u0275mpd"](1073742336,yt.c,yt.c,[]),t["\u0275mpd"](1073742336,Ct.a,Ct.a,[]),t["\u0275mpd"](1073742336,xt.a,xt.a,[]),t["\u0275mpd"](1073742336,St.a,St.a,[]),t["\u0275mpd"](1073742336,_t.a,_t.a,[]),t["\u0275mpd"](1073742336,Pt.a,Pt.a,[]),t["\u0275mpd"](1073742336,Mt.a,Mt.a,[]),t["\u0275mpd"](1073742336,wt.c,wt.c,[]),t["\u0275mpd"](1073742336,At.c,At.c,[]),t["\u0275mpd"](1073742336,It.a,It.a,[]),t["\u0275mpd"](1073742336,Nt.a,Nt.a,[]),t["\u0275mpd"](1073742336,Ot.a,Ot.a,[]),t["\u0275mpd"](1073742336,et.a,et.a,[]),t["\u0275mpd"](1073742336,Rt.f,Rt.f,[]),t["\u0275mpd"](1073742336,it.b,it.b,[]),t["\u0275mpd"](1073742336,Et.ScrollingModule,Et.ScrollingModule,[]),t["\u0275mpd"](1073742336,nt.f,nt.f,[]),t["\u0275mpd"](1073742336,tt.b,tt.b,[]),t["\u0275mpd"](1073742336,Dt.a,Dt.a,[]),t["\u0275mpd"](1073742336,at.q,at.q,[]),t["\u0275mpd"](1073742336,at.g,at.g,[]),t["\u0275mpd"](1073742336,at.i,at.i,[]),t["\u0275mpd"](1073742336,at.h,at.h,[]),t["\u0275mpd"](1073742336,Tt.b,Tt.b,[]),t["\u0275mpd"](1073742336,_n.b,_n.b,[]),t["\u0275mpd"](1073742336,ut.b,ut.b,[]),t["\u0275mpd"](1073742336,Ft.b,Ft.b,[]),t["\u0275mpd"](1073742336,kt.a,kt.a,[]),t["\u0275mpd"](1073742336,Vt.b,Vt.b,[]),t["\u0275mpd"](1073742336,Bt.a,Bt.a,[]),t["\u0275mpd"](1073742336,Lt.a,Lt.a,[]),t["\u0275mpd"](1073742336,Ut.a,Ut.a,[]),t["\u0275mpd"](1073742336,Gt.c,Gt.c,[]),t["\u0275mpd"](1073742336,zt.d,zt.d,[]),t["\u0275mpd"](1073742336,qt.c,qt.c,[]),t["\u0275mpd"](1073742336,Wt.c,Wt.c,[]),t["\u0275mpd"](1073742336,Ht.b,Ht.b,[]),t["\u0275mpd"](1073742336,Qt.a,Qt.a,[]),t["\u0275mpd"](1073742336,Kt.a,Kt.a,[]),t["\u0275mpd"](1073742336,jt.b,jt.b,[]),t["\u0275mpd"](1073742336,Yt.a,Yt.a,[]),t["\u0275mpd"](1073742336,$t.a,$t.a,[]),t["\u0275mpd"](1073742336,g.b,g.b,[]),t["\u0275mpd"](1073742336,Xt.b,Xt.b,[]),t["\u0275mpd"](1073742336,Zt.b,Zt.b,[]),t["\u0275mpd"](1073742336,Jt.b,Jt.b,[]),t["\u0275mpd"](1073742336,la.a,la.a,[]),t["\u0275mpd"](1073742336,na.b,na.b,[]),t["\u0275mpd"](1073742336,ea.b,ea.b,[]),t["\u0275mpd"](1073742336,ta.a,ta.a,[]),t["\u0275mpd"](1073742336,aa.b,aa.b,[]),t["\u0275mpd"](1073742336,z.b,z.b,[]),t["\u0275mpd"](1073742336,ie.b,ie.b,[]),t["\u0275mpd"](1073742336,q.b,q.b,[]),t["\u0275mpd"](1073742336,ia.b,ia.b,[]),t["\u0275mpd"](1073742336,Cl.b,Cl.b,[]),t["\u0275mpd"](1073742336,ua.b,ua.b,[]),t["\u0275mpd"](1073742336,oa.b,oa.b,[]),t["\u0275mpd"](1073742336,ra.b,ra.b,[]),t["\u0275mpd"](1073742336,sa.b,sa.b,[]),t["\u0275mpd"](1073742336,da.a,da.a,[]),t["\u0275mpd"](1073742336,ca.c,ca.c,[]),t["\u0275mpd"](1073742336,ma.a,ma.a,[]),t["\u0275mpd"](1073742336,pa.a,pa.a,[]),t["\u0275mpd"](1073742336,ga.a,ga.a,[]),t["\u0275mpd"](1073742336,ha.b,ha.b,[]),t["\u0275mpd"](1073742336,ba.b,ba.b,[]),t["\u0275mpd"](1073742336,yl.b,yl.b,[]),t["\u0275mpd"](1073742336,va.b,va.b,[]),t["\u0275mpd"](1073742336,fa.b,fa.b,[]),t["\u0275mpd"](1073742336,R.b,R.b,[]),t["\u0275mpd"](1073742336,G.b,G.b,[]),t["\u0275mpd"](1073742336,ya.e,ya.e,[[2,ya.b],[2,Ca.f]]),t["\u0275mpd"](1073742336,me.k,me.k,[]),t["\u0275mpd"](1073742336,xa.a,xa.a,[]),t["\u0275mpd"](1073742336,Sa.a,Sa.a,[]),t["\u0275mpd"](1073742336,_a.a,_a.a,[]),t["\u0275mpd"](1073742336,b.c,b.c,[]),t["\u0275mpd"](1073742336,i,i,[]),t["\u0275mpd"](1024,P.m,function(){return[[{path:"list",component:_},{path:"forms",component:k},{path:"material-filter",component:ll},{path:"add",component:kn},{path:"edit/:id",component:kn},{path:"approval",component:Kn},{path:"form/:id/data",component:ce},{path:"form/:id/filter",component:ce}],[{path:"",component:Pa.a}]]},[]),t["\u0275mpd"](256,at.b,at.n,[])])})},bzBv:function(l,n,e){"use strict";e.d(n,"a",function(){return u}),e.d(n,"b",function(){return o});var t=e("8Y7J"),a=e("O9pe"),i=function(){function l(){this.focusable=!1}return l.decorators=[{type:t.Component,args:[{selector:"ibm-icon-notebook-reference20",template:'\n    <svg\n      ibmIconNotebookReference20\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],l.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],focusable:[{type:t.Input}],innerClass:[{type:t.Input}]},l}(),u=function(){function l(l){this.elementRef=l,this.isFocusable=!1}return l.prototype.ngAfterViewInit=function(){var n=this.elementRef.nativeElement;n.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var e=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M4 20v2h3.586L2 27.586 3.414 29 9 23.414V27h2v-7H4zm15-10h7v2h-7zm0 5h7v2h-7zm0 5h7v2h-7z"></path><path d="M28 5H4a2.002 2.002 0 0 0-2 2v10h2V7h11v20h13a2.002 2.002 0 0 0 2-2V7a2.002 2.002 0 0 0-2-2zM17 25V7h11l.002 18z"></path></svg>',"image/svg+xml").documentElement.firstChild;e;)n.appendChild(n.ownerDocument.importNode(e,!0)),e=e.nextSibling;for(var t=Object(a.a)({width:20,height:20,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),i=Object.keys(t),u=0;u<i.length;u++){var o=i[u],r=t[o];"title"!==o&&r&&n.setAttribute(o,r)}if(t.title){var s=document.createElement("title");s.textContent=t.title,s.setAttribute("id","notebook-reference20-"+ ++l.titleIdCounter),n.appendChild(s),n.setAttribute("aria-labelledby","notebook-reference20-"+l.titleIdCounter)}},l.titleIdCounter=0,l.decorators=[{type:t.Directive,args:[{selector:"[ibmIconNotebookReference20]"}]}],l.ctorParameters=function(){return[{type:t.ElementRef}]},l.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],isFocusable:[{type:t.Input}]},l}(),o=function(){function l(){}return l.decorators=[{type:t.NgModule,args:[{declarations:[i,u],exports:[i,u]}]}],l}()},"nw/W":function(l,n,e){"use strict";e.d(n,"a",function(){return u}),e.d(n,"b",function(){return o});var t=e("8Y7J"),a=e("O9pe"),i=function(){function l(){this.focusable=!1}return l.decorators=[{type:t.Component,args:[{selector:"ibm-icon-chevron-up16",template:'\n    <svg\n      ibmIconChevronUp16\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],l.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],focusable:[{type:t.Input}],innerClass:[{type:t.Input}]},l}(),u=function(){function l(l){this.elementRef=l,this.isFocusable=!1}return l.prototype.ngAfterViewInit=function(){var n=this.elementRef.nativeElement;n.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var e=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><path d="M8 5l5 5-.7.7L8 6.4l-4.3 4.3L3 10z"></path></svg>',"image/svg+xml").documentElement.firstChild;e;)n.appendChild(n.ownerDocument.importNode(e,!0)),e=e.nextSibling;for(var t=Object(a.a)({width:16,height:16,viewBox:"0 0 16 16",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),i=Object.keys(t),u=0;u<i.length;u++){var o=i[u],r=t[o];"title"!==o&&r&&n.setAttribute(o,r)}if(t.title){var s=document.createElement("title");s.textContent=t.title,s.setAttribute("id","chevron-up16-"+ ++l.titleIdCounter),n.appendChild(s),n.setAttribute("aria-labelledby","chevron-up16-"+l.titleIdCounter)}},l.titleIdCounter=0,l.decorators=[{type:t.Directive,args:[{selector:"[ibmIconChevronUp16]"}]}],l.ctorParameters=function(){return[{type:t.ElementRef}]},l.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],isFocusable:[{type:t.Input}]},l}(),o=function(){function l(){}return l.decorators=[{type:t.NgModule,args:[{declarations:[i,u],exports:[i,u]}]}],l}()},u1gT:function(l,n,e){"use strict";e.d(n,"a",function(){return u}),e("pQSL");var t=e("XNiG"),a=e("IheW"),i=e("bl9C");class u{constructor(l){this.tqmiHttpService=l,this.apiPath={importFiles:"api/upload-status",importGoals:"api/upload-goals",importKPI:"api/upload-kpi-data",importExtension:"api/upload-extension-mapping",downloadTemplate:"api/download-DI-templates",formDataFileDownloadUrl:"api/download-form-data-file"},this.importerSortSub=new t.a}getImportedFiles(l,n,e,t,u){let o=new a.h;return o=(o=o.set("limit",n.toString())).set("skip",l.toString()),e&&(o=o.set("type",e)),t&&(o=o.set("formId",t)),u&&u.order&&(o=(o=o.set("sortBy",u.filter)).set("sortOrder",u.order)),this.tqmiHttpService.get(this.apiPath.importFiles,{apiType:i.a.IMPORT,params:o})}postImportedFiles(l,n){const e=new FormData;return e.append("goal",l,l.name),e.append("goal_mapping",n,n.name),this.tqmiHttpService.post(this.apiPath.importGoals,e,{apiType:i.a.IMPORT})}postActualFiles(l){const n=new FormData;return n.append("kpi_data",l,l.name),this.tqmiHttpService.post(this.apiPath.importKPI,n,{apiType:i.a.IMPORT})}postExtensionFiles(l){const n=new FormData;return n.append("extension_mapping",l,l.name),this.tqmiHttpService.post(this.apiPath.importExtension,n,{apiType:i.a.IMPORT})}downloadTemplate(l){let n=new a.h;return n=n.set("fileName","DataImporter/"+l),this.tqmiHttpService.get(this.apiPath.downloadTemplate,{apiType:i.a.IMPORT,params:n})}getFormDataFileDownloadUrl(l,n){let e=new a.h;return e=e.set("fileName",l),n&&(e=e.set("versionId",n)),this.tqmiHttpService.get(this.apiPath.formDataFileDownloadUrl,{apiType:i.a.IMPORT,params:e})}}}}]);