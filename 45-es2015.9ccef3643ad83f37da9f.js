(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"4vLU":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var l=n("8Y7J"),a=n("O9pe"),i=function(){function e(){this.focusable=!1}return e.decorators=[{type:l.Component,args:[{selector:"ibm-icon-document-import20",template:'\n    <svg\n      ibmIconDocumentImport20\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],e.propDecorators={ariaLabel:[{type:l.Input}],ariaLabelledby:[{type:l.Input}],ariaHidden:[{type:l.Input}],title:[{type:l.Input}],focusable:[{type:l.Input}],innerClass:[{type:l.Input}]},e}(),r=function(){function e(e){this.elementRef=e,this.isFocusable=!1}return e.prototype.ngAfterViewInit=function(){var t=this.elementRef.nativeElement;t.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M28 19H14.83l2.58-2.59L16 15l-5 5 5 5 1.41-1.41L14.83 21H28v-2z"></path><path d="M24 14v-4a1 1 0 0 0-.29-.71l-7-7A1 1 0 0 0 16 2H6a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2h-2v2H6V4h8v6a2 2 0 0 0 2 2h6v2zm-8-4V4.41L21.59 10z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)t.appendChild(t.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var l=Object(a.a)({width:20,height:20,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),i=Object.keys(l),r=0;r<i.length;r++){var o=i[r],s=l[o];"title"!==o&&s&&t.setAttribute(o,s)}if(l.title){var u=document.createElement("title");u.textContent=l.title,u.setAttribute("id","document-import20-"+ ++e.titleIdCounter),t.appendChild(u),t.setAttribute("aria-labelledby","document-import20-"+e.titleIdCounter)}},e.titleIdCounter=0,e.decorators=[{type:l.Directive,args:[{selector:"[ibmIconDocumentImport20]"}]}],e.ctorParameters=function(){return[{type:l.ElementRef}]},e.propDecorators={ariaLabel:[{type:l.Input}],ariaLabelledby:[{type:l.Input}],ariaHidden:[{type:l.Input}],title:[{type:l.Input}],isFocusable:[{type:l.Input}]},e}(),o=function(){function e(){}return e.decorators=[{type:l.NgModule,args:[{declarations:[i,r],exports:[i,r]}]}],e}()},"4y4f":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var l=n("8Y7J"),a=n("O9pe"),i=function(){function e(){this.focusable=!1}return e.decorators=[{type:l.Component,args:[{selector:"ibm-icon-trash-can20",template:'\n    <svg\n      ibmIconTrashCan20\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],e.propDecorators={ariaLabel:[{type:l.Input}],ariaLabelledby:[{type:l.Input}],ariaHidden:[{type:l.Input}],title:[{type:l.Input}],focusable:[{type:l.Input}],innerClass:[{type:l.Input}]},e}(),r=function(){function e(e){this.elementRef=e,this.isFocusable=!1}return e.prototype.ngAfterViewInit=function(){var t=this.elementRef.nativeElement;t.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M12 12h2v12h-2zm6 0h2v12h-2z"></path><path d="M4 6v2h2v20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8h2V6zm4 22V8h16v20zm4-26h8v2h-8z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)t.appendChild(t.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var l=Object(a.a)({width:20,height:20,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),i=Object.keys(l),r=0;r<i.length;r++){var o=i[r],s=l[o];"title"!==o&&s&&t.setAttribute(o,s)}if(l.title){var u=document.createElement("title");u.textContent=l.title,u.setAttribute("id","trash-can20-"+ ++e.titleIdCounter),t.appendChild(u),t.setAttribute("aria-labelledby","trash-can20-"+e.titleIdCounter)}},e.titleIdCounter=0,e.decorators=[{type:l.Directive,args:[{selector:"[ibmIconTrashCan20]"}]}],e.ctorParameters=function(){return[{type:l.ElementRef}]},e.propDecorators={ariaLabel:[{type:l.Input}],ariaLabelledby:[{type:l.Input}],ariaHidden:[{type:l.Input}],title:[{type:l.Input}],isFocusable:[{type:l.Input}]},e}(),o=function(){function e(){}return e.decorators=[{type:l.NgModule,args:[{declarations:[i,r],exports:[i,r]}]}],e}()},Amkq:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return f});var l=n("8Y7J"),a=n("kd83"),i=n("+IpF"),r=n("SVse"),o=(n("WeWU"),l["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","bx--form__helper-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.helperText)})}function u(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ibm-icon-warning-filled16",[["class","bx--text-input__invalid-icon bx--text-area__invalid-icon"]],null,null,null,a.b,a.a)),l["\u0275did"](1,49152,null,0,i.a,[],null,null)],null,null)}function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.invalidText)})}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](0,null,null,0))],null,null)}function c(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,m)),l["\u0275did"](1,540672,null,0,r.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,t){e(t,1,0,t.component.invalidText)},null)}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","bx--form-requirement"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,d)),l["\u0275did"](2,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,c)),l["\u0275did"](4,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,!n.isTemplate(n.invalidText)),e(t,4,0,n.isTemplate(n.invalidText))},null)}function f(e){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{wrapper:0}),(e()(),l["\u0275eld"](1,0,null,null,4,"label",[["class","bx--label"]],[[8,"htmlFor",0]],null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](3,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](4,{"bx--skeleton":0}),l["\u0275ncd"](null,0),(e()(),l["\u0275and"](16777216,null,null,1,null,s)),l["\u0275did"](7,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](8,0,[[1,0],["wrapper",1]],null,3,"div",[["class","bx--text-input__field-wrapper"]],[[1,"data-invalid",0]],null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,u)),l["\u0275did"](10,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275ncd"](null,1),(e()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=e(t,4,0,n.skeleton);e(t,3,0,"bx--label",l),e(t,7,0,!n.skeleton),e(t,10,0,n.invalid),e(t,13,0,n.invalid)},function(e,t){var n=t.component;e(t,1,0,n.labelInputID),e(t,8,0,!!n.invalid||null)})}},CX5l:function(e,t,n){"use strict";n.d(t,"a",function(){return l});class l{}},HTWL:function(e,t,n){"use strict";n.d(t,"a",function(){return l});const l={KPI_UOM_FORM_FIELD_UOM_NOT_MATCHING:"The Unit of Measurement for this KPI/Objective does not match the Unit of Measurement of the chosen form field.",KPI_UOM_PARENT_UOM_NOT_MATCHING:"The Unit of Measurement for this KPI does not match the Unit of Measurement of the chosen MP/Parent",KPI_ACCEPTANCE_ERROR:"KPI acceptance failed",KPI_ACCEPTED_SUCCESS:"KPI accepted successfully",KPI_ACCEPTANCE_ERROR_NOT_ENOUGH_WEIGHTAGE:"KPI can not be accepted because Primary owner does not has enough weightage",KPI_APPROVAL_SUCCESS:"KPI approved successfully",KPI_APPROVAL_ERROR:"KPI approval failed",KPI_APPROVAL_ERROR_NOT_ENOUGH_WEIGHTAGE:"KPI can not be approved because Primary owner does not has enough weightage",CURRENT_FY_KPI_RECOMPUTATION_SUCCESS:"Data for all KPIs belonging to current financial year will be recomputed. This operation will take a while to complete",CURRENT_FY_KPI_RECOMPUTATION_ERROR:"Error while recomputing data for current financial year KPI",FORM_RECORD_FETCH_ERROR:"Error fetching form information",FORM_APPROVAL_REQUIRED:"Approver is required",FORM_SUBMITTED_SUCCESS:"Form submitted successfully",FORM_EDITED_SUCCESS:"Form edited successfully",FORM_DELETED_SUCCESS:"Form deleted successfully",FORM_NOT_FOUND:"Could not find the form",FORM_DELETION_PERMISSION_ERROR:"User does not have permission to delete the form",FORM_DELETION_CONSUMERS_ERROR:"The form cannot be deleted as it is being used in KPIs or Metrics",FORM_DELETION_ERROR:"An error occurred while deleting the form",FORM_DELETE_CONFIRMATION:"Are you sure you want to delete this Form? Please check all consumers of the form because the consumers will not get the form data once the form is deleted.",EXPORT_FORM_DELETED_SUCCESS:"Export form deleted successfully",EXPORT_CONFIG_SAVED_SUCCESS:"Configuration saved successfully",EXPORT_CONFIG_COLUMN_SELECTION_WARNING:"Please select at least one column from all the selected forms",FORM_APPROVAL_SUCCESS:"Form approved successfully",FORM_DATA_SAVED_SUCCESS:"Form data saved successfully",FORM_DATA_UPDATED_SUCCESS:"Form data updated successfully",FORM_DATA_REQUEST_INVALID:"Form data request is not valid",FORM_SUBMISSION_LINK_WARNING:"Please select submission to link",FORM_DATA_DELETED_SUCESS:"Form data deleted successfully",FORM_RECOMPUTATION_REQUEST_SENT_SUCCESS:"Data recomputation request has been successfully sent for this form. It will take some time to re-compute data for all KPIs associated with this form.",FORM_RECOMPUTATION_REQUEST_SENT_ERROR:"Error while sending data recomputation request for this form",MIN_ONE_REPORT_NEEDED:"At least one report is needed",MAX_THREE_REPORTS_ALLOWED:"More than 3 report not allowed",SCATTER_PLOT_2_KPI_SELECTION_WARNING:"Select exact 2 KPIs to see data in scatter plot",SELECT_KPIS_WITH_SAME_UOM_WARNING:"Select KPIs with same unit of measurement",GROUP_CREATED_SUCCESS:"Group created successfully",GROUP_UPDATED_SUCCESS:"Group updated successfully",METRIC_APPROVAL_SUCCESS:"Metric approved successfully",EMPTY_MESSAGE_WARNING:"Please write something to discuss about",DISCUSSION_RAISED_SUCCESS:"Discussion raised successfully",PLEASE_SELECT_DATE:"Please select date",NO_DATA_SAMPLE_SELECTED:"No data sample selected",MISSING_ABNORMALITY_DESCRIPTION_WARNING:"Please enter abnormality description",MISSING_ABNORMALITY_TYPE_WARNING:"Please select abnormality type",MISSING_DEPARTMENT_WARNING:"Please select department",MISSING_LOCATION_WARNING:"Please enter location",MISSING_ABNORMALITY_DATE_WARNING:"Please select date observed on",MISSING_ABNORMALITY_REPORTEE_WARNING:"Please select reported user",MISSING_ANALYSIS_DESCRIPTION_WARNING:"Please enter analysis description",MISSING_ABNORMALITY_CAUSE_WARNING:"Please select abnormality cause",MISSING_ACTION_DESCRIPTION_WARNING:"Please enter description for containment action",MISSING_ACTION_ASSIGNEE_WARNING:"Please select assigned to for action",MISSING_ACTION_DATE_WARNING:"Please select action date for containment action",MISSING_ACTION_PROGRESS_WARNING:"Please select progress for containment action",MIN_ONE_ACTION_REQUIRED_WARNING:"Please add atleast one action",ABNORMALITY_ADDED_SUCCESS:"Abnormality added successfully",ABNORMALITY_UPDATED_SUCCESS:"Abnormality updated successfully",SAP_CONFIG_APPROVAL_SUCCESS:"Configuration approved successfully",SAP_CONFIG_RECORD_NOT_FOUND_ERROR:"SAP Configuration record was not found",SAP_DATA_SYNC_MESSAGE:"Request submitted. It will take some time to bring the data.",SAP_MISSING_SERVICE_QUERY_NAME_WARNING:"Please input service query parameter name",SAP_MISSING_SERVICE_QUERY_VALUE_WARNING:"Please input service query parameter value",SAP_MISSING_SERVICE_QUERY_DATA_TYPE_WARNING:"Please select service query parameter data type",SAP_SERVICE_RESPONSE_MAP_MISSING_LABEL_WARNING:"Please enter label",SAP_SERVICE_RESPONSE_MAP_MISSING_DATA_TYPE_WARNING:"Please select data type",SAP_SERVICE_RESPONSE_MAP_MISSING_KEY_WARNING:"Please enter SAP key name",SAP_SERVICE_RESPONSE_MAP_UNIT_WARNING:"Please select unit of measurement",SAP_SERVICE_RESPONSE_MORE_THAN_ONE_SAMPLE_DATE_TIME:"Can not have more than one data sample date & time",CHART_COLOUR_ADDED_SUCCESS:"Chart colours added",CHART_COLOUR_UPDATED_SUCCESS:"Chart colours updated",CHART_COLOUR_DELETED_SUCCESS:"Colour deleted successfully",HOLIDAY_ADDED_SUCCESS:"Holiday added",HOLIDAY_UPDATED_SUCCESS:"Holiday updated",HOLIDAY_DELETED_SUCCESS:"Holiday deleted",MISSING_HOLIDAY_DETAILS_WARNING:"Please fill holiday details",UNEXPECTED_ERROR:"Unexpected error occured",PLEASE_TRY_AGAIN:"Something went wrong. Please try again later",RDBMS_SERVICE_RESPONSE_MAP_MISSING_COLUMN_NAME_WARNING:"Please enter column name",APPROVAL_EXEMPTION_RECORD_ADD_SUCCESS:"Approval exemption record added successfully",APPROVAL_EXEMPTION_RECORD_UPDATE_SUCCESS:"Approval exemption record updated successfully",APPROVAL_EXEMPTION_RECORD_DELETE_SUCCESS:"Approval exemption record deleted successfully",APPROVAL_EXEMPTION_RECORD_ADD_FAILURE:"Error while adding a new approval exemption record",APPROVAL_EXEMPTION_RECORD_UPDATE_FAILURE:"Error while updating the approval exemption record",APPROVAL_EXEMPTION_RECORD_DELETE_FAILURE:"Error while deleting the approval exemption record",FORM_FILTERS_FETCH_ERROR:"Error fetching filters for the selected form",FORM_CONSUMERS_FETCH_ERROR:"Error while fetching the consumers of form",FORM_DATA_FILE_DOWNLOAD_ERROR:"Error while downloading the form data file"}},MqE1:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n("pQSL");var l=n("IheW");class a{constructor(e){this.tqmiHttpService=e,this.apiPath={forms:"api/forms",getFormDetails:"api/form",getByFormId:"api/formbyid",approveForm:"api/approve-form/",raiseDiscussion:"api/need-discussion",approverFormList:"api/get-pending-approval-forms-list",enableDisableForm:"/api/enable-disable-form",raiseEnableDisableRequest:"api/form-enable-disable-request",enableDisable:"api/enable-disable-form",getEmployeeForms:"api/form-listing-with-dependent-of",formsDataListingIntersection:"api/form-data-listing-with-intersection",getFormDataEntry:"api/get-form-data-by-id",formsDataListingDownloadIntersection:"api/download-form-data-listing-with-intersection",performRecomputations:"api/perform-recomputation",getLatestFormData:"api/get-latest-form-data",addExport:"api/form-list-config",updateExportConfig:"api/form-list-config",getForms:"api/form-list-by-individuals-departments",getExportTableData:"api/form-list-given-config",exportToExcel:"api/download-form-list-given-config",downloadFormTemplate:"api/download-form-template",masterformdata:"api/master-data-map",masterdataforform:"api/get-master-data-for-form",masterdataDuplicacyCheck:"api/find-existing-master-data-by-name",getDropdownDataforColumns:"api/get-form-field-unique-values",formFilters:"api/form-filter",applyFilter:"api/apply-filter"}}getForms(e,t,n,a,i){let r=(new l.h).set("formDataSource","INTERNAL").set("sortBy",i||"createdDate").set("sort",a||"desc").set("startFrom",t.toString()).set("limit",n.toString());return e&&e.trim().length&&(r=r.set("searchQuery",e)),this.tqmiHttpService.get(this.apiPath.forms,{apiType:"forms",params:r})}getFormListing(e,t,n,a){let i=(new l.h).set("sortBy","createdDate").set("sort","desc").set("startFrom",t.toString()).set("isApproved",a.toString()).set("limit",n.toString());return e&&e.trim().length&&(i=i.set("searchQuery",e)),this.tqmiHttpService.get(this.apiPath.forms,{apiType:"forms",params:i})}getApproverFormListing(e,t,n){let a=(new l.h).set("sortBy","createdDate").set("sort","desc").set("startFrom",t.toString()).set("limit",n.toString());return e&&e.trim().length&&(a=a.set("searchQuery",e)),this.tqmiHttpService.get(this.apiPath.approverFormList,{apiType:"forms",params:a})}getByFormId(e){return this.tqmiHttpService.get(this.apiPath.getByFormId+"/"+e.toString(),{apiType:"forms"})}getFormDetail(e){return this.tqmiHttpService.get(this.apiPath.getFormDetails+"/"+e,{apiType:"forms"})}addForms(e){return this.tqmiHttpService.post(this.apiPath.forms,e,{apiType:"forms"})}updateForms(e){return this.tqmiHttpService.patch(this.apiPath.forms,e,{apiType:"forms"})}approveForm(e){return this.tqmiHttpService.post(this.apiPath.approveForm+e,{},{apiType:"forms"})}raiseDiscussionForm(e){return this.tqmiHttpService.post(this.apiPath.raiseDiscussion,e,{apiType:"forms"})}raiseEnableDisableRequest(e,t){return this.tqmiHttpService.post(this.apiPath.raiseEnableDisableRequest+"/"+e,{action:t?"ENABLE":"DISABLE"},{apiType:"forms"})}enableDisable(e,t){return this.tqmiHttpService.post(this.apiPath.enableDisable+"/"+e,{action:t?"ENABLE":"DISABLE"},{apiType:"forms"})}getEmployeeForm(e,t){let n=(new l.h).set("formId",t);return this.tqmiHttpService.get(this.apiPath.getEmployeeForms+"/"+e,{apiType:"forms",params:n})}getEmployeeFormDetails(e,t,n,a,i,r,o,s){let u=(new l.h).set("limit",n.toString()).set("formId1",a).set("skip",r);return o&&(u=u.set("sortOnKey",o).set("sort",s)),""!=i&&(u=u.set("formId2",i)),e&&e.trim().length&&(u=u.set("searchQuery",e)),this.tqmiHttpService.get(this.apiPath.formsDataListingIntersection,{apiType:"forms",params:u})}downloadFormData(e,t,n,a,i,r){let o=(new l.h).set("formId1",n);return o=o.set("employeeId",r),""!=a&&(o=o.set("formId2",a)),t&&(o=o.set("limit",t.toString())),i&&(o=o.set("skip",i)),e&&e.trim().length&&(o=o.set("searchQuery",e)),this.tqmiHttpService.get(this.apiPath.formsDataListingDownloadIntersection,{apiType:"forms",params:o})}performRecomputations(e){return this.tqmiHttpService.get(this.apiPath.performRecomputations+"/"+e,{apiType:"forms"})}recalculateKpisForForm(e,t,n){return this.tqmiHttpService.post(`${this.apiPath.forms}/${e}/recalculate`,{startDate:t,endDate:n},{apiType:"forms"})}getFormDataById(e){return this.tqmiHttpService.get(this.apiPath.getFormDataEntry+"/"+e,{apiType:"forms"})}getLatestFormData(e,t){return this.tqmiHttpService.get(this.apiPath.getLatestFormData+"?formId="+e+"&fieldId="+t,{apiType:"forms"})}getFormsExportTabs(){return this.tqmiHttpService.get(this.apiPath.addExport,{apiType:"forms"})}addFormsExport(e){return this.tqmiHttpService.post(this.apiPath.addExport,e,{apiType:"forms"})}getExportFormDetails(e,t,n,a){let i=new l.h;return t&&(i=i.set("employeeIdList",t)),a.length&&(i=i.set("groupIdList",a)),n.length&&(i=i.set("departmentIdList",n)),e&&e.trim().length&&(i=i.set("searchparam",e)),this.tqmiHttpService.get(this.apiPath.getForms,{apiType:"forms",params:i})}updateExportForms(e){return this.tqmiHttpService.patch(this.apiPath.addExport,e,{apiType:"forms"})}getFormDetailExport(e){return this.tqmiHttpService.get(this.apiPath.addExport+"/"+e,{apiType:"forms"})}getFormExportTableData(e,t,n,a){let i=(new l.h).set("limit",n.toString()).set("skip",a);return e&&(i=i.set("searchparam",e)),this.tqmiHttpService.get(this.apiPath.getExportTableData+"/"+t,{apiType:"forms",params:i})}getFormExportUrl(e){return this.tqmiHttpService.get(this.apiPath.exportToExcel+"/"+e,{apiType:"forms"})}getSAPForms(e,t,n,a,i){let r=(new l.h).set("formDataSource","SAP").set("sortBy",i||"createdDate").set("sort",a||"desc").set("startFrom",t.toString()).set("limit",n.toString());return e&&e.trim().length&&(r=r.set("searchQuery",e)),this.tqmiHttpService.get(this.apiPath.forms,{apiType:"forms",params:r})}getRDBMSForms(e,t,n){let a=(new l.h).set("formDataSource","EXTERNAL_DATABASE").set("sortBy","createdDate").set("sort","desc").set("startFrom",t.toString()).set("limit",n.toString());return e&&e.trim().length&&(a=a.set("searchQuery",e)),this.tqmiHttpService.get(this.apiPath.forms,{apiType:"forms",params:a})}getAllForms(e,t,n){let a=(new l.h).set("sortBy","createdDate").set("sort","desc").set("startFrom",t.toString()).set("limit",n.toString());return e&&e.trim().length&&(a=a.set("searchQuery",e)),this.tqmiHttpService.get(this.apiPath.forms,{apiType:"forms",params:a})}deleteExportTab(e){return this.tqmiHttpService.delete(this.apiPath.updateExportConfig+"/"+e,{apiType:"forms"})}downloadFormTemplate(e){return this.tqmiHttpService.get(this.apiPath.downloadFormTemplate+"/"+e,{apiType:"forms"})}getFormMasterData(e,t,n){let a=(new l.h).set("limit",t.toString()).set("formId1",e).set("skip",n);return this.tqmiHttpService.get(this.apiPath.formsDataListingIntersection,{apiType:"forms",params:a})}setFormMasterData(e){return this.tqmiHttpService.post(this.apiPath.masterformdata,e,{apiType:"forms"})}getMasterDataSpecified(e){return this.tqmiHttpService.get(this.apiPath.masterdataforform+"/"+e,{apiType:"forms"})}deleteMasterData(e){return this.tqmiHttpService.delete(this.apiPath.masterformdata+"/"+e,{apiType:"forms"})}editMasterData(e){return this.tqmiHttpService.post(this.apiPath.masterdataDuplicacyCheck,e,{apiType:"forms"})}updateMasterDataSpecified(e,t){return this.tqmiHttpService.patch(this.apiPath.masterformdata+"/"+t,e,{apiType:"forms"})}getFormDropdownValues(e,t,n){let a=(new l.h).set("formId",e).set("fieldId",t).set("fieldType",n);return this.tqmiHttpService.get(this.apiPath.getDropdownDataforColumns,{apiType:"forms",params:a})}getFormFilterRecord(e){return this.tqmiHttpService.get(this.apiPath.formFilters+"/"+e,{apiType:"forms"})}saveFormFilters(e,t){return this.tqmiHttpService.post(this.apiPath.formFilters,e,{apiType:"forms"})}updateFormFilters(e,t){return this.tqmiHttpService.patch(this.apiPath.formFilters+"/"+t,e,{apiType:"forms"})}getFormFilterList(e,t,n){let a=new l.h;return e&&(a=a.set("formId",e)),t&&""!=t&&(a=a.set("searchQuery",t)),n&&(a=a.set("formDataSource",(n="external"===n?"sap":n).toUpperCase())),this.tqmiHttpService.get(this.apiPath.formFilters,{apiType:"forms",params:a})}deleteFormFilter(e){return this.tqmiHttpService.delete(this.apiPath.formFilters+"/"+e,{apiType:"forms"})}getFilteredFormData(e,t,n,a){let i=new l.h;return a>=0&&n>=0&&(i=i.set("limit",a.toString()).set("skip",n.toString())),this.tqmiHttpService.post(this.apiPath.applyFilter,{formId:e,filter:t},{apiType:"forms",params:i})}getFilterDetails(e){return this.tqmiHttpService.get(this.apiPath.formFilters+"/"+e,{apiType:"forms"})}getFormConsumers(e){return this.tqmiHttpService.get(`${this.apiPath.forms}/${e}/consumers`,{apiType:"forms"})}deleteForm(e){return this.tqmiHttpService.delete(`${this.apiPath.forms}/${e}`,{apiType:"forms"})}}},SQQW:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var l=n("8Y7J"),a=n("g7AK"),i=n("SVse"),r=n("ddZp"),o=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"img",[["alt","no image"],["style","width:20px"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,l["\u0275inlineInterpolate"](1,"",t.component.imgUrl,""))})}function u(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"button",[["style","padding:0;margin:0"]],[[8,"title",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onClick(n)&&l),l},null,null)),l["\u0275did"](1,16384,null,0,a.a,[],{ibmButton:[0,"ibmButton"],size:[1,"size"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,s)),l["\u0275did"](3,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](4,null,[""," "]))],function(e,t){var n=t.component;e(t,1,0,"ghost","sm"),e(t,3,0,n.imgUrl)},function(e,t){var n=t.component;e(t,0,1,[l["\u0275inlineInterpolate"](1,"",n.tooltip,""),l["\u0275nov"](t,1).baseClass,l["\u0275nov"](t,1).primaryButton,l["\u0275nov"](t,1).secondaryButton,l["\u0275nov"](t,1).tertiaryButton,l["\u0275nov"](t,1).ghostButton,l["\u0275nov"](t,1).dangerButton,l["\u0275nov"](t,1).dangerPrimaryButton,l["\u0275nov"](t,1).skeleton,l["\u0275nov"](t,1).smallSize,l["\u0275nov"](t,1).toolbarAction,l["\u0275nov"](t,1).overflowMenu]),e(t,4,0,n.label)})}function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,u,o)),l["\u0275did"](1,49152,null,0,r.a,[],null,null)],null,null)}var m=l["\u0275ccf"]("ng-component",r.a,d,{},{},[])},ZuET:function(e,t,n){"use strict";n.r(t);var l=n("8Y7J"),a=n("sspt"),i=n("Y7sv"),r=n("mXS1");i.M.registerModules([r.g,a.a,r.b,r.c,r.e,r.f,r.i]);class o{}var s=n("pMnS"),u=n("cgCd"),d=n("9YYN"),m=n("I7CR"),c=n("kNGs"),p=n("eWkc"),f=n("v3aM"),h=n("iInd"),b=n("SVse"),g=n("g7AK"),v=n("4vLU"),S=n("cBIm"),E=n("XdKZ"),_=n("WLIR"),y=n("Tvix"),I=n("4y4f"),C=n("1V2r"),R=n("s7LF"),F=n("gLoP"),D=n("mEpm"),A=n("i3NF"),P=n("FNXg"),T=n("1ZgJ"),x=n("baZm"),N=n("BJWQ"),O=n("PybA"),w=n("mrSG"),M=(n("ciZX"),n("HTWL")),L=n("Z725"),k=n("9XGM"),B=n("bl9C"),U=n("MqE1"),H=n("hUUB");class G{constructor(e,t,n){this.formId=e,this.formPermissions=t,this.formService=n}static getApiFilterModel(e,t,n){let l=[];for(let a of Object.keys(n)){let i=e.getFilterInstance(a),r=n[a].values;"dataCaptureDate"!=i.providedFilterParams.key_value&&"numericColumn"!=t.getColumn(a).colDef.type||(r=r.map(e=>Number.isNaN(Number(e))?e:Number(e))),l.push({key_type:i.providedFilterParams.key_type,key_value:i.providedFilterParams.key_value,filter_values:r})}return l}getRows(e){let t=e.api.paginationProxy.currentPage,n=e.api.paginationProxy.pageSize,l=G.getApiFilterModel(e.api,e.columnApi,e.request.filterModel);this.formService.getFilteredFormData(this.formId,l,t*n,n).subscribe(t=>{if(t&&t.success){let n=[];t.response.submissions.forEach(e=>{let t={formRecordId:e.formRecordId,formId:e.formId,permissions:this.formPermissions,submissionId:e.uuid,addedByName:e.addedByName,dataCaptureDate:e.dataCaptureDate,updatedTimestamp:e.updatedTimestamp};e.data.forEach(e=>t[e.uuid]=e.value),n.push(t)}),e.successCallback(n,t.response.totalCount)}},t=>{e.fail()})}}var q=n("wd/R"),V=n("2Vo4"),K=n("8aki"),W=n("TYez"),Y=n("LvDl"),z=n.n(Y);class Q{agInit(e){this.label=e.label||e.value,this.imgUrl=e.imgUrl||null,this.tooltip=e.tooltip||e.value||null,this.routeUrl=e.routeUrl instanceof Function?e.routeUrl(e):e.routeUrl}refresh(e){return!0}afterGuiAttached(e){console.log(e)}}var X=n("ddZp");class j{refresh(e){return!0}afterGuiAttached(e){}agInit(e){this.params=e,this.paginationChangeHandler=this.onPaginationChange.bind(this),this.rowSelectedHandler=this.onRowSelectedChange.bind(this),this._addHandler()}_addHandler(){this.params.api.addEventListener("paginationChanged",this.paginationChangeHandler),this.params.api.addEventListener("rowSelected",this.rowSelectedHandler)}_removeHandler(){this.params.api.removeEventListener("paginationChanged",this.paginationChangeHandler),this.params.api.removeEventListener("rowSelected",this.rowSelectedHandler)}onClick(e){this._removeHandler(),this.params.api.getRenderedNodes().forEach(e=>e.setSelected(this.chkBox.nativeElement.checked)),this._addHandler(),this.toggleDelete(this.chkBox.nativeElement.checked)}ngOnDestroy(){this._removeHandler()}onPaginationChange(e){this.chkBox.nativeElement.indeterminate=!1,this.chkBox.nativeElement.checked=!1,this._removeHandler(),this.params.api.deselectAll(),this._addHandler(),this.toggleDelete(!1)}toggleDelete(e){this.params.context.parentComponent.isDeleteDataEnabled.next(e)}onRowSelectedChange(e){let t=this.params.api.paginationGetRowCount(),n=e.api.paginationGetPageSize(),l=t>n?n:t,a=e.api.getSelectedNodes().length;0==a?(this.chkBox.nativeElement.checked=!1,this.chkBox.nativeElement.indeterminate=!1):a==l?(this.chkBox.nativeElement.indeterminate=!1,this.chkBox.nativeElement.checked=!0):(this.chkBox.nativeElement.indeterminate=!0,this.chkBox.nativeElement.checked=!1),this.toggleDelete(a>0)}}var J=n("YvIm");class Z{constructor(e,t,n,l,a,i,o,s){this.route=e,this._router=t,this.formService=n,this.formDataService=l,this.toastService=a,this.dialog=i,this.confirmationService=o,this.modalService=s,this._formId=null,this.filterList=new V.a([{content:"All Data",filter:!1,selected:!0,data:null}]),this.activeForm=null,this.modules=[r.g,r.e,r.b],this.gridOptions={context:{parentComponent:this},frameworkComponents:{buttonRenderer:X.a,linkRenderer:Q,customHeaderCheckbox:j},rowSelection:"multiple",suppressRowClickSelection:!0,onFilterChanged:e=>{this._checkButtonStatus()},getRowClass:e=>{if(e.node.rowIndex%2!=0)return"aggrid-row"},defaultColDef:{resizable:!0,sortable:!1,filter:!0,floatingFilter:!1,flex:1,minWidth:120,suppressMenu:!1,menuTabs:["filterMenuTab","generalMenuTab"],sortingOrder:["desc","asc",null],filterParams:{buttons:["reset","apply"],showTooltips:!0}},pagination:!0,paginationPageSize:20,paginationAutoPageSize:!1,cacheBlockSize:20,rowModelType:"serverSide",serverSideStoreType:r.h.Partial,columnTypes:{nonEditableColumn:{editable:!1},dateColumn:{filter:"agDateColumnFilter",minWidth:205,valueGetter:e=>q(e.data[e.colDef.field]).format(B.a.DATE_FORMAT),filterParams:{valueFormatter:e=>q(e.value).format(B.a.DATE_FORMAT)},comparator:(e,t,n,l,a)=>e||t?e===t?0:!e&&t?-1:e&&!t?1:e>t?1:-1:0}},sideBar:{toolPanels:[{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel",minWidth:180,maxWidth:400,width:250},{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivotMode:!0,suppressPivots:!0}}],position:"right",defaultToolPanel:"filters"}},this.isFillFormEnabled=!1,this.isImportDataEnabled=!1,this.isDeleteDataEnabled=new V.a(!1),this.isCreateFilterEnabled=new V.a(!1),this.isUpdateFilterEnabled=new V.a(!1),this.isDeleteFilterEnabled=new V.a(!1),this._formId=this.route.snapshot.params.id}get isAdmin(){return null==this._isAdmin&&(this._isAdmin=B.a.IS_ADMIN),this._isAdmin}get logInEmployeeId(){return localStorage.getItem("E_Id")}populateFilterList(e,t=null){let n=[{content:"All Data",filter:!1,selected:!0,data:null}];this.formService.getFormFilterList(e).subscribe(e=>{e&&e.success&&(e.response.filtersList.filter(e=>{if(Array.isArray(e.filter))return e}).forEach(e=>{n.push({content:e.name,filter:!0,selected:!1,data:e})}),t&&n.forEach(e=>{e.selected=e.content==t,e.selected&&(this.activeFilter=e.data,this._checkButtonStatus())}),this.filterList.next(n))},e=>{})}ngOnInit(){let e=this;this.formService.getFormDetail(this._formId).subscribe(t=>{if(t&&t.success){this.activeForm=t.response.form;let l=this.activeForm.userPermissions;this.isFillFormEnabled=this.activeForm.isActive&&this.activeForm.isApproved&&l.fill,this.isImportDataEnabled=this.activeForm.isActive&&this.activeForm.isApproved;var n=new G(this.activeForm.formId,l,this.formService);this.gridApi.setServerSideDatasource(n),"INTERNAL"!=this.activeForm.formDataSource&&(console.log("Manual Form not found"),this._router.navigate(["/404"])),this.populateFilterList(this.activeForm.formId);let a=[{headerName:"",maxWidth:60,field:"submissionId",filter:!1,suppressMenu:!0,suppressColumnsToolPanel:!0,checkboxSelection:!0,valueFormatter:e=>"",headerComponent:"customHeaderCheckbox"},{headerName:"Data Entry By",field:"addedByName",filter:!1,suppressMenu:!0,suppressColumnsToolPanel:!0},{headerName:"Data Sample Date & Time",field:"dataCaptureDate",filter:"agSetColumnFilter",type:["dateColumn","rightAligned"],valueGetter:e=>e.data.dataCaptureDate?q(e.data.dataCaptureDate).format(B.a.DATE_FORMAT):"",comparator:(e,t,n,l,a)=>n||l?n.data.dataCaptureDate===l.data.dataCaptureDate?0:!n.data.dataCaptureDate&&l.data.dataCaptureDate?-1:n.data.dataCaptureDate&&!l.data.dataCaptureDate?1:n.data.dataCaptureDate>l.data.dataCaptureDate?1:-1:0,filterParams:{key_type:"metadata",key_value:"dataCaptureDate",valueFormatter:e=>q(Number(e.value)).format(B.a.DATE_FORMAT),values:e=>{this.formService.getFormDropdownValues(this.activeForm.formId,"dataCaptureDate","metadata").subscribe(t=>{e.success(t&&t.success&&t!=[null]?t.response:[])},t=>e.fail())}},minWidth:200},{headerName:"Latest data read on",field:"updatedTimestamp",type:["dateColumn","rightAligned"],valueGetter:e=>e.data.updatedTimestamp?q.unix(e.data.updatedTimestamp).format(B.a.DATE_FORMAT):"",comparator:(e,t,n,l,a)=>n||l?n.data.updatedTimestamp===l.data.updatedTimestamp?0:!n.data.updatedTimestamp&&l.data.updatedTimestamp?-1:n.data.updatedTimestamp&&!l.data.updatedTimestamp?1:n.data.updatedTimestamp>l.data.updatedTimestamp?1:-1:0,filter:!1,suppressMenu:!0,maxWidth:200},{headerName:"Edit",type:["rightAligned"],menuTabs:[],sortable:!1,filter:!1,cellRendererSelector:function(e){if(e.data.permissions.fill)return{component:"linkRenderer",params:{text:"",imgUrl:"assets/img/edit.svg",routeUrl:e=>"/forms/"+e.data.formRecordId+"/fill/"+e.data.submissionId}}},maxWidth:80},{headerName:"Delete",type:["rightAligned"],menuTabs:[],sortable:!1,filter:!1,cellRendererSelector:function(t){return{component:"buttonRenderer",params:{value:"",imgUrl:"assets/img/trash-can.svg",onClick:e.onCellDeleteClicked.bind(this)}}},maxWidth:80}],i=["paragraph","heading","section_break","submit_btn"];this.activeForm.formElements.forEach(e=>{if(!i.includes(e.field)){let t={headerName:e.label,field:e.uuid,filter:"agSetColumnFilter",filterParams:{key_type:"uuid",key_value:e.uuid,values:t=>{this.formService.getFormDropdownValues(this.activeForm.formId,e.uuid,"uuid").subscribe(e=>{t.success(e&&e.success&&e!=[null]?e.response:[])},e=>t.fail())}}};e.metricEnabled&&e.unitOfMeasurementLabel&&(t.headerName=`${e.label} (${e.unitOfMeasurementLabel})`),"number"==e.field&&(t.type="numericColumn"),a.splice(-4,0,t)}}),this.gridOptions.api.setColumnDefs(a)}})}onCellDeleteClicked(e){let t=e.context.parentComponent;t.disableSub=t.confirmationService.getData().subscribe(n=>{n?(t.formDataService.deleteFormData(e.rowData.formId,e.rowData.submissionId).subscribe(e=>{e&&e.success&&(t.toastService.success(M.a.FORM_DATA_DELETED_SUCESS),t.refresh())},e=>{t.toastService.error(e&&e.error&&e.error.message&&"string"==typeof e.error.message?e.error.message:e&&e.message&&"string"==typeof e.message?e.message:M.a.PLEASE_TRY_AGAIN)}),t.confirmationService.setData(!1)):t.disableSub&&(t.disableSub.unsubscribe(),t.disableSub=null)}),t.modalService.create({component:k.a,inputs:{modalText:e.rowData.linkedFormId?"All the associated form data will be affected if the selected form data entry is deleted.Deleting this data will also delete the corresponding Analysis and its Action items, if any. This action will be irreversible. Are you sure you want to go ahead with deletion?":"Deleting this data will also delete the corresponding Analysis and its Action items, if any. This action will be irreversible. Are you sure you want to go ahead with deletion?"}})}onFilterSelected(e){if(null==e||null==e.item.data)this.isDeleteFilterEnabled.next(!1),this.gridApi.setFilterModel(null),this.activeFilter=null;else{this.isDeleteFilterEnabled.next(!0),this.activeFilter=e.item.data;let t={};e.item.data.filter.forEach(e=>{let n=e.filter_values.map(e=>e+"");t[e.key_value]={type:"set",values:n}}),this.gridApi.setFilterModel(t)}}_checkButtonStatus(){let e=G.getApiFilterModel(this.gridApi,this.gridColumnApi,this.gridApi.getFilterModel()),t=z.a.isEqual(e,this.activeFilter?this.activeFilter.filter:[]);this.activeFilter?(this.isDeleteFilterEnabled.next(!0),this.isCreateFilterEnabled.next(!1),this.isUpdateFilterEnabled.next(!t)):(this.isDeleteFilterEnabled.next(!1),this.isUpdateFilterEnabled.next(!1),this.isCreateFilterEnabled.next(!t))}onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.gridApi.closeToolPanel(),this.onGridSizeChanged(e)}onGridSizeChanged(e){setTimeout(function(){e.api.destroyCalled||e.api.sizeColumnsToFit()},1e3)}fillForm(){this._router.navigateByUrl("/forms/"+this.activeForm._id+"/fill")}onDeleteBulkData(){return Object(w.__awaiter)(this,void 0,void 0,function*(){0!=this.gridApi.getSelectedNodes().length?(this.disableSub=this.confirmationService.getData().subscribe(e=>Object(w.__awaiter)(this,void 0,void 0,function*(){if(e){this.confirmationService.setData(!1),this.toastService.success("Request processing. Please wait for a few seconds.");let e=[];this.gridApi.getSelectedNodes().forEach(t=>{e.push(this.formDataService.deleteFormData(t.data.formId,t.data.submissionId).toPromise().catch(e=>{this.toastService.error(e&&e.error&&e.error.message&&"string"==typeof e.error.message?e.error.message:e&&e.message&&"string"==typeof e.message?e.message:M.a.PLEASE_TRY_AGAIN),this.refresh()}))}),yield Promise.all(e).then(e=>{e&&e[0].success&&(this.toastService.success("Form Data Deleted Successfully"),this.refresh())}),this.disableSub.unsubscribe()}else this.disableSub&&this.disableSub.unsubscribe()})),this.modalService.create({component:k.a,inputs:{modalText:"Deleting this bulk data will also delete the corresponding Analysis and its Action items, if any. This action will be irreversible. Are you sure you want to go ahead with deletion?"}})):this.toastService.error(M.a.NO_DATA_SAMPLE_SELECTED)})}createFilter(){this.openSaveFilterMenu(null)}deleteFilter(){this.formService.getFormFilterRecord(this.activeFilter._id).subscribe(e=>{e&&e.success&&(e.response.kpiUsingThisFilter&&e.response.kpiUsingThisFilter.length>0?this.modalService.create({component:K.a,inputs:{activeFilter:e.response}}).onDestroy(()=>{}):(this.disableSub=this.confirmationService.getData().subscribe(e=>{e?this.formService.deleteFormFilter(this.activeFilter._id).subscribe(e=>{e&&e.success&&(this.toastService.success("Filter deleted successfully!"),this.populateFilterList(this.activeForm.formId),this.onFilterSelected(null))},e=>{this.toastService.error(e&&e.error&&e.error.message&&"string"==typeof e.error.message?e.error.message:e&&e.message&&"string"==typeof e.message?e.message:M.a.PLEASE_TRY_AGAIN)}):this.disableSub&&(this.disableSub.unsubscribe(),this.disableSub=null)}),this.modalService.create({component:k.a,inputs:{modalText:"Are you sure you want to delete this filter?"}})))},e=>{})}updateFilter(){this.formService.getFormFilterRecord(this.activeFilter._id).subscribe(e=>{if(e&&e.success)if(e.response.kpiUsingThisFilter&&e.response.kpiUsingThisFilter.length>0){let e=!1;this.disableSub=this.confirmationService.getData().subscribe(t=>{t?(e=!0,this.confirmationService.setData(!1)):this.disableSub&&(this.disableSub.unsubscribe(),this.disableSub=null)}),this.modalService.create({component:k.a,inputs:{modalText:"Editing this form filter will recompute linked KPI values. Are you sure you would like to proceed?",confirmText:"Yes",titleText:"Warning",overlayClose:!1}}).onDestroy(()=>{e&&this.openSaveFilterMenu(this.activeFilter)})}else this.openSaveFilterMenu(this.activeFilter)},e=>{})}openSaveFilterMenu(e){let t=this.gridApi.getFilterModel(),n=[];for(let l of Object.keys(t)){let e=this.gridApi.getFilterInstance(l),a=t[l].values,i=this.gridColumnApi.getColumn(l).colDef.type;(i.includes("dateColumn")||i.includes("numericColumn"))&&(a=a.map(e=>Number.isNaN(Number(e))?e:Number(e))),n.push({key_type:e.providedFilterParams.key_type,key_value:e.providedFilterParams.key_value,filter_values:a})}if(0==Object.keys(t).length)this.toastService.error("Please select filters.");else{this.activeForm.formElements.forEach(e=>e.isMetricField=e.metricEnabled);let t={cols:this.activeForm.formElements,formId:this.activeForm.formId,filter:n,formElements:this.activeForm.formElements,activeFilter:null,editMode:null};e&&(e.editMode=!0,t.activeFilter=e,t.editMode=!0);let l=this.modalService.create({component:W.a,inputs:t});l.onDestroy(e=>{this.populateFilterList(this.activeForm.formId,l.instance.filterName)})}}importFormData(e){let t=z.a.cloneDeep(this.activeForm);localStorage.setItem("formId",JSON.stringify(t)),this._router.navigateByUrl("/forms/linked-data-listing",{state:{importData:!0}})}downloadFormData(e){this.formService.downloadFormData("",void 0,this.activeForm.formId,"",void 0,this.logInEmployeeId).subscribe(e=>{e.success&&window.open(e.response)},e=>{})}performRecomputations(e){this.dialog.open(J.a,{data:{initialStartDate:q().startOf("month").toDate(),initialEndDate:q().endOf("month").toDate()},disableClose:!0}).afterClosed().subscribe(e=>Object(w.__awaiter)(this,void 0,void 0,function*(){if(e&&e.startDate&&e.endDate){const t=q(e.startDate).startOf("D").valueOf(),n=q(e.endDate).endOf("D").valueOf();this.formService.recalculateKpisForForm(this._formId,t,n).subscribe(e=>{e.success?this.toastService.success(M.a.FORM_RECOMPUTATION_REQUEST_SENT_SUCCESS):this.toastService.error(M.a.FORM_RECOMPUTATION_REQUEST_SENT_ERROR)},e=>{this.toastService.error(M.a.FORM_RECOMPUTATION_REQUEST_SENT_ERROR)})}}))}refresh(){this.gridApi.refreshServerSideStore({route:null,purge:!0}),this.gridOptions.api.retryServerSideLoads()}}var $=n("EApP"),ee=n("s6ns"),te=n("PJ54"),ne=l["\u0275crt"]({encapsulation:0,styles:[[".form-datalisting[_ngcontent-%COMP%]{padding:2rem;background-color:#fff;height:98%;width:100%;display:flex;flex-direction:column}.form-datalisting[_ngcontent-%COMP%]   .bx--btn[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px;margin-left:5px}.form-datalisting[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.form-datalisting[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{margin-right:10px}.form-datalisting[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{height:48px;flex:auto}.form-datalisting[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]{background-color:#f3f3f3!important;min-height:unset}.form-datalisting[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .form-datalisting[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.form-datalisting[_ngcontent-%COMP%]   .c-ag-grid[_ngcontent-%COMP%]{width:100%;height:100%}.form-datalisting[_ngcontent-%COMP%]   .c-ag-grid[_ngcontent-%COMP%]   .aggrid-row[_ngcontent-%COMP%]{background-color:#f8f8f8!important}  .ag-header-cell-text{text-overflow:clip!important;overflow:visible!important;white-space:normal!important}"]],data:{}});function le(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,13,"ibm-tile",[["class","bx--tile"]],[[2,"bx--tile",null]],null,null,u.b,u.a)),l["\u0275did"](1,49152,null,0,d.a,[],null,null),(e()(),l["\u0275eld"](2,0,null,0,11,"ibm-breadcrumb",[],null,null,null,m.b,m.a)),l["\u0275did"](3,1097728,null,1,c.a,[],{noTrailingSlash:[0,"noTrailingSlash"]},null),l["\u0275qud"](603979776,1,{children:1}),(e()(),l["\u0275eld"](5,0,null,0,4,"ibm-breadcrumb-item",[],[[2,"bx--breadcrumb-item--current",null],[2,"bx--breadcrumb-item",null]],null,null,p.b,p.a)),l["\u0275did"](6,49152,[[1,4]],0,f.a,[],null,null),(e()(),l["\u0275eld"](7,0,null,0,2,"a",[["routerLink","/forms"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var a=!0;return"click"===t&&(a=!1!==l["\u0275nov"](e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&a),a},null,null)),l["\u0275did"](8,671744,null,0,h.r,[h.o,h.a,b.LocationStrategy],{routerLink:[0,"routerLink"]},null),(e()(),l["\u0275ted"](-1,null,["Form List"])),(e()(),l["\u0275eld"](10,0,null,0,3,"ibm-breadcrumb-item",[],[[2,"bx--breadcrumb-item--current",null],[2,"bx--breadcrumb-item",null]],null,null,p.b,p.a)),l["\u0275did"](11,49152,[[1,4]],0,f.a,[],null,null),(e()(),l["\u0275eld"](12,0,null,0,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](13,null,[" ",""]))],function(e,t){e(t,3,0,!0),e(t,8,0,"/forms")},function(e,t){var n=t.component;e(t,0,0,l["\u0275nov"](t,1).tileClass),e(t,5,0,l["\u0275nov"](t,6).current,l["\u0275nov"](t,6).itemClass),e(t,7,0,l["\u0275nov"](t,8).target,l["\u0275nov"](t,8).href),e(t,10,0,l["\u0275nov"](t,11).current,l["\u0275nov"](t,11).itemClass),e(t,13,0,n.activeForm.formName)})}function ae(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","secondary"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.fillForm()&&l),l},null,null)),l["\u0275did"](1,16384,null,0,g.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),l["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Fill Form"]))],function(e,t){e(t,1,0,"secondary")},function(e,t){e(t,0,1,[l["\u0275nov"](t,1).baseClass,l["\u0275nov"](t,1).primaryButton,l["\u0275nov"](t,1).secondaryButton,l["\u0275nov"](t,1).tertiaryButton,l["\u0275nov"](t,1).ghostButton,l["\u0275nov"](t,1).dangerButton,l["\u0275nov"](t,1).dangerPrimaryButton,l["\u0275nov"](t,1).skeleton,l["\u0275nov"](t,1).smallSize,l["\u0275nov"](t,1).toolbarAction,l["\u0275nov"](t,1).overflowMenu])})}function ie(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","secondary"],["title","Import"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.importFormData(n)&&l),l},null,null)),l["\u0275did"](1,16384,null,0,g.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),l["\u0275eld"](2,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconDocumentImport20",""]],null,null,null,null,null)),l["\u0275did"](3,4210688,null,0,v.a,[l.ElementRef],null,null)],function(e,t){e(t,1,0,"secondary")},function(e,t){e(t,0,1,[l["\u0275nov"](t,1).baseClass,l["\u0275nov"](t,1).primaryButton,l["\u0275nov"](t,1).secondaryButton,l["\u0275nov"](t,1).tertiaryButton,l["\u0275nov"](t,1).ghostButton,l["\u0275nov"](t,1).dangerButton,l["\u0275nov"](t,1).dangerPrimaryButton,l["\u0275nov"](t,1).skeleton,l["\u0275nov"](t,1).smallSize,l["\u0275nov"](t,1).toolbarAction,l["\u0275nov"](t,1).overflowMenu])})}function re(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,16,"div",[["class","controls"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,3,"button",[["ibmButton","danger"],["title","Refresh List"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.refresh()&&l),l},null,null)),l["\u0275did"](2,16384,null,0,g.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),l["\u0275eld"](3,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconRestart20",""]],null,null,null,null,null)),l["\u0275did"](4,4210688,null,0,S.a,[l.ElementRef],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,ae)),l["\u0275did"](6,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ie)),l["\u0275did"](8,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](9,0,null,null,3,"button",[["ibmButton","secondary"],["title","Export"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.downloadFormData(n)&&l),l},null,null)),l["\u0275did"](10,16384,null,0,g.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),l["\u0275eld"](11,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconDocumentExport20",""]],null,null,null,null,null)),l["\u0275did"](12,4210688,null,0,E.a,[l.ElementRef],null,null),(e()(),l["\u0275eld"](13,0,null,null,3,"button",[["ibmButton","secondary"],["title","Recalculate"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.performRecomputations(n)&&l),l},null,null)),l["\u0275did"](14,16384,null,0,g.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),l["\u0275eld"](15,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconRenew20",""]],null,null,null,null,null)),l["\u0275did"](16,4210688,null,0,_.a,[l.ElementRef],null,null)],function(e,t){var n=t.component;e(t,2,0,"danger"),e(t,6,0,n.isFillFormEnabled),e(t,8,0,n.isImportDataEnabled),e(t,10,0,"secondary"),e(t,14,0,"secondary")},function(e,t){e(t,1,1,[l["\u0275nov"](t,2).baseClass,l["\u0275nov"](t,2).primaryButton,l["\u0275nov"](t,2).secondaryButton,l["\u0275nov"](t,2).tertiaryButton,l["\u0275nov"](t,2).ghostButton,l["\u0275nov"](t,2).dangerButton,l["\u0275nov"](t,2).dangerPrimaryButton,l["\u0275nov"](t,2).skeleton,l["\u0275nov"](t,2).smallSize,l["\u0275nov"](t,2).toolbarAction,l["\u0275nov"](t,2).overflowMenu]),e(t,9,1,[l["\u0275nov"](t,10).baseClass,l["\u0275nov"](t,10).primaryButton,l["\u0275nov"](t,10).secondaryButton,l["\u0275nov"](t,10).tertiaryButton,l["\u0275nov"](t,10).ghostButton,l["\u0275nov"](t,10).dangerButton,l["\u0275nov"](t,10).dangerPrimaryButton,l["\u0275nov"](t,10).skeleton,l["\u0275nov"](t,10).smallSize,l["\u0275nov"](t,10).toolbarAction,l["\u0275nov"](t,10).overflowMenu]),e(t,13,1,[l["\u0275nov"](t,14).baseClass,l["\u0275nov"](t,14).primaryButton,l["\u0275nov"](t,14).secondaryButton,l["\u0275nov"](t,14).tertiaryButton,l["\u0275nov"](t,14).ghostButton,l["\u0275nov"](t,14).dangerButton,l["\u0275nov"](t,14).dangerPrimaryButton,l["\u0275nov"](t,14).skeleton,l["\u0275nov"](t,14).smallSize,l["\u0275nov"](t,14).toolbarAction,l["\u0275nov"](t,14).overflowMenu])})}function oe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,":svg:svg",[["ibmIconFilter20",""]],null,null,null,null,null)),l["\u0275did"](1,4210688,null,0,y.a,[l.ElementRef],null,null)],null,null)}function se(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["style","font-size: 14px; display: flex;"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,oe)),l["\u0275did"](2,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](3,0,null,null,1,"div",[],[[4,"padding-left",null]],null,null,null,null)),(e()(),l["\u0275ted"](4,null,["",""]))],function(e,t){e(t,2,0,t.parent.context.item.filter)},function(e,t){e(t,3,0,t.parent.context.item.filter?"10px":""),e(t,4,0,t.parent.context.item.content)})}function ue(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,se)),l["\u0275did"](1,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,t){e(t,1,0,t.context.item&&t.context.item.content)},null)}function de(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","danger"],["title","Delete Data"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onDeleteBulkData()&&l),l},null,null)),l["\u0275did"](1,16384,null,0,g.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),l["\u0275eld"](2,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconTrashCan20",""]],null,null,null,null,null)),l["\u0275did"](3,4210688,null,0,I.a,[l.ElementRef],null,null)],function(e,t){e(t,1,0,"danger")},function(e,t){e(t,0,1,[l["\u0275nov"](t,1).baseClass,l["\u0275nov"](t,1).primaryButton,l["\u0275nov"](t,1).secondaryButton,l["\u0275nov"](t,1).tertiaryButton,l["\u0275nov"](t,1).ghostButton,l["\u0275nov"](t,1).dangerButton,l["\u0275nov"](t,1).dangerPrimaryButton,l["\u0275nov"](t,1).skeleton,l["\u0275nov"](t,1).smallSize,l["\u0275nov"](t,1).toolbarAction,l["\u0275nov"](t,1).overflowMenu])})}function me(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","danger"],["title","Create Filter"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.createFilter()&&l),l},null,null)),l["\u0275did"](1,16384,null,0,g.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),l["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Create Filter"]))],function(e,t){e(t,1,0,"danger")},function(e,t){e(t,0,1,[l["\u0275nov"](t,1).baseClass,l["\u0275nov"](t,1).primaryButton,l["\u0275nov"](t,1).secondaryButton,l["\u0275nov"](t,1).tertiaryButton,l["\u0275nov"](t,1).ghostButton,l["\u0275nov"](t,1).dangerButton,l["\u0275nov"](t,1).dangerPrimaryButton,l["\u0275nov"](t,1).skeleton,l["\u0275nov"](t,1).smallSize,l["\u0275nov"](t,1).toolbarAction,l["\u0275nov"](t,1).overflowMenu])})}function ce(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","danger"],["title","Save Filter"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.updateFilter()&&l),l},null,null)),l["\u0275did"](1,16384,null,0,g.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),l["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Update Filter"]))],function(e,t){e(t,1,0,"danger")},function(e,t){e(t,0,1,[l["\u0275nov"](t,1).baseClass,l["\u0275nov"](t,1).primaryButton,l["\u0275nov"](t,1).secondaryButton,l["\u0275nov"](t,1).tertiaryButton,l["\u0275nov"](t,1).ghostButton,l["\u0275nov"](t,1).dangerButton,l["\u0275nov"](t,1).dangerPrimaryButton,l["\u0275nov"](t,1).skeleton,l["\u0275nov"](t,1).smallSize,l["\u0275nov"](t,1).toolbarAction,l["\u0275nov"](t,1).overflowMenu])})}function pe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"button",[["ibmButton","danger"],["title","Delete Filter"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.deleteFilter()&&l),l},null,null)),l["\u0275did"](1,16384,null,0,g.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),l["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Delete Filter"]))],function(e,t){e(t,1,0,"danger")},function(e,t){e(t,0,1,[l["\u0275nov"](t,1).baseClass,l["\u0275nov"](t,1).primaryButton,l["\u0275nov"](t,1).secondaryButton,l["\u0275nov"](t,1).tertiaryButton,l["\u0275nov"](t,1).ghostButton,l["\u0275nov"](t,1).dangerButton,l["\u0275nov"](t,1).dangerPrimaryButton,l["\u0275nov"](t,1).skeleton,l["\u0275nov"](t,1).smallSize,l["\u0275nov"](t,1).toolbarAction,l["\u0275nov"](t,1).overflowMenu])})}function fe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,34,"div",[["class","form-datalisting"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","info-controls"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","label"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,le)),l["\u0275did"](4,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,re)),l["\u0275did"](6,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](7,0,null,null,22,"div",[["class","info-controls"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,6,"ibm-dropdown",[["style","width:300px"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(e,t,n){var a=!0,i=e.component;return"keydown"===t&&(a=!1!==l["\u0275nov"](e,10).onKeyDown(n)&&a),"selected"===t&&(a=!1!==i.onFilterSelected(n)&&a),a},C.b,C.a)),l["\u0275prd"](5120,null,R.NG_VALUE_ACCESSOR,function(e){return[e]},[F.a]),l["\u0275did"](10,1294336,[["filterDropDown",4]],1,F.a,[l.ElementRef,D.a,A.a],{displayValue:[0,"displayValue"],size:[1,"size"]},{selected:"selected"}),l["\u0275qud"](335544320,2,{view:0}),(e()(),l["\u0275eld"](12,0,null,0,2,"ibm-dropdown-list",[],null,null,null,P.b,P.a)),l["\u0275did"](13,4374528,null,0,T.a,[l.ElementRef,D.a],{items:[0,"items"],listTpl:[1,"listTpl"]},null),l["\u0275prd"](2048,[[2,4]],x.a,null,[T.a]),(e()(),l["\u0275and"](0,[["dropdownRenderer",2]],null,0,null,ue)),(e()(),l["\u0275eld"](16,0,null,null,0,"div",[["class","label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,12,"div",[["class","controls"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,2,null,de)),l["\u0275did"](19,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,b.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275and"](16777216,null,null,2,null,me)),l["\u0275did"](22,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,b.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275and"](16777216,null,null,2,null,ce)),l["\u0275did"](25,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,b.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275and"](16777216,null,null,2,null,pe)),l["\u0275did"](28,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,b.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275eld"](30,16777216,null,null,4,"ag-grid-angular",[["class","ag-theme-alpine c-ag-grid"]],null,[[null,"gridReady"],[null,"gridSizeChanged"]],function(e,t,n){var l=!0,a=e.component;return"gridReady"===t&&(l=!1!==a.onGridReady(n)&&l),"gridSizeChanged"===t&&(l=!1!==a.onGridSizeChanged(n)&&l),l},N.b,N.a)),l["\u0275prd"](512,null,O.e,O.e,[l.NgZone]),l["\u0275prd"](512,null,O.d,O.d,[]),l["\u0275did"](33,4898816,[["agGrid",4]],1,O.a,[l.ElementRef,l.ViewContainerRef,O.e,O.d,l.ComponentFactoryResolver],{gridOptions:[0,"gridOptions"],modules:[1,"modules"]},{gridReady:"gridReady",gridSizeChanged:"gridSizeChanged"}),l["\u0275qud"](603979776,3,{columns:1})],function(e,t){var n=t.component;e(t,4,0,n.activeForm),e(t,6,0,n.activeForm),e(t,10,0,l["\u0275nov"](t,15),"md"),e(t,13,0,n.filterList,l["\u0275nov"](t,15)),e(t,19,0,l["\u0275unv"](t,19,0,l["\u0275nov"](t,20).transform(n.isDeleteDataEnabled))),e(t,22,0,l["\u0275unv"](t,22,0,l["\u0275nov"](t,23).transform(n.isCreateFilterEnabled))),e(t,25,0,l["\u0275unv"](t,25,0,l["\u0275nov"](t,26).transform(n.isUpdateFilterEnabled))),e(t,28,0,l["\u0275unv"](t,28,0,l["\u0275nov"](t,29).transform(n.isDeleteFilterEnabled))),e(t,33,0,n.gridOptions,n.modules)},function(e,t){e(t,8,0,l["\u0275nov"](t,10).hostClass)})}function he(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-form-data",[],null,null,null,fe,ne)),l["\u0275did"](1,114688,null,0,Z,[h.a,h.o,U.a,H.a,$.j,ee.e,L.a,te.a],null,null)],function(e,t){e(t,1,0)},null)}var be=l["\u0275ccf"]("app-form-data",Z,he,{},{},[]),ge=n("gKtx"),ve=n("GRwY"),Se=n("P08G"),Ee=n("t68o"),_e=n("NpSD"),ye=n("cbbC"),Ie=n("Gv0t"),Ce=n("cN2v"),Re=n("QFM9"),Fe=n("dmj2"),De=n("I0pH"),Ae=n("6VK3"),Pe=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Te(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"img",[["alt","no image"],["style","width:20px"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,l["\u0275inlineInterpolate"](1,"",t.component.imgUrl,""))})}function xe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,"a",[["ibmLink",""]],[[8,"title",0],[1,"target",0],[8,"href",4],[2,"bx--link",null],[1,"tabindex",0],[1,"aria-disabled",0],[2,"bx--link--disabled",null]],[[null,"click"]],function(e,t,n){var a=!0;return"click"===t&&(a=!1!==l["\u0275nov"](e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&a),a},null,null)),l["\u0275did"](1,671744,null,0,h.r,[h.o,h.a,b.LocationStrategy],{routerLink:[0,"routerLink"]},null),l["\u0275did"](2,16384,null,0,Ae.a,[],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,Te)),l["\u0275did"](4,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](5,null,[""," "]))],function(e,t){var n=t.component;e(t,1,0,l["\u0275inlineInterpolate"](1,"",n.routeUrl,"")),e(t,4,0,n.imgUrl)},function(e,t){var n=t.component;e(t,0,0,l["\u0275inlineInterpolate"](1,"",n.tooltip,""),l["\u0275nov"](t,1).target,l["\u0275nov"](t,1).href,l["\u0275nov"](t,2).baseClass,l["\u0275nov"](t,2).tabindex,l["\u0275nov"](t,2).disabled,l["\u0275nov"](t,2).disabled),e(t,5,0,n.label)})}function Ne(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,xe,Pe)),l["\u0275did"](1,49152,null,0,Q,[],null,null)],null,null)}var Oe=l["\u0275ccf"]("ng-component",Q,Ne,{},{},[]),we=n("SQQW"),Me=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Le(e){return l["\u0275vid"](0,[l["\u0275qud"](671088640,1,{chkBox:0}),(e()(),l["\u0275eld"](1,0,[[1,0],["chkBox",1]],null,0,"input",[["aria-label","Press Space to toggle row selection (unchecked)"],["id","ag-customer-header-checkbox"],["tabindex","-1"],["type","checkbox"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onClick(n)&&l),l},null,null))],null,null)}function ke(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-custom-header",[],null,null,null,Le,Me)),l["\u0275did"](1,180224,null,0,j,[],null,null)],null,null)}var Be=l["\u0275ccf"]("app-custom-header",j,ke,{},{},[]),Ue=n("wX/Y"),He=n("ZHEK"),Ge=n("RJDq"),qe=n("U6oK"),Ve=n("uvqg"),Ke=n("f8KH"),We=n("maoM"),Ye=n("QQfA"),ze=n("IP0z"),Qe=n("pQSL");class Xe{}var je=n("h6sn"),Je=n("nXcq"),Ze=n("Y/+N"),$e=n("PqSs"),et=n("yKc8"),tt=n("F5Q9"),nt=n("+NSx"),lt=n("jPU2"),at=n("zMNK"),it=n("/HVE"),rt=n("hOhj"),ot=n("Xd0L"),st=n("cUpR"),ut=n("niTG"),dt=n("ctAq"),mt=n("OZcg"),ct=n("5F/F"),pt=n("cbyg"),ft=n("+IpF"),ht=n("jQIA"),bt=n("ZQOu"),gt=n("Jbdn"),vt=n("sNE8"),St=n("CX5l");n.d(t,"FormDataModuleNgFactory",function(){return Et});var Et=l["\u0275cmf"](o,[],function(e){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[s.a,be,ge.a,ve.a,Se.a,Ee.a,_e.a,ye.a,Ie.a,Ce.a,Re.a,Fe.a,De.a,Oe,we.a,Be,Ue.a]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,b.NgLocalization,b.NgLocaleLocalization,[l.LOCALE_ID,[2,b["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,R["\u0275angular_packages_forms_forms_o"],R["\u0275angular_packages_forms_forms_o"],[]),l["\u0275mpd"](5120,D.a,He.a,[[3,D.a]]),l["\u0275mpd"](5120,Ge.a,qe.a,[[3,Ge.a]]),l["\u0275mpd"](5120,Ve.a,Ke.a,[[3,Ve.a]]),l["\u0275mpd"](4608,We.a,We.a,[l.ComponentFactoryResolver,l.Injector,Ge.a]),l["\u0275mpd"](4608,A.a,A.a,[Ge.a]),l["\u0275mpd"](4608,Ye.b,Ye.b,[Ye.h,Ye.d,l.ComponentFactoryResolver,Ye.g,Ye.e,l.Injector,l.NgZone,b.DOCUMENT,ze.b,[2,b.Location]]),l["\u0275mpd"](5120,Ye.i,Ye.j,[Ye.b]),l["\u0275mpd"](5120,ee.c,ee.d,[Ye.b]),l["\u0275mpd"](135680,ee.e,ee.e,[Ye.b,l.Injector,[2,b.Location],[2,ee.b],ee.c,[3,ee.e],Ye.d]),l["\u0275mpd"](4608,te.a,te.a,[l.ComponentFactoryResolver,Ge.a]),l["\u0275mpd"](4608,L.a,L.a,[]),l["\u0275mpd"](4608,U.a,U.a,[Qe.a]),l["\u0275mpd"](4608,H.a,H.a,[Qe.a]),l["\u0275mpd"](1073742336,b.CommonModule,b.CommonModule,[]),l["\u0275mpd"](1073742336,h.s,h.s,[[2,h.x],[2,h.o]]),l["\u0275mpd"](1073742336,Xe,Xe,[]),l["\u0275mpd"](1073742336,je.a,je.a,[]),l["\u0275mpd"](1073742336,R["\u0275angular_packages_forms_forms_d"],R["\u0275angular_packages_forms_forms_d"],[]),l["\u0275mpd"](1073742336,R.FormsModule,R.FormsModule,[]),l["\u0275mpd"](1073742336,Je.a,Je.a,[]),l["\u0275mpd"](1073742336,Ze.a,Ze.a,[]),l["\u0275mpd"](1073742336,S.b,S.b,[]),l["\u0275mpd"](1073742336,_.b,_.b,[]),l["\u0275mpd"](1073742336,v.b,v.b,[]),l["\u0275mpd"](1073742336,E.b,E.b,[]),l["\u0275mpd"](1073742336,y.b,y.b,[]),l["\u0275mpd"](1073742336,I.b,I.b,[]),l["\u0275mpd"](1073742336,He.c,He.c,[]),l["\u0275mpd"](1073742336,$e.a,$e.a,[]),l["\u0275mpd"](1073742336,qe.b,qe.b,[]),l["\u0275mpd"](1073742336,Ke.b,Ke.b,[]),l["\u0275mpd"](1073742336,et.a,et.a,[]),l["\u0275mpd"](1073742336,tt.a,tt.a,[]),l["\u0275mpd"](1073742336,nt.c,nt.c,[]),l["\u0275mpd"](1073742336,lt.a,lt.a,[]),l["\u0275mpd"](1073742336,ze.a,ze.a,[]),l["\u0275mpd"](1073742336,at.f,at.f,[]),l["\u0275mpd"](1073742336,it.b,it.b,[]),l["\u0275mpd"](1073742336,rt.ScrollingModule,rt.ScrollingModule,[]),l["\u0275mpd"](1073742336,Ye.f,Ye.f,[]),l["\u0275mpd"](1073742336,ot.e,ot.e,[[2,ot.b],[2,st.f]]),l["\u0275mpd"](1073742336,ee.k,ee.k,[]),l["\u0275mpd"](1073742336,ut.c,ut.c,[]),l["\u0275mpd"](1073742336,dt.b,dt.b,[]),l["\u0275mpd"](1073742336,mt.a,mt.a,[]),l["\u0275mpd"](1073742336,ct.a,ct.a,[]),l["\u0275mpd"](1073742336,pt.a,pt.a,[]),l["\u0275mpd"](1073742336,ft.c,ft.c,[]),l["\u0275mpd"](1073742336,ht.a,ht.a,[]),l["\u0275mpd"](1073742336,bt.a,bt.a,[]),l["\u0275mpd"](1073742336,gt.a,gt.a,[]),l["\u0275mpd"](1073742336,vt.a,vt.a,[]),l["\u0275mpd"](1073742336,St.a,St.a,[]),l["\u0275mpd"](1073742336,O.c,O.c,[]),l["\u0275mpd"](1073742336,o,o,[]),l["\u0275mpd"](1024,h.m,function(){return[[{path:"",component:Z}]]},[])])})},ddZp:function(e,t,n){"use strict";n.d(t,"a",function(){return l});class l{agInit(e){this.params=e,this.label=this.params.label||this.params.value,this.imgUrl=this.params.imgUrl||null,this.tooltip=this.params.tooltip||this.params.value||null}refresh(e){return!0}onClick(e){this.params.onClick instanceof Function&&(this.params.event=e,this.params.rowData=this.params.data,this.params.onClick(this.params))}}},hUUB:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var l=n("IheW");n("pQSL");class a{constructor(e){this.tqmiHttpService=e,this.apiPath={formData:"api/form-data",deleteForm:"api/form-data/delete",getUserFormPermissions:"api/get-user-permission-for-a-given-form",importFormData:"api/upload-form-data"}}getFormDataListing(e,t,n,a){let i=(new l.h).set("sortBy","createdDate").set("sort","desc").set("startFrom",t.toString()).set("formId",a).set("limit",n.toString());return e&&e.trim().length&&(i=i.set("name",e)),this.tqmiHttpService.get(this.apiPath.formData,{apiType:"forms",params:i})}getFormDetail(e){return this.tqmiHttpService.get(this.apiPath.formData+"/"+e,{apiType:"forms"})}addFormData(e){return this.tqmiHttpService.post(this.apiPath.formData,e,{apiType:"forms"})}editFormData(e){return this.tqmiHttpService.patch(this.apiPath.formData,e,{apiType:"forms"})}deleteFormData(e,t){return this.tqmiHttpService.post(this.apiPath.deleteForm,{formId:e,dataId:t},{apiType:"forms"})}getUserFormPermissions(e,t){let n=new l.h;return n=n.set("employeeId",t),this.tqmiHttpService.get(this.apiPath.getUserFormPermissions+"/"+e,{apiType:"forms",params:n})}importFormData(e,t,n){const l=new FormData;return l.append("formData",e,e.name),l.append("formId",t),l.append("isOverride","true"),this.tqmiHttpService.post(this.apiPath.importFormData,l,{apiType:"import"})}}},kd83:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var l=n("8Y7J"),a=n("+IpF"),i=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function r(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,":svg:svg",[["ibmIconWarningFilled16",""]],[[1,"class",0]],null,null,null,null)),l["\u0275did"](1,4210688,null,0,a.b,[l.ElementRef],{ariaLabel:[0,"ariaLabel"],ariaLabelledby:[1,"ariaLabelledby"],ariaHidden:[2,"ariaHidden"],title:[3,"title"],isFocusable:[4,"isFocusable"]},null)],function(e,t){var n=t.component;e(t,1,0,n.ariaLabel,n.ariaLabelledby,n.ariaHidden,n.title,n.focusable)},function(e,t){e(t,0,0,t.component.innerClass)})}}}]);