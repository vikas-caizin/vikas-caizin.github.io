(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{OJuz:function(e,t,n){"use strict";n.r(t);var o,r,i,a,s,l,u,c=n("8Y7J"),p=n("Y7sv"),d=n("sspt"),h=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=function(e){function t(t,n,o){var r=e.call(this,t)||this;return r.parentCache=n,r.params=o,r.startRow=t*o.blockSize,r.endRow=r.startRow+o.blockSize,r}return h(t,e),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,t,n){p.mb.exists(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,t=this.createLoadParams();p.mb.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(t)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},t.prototype.forEachNode=function(e,t,n){var o=this;this.rowNodes.forEach(function(r,i){o.startRow+i<n&&e(r,t.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,t){return void 0===t&&(t=!1),t||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var t=this.startRow+e,n=this.getContext().createBean(new p.Z);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(t),n.setRowTop(this.params.rowHeight*t),this.rowNodes.push(n)}},t.prototype.processServerResult=function(e){var t=this;this.rowNodes.forEach(function(n,o){t.setDataAndId(n,e.rowData?e.rowData[o]:void 0,t.startRow+o)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},f([p.S],t.prototype,"postConstruct",null),f([p.U],t.prototype,"destroyRowNodes",null),t}(p.ab),m=(u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=function(e){function t(t){var n=e.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=t.initialRowCount,n.params=t,n}return m(t,e),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,t){void 0===t&&(t=!1);var n=Math.floor(e/this.params.blockSize),o=this.blocks[n];if(!o){if(t)return;o=this.createBlock(n)}return o.getRow(e)},t.prototype.createBlock=function(e){var t=this.createBean(new g(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(e){return e.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(t){return e.destroyBlock(t)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,t){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+t),this.checkRowCount(e,t),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,o=this.getBlocksInOrder().filter(function(t){return t!=e});o.sort(function(e,t){return t.getLastAccessed()-e.getLastAccessed()});var r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,a=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach(function(e,t){if(e.getState()===g.STATE_WAITING_TO_LOAD&&t>=a||r&&t>=i){if(n.isBlockCurrentlyDisplayed(e))return;if(n.isBlockFocused(e))return;n.removeBlockFromCache(e)}})},t.prototype.isBlockFocused=function(e){var t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;var n=e.getStartRow(),o=e.getEndRow();return t.rowIndex>=n&&t.rowIndex<o},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=e.getStartRow(),n=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,n)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,t){if("number"==typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}},t.prototype.setRowCount=function(e,t){this.rowCount=e,p.mb.exists(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var t=this,n=new p.N;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(e,n,t.rowCount)})},t.prototype.getBlocksInOrder=function(){return p.mb.getAllValuesInObject(this.blocks).sort(function(e,t){return e.getId()-t.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:p.C.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.getBlocksInOrder().forEach(function(n){n.getId()*e.params.blockSize>=e.rowCount&&t.push(n)}),t.length>0&&t.forEach(function(t){return e.destroyBlock(t)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(t){return e.removeBlockFromCache(t)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,t){var n=this,o=[],r=-1,i=!1,a=new p.N;p.mb.missing(e)&&(i=!0);var s=!1;return this.getBlocksInOrder().forEach(function(l){s||(i&&r+1!==l.getId()?s=!0:(r=l.getId(),l.forEachNode(function(n){var r=n===e||n===t;(i||r)&&o.push(n),r&&(i=!i)},a,n.rowCount)))}),s||i?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,y([Object(p.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),y([Object(p.k)("focusService")],t.prototype,"focusService",void 0),y([(n=Object(p.W)("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),y([p.U],t.prototype,"destroyAllBlocks",null),t;var n}(p.n),b=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),C=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,t,n,o){return!1},t.prototype.init=function(){var e=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&p.mb.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.DefaultGroupOrderComparator")},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,p.C.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!p.mb.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return p.x.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]},t.prototype.reset=function(){if(this.datasource){p.mb.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionService.reset(),this.resetCache();var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}},t.prototype.createModelUpdatedEvent=function(){return{type:p.C.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache();var e=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:this.defaultIfInvalid(e,2),initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new p.N},this.infiniteCache=this.createBean(new v(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,t){return e>0?e:t},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var t=void 0;return this.forEachNode(function(n){n.id===e&&(t=n)}),t},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)},C([Object(p.k)("filterManager")],t.prototype,"filterManager",void 0),C([Object(p.k)("sortController")],t.prototype,"sortController",void 0),C([Object(p.k)("selectionService")],t.prototype,"selectionService",void 0),C([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),C([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),C([Object(p.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),C([Object(p.k)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),C([p.S],t.prototype,"init",null),C([p.U],t.prototype,"destroyDatasource",null),C([Object(p.m)("rowModel")],t)}(p.n),O={moduleName:p.L.InfiniteRowModelModule,rowModels:{infinite:w}},x=function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?e+"."+t:e},e.prototype.getMergedParamsAndData=function(e){var t=this.mergeDefaultParams(e);return{mergedParams:t,data:this.beans.gridSerializer.serialize(this.createSerializingSession(t),t)}},e.prototype.mergeDefaultParams=function(e){var t=this.getDefaultExportParams(),n={};return p.mb.assign(n,t),p.mb.assign(n,e),n},e}(),S=function(){function e(e){this.groupColumns=[];var t=e.valueService,n=e.gridOptionsWrapper,o=e.processCellCallback,r=e.processHeaderCallback,i=e.processGroupHeaderCallback,a=e.processRowGroupCallback;this.columnModel=e.columnModel,this.valueService=t,this.gridOptionsWrapper=n,this.processCellCallback=o,this.processHeaderCallback=r,this.processGroupHeaderCallback=i,this.processRowGroupCallback=a}return e.prototype.prepare=function(e){this.groupColumns=p.mb.filter(e,function(e){return!!e.getColDef().showRowGroup})},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,n,o,r){var i,a=this.gridOptionsWrapper.isGroupMultiAutoColumn()?r.rowGroupIndex:0;i=r&&r.group&&(t===a&&-1!==this.groupColumns.indexOf(e)||0===t&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(r):this.valueService.getValue(e,r);var s=this.processCell(n,r,e,i,this.processCellCallback,o);return null!=s?s:""},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var t=[e.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;e.parent;)t.push((e=e.parent).key);return t.reverse().join(" -> ")},e.prototype.processCell=function(e,t,n,o,r,i){return r?r({accumulatedRowIndex:e,column:n,node:t,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:i}):null!=o?o:""},e}(),P=function(){function e(){}return e.download=function(e,t){var n=document.defaultView||window;if(n)if(n.navigator.msSaveOrOpenBlob)n.navigator.msSaveOrOpenBlob(t,e);else{var o=document.createElement("a"),r=n.URL.createObjectURL(t);o.setAttribute("href",r),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(o),n.setTimeout(function(){n.URL.revokeObjectURL(r)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},e}(),_=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=function(e){function t(t){var n=e.call(this,t)||this;n.isFirstLine=!0,n.result="";var o=t.columnSeparator;return n.suppressQuotes=t.suppressQuotes,n.columnSeparator=o,n}return _(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(e){t.beginNewLine(),e.forEach(function(e,n){0!==n&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(n)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,t,p.x.EXPORT_TYPE_CSV,n))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"');var t},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(S),T=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),A=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return T(t,e),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getDefaultExportParams=function(){return this.gridOptionsWrapper.getDefaultExportParams("csv")},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParamsAndData(e),n=t.mergedParams,o=t.data,r=new Blob(["\ufeff",o],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"});return P.download(this.getFileName(n.fileName),r),o},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){return this.getMergedParamsAndData(e).data},t.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){return new E({columnModel:this.columnModel,valueService:this.valueService,gridOptionsWrapper:this.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},A([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),A([Object(p.k)("valueService")],t.prototype,"valueService",void 0),A([Object(p.k)("gridSerializer")],t.prototype,"gridSerializer",void 0),A([Object(p.k)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),A([p.S],t.prototype,"postConstruct",null),A([Object(p.m)("csvCreator")],t)}(x),D=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(r||(r={}));var R,I,N,F,L,j,G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var n=this.getColumnsToExport(t.allColumns,t.columnKeys);return p.mb.compose(this.prepareSession(n),this.prependContent(t),this.exportColumnGroups(t,n),this.exportHeaders(t,n),this.processPinnedTopRows(t,n),this.processRows(t,n),this.processPinnedBottomRows(t,n),this.appendContent(t))(e).parse()},t.prototype.processRow=function(e,t,n,o){var r=t.shouldRowBeSkipped||function(){return!1},i=this.gridOptionsWrapper,a=i.getContext(),s=i.getApi(),l=i.getColumnApi(),u=i.isGroupRemoveSingleChildren(),c=i.isGroupHideOpenParents(),d=i.isGroupRemoveLowestSingleChildren(),h=this.columnModel.isPivotMode()?o.leafGroup:!o.group,f=1===o.allChildrenCount&&(u||d&&o.leafGroup);if((t.skipGroups||t.skipRowGroups)&&t.skipGroups&&p.mb.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!h&&(t.skipRowGroups||f||c)||t.onlySelected&&!o.isSelected()||t.skipPinnedTop&&"top"===o.rowPinned||t.skipPinnedBottom&&"bottom"===o.rowPinned)&&(-1!==o.level||o.leafGroup)&&!r({node:o,api:s,context:a})){var g=e.onNewBodyRow();if(n.forEach(function(e,t){g.onColumn(e,t,o)}),t.getCustomContentBelowRow){var m=t.getCustomContentBelowRow({node:o,api:s,columnApi:l,context:a});m&&e.addCustomContent(m)}}},t.prototype.appendContent=function(e){return function(t){var n=e.customFooter||e.appendContent;return n&&(e.customFooter&&p.mb.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),t.addCustomContent(n)),t}},t.prototype.prependContent=function(e){return function(t){var n=e.customHeader||e.prependContent;return n&&(e.customHeader&&p.mb.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),t.addCustomContent(n)),t}},t.prototype.prepareSession=function(e){return function(t){return t.prepare(e),t}},t.prototype.exportColumnGroups=function(e,t){var n=this;return function(o){if(e.skipColumnGroupHeaders)e.columnGroups&&p.mb.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var r=new p.H,i=n.displayedGroupCreator.createDisplayedGroups(t,n.columnModel.getGridBalancedTree(),r,null);n.recursivelyAddHeaderGroups(i,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,t){return function(n){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&p.mb.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var o=n.onNewHeaderRow();t.forEach(function(e,t){o.onColumn(e,t,void 0)})}return n}},t.prototype.processPinnedTopRows=function(e,t){var n=this;return function(o){var r=n.processRow.bind(n,o,e,t);return n.pinnedRowModel.forEachPinnedTopRow(r),o}},t.prototype.processRows=function(e,t){var n=this;return function(o){var r=n.rowModel,i=r.getType(),a=i===p.x.ROW_MODEL_TYPE_CLIENT_SIDE,s=i===p.x.ROW_MODEL_TYPE_SERVER_SIDE,l=!a&&e.onlySelected,u=n.processRow.bind(n,o,e,t);return n.columnModel.isPivotMode()?a?r.forEachPivotNode(u):r.forEachNode(u):e.onlySelectedAllPages||l?n.selectionService.getSelectedNodes().forEach(u):a?r.forEachNodeAfterFilterAndSort(u):s?r.forEachNodeAfterFilterAndSort(u):r.forEachNode(u),o}},t.prototype.processPinnedBottomRows=function(e,t){var n=this;return function(o){var r=n.processRow.bind(n,o,e,t);return n.pinnedRowModel.forEachPinnedBottomRow(r),o}},t.prototype.getColumnsToExport=function(e,t){void 0===e&&(e=!1);var n=this.columnModel.isPivotMode();return t&&t.length?this.columnModel.getGridColumns(t):e&&!n?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([p.x.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,t,n){var o=[];e.forEach(function(e){e.getChildren&&e.getChildren().forEach(function(e){return o.push(e)})}),e.length>0&&e[0]instanceof p.u&&this.doAddHeaderHeader(t,e,n),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,t,n)},t.prototype.doAddHeaderHeader=function(e,t,n){var o=this,r=e.onNewHeaderGroupingRow(),i=0;t.forEach(function(e){var t,a=e;t=n?n({columnGroup:a,api:o.gridOptionsWrapper.getApi(),columnApi:o.gridOptionsWrapper.getColumnApi(),context:o.gridOptionsWrapper.getContext()}):o.columnModel.getDisplayNameForColumnGroup(a,"header"),r.onColumn(t||"",i++,a.getLeafColumns().length-1)})},k([Object(p.k)("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),k([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),k([Object(p.k)("rowModel")],t.prototype,"rowModel",void 0),k([Object(p.k)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),k([Object(p.k)("selectionService")],t.prototype,"selectionService",void 0),k([Object(p.m)("gridSerializer")],t)}(p.n),V={moduleName:p.L.CsvExportModule,beans:[M,G]},B=function(){function e(){}return e.createHeader=function(e){void 0===e&&(e={});var t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),"<?xml "+t.map(function(t){return t+'="'+e[t]+'"'}).join(" ")+" ?>"},e.createXml=function(e,t){var n=this,o="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(e){Object.keys(e.map).forEach(function(r){o+=n.returnAttributeIfPopulated(e.prefix+r,e.map[r],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(r){o+=n.returnAttributeIfPopulated(r,e.properties.rawMap[r],t)}));var r="<"+e.name+o;return e.children||null!=e.textNode?null!=e.textNode?r+">"+e.textNode+"</"+e.name+">\r\n":(r+=">\r\n",e.children&&e.children.forEach(function(e){r+=n.createXml(e,t)}),r+"</"+e.name+">\r\n"):r+"/>\r\n"},e.returnAttributeIfPopulated=function(e,t,n){if(!t&&""!==t&&0!==t)return"";var o=t;return"boolean"==typeof t&&n&&(o=n(t))," "+e+'="'+o+'"'},e}(),W=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),z=function(){function e(){}return e.addFolders=function(e){e.forEach(this.addFolder.bind(this))},e.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1})},e.addFile=function(e,t,n){void 0===n&&(n=!1),this.files.push({path:e,created:new Date,content:t,isBase64:n})},e.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),n=this.buildUint8Array(t);return this.clearStream(),new Blob([n],{type:e})},e.clearStream=function(){this.folders=[],this.files=[]},e.buildFileStream=function(e){void 0===e&&(e="");for(var t=this.folders.concat(this.files),n=t.length,o="",r=0,i=0,a=0,s=t;a<s.length;a++){var l=this.getHeader(s[a],r),u=l.fileHeader,c=l.folderHeader,p=l.content;r+=u.length+p.length,i+=c.length,e+=u+p,o+=c}return e+o+this.buildFolderEnd(n,i,r)},e.getHeader=function(e,t){var n=e.content,o=e.path,r=e.created,i=e.isBase64,a=p.mb.decToHex,s=(0,p.mb.utf8_encode)(o),l=s!==o,u=this.convertTime(r),c=this.convertDate(r),d="";if(l){var h=a(1,1)+a(this.getFromCrc32Table(s),4)+s;d="up"+a(h.length,2)+h}var f=n?this.getConvertedContent(n,i):{size:0,content:""},g=f.size,m=f.content,y="\n\0"+(l?"\0\b":"\0\0")+"\0\0"+a(u,2)+a(c,2)+a(g?this.getFromCrc32Table(m):0,4)+a(g,4)+a(g,4)+a(s.length,2)+a(d.length,2);return{fileHeader:"PK\x03\x04"+y+s+d,folderHeader:"PK\x01\x02\x14\0"+y+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+a(t,4)+s+d,content:m||""}},e.getConvertedContent=function(e,t){return void 0===t&&(t=!1),t&&(e=e.split(";base64,")[1]),{size:(e=t?atob(e):e).length,content:e}},e.buildFolderEnd=function(e,t,n){var o=p.mb.decToHex;return"PK\x05\x06\0\0\0\0"+o(e,2)+o(e,2)+o(t,4)+o(n,4)+"\0\0"},e.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t},e.getFromCrc32Table=function(e){if(!e.length)return 0;for(var t=e.length,n=new Uint8Array(t),o=0;o<t;o++)n[o]=e.charCodeAt(o);var r=-1;for(o=0;o<t;o++)r=r>>>8^W[255&(r^n[o])];return-1^r},e.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),(t<<=5)|e.getSeconds()/2},e.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,(t<<=5)|e.getDate()},e.folders=[],e.files=[],e}(),U=[d.a,O,V],H=(j=function(e,t){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}j(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),K=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.watermarkMessage=void 0,t}var n;return H(t,e),n=t,t.prototype.validateLicense=function(){if(p.mb.missingOrEmpty(n.licenseKey))this.outputMissingLicenseKey();else if(n.licenseKey.length>32){var e=n.extractLicenseComponents(n.licenseKey),t=e.license,o=e.version,r=e.isTrial;e.md5===this.md5.md5(t)?p.mb.exists(o)&&o?this.validateLicenseKeyForVersion(o,!!r,t):this.validateLegacyKey(t):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(e){var t=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(n.decode(t),10))},t.extractLicenseComponents=function(e){var t=e.replace(/[\u200B-\u200D\uFEFF]/g,""),o=(t=t.replace(/\r?\n|\r/g,"")).length-32,r=t.substring(o),i=t.substring(0,o),a=n.extractBracketedInformation(t);return{md5:r,license:i,version:a[0],isTrial:a[1]}},t.prototype.getLicenseDetails=function(e){var t=n.extractLicenseComponents(e),o=t.license,r=t.version,i=t.isTrial,a=t.md5===this.md5.md5(o),s=null;return a&&(s=n.extractExpiry(o),a=!isNaN(s.getTime())),{licenseKey:e,valid:a,expiry:a?n.formatDate(s):null,version:r||"legacy",isTrial:i}},t.prototype.isDisplayWatermark=function(){return!p.mb.missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.formatDate=function(e){var t=e.getDate(),n=e.getMonth(),o=e.getFullYear();return t+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+o},t.getGridReleaseDate=function(){return new Date(parseInt(n.decode(n.RELEASE_INFORMATION),10))},t.decode=function(e){for(var t,o,r,i,a,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0,p=e.replace(/[^A-Za-z0-9+/=]/g,"");c<p.length;)r=l.indexOf(p.charAt(c++)),t=(15&(i=l.indexOf(p.charAt(c++))))<<4|(a=l.indexOf(p.charAt(c++)))>>2,o=(3&a)<<6|(s=l.indexOf(p.charAt(c++))),u+=String.fromCharCode(r<<2|i>>4),64!=a&&(u+=String.fromCharCode(t)),64!=s&&(u+=String.fromCharCode(o));return n.utf8_decode(u)},t.utf8_decode=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},t.setLicenseKey=function(e){n.licenseKey=e},t.extractBracketedInformation=function(e){var t=e.split("[").filter(function(e){return e.indexOf("]")>-1}).map(function(e){return e.split("]")[0]});if(!t||0===t.length)return[null,null];var n=1===t.filter(function(e){return"TRIAL"===e}).length;return[t.filter(function(e){return 0===e.indexOf("v")}).map(function(e){return e.replace(/^v/,"")})[0],n]},t.prototype.validateLicenseKeyForVersion=function(e,t,n){"2"===e&&(t?this.validateForTrial(n):this.validateLegacyKey(n))},t.prototype.validateLegacyKey=function(e){var t=n.getGridReleaseDate(),o=n.extractExpiry(e),r=!1,i=!1;if(isNaN(o.getTime())||(r=!0,i=t<o),r){if(!i){var a=n.formatDate(o),s=n.formatDate(t);this.outputIncompatibleVersion(a,s)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(e){var t=n.extractExpiry(e),o=new Date,r=!1,i=!1;if(isNaN(t.getTime())||(r=!0,i=t>o),r){if(!i){var a=n.formatDate(t);this.outputExpiredTrialKey(a)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(e){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+e+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(e,t){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+e+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+t+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTYyODc2NTk1NDkwMA==",K([Object(p.k)("md5")],t.prototype,"md5",void 0),K([p.T],t.prototype,"validateLicense",null),n=K([Object(p.m)("licenseManager")],t)}(p.n),q=(L=function(e,t){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Y=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ieCompatibility=!1,t}return q(t,e),t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(e,t){var n=e[0],o=e[1],r=e[2],i=e[3];n=this.ff(n,o,r,i,t[0],7,-680876936),i=this.ff(i,n,o,r,t[1],12,-389564586),r=this.ff(r,i,n,o,t[2],17,606105819),o=this.ff(o,r,i,n,t[3],22,-1044525330),n=this.ff(n,o,r,i,t[4],7,-176418897),i=this.ff(i,n,o,r,t[5],12,1200080426),r=this.ff(r,i,n,o,t[6],17,-1473231341),o=this.ff(o,r,i,n,t[7],22,-45705983),n=this.ff(n,o,r,i,t[8],7,1770035416),i=this.ff(i,n,o,r,t[9],12,-1958414417),r=this.ff(r,i,n,o,t[10],17,-42063),o=this.ff(o,r,i,n,t[11],22,-1990404162),n=this.ff(n,o,r,i,t[12],7,1804603682),i=this.ff(i,n,o,r,t[13],12,-40341101),r=this.ff(r,i,n,o,t[14],17,-1502002290),o=this.ff(o,r,i,n,t[15],22,1236535329),n=this.gg(n,o,r,i,t[1],5,-165796510),i=this.gg(i,n,o,r,t[6],9,-1069501632),r=this.gg(r,i,n,o,t[11],14,643717713),o=this.gg(o,r,i,n,t[0],20,-373897302),n=this.gg(n,o,r,i,t[5],5,-701558691),i=this.gg(i,n,o,r,t[10],9,38016083),r=this.gg(r,i,n,o,t[15],14,-660478335),o=this.gg(o,r,i,n,t[4],20,-405537848),n=this.gg(n,o,r,i,t[9],5,568446438),i=this.gg(i,n,o,r,t[14],9,-1019803690),r=this.gg(r,i,n,o,t[3],14,-187363961),o=this.gg(o,r,i,n,t[8],20,1163531501),n=this.gg(n,o,r,i,t[13],5,-1444681467),i=this.gg(i,n,o,r,t[2],9,-51403784),r=this.gg(r,i,n,o,t[7],14,1735328473),o=this.gg(o,r,i,n,t[12],20,-1926607734),n=this.hh(n,o,r,i,t[5],4,-378558),i=this.hh(i,n,o,r,t[8],11,-2022574463),r=this.hh(r,i,n,o,t[11],16,1839030562),o=this.hh(o,r,i,n,t[14],23,-35309556),n=this.hh(n,o,r,i,t[1],4,-1530992060),i=this.hh(i,n,o,r,t[4],11,1272893353),r=this.hh(r,i,n,o,t[7],16,-155497632),o=this.hh(o,r,i,n,t[10],23,-1094730640),n=this.hh(n,o,r,i,t[13],4,681279174),i=this.hh(i,n,o,r,t[0],11,-358537222),r=this.hh(r,i,n,o,t[3],16,-722521979),o=this.hh(o,r,i,n,t[6],23,76029189),n=this.hh(n,o,r,i,t[9],4,-640364487),i=this.hh(i,n,o,r,t[12],11,-421815835),r=this.hh(r,i,n,o,t[15],16,530742520),o=this.hh(o,r,i,n,t[2],23,-995338651),n=this.ii(n,o,r,i,t[0],6,-198630844),i=this.ii(i,n,o,r,t[7],10,1126891415),r=this.ii(r,i,n,o,t[14],15,-1416354905),o=this.ii(o,r,i,n,t[5],21,-57434055),n=this.ii(n,o,r,i,t[12],6,1700485571),i=this.ii(i,n,o,r,t[3],10,-1894986606),r=this.ii(r,i,n,o,t[10],15,-1051523),o=this.ii(o,r,i,n,t[1],21,-2054922799),n=this.ii(n,o,r,i,t[8],6,1873313359),i=this.ii(i,n,o,r,t[15],10,-30611744),r=this.ii(r,i,n,o,t[6],15,-1560198380),o=this.ii(o,r,i,n,t[13],21,1309151649),n=this.ii(n,o,r,i,t[4],6,-145523070),i=this.ii(i,n,o,r,t[11],10,-1120210379),r=this.ii(r,i,n,o,t[2],15,718787259),o=this.ii(o,r,i,n,t[9],21,-343485551),e[0]=this.add32(n,e[0]),e[1]=this.add32(o,e[1]),e[2]=this.add32(r,e[2]),e[3]=this.add32(i,e[3])},t.prototype.cmn=function(e,t,n,o,r,i){return t=this.add32(this.add32(t,e),this.add32(o,i)),this.add32(t<<r|t>>>32-r,n)},t.prototype.ff=function(e,t,n,o,r,i,a){return this.cmn(t&n|~t&o,e,t,r,i,a)},t.prototype.gg=function(e,t,n,o,r,i,a){return this.cmn(t&o|n&~o,e,t,r,i,a)},t.prototype.hh=function(e,t,n,o,r,i,a){return this.cmn(t^n^o,e,t,r,i,a)},t.prototype.ii=function(e,t,n,o,r,i,a){return this.cmn(n^(t|~o),e,t,r,i,a)},t.prototype.md51=function(e){var t,n=e.length,o=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)this.md5cycle(o,this.md5blk(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(this.md5cycle(o,r),t=0;t<16;t++)r[t]=0;return r[14]=8*n,this.md5cycle(o,r),o},t.prototype.md5blk=function(e){for(var t=[],n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t},t.prototype.rhex=function(e){for(var t="0123456789abcdef".split(""),n="",o=0;o<4;o++)n+=t[e>>8*o+4&15]+t[e>>8*o&15];return n},t.prototype.hex=function(e){for(var t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")},t.prototype.md5=function(e){return this.hex(this.md51(e))},t.prototype.add32=function(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)},t.prototype.add32Std=function(e,t){return e+t&4294967295},t.prototype.add32Compat=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},Y([p.S],t.prototype,"init",null),Y([Object(p.m)("md5")],t)}(p.n),Q=(F=function(e,t){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}F(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Z=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},$=function(e){function t(){return e.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return Q(t,e),t.prototype.postConstruct=function(){var e=this,t=this.shouldDisplayWatermark();p.mb.addOrRemoveCssClass(this.getGui(),"ag-hidden",!t),t&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.addCssClass("ag-hidden")},5e3))},t.prototype.shouldDisplayWatermark=function(){var e=this.licenseManager.isDisplayWatermark(),t=null!=location.hostname.match("^127.0.0.1|localhost|www.ag-grid.com$");return!!location.pathname&&-1!==location.pathname.indexOf("forceWatermark")||e&&!t},Z([Object(p.k)("licenseManager")],t.prototype,"licenseManager",void 0),Z([Object(p.X)("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),Z([p.S],t.prototype,"postConstruct",null),t}(p.v),ee={moduleName:p.L.EnterpriseCoreModule,beans:[X,J],agStackComponents:[{componentName:"AgWatermark",componentClass:$}]},te=(N=function(e,t){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ne=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.navigatorApiFailed=!1,t}return te(t,e),t.prototype.init=function(){var e=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===p.x.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(t){e.gridCtrl=t.gridCtrl})},t.prototype.pasteFromClipboard=function(){var e=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsWrapper.isSuppressClipboardApi()&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(t){p.mb.doOnce(function(){console.warn(t),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")},"clipboardApiError"),e.navigatorApiFailed=!0,e.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var e=this;this.executeOnTempElement(function(e){return e.focus({preventScroll:!0})},function(t){e.processClipboardData(t.value)})},t.prototype.processClipboardData=function(e){var t=this;if(null!=e){var n=p.mb.stringToArray(e,this.gridOptionsWrapper.getClipboardDeliminator()),o=this.gridOptionsWrapper.getProcessDataFromClipboardFunc();o&&(n=o({data:n})),null!=n&&(this.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&this.removeLastLineIfBlank(n),this.doPasteOperation(function(e,o,r,i){t.rangeService&&t.rangeService.isMoreThanOneCell()&&!t.hasOnlyOneValueToPaste(n)?t.pasteIntoActiveRange(n,e,o,i):t.pasteStartingFromFocusedCell(n,e,o,r,i)}))}},t.prototype.doPasteOperation=function(e){var t,n=this.gridOptionsWrapper.getApi(),o=this.gridOptionsWrapper.getColumnApi();if(this.eventService.dispatchEvent({type:p.C.EVENT_PASTE_START,api:n,columnApi:o,source:"clipboard"}),this.clientSideRowModel){var r=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();t=new p.p(r,this.clientSideRowModel.getRootNode())}var i={},a=[],s=this.focusService.getFocusedCell();e(i,a,s,t),t&&this.clientSideRowModel.doAggregate(t),this.rowRenderer.refreshCells(),this.dispatchFlashCells(i),this.fireRowChanged(a),s&&this.focusService.setFocusedCell(s.rowIndex,s.column,s.rowPinned,!0),this.eventService.dispatchEvent({type:p.C.EVENT_PASTE_END,api:n,columnApi:o,source:"clipboard"})},t.prototype.pasteIntoActiveRange=function(e,t,n,o){var r=this,i=this.getRangeSize()%e.length!=0,a=0,s=0;this.iterateActiveRanges(!1,function(l,u,c,d){if(d-a>=e.length){if(i)return;a+=s,s=0}var h=e[d-a];n.push(u);var f=r.gridOptionsWrapper.getProcessCellFromClipboardFunc();c.forEach(function(e,n){if(e.isCellEditable(u)&&!e.isSuppressPaste(u)){n>=h.length&&(n%=h.length);var i=r.processCell(u,e,h[n],p.x.EXPORT_TYPE_DRAG_COPY,f);r.valueService.setValue(u,e,i,p.x.SOURCE_PASTE),o&&o.addParentNode(u.parent,[e]);var a=r.cellPositionUtils.createIdFromValues(l.rowIndex,e,l.rowPinned);t[a]=!0}}),s++})},t.prototype.pasteStartingFromFocusedCell=function(e,t,n,o,r){if(o){var i={rowIndex:o.rowIndex,rowPinned:o.rowPinned},a=this.columnModel.getDisplayedColumnsStartingAt(o.column);this.isPasteSingleValueIntoRange(e)?this.pasteSingleValueIntoRange(e,n,t,r):this.pasteMultipleValues(e,i,n,a,t,p.x.EXPORT_TYPE_CLIPBOARD,r)}},t.prototype.isPasteSingleValueIntoRange=function(e){return this.hasOnlyOneValueToPaste(e)&&null!=this.rangeService&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(e,t,n,o){var r=this,i=e[0][0];this.iterateActiveRanges(!1,function(e,a,s){t.push(a),s.forEach(function(e){return r.updateCellValue(a,e,i,n,p.x.EXPORT_TYPE_CLIPBOARD,o)})})},t.prototype.hasOnlyOneValueToPaste=function(e){return 1===e.length&&1===e[0].length},t.prototype.copyRangeDown=function(){var e=this;if(this.rangeService&&!this.rangeService.isEmpty()){var t=[];this.doPasteOperation(function(n,o,r,i){var a=e.gridOptionsWrapper.getProcessCellForClipboardFunc(),s=e.gridOptionsWrapper.getProcessCellFromClipboardFunc();e.iterateActiveRanges(!0,function(r,l,u){t.length?(o.push(l),u.forEach(function(o,a){if(o.isCellEditable(l)&&!o.isSuppressPaste(l)){var u=e.processCell(l,o,t[a],p.x.EXPORT_TYPE_DRAG_COPY,s);e.valueService.setValue(l,o,u,p.x.SOURCE_PASTE),i&&i.addParentNode(l.parent,[o]);var c=e.cellPositionUtils.createIdFromValues(r.rowIndex,o,r.rowPinned);n[c]=!0}})):u.forEach(function(n){var o=e.processCell(l,n,e.valueService.getValue(n,l),p.x.EXPORT_TYPE_DRAG_COPY,a);t.push(o)})})})}},t.prototype.removeLastLineIfBlank=function(e){var t=p.mb.last(e);t&&1===t.length&&""===t[0]&&p.mb.removeFromArray(e,t)},t.prototype.fireRowChanged=function(e){var t=this;this.gridOptionsWrapper.isFullRowEdit()&&e.forEach(function(e){var n={type:p.C.EVENT_ROW_VALUE_CHANGED,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned,context:t.gridOptionsWrapper.getContext(),api:t.gridOptionsWrapper.getApi(),columnApi:t.gridOptionsWrapper.getColumnApi()};t.eventService.dispatchEvent(n)})},t.prototype.pasteMultipleValues=function(e,t,n,o,r,i,a){var s=this,l=t,u=null!=this.clientSideRowModel&&!this.gridOptionsWrapper.isTreeData();e.forEach(function(e){var t=function(){for(;;){if(!l)return null;var e=s.rowPositionUtils.getRowNode(l);if(l=s.cellNavigationService.getRowBelow({rowPinned:l.rowPinned,rowIndex:l.rowIndex}),null==e)return null;if(!(e.detail||e.footer||u&&e.group))return e}}();t&&(e.forEach(function(e,n){return s.updateCellValue(t,o[n],e,r,i,a)}),n.push(t))})},t.prototype.updateCellValue=function(e,t,n,o,r,i){if(e&&t&&t.isCellEditable(e)&&!t.isSuppressPaste(e)){var a=this.processCell(e,t,n,r,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());this.valueService.setValue(e,t,a,p.x.SOURCE_PASTE),o[this.cellPositionUtils.createIdFromValues(e.rowIndex,t,e.rowPinned)]=!0,i&&i.addParentNode(e.parent,[t])}},t.prototype.copyToClipboard=function(e){this.logger.log("copyToClipboard: includeHeaders = "+e),null==e&&(e=this.gridOptionsWrapper.isCopyHeadersToClipboard());var t=!this.selectionService.isEmpty()&&!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();this.rangeService&&this.rangeService.isMoreThanOneCell()?this.copySelectedRangeToClipboard(e):t?this.copySelectedRowsToClipboard(e):this.focusService.isAnyCellFocused()?this.copyFocusedCellToClipboard(e):this.copySelectedRangeToClipboard(e)},t.prototype.iterateActiveRanges=function(e,t,n){var o=this;if(this.rangeService&&!this.rangeService.isEmpty()){var r=this.rangeService.getCellRanges();e?this.iterateActiveRange(r[0],t,n,!0):r.forEach(function(e,i){return o.iterateActiveRange(e,t,n,i===r.length-1)})}},t.prototype.iterateActiveRange=function(e,t,n,o){if(this.rangeService){var r=this.rangeService.getRangeStartRow(e),i=this.rangeService.getRangeEndRow(e);n&&e.columns&&n(e.columns);for(var a=0,s=!1;!s&&null!=r;){var l=this.rowPositionUtils.getRowNode(r);s=this.rowPositionUtils.sameRow(r,i),t(r,l,e.columns,a++,s&&o),r=this.cellNavigationService.getRowBelow(r)}}},t.prototype.copySelectedRangeToClipboard=function(e){var t=this;if(void 0===e&&(e=!1),this.rangeService&&!this.rangeService.isEmpty()){var n=this.gridOptionsWrapper.getClipboardDeliminator(),o="",r={};this.iterateActiveRanges(!1,function(e,i,a,s,l){var u=t.gridOptionsWrapper.getProcessCellForClipboardFunc();a.forEach(function(a,s){var l=t.valueService.getValue(a,i),c=t.processCell(i,a,l,p.x.EXPORT_TYPE_CLIPBOARD,u);0!=s&&(o+=n),p.mb.exists(c)&&(o+=c);var d=t.cellPositionUtils.createIdFromValues(e.rowIndex,a,e.rowPinned);r[d]=!0}),l||(o+="\r\n")},function(r){if(e){var i=t.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),a=r.map(function(e){var n=t.columnModel.getDisplayNameForColumn(e,"clipboard",!0);return t.processHeader(e,n,i)||""});o+=a.join(n)+"\r\n"}}),this.copyDataToClipboard(o),this.dispatchFlashCells(r)}},t.prototype.copyFocusedCellToClipboard=function(e){var t;void 0===e&&(e=!1);var n=this.focusService.getFocusedCell();if(null!=n){var o,r=this.cellPositionUtils.createId(n),i=this.rowPositionUtils.getRowNode({rowPinned:n.rowPinned,rowIndex:n.rowIndex}),a=n.column,s=this.valueService.getValue(a,i),l=this.processCell(i,a,s,p.x.EXPORT_TYPE_CLIPBOARD,this.gridOptionsWrapper.getProcessCellForClipboardFunc());if(l=p.mb.missing(l)?"":l.toString(),e){var u=this.columnModel.getDisplayNameForColumn(a,"clipboard",!0);o=this.processHeader(a,u,this.gridOptionsWrapper.getProcessHeaderForClipboardFunc())+"\r\n"+l}else o=l;this.copyDataToClipboard(o),this.dispatchFlashCells(((t={})[r]=!0,t))}},t.prototype.dispatchFlashCells=function(e){var t=this;window.setTimeout(function(){t.eventService.dispatchEvent({type:p.C.EVENT_FLASH_CELLS,cells:e,api:t.gridApi,columnApi:t.columnApi})},0)},t.prototype.processCell=function(e,t,n,o,r){return r?r({column:t,node:e,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:o}):n},t.prototype.processHeader=function(e,t,n){return n?n({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):t},t.prototype.copySelectedRowsToClipboard=function(e,t){void 0===e&&(e=!1);var n={columnKeys:t,skipColumnHeaders:!e,suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDeliminator(),onlySelected:!0,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc()},o=this.csvCreator.getDataAsCsv(n);this.copyDataToClipboard(o)},t.prototype.copyDataToClipboard=function(e){var t=this,n=this.gridOptionsWrapper.getSendToClipboardFunc();n?n({data:e}):!this.gridOptionsWrapper.isSuppressClipboardApi()&&navigator.clipboard?navigator.clipboard.writeText(e).catch(function(n){p.mb.doOnce(function(){console.warn(n),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")},"clipboardApiError"),t.copyDataToClipboardLegacy(e)}):this.copyDataToClipboardLegacy(e)},t.prototype.copyDataToClipboardLegacy=function(e){var t=this;this.executeOnTempElement(function(n){var o=t.gridOptionsWrapper.getDocument().activeElement;n.value=e||" ",n.select(),n.focus({preventScroll:!0}),document.execCommand("copy")||console.warn("ag-grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=o&&null!=o.focus&&o.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(e,t){var n=this.gridOptionsWrapper.getDocument(),o=n.createElement("textarea");o.style.width="1px",o.style.height="1px",o.style.top=n.documentElement.scrollTop+"px",o.style.left=n.documentElement.scrollLeft+"px",o.style.position="absolute",o.style.opacity="0";var r=this.gridCtrl.getGui();r.appendChild(o);try{e(o)}catch(i){console.warn("ag-grid: Browser does not support document.execCommand('copy') for clipboard operations")}t?window.setTimeout(function(){t(o),r.removeChild(o)},100):r.removeChild(o)},t.prototype.getRangeSize=function(){var e=this.rangeService.getCellRanges(),t=0,n=0;return e.length>0&&(t=this.rangeService.getRangeStartRow(e[0]).rowIndex,n=this.rangeService.getRangeEndRow(e[0]).rowIndex),t-n+1},ne([Object(p.k)("csvCreator")],t.prototype,"csvCreator",void 0),ne([Object(p.k)("loggerFactory")],t.prototype,"loggerFactory",void 0),ne([Object(p.k)("selectionService")],t.prototype,"selectionService",void 0),ne([Object(p.O)("rangeService")],t.prototype,"rangeService",void 0),ne([Object(p.k)("rowModel")],t.prototype,"rowModel",void 0),ne([Object(p.k)("ctrlsService")],t.prototype,"ctrlsService",void 0),ne([Object(p.k)("valueService")],t.prototype,"valueService",void 0),ne([Object(p.k)("focusService")],t.prototype,"focusService",void 0),ne([Object(p.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),ne([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),ne([Object(p.k)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),ne([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),ne([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),ne([Object(p.k)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ne([Object(p.k)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ne([p.S],t.prototype,"init",null),ne([Object(p.m)("clipboardService")],t)}(p.n),re={moduleName:p.L.ClipboardModule,beans:[oe],dependantModules:[ee,V]},ie=(I=function(e,t){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ae=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.INDETERMINATE=2]="INDETERMINATE"}(R||(R={}));var se,le,ue,ce,pe,de,he,fe,ge,me=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ie(t,e),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(t){t.keyCode===p.J.SPACE&&e.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(t("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(t("ariaFilterColumnsInput","Filter Columns Input"))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=p.mb.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=p.mb.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=p.mb.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(R.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,t=!this.params.suppressColumnSelectAll,n=!this.params.suppressColumnExpandAll,o=this.columnModel.isPrimaryColumnGroupsPresent(),r=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(r("searchOoo","Search...")),p.mb.setDisplayed(this.eFilterTextField.getGui(),e),p.mb.setDisplayed(this.eSelect.getGui(),t),p.mb.setDisplayed(this.eExpand,n&&o)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=p.mb.debounce(function(){var t=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:t})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){var n=this;p.mb.isKeyPressed(e,p.J.ENTER)&&setTimeout(function(){return n.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===R.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,p.mb.setDisplayed(this.eExpandChecked,this.expandState===R.EXPANDED),p.mb.setDisplayed(this.eExpandUnchecked,this.expandState===R.COLLAPSED),p.mb.setDisplayed(this.eExpandIndeterminate,this.expandState===R.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',ae([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),ae([Object(p.X)("eExpand")],t.prototype,"eExpand",void 0),ae([Object(p.X)("eSelect")],t.prototype,"eSelect",void 0),ae([Object(p.X)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),ae([p.S],t.prototype,"postConstruct",null),t}(p.v),ye=function(){function e(e,t,n,o,r){void 0===o&&(o=!1),this.eventService=new p.B,this.displayName=e,this.dept=n,this.group=o,o?(this.columnGroup=t,this.expanded=r,this.children=[]):this.column=t}return e.prototype.isGroup=function(){return this.group},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.getColumnGroup=function(){return this.columnGroup},e.prototype.getColumn=function(){return this.column},e.prototype.getDept=function(){return this.dept},e.prototype.isExpanded=function(){return!!this.expanded},e.prototype.getChildren=function(){return this.children},e.prototype.isPassesFilter=function(){return this.passesFilter},e.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:e.EVENT_EXPANDED_CHANGED}))},e.prototype.setPassesFilter=function(e){this.passesFilter=e},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e}(),ve=(ge=function(e,t){return(ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ge(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),be=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ce=function(e){function t(t,n,o,r){var i=e.call(this)||this;return i.modelItem=t,i.allowDragging=n,i.eventType=o,i.focusWrapper=r,i.processingColumnStateChange=!1,i.modelItem=t,i.columnGroup=t.getColumnGroup(),i.columnDept=t.getDept(),i.allowDragging=n,i}return ve(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.eDragHandle=p.mb.createIconNoSpan("columnDrag",this.gridOptionsWrapper),p.mb.addCssClass(this.eDragHandle,"ag-drag-handle"),p.mb.addCssClass(this.eDragHandle,"ag-column-select-column-group-drag-handle"),this.cbSelect.getGui().insertAdjacentElement("afterend",this.eDragHandle),this.displayName=this.columnModel.getDisplayNameForOriginalColumnGroup(null,this.columnGroup,this.eventType),p.mb.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,p.c.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,ye.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),p.y.addToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.getGui(),this.gridOptionsWrapper,null,this.columnGroup)},t.prototype.setupTooltip=function(){var e=this,t=this.columnGroup.getColGroupDef();if(t){var n=function(){e.setTooltip(t.headerTooltip)};n(),this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,n)}},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="columnToolPanelColumnGroup",t},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case p.J.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case p.J.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case p.J.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(t){e.addManagedListener(t,p.t.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,p.t.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,p.t.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,p.t.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var t={type:p.A.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(t)})}else p.mb.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(t){e[t.getId()]=t.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(p.mb.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(p.mb.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new p.ib(this.eColumnGroupIcons,!0);this.addManagedListener(e,p.ib.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[];return function t(n){n.forEach(function(n){n.isPassesFilter()&&(n.isGroup()?t(n.getChildren()):e.push(n.getColumn()))})}(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),n=e("ariaColumnGroupToggleVisibility","column group toggle visibility");p.mb.setAriaLabel(this.focusWrapper,this.displayName+" "+n+" ("+t+")")},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),t=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(t),p.mb.addOrRemoveCssClass(this.getGui(),"ag-column-select-column-group-readonly",t),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,t=this.columnModel.isPivotMode(),n=this.getVisibleLeafColumns(),o=0,r=0;return n.forEach(function(n){!t&&n.getColDef().lockVisible||(e.isColumnChecked(n,t)?o++:r++)}),o>0&&r>0?void 0:o>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),t=0;return this.columnGroup.getLeafColumns().forEach(function(n){e?n.isAnyFunctionAllowed()&&t++:n.getColDef().lockVisible||t++}),0===t},t.prototype.isColumnChecked=function(e,t){if(t){var n=e.isPivotActive(),o=e.isRowGroupActive(),r=e.isValueActive();return n||o||r}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();p.mb.setDisplayed(this.eGroupClosedIcon,!e),p.mb.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){p.mb.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var t=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!t||!e&&t)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',be([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),be([Object(p.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),be([Object(p.k)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),be([Object(p.X)("cbSelect")],t.prototype,"cbSelect",void 0),be([Object(p.X)("eLabel")],t.prototype,"eLabel",void 0),be([Object(p.X)("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),be([Object(p.X)("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),be([Object(p.X)("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),be([p.S],t.prototype,"init",null),t}(p.v),we=(fe=function(e,t){return(fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}fe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Oe=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},xe=function(e){function t(t,n,o,r,i){var a=e.call(this)||this;return a.column=t,a.columnDept=n,a.allowDragging=o,a.groupsExist=r,a.focusWrapper=i,a.processingColumnStateChange=!1,a}return we(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.eDragHandle=p.mb.createIconNoSpan("columnDrag",this.gridOptionsWrapper),p.mb.addCssClass(this.eDragHandle,"ag-drag-handle"),p.mb.addCssClass(this.eDragHandle,"ag-column-select-column-drag-handle"),this.cbSelect.getGui().insertAdjacentElement("afterend",this.eDragHandle),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var e=p.mb.escapeString(this.displayName);this.eLabel.innerHTML=e;var n=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+n),this.setupDragging(),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,p.t.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,p.t.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,p.t.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,p.t.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,p.c.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),p.y.addToolPanelClassesFromColDef(this.column.getColDef(),this.getGui(),this.gridOptionsWrapper,this.column,null)},t.prototype.setupTooltip=function(){var e=this,t=function(){var t=e.column.getColDef().headerTooltip;e.setTooltip(t)};t(),this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,t)},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="columnToolPanelColumn",t.colDef=this.column.getColDef(),t},t.prototype.handleKeyDown=function(e){e.keyCode===p.J.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),n=e("ariaColumnToggleVisibility","column toggle visibility");p.mb.setAriaLabel(this.focusWrapper,this.displayName+" "+n+" ("+t+")")},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var t={type:p.A.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(t)})}else p.mb.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e,t=this.columnModel.isPivotMode();if(t){var n=this.column.isAnyFunctionActive();this.cbSelect.setValue(n)}else this.cbSelect.setValue(this.column.isVisible());if(t){var o=this.gridOptionsWrapper.isFunctionsReadOnly(),r=!this.column.isAnyFunctionAllowed();e=o||r}else e=!!this.column.getColDef().lockVisible;this.cbSelect.setReadOnly(e),p.mb.addOrRemoveCssClass(this.getGui(),"ag-column-select-column-readonly",e);var i=t&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(i),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("ag-grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',Oe([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Oe([Object(p.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Oe([Object(p.k)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Oe([Object(p.X)("eLabel")],t.prototype,"eLabel",void 0),Oe([Object(p.X)("cbSelect")],t.prototype,"cbSelect",void 0),Oe([p.S],t.prototype,"init",null),t}(p.v),Se=(he=function(e,t){return(he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}he(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Pe=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_e=function(){function e(e){this.items=e}return e.prototype.getRowCount=function(){return this.items.length},e.prototype.getRow=function(e){return this.items[e]},e}(),Ee=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.destroyColumnItemFuncs=[],n}return Se(t,e),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,t,n){var o=this;this.params=e,this.allowDragging=t,this.eventType=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[p.C.EVENT_COLUMN_PIVOT_CHANGED,p.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,p.C.EVENT_COLUMN_ROW_GROUP_CHANGED,p.C.EVENT_COLUMN_VALUE_CHANGED,p.C.EVENT_COLUMN_VISIBLE,p.C.EVENT_NEW_COLUMNS_LOADED].forEach(function(e){o.addManagedListener(o.eventService,e,o.fireSelectionChangedEvent.bind(o))}),this.expandGroupsByDefault=!this.params.contractColumnSelection,this.virtualList=this.createManagedBean(new p.lb("column-select","tree")),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(e,t){return o.createComponentFromItem(e,t)}),this.columnModel.isReady()&&this.onColumnsChanged()},t.prototype.createComponentFromItem=function(e,t){if(e.isGroup()){var n=new Ce(e,this.allowDragging,this.eventType,t);return this.getContext().createBean(n),n}var o=new xe(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,t);return this.getContext().createBean(o),o},t.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),t=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||t?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem(function(t){if(t.isGroup()){var n=t.getColumnGroup();n&&(e[n.getId()]=t.isExpanded())}}),e},t.prototype.setExpandedStates=function(e){this.allColsTree&&this.forEachItem(function(t){if(t.isGroup()){var n=t.getColumnGroup();if(n){var o=e[n.getId()];null!=o&&t.setExpanded(o)}}})},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var t=this.colDefService.createColumnTree(e);this.buildListModel(t),this.groupsExist=e.some(function(e){return e&&void 0!==e.children}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var t=this,n=this.onColumnExpanded.bind(this),o=function(e,t,n){e.forEach(function(e){e instanceof p.P?r(e,t,n):i(e,t,n)})},r=function(e,r,i){var a=e.getColGroupDef();if(!a||!a.suppressColumnsToolPanel)if(e.isPadding())o(e.getChildren(),r,i);else{var s=t.columnModel.getDisplayNameForOriginalColumnGroup(null,e,t.eventType),l=new ye(s,e,r,!0,t.expandGroupsByDefault);i.push(l),function(e){e.addEventListener(ye.EVENT_EXPANDED_CHANGED,n);var o=e.removeEventListener.bind(e,ye.EVENT_EXPANDED_CHANGED,n);t.destroyColumnItemFuncs.push(o)}(l),o(e.getChildren(),r+1,l.getChildren())}},i=function(e,n,o){if(!e.getColDef()||!e.getColDef().suppressColumnsToolPanel){var r=t.columnModel.getDisplayNameForColumn(e,"columnToolPanel");o.push(new ye(r,e,n))}};this.destroyColumnTree(),o(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];this.allColsTree.forEach(function t(n){n.isPassesFilter()&&(e.displayedColsList.push(n),n.isGroup()&&n.isExpanded()&&n.getChildren().forEach(t))}),this.virtualList.setModel(new _e(this.displayedColsList));var t=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=t&&this.focusRowIfAlive(t),this.notifyListeners()},t.prototype.focusRowIfAlive=function(e){var t=this;window.setTimeout(function(){t.isAlive()&&t.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){!function t(n){n.forEach(function(n){e(n),n.isGroup()&&t(n.getChildren())})}(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(t){t.isGroup()&&t.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,t){if(t){var n=[];this.forEachItem(function(o){if(o.isGroup()){var r=o.getColumnGroup().getId();t.indexOf(r)>=0&&(o.setExpanded(e),n.push(r))}});var o=t.filter(function(e){return!p.mb.includes(n,e)});o.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",o)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,t=0;return this.forEachItem(function(n){n.isGroup()&&(n.isExpanded()?e++:t++)}),e>0&&t>0?R.INDETERMINATE:t>0?R.COLLAPSED:R.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,t=0,n=this.columnModel.isPivotMode();if(this.forEachItem(function(o){if(!o.isGroup()&&o.isPassesFilter()){var r,i=o.getColumn(),a=i.getColDef();if(n){if(!i.isAllowPivot()&&!i.isAllowRowGroup()&&!i.isAllowValue())return;r=i.isValueActive()||i.isPivotActive()||i.isRowGroupActive()}else{if(a.lockVisible)return;r=i.isVisible()}r?e++:t++}}),!(e>0&&t>0))return!(0===e||t>0)},t.prototype.setFilterText=function(e){this.filterText=p.mb.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,t=function(t){if(!p.mb.exists(e.filterText))return!0;var n=t.getDisplayName();return null==n||-1!==n.toLowerCase().indexOf(e.filterText)};this.allColsTree.forEach(function(e){return function e(n,o){var r=!1;if(n.isGroup()){var i=t(n);n.getChildren().forEach(function(t){var n=e(t,i||o);n&&(r=n)})}var a=!(!o&&!r)||t(n);return n.setPassesFilter(a),a}(e,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.TEMPLATE='<div class="ag-column-select-list" role="tree"></div>',Pe([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Pe([Object(p.k)("toolPanelColDefService")],t.prototype,"colDefService",void 0),Pe([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),Pe([Object(p.k)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Pe([p.U],t.prototype,"destroyColumnTree",null),t}(p.v),Te=(de=function(e,t){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}de(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ae=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,p.c.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var t=this.gridOptionsWrapper.getApi();t&&t.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},Ae([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Ae([Object(p.X)("cbPivotMode")],t.prototype,"cbPivotMode",void 0),Ae([p.T],t.prototype,"init",null),t}(p.v),De=(pe=function(e,t){return(pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}pe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ke=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return De(t,e),t.prototype.execute=function(e){var t=p.mb.missingOrEmpty(this.columnModel.getValueColumns()),n=!this.gridOptionsWrapper.getGroupRowAggNodesFunc(),o=e.changedPath&&e.changedPath.isActive();if(!(t&&n&&o)){var r=this.createAggDetails(e);this.recursivelyCreateAggData(r)}},t.prototype.createAggDetails=function(e){var t=this.columnModel.isPivotActive(),n=this.columnModel.getValueColumns(),o=t?this.columnModel.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:n,pivotColumns:o}},t.prototype.recursivelyCreateAggData=function(e){var t=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly(),e.changedPath.forEachChangedNodeDepthFirst(function(n){if(n.hasChildren()){if(-1===n.level){var o=!t.columnModel.isPivotMode();if(t.gridOptionsWrapper.isSuppressAggAtRootLevel()&&o)return}t.aggregateRowNode(n,e)}else n.aggData&&n.setAggData(null)},!0)},t.prototype.aggregateRowNode=function(e,t){var n,o=0===t.valueColumns.length,r=0===t.pivotColumns.length,i=this.gridOptionsWrapper.getGroupRowAggNodesFunc();n=i?i(e.childrenAfterFilter):o?null:r?this.aggregateRowNodeUsingValuesOnly(e,t):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(n),e.sibling&&e.sibling.setAggData(n)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var t=this,n={},o=this.pivotStage.getPivotColumnDefs();return o.filter(function(e){return!p.mb.exists(e.pivotTotalColumnIds)}).forEach(function(o){var r,i=o.pivotValueColumn,a=o.colId;r=e.leafGroup?t.getValuesFromMappedSet(e.childrenMapped,o.pivotKeys||[],i):t.getValuesPivotNonLeaf(e,a),n[a]=t.aggregateValues(r,i.getAggFunc(),i,e)}),o.filter(function(e){return p.mb.exists(e.pivotTotalColumnIds)}).forEach(function(o){var r=[],i=o.pivotValueColumn,a=o.pivotTotalColumnIds,s=o.colId;a&&a.length&&(a.forEach(function(e){r.push(n[e])}),n[s]=t.aggregateValues(r,i.getAggFunc(),i,e))}),n},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,t){var n=this,o={},r=t.changedPath.isActive()?t.changedPath.getValueColumnsForNode(e,t.valueColumns):t.valueColumns,i=t.changedPath.isActive()?t.changedPath.getNotValueColumnsForNode(e,t.valueColumns):null,a=this.getValuesNormal(e,r),s=e.aggData;return r.forEach(function(t,r){o[t.getId()]=n.aggregateValues(a[r],t.getAggFunc(),t,e)}),i&&s&&i.forEach(function(e){o[e.getId()]=s[e.getId()]}),o},t.prototype.getValuesPivotNonLeaf=function(e,t){var n=[];return e.childrenAfterFilter.forEach(function(e){n.push(e.aggData[t])}),n},t.prototype.getValuesFromMappedSet=function(e,t,n){var o=this,r=e;if(t.forEach(function(e){return r=r?r[e]:null}),!r)return[];var i=[];return r.forEach(function(e){var t=o.valueService.getValue(n,e);i.push(t)}),i},t.prototype.getValuesNormal=function(e,t){var n=[];t.forEach(function(){return n.push([])});for(var o=t.length,r=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,i=r.length,a=0;a<i;a++)for(var s=r[a],l=0;l<o;l++){var u=this.valueService.getValue(t[l],s);n[l].push(u)}return n},t.prototype.aggregateValues=function(e,t,n,o){var r="string"==typeof t?this.aggFuncService.getAggFunc(t):t;if("function"!=typeof r)return console.error("AG Grid: unrecognised aggregation function "+t),null;var i=function(){p.mb.doOnce(function(){console.warn("AG Grid: since v24.0, custom aggregation functions take a params object. Please alter your aggregation function to use params.values")},"aggregationStage.aggregateValues Deprecation")};return r({values:e,column:n,colDef:n?n.getColDef():void 0,rowNode:o,data:o?o.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),forEach:function(t,n){return i(),e.forEach(t,n)},get length(){return i(),e.length},set length(t){i(),e.length=t}})},ke([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),ke([Object(p.k)("valueService")],t.prototype,"valueService",void 0),ke([Object(p.k)("pivotStage")],t.prototype,"pivotStage",void 0),ke([Object(p.k)("aggFuncService")],t.prototype,"aggFuncService",void 0),ke([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),ke([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),ke([Object(p.m)("aggregationStage")],t)}(p.n),Ie=function(){function e(){this.allSets={},this.allParents=[]}return e.prototype.removeFromChildrenAfterGroup=function(e,t){this.getSet(e).removeFromChildrenAfterGroup[t.id]=!0},e.prototype.removeFromAllLeafChildren=function(e,t){this.getSet(e).removeFromAllLeafChildren[t.id]=!0},e.prototype.getSet=function(e){return this.allSets[e.id]||(this.allSets[e.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(e)),this.allSets[e.id]},e.prototype.getAllParents=function(){return this.allParents},e.prototype.flush=function(){var e=this;this.allParents.forEach(function(t){var n=e.allSets[t.id];t.childrenAfterGroup=t.childrenAfterGroup.filter(function(e){return!n.removeFromChildrenAfterGroup[e.id]}),t.allLeafChildren=t.allLeafChildren.filter(function(e){return!n.removeFromAllLeafChildren[e.id]}),t.updateHasChildren()}),this.allSets={},this.allParents.length=0},e}(),Ne=(ce=function(e,t){return(ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ce(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Fe=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.groupIdSequence=new p.N,t}return Ne(t,e),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},t.prototype.execute=function(e){var t=this.createGroupingDetails(e);t.transactions?this.handleTransaction(t):this.shotgunResetEverything(t,!0===e.afterColumnsChanged),this.sortGroupsWithComparator(t.rootNode),this.selectableService.updateSelectableAfterGrouping(t.rootNode)},t.prototype.createGroupingDetails=function(e){var t=e.rowNode,n=e.changedPath,o=e.rowNodeTransactions,r=e.rowNodeOrder,i=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:i,rootNode:t,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!i?0:i.length,rowNodeOrder:r,transactions:o,changedPath:n}},t.prototype.handleTransaction=function(e){var t=this;e.transactions.forEach(function(n){var o=t.usingTreeData?void 0:new Ie;if(p.mb.existsAndNotEmpty(n.remove)&&t.removeNodes(n.remove,e,o),p.mb.existsAndNotEmpty(n.update)&&t.moveNodesInWrongPath(n.update,e,o),p.mb.existsAndNotEmpty(n.add)&&t.insertNodes(n.add,e,!1),o){var r=o.getAllParents().slice();o.flush(),t.removeEmptyGroups(r,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(t){p.mb.sortRowNodesByOrder(t.childrenAfterGroup,e.rowNodeOrder)})},t.prototype.sortGroupsWithComparator=function(e){if(!this.usingTreeData){var t=this.gridOptionsWrapper.getDefaultGroupOrderComparator();p.mb.exists(t)&&function e(n){p.mb.exists(n.childrenAfterGroup)&&!n.leafGroup&&(n.childrenAfterGroup.sort(t),n.childrenAfterGroup.forEach(function(t){return e(t)}))}(e)}},t.prototype.getExistingPathForNode=function(e,t){for(var n=[],o=this.usingTreeData?e:e.parent;o&&o!==t.rootNode;)n.push({key:o.key,rowGroupColumn:o.rowGroupColumn,field:o.field}),o=o.parent;return n.reverse(),n},t.prototype.moveNodesInWrongPath=function(e,t,n){var o=this;e.forEach(function(e){t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent);var r=function(e){return e.key},i=o.getExistingPathForNode(e,t).map(r),a=o.getGroupInfo(e,t).map(r);p.mb.areEqual(i,a)||o.moveNode(e,t,n)})},t.prototype.moveNode=function(e,t,n){this.removeNodesInStages([e],t,n),this.insertOneNode(e,t,!0),e.setData(e.data),t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent)},t.prototype.removeNodes=function(e,t,n){this.removeNodesInStages(e,t,n),t.changedPath.isActive()&&e.forEach(function(e){return t.changedPath.addParentNode(e.parent)})},t.prototype.removeNodesInStages=function(e,t,n){if(this.removeNodesFromParents(e,t,n),this.usingTreeData){this.postRemoveCreateFillerNodes(e,t);var o=e.map(function(e){return e.parent});this.removeEmptyGroups(o,t)}},t.prototype.forEachParentGroup=function(e,t,n){for(var o=t;o&&o!==e.rootNode;)n(o),o=o.parent},t.prototype.removeNodesFromParents=function(e,t,n){var o=this,r=null==n,i=n||new Ie;e.forEach(function(e){o.removeFromParent(e,i),o.forEachParentGroup(t,e.parent,function(t){i.removeFromAllLeafChildren(t,e)})}),r&&i.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,t){var n=this;e.forEach(function(e){if(e.hasChildren()){var o=n.getExistingPathForNode(e,t),r=n.findParentForNode(e,o,t);r.expanded=e.expanded,r.allLeafChildren=e.allLeafChildren,r.childrenAfterGroup=e.childrenAfterGroup,r.childrenMapped=e.childrenMapped,r.updateHasChildren(),r.childrenAfterGroup.forEach(function(e){return e.parent=r})}})},t.prototype.removeEmptyGroups=function(e,t){for(var n=this,o=!0,r=function(){o=!1;var r=new Ie;e.forEach(function(e){n.forEachParentGroup(t,e,function(e){(function(e){var t=n.getChildrenMappedKey(e.key,e.rowGroupColumn),o=e.parent;return!!(o&&o.childrenMapped&&o.childrenMapped[t]&&e.isEmptyRowGroupNode())})(e)&&(o=!0,n.removeFromParent(e,r),e.setSelected(!1))})}),r.flush()};o;)r()},t.prototype.removeFromParent=function(e,t){e.parent&&(t?t.removeFromChildrenAfterGroup(e.parent,e):(p.mb.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[n]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,t){var n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);t&&(t.childrenMapped&&(t.childrenMapped[n]=e),t.childrenAfterGroup.push(e),t.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,t){return null!=e&&null!=t&&e.pivotMode===t.pivotMode&&p.mb.areEqual(e.groupedCols,t.groupedCols)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var t=this;!function e(n){n&&n.forEach(function(n){!t.usingTreeData&&!n.group||(t.setGroupData(n,{field:n.field,key:n.key,rowGroupColumn:n.rowGroupColumn}),e(n.childrenAfterGroup))})}(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,t){this.processAfterColumnsChanged(e,t)||(e.rootNode.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,e.rootNode.childrenAfterGroup=[],e.rootNode.childrenMapped={},e.rootNode.updateHasChildren(),this.insertNodes(e.rootNode.allLeafChildren,e,!1))},t.prototype.processAfterColumnsChanged=function(e,t){var n=!1,o=this.columnModel.getGroupDisplayColumns(),r=o?o.map(function(e){return e.getId()}).join("-"):"";return t&&(n=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==r&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=r,n},t.prototype.insertNodes=function(e,t,n){var o=this;e.forEach(function(e){o.insertOneNode(e,t,n),t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent)})},t.prototype.insertOneNode=function(e,t,n){var o=this.getGroupInfo(e,t),r=this.findParentForNode(e,o,t);r.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[r.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(r,e,n):(e.parent=r,e.level=o.length,r.childrenAfterGroup.push(e),r.updateHasChildren())},t.prototype.findParentForNode=function(e,t,n){var o=this,r=n.rootNode;return t.forEach(function(t,i){(r=o.getOrCreateNextNode(r,t,i,n)).allLeafChildren.push(e)}),r},t.prototype.swapGroupWithUserNode=function(e,t,n){t.parent=e.parent,t.key=e.key,t.field=e.field,t.groupData=e.groupData,t.level=e.level,n||(t.expanded=e.expanded),t.leafGroup=e.leafGroup,t.rowGroupIndex=e.rowGroupIndex,t.allLeafChildren=e.allLeafChildren,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenMapped=e.childrenMapped,t.updateHasChildren(),this.removeFromParent(e),t.childrenAfterGroup.forEach(function(e){return e.parent=t}),this.addToParent(t,e.parent)},t.prototype.getOrCreateNextNode=function(e,t,n,o){var r=this.getChildrenMappedKey(t.key,t.rowGroupColumn),i=e.childrenMapped,a=i&&i.hasOwnProperty(r)?i[r]:void 0;return a||(a=this.createGroup(t,e,n,o),this.addToParent(a,e)),a},t.prototype.createGroup=function(e,t,n,o){var r=new p.Z;return this.context.createBean(r),r.group=!0,r.field=e.field,r.rowGroupColumn=e.rowGroupColumn,this.setGroupData(r,e),r.id=p.Z.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),r.key=e.key,r.level=n,r.leafGroup=!this.usingTreeData&&n===o.groupedColCount-1,r.allLeafChildren=[],r.setAllChildrenCount(0),r.rowGroupIndex=this.usingTreeData?null:n,r.childrenAfterGroup=[],r.childrenMapped={},r.updateHasChildren(),r.parent=o.includeParents?t:null,this.setExpandedInitialValue(o,r),r},t.prototype.setGroupData=function(e,t){var n=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(o){(n.usingTreeData||e.rowGroupColumn&&o.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&(e.groupData[o.getColId()]=t.key)})},t.prototype.getChildrenMappedKey=function(e,t){return t?t.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,t){if(e.pivotMode&&t.leafGroup)t.expanded=!1;else{var n=this.gridOptionsWrapper.getIsGroupOpenByDefaultFunc();t.expanded=n?1==n({rowNode:t,field:t.field,key:t.key,level:t.level,rowGroupColumn:t.rowGroupColumn}):-1===e.expandByDefault||t.level<e.expandByDefault}},t.prototype.getGroupInfo=function(e,t){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,t)},t.prototype.getGroupInfoFromCallback=function(e){var t=this.getDataPath?this.getDataPath(e.data):null;return null!=t&&0!==t.length||p.mb.doOnce(function(){return console.warn("getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback"),t?t.map(function(e){return{key:e,field:null,rowGroupColumn:null}}):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,t){var n=this,o=[];return t.groupedCols.forEach(function(r){var i=n.valueService.getKeyForNode(r,e),a=null!=i;if(t.pivotMode&&!a&&(i=" ",a=!0),a){var s={key:i,field:r.getColDef().field,rowGroupColumn:r};o.push(s)}}),o},Fe([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Fe([Object(p.k)("selectableService")],t.prototype,"selectableService",void 0),Fe([Object(p.k)("valueService")],t.prototype,"valueService",void 0),Fe([p.S],t.prototype,"postConstruct",null),Fe([Object(p.m)("groupStage")],t)}(p.n),je=(ue=function(e,t){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ue(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ge=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ve=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return je(t,e),n=t,t.prototype.createPivotColumnDefs=function(e){var t=[],n=[],o=this.columnModel.getPivotColumns(),r=this.columnModel.getValueColumns(),i=o.length,a=new p.N;return this.recursivelyAddGroup(t,n,1,e,[],a,i,o),this.addRowGroupTotals(t,n,r,a),this.addExpandablePivotGroups(t,n,a),this.addPivotTotalsToGroups(t,n,a),{pivotColumnGroupDefs:t,pivotColumnDefs:n.map(function(e){return p.mb.cloneObject(e)})}},t.prototype.recursivelyAddGroup=function(e,t,n,o,r,i,a,s){var l=this;p.mb.iterateObject(o,function(o,u){var c=Ve(r,[o]);if(n!==a){var p={children:[],headerName:o,pivotKeys:c,columnGroupShow:"open",groupId:"pivot"+i.next()};e.push(p),l.recursivelyAddGroup(p.children,t,n+1,u,c,i,a,s)}else{var d=l.columnModel.getValueColumns(),h={children:[],headerName:o,pivotKeys:c,columnGroupShow:"open",groupId:"pivot"+i.next()};if(0===d.length){var f=l.createColDef(null,"-",c,i);h.children.push(f),t.push(f)}else d.forEach(function(e){var n=l.columnModel.getDisplayNameForColumn(e,"header"),o=l.createColDef(e,n,c,i);o.columnGroupShow="open",h.children.push(o),t.push(o)});e.push(h)}});var u=s[n-1].getColDef(),c=this.headerNameComparator.bind(this,u.pivotComparator);e.sort(c)},t.prototype.addExpandablePivotGroups=function(e,t,n){var o=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){e.forEach(function(e){!function e(t,n,r,i){var a=t;if(a.children){var s=new Map;a.children.forEach(function(t){e(t,n,r,s)});var l=!a.children.some(function(e){return e.children});o.columnModel.getValueColumns().forEach(function(e){var i=o.columnModel.getDisplayNameForColumn(e,"header"),a=o.createColDef(e,i,t.pivotKeys,r);a.pivotTotalColumnIds=s.get(e.getColId()),a.columnGroupShow="closed",a.aggFunc=e.getAggFunc(),l||(t.children.push(a),n.push(a))}),o.merge(i,s)}else{var u=t;if(!u.pivotValueColumn)return;var c=u.pivotValueColumn.getColId(),p=i.has(c)?i.get(c):[];p.push(u.colId),i.set(c,p)}}(e,t,n,new Map)})}},t.prototype.addPivotTotalsToGroups=function(e,t,n){var o=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var r="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),i=this.columnModel.getValueColumns(),a=i.map(function(e){return e.getAggFunc()});if(a&&!(a.length<1)&&this.sameAggFuncs(a)){var s=i[0];e.forEach(function(e){o.recursivelyAddPivotTotal(e,t,n,s,r)})}}},t.prototype.recursivelyAddPivotTotal=function(e,t,n,o,r){var i=this,a=e;if(!a.children)return e.colId?[e.colId]:null;var s=[];if(a.children.forEach(function(e){var a=i.recursivelyAddPivotTotal(e,t,n,o,r);a&&(s=s.concat(a))}),a.children.length>1){var l=this.gridOptionsWrapper.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),u=this.createColDef(o,l,e.pivotKeys,n);u.pivotTotalColumnIds=s,u.aggFunc=o.getAggFunc();var c=e.children;r?c.push(u):c.unshift(u),t.push(u)}return s},t.prototype.addRowGroupTotals=function(e,t,n,o){var r=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var i="after"===this.gridOptionsWrapper.getPivotRowTotals(),a=i?n.slice():n.slice().reverse(),s=function(n){var s=a[n],u=[];e.forEach(function(e){u=u.concat(r.extractColIdsForValueColumn(e,s))}),l.createRowGroupTotal(e,t,[],o,s,u,i)},l=this,u=0;u<a.length;u++)s(u)},t.prototype.extractColIdsForValueColumn=function(e,t){var n=this;if(!e.children)return e.pivotValueColumn===t&&e.colId?[e.colId]:[];var o=[];return e.children.forEach(function(e){n.extractColIdsForValueColumn(e,t);var r=n.extractColIdsForValueColumn(e,t);o=o.concat(r)}),o},t.prototype.createRowGroupTotal=function(e,t,o,r,i,a,s){var l=o.slice(0),u=this.columnModel.getValueColumns(),c={children:[],pivotKeys:l,groupId:n.PIVOT_ROW_TOTAL_PREFIX+r.next()};if(0===u.length){var p=this.createColDef(null,"-",l,r);c.children.push(p),t.push(p)}else{var d=this.columnModel.getDisplayNameForColumn(i,"header");(p=this.createColDef(i,d,l,r)).pivotTotalColumnIds=a,c.children.push(p),t.push(p)}s?e.push(c):e.unshift(c)},t.prototype.createColDef=function(e,t,n,o){var r={};if(e){var i=e.getColDef();p.mb.assign(r,i),r.hide=!1}return r.headerName=t,r.colId="pivot_"+o.next(),r.field=r.colId,r.pivotKeys=n,r.pivotValueColumn=e,r.filter=!1,r},t.prototype.sameAggFuncs=function(e){if(1==e.length)return!0;for(var t=1;t<e.length;t++)if(e[t]!==e[0])return!1;return!0},t.prototype.headerNameComparator=function(e,t,n){return e?e(t.headerName,n.headerName):t.headerName&&!n.headerName?1:!t.headerName&&n.headerName?-1:t.headerName&&n.headerName?t.headerName<n.headerName?-1:t.headerName>n.headerName?1:0:0},t.prototype.merge=function(e,t){t.forEach(function(t,n,o){var r=e.has(n)?e.get(n):[],i=Ve(r,t);e.set(n,i)})},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",Ge([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),n=Ge([Object(p.m)("pivotColDefService")],t)}(p.n),We=(le=function(e,t){return(le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}le(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ze=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uniqueValues={},t}return We(t,e),t.prototype.execute=function(e){var t=e.rowNode,n=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(t,n):this.executePivotOff(n)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e,t){var n=this.bucketUpRowNodes(e),o=this.setUniqueValues(n),r=this.columnModel.getValueColumns(),i=r.map(function(e){return e.getId()}).join("#"),a=r.map(function(e){return e.getAggFunc().toString()}).join("#"),s=this.aggregationColumnsHashLastTime!==i,l=this.aggregationFuncsHashLastTime!==a;if(this.aggregationColumnsHashLastTime=i,this.aggregationFuncsHashLastTime=a,o||s||l){var u=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),c=u.pivotColumnGroupDefs;this.pivotColumnDefs=u.pivotColumnDefs,this.columnModel.setSecondaryColumns(c,"rowModelUpdated"),t&&t.setInactive()}},t.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},t.prototype.bucketUpRowNodes=function(e){var t=this,n={};return function e(o){o.leafGroup?t.bucketRowNode(o,n):o.childrenAfterFilter.forEach(function(t){e(t)})}(e),n},t.prototype.bucketRowNode=function(e,t){var n=this.columnModel.getPivotColumns();e.childrenMapped=0!==n.length?this.bucketChildren(e.childrenAfterFilter,n,0,t):null},t.prototype.bucketChildren=function(e,t,n,o){var r=this,i={},a=t[n];if(e.forEach(function(e){var t=r.valueService.getKeyForNode(a,e);p.mb.missing(t)&&(t=""),o[t]||(o[t]={}),i[t]||(i[t]=[]),i[t].push(e)}),n===t.length-1)return i;var s={};return p.mb.iterateObject(i,function(e,i){s[e]=r.bucketChildren(i,t,n+1,o[e])}),s},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},ze([Object(p.k)("valueService")],t.prototype,"valueService",void 0),ze([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),ze([Object(p.k)("pivotColDefService")],t.prototype,"pivotColDefService",void 0),ze([Object(p.m)("pivotStage")],t)}(p.n),He=(se=function(e,t){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ke=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Xe="undefined"==typeof BigInt?null:BigInt,qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aggFuncsMap={},t.initialised=!1,t}var n;return He(t,e),n=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[n.AGG_SUM]=Ye,this.aggFuncsMap[n.AGG_FIRST]=Je,this.aggFuncsMap[n.AGG_LAST]=Qe,this.aggFuncsMap[n.AGG_MIN]=Ze,this.aggFuncsMap[n.AGG_MAX]=$e,this.aggFuncsMap[n.AGG_COUNT]=et,this.aggFuncsMap[n.AGG_AVG]=tt,this.initialised=!0},t.prototype.getDefaultAggFunc=function(e){var t=this.getFuncNames(e),o=p.mb.includes(t,n.AGG_SUM),r=p.mb.exists(this.aggFuncsMap[n.AGG_SUM]);return o&&r?n.AGG_SUM:p.mb.existsAndNotEmpty(t)?t[0]:null},t.prototype.addAggFuncs=function(e){p.mb.iterateObject(e,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(e,t){this.init(),this.aggFuncsMap[e]=t},t.prototype.getAggFunc=function(e){return this.init(),this.aggFuncsMap[e]},t.prototype.getFuncNames=function(e){var t=e.getColDef().allowedAggFuncs;return null==t?Object.keys(this.aggFuncsMap).sort():t},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",Ke([p.S],t.prototype,"init",null),n=Ke([Object(p.m)("aggFuncService")],t)}(p.n);function Ye(e){for(var t=e.values,n=null,o=0;o<t.length;o++){var r=t[o];"number"==typeof r?null===n?n=r:n+=Xe?"number"==typeof n?r:Xe(r):r:"bigint"==typeof r&&(n=null===n?r:("bigint"==typeof n?n:Xe(n))+r)}return n}function Je(e){return e.values.length>0?e.values[0]:null}function Qe(e){return e.values.length>0?p.mb.last(e.values):null}function Ze(e){for(var t=e.values,n=null,o=0;o<t.length;o++){var r=t[o];"number"!=typeof r&&"bigint"!=typeof r||!(null===n||n>r)||(n=r)}return n}function $e(e){for(var t=e.values,n=null,o=0;o<t.length;o++){var r=t[o];"number"!=typeof r&&"bigint"!=typeof r||!(null===n||n<r)||(n=r)}return n}function et(e){for(var t=e.values,n=0,o=0;o<t.length;o++){var r=t[o];n+=null!=r&&"number"==typeof r.value?r.value:1}return{value:n,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function tt(e){for(var t=e.values,n=0,o=0,r=0;r<t.length;r++){var i=t[r],a=null;"number"==typeof i||"bigint"==typeof i?(a=i,o++):null==i||"number"!=typeof i.value&&"bigint"!=typeof i.value||"number"!=typeof i.count||(a=Xe?i.value*("number"==typeof i.value?i.count:Xe(i.count)):i.value*i.count,o+=i.count),"number"==typeof a?n+=Xe?"number"==typeof n?a:Xe(a):a:"bigint"==typeof a&&(n=("bigint"==typeof n?n:Xe(n))+a)}var s=null;return o>0&&(s=Xe?n/("number"==typeof n?o:Xe(o)):n/o),{count:o,value:s,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var nt,ot,rt,it,at,st,lt,ut,ct,pt,dt,ht,ft,gt,mt,yt,vt,bt,Ct,wt,Ot,xt,St,Pt,_t,Et,Tt,At,Mt=(At=function(e,t){return(At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}At(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Dt=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},kt=function(e){function t(t,n,o,r,i){var a=e.call(this)||this;return a.column=t,a.dragSourceDropTarget=n,a.ghost=o,a.valueColumn=r,a.horizontal=i,a.popupShowing=!1,a}return Mt(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.addElementClasses(this.getGui()),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(p.mb.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(p.mb.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),this.ghost||this.gridOptionsWrapper.isFunctionsReadOnly()||this.addDragSource(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this,t=function(){var t=e.column.getColDef().headerTooltip;e.setTooltip(t)};t(),this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,t)},t.prototype.addDragSource=function(){var e=this,t={type:p.A.ToolPanel,eElement:this.eDragHandle,defaultIconName:p.z.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(t)})},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&p.mb.addCssClass(this.getGui(),"ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;p.mb.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly()),this.addManagedListener(this.eButton,"click",function(n){e.dispatchEvent({type:t.EVENT_COLUMN_REMOVE}),n.stopPropagation()});var n=new p.ib(this.eButton);this.addManagedListener(n,p.ib.EVENT_TAP,function(n){e.dispatchEvent({type:t.EVENT_COLUMN_REMOVE})}),this.addDestroyFunc(n.destroy.bind(n))},t.prototype.setTextValue=function(){var e;if(this.valueColumn){var t=this.column.getAggFunc(),n="string"==typeof t?t:"agg";e=this.gridOptionsWrapper.getLocaleTextFunc()(n,n)+"("+this.displayName+")"}else e=this.displayName;var o=p.mb.escapeString(e);this.eText.innerHTML=o},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var t=new p.lb("select-agg-func"),n=this.aggFuncService.getFuncNames(this.column);t.setModel({getRow:function(e){return n[e]},getRowCount:function(){return n.length}}),this.getContext().createBean(t);var o=p.mb.loadTemplate('<div class="ag-select-agg-func-popup"></div>');o.style.top="0px",o.style.left="0px",o.appendChild(t.getGui()),o.style.width=this.getGui().clientWidth+"px";var r=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:function(){e.destroyBean(t),e.popupShowing=!1}});r&&t.setComponentCreator(this.createAggSelect.bind(this,r.hideFunc)),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:this.getGui(),ePopup:o,keepWithinBounds:!0,column:this.column}),t.refresh()}},t.prototype.createAggSelect=function(e,t){var n=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),r=t.toString(),i=o(r,r);return new Rt(function(){e(),n.gridOptionsWrapper.isFunctionsPassive()?n.eventService.dispatchEvent({type:p.C.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[n.column],aggFunc:t,api:n.gridApi,columnApi:n.columnApi}):n.columnModel.setColumnAggFunc(n.column,t,"toolPanelDragAndDrop")},i)},t.prototype.addElementClasses=function(e,t){p.mb.addCssClass(e,"ag-column-drop-cell"+(t=t?"-"+t:"")),p.mb.addCssClass(e,"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+t)},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span>\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle"></span>\n          <span ref="eText" class="ag-column-drop-cell-text"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button"></span>\n        </span>',Dt([Object(p.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Dt([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Dt([Object(p.k)("popupService")],t.prototype,"popupService",void 0),Dt([Object(p.O)("aggFuncService")],t.prototype,"aggFuncService",void 0),Dt([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),Dt([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Dt([Object(p.X)("eText")],t.prototype,"eText",void 0),Dt([Object(p.X)("eDragHandle")],t.prototype,"eDragHandle",void 0),Dt([Object(p.X)("eButton")],t.prototype,"eButton",void 0),Dt([p.S],t.prototype,"init",null),t}(p.v),Rt=function(e){function t(t,n){var o=e.call(this,'<div class="ag-select-agg-func-item"/>')||this;return o.getGui().innerText=n,o.value=n,o.addGuiEventListener("click",t),o}return Mt(t,e),t}(p.v),It=(Tt=function(e,t){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Tt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Nt=function(e){function t(n,o){var r=e.call(this,'<div class="ag-unselectable"></div>')||this;return r.horizontal=n,r.valueColumn=o,r.state=t.STATE_NOT_DRAGGING,r.guiDestroyFunctions=[],r.childColumnComponents=[],r.resizeEnabled=!1,r.addElementClasses(r.getGui()),r.eColumnDropList=document.createElement("div"),r.addElementClasses(r.eColumnDropList,"list"),r}return It(t,e),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),e.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,p.mb.clearElement(this.getGui()),p.mb.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.addManagedListener(this.beans.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new p.R(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui()},t.prototype.addElementClasses=function(e,t){p.mb.addCssClass(e,"ag-column-drop"+(t=t?"-"+t:"")),p.mb.addCssClass(e,"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+t)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===p.A.HeaderCell||e===p.A.ToolPanel},t.prototype.checkInsertIndex=function(e){var t=this.horizontal?this.getNewHorizontalInsertIndex(e):this.getNewVerticalInsertIndex(e);if(t<0)return!1;var n=t!==this.insertIndex;return n&&(this.insertIndex=t),n},t.prototype.getNewHorizontalInsertIndex=function(e){if(p.mb.missing(e.hDirection))return-1;var t=0,n=e.event,o=this.beans.gridOptionsWrapper.isEnableRtl(),r=e.hDirection===p.I.Left,i=n.clientX;return this.childColumnComponents.forEach(function(e){var n=e.getGui().getBoundingClientRect(),a=r?n.right:n.left;(o?i<=a:i>=a)&&t++}),t},t.prototype.getNewVerticalInsertIndex=function(e){if(p.mb.missing(e.vDirection))return-1;var t=0,n=e.event;return this.childColumnComponents.forEach(function(o){var r=o.getGui().getBoundingClientRect();n.clientY>=(e.vDirection===p.kb.Down?r.top:r.bottom)&&t++}),t},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var n=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var o=n.filter(this.isColumnDroppable.bind(this));o.length>0&&(this.potentialDndColumns=o,this.checkInsertIndex(e),this.refreshGui())},t.prototype.isPotentialDndColumns=function(){return p.mb.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var n=e.dragSource.getDragItem().columns||[];this.removeColumns(n)}this.isPotentialDndColumns()&&(this.potentialDndColumns=[],this.refreshGui()),this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],this.beans.gridOptionsWrapper.isFunctionsPassive()&&e||this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var t=this.getExistingColumns().filter(function(t){return!p.mb.includes(e,t)});this.updateColumns(t)},t.prototype.addColumns=function(e){if(e){var t=this.getExistingColumns().slice(),n=e.filter(function(e){return t.indexOf(e)<0});p.mb.insertArrayIntoArray(t,n,this.insertIndex),this.updateColumns(t)}},t.prototype.rearrangeColumns=function(e){var t=this.getNonGhostColumns().slice();return p.mb.insertArrayIntoArray(t,e,this.insertIndex),!p.mb.areEqual(t,this.getExistingColumns())&&(this.updateColumns(t),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,t=this.resizeEnabled;this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),t&&this.toggleResizable(t)},t.prototype.getNonGhostColumns=function(){var e=this,t=this.getExistingColumns();return this.isPotentialDndColumns()?t.filter(function(t){return!p.mb.includes(e.potentialDndColumns,t)}):t},t.prototype.addColumnsToGui=function(){var e=this,t=this.getNonGhostColumns(),n=this.isPotentialDndColumns(),o=[];t.forEach(function(t,r){if(!(n&&r>=e.insertIndex)){var i=e.createColumnComponent(t,!1);o.push(i)}}),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach(function(t){var n=e.createColumnComponent(t,!0);o.push(n)}),t.forEach(function(t,n){if(!(n<e.insertIndex)){var r=e.createColumnComponent(t,!1);o.push(r)}})),this.getGui().appendChild(this.eColumnDropList),o.forEach(function(t,n){n>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(t.getGui())})},t.prototype.createColumnComponent=function(e,t){var n=this,o=new kt(e,this.dropTarget,t,this.valueColumn,this.horizontal);return o.addEventListener(kt.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(o),this.guiDestroyFunctions.push(function(){return n.destroyBean(o)}),t||this.childColumnComponents.push(o),o},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,t=document.createElement("div");if(this.addElementClasses(t,"title-bar"),this.addElementClasses(e,"icon"),p.mb.addOrRemoveCssClass(this.getGui(),"ag-column-drop-empty",this.isExistingColumnsEmpty()),t.appendChild(e),!this.horizontal){var n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=this.params.title,t.appendChild(n)}this.getGui().appendChild(t)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var t=this.beans.gridOptionsWrapper.isEnableRtl(),n=p.mb.createIconNoSpan(t?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(n,"cell-separator"),e.appendChild(n)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",t}(p.v),Ft=(Et=function(e,t){return(Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Et(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Lt=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},jt=function(e){function t(t){return e.call(this,t,!1)||this}return Ft(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),n=t("rowGroupColumnsEmptyMessage","Drag here to set row groups"),o=t("groups","Row Groups");e.prototype.init.call(this,{dragAndDropIcon:p.z.ICON_GROUP,icon:p.mb.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:o}),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="rowGroupColumnsList",t},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowRowGroup()&&!e.isRowGroupActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:p.C.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?p.z.ICON_GROUP:p.z.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},Lt([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Lt([Object(p.k)("loggerFactory")],t.prototype,"loggerFactory",void 0),Lt([Object(p.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Lt([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),Lt([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Lt([p.S],t.prototype,"passBeansUp",null),t}(Nt),Gt=(_t=function(e,t){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}_t(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Vt=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Bt=function(e){function t(t){return e.call(this,t,!1)||this}return Gt(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),n=t("pivotColumnsEmptyMessage","Drag here to set column labels"),o=t("pivots","Column Labels");e.prototype.init.call(this,{dragAndDropIcon:p.z.ICON_GROUP,icon:p.mb.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:o}),this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="pivotColumnsList",t},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var t=this.columnModel.isPivotActive();this.setDisplayed(e&&t);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowPivot()&&!e.isPivotActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:p.C.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?p.z.ICON_PIVOT:p.z.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},Vt([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Vt([Object(p.k)("loggerFactory")],t.prototype,"loggerFactory",void 0),Vt([Object(p.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Vt([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),Vt([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Vt([p.S],t.prototype,"passBeansUp",null),t}(Nt),Wt=(Pt=function(e,t){return(Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Pt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),zt=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ut=function(e){function t(){return e.call(this)||this}return Wt(t,e),t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=document.createElement("div"),t=this.onDropPanelVisible.bind(this);return p.mb.addCssClass(e,"ag-column-drop-wrapper"),this.rowGroupComp=new jt(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new Bt(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,p.v.EVENT_DISPLAYED_CHANGED,t),this.addManagedListener(this.pivotComp,p.v.EVENT_DISPLAYED_CHANGED,t),this.onDropPanelVisible(),e},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===p.x.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===p.x.ONLY_WHEN_GROUPING){var t=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(t)}else this.rowGroupComp.setDisplayed(!1)}},zt([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),zt([p.S],t.prototype,"postConstruct",null),t}(p.v),Ht={moduleName:p.L.RowGroupingModule,beans:[Re,Le,Be,Ue,qe],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:Ut}],dependantModules:[ee]},Kt=(St=function(e,t){return(St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}St(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Xt=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},qt=function(e){function t(t){return e.call(this,t,!0)||this}return Kt(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),n=t("valueColumnsEmptyMessage","Drag here to aggregate"),o=t("values","Values");e.prototype.init.call(this,{dragAndDropIcon:p.z.ICON_AGGREGATE,icon:p.mb.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:n,title:o}),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="valueColumnsList",t},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?p.z.ICON_AGGREGATE:p.z.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowValue()&&!e.isValueActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:p.C.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},Xt([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Xt([Object(p.k)("loggerFactory")],t.prototype,"loggerFactory",void 0),Xt([Object(p.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Xt([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),Xt([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Xt([p.S],t.prototype,"passBeansUp",null),t}(Nt),Yt=(xt=function(e,t){return(xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}xt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Jt=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Qt=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Yt(t,e),t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e,t,n){this.allowDragging=e,this.params=t,this.eventType=n,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new p.R(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',Jt([Object(p.X)("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),Jt([Object(p.X)("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),Jt([p.S],t.prototype,"postConstruct",null),t}(p.eb),Zt=(Ot=function(e,t){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ot(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$t=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},en=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.initialised=!1,n.childDestroyFuncs=[],n}return Zt(t,e),t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var t=this,n={suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};if(p.mb.mergeDeep(n,e),this.params=n,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new Me),this.childDestroyFuncs.push(function(){return t.destroyBean(t.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new Qt),this.childDestroyFuncs.push(function(){return t.destroyBean(t.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),p.mb.addCssClass(this.primaryColsPanel.getGui(),"ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new jt(!1)),this.childDestroyFuncs.push(function(){return t.destroyBean(t.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new qt(!1)),this.childDestroyFuncs.push(function(){return t.destroyBean(t.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new Bt(!1)),this.childDestroyFuncs.push(function(){return t.destroyBean(t.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var o=this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){t.resetChildrenHeight(),t.setLastVisible()});this.childDestroyFuncs.push(function(){return o()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var t=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new Me),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return t.destroyBean(t.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new jt(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new qt(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new Bt(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var t=e.getGui();e.toggleResizable(!p.mb.containsClass(t,"ag-last-column-drop")&&!p.mb.containsClass(t,"ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(e){return p.mb.removeCssClass(e,"ag-last-column-drop")});var t=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),n=p.mb.last(t);n&&p.mb.addCssClass(n,"ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var e=this.getGui().children,t=0;t<e.length;t++){var n=e[t];n.style.removeProperty("height"),n.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return p.M.assertRegistered(p.L.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,p.mb.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',$t([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),$t([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),t}(p.v),tn=(wt=function(e,t){return(wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}wt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nn=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},on=function(e){function t(){var t=e.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return t.minWidth=100,t.maxWidth=null,t}return tn(t,e),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},t.prototype.onResizing=function(e){var t=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(t=Math.min(this.maxWidth,t)),this.elementToResize.style.width=t+"px"},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},nn([Object(p.k)("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),nn([p.S],t.prototype,"postConstruct",null),t}(p.v),rn=(Ct=function(e,t){return(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ct(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),an=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},sn=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.buttonComps=[],n}return rn(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.keyCode===p.J.TAB&&e.shiftKey&&!this.focusService.findNextFocusableElement(this.getFocusableElement(),null,!0)){var t=this.headerPositionUtils.findColAtEdgeForHeaderRow(0,"start");if(!t)return;e.preventDefault(),this.focusService.focusHeaderPosition(t)}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(t){t.setSelected(e===t.getToolPanelId())})},t.prototype.addButtonComp=function(e){var n=this,o=this.createBean(new ln(e));this.buttonComps.push(o),this.appendChild(o),o.addEventListener(ln.EVENT_TOGGLE_BUTTON_CLICKED,function(){n.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),p.mb.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons"></div>',an([Object(p.k)("focusService")],t.prototype,"focusService",void 0),an([Object(p.k)("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),an([p.S],t.prototype,"postConstruct",null),an([p.U],t.prototype,"clearButtons",null),t}(p.v),ln=function(e){function t(t){var n=e.call(this)||this;return n.toolPanelDef=t,n}return rn(t,e),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",p.mb.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.toolPanelDef;return'<div class="ag-side-button">\n                <button type="button" ref="eToggleButton" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper"></div>\n                    <span class="ag-side-button-label">'+e(t.labelKey,t.labelDefault)+"</span>\n                </button>\n            </div>"},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",an([Object(p.X)("eToggleButton")],t.prototype,"eToggleButton",void 0),an([Object(p.X)("eIconWrapper")],t.prototype,"eIconWrapper",void 0),an([p.S],t.prototype,"postConstruct",null),t}(p.v),un=(bt=function(e,t){return(bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}bt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),cn=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pn=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return un(t,e),t.prototype.setupResize=function(){var e=this.getGui(),t=this.resizeBar=new on;this.getContext().createBean(t),t.setElementToResize(e),this.appendChild(t)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){var t=e.id,n=e.minWidth,o=e.maxWidth,r=e.width;this.toolPanelId=t,this.width=r;var i={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()},a=this.userComponentFactory.newToolPanelComponent(e,i);null!=a?(a.then(this.setToolPanelComponent.bind(this)),null!=n&&this.resizeBar.setMinWidth(n),null!=o&&this.resizeBar.setMaxWidth(o)):console.warn("ag-grid: error processing tool panel component "+t+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},t.prototype.setToolPanelComponent=function(e){var t=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){t.destroyBean(e)}),this.width&&(this.getGui().style.width=this.width+"px")},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var t=this.gridOptionsWrapper.isEnableRtl(),n="left"===e;this.resizeBar.setInverted(t?n:!n)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',cn([Object(p.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),cn([p.S],t.prototype,"setupResize",null),t}(p.v),dn=(vt=function(e,t){return(vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}vt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),hn=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},fn=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.toolPanelWrappers=[],n}return dn(t,e),t.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(sn.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.gridOptionsWrapper.addEventListener("sideBar",function(){e.clearDownUi(),e.setSideBarDef()}),this.gridApi.registerSideBarComp(this)},t.prototype.onToolPanelButtonClicked=function(e){var t=e.toolPanelId,n=this.openedItem();this.openToolPanel(n===t?void 0:t)},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),t=!!e&&!!e.toolPanels;if(t){this.setDisplayed(t&&!e.hiddenByDefault);var n=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(n),this.setupToolPanels(n),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},t.prototype.setSideBarPosition=function(e){e||(e="right");var t="left"===e,n=t?"right":"left",o=this.getGui();return p.mb.addOrRemoveCssClass(o,"ag-side-bar-left",t),p.mb.addOrRemoveCssClass(o,"ag-side-bar-right",!t),this.toolPanelWrappers.forEach(function(e){e.setResizerSizerSide(n)}),this},t.prototype.setupToolPanels=function(e){var t=this;e.forEach(function(e){if(null!=e.id){if("agColumnsToolPanel"===e.toolPanel&&!p.M.assertRegistered(p.L.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===e.toolPanel&&!p.M.assertRegistered(p.L.FiltersToolPanelModule,"Filters Tool Panel"))return;var n=new pn;t.getContext().createBean(n),n.setToolPanelDef(e),n.setDisplayed(!1),t.getGui().appendChild(n.getGui()),t.toolPanelWrappers.push(n)}else console.warn("ag-grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e){var t=this.openedItem();t!==e&&(this.toolPanelWrappers.forEach(function(t){var n=e===t.getToolPanelId();t.setDisplayed(n)}),t!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e)))},t.prototype.getToolPanelInstance=function(e){var t=this.toolPanelWrappers.filter(function(t){return t.getToolPanelId()===e})[0];if(t)return t.getToolPanelInstance();console.warn("ag-grid: unable to lookup Tool Panel as invalid key supplied: "+e)},t.prototype.raiseToolPanelVisibleEvent=function(e){var t={type:p.C.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(t)},t.prototype.close=function(){this.openToolPanel(void 0)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(t){t.isDisplayed()&&(e=t.getToolPanelId())}),e},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',hn([Object(p.X)("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),hn([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),hn([p.S],t.prototype,"postConstruct",null),t}(p.v),gn=(yt=function(e,t){return(yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}yt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),mn=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},yn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isColGroupDef=function(e){return e&&void 0!==e.children},t.getId=function(e){return t.isColGroupDef(e)?e.groupId:e.colId},t}return gn(t,e),t.prototype.createColumnTree=function(e){var t=this,n=[],o=[];return e.forEach(function(e){var r=function e(o,r){if(t.isColGroupDef(o)){var i=o,a=new p.P(i,void 0!==i.groupId?i.groupId:i.headerName,!1,r),s=[];return i.children.forEach(function(t){var n=e(t,r+1);n&&s.push(n)}),a.setChildren(s),a}var l=o,u=t.columnModel.getPrimaryColumn(l.colId?l.colId:l.field);return u||n.push(l),u}(e,0);r&&o.push(r)}),n.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",n),o},t.prototype.syncLayoutWithGrid=function(e){var t=this.getLeafPathTrees();e(this.mergeLeafPathTrees(t))},t.prototype.getLeafPathTrees=function(){return this.columnModel.getAllGridColumns().filter(function(e){var t=e.getColDef();return e.isPrimary()&&!t.showRowGroup}).map(function(e){return function e(t,n){var o;if(t instanceof p.P)if(t.isPadding())o=n;else{var r=p.mb.assign({},t.getColGroupDef());r.groupId=t.getGroupId(),r.children=[n],o=r}else{var i=p.mb.assign({},t.getColDef());i.colId=t.getColId(),o=i}var a=t.getOriginalParent();return a?e(a,o):o}(e,e.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var t,n,o=this,r=function e(t,n){if(!o.isColGroupDef(n))return t;var r=t,i=n;return i.children&&i.groupId&&o.addChildrenToGroup(r,i.groupId,i.children[0])?r:(i.children.forEach(function(t){return e(r,t)}),r)},i=[],a=1;a<=e.length;a++){var s=e[a-1],l=e[a];n=l,o.isColGroupDef(t=s)&&o.isColGroupDef(n)&&o.getId(t)===o.getId(n)?e[a]=r(s,l):i.push(s)}return i},t.prototype.addChildrenToGroup=function(e,t,n){var o=this;if(!this.isColGroupDef(e))return!0;var r=e,i=n;if(function(e,t){var n=e.children.map(o.getId),r=p.mb.includes(n,o.getId(t)),i=p.mb.last(e.children),a=i&&o.getId(i)!==o.getId(t);return r&&a}(r,i))return r.children.push(i),!0;if(r.groupId===t){var a=r.children.map(this.getId);if(!p.mb.includes(a,this.getId(i)))return r.children.push(i),!0}return r.children.forEach(function(e){return o.addChildrenToGroup(e,t,n)}),!1},mn([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),mn([Object(p.m)("toolPanelColDefService")],t)}(p.n),vn={moduleName:p.L.SideBarModule,beans:[yn],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:on},{componentName:"AgSideBar",componentClass:fn},{componentName:"AgSideBarButtons",componentClass:sn}],dependantModules:[ee]},bn=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Cn=function(){function e(){}return e.prototype.selectAllChildren=function(e,t,n){var o=this.extractAllLeafColumns(e);this.setAllColumns(o,t,n)},e.prototype.setColumn=function(e,t,n){this.setAllColumns([e],t,n)},e.prototype.setAllColumns=function(e,t,n){this.columnModel.isPivotMode()?this.setAllPivot(e,t,n):this.setAllVisible(e,t,n)},e.prototype.extractAllLeafColumns=function(e){var t=[];return function e(n){n.forEach(function(n){n.isPassesFilter()&&(n.isGroup()?e(n.getChildren()):t.push(n.getColumn()))})}(e),t},e.prototype.setAllVisible=function(e,t,n){var o=[];e.forEach(function(e){e.getColDef().lockVisible||e.isVisible()!=t&&o.push({colId:e.getId(),hide:!t})}),o.length>0&&this.columnModel.applyColumnState({state:o},n)},e.prototype.setAllPivot=function(e,t,n){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(e,t):this.setAllPivotActive(e,t,n)},e.prototype.setAllPivotPassive=function(e,t){var n=this.columnModel.getPivotColumns().slice(),o=this.columnModel.getValueColumns().slice(),r=this.columnModel.getRowGroupColumns().slice(),i=!1,a=!1,s=!1;e.forEach(t?function(e){e.isAnyFunctionActive()||(e.isAllowValue()?(o.push(e),a=!0):e.isAllowRowGroup()?(r.push(e),i=!0):e.isAllowPivot()&&(n.push(e),s=!0))}:function(e){e.isAnyFunctionActive()&&(n.indexOf(e)>=0&&(p.mb.removeFromArray(n,e),i=!0),o.indexOf(e)>=0&&(p.mb.removeFromArray(o,e),a=!0),r.indexOf(e)>=0&&(p.mb.removeFromArray(r,e),s=!0))}),i&&this.eventService.dispatchEvent({type:p.C.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n,api:this.gridApi,columnApi:this.columnApi}),s&&this.eventService.dispatchEvent({type:p.C.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:r,api:this.gridApi,columnApi:this.columnApi}),a&&this.eventService.dispatchEvent({type:p.C.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:r,api:this.gridApi,columnApi:this.columnApi})},e.prototype.setAllPivotActive=function(e,t,n){var o=this,r=[];e.forEach(t?function(e){if(!e.isAnyFunctionActive())if(e.isAllowValue()){var t="string"==typeof e.getAggFunc()?e.getAggFunc():o.aggFuncService.getDefaultAggFunc(e);r.push({colId:e.getId(),aggFunc:t})}else e.isAllowRowGroup()?r.push({colId:e.getId(),rowGroup:!0}):e.isAllowPivot()&&r.push({colId:e.getId(),pivot:!0})}:function(e){(e.isPivotActive()||e.isRowGroupActive()||e.isValueActive())&&r.push({colId:e.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),r.length>0&&this.columnModel.applyColumnState({state:r},n)},bn([Object(p.k)("aggFuncService")],e.prototype,"aggFuncService",void 0),bn([Object(p.k)("columnModel")],e.prototype,"columnModel",void 0),bn([Object(p.k)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),bn([Object(p.k)("columnApi")],e.prototype,"columnApi",void 0),bn([Object(p.k)("gridApi")],e.prototype,"gridApi",void 0),bn([Object(p.k)("eventService")],e.prototype,"eventService",void 0),bn([Object(p.m)("modelItemUtils")],e)}(),wn={moduleName:p.L.ColumnToolPanelModule,beans:[Cn],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:me},{componentName:"AgPrimaryColsList",componentClass:Ee},{componentName:"AgPrimaryCols",componentClass:Qt}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:en}],dependantModules:[ee,Ht,vn]},On={getTemplate:function(e){var t=e.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:t.vertical,Horizontal:t.horizontal,Indent:t.indent,ReadingOrder:t.readingOrder,Rotate:t.rotate,ShrinkToFit:t.shrinkToFit,VerticalText:t.verticalText,WrapText:t.wrapText}}]}}}},xn={getTemplate:function(e){var t=e.borders;return{name:"Borders",children:[t.borderBottom,t.borderLeft,t.borderRight,t.borderTop].map(function(e,t){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==t?"Bottom":1==t?"Left":2==t?"Right":"Top",LineStyle:e.lineStyle,Weight:e.weight,Color:e.color}}]}}})}}},Sn={getTemplate:function(e){var t=e.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:t.bold,FontName:t.fontName,Italic:t.italic,Color:t.color,Outline:t.outline,Shadow:t.shadow,Size:t.size,StrikeThrough:t.strikeThrough,Underline:t.underline,VerticalAlign:t.verticalAlign}},{prefix:"x:",map:{CharSet:t.charSet,Family:t.family}}]}}}},Pn={getTemplate:function(e){var t=e.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:t.color,Pattern:t.pattern,PatternColor:t.patternColor}}]}}}},_n={getTemplate:function(e){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:e.protection.protected,HideFormula:e.protection.hideFormula}}]}}}},En={getTemplate:function(e){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:e.numberFormat.format}}]}}}},Tn=function(){function e(){}return e.createExcel=function(e,t){var n=this.excelXmlHeader(),o=this.workbook({name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]},{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]},e,t);return""+n+B.createXml(o,function(e){return e?"1":"0"})},e.workbook=function(e,t,n,o){var r,i,a,s,l,u,c=[e,t,this.stylesXmlElement(n)].concat((a=(r=o).name,s=(i=r.table).rows,l=i.columns.map(function(e){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:e.width}}]}}}),u=s.map(function(e){return function(e){return{name:"Row",children:e.cells.map(function(e){return o=(t=e).styleId,r=t.data,i={},(n=t.mergeAcross)&&(i.MergeAcross=n),o&&(i.StyleID=o),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:i}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:r.type}}]},textNode:r.value}]};var t,n,o,r,i})}}(e)}),{name:"Worksheet",children:[{name:"Table",children:l.concat(u)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:a}}]}}));return p.mb.assign({},{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}},{children:c})},e.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},e.stylesXmlElement=function(e){var t=this;return{name:"Styles",children:e?e.map(function(e){return t.styleXmlElement(e)}):[]}},e.styleXmlElement=function(e){var t=p.mb.compose(this.addProperty("alignment",e),this.addProperty("borders",e),this.addProperty("font",e),this.addProperty("interior",e),this.addProperty("protection",e),this.addProperty("numberFormat",e))([]);return p.mb.assign({},function(e){var t=e.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:e.name||t}}]}}}(e),{children:t})},e.addProperty=function(e,t){return function(n){return t[e]?n.concat({alignment:On,borders:xn,font:Sn,interior:Pn,numberFormat:En,protection:_n}[e].getTemplate(t)):n}},e.factoryMode=p.D.SINGLE_SHEET,e}(),An={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},Mn=function(e){return Math.ceil(9525*e)},Dn=function(e,t){var n;if(t)return n="number"==typeof t?t:t({rowIndex:e}),Math.round(72*n/96)},kn=function(e){return""+B.createHeader({encoding:"UTF-8",standalone:"yes"})+B.createXml(e)},Rn=function e(t){var n=String.fromCharCode,o=Math.floor(t/26),r=t%26;return o&&26!==t?r?o<26?n(65+o-1)+n(65+r-1):e(o)+n(65+r-1):e(o-1)+"Z":n(65+t-1)},In=(mt=function(e,t){return(mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}mt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Nn=function(){return(Nn=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Fn=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},Ln=function(e){function t(t){var n=e.call(this,t)||this;return n.mixedStyles={},n.mixedStyleCounter=0,n.rows=[],n.config=p.mb.assign({},t),n.stylesByIds={},n.config.baseExcelStyles.forEach(function(e){n.stylesByIds[e.id]=e}),n.excelStyles=Fn(n.config.baseExcelStyles),n}return In(t,e),t.prototype.addCustomContent=function(e){var t=this;e.forEach(function(e){var n=t.rows.length+1;t.rows.push({height:Dn(n,t.config.rowHeight),cells:e.map(function(e,o){var r=t.addImage(n,t.columnsToExport[o],e.data.value),i=Nn({},e);return r&&(i.data={},null!=r.value?i.data.value=r.value:(i.data.type="e",i.data.value=null)),i})})})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,t=[];return this.rows.push({cells:t,height:Dn(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(n,o,i){var a=e.config.styleLinker(r.HEADER_GROUPING,1,"grouping-"+n,void 0,void 0);t.push(e.createMergedCell(e.getStyleId(a),e.getDataTypeForValue("string"),n,i))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.prepare=function(t){var n=this;e.prototype.prepare.call(this,t),this.columnsToExport=Fn(t),this.cols=t.map(function(e,t){return n.convertColumnToExcel(e,t)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(e,t){return Math.max(e,t.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},t.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&p.mb.startsWith(e.toString(),"=")},t.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},t.prototype.convertColumnToExcel=function(e,t){var n=this.config.columnWidth;return n?"number"==typeof n?{width:n}:{width:n({column:e,index:t})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},t.prototype.onNewHeaderColumn=function(e,t){var n=this;return function(o,i){var a=n.extractHeaderValue(o),s=n.config.styleLinker(r.HEADER,e,a,o,void 0);t.push(n.createCell(n.getStyleId(s),n.getDataTypeForValue("string"),a))}},t.prototype.onNewRow=function(e,t){var n=[];return this.rows.push({cells:n,height:Dn(this.rows.length+1,t)}),{onColumn:e.bind(this,this.rows.length,n)()}},t.prototype.onNewBodyColumn=function(e,t){var n=this,o=0;return function(i,a,s){if(o>0)o-=1;else{var l=n.extractRowCellValue(i,a,e,p.x.EXPORT_TYPE_EXCEL,s),u=n.config.styleLinker(r.BODY,e,l,i,s),c=n.getStyleId(u),d=i.getColSpan(s),h=n.addImage(e,i,l);h?t.push(n.createCell(c,n.getDataTypeForValue(h.value),null==h.value?"":h.value)):d>1?(o=d-1,t.push(n.createMergedCell(c,n.getDataTypeForValue(l),l,d-1))):t.push(n.createCell(c,n.getDataTypeForValue(l),l))}}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var t=e.join("-");return this.mixedStyles[t]||this.addNewMixedStyle(e),this.mixedStyles[t].excelID},t.prototype.addNewMixedStyle=function(e){var t=this;this.mixedStyleCounter+=1;var n="mixedStyle"+this.mixedStyleCounter,o={};e.forEach(function(e){t.excelStyles.forEach(function(t){t.id===e&&p.mb.mergeDeep(o,p.mb.deepCloneObject(t))})}),o.id=n,o.name=n;var r=e.join("-");this.mixedStyles[r]={excelID:n,key:r,result:o},this.excelStyles.push(o),this.stylesByIds[n]=o},t}(S),jn=(gt=function(e,t){return(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}gt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Gn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jn(t,e),t.prototype.createExcel=function(e){return Tn.createExcel(this.excelStyles,e)},t.prototype.getDataTypeForValue=function(e){return p.mb.isNumeric(e)?"Number":"String"},t.prototype.getType=function(e,t,n){if(this.isFormula(n))return"Formula";if(t&&t.dataType)switch(t.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("ag-grid: Unrecognized data type for excel export ["+t.id+".dataType="+t.dataType+"]")}return e},t.prototype.addImage=function(){},t.prototype.createCell=function(e,t,n){var o=this.getStyleById(e),r=this.getType(t,o,n)||t;return{styleId:o?e:void 0,data:{type:r,value:this.getValueTransformed(r,n)}}},t.prototype.getValueTransformed=function(e,t){var n,o=this;switch(e){case"String":return function(e){if(o.config.suppressTextAsCDATA)return p.mb.escapeString(e);var t=new RegExp("]]>","g");return"<![CDATA["+String(e).replace(t,"]]]]><![CDATA[>")+"]]>"}(t);case"Number":return Number(t).valueOf()+"";case"Boolean":return(n=t)&&"0"!==n&&"false"!==n?"1":"0";default:return t}},t.prototype.createMergedCell=function(e,t,n,o){return{styleId:this.getStyleById(e)?e:void 0,data:{type:t,value:n},mergeAcross:o}},t}(Ln),Vn=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},Bn=function(e,t){return{name:"xdr:"+e,children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},Wn=function(e){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(e.recolor&&e.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},zn=function(e,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:e.id,descr:null!=e.altText?e.altText:void 0}},children:[Wn(e)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},Un=function(e){if(e.saturation||e.tint){var t=[];return e.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*e.saturation}}}),e.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*e.tint}}}),t}},Hn=function(e,t){var n,o,r;if(e.transparency){var i=Math.min(Math.max(e.transparency,0),100);n=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*i)}}}]}if(e.recolor)switch(n||(n=[]),e.recolor.toLocaleLowerCase()){case"grayscale":n.push({name:"a:grayscl"});break;case"sepia":n.push((r={color:"D9C3A5",tint:50,saturation:180},{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:(o={color:"black"}).color}},children:Un(o)},{name:"a:srgbClr",properties:{rawMap:{val:r.color}},children:Un(r)}]}));break;case"washout":n.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+t,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:n},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},Kn=function(e,t){var n={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};return e.rotation&&(n.properties={rawMap:{rot:6e4*Math.min(Math.max(e.rotation,0),360)}}),{name:"xdr:spPr",children:[n,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},Xn=function(e,t,n,o){return{name:"xdr:pic",children:[zn(e,t+1),Hn(e,n+1),Kn(e,o)]}},qn=function(e){return{name:"a:"+e[0],children:[{name:"a:"+e[1],properties:{rawMap:{val:e[2],lastClr:e[3]}}}]}},Yn=function(e){return{name:"a:"+e[0],properties:{rawMap:{script:e[2],typeface:e[1],panose:e[3]}}}},Jn=function(e,t,n){return{name:"a:"+e,properties:{rawMap:{val:t}},children:n}},Qn=function(e){var t=e[0],n=e[1],o=e[3],r=e[4],i=e[5],a=[];return a.push(Jn("satMod",e[2])),o&&a.push(Jn("lumMod",o)),r&&a.push(Jn("tint",r)),i&&a.push(Jn("shade",i)),{name:"a:gs",properties:{rawMap:{pos:t}},children:[{name:"a:schemeClr",properties:{rawMap:{val:n}},children:a}]}},Zn=function(e,t){return{name:"a:solidFill",children:[Jn("schemeClr",e,t)]}},$n=function(e){var t=e[2],n=e[3],o=e[4],r=o[0],i=o[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e[0]}},children:[{name:"a:gsLst",children:[Qn(e[1]),Qn(t),Qn(n)]},{name:"a:lin",properties:{rawMap:{ang:r,scaled:i}}}]}},eo=function(e){return{name:"a:ln",properties:{rawMap:{w:e[0],cap:e[1],cmpd:e[2],algn:e[3]}},children:[Zn("phClr"),Jn("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},to=function(e){var t=[];return e&&t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[Jn("srgbClr","000000",[Jn("alpha","63000")])]}),{name:"a:effectStyle",children:[p.mb.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},no={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},oo=["Dashed","DashDot","DashDotDot"],ro={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},io={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},ao={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},so=function(e){return null==e?e:("#"===e.charAt(0)&&(e=e.substr(1)),6===e.length?"FF"+e:e)},lo=function(e,t){if(!e)return"thin";var n=function(e){switch(t){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}}(),o=no[e];return"Continuous"===e?n:"medium"===n&&-1!==oo.indexOf(o)?"medium"+o:o.charAt(0).toLowerCase()+o.substr(1)},uo=function(e){return io[e]||"general"},co=function(e){return ao[e]||void 0},po=function(e){return{name:"color",properties:{rawMap:{rgb:so(e||"#000000")}}}},ho=function(e){var t=["Context","LeftToRight","RightToLeft"].indexOf(e);return Math.max(t,0)},fo=function(e){var t=e.alignment,n=e.borderId,o=e.fillId,r=e.fontId,i=e.numFmtId,a=e.protection,s=e.xfId,l=[];return t&&l.push(function(e){var t=e.horizontal,n=e.indent,o=e.readingOrder,r=e.rotate,i=e.shrinkToFit,a=e.vertical,s=e.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&uo(t),indent:n,readingOrder:o&&ho(o),textRotation:r,shrinkToFit:i,vertical:a&&co(a),wrapText:s}}}}(t)),a&&l.push(function(e){return{name:"protection",properties:{rawMap:{hidden:!0===e.hideFormula?1:0,locked:!1===e.protected?0:1}}}}(a)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:a?1:void 0,applyBorder:n?1:void 0,applyFill:o?1:void 0,borderId:n,fillId:o,applyFont:r?1:void 0,fontId:r,applyNumberFormat:i?1:void 0,numFmtId:i,xfId:s}},children:l.length?l:void 0}},go=function(){return(go=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},mo=function(e,t){return-1!==e.indexOf("mixedStyle")&&t>1&&(e+="_"+t),e},yo=function(){nt={base:0},ot=[],rt=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],it=[{patternType:"none"},{patternType:"gray125"}],at=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],st=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],lt=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],ut=[{builtinId:0,name:"Normal",xfId:0}]},vo=function(e){var t,n,o,r,i,a,s=e.alignment,l=e.borders,u=e.font,c=e.interior,d=e.numberFormat,h=e.protection,f=e.id,g=0,m=0,y=0,v=0;f&&(f=mo(f,ct),null==nt[f]&&(c&&(o=(n=(t=c).pattern)?ro[n]||n:"none",r=so(t.color),i=so(t.patternColor),-1===(a=p.mb.findIndex(it,function(e){return e.patternType==o&&e.fgRgb==r&&e.bgRgb==i}))&&(a=it.length,it.push({patternType:o,fgRgb:r,bgRgb:i})),g=a),l&&(m=function(e){var t,n,o,r,i,a,s,l,u=e.borderBottom,c=e.borderTop,d=e.borderLeft,h=e.borderRight;d&&(o=lo(d.lineStyle,d.weight),s=so(d.color)),h&&(r=lo(h.lineStyle,h.weight),l=so(h.color)),u&&(t=lo(u.lineStyle,u.weight),i=so(u.color)),c&&(n=lo(c.lineStyle,c.weight),a=so(c.color));var f=p.mb.findIndex(at,function(e){var u=e.left,c=e.right,p=e.top,d=e.bottom;if(!u&&(o||s))return!1;if(!c&&(r||l))return!1;if(!p&&(n||a))return!1;if(!d&&(t||i))return!1;var h=u||{},f=c||{},g=p||{},m=d||{};return h.style==o&&h.color==s&&f.style==r&&f.color==l&&g.style==n&&g.color==a&&m.style==t&&m.color==i});return-1===f&&(f=at.length,at.push({left:{style:o,color:s},right:{style:r,color:l},top:{style:n,color:a},bottom:{style:t,color:i},diagonal:{style:void 0,color:void 0}})),f}(l)),u&&(y=function(e){var t=e.fontName,n=void 0===t?"Calibri":t,o=e.color,r=e.size,i=e.bold,a=e.italic,s=e.outline,l=e.shadow,u=e.strikeThrough,c=e.underline,d=e.family,h=e.verticalAlign,f=n?p.mb.utf8_encode(n):n,g=so(o),m=function(e){if(void 0!==d){var t=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(d||"Automatic");return Math.max(t,0)}}(),y=c?c.toLocaleLowerCase():void 0,v=h?h.toLocaleLowerCase():void 0,b=p.mb.findIndex(rt,function(e){return e.fontName==f&&e.color==g&&e.size==r&&e.bold==i&&e.italic==a&&e.outline==s&&e.shadow==l&&e.strikeThrough==u&&e.underline==y&&e.verticalAlign==v&&e.family==m});return-1===b&&(b=rt.length,rt.push({fontName:f,color:g,size:r,bold:i,italic:a,outline:s,shadow:l,strikeThrough:u,underline:y,verticalAlign:v,family:null!=m?m.toString():void 0})),b}(u)),d&&(v=function(e){if(e=p.mb.utf8_encode(e),An[e])return An[e];var t=p.mb.findIndex(ot,function(t){return t.formatCode===e});return-1===t?ot.push({formatCode:e,numFmtId:t=ot.length+164}):t=ot[t].numFmtId,t}(d.format)),nt[f]=lt.length,lt.push({alignment:s,borderId:m||0,fillId:g||0,fontId:y||0,numFmtId:v||0,protection:h,xfId:0})))},bo=function(e,t){return nt[mo(e,t)]||0},Co=function(e){var t,n=function(e){return{name:"numFmts",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){return{name:"numFmt",properties:{rawMap:{formatCode:e.formatCode,numFmtId:e.numFmtId}}}}(e)})}}(ot),o=function(e){return{name:"fonts",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){var t=e.color,n=e.fontName,o=e.family,r=e.scheme,i=e.italic,a=e.bold,s=e.strikeThrough,l=e.outline,u=e.shadow,c=e.underline,p=e.verticalAlign,d=[{name:"sz",properties:{rawMap:{val:e.size}}},{name:"color",properties:{rawMap:{theme:e.colorTheme,rgb:void 0===t?"FF000000":t}}},{name:"name",properties:{rawMap:{val:void 0===n?"Calibri":n}}}];return o&&d.push({name:"family",properties:{rawMap:{val:o}}}),r&&d.push({name:"scheme",properties:{rawMap:{val:r}}}),i&&d.push({name:"i"}),a&&d.push({name:"b"}),s&&d.push({name:"strike"}),l&&d.push({name:"outline"}),u&&d.push({name:"shadow"}),c&&d.push({name:"u",properties:{rawMap:{val:c}}}),p&&d.push({name:"vertAlign",properties:{rawMap:{val:p}}}),{name:"font",children:d}}(e)})}}(rt.map(function(t){return go(go({},t),{size:null!=t.size?t.size:e})})),r=function(e){return{name:"fills",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){var t=e.fgTheme,n=e.fgTint,o=e.fgRgb,r=e.bgRgb,i=e.bgIndexed,a={name:"patternFill",properties:{rawMap:{patternType:e.patternType}}};return(t||n||o)&&(a.children=[{name:"fgColor",properties:{rawMap:{theme:t,tint:n,rgb:o}}}]),i&&(a.children||(a.children=[]),a.children.push({name:"bgColor",properties:{rawMap:{indexed:i,rgb:r}}})),{name:"fill",children:[a]}}(e)})}}(it),i=function(e){return{name:"borders",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){var t=e.left,n=e.right,o=e.top,r=e.bottom,i=e.diagonal,a=t?[po(t.color)]:void 0,s=n?[po(n.color)]:void 0,l=o?[po(o.color)]:void 0,u=r?[po(r.color)]:void 0,c=i?[po(i.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:a},{name:"right",properties:{rawMap:{style:n&&n.style}},children:s},{name:"top",properties:{rawMap:{style:o&&o.style}},children:l},{name:"bottom",properties:{rawMap:{style:r&&r.style}},children:u},{name:"diagonal",properties:{rawMap:{style:i&&i.style}},children:c}]}}(e)})}}(at),a={name:"cellStyleXfs",properties:{rawMap:{count:(t=st).length}},children:t.map(function(e){return fo(e)})},s=function(e){return{name:"cellXfs",properties:{rawMap:{count:e.length}},children:e.map(function(e){return fo(e)})}}(lt),l=function(e){return{name:"cellStyles",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){return{name:"cellStyle",properties:{rawMap:{builtinId:e.builtinId,name:e.name,xfId:e.xfId}}}}(e)})}}(ut);return yo(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[n,o,r,i,a,s,l,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}},wo=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},Oo=function(e){return""!==e.data.value||void 0!==e.styleId},xo=function(e){if(null==e)return 1;var t=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(e);return-1===t?1:t+1},So=function(e){var t=[];return["all","first","even"].forEach(function(n){var o=e[n],r="all"===n?"odd":n;o&&(o.header||o.footer)&&p.mb.iterateObject(o,function(e,n){var o,i=""+e.charAt(0).toUpperCase()+e.slice(1);n&&t.push({name:""+r+i,properties:{rawMap:{"xml:space":"preserve"}},textNode:(o=n,o.reduce(function(e,t){var n,o,r,i;return""+(o=e+"&amp;"+("Center"===(n=t.position)?"C":"Right"===n?"R":"L"),(r=t.font)?(o+="&amp;&quot;",o+=r.fontName||"Calibri",o+=r.bold!==r.italic?r.bold?",Bold":",Italic":r.bold?",Bold Italic":",Regular",o+="&quot;",r.size&&(o+="&amp;"+r.size),r.strikeThrough&&(o+="&amp;S"),r.underline&&(o+="&amp;"+("Double"===r.underline?"E":"U")),r.color&&(o+="&amp;K"+r.color.replace("#","").toUpperCase()),o):o)+p.mb.escapeString((i=t.value,p.mb.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,t){i=i.replace(e,t)}),i))},""))})})}),t},Po=function(e){var t,n=e.currentSheet,o=e.margins,r=void 0===o?{}:o,i=e.pageSetup,a=e.headerFooterConfig,s=e.worksheet.table,l=s.rows,u=s.columns,c=u&&u.length?function(e,t){var n=[];return e.forEach(function(e,o){var r,i=e.cells,a=0;e.index=o+1,i.forEach(function(e,i){var s=i+a+1,l=Rn(s),u=o+1;if(e.mergeAcross){var c=Rn(i+(a+=e.mergeAcross)+1);n.push(""+l+u+":"+c+u)}t[s-1]||(t[s-1]={}),function(e,t,n,o){if(!e.min)return e.min=t,void(e.max=t+n);var r=t;o&&(r=Math.max(r,o.min)),e.min=Math.max(e.min,r),e.max=Math.max(e.max,r+n)}(t[s-1],s,a,r),r=t[s-1],e.ref=""+l+u})}),n}(l,u):[];return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:p.mb.compose(function(e){return function(t){return e.length&&t.push({name:"cols",children:e.map(function(e){return n=(t=e).min,o=t.max,r=t.s,a=t.hidden,s=t.bestFit,l=1,u="0",(i=t.width)>1&&(l=function(e){return Math.ceil((e-12)/7+1)}(i),u="1"),{name:"col",properties:{rawMap:{min:n,max:o,width:l,style:r,hidden:a?"1":"0",bestFit:s?"1":"0",customWidth:u}}};var t,n,o,r,i,a,s,l,u})}),t}}(u),function(e,t){return function(n){return e.length&&n.push({name:"sheetData",children:e.map(function(e,n){return function(e,t,n){var o=e.index,r=e.collapsed,i=e.hidden,a=e.height,s=e.s,l=e.cells,u=void 0===l?[]:l;return function(e,t){for(var n=[],o=0,r=0;r<e.length;r++)(a=e[r]).mergeAcross&&(n.push({pos:r,excelPos:o}),o+=a.mergeAcross),o++;if(n.length)for(r=n.length-1;r>=0;r--){for(var i=[],a=e[n[r].pos],s=1;s<=a.mergeAcross;s++)i.push({ref:""+Rn(n[r].excelPos+1+s)+(t+1),styleId:a.styleId,data:{type:"empty",value:null}});i.length&&e.splice.apply(e,wo([n[r].pos+1,0],i))}}(u,t),{name:"row",properties:{rawMap:{r:o,collapsed:r,hidden:i?"1":"0",ht:a,customHeight:null!=a?"1":"0",s:s,customFormat:null!=s?"1":"0"}},children:u.filter(Oo).map(function(e,t){return function(e,t,n){var o=e.ref,r=e.data,i=e.styleId,a=r.type,s=r.value,l=a;"f"===a?l="str":a.charAt(0)===a.charAt(0).toUpperCase()&&(l=function(e){var t=e.charAt(0).toLowerCase();return"s"===t?"inlineStr":t}(a));var u,c={name:"c",properties:{rawMap:{r:o,t:"empty"===l?void 0:l,s:i?bo(i,n):void 0}}};return"empty"===l?c:(u="str"===l&&"f"===a?[{name:"f",textNode:p.mb.escapeString(p.mb.utf8_encode(s))}]:"inlineStr"===l?[{name:"is",children:[{name:"t",textNode:p.mb.escapeString(p.mb.utf8_encode(s))}]}]:[{name:"v",textNode:s}],p.mb.assign({},c,{children:u}))}(e,0,n)})}}(e,n,t)})}),n}}(l,n+1),(t=c,function(e){return t.length&&e.push({name:"mergeCells",properties:{rawMap:{count:t.length}},children:t.map(function(e){return{name:"mergeCell",properties:{rawMap:{ref:e}}}})}),e}),function(e){return function(t){var n=e.top,o=e.right,r=e.bottom,i=e.left,a=e.header,s=e.footer;return t.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===r?.75:r,footer:void 0===s?.3:s,header:void 0===a?.3:a,left:void 0===i?.7:i,right:void 0===o?.7:o,top:void 0===n?.75:n}}}),t}}(r),function(e){return function(t){var n;return e&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:(n=e.orientation,!n||"Portrait"!==n&&"Landscape"!==n?"portrait":n.toLocaleLowerCase()),paperSize:xo(e.pageSize)}}}),t}}(i),function(e){return function(t){return e?(t.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=e.first?1:0,differentOddEven:null!=e.even?1:0}},children:So(e)}),t):t}}(a),function(e){return function(t){return Eo.worksheetImages.get(e)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}}(n))([])}},_o=function(e){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:e.map(function(e){return{name:"Relationship",properties:{rawMap:{Id:(t=e).Id,Type:t.Type,Target:t.Target}}};var t})}},Eo=function(){function e(){}return e.createExcel=function(e,t,n,o,r){return this.addSheetName(t),function(e,t){1===(ct=t)&&yo(),e.forEach(vo)}(e,this.sheetNames.length),this.createWorksheet(t,n,o,r)},e.buildImageMap=function(e,t,n,o,r){var i=this.sheetNames.length,a=this.images.get(e.id);e.position&&e.position.row&&e.position.column||(e.position||(e.position={}),e.position=p.mb.assign({},e.position,{row:t,column:o.indexOf(n)+1}));var s=e;if(function(e,t){var n=e.position,o=n.colSpan,r=n.column;if(e.width)if(o)for(var i=t.slice(r-1,r+o-1),a=0,s=0;s<i.length;s++){var l=i[s].getActualWidth();if(e.width<a+l){e.position.colSpan=s+1,e.totalWidth=e.width,e.width=e.totalWidth-a;break}a+=l}else e.totalWidth=e.width}(s,o),function(e,t){var n,o=e.position,r=o.rowSpan,i=o.row;if(e.height)if(r)for(var a=0,s=0,l=i;l<i+r;l++){var u=(n=Dn(l,t)||20,Math.round(96*n/72));if(e.height<a+u){e.position.rowSpan=s+1,e.totalHeight=e.height,e.height=e.totalHeight-a;break}a+=u,s++}else e.totalHeight=e.height}(s,r),a){var l=p.mb.find(a,function(e){return e.sheetId===i});l?l.image.push(s):a.push({sheetId:i,image:[s]})}else this.images.set(s.id,[{sheetId:i,image:[s]}]),this.workbookImageIds.set(s.id,{type:s.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(i,s)},e.buildSheetImageMap=function(e,t){var n=this.worksheetImageIds.get(e);n||(n=new Map,this.worksheetImageIds.set(e,n));var o=this.worksheetImages.get(e);o?(o.push(t),n.get(t.id)||n.set(t.id,{index:n.size,type:t.imageType})):(this.worksheetImages.set(e,[t]),n.set(t.id,{index:0,type:t.imageType}))},e.addSheetName=function(e){for(var t=e.name,n="";-1!==this.sheetNames.indexOf(t+n);)if(""===n)n="_1";else{var o=parseInt(n.slice(1),10);n="_"+(o+1)}e.name+=n,this.sheetNames.push(e.name)},e.getStringPosition=function(e){return this.sharedStrings.has(e)?this.sharedStrings.get(e):(this.sharedStrings.set(e,this.sharedStrings.size),this.sharedStrings.size-1)},e.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=p.D.SINGLE_SHEET},e.createWorkbook=function(){return kn({name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[(e=this.sheetNames,{name:"sheets",children:e.map(function(e,t){return function(e,t){var n=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:e,sheetId:n,"r:id":"rId"+n}}}}(e,t)})})]});var e},e.createStylesheet=function(e){return kn(Co(e))},e.createSharedStrings=function(){return kn({name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:(e=this.sharedStrings).size,uniqueCount:e.size}},children:(t=e,n=[],t.forEach(function(e,t){var o=t.toString(),r={name:"t",textNode:p.mb.utf8_encode(p.mb.escapeString(o))};o.replace(/^\s*|\s*$/g,"").length!==o.length&&(r.properties={rawMap:{"xml:space":"preserve"}}),n.push({name:"si",children:[r]})}),n)});var e,t,n},e.createCore=function(e){return kn(function(e){var t=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:e},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t}]}}(e))},e.createContentTypes=function(e){return kn(function(e){var t=p.mb.fill(new Array(e),void 0).map(function(e,t){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(t+1)+".xml"}}),n=Eo.worksheetImages.size,o={};Eo.workbookImageIds.forEach(function(e){o[e.type]=!0});var r=p.mb.fill(new Array(n),void 0).map(function(e,t){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(t+1)+".xml"}}),i=Object.keys(o).map(function(e){return{name:"Default",ContentType:"image/"+e,Extension:e}});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:Vn(i,[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],t,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],r,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(e){return{name:(t=e).name,properties:{rawMap:{Extension:t.Extension,PartName:t.PartName,ContentType:t.ContentType}}};var t})}}(e))},e.createRels=function(){var e=_o([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return kn(e)},e.createTheme=function(){return kn({name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[{name:"a:themeElements",children:[{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[qn(["dk1","sysClr","windowText","000000"]),qn(["lt1","sysClr","window","FFFFFF"]),qn(["dk2","srgbClr","44546A"]),qn(["lt2","srgbClr","E7E6E6"]),qn(["accent1","srgbClr","4472C4"]),qn(["accent2","srgbClr","ED7D31"]),qn(["accent3","srgbClr","A5A5A5"]),qn(["accent4","srgbClr","FFC000"]),qn(["accent5","srgbClr","5B9BD5"]),qn(["accent6","srgbClr","70AD47"]),qn(["hlink","srgbClr","0563C1"]),qn(["folHlink","srgbClr","954F72"])]},(e=p.mb.utf8_encode,{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[Yn(["latin","Calibri Light",void 0,"020F0302020204030204"]),Yn(["ea",""]),Yn(["cs",""]),Yn(["font",e("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),Yn(["font",e("\ub9d1\uc740 \uace0\ub515"),"Hang"]),Yn(["font",e("\u7b49\u7ebf Light"),"Hans"]),Yn(["font",e("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),Yn(["font","Times New Roman","Arab"]),Yn(["font","Times New Roman","Hebr"]),Yn(["font","Tahoma","Thai"]),Yn(["font","Nyala","Ethi"]),Yn(["font","Vrinda","Beng"]),Yn(["font","Shruti","Gujr"]),Yn(["font","MoolBoran","Khmr"]),Yn(["font","Tunga","Knda"]),Yn(["font","Raavi","Guru"]),Yn(["font","Euphemia","Cans"]),Yn(["font","Plantagenet Cherokee","Cher"]),Yn(["font","Microsoft Yi Baiti","Yiii"]),Yn(["font","Microsoft Himalaya","Tibt"]),Yn(["font","MV Boli","Thaa"]),Yn(["font","Mangal","Deva"]),Yn(["font","Gautami","Telu"]),Yn(["font","Latha","Taml"]),Yn(["font","Estrangelo Edessa","Syrc"]),Yn(["font","Kalinga","Orya"]),Yn(["font","Kartika","Mlym"]),Yn(["font","DokChampa","Laoo"]),Yn(["font","Iskoola Pota","Sinh"]),Yn(["font","Mongolian Baiti","Mong"]),Yn(["font","Times New Roman","Viet"]),Yn(["font","Microsoft Uighur","Uigh"]),Yn(["font","Sylfaen","Geor"]),Yn(["font","Arial","Armn"]),Yn(["font","Leelawadee UI","Bugi"]),Yn(["font","Microsoft JhengHei","Bopo"]),Yn(["font","Javanese Text","Java"]),Yn(["font","Segoe UI","Lisu"]),Yn(["font","Myanmar Text","Mymr"]),Yn(["font","Ebrima","Nkoo"]),Yn(["font","Nirmala UI","Olck"]),Yn(["font","Ebrima","Osma"]),Yn(["font","Phagspa","Phag"]),Yn(["font","Estrangelo Edessa","Syrn"]),Yn(["font","Estrangelo Edessa","Syrj"]),Yn(["font","Estrangelo Edessa","Syre"]),Yn(["font","Nirmala UI","Sora"]),Yn(["font","Microsoft Tai Le","Tale"]),Yn(["font","Microsoft New Tai Lue","Talu"]),Yn(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[Yn(["latin","Calibri",void 0,"020F0502020204030204"]),Yn(["ea",""]),Yn(["cs",""]),Yn(["font",e("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),Yn(["font",e("\ub9d1\uc740 \uace0\ub515"),"Hang"]),Yn(["font",e("\u7b49\u7ebf"),"Hans"]),Yn(["font",e("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),Yn(["font","Arial","Arab"]),Yn(["font","Arial","Hebr"]),Yn(["font","Tahoma","Thai"]),Yn(["font","Nyala","Ethi"]),Yn(["font","Vrinda","Beng"]),Yn(["font","Shruti","Gujr"]),Yn(["font","DaunPenh","Khmr"]),Yn(["font","Tunga","Knda"]),Yn(["font","Raavi","Guru"]),Yn(["font","Euphemia","Cans"]),Yn(["font","Plantagenet Cherokee","Cher"]),Yn(["font","Microsoft Yi Baiti","Yiii"]),Yn(["font","Microsoft Himalaya","Tibt"]),Yn(["font","MV Boli","Thaa"]),Yn(["font","Mangal","Deva"]),Yn(["font","Gautami","Telu"]),Yn(["font","Latha","Taml"]),Yn(["font","Estrangelo Edessa","Syrc"]),Yn(["font","Kalinga","Orya"]),Yn(["font","Kartika","Mlym"]),Yn(["font","DokChampa","Laoo"]),Yn(["font","Iskoola Pota","Sinh"]),Yn(["font","Mongolian Baiti","Mong"]),Yn(["font","Arial","Viet"]),Yn(["font","Microsoft Uighur","Uigh"]),Yn(["font","Sylfaen","Geor"]),Yn(["font","Arial","Armn"]),Yn(["font","Leelawadee UI","Bugi"]),Yn(["font","Microsoft JhengHei","Bopo"]),Yn(["font","Javanese Text","Java"]),Yn(["font","Segoe UI","Lisu"]),Yn(["font","Myanmar Text","Mymr"]),Yn(["font","Ebrima","Nkoo"]),Yn(["font","Nirmala UI","Olck"]),Yn(["font","Ebrima","Osma"]),Yn(["font","Phagspa","Phag"]),Yn(["font","Estrangelo Edessa","Syrn"]),Yn(["font","Estrangelo Edessa","Syrj"]),Yn(["font","Estrangelo Edessa","Syre"]),Yn(["font","Nirmala UI","Sora"]),Yn(["font","Microsoft Tai Le","Tale"]),Yn(["font","Microsoft New Tai Lue","Talu"]),Yn(["font","Ebrima","Tfng"])]}]}),{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[Zn("phClr"),$n(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),$n(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[eo(["6350","flat","sng","ctr"]),eo(["12700","flat","sng","ctr"]),eo(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[to(),to(),to(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[Zn("phClr"),Zn("phClr",[Jn("tint","95000"),Jn("satMod","170000")]),$n(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}]},{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]});var e},e.createWorkbookRels=function(e){var t=p.mb.fill(new Array(e),void 0).map(function(e,t){return{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(t+1)+".xml"}}),n=_o(function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o}(t,[{Id:"rId"+(e+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(e+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(e+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return kn(n)},e.createDrawing=function(e){return kn(function(e){var t=e.sheetIndex,n=Eo.worksheetImages.get(t),o=Eo.worksheetImageIds.get(t);return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:n.map(function(e,t){var n=function(e){e.fitCell=!!e.fitCell||!e.width||!e.height;var t=e.position,n=void 0===t?{}:t,o=e.fitCell,r=e.width,i=void 0===r?0:r,a=e.height,s=void 0===a?0:a,l=e.totalHeight,u=e.totalWidth,c=n.offsetX,p=void 0===c?0:c,d=n.offsetY,h=void 0===d?0:d,f=n.row,g=void 0===f?1:f,m=n.rowSpan,y=void 0===m?1:m,v=n.column,b=void 0===v?1:v,C=n.colSpan,w=void 0===C?1:C;return{from:{row:g-1,col:b-1,offsetX:Mn(p),offsetY:Mn(h)},to:{row:g-1+(o?1:y-1),col:b-1+(o?1:w-1),offsetX:Mn(i+p),offsetY:Mn(s+h)},height:Mn(l||s),width:Mn(u||i)}}(e);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[Bn("from",n.from),Bn("to",n.to),Xn(e,t,o.get(e.id).index,n),{name:"xdr:clientData"}]}})}}({sheetIndex:e}))},e.createDrawingRel=function(e){var t=this,n=this.worksheetImageIds.get(e),o=[];return n.forEach(function(e,n){o.push({Id:"rId"+(e.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(t.workbookImageIds.get(n).index+1)+"."+e.type})}),kn(_o(o))},e.createWorksheetDrawingRel=function(e){var t=_o([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(e+1)+".xml"}]);return kn(t)},e.createWorksheet=function(e,t,n,o){return kn(Po({worksheet:e,currentSheet:this.sheetNames.length-1,margins:t,pageSetup:n,headerFooterConfig:o}))},e.sharedStrings=new Map,e.sheetNames=[],e.images=new Map,e.worksheetImages=new Map,e.workbookImageIds=new Map,e.worksheetImageIds=new Map,e.factoryMode=p.D.SINGLE_SHEET,e}(),To=(ft=function(e,t){return(ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ft(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return To(t,e),t.prototype.createExcel=function(e){var t=this.config;return Eo.createExcel(this.excelStyles,e,t.margins,t.pageSetup,t.headerFooterConfig)},t.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":p.mb.isNumeric(e)?"n":"s"},t.prototype.getType=function(e,t,n){if(this.isFormula(n))return"f";if(t&&t.dataType)switch(t.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("ag-grid: Unrecognized data type for excel export ["+t.id+".dataType="+t.dataType+"]")}return e},t.prototype.addImage=function(e,t,n){if(this.config.addImageToCell){var o=this.config.addImageToCell(e,t,n);if(o)return Eo.buildImageMap(o.image,e,t,this.columnsToExport,this.config.rowHeight),o}},t.prototype.createCell=function(e,t,n){var o=this.getStyleById(e),r=this.getType(t,o,n)||t;return{styleId:o?e:void 0,data:{type:r,value:this.getCellValue(r,n)}}},t.prototype.createMergedCell=function(e,t,n,o){var r=null==n?"":n;return{styleId:this.getStyleById(e)?e:void 0,data:{type:t,value:"s"===t?Eo.getStringPosition(r).toString():n},mergeAcross:o}},t.prototype.getCellValue=function(e,t){if(null==t)return Eo.getStringPosition("").toString();switch(e){case"s":return""===t?"":Eo.getStringPosition(t).toString();case"f":return t.slice(1);case"n":return Number(t).toString();default:return t}},t}(Ln),Mo=(ht=function(e,t){return(ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ht(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Do=function(){return(Do=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ko=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ro=function(e){var t=e.data,n=e.fontSize,o=void 0===n?11:n,r=e.author,i=void 0===r?"AG Grid":r,a=Eo.images.size>0;if(z.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),a){z.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var s=0;Eo.images.forEach(function(e){var t=e[0].image[0];z.addFile("xl/media/image"+ ++s+"."+t.imageType,t.base64,!0)})}if(!t||0===t.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void Eo.resetFactory();var l=t.length,u=0;return t.forEach(function(e,t){z.addFile("xl/worksheets/sheet"+(t+1)+".xml",e),a&&Eo.worksheetImages.get(t)&&Io(t,u++)}),z.addFile("xl/workbook.xml",Eo.createWorkbook()),z.addFile("xl/styles.xml",Eo.createStylesheet(o)),z.addFile("xl/sharedStrings.xml",Eo.createSharedStrings()),z.addFile("xl/theme/theme1.xml",Eo.createTheme()),z.addFile("xl/_rels/workbook.xml.rels",Eo.createWorkbookRels(l)),z.addFile("docProps/core.xml",Eo.createCore(i)),z.addFile("[Content_Types].xml",Eo.createContentTypes(l)),z.addFile("_rels/.rels",Eo.createRels()),Eo.resetFactory(),z.getContent("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},Io=function(e,t){var n="xl/drawings/drawing"+(t+1)+".xml",o="xl/worksheets/_rels/sheet"+(e+1)+".xml.rels";z.addFile("xl/drawings/_rels/drawing"+(t+1)+".xml.rels",Eo.createDrawingRel(e)),z.addFile(n,Eo.createDrawing(e)),z.addFile(o,Eo.createWorksheetDrawingRel(t))},No=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.exportMode="xlsx",t}return Mo(t,e),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getDefaultExportParams=function(){return this.gridOptionsWrapper.getDefaultExportParams("excel")},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParamsAndData(e),n=t.mergedParams,o=t.data,r=this.packageFile({data:[o],fontSize:n.fontSize,author:n.author});return r&&P.download(this.getFileName(n.fileName),r),o},t.prototype.exportDataAsExcel=function(e){var t="xlsx";return e&&e.exportMode&&(t=e.exportMode),this.setExportMode(t),this.export(e)},t.prototype.getDataAsExcel=function(e){var t=this.getMergedParamsAndData(e),n=t.mergedParams,o=t.data;return e&&"xml"===e.exportMode?o:this.packageFile({data:[o],fontSize:n.fontSize,author:n.author})},t.prototype.setFactoryMode=function(e,t){void 0===t&&(t="xlsx"),("xlsx"===t?Eo:Tn).factoryMode=e},t.prototype.getFactoryMode=function(e){return("xlsx"===e?Eo:Tn).factoryMode},t.prototype.getSheetDataForExcel=function(e){return this.getMergedParamsAndData(e).data},t.prototype.getMultipleSheetsAsExcel=function(e){return Ro(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){return function(e){var t=e.fileName,n=void 0===t?"export.xlsx":t,o=Ro(e);o&&P.download(n,o)}(e)},t.prototype.getMimeType=function(){return"xml"===this.getExportMode()?"application/vnd.ms-excel":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var t=this.columnModel,n=this.valueService,o=this.gridOptionsWrapper,r="xlsx"===this.getExportMode(),i="ag-grid";null!=e.sheetName&&(i=p.mb.utf8_encode(e.sheetName.toString().substr(0,31)));var a=Do(Do({},e),{sheetName:i,columnModel:t,valueService:n,gridOptionsWrapper:o,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(r?Ao:Gn)(a)},t.prototype.styleLinker=function(e,t,n,o,i){if(e===r.HEADER)return["header"];if(e===r.HEADER_GROUPING)return["header","headerGroup"];var a=this.gridOptions.excelStyles,s=["cell"];if(!a||!a.length)return s;var l=a.map(function(e){return e.id});return this.stylingService.processAllCellClasses(o.getColDef(),{value:n,data:i.data,node:i,colDef:o.getColDef(),rowIndex:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:null,context:this.gridOptionsWrapper.getContext()},function(e){l.indexOf(e)>-1&&s.push(e)}),s.sort(function(e,t){return l.indexOf(e)<l.indexOf(t)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode},t.prototype.packageFile=function(e){return"xml"===this.getExportMode()?new Blob(["\ufeff",e.data[0]],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"}):Ro(e)},ko([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),ko([Object(p.k)("valueService")],t.prototype,"valueService",void 0),ko([Object(p.k)("gridOptions")],t.prototype,"gridOptions",void 0),ko([Object(p.k)("stylingService")],t.prototype,"stylingService",void 0),ko([Object(p.k)("gridSerializer")],t.prototype,"gridSerializer",void 0),ko([Object(p.k)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ko([p.S],t.prototype,"postConstruct",null),ko([Object(p.m)("excelCreator")],t)}(x),Fo={moduleName:p.L.ExcelExportModule,beans:[No,G,M],dependantModules:[V,ee]},Lo=(dt=function(e,t){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}dt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),jo=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.INDETERMINATE=2]="INDETERMINATE"}(pt||(pt={}));var Go,Vo,Bo,Wo,zo,Uo,Ho,Ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lo(t,e),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(e("ariaSearch","Search")),this.createExpandIcons(),this.setExpandState(pt.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=p.mb.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=p.mb.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=p.mb.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,t=!this.params.suppressExpandAll,n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(n("searchOoo","Search..."));var o=this.columnModel.getAllGridColumns().some(function(e){return e.getOriginalParent()&&e.isFilterAllowed()});p.mb.setDisplayed(this.eFilterTextField.getGui(),e),p.mb.setDisplayed(this.eExpand,t&&o)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=p.mb.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===pt.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},t.prototype.setExpandState=function(e){this.currentExpandState=e,p.mb.setDisplayed(this.eExpandChecked,this.currentExpandState===pt.EXPANDED),p.mb.setDisplayed(this.eExpandUnchecked,this.currentExpandState===pt.COLLAPSED),p.mb.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===pt.INDETERMINATE)},jo([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),jo([Object(p.X)("eExpand")],t.prototype,"eExpand",void 0),jo([Object(p.X)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),jo([p.T],t.prototype,"preConstruct",null),jo([p.S],t.prototype,"postConstruct",null),t}(p.v),Xo=(Ho=function(e,t){return(Ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ho(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),qo=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Yo=function(e){function t(n){void 0===n&&(n=!1);var o=e.call(this,t.TEMPLATE)||this;return o.expanded=!1,o.hideHeader=n,o}return Xo(t,e),t.prototype.postConstruct=function(){this.eExpandChecked=p.mb.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=p.mb.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var t=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(e){e.keyCode===p.J.ENTER&&t.toggleExpanded()}),this.addManagedListener(this.eventService,p.C.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),p.mb.addOrRemoveCssClass(this.eFilterIcon,"ag-hidden",!this.isFilterActive()),p.mb.addCssClass(this.eExpandChecked,"ag-hidden"),this.hideHeader?(p.mb.addOrRemoveCssClass(this.eFilterToolPanelHeader,"ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,p.t.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){p.mb.addCssClass(this.eFilterToolPanelHeader,e)},t.prototype.addInIcon=function(e,t,n){if(null!=t){var o=p.mb.createIconNoSpan(e,this.gridOptionsWrapper,n);t.appendChild(o)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){p.mb.addOrRemoveCssClass(this.eFilterIcon,"ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:p.t.EVENT_FILTER_CHANGED})},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){var e=this;if(!this.expanded){this.expanded=!0;var t=p.mb.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),n=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR").filterPromise;n&&n.then(function(n){e.underlyingFilter=n,n&&(t.appendChild(n.getGui()),e.agFilterToolPanelBody.appendChild(t),n.afterGuiAttached&&n.afterGuiAttached({container:"toolPanel"}))}),p.mb.setDisplayed(this.eExpandChecked,!0),p.mb.setDisplayed(this.eExpandUnchecked,!1)}},t.prototype.collapse=function(){this.expanded&&(this.expanded=!1,this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),p.mb.setDisplayed(this.eExpandChecked,!1),p.mb.setDisplayed(this.eExpandUnchecked,!0))},t.prototype.refreshFilter=function(){if(this.expanded){var e=this.underlyingFilter;e&&"function"==typeof e.refreshVirtualList&&e.refreshVirtualList()}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&this.expanded&&this.collapse()},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',qo([Object(p.X)("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),qo([Object(p.X)("eFilterName")],t.prototype,"eFilterName",void 0),qo([Object(p.X)("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),qo([Object(p.X)("eFilterIcon")],t.prototype,"eFilterIcon",void 0),qo([Object(p.X)("eExpand")],t.prototype,"eExpand",void 0),qo([Object(p.k)("filterManager")],t.prototype,"filterManager",void 0),qo([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),qo([p.S],t.prototype,"postConstruct",null),t}(p.v),Jo=(Uo=function(e,t){return(Uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Uo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Qo=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Zo=function(e){function t(t,n,o,r,i){var a=e.call(this)||this;return a.columnGroup=t,a.childFilterComps=n,a.depth=r,a.expandedCallback=o,a.showingColumn=i,a}return Jo(t,e),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),p.mb.addCssClass(this.filterGroupComp.getGui(),"ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(t){e.filterGroupComp.addItem(t),t.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")}),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var t=function(){var t=e.columnGroup.getColDef().headerTooltip;e.setTooltip(t)};t(),this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,t)}},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="filterToolPanelColumnGroup",t},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(){this.childFilterComps.forEach(function(e){e instanceof t?e.refreshFilters():e.refreshFilter()})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof p.P},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,t){this.filterGroupComp.hideItem(e,t)},t.prototype.hideGroup=function(e){p.mb.addOrRemoveCssClass(this.getGui(),"ag-hidden",e)},t.prototype.forEachToolPanelFilterChild=function(e){p.mb.forEach(this.childFilterComps,function(t){t instanceof Yo&&e(t)})},t.prototype.addExpandCollapseListeners=function(){var e=this,t=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(e){return e.expand()})},n=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(e){return e.collapse()})};this.addManagedListener(this.filterGroupComp,p.e.EVENT_EXPANDED,t),this.addManagedListener(this.filterGroupComp,p.e.EVENT_COLLAPSED,n)},t.prototype.addFilterChangedListeners=function(){var e=this;if(this.columnGroup instanceof p.P){var t=this.columnGroup;t.getLeafColumns().forEach(function(n){e.addManagedListener(n,p.t.EVENT_FILTER_CHANGED,function(){p.mb.addOrRemoveCssClass(e.filterGroupComp.getGui(),"ag-has-filter",t.getLeafColumns().some(function(e){return e.isFilterActive()}))})})}else{var n=this.columnGroup;this.addManagedListener(this.eventService,p.C.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addManagedListener(n,p.t.EVENT_FILTER_CHANGED,function(){p.mb.addOrRemoveCssClass(e.filterGroupComp.getGui(),"ag-has-filter",n.isFilterActive())})}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof p.P?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForOriginalColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),p.mb.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',Qo([Object(p.X)("filterGroupComp")],t.prototype,"filterGroupComp",void 0),Qo([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Qo([p.T],t.prototype,"preConstruct",null),Qo([p.S],t.prototype,"init",null),t}(p.v),$o=(zo=function(e,t){return(zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}zo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),er=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},tr=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.initialised=!1,n.filterGroupComps=[],n}return $o(t,e),t.prototype.init=function(e){var t=this;this.initialised=!0;var n={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};p.mb.mergeDeep(n,e),this.params=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_MOVED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,p.C.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(e){"filters"===e.source&&t.refreshFilters()}),this.columnModel.isReady()&&this.onColumnsChanged()},t.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var t=this.columnModel.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(t,0);var n=this.filterGroupComps.length;n&&(this.filterGroupComps.forEach(function(t){return e.appendChild(t)}),this.setFirstAndLastVisible(0,n-1)),p.mb.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.setFiltersLayout=function(e){var t=this;this.destroyFilters();var n=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(n,0);var o=this.filterGroupComps.length;o&&(this.filterGroupComps.forEach(function(e){return t.appendChild(e)}),this.setFirstAndLastVisible(0,o-1)),p.mb.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.recursivelyAddComps=function(e,t){var n=this;return p.mb.flatten(e.map(function(e){if(e instanceof p.P)return p.mb.flatten(n.recursivelyAddFilterGroupComps(e,t));var o=e;if(!n.shouldDisplayFilter(o))return[];var r=new Yo(0===t);if(n.getContext().createBean(r),r.setColumn(o),t>0)return r;var i=n.createBean(new Zo(o,[r],n.onGroupExpanded.bind(n),t,!0));return i.addCssClassToTitleBar("ag-filter-toolpanel-header"),i.collapse(),i}))},t.prototype.recursivelyAddFilterGroupComps=function(e,t){if(this.filtersExistInChildren(e.getChildren())){var n=e.getColGroupDef();if(n&&n.suppressFiltersToolPanel)return[];var o=e.isPadding()?t:t+1,r=p.mb.flatten(this.recursivelyAddComps(e.getChildren(),o));if(e.isPadding())return r;var i=new Zo(e,r,this.onGroupExpanded.bind(this),t,!1);return this.getContext().createBean(i),i.addCssClassToTitleBar("ag-filter-toolpanel-header"),[i]}},t.prototype.filtersExistInChildren=function(e){var t=this;return e.some(function(e){return e instanceof p.P?t.filtersExistInChildren(e.getChildren()):t.shouldDisplayFilter(e)})},t.prototype.shouldDisplayFilter=function(e){var t=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!t},t.prototype.refresh=function(){},t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,t){var n=[];if(this.filterGroupComps.forEach(function o(r){var i=r.getFilterGroupId();(!t||p.mb.includes(t,i))&&(e&&r.isColumnGroup()?r.expand():r.collapse(),n.push(i)),r.getChildren().forEach(function(e){e instanceof Zo&&o(e)})}),this.onGroupExpanded(),t){var o=t.filter(function(e){return n.indexOf(e)<0});o.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",o)}},t.prototype.expandFilters=function(e,t){var n=[];if(this.filterGroupComps.forEach(function o(r){if(r instanceof Zo){var i=!1;return r.getChildren().forEach(function(t){o(t)&&(e?(r.expand(),i=!0):r.isColumnGroup()||r.collapse())}),i}var a=r.getColumn().getColId(),s=!t||p.mb.includes(t,a);return s&&(e?r.expand():r.collapse(),n.push(a)),s}),this.onGroupExpanded(),t){var o=t.filter(function(e){return n.indexOf(e)<0});o.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",o)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.fireExpandedEvent=function(){var e=0,t=0;this.filterGroupComps.forEach(function n(o){o.isColumnGroup()&&(o.isExpanded()?e++:t++,o.getChildren().forEach(function(e){e instanceof Zo&&n(e)}))}),this.dispatchEvent({type:"groupExpanded",state:e>0&&t>0?pt.INDETERMINATE:t>0?pt.COLLAPSED:pt.EXPANDED})},t.prototype.performFilterSearch=function(e){this.searchFilterText=p.mb.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var t,n,o=function(t){return!p.mb.exists(e)||-1!==t.toLowerCase().indexOf(e)};this.filterGroupComps.forEach(function(e,r){(function e(t,n){if(!(t instanceof Zo))return o(t.getColumnFilterName()||"");var r=t.getChildren(),i=o(t.getFilterGroupName()),a=n||i;if(a){t.hideGroup(!1);for(var s=0;s<r.length;s++)e(r[s],a),t.hideGroupItem(!1,s);return!0}var l=!1;return r.forEach(function(o,r){var i=e(o,n);t.hideGroupItem(!i,r),i&&(l=!0)}),t.hideGroup(!l),l})(e,!1),void 0===t?p.mb.containsClass(e.getGui(),"ag-hidden")||(t=r,n=r):p.mb.containsClass(e.getGui(),"ag-hidden")||n===r||(n=r)}),this.setFirstAndLastVisible(t,n)},t.prototype.setFirstAndLastVisible=function(e,t){this.filterGroupComps.forEach(function(n,o){p.mb.removeCssClass(n.getGui(),"ag-first-group-visible"),p.mb.removeCssClass(n.getGui(),"ag-last-group-visible"),o===e&&p.mb.addCssClass(n.getGui(),"ag-first-group-visible"),o===t&&p.mb.addCssClass(n.getGui(),"ag-last-group-visible")})},t.prototype.refreshFilters=function(){this.filterGroupComps.forEach(function(e){return e.refreshFilters()})},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),p.mb.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',er([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),er([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),er([Object(p.k)("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),er([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),t}(p.v),nr=(Wo=function(e,t){return(Wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Wo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),or=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},rr=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.initialised=!1,n.listenerDestroyFuncs=[],n}return nr(t,e),t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(e){return e()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var t={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};p.mb.mergeDeep(t,e),this.params=t,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(){this.init(this.params)},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',or([Object(p.X)("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),or([Object(p.X)("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),or([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),or([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),t}(p.v),ir={moduleName:p.L.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:Ko},{componentName:"AgFiltersToolPanelList",componentClass:tr}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:rr}],dependantModules:[vn,ee]},ar=(Bo=function(e,t){return(Bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Bo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),sr=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},lr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ar(t,e),t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("ag-grid: crossing filtering with row grouping is not supported."),{data:[],columnNames:{}};if(!this.gridOptionsWrapper.isRowModelDefault())return console.warn("ag-grid: crossing filtering is only supported in the client side row model."),{data:[],columnNames:{}}}this.gridOptionsWrapper.isRowModelServerSide()&&e.pivoting&&this.updatePivotKeysForSSRM();var t=this.extractRowsFromGridRowModel(e);return t.data=this.aggregateRowsByDimension(e,t.data),t},t.prototype.extractRowsFromGridRowModel=function(e){var n,o=this,r=[],i={},a={},s={},l={},u=[];if(e.crossFiltering)l=this.getFilteredRowNodes(),n=(u=this.getAllRowNodes()).length;else{var c=this.gridRowModel.getRowCount()-1;n=(e.endRow>=0?Math.min(e.endRow,c):c)-e.startRow+1}for(var d=function(n){var c={},p=e.crossFiltering?u[n]:h.gridRowModel.getRow(n+e.startRow);e.dimensionCols.forEach(function(r){var i=r.colId,l=o.columnModel.getGridColumn(i);if(l){var u=o.valueService.getValue(l,p);if(e.grouping){var d=u&&u.toString?String(u.toString()):"",h=t.getGroupLabels(p,d);c[i]={labels:h,toString:function(){return this.labels.filter(function(e){return!!e}).reverse().join(" - ")}},p.group&&(a[h.toString()]=n);var f=h.slice(1,h.length).toString();f&&(s[f]=a[f])}else c[i]=u}else c[dr.DEFAULT_CATEGORY]=n+1}),e.valueCols.forEach(function(t){var n=[],r=t.getColDef().pivotKeys;r&&(n=r.slice());var a=t.getColDef().headerName;a&&n.push(a),n.length>0&&(i[t.getId()]=n);var s=t.getColId();if(e.crossFiltering){var u=s+"-filtered-out",d=null!=(h=o.valueService.getValue(t,p))&&"function"==typeof h.toNumber?h.toNumber():h;l[p.id]?(c[s]=d,c[u]=e.aggFunc||e.isScatter?void 0:0):(c[s]=e.aggFunc||e.isScatter?void 0:0,c[u]=d)}else{var h=o.valueService.getValue(t,p);c[s]=null!=h&&"function"==typeof h.toNumber?h.toNumber():h}}),r.push(c)},h=this,f=0;f<n;f++)d(f);if(e.grouping){var g=p.mb.values(s);r=r.filter(function(e,t){return!p.mb.includes(g,t)})}return{data:r,columnNames:i}},t.prototype.aggregateRowsByDimension=function(e,t){var n=this,o=e.dimensionCols;if(!e.aggFunc||0===o.length)return t;var r=p.mb.last(o),i=r&&r.colId,a={},s=[];return t.forEach(function(e){var t=a;o.forEach(function(n){var r=n.colId,a=e[r];if(r===i){var l=t[a];l||(l={__children:[]},o.forEach(function(t){var n=t.colId;l[n]=e[n]}),t[a]=l,s.push(l)),l.__children.push(e)}else t[a]||(t[a]={}),t=t[a]})}),p.M.assertRegistered(p.L.RowGroupingModule,"Charting Aggregation")&&s.forEach(function(t){return e.valueCols.forEach(function(o){if(e.crossFiltering)e.valueCols.forEach(function(o){var r=t.__children.filter(function(e){return void 0!==e[o.getColId()]}).map(function(e){return e[o.getColId()]}),i=n.aggregationStage.aggregateValues(r,e.aggFunc);t[o.getId()]=i&&void 0!==i.value?i.value:i;var a=o.getId()+"-filtered-out",s=t.__children.filter(function(e){return void 0!==e[a]}).map(function(e){return e[a]}),l=n.aggregationStage.aggregateValues(s,e.aggFunc);t[a]=l&&void 0!==l.value?l.value:l});else{var r=t.__children.map(function(e){return e[o.getId()]}),i=0;p.M.assertRegistered(p.L.RowGroupingModule,"Charting Aggregation")&&(i=n.aggregationStage.aggregateValues(r,e.aggFunc)),t[o.getId()]=i&&void 0!==i.value?i.value:i}})}),s},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var t=this.extractPivotKeySeparator(e);e.forEach(function(e){var n=e.getColId().split(t);e.getColDef().pivotKeys=n.slice(0,n.length-1)})}},t.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var t=e[0];return function e(t,n){var o=t.getGroupId();return t.getParent()?e(t.getParent(),o):n.split(o)[1][0]}(t.getParent(),t.getColId())},t.getGroupLabels=function(e,t){for(var n=[t];e&&0!==e.level;)(e=e.parent)&&n.push(e.key);return n},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(t){e[t.id]=t}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(t){e.push(t)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var t=this.sortController.getSortOptions();return t&&0!=t.length?this.rowNodeSorter.doFullSort(e,t):e},sr([Object(p.k)("rowModel")],t.prototype,"gridRowModel",void 0),sr([Object(p.k)("valueService")],t.prototype,"valueService",void 0),sr([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),sr([Object(p.k)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),sr([Object(p.k)("sortController")],t.prototype,"sortController",void 0),sr([Object(p.O)("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(p.n),ur=(Vo=function(e,t){return(Vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Vo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),cr=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pr=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},dr=function(e){function t(t){var n=e.call(this)||this;return n.dimensionColState=[],n.valueColState=[],n.unlinked=!1,n.grouping=!1,n.crossFiltering=!1,n.columnNames={},n.pivotChart=t.pivotChart,n.chartType=t.chartType,n.chartThemeName=t.chartThemeName,n.aggFunc=t.aggFunc,n.referenceCellRange=t.cellRange,n.suppliedCellRange=t.cellRange,n.suppressChartRanges=t.suppressChartRanges,n.unlinked=!!t.unlinkChart,n.crossFiltering=!!t.crossFiltering,n.chartId=n.generateId(),n}return ur(t,e),t.prototype.init=function(){this.datasource=this.createManagedBean(new lr),this.updateCellRanges()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var t=this.getAllChartColumns(),n=t.dimensionCols,o=t.valueCols,r=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(n,r,e),this.setValueCellRange(o,r,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateData()},t.prototype.getData=function(){return this.chartData},t.prototype.isGroupActive=function(){var e=this.gridOptionsWrapper.isTreeData(),t=e?null:this.columnModel.getRowGroupColumns();return e||t&&t.length>0},t.prototype.isGrouping=function(){var e=this.getSelectedDimension().colId,t=this.columnModel.getGroupDisplayColumns().map(function(e){return e.getColId()}).some(function(t){return t===e});return!!this.isGroupActive()&&t},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotChart=function(){return this.pivotChart},t.prototype.getChartId=function(){return this.chartId},t.prototype.getValueColState=function(){return this.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getDimensionColState=function(){return this.dimensionColState},t.prototype.getCellRanges=function(){return[this.dimensionCellRange,this.valueCellRange].filter(function(e){return e})},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),t=e[0],n=t&&t.startRow||null,o=t&&t.endRow||null;return{rowStartIndex:n&&n.rowIndex,rowStartPinned:n&&n.rowPinned,rowEndIndex:o&&o.rowIndex,rowEndPinned:o&&o.rowPinned,columns:e.reduce(function(e,t){return e.concat(t.columns.map(function(e){return e.getId()}))},[])}},t.prototype.setChartType=function(e){this.chartType=e},t.prototype.getChartType=function(){return this.chartType},t.prototype.setChartThemeName=function(e){this.chartThemeName=e},t.prototype.getChartThemeName=function(){return this.chartThemeName},t.prototype.isSuppressChartRanges=function(){return this.suppressChartRanges},t.prototype.isUnlinked=function(){return this.unlinked},t.prototype.toggleUnlinked=function(){this.unlinked=!this.unlinked},t.prototype.getAggFunc=function(){return this.aggFunc},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(e){return e.selected})[0]},t.prototype.createCellRange=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:t,startColumn:e===p.o.DIMENSION?t[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return p.mb.convertToSet(this.columnModel.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,this.dimensionCellRange.columns),this.valueCellRange&&e.push.apply(e,this.valueCellRange.columns),p.mb.convertToSet(e)},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.getRowIndexes=function(){var e=0,t=0,n=this.rangeService,o=this.valueCellRange;return n&&o&&(e=n.getRangeStartRow(o).rowIndex,t=n.getRangeEndRow(o).rowIndex),{startRow:e,endRow:t}},t.prototype.getAllChartColumns=function(){var e=this,t=this.columnModel.getAllDisplayedColumns(),n=new Set,o=new Set;return t.forEach(function(t){var r=t.getColDef(),i=r.chartDataType;if(i)switch(i){case"category":case"time":return void n.add(t);case"series":return void o.add(t);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+i+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==r.colId?t.isPrimary()?(e.isNumberCol(t)?o:n).add(t):o.add(t):n.add(t)}),{dimensionCols:n,valueCols:o}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var t=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!t)return!1;var n=this.valueService.getValue(e,t);return null==n&&(n=this.extractLeafData(t,e)),null!=n&&"function"==typeof n.toNumber&&(n=n.toNumber()),"number"==typeof n},t.prototype.extractLeafData=function(e,t){if(!e.allLeafChildren)return null;for(var n=0;n<e.allLeafChildren.length;n++){var o=this.valueService.getValue(t,e.allLeafChildren[n]);if(null!=o)return o}return null},t.prototype.displayNameMapper=function(e){var t=this.columnNames[e.colId];return e.displayName=t?t.join(" - "):this.getColDisplayName(e.column),e},t.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},t.prototype.updateData=function(){var e=this.getRowIndexes(),t=e.startRow,n=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var o={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:t,endRow:n,isScatter:p.mb.includes([p.q.Scatter,p.q.Bubble],this.chartType)},r=this.datasource.getData(o);this.chartData=r.data,this.columnNames=r.columnNames},t.prototype.resetColumnState=function(){var e=this,n=this.getAllChartColumns(),o=n.dimensionCols,r=n.valueCols,i=this.getAllColumnsFromRanges(),a=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var s=!1,l=1,u=this.suppliedCellRange.columns[0];o.forEach(function(t){var n="ag-Grid-AutoColumn"===t.getColId(),o=!1;e.crossFiltering&&e.aggFunc?u.getColId()===t.getColId()&&(o=!0):o=!!n||!s&&i.has(t),e.dimensionColState.push({column:t,colId:t.getColId(),displayName:e.getColDisplayName(t),selected:o,order:l++}),o&&(s=!0)});var c={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslator.translate("defaultCategory"),selected:!s,order:0};this.dimensionColState.unshift(c);var d=this.referenceCellRange.columns.filter(function(e){return r.has(e)});r.forEach(function(t){a&&p.mb.includes(e.referenceCellRange.columns,t)&&(t=d.shift()),e.valueColState.push({column:t,colId:t.getColId(),displayName:e.getColDisplayName(t),selected:i.has(t),order:l++})})},t.prototype.updateColumnState=function(e){var t=function(t){return t.colId===e.colId},n=this.dimensionColState,o=this.valueColState;n.filter(t).length>0?n.forEach(function(e){return e.selected=t(e)}):o.filter(t).forEach(function(t){return t.selected=e.selected});var r=pr(n,o),i=[];r.forEach(function(t,n){n===e.order&&i.push(e.colId),t.colId!==e.colId&&i.push(t.colId)}),r.forEach(function(e){var t=i.indexOf(e.colId);e.order=t>=0?i.indexOf(e.colId):r.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=this.valueColState;this.dimensionColState.sort(function(e,t){return e.order-t.order}),e.sort(function(e,t){return e.order-t.order})},t.prototype.setDimensionCellRange=function(e,n,o){var r=this;if(this.dimensionCellRange=void 0,o||this.dimensionColState.length){var i=o;if(this.crossFiltering&&this.aggFunc){var a=this.suppliedCellRange.columns[0];i=this.dimensionColState.filter(function(e){return e.colId===a.getColId()})[0]}else i&&e.has(i.column)||(i=this.dimensionColState.filter(function(e){return e.selected})[0]);i&&i.colId!==t.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(p.o.DIMENSION,i.column))}else e.forEach(function(e){!r.dimensionCellRange&&n.has(e)&&(r.dimensionCellRange=r.createCellRange(p.o.DIMENSION,e))})},t.prototype.setValueCellRange=function(e,t,n){this.valueCellRange=void 0;var o=[];if(e.forEach(function(e){n&&n.colId===e.getColId()?n.selected&&o.push(n.column):t.has(e)&&o.push(e)}),o.length>0){var r=[];this.valueColState.length>0?r=this.valueColState.map(function(e){return e.colId}):t.forEach(function(e){return r.push(e.getColId())}),o.sort(function(e,t){return r.indexOf(e.getColId())-r.indexOf(t.getColId())}),this.valueCellRange=this.createCellRange.apply(this,pr([p.o.VALUE],o))}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(p.o.DIMENSION,e.column))},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",cr([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),cr([Object(p.k)("valueService")],t.prototype,"valueService",void 0),cr([Object(p.k)("rangeService")],t.prototype,"rangeService",void 0),cr([Object(p.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),cr([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),cr([p.S],t.prototype,"init",null),t}(p.n),hr=function(){function e(e,t,n,o){void 0===e&&(e=0),void 0===t&&(t=e),void 0===n&&(n=e),void 0===o&&(o=t),this.top=e,this.right=t,this.bottom=n,this.left=o}return e.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},e}(),fr=function(){function e(e,t,n,o){this.x=e,this.y=t,this.width=n,this.height=o}return e.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.dilate=function(e){this.x-=e,this.y-=e,this.width+=2*e,this.height+=2*e},e.prototype.containsPoint=function(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height},e.prototype.render=function(t,n){void 0===n&&(n=e.noParams),t.save(),n.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=n.strokeStyle||"cyan",t.lineWidth=n.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),n.label&&(t.fillStyle=n.fillStyle||"black",t.textBaseline="bottom",t.fillText(n.label,this.x,this.y)),t.restore()},e.noParams={},e}(),gr=function(){function e(e){void 0===e&&(e=[1,0,0,1,0,0]),this.elements=e}return e.prototype.setElements=function(e){var t=this.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this},e.prototype.setIdentityElements=function(){var e=this.elements;return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this},Object.defineProperty(e.prototype,"identity",{get:function(){var e=this.elements;return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.elements[0]},set:function(e){this.elements[0]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.elements[1]},set:function(e){this.elements[1]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c",{get:function(){return this.elements[2]},set:function(e){this.elements[2]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"d",{get:function(){return this.elements[3]},set:function(e){this.elements[3]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"e",{get:function(){return this.elements[4]},set:function(e){this.elements[4]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f",{get:function(){return this.elements[5]},set:function(e){this.elements[5]=e},enumerable:!0,configurable:!0}),e.prototype.AxB=function(e,t,n){var o=e[0],r=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=t[0],c=t[1],p=t[2],d=t[3],h=t[4],f=t[5];(n=n||e)[0]=o*u+i*c,n[1]=r*u+a*c,n[2]=o*p+i*d,n[3]=r*p+a*d,n[4]=o*h+i*f+s,n[5]=r*h+a*f+l},e.prototype.multiplySelf=function(e){return this.AxB(this.elements,e.elements),this},e.prototype.multiply=function(t){var n=new Array(6);return this.AxB(this.elements,t.elements,n),new e(n)},e.prototype.preMultiplySelf=function(e){return this.AxB(e.elements,this.elements,this.elements),this},e.prototype.inverse=function(){var t=this.elements,n=t[0],o=t[1],r=t[2],i=t[3],a=t[4],s=t[5],l=1/(n*i-o*r);return new e([i*=l,-(o*=l),-(r*=l),n*=l,r*s-i*a,o*a-n*s])},e.prototype.inverseTo=function(e){var t=this.elements,n=t[0],o=t[1],r=t[2],i=t[3],a=t[4],s=t[5],l=1/(n*i-o*r);return e.setElements([i*=l,-(o*=l),-(r*=l),n*=l,r*s-i*a,o*a-n*s]),this},e.prototype.invertSelf=function(){var e=this.elements,t=e[0],n=e[1],o=e[2],r=e[3],i=e[4],a=e[5],s=1/(t*r-n*o);return t*=s,n*=s,o*=s,e[0]=r*=s,e[1]=-n,e[2]=-o,e[3]=t,e[4]=o*a-r*i,e[5]=n*i-t*a,this},e.prototype.clone=function(){return new e(this.elements.slice())},e.prototype.transformPoint=function(e,t){var n=this.elements;return{x:e*n[0]+t*n[2]+n[4],y:e*n[1]+t*n[3]+n[5]}},e.prototype.transformBBox=function(e,t,n){void 0===t&&(t=0);var o,r,i=this.elements,a=i[0],s=i[1],l=i[2],u=i[3],c=.5*e.width,p=.5*e.height,d=e.x+c,h=e.y+p;if(t){c-=t,p-=t;var f=Math.sqrt(a*a+l*l),g=Math.sqrt(s*s+u*u);o=Math.abs(c*a)+Math.abs(p*l)+Math.abs(f*t),r=Math.abs(c*s)+Math.abs(p*u)+Math.abs(g*t)}else o=Math.abs(c*a)+Math.abs(p*l),r=Math.abs(c*s)+Math.abs(p*u);return n||(n=new fr(0,0,0,0)),n.x=d*a+h*l+i[4]-o,n.y=d*s+h*u+i[5]-r,n.width=o+o,n.height=r+r,n},e.prototype.toContext=function(e){if(!this.identity){var t=this.elements;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}},e.flyweight=function(t){return t?e.matrix.setElements(t instanceof e?t.elements:t):e.matrix.setIdentityElements(),e.matrix},e.matrix=new e,e}();function mr(e){var t=e.constructor,n=t.className;if(!n)throw new Error("The "+t+" is missing the 'className' property.");return n+"-"+(t.id=(t.id||0)+1)}!function(e){e[e.All=0]="All",e[e.None=1]="None"}(Go||(Go={}));var yr=function(){function e(){this.id=mr(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new gr,this.inverseMatrix=new gr,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=Go.All}return e.isNode=function(e){return!!e&&void 0!==e.matrix},e.prototype._setScene=function(e){this._scene=e;for(var t=this.children,n=t.length,o=0;o<n;o++)t[o]._setScene(e)},Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),e.prototype._setParent=function(e){this._parent=e},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.countChildren=function(t){if(void 0===t&&(t=e.MAX_SAFE_INTEGER),t<=0)return 0;for(var n=this.children,o=n.length,r=o,i=0;i<o;i++)r+=n[i].countChildren(t-1);return r},e.prototype.append=function(t){e.isNode(t)&&(t=[t]);for(var n=t.length,o=0;o<n;o++){var r=t[o];if(r.parent)throw new Error(r+" already belongs to another parent: "+r.parent+".");if(r.scene)throw new Error(r+" already belongs a scene: "+r.scene+".");if(this.childSet[r.id])throw new Error("Duplicate "+r.constructor.name+" node: "+r);this._children.push(r),this.childSet[r.id]=!0,r._setParent(this),r._setScene(this.scene)}this.dirty=!0},e.prototype.appendChild=function(e){if(e.parent)throw new Error(e+" already belongs to another parent: "+e.parent+".");if(e.scene)throw new Error(e+" already belongs to a scene: "+e.scene+".");if(this.childSet[e.id])throw new Error("Duplicate "+e.constructor.name+" node: "+e);return this._children.push(e),this.childSet[e.id]=!0,e._setParent(this),e._setScene(this.scene),this.dirty=!0,e},e.prototype.removeChild=function(e){if(e.parent===this){var t=this.children.indexOf(e);if(t>=0)return this._children.splice(t,1),delete this.childSet[e.id],e._setParent(),e._setScene(),this.dirty=!0,e}throw new Error("The node to be removed is not a child of this node.")},e.prototype.insertBefore=function(e,t){var n=e.parent;if(e.parent&&e.parent.removeChild(e),t&&t.parent===this){var o=this.children.indexOf(t);if(!(o>=0))throw new Error(t+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(o,0,e),this.childSet[e.id]=!0,e._setParent(this),e._setScene(this.scene),this.dirty=!0}else this.append(e);return e},Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e=this.parent;if(e){var t=e.children,n=t.indexOf(this);if(n>=0&&n<=t.length-1)return t[n+1]}},enumerable:!0,configurable:!0}),e.prototype.transformPoint=function(e,t){for(var n=gr.flyweight(this.matrix),o=this.parent;o;)n.preMultiplySelf(o.matrix),o=o.parent;return n.invertSelf().transformPoint(e,t)},e.prototype.inverseTransformPoint=function(e,t){for(var n=gr.flyweight(this.matrix),o=this.parent;o;)n.preMultiplySelf(o.matrix),o=o.parent;return n.transformPoint(e,t)},Object.defineProperty(e.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(e){this._dirtyTransform=e,e&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingX",{get:function(){return this._scalingX},set:function(e){this._scalingX!==e&&(this._scalingX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingY",{get:function(){return this._scalingY},set:function(e){this._scalingY!==e&&(this._scalingY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(e){this._scalingCenterX!==e&&(this._scalingCenterX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(e){this._scalingCenterY!==e&&(this._scalingCenterY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(e){this._rotationCenterX!==e&&(this._rotationCenterX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(e){this._rotationCenterY!==e&&(this._rotationCenterY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(e){this.rotation=e/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translationX",{get:function(){return this._translationX},set:function(e){this._translationX!==e&&(this._translationX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translationY",{get:function(){return this._translationY},set:function(e){this._translationY!==e&&(this._translationY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),e.prototype.containsPoint=function(e,t){return!1},e.prototype.pickNode=function(e,t){if(this.visible&&this.pointerEvents!==Go.None&&this.containsPoint(e,t)){var n=this.children;if(n.length)for(var o=n.length-1;o>=0;o--){var r=n[o].pickNode(e,t);if(r)return r}else if(!this.isContainerNode)return this}},e.prototype.computeBBox=function(){},e.prototype.computeBBoxCenter=function(){var e=this.computeBBox&&this.computeBBox();return e?[e.x+.5*e.width,e.y+.5*e.height]:[0,0]},e.prototype.computeTransformMatrix=function(){var e,t,n=[0,0],o=n[0],r=n[1],i=this.scalingX,a=this.scalingY;1===i&&1===a?(e=0,t=0):(e=null===this.scalingCenterX?o:this.scalingCenterX,t=null===this.scalingCenterY?r:this.scalingCenterY);var s,l,u=this.rotation,c=Math.cos(u),p=Math.sin(u);0===u?(s=0,l=0):(s=null===this.rotationCenterX?o:this.rotationCenterX,l=null===this.rotationCenterY?r:this.rotationCenterY);var d=this.translationX,h=this.translationY,f=e*(1-i)-s,g=t*(1-a)-l;this.dirtyTransform=!1,this.matrix.setElements([c*i,p*i,-p*a,c*a,c*f-p*g+s+d,p*f+c*g+l+h]).inverseTo(this.inverseMatrix)},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},set:function(e){this._dirty=e,e&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,this.dirty=!0)},enumerable:!0,configurable:!0}),e.MAX_SAFE_INTEGER=Math.pow(2,53)-1,e}();function vr(e,t){var n=Object.create(e);for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);return n}function br(e,t,n){var o=Array.isArray(t)?t:t.split("."),r=e;try{o.forEach(function(e){r=r[e]})}catch(i){if(3!==arguments.length)throw i;r=n}return r}function Cr(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Pr(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function wr(e,t,n){return e.concat(t).map(function(e){return Cr(e,n)})}function Or(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function xr(e,t){try{return t in e}catch(n){return!1}}function Sr(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t}(e)}function Pr(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||wr,n.isMergeableObject=n.isMergeableObject||Sr,n.cloneUnlessOtherwiseSpecified=Cr;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):function(e,t,n){var o={};return n.isMergeableObject(e)&&Or(e).forEach(function(t){o[t]=Cr(e[t],n)}),Or(t).forEach(function(r){(function(e,t){return xr(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(o[r]=xr(e,r)&&n.isMergeableObject(t[r])?function(e,t){if(!t.customMerge)return Pr;var n=t.customMerge(e);return"function"==typeof n?n:Pr}(r,n)(e[r],t[r],n):Cr(t[r],n))}),o}(e,t,n):Cr(t,n)}function _r(e){return"object"==typeof e&&!Array.isArray(e)}var Er,Tr,Ar=(Tr=function(e,t){return(Tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Tr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Mr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.lastInstanceId=0,n._fillOpacity=1,n._strokeOpacity=1,n._fill=t.defaultStyles.fill,n._stroke=t.defaultStyles.stroke,n._strokeWidth=t.defaultStyles.strokeWidth,n._lineDash=t.defaultStyles.lineDash,n._lineDashOffset=t.defaultStyles.lineDashOffset,n._lineCap=t.defaultStyles.lineCap,n._lineJoin=t.defaultStyles.lineJoin,n._opacity=t.defaultStyles.opacity,n.onShadowChange=function(){n.dirty=!0},n._fillShadow=t.defaultStyles.fillShadow,n._strokeShadow=t.defaultStyles.strokeShadow,n}return Ar(t,e),t.createInstance=function(e){var t=Object.create(e);return t._setParent(void 0),t.id=e.id+"-Instance-"+String(++e.lastInstanceId),t},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,t=Object.getOwnPropertyNames(e),n=0,o=t.length;n<o;n++){var r=t[n];this[r]=e[r]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var t in e)this[t]=e[t]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,t=Object.getPrototypeOf(e);for(var n in e)e.hasOwnProperty(n)&&t.hasOwnProperty(n)&&(this[n]=e[n])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,t,n){return null!=n?Math.floor(n)+Math.floor(t%1+n%1):Math.floor(t)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var t=this._lineDash;if(t!==e){if(t&&e&&t.length===e.length){for(var n=!0,o=e.length,r=0;r<o;r++)if(t[r]!==e[r]){n=!1;break}if(n)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var t=this._fillShadow;t!==e&&(t&&t.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var t=this._strokeShadow;t!==e&&(t&&t.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var t=this.scene.canvas.pixelRatio||1,n=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=n*this.opacity*this.fillOpacity;var o=this.fillShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*t,e.shadowOffsetY=o.yOffset*t,e.shadowBlur=o.blur*t),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=n*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var r=this.strokeShadow;r&&r.enabled&&(e.shadowColor=r.color,e.shadowOffsetX=r.xOffset*t,e.shadowOffsetY=r.yOffset*t,e.shadowBlur=r.blur*t),e.stroke()}}},t.prototype.containsPoint=function(e,t){return this.isPointInPath(e,t)},t.defaultStyles=vr({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(yr),Dr=function(){function e(e,t,n){void 0===e&&(e=window.document),void 0===t&&(t=600),void 0===n&&(n=300),this._container=void 0,this._pixelRatio=NaN,this.document=e,this.element=e.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(t,n)}return Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(e){this._container!==e&&(this.remove(),e&&e.appendChild(this.element),this._container=e)},enumerable:!0,configurable:!0}),e.prototype.remove=function(){var e=this.element.parentNode;null!=e&&e.removeChild(this.element)},e.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},e.prototype.toImage=function(){var e=this.document.createElement("img");return e.src=this.getDataURL(),e},e.prototype.getDataURL=function(e){return this.element.toDataURL(e)},e.prototype.download=function(e){e=((e||"").trim()||"image")+".png";var t=this.getDataURL("image/png"),n=this.document;if(navigator.msSaveOrOpenBlob){for(var o=atob(t.split(",")[1]),r=[],i=0,a=o.length;i<a;i++)r.push(o.charCodeAt(i));var s=new Blob([new Uint8Array(r)],{type:"image/png"});navigator.msSaveOrOpenBlob(s,e)}else{var l=n.createElement("a");l.href=t,l.download=e,l.style.display="none",n.body.appendChild(l),l.click(),n.body.removeChild(l)}},Object.defineProperty(e.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),e.prototype.setPixelRatio=function(t){var n=t||window.devicePixelRatio;n!==this.pixelRatio&&(e.overrideScale(this.context,n),this._pixelRatio=n,this.resize(this.width,this.height))},Object.defineProperty(e.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(e){this.element.style.imageRendering=e?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){if(e>0&&t>0){var n=this.element,o=this.context,r=this.pixelRatio;n.width=Math.round(e*r),n.height=Math.round(t*r),n.style.width=e+"px",n.style.height=t+"px",o.resetTransform(),this._width=e,this._height=t}},Object.defineProperty(e,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var e=document.createElement("canvas");return this._textMeasuringContext=e.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"svgText",{get:function(){if(this._svgText)return this._svgText;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");t.setAttribute("width","100"),t.setAttribute("height","100"),t.classList?t.classList.add("text-measuring-svg"):t.setAttribute("class","text-measuring-svg"),t.style.position="absolute",t.style.top="-1000px",t.style.visibility="hidden";var n=document.createElementNS(e,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),t.appendChild(n),document.body.appendChild(t),this._svgText=n,n},enumerable:!0,configurable:!0}),Object.defineProperty(e,"has",{get:function(){if(this._has)return this._has;var e=navigator.userAgent.indexOf("Chrome")>-1,t=navigator.userAgent.indexOf("Firefox")>-1,n=!e&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!t&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),e.measureText=function(e,t,n,o){var r=this.textMeasuringContext;return r.font=t,r.textBaseline=n,r.textAlign=o,r.measureText(e)},e.getTextSize=function(e,t){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=t;var o=n.measureText(e);return{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent}}return this.measureSvgText(e,t)},e.measureSvgText=function(e,t){var n=this.textSizeCache,o=n[t];if(o){var r=o[e];if(r)return r}else n[t]={};var i=this.svgText;i.style.font=t,i.textContent=e;var a=i.getBBox(),s={width:a.width,height:a.height};return n[t][e]=s,s},e.overrideScale=function(e,t){var n=0,o={save:function(){this.$save(),n++},restore:function(){n>0&&(this.$restore(),n--)},setTransform:function(e,n,o,r,i,a){this.$setTransform(e*t,n*t,o*t,r*t,i*t,a*t)},resetTransform:function(){this.$setTransform(t,0,0,t,0,0),this.save(),n=0}};for(var r in o)o.hasOwnProperty(r)&&(e["$"+r]||(e["$"+r]=e[r]),e[r]=o[r])},e.textSizeCache={},e}(),kr=(Er=function(e,t){return(Er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Er(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Rr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._x=0,n._y=0,n.lineBreakRegex=/\r?\n/g,n.lines=[],n._text="",n._dirtyFont=!0,n._fontSize=10,n._fontFamily="sans-serif",n._textAlign=t.defaultStyles.textAlign,n._textBaseline=t.defaultStyles.textBaseline,n._lineHeight=14,n}return kr(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var t=String(e);this._text!==t&&(this._text=t,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=Ir(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Dr.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Dr.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new fr(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Dr.getTextSize(this.text,this.font),t=this.x,n=this.y;switch(this.textAlign){case"end":case"right":t-=e.width;break;case"center":t-=e.width/2}switch(this.textBaseline){case"alphabetic":n-=.7*e.height;break;case"middle":n-=.45*e.height;break;case"ideographic":n-=e.height;break;case"hanging":n-=.2*e.height;break;case"bottom":n-=e.height}return new fr(t,n,e.width,e.height)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t),o=this.computeBBox();return!!o&&o.containsPoint(n.x,n.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this.fill,n=this.stroke,o=this.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var r=this.scene.canvas.pixelRatio||1,i=e.globalAlpha;if(t){e.fillStyle=t,e.globalAlpha=i*this.opacity*this.fillOpacity;var a=this.fillShadow,s=this.text,l=this.x,u=this.y;a&&a.enabled&&(e.shadowColor=a.color,e.shadowOffsetX=a.xOffset*r,e.shadowOffsetY=a.yOffset*r,e.shadowBlur=a.blur*r),e.fillText(s,l,u)}if(n&&o){e.strokeStyle=n,e.lineWidth=o,e.globalAlpha=i*this.opacity*this.strokeOpacity;var c=this,p=c.lineDash,d=c.lineDashOffset,h=c.lineCap,f=c.lineJoin,g=c.strokeShadow;s=c.text,l=c.x,u=c.y,p&&e.setLineDash(p),d&&(e.lineDashOffset=d),h&&(e.lineCap=h),f&&(e.lineJoin=f),g&&g.enabled&&(e.shadowColor=g.color,e.shadowOffsetX=g.xOffset*r,e.shadowOffsetY=g.yOffset*r,e.shadowBlur=g.blur*r),e.strokeText(s,l,u)}this.dirty=!1}},t.className="Text",t.defaultStyles=vr(Mr.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(Mr);function Ir(e,t,n,o){return[n||"",o||"",e+"px",t].join(" ").trim()}var Nr=function(){return(Nr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Fr=function(){function e(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return e.prototype.addPropertyListener=function(e,t,n){void 0===n&&(n=this);var o=this.allPropertyListeners,r=o.get(e);if(r||(r=new Map,o.set(e,r)),!r.has(t)){var i=new Set;r.set(t,i)}var a=r.get(t);a&&a.add(n)},e.prototype.removePropertyListener=function(e,t,n){void 0===n&&(n=this);var o=this.allPropertyListeners.get(e);if(o)if(t){var r=o.get(t);r&&(r.delete(n),r.size||o.delete(t))}else o.clear()},e.prototype.notifyPropertyListeners=function(e,t,n){var o=this,r=this.allPropertyListeners.get(e);r&&r.forEach(function(r,i){r.forEach(function(r){return i.call(r,{type:e,source:o,value:n,oldValue:t})})})},e.prototype.addEventListener=function(e,t,n){void 0===n&&(n=this);var o=this.allEventListeners,r=o.get(e);if(r||(r=new Map,o.set(e,r)),!r.has(t)){var i=new Set;r.set(t,i)}var a=r.get(t);a&&a.add(n)},e.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=this);var o=this.allEventListeners.get(e);if(o)if(t){var r=o.get(t);r&&(r.delete(n),r.size||o.delete(t))}else o.clear()},e.prototype.notifyEventListeners=function(e){var t=this,n=this.allEventListeners;e.forEach(function(e){var o=n.get(e);o&&o.forEach(function(n,o){n.forEach(function(n){return o.call(n,{type:e,source:t})})})})},e.prototype.fireEvent=function(e){var t=this,n=this.allEventListeners.get(e.type);n&&n.forEach(function(n,o){n.forEach(function(n){return o.call(n,Nr(Nr({},e),{source:t}))})})},e.privateKeyPrefix="_",e}();function Lr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.indexOf("debugger"),function(t,n){var o=Fr.privateKeyPrefix+n,r=o+"Events";t[n]||(e&&(t[r]=e),Object.defineProperty(t,n,{set:function(e){var t=this[o];if(e!==t||"object"==typeof e&&null!==e){this[o]=e,this.notifyPropertyListeners(n,t,e);var i=this[r];i&&this.notifyEventListeners(i)}},get:function(){return this[o]},enumerable:!0,configurable:!0}))}}var jr,Gr=(jr=function(e,t){return(jr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}jr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Vr=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Br=function(e){function t(){var t=e.call(this)||this;t.node=new Rr,t.enabled=!1,t.padding=new hr(10);var n=t.node;return n.textAlign="center",n.textBaseline="top",n.pointerEvents=Go.None,t}return Gr(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text!==e&&(this.node.text=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(e){this.node.fontStyle!==e&&(this.node.fontStyle=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(e){this.node.fontWeight!==e&&(this.node.fontWeight=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(e){this.node.fontSize!==e&&(this.node.fontSize=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(e){this.node.fontFamily!==e&&(this.node.fontFamily=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.node.fill},set:function(e){this.node.fill!==e&&(this.node.fill=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Vr([Lr("change")],t.prototype,"enabled",void 0),Vr([Lr("change")],t.prototype,"padding",void 0),t}(Fr),Wr=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},zr=function(){function e(e,t,n,o){void 0===o&&(o=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,o||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var n=e.nameToHex[t];if(n)return e.fromHexString(n);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.fromHexString=function(t){var n=t.match(e.hexRe);if(n)return new e((o=parseInt(n[1],16))/255,(r=parseInt(n[2],16))/255,(i=parseInt(n[3],16))/255,(a=void 0!==n[4]?parseInt(n[4],16):255)/255);if(n=t.match(e.shortHexRe)){var o=parseInt(n[1],16),r=parseInt(n[2],16),i=parseInt(n[3],16),a=void 0!==n[4]?parseInt(n[4],16):15;return new e((o+=16*o)/255,(r+=16*r)/255,(i+=16*i)/255,(a+=16*a)/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.fromRgbaString=function(t){var n=t.match(e.rgbRe);if(n)return new e(+n[1]/255,+n[2]/255,+n[3]/255);if(n=t.match(e.rgbaRe))return new e(+n[1]/255,+n[2]/255,+n[3]/255,+n[4]);throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,n,o,r){void 0===r&&(r=1);var i=e.HSBtoRGB(t,n,o);return new e(i[0],i[1],i[2],r)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*n)/n),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,n){var o=Math.min(e,t,n),r=Math.max(e,t,n),i=NaN;if(o!==r){var a=r-o,s=(r-e)/a,l=(r-t)/a,u=(r-n)/a;i=e===r?u-l:t===r?2+s-u:4+l-s,(i/=6)<0&&(i+=1)}return[360*i,0!==r?(r-o)/r:0,r]},e.HSBtoRGB=function(e,t,n){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var o=0,r=0,i=0;if(0===t)o=r=i=n;else{var a=6*(e-Math.floor(e)),s=a-Math.floor(a),l=n*(1-t),u=n*(1-t*s),c=n*(1-t*(1-s));switch(a>>0){case 0:o=n,r=c,i=l;break;case 1:o=u,r=n,i=l;break;case 2:o=l,r=n,i=c;break;case 3:o=l,r=u,i=n;break;case 4:o=c,r=l,i=n;break;case 5:o=n,r=l,i=u}}return[o,r,i]},e.prototype.derive=function(t,n,o,r){var i=e.RGBtoHSB(this.r,this.g,this.b),a=i[2];0==a&&o>1&&(a=.05);var s=((i[0]+t)%360+360)%360,l=Math.max(Math.min(i[1]*n,1),0);a=Math.max(Math.min(a*o,1),0);var u=Math.max(Math.min(this.a*r,1),0),c=e.HSBtoRGB(s,l,a);return c.push(u),e.fromArray(c)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,e.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,e.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,e.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}(),Ur=function(e,t){if("string"==typeof e)try{e=zr.fromString(e)}catch(a){e=zr.fromArray([0,0,0])}if("string"==typeof t)try{t=zr.fromString(t)}catch(a){t=zr.fromArray([0,0,0])}var n=Wr(e.r,t.r),o=Wr(e.g,t.g),r=Wr(e.b,t.b),i=Wr(e.a,t.a);return function(e){return zr.fromArray([n(e),o(e),r(e),i(e)]).toRgbaString()}},Hr=function e(t,n){var o,r,i=typeof n;if(null==n||"boolean"===i)return r=n,function(){return r};if("number"===i)return Wr(t,n);if("string"===i)try{return o=zr.fromString(n),Ur(t,n=o)}catch(a){}return n instanceof zr?Ur(t,n):n instanceof Date?function(e,t){var n=new Date,o=+e,r=+t;return function(e){return n.setTime(o*(1-e)+r*e),n}}(t,n):Array.isArray(n)?function(t,n){var o,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),s=new Array(r);for(o=0;o<i;++o)a[o]=e(t[o],n[o]);for(;o<r;++o)s[o]=n[o];return function(e){for(o=0;o<i;++o)s[o]=a[o](e);return s}}(t,n):"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var o,r={},i={};for(o in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)o in t?r[o]=e(t[o],n[o]):i[o]=n[o];return function(e){for(o in r)i[o]=r[o](e);return i}}(t,n):Wr(t,n)};function Kr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Xr=function(e){return e};function qr(e){var t,n=e[0],o=e[e.length-1];return n>o&&(n=(t=[o,n])[0],o=t[1]),function(e){return Math.max(n,Math.min(o,e))}}var Yr,Jr=function(){function e(){this.unknown=void 0,this._clamp=Xr,this._domain=[0,1],this._range=[0,1],this.transform=Xr,this.untransform=Xr,this._interpolate=Hr,this.rescale()}return Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp!==Xr},set:function(e){this._clamp=e?qr(this.domain):Xr},enumerable:!0,configurable:!0}),e.prototype.setDomain=function(e){this._domain=Array.prototype.map.call(e,function(e){return+e}),this._clamp!==Xr&&(this._clamp=qr(this.domain)),this.rescale()},e.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(e.prototype,"domain",{get:function(){return this.getDomain()},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range.slice()},set:function(e){this._range=Array.prototype.slice.call(e),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interpolate",{get:function(){return this._interpolate},set:function(e){this._interpolate=e,this.rescale()},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){this.piecewise=Math.min(this.domain.length,this.range.length)>2?this.polymap:this.bimap,this.output=void 0,this.input=void 0},e.prototype.normalize=function(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n},e.prototype.bimap=function(e,t,n){var o,r,i=e[0],a=e[1],s=t[0],l=t[1];return a<i?(o=this.normalize(a,i),r=n(l,s)):(o=this.normalize(i,a),r=n(s,l)),function(e){return r(o(e))}},e.prototype.polymap=function(e,t,n){var o=this,r=Math.min(e.length,t.length)-1;e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());var i=Array.from({length:r},function(t,n){return o.normalize(e[n],e[n+1])}),a=Array.from({length:r},function(e,o){return n(t[o],t[o+1])});return function(t){var n=function(e,t,n,o,r){for(void 0===o&&(o=0),void 0===r&&(r=e.length);o<r;){var i=o+r>>>1;n(e[i],t)>0?r=i:o=i+1}return o}(e,t,Kr,1,r)-1;return a[n](i[n](t))}},e.prototype.convert=function(e){return e=+e,isNaN(e)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(e))))},e.prototype.invert=function(e){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),Wr)),this._clamp(this.untransform(this.input(e)))},e}(),Qr=(Yr=function(e,t){return(Yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Yr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Zr=function(e,t,n){var o=ni(e,t,n);return function(e,t,n){void 0===n&&(n=1);for(var o=Math.abs(n),r=o>0&&o<1?Math.abs(Math.floor(Math.log(o)/Math.LN10)):0,i=Math.pow(10,r),a=Math.max(0,Math.ceil((t-e)/n))||0,s=new li(r),l=0;l<a;l++)s[l]=Math.round((e+n*l)*i)/i;return s}(e=Math.ceil(e/o)*o,t=Math.floor(t/o)*o+o/2,o)},$r=Math.sqrt(50),ei=Math.sqrt(10),ti=Math.sqrt(2);function ni(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),i=o/r;return i>=$r?r*=10:i>=ei?r*=5:i>=ti&&(r*=2),t<e?-r:r}function oi(e,t,n){var o=(t-e)/Math.max(0,n),r=Math.floor(Math.log(o)/Math.LN10),i=o/Math.pow(10,r);return r>=0?(i>=$r?10:i>=ei?5:i>=ti?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(i>=$r?10:i>=ei?5:i>=ti?2:1)}var ri,ii,ai,si,li=function(e){function t(t,n){var o=e.call(this)||this;if(n)for(var r=0,i=n.length;r<i;r++)o[r]=n[r];return o.fractionDigits=t,o}return Qr(t,e),t}(Array),ui={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return String(e)},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return gi(100*e,t)},r:gi,s:function(e,t){var n=mi(e,t);if(!n)return String(e);var o=n[0],r=n[1],i=r-(ri=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=o.length;if(i===a)return o;if(i>a)return o+new Array(i-a+1).join("0");if(i>0)return o.slice(0,i)+"."+o.slice(i);var s=mi(e,Math.max(0,t+i-1));return"0."+new Array(1-i).join("0")+s[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},ci=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],pi=function e(t){t instanceof e?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=void 0===t.fill?" ":String(t.fill),this.align=void 0===t.align?">":String(t.align),this.sign=void 0===t.sign?"-":String(t.sign),this.symbol=void 0===t.symbol?"":String(t.symbol),this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":String(t.type),this.string=t.string)},di=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,hi=/(#\{(.*?)\})/g;function fi(e){if(e instanceof pi)return new pi(e);var t=!1,n=e.replace(hi,function(){return t||(e=arguments[2],t=!0),"#{}"}),o=di.exec(e);if(!o)throw new Error("Invalid format: "+e);return new pi({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10],string:t?n:void 0})}function gi(e,t){var n=mi(e,t);if(!n)return String(e);var o=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+o:o.length>r+1?o.slice(0,r+1)+"."+o.slice(r+1):o+new Array(r-o.length+2).join("0")}function mi(e,t){var n=t?e.toExponential(t-1):e.toExponential(),o=n.indexOf("e");if(!(o<0)){var r=n.slice(0,o);return[r.length>1?r[0]+r.slice(2):r,+n.slice(o+1)]}}function yi(e){return e}function vi(e){var t=mi(Math.abs(e));return t?t[1]:NaN}ii=function(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?yi:(t=Array.prototype.map.call(e.grouping,Number),n=String(e.thousands),function(e,o){for(var r=[],i=e.length,a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>o&&(s=Math.max(1,o-l)),r.push(e.substring(i-=s,i+s)),!((l+=s+1)>o));)s=t[a=(a+1)%t.length];return r.reverse().join(n)}),r=void 0===e.currency?"":String(e.currency[0]),i=void 0===e.currency?"":String(e.currency[1]),a=void 0===e.decimal?".":String(e.decimal),s=void 0===e.numerals?yi:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Array.prototype.map.call(e.numerals,String)),l=void 0===e.percent?"%":String(e.percent),u=void 0===e.minus?"\u2212":String(e.minus),c=void 0===e.nan?"NaN":String(e.nan);function p(e){var t=fi(e),n=t.fill,p=t.align,d=t.sign,h=t.symbol,f=t.zero,g=t.width,m=t.comma,y=t.precision,v=t.trim,b=t.type;"n"===b?(m=!0,b="g"):b&&ui[b]||(void 0===y&&(y=12),v=!0,b="g"),(f||"0"===n&&"="===p)&&(f=!0,n="0",p="=");var C="$"===h?r:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===h?i:/[%p]/.test(b)?l:"",O=ui[b],x=/[defgprs%]/.test(b);return y=void 0===y?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),function(e){var r,i=C,l=w;if("c"===b)l=O(e)+l,r="";else{var h=(e=+e)<0||1/e<0;if(r=isNaN(e)?c:O(Math.abs(e),y),v&&(r=function(e){var t=e.length,n=1,o=-1,r=NaN;e:for(;n<t;n++)switch(e[n]){case".":o=r=n;break;case"0":0===o&&(o=n,r=n);break;default:if(!+e[n])break e;if(o>0){o=0;break}}return o>0?e.slice(0,o)+e.slice(r+1):e}(r)),h&&0==+r&&"+"!==d&&(h=!1),i=(h?"("===d?d:u:"-"===d||"("===d?"":d)+i,l=("s"===b?ci[8+ri/3]:"")+l+(h&&"("===d?")":""),x)for(var S=0,P=r.length;S<P;S++){var _=r.charCodeAt(S);if(48>_||_>57){l=(46===_?a+r.slice(S+1):r.slice(S))+l,r=r.slice(0,S);break}}}m&&!f&&(r=o(r,1/0));var E=i.length+r.length+l.length,T=E<g?new Array(g-E+1).join(n):"";switch(m&&f&&(r=o(T+r,T.length?g-l.length:1/0),T=""),p){case"<":r=i+r+l+T;break;case"=":r=i+T+r+l;break;case"^":r=T.slice(0,E=T.length>>1)+i+r+l+T.slice(E);break;default:r=T+i+r+l}var A=t.string;return A?A.replace(hi,function(){return s(r)}):s(r)}}return{format:p,formatPrefix:function(e,t){var n=fi(e);n.type="f";var o=p(n),r=3*Math.max(-8,Math.min(8,Math.floor(vi(t)/3))),i=Math.pow(10,-r),a=ci[8+r/3];return function(e){return o(i*e)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),ai=ii.format,si=ii.formatPrefix;var bi,Ci=(bi=function(e,t){return(bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}bi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),wi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="linear",t}return Ci(t,e),t.prototype.ticks=function(e){void 0===e&&(e=10);var t=this._domain;return Zr(t[0],t[t.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var t,n=this.domain,o=0,r=n.length-1,i=n[o],a=n[r];a<i&&(t=i,i=a,a=t,t=o,o=r,r=t),(t=oi(i,a,e))>0?t=oi(i=Math.floor(i/t)*t,a=Math.ceil(a/t)*t,e):t<0&&(t=oi(i=Math.ceil(i*t)/t,a=Math.floor(a*t)/t,e)),t>0?(n[o]=Math.floor(i/t)*t,n[r]=Math.ceil(a/t)*t,this.domain=n):t<0&&(n[o]=Math.ceil(i*t)/t,n[r]=Math.floor(a*t)/t,this.domain=n)},t.prototype.tickFormat=function(e,t){var n=this.domain;return function(e,t,n,o){var r=ni(e,t,n),i=fi(null==o?",f":o);switch(i.type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));if(null==i.precision){var s=function(e,t){var n=Math.floor(vi(t)/3);return n=Math.min(8,n),n=Math.max(-8,n),Math.max(0,3*n-vi(Math.abs(e)))}(r,a);isNaN(s)||(i.precision=s)}return si(i,a);case"":case"e":case"g":case"p":case"r":null==i.precision&&(s=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vi(t)-vi(e))+1}(r,Math.max(Math.abs(e),Math.abs(t))),isNaN(s)||(i.precision=s-Number("e"===i.type)));break;case"f":case"%":null==i.precision&&(s=function(e){return Math.max(0,-vi(Math.abs(e)))}(r),isNaN(s)||(i.precision=s-2*Number("%"===i.type)))}return ai(i)}(n[0],n[n.length-1],null==e?10:e,t)},t}(Jr);function Oi(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(t(o,n,e))return o}}function xi(e){for(var t,n,o,r=e.length,i=-1;++i<r;)if(null!=(t=e[i])&&t>=t&&isFinite(t))for(n=o=t;++i<r;)null!=(t=e[i])&&isFinite(t)&&(n>t&&(n=t),o<t&&(o=t));return void 0===n||void 0===o?void 0:[n,o]}function Si(e){var t=xi(e);if(void 0!==t){var n=t[0],o=t[1],r=n instanceof Date?n.getTime():n,i=o instanceof Date?o.getTime():o;return"number"==typeof r&&isFinite(r)&&"number"==typeof i&&isFinite(i)?[r,i]:void 0}}function Pi(e){for(var t=0,n=0,o=0,r=e;o<r.length;o++){var i=r[o];i<0?t+=i:n+=i}return{min:t,max:n}}function _i(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);var o=[],r=e.length;if(r)for(var i=0;i<n;i++)o.push(e[(t+i)%r]);return o}var Ei,Ti,Ai=(Ti=function(e,t){return(Ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ti(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Mi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContainerNode=!0,t._opacity=1,t}return Ai(t,e),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,t){return!0},t.prototype.computeBBox=function(){var e=1/0,n=-1/0,o=1/0,r=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(i){if(i.visible){var a=i.computeBBox();if(a){if(!(i instanceof t)){i.dirtyTransform&&i.computeTransformMatrix();for(var s=gr.flyweight(i.matrix),l=i.parent;l;)s.preMultiplySelf(l.matrix),l=l.parent;s.transformBBox(a,0,a)}var u=a.x,c=a.y;u<e&&(e=u),c<o&&(o=c),u+a.width>n&&(n=u+a.width),c+a.height>r&&(r=c+a.height)}}}),new fr(e,o,n-e,r-o)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this.children,n=t.length;e.globalAlpha*=this.opacity;for(var o=0;o<n;o++){var r=t[o];r.visible&&(e.save(),r.render(e),e.restore())}},t.className="Group",t}(yr),Di=function(){function e(e,t){this.next=null,this.scene=e.scene,this.parent=e,this.datum=t}return e.prototype.appendChild=function(e){if(null===this.next)return this.parent.insertBefore(e,null);if(!yr.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(e,this.next)},e.prototype.insertBefore=function(e,t){return this.parent.insertBefore(e,t)},e}(),ki=function(){function e(e,t){this.groups=e,this.parents=t}return e.select=function(t){return new e([["function"==typeof t?t():t]],[void 0])},e.selectAll=function(t){return new e([null==t?[]:t],[void 0])},e.prototype.append=function(e){return this.select(function(t){return t.appendChild(new e)})},e.prototype.appendFn=function(e){return this.select(function(t,n,o,r){return t.appendChild(e(t,n,o,r))})},e.prototype.select=function(t){for(var n=this.groups,o=n.length,r=[],i=0;i<o;i++)for(var a=n[i],s=a.length,l=r[i]=new Array(s),u=0;u<s;u++){var c=a[u];if(c){var p=t(c,c.datum,u,a);p&&(p.datum=c.datum),l[u]=p}}return new e(r,this.parents)},e.prototype.selectByClass=function(e){return this.select(function(t){if(yr.isNode(t))for(var n=t.children,o=n.length,r=0;r<o;r++){var i=n[r];if(i instanceof e)return i}})},e.prototype.selectByTag=function(e){return this.select(function(t){if(yr.isNode(t))for(var n=t.children,o=n.length,r=0;r<o;r++){var i=n[r];if(i.tag===e)return i}})},e.prototype.selectAllByClass=function(e){return this.selectAll(function(t){var n=[];if(yr.isNode(t))for(var o=t.children,r=o.length,i=0;i<r;i++){var a=o[i];a instanceof e&&n.push(a)}return n})},e.prototype.selectAllByTag=function(e){return this.selectAll(function(t){var n=[];if(yr.isNode(t))for(var o=t.children,r=o.length,i=0;i<r;i++){var a=o[i];a.tag===e&&n.push(a)}return n})},e.prototype.selectNone=function(){return[]},e.prototype.selectAll=function(t){t||(t=this.selectNone);for(var n=[],o=[],r=this.groups,i=r.length,a=0;a<i;a++)for(var s=r[a],l=s.length,u=0;u<l;u++){var c=s[u];c&&(n.push(t(c,c.datum,u,s)),o.push(c))}return new e(n,o)},e.prototype.each=function(e){for(var t=this.groups,n=t.length,o=0;o<n;o++)for(var r=t[o],i=r.length,a=0;a<i;a++){var s=r[a];s&&e(s,s.datum,a,r)}return this},e.prototype.remove=function(){return this.each(function(e){if(yr.isNode(e)){var t=e.parent;t&&t.removeChild(e)}})},e.prototype.merge=function(t){for(var n=this.groups,o=t.groups,r=n.length,i=Math.min(r,o.length),a=new Array(r),s=0;s<i;s++)for(var l=n[s],u=o[s],c=l.length,p=a[s]=new Array(c),d=0;d<c;d++)p[d]=l[d]||u[d]||void 0;for(;s<r;s++)a[s]=n[s];return new e(a,this.parents)},e.prototype.node=function(){for(var e=this.groups,t=e.length,n=0;n<t;n++)for(var o=e[n],r=o.length,i=0;i<r;i++){var a=o[i];if(a)return a}return null},e.prototype.attr=function(e,t){return this.each(function(n){n[e]=t}),this},e.prototype.attrFn=function(e,t){return this.each(function(n,o,r,i){n[e]=t(n,o,r,i)}),this},e.prototype.call=function(e){return e(this),this},Object.defineProperty(e.prototype,"size",{get:function(){var e=0;return this.each(function(){return e++}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){var e=[];return this.each(function(t,n){return e.push(n)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enter",{get:function(){return new e(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exit",{get:function(){return new e(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),e.prototype.setDatum=function(e){return this.each(function(t){t.datum=e})},Object.defineProperty(e.prototype,"datum",{get:function(){var e=this.node();return e?e.datum:null},enumerable:!0,configurable:!0}),e.prototype.setData=function(t,n){if("function"!=typeof t){var o=t;t=function(){return o}}for(var r=this.groups,i=this.parents,a=r.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;c++){var p=r[c],d=i[c];if(!d)throw new Error("Group #"+c+" has no parent: "+p);var h=p.length,f=t(d,d.datum,c,i),g=f.length,m=l[c]=new Array(g),y=s[c]=new Array(g),v=u[c]=new Array(h);n?this.bindKey(d,p,m,y,v,f,n):this.bindIndex(d,p,m,y,v,f);for(var b=0,C=0;b<g;b++){var w=m[b];if(w){b>=C&&(C=b+1);for(var O=void 0;!(O=y[C])&&C<g;)C++;w.next=O||null}}}var x=new e(s,i);return x.enterGroups=l,x.exitGroups=u,x},e.prototype.bindIndex=function(e,t,n,o,r,i){for(var a=t.length,s=i.length,l=0;l<s;l++)(u=t[l])?(u.datum=i[l],o[l]=u):n[l]=new Di(e,i[l]);for(;l<a;l++){var u;(u=t[l])&&(r[l]=u)}},e.prototype.bindKey=function(t,n,o,r,i,a,s){for(var l=n.length,u=a.length,c=new Array(l),p={},d=0;d<l;d++)(f=n[d])&&((h=c[d]=e.keyPrefix+s(f,f.datum,d,n))in p?i[d]=f:p[h]=f);for(d=0;d<u;d++){var h;(f=p[h=e.keyPrefix+s(t,a[d],d,a)])?(r[d]=f,f.datum=a[d],p[h]=void 0):o[d]=new Di(t,a[d])}for(d=0;d<l;d++){var f;(f=n[d])&&p[c[d]]===f&&(i[d]=f)}},e.keyPrefix="$",e}(),Ri=(Ei=function(e,t){return(Ei=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ei(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ii=function(e){function t(){var t=e.call(this)||this;return t._x1=0,t._y1=0,t._x2=0,t._y2=0,t.restoreOwnStyles(),t}return Ri(t,e),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new fr(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,t){return!1},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this.x1,n=this.y1,o=this.x2,r=this.y2;if(t===o){var i=Math.round(t)+Math.floor(this.strokeWidth)%2/2;t=i,o=i}else if(n===r){var a=Math.round(n)+Math.floor(this.strokeWidth)%2/2;n=a,r=a}e.beginPath(),e.moveTo(t,n),e.lineTo(o,r),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=vr(Mr.defaultStyles,{fill:void 0,strokeWidth:1}),t}(Mr),Ni=Math.sign?Math.sign:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1};function Fi(e,t,n,o,r,i,a,s){var l=(n-e)*(s-i)-(o-t)*(a-r);if(0===l)return null;var u=((a-r)*(t-i)-(e-r)*(s-i))/l,c=((n-e)*(t-i)-(o-t)*(e-r))/l;return u>=0&&u<=1&&c>=0&&c<=1?{x:e+u*(n-e),y:t+u*(o-t)}:null}function Li(e,t,n,o,r,i,a,s,l,u,c,p){for(var d=[],h=u-p,f=c-l,g=l*(p-u)-u*(c-l),m=ji(e,n,r,a),y=ji(t,o,i,s),v=function(e,t,n,o){if(0===e)return function(e,t,n){if(0===e)return function(e,t){var o=-n/e;return 0!==e&&o>=0&&o<=1?[o]:[]}(t);var o=t*t-4*e*n,r=[];if(0===o){var i=-t/(2*e);i>=0&&i<=1&&r.push(i)}else if(o>0){var a=Math.sqrt(o),s=(-t-a)/(2*e),l=(-t+a)/(2*e);s>=0&&s<=1&&r.push(s),l>=0&&l<=1&&r.push(l)}return r}(t,n,o);var r=t/e,i=n/e,a=(3*i-r*r)/9,s=(9*r*i-o/e*27-2*r*r*r)/54,l=a*a*a+s*s,u=[];if(l>=0){var c=Math.sqrt(l),p=Ni(s+c)*Math.pow(Math.abs(s+c),1/3),d=Ni(s-c)*Math.pow(Math.abs(s-c),1/3),h=Math.abs(Math.sqrt(3)*(p-d)/2),f=-1/3*r+(p+d);if(f>=0&&f<=1&&u.push(f),0===h){var g=-1/3*r-(p+d)/2;g>=0&&g<=1&&u.push(g)}}else{var m=Math.acos(s/Math.sqrt(-a*a*a)),y=1/3*r,v=2*Math.sqrt(-a),b=v*Math.cos(1/3*m)-y,C=v*Math.cos(1/3*(m+2*Math.PI))-y,w=v*Math.cos(1/3*(m+4*Math.PI))-y;b>=0&&b<=1&&u.push(b),C>=0&&C<=1&&u.push(C),w>=0&&w<=1&&u.push(w)}return u}(h*m[0]+f*y[0],h*m[1]+f*y[1],h*m[2]+f*y[2],h*m[3]+f*y[3]+g),b=0;b<v.length;b++){var C,w=v[b],O=w*w,x=w*O,S=m[0]*x+m[1]*O+m[2]*w+m[3],P=y[0]*x+y[1]*O+y[2]*w+y[3];(C=l!==c?(S-l)/(c-l):(P-u)/(p-u))>=0&&C<=1&&d.push({x:S,y:P})}return d}function ji(e,t,n,o){return[3*t-e-3*n+o,3*e-6*t+3*n,-3*e+3*t,e]}var Gi,Vi=function(){function e(){this.commands=[],this.params=[],this._closedPath=!1}return e.prototype.moveTo=function(e,t){this.xy?(this.xy[0]=e,this.xy[1]=t):this.xy=[e,t],this.commands.push("M"),this.params.push(e,t)},e.prototype.lineTo=function(e,t){this.xy?(this.commands.push("L"),this.params.push(e,t),this.xy[0]=e,this.xy[1]=t):this.moveTo(e,t)},e.prototype.rect=function(e,t,n,o){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+o),this.lineTo(e,t+o),this.closePath()},e.prototype.arcTo=function(e,t,n,o,r,i,a){var s=this.xy;if(s){e<0&&(e=-e),t<0&&(t=-t);var l=s[0],u=s[1],c=(l-i)/2,p=(u-a)/2,d=Math.sin(n),h=Math.cos(n),f=h*c+d*p,g=-d*c+h*p,m=f/e,y=g/t,v=m*m+y*y,b=(l+i)/2,C=(u+a)/2,w=0,O=0;v>=1?(e*=v=Math.sqrt(v),t*=v):(v=Math.sqrt(1/v-1),o===r&&(v=-v),b+=h*(w=v*e*y)-d*(O=-v*t*m),C+=d*w+h*O);var x=Math.atan2((g-O)/t,(f-w)/e),S=Math.atan2((-g-O)/t,(-f-w)/e)-x;this.cubicArc(b,C,e,t,n,x,x+S,1-r)}},e.cubicArc=function(e,t,n,o,r,i,a,s,l,u){if(u){var c=s;s=l,l=c}var p=t.length,d=.5522847498307935,h=Math.sin(s),f=Math.cos(s),g=Math.sin(a),m=Math.cos(a),y=Math.PI/2,v=m*f*r-g*h*i,b=g*f*r+m*h*i,C=-m*h*r-g*f*i,w=-g*h*r+m*f*i;for((l-=s)<0&&(l+=2*Math.PI),e.push("M"),t.push(v+n,b+o);l>=y;){l-=y,e.push("C");var O=C+n;t.push(v+C*d+n,b+w*d+o,v*d+C+n,b*d+w+o,Math.abs(O)<1e-8?0:O,w+o),c=v,v=C,C=-c,c=b,b=w,w=-c}if(l){var x=4/3*Math.tan(l/4),S=Math.sin(l),P=Math.cos(l),_=P+x*S,E=S-x*P;e.push("C"),O=v*P+C*S+n,t.push(v+C*x+n,b+w*x+o,v*_+C*E+n,b*_+w*E+o,Math.abs(O)<1e-8?0:O,b*P+w*S+o)}if(u)for(var T=p,A=t.length-2;T<A;T+=2,A-=2)c=t[T],t[T]=t[A],t[A]=c,c=t[T+1],t[T+1]=t[A+1],t[A+1]=c},e.prototype.cubicArc=function(t,n,o,r,i,a,s,l){var u=this.commands,c=this.params,p=u.length;e.cubicArc(u,c,t,n,o,r,i,a,s,l);var d=c[c.length-2],h=c[c.length-1];this.xy?(u[p]="L",this.xy[0]=d,this.xy[1]=h):this.xy=[d,h]},e.prototype.deCasteljau=function(e,t){var n=e.length;if(n<2||n%2==1)throw new Error("Fewer than two points or not an even count.");if(2===n||0===t)return e.slice(0,2);if(1===t)return e.slice(-2);for(var o=[],r=n-2,i=0;i<r;i+=2)o.push((1-t)*e[i]+t*e[i+2],(1-t)*e[i+1]+t*e[i+3]);return this.deCasteljau(o,t)},e.prototype.approximateCurve=function(e,t){var n=this.deCasteljau(e,0);this.moveTo(n[0],n[1]);for(var o=1/t,r=o;r<=1;r+=o){var i=this.deCasteljau(e,r);this.lineTo(i[0],i[1])}},e.prototype.quadraticCurveTo=function(e,t,n,o){this.xy||this.moveTo(e,t),this.cubicCurveTo((this.xy[0]+2*e)/3,(this.xy[1]+2*t)/3,(2*e+n)/3,(2*t+o)/3,n,o)},e.prototype.cubicCurveTo=function(e,t,n,o,r,i){this.xy||this.moveTo(e,t),this.commands.push("C"),this.params.push(e,t,n,o,r,i),this.xy[0]=r,this.xy[1]=i},Object.defineProperty(e.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),e.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},e.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},e.prototype.isPointInPath=function(e,t){for(var n=this.commands,o=this.params,r=n.length,i=NaN,a=NaN,s=0,l=0,u=0,c=0,p=0;c<r;c++)switch(n[c]){case"M":isNaN(i)||Fi(i,a,s,l,-1e4,-1e4,e,t)&&u++,i=s=o[p++],a=l=o[p++];break;case"L":Fi(s,l,s=o[p++],l=o[p++],-1e4,-1e4,e,t)&&u++;break;case"C":u+=Li(s,l,o[p++],o[p++],o[p++],o[p++],s=o[p++],l=o[p++],-1e4,-1e4,e,t).length;break;case"Z":isNaN(i)||Fi(i,a,s,l,-1e4,-1e4,e,t)&&u++}return u%2==1},e.fromString=function(t){var n=new e;return n.setFromString(t),n},e.parseSvgPath=function(t){return t.trim().split(e.splitCommandsRe).map(function(t){var n=t.match(e.matchParamsRe);return{command:t.substr(0,1),params:n?n.map(parseFloat):[]}})},e.prettifySvgPath=function(t){return e.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join("\n")},e.prototype.setFromString=function(t){var n,o,r,i,a,s=this;function l(){a.match(e.quadraticCommandRe)||(r=n,i=o)}function u(){a.match(e.cubicCommandRe)||(r=n,i=o)}this.clear(),e.parseSvgPath(t).forEach(function(e){var t=e.params,c=t.length,p=0;switch(e.command){case"M":for(s.moveTo(n=t[p++],o=t[p++]);p<c;)s.lineTo(n=t[p++],o=t[p++]);break;case"m":for(s.moveTo(n+=t[p++],o+=t[p++]);p<c;)s.lineTo(n+=t[p++],o+=t[p++]);break;case"L":for(;p<c;)s.lineTo(n=t[p++],o=t[p++]);break;case"l":for(;p<c;)s.lineTo(n+=t[p++],o+=t[p++]);break;case"C":for(;p<c;)s.cubicCurveTo(t[p++],t[p++],r=t[p++],i=t[p++],n=t[p++],o=t[p++]);break;case"c":for(;p<c;)s.cubicCurveTo(n+t[p++],o+t[p++],r=n+t[p++],i=o+t[p++],n+=t[p++],o+=t[p++]);break;case"S":for(u();p<c;)s.cubicCurveTo(n+n-r,o+o-i,r=t[p++],i=t[p++],n=t[p++],o=t[p++]);break;case"s":for(u();p<c;)s.cubicCurveTo(n+n-r,o+o-i,r=n+t[p++],i=o+t[p++],n+=t[p++],o+=t[p++]);break;case"Q":for(;p<c;)s.quadraticCurveTo(r=t[p++],i=t[p++],n=t[p++],o=t[p++]);break;case"q":for(;p<c;)s.quadraticCurveTo(r=n+t[p++],i=o+t[p++],n+=t[p++],o+=t[p++]);break;case"T":for(l();p<c;)s.quadraticCurveTo(r=n+n-r,i=o+o-i,n=t[p++],o=t[p++]);break;case"t":for(l();p<c;)s.quadraticCurveTo(r=n+n-r,i=o+o-i,n+=t[p++],o+=t[p++]);break;case"A":for(;p<c;)s.arcTo(t[p++],t[p++],t[p++]*Math.PI/180,t[p++],t[p++],n=t[p++],o=t[p++]);break;case"a":for(;p<c;)s.arcTo(t[p++],t[p++],t[p++]*Math.PI/180,t[p++],t[p++],n+=t[p++],o+=t[p++]);break;case"Z":case"z":s.closePath();break;case"H":for(;p<c;)s.lineTo(n=t[p++],o);break;case"h":for(;p<c;)s.lineTo(n+=t[p++],o);break;case"V":for(;p<c;)s.lineTo(n,o=t[p++]);break;case"v":for(;p<c;)s.lineTo(n,o+=t[p++])}a=e.command})},e.prototype.toString=function(){for(var e=this.commands,t=this.params,n=e.length,o=[],r=0,i=0;r<n;r++)switch(e[r]){case"M":o.push("M"+t[i++]+","+t[i++]);break;case"L":o.push("L"+t[i++]+","+t[i++]);break;case"C":o.push("C"+t[i++]+","+t[i++]+" "+t[i++]+","+t[i++]+" "+t[i++]+","+t[i++]);break;case"Z":o.push("Z")}return o.join("")},e.prototype.toPrettyString=function(){return e.prettifySvgPath(this.toString())},e.prototype.toSvg=function(){return e.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+e.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},e.prototype.toDebugSvg=function(){var t=e.prettifySvgPath(this.toString());return e.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+e.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},e.prototype.toCubicPaths=function(){var e,t,n,o,r,i=[],a=this.params,s=0;return this.commands.forEach(function(l){switch(l){case"M":e=[t=o=a[s++],n=r=a[s++]],i.push(e);break;case"L":var u=a[s++],c=a[s++];e.push((o+o+u)/3,(r+r+c)/3,(o+u+u)/3,(r+c+c)/3,o=u,r=c);break;case"C":e.push(a[s++],a[s++],a[s++],a[s++],o=a[s++],r=a[s++]);break;case"Z":e.push((o+o+t)/3,(r+r+n)/3,(o+t+t)/3,(r+n+n)/3,o=t,r=n)}}),i},e.cubicPathToString=function(e){var t=e.length;if(!(t%2==0&&(t/2-1)/2>=1))throw new Error("Invalid path.");return"M"+e.slice(0,2).join(",")+"C"+e.slice(2).join(",")},e.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,e.matchParamsRe=/-?[0-9]*\.?\d+/g,e.quadraticCommandRe=/[QqTt]/,e.cubicCommandRe=/[CcSs]/,e.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',e.xmlns="http://www.w3.org/2000/svg",e}(),Bi=(Gi=function(e,t){return(Gi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Gi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Wi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.path=new Vi,t._dirtyPath=!0,t._svgPath="",t}return Bi(t,e),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){var t=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),t.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(Mr),zi=2*Math.PI;function Ui(e){return e%=zi,(e+=zi)%zi}function Hi(e){return e/180*Math.PI}function Ki(e){var t=typeof e;return"string"!==t&&"number"===t&&e-e<1}function Xi(e,t,n){return void 0===n&&(n=1e-10),Math.abs(e-t)<n}function qi(e,t){void 0===t&&(t=2);var n=Math.floor(Math.log(Math.abs(e))/Math.LN10);return n>=0||!isFinite(n)?e.toFixed(t):e.toFixed(Math.abs(n)-1+t)}Number.EPSILON||Math.pow(2,-52);var Yi,Ji,Qi=(Ji=function(e,t){return(Ji=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ji(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e[e.Open=0]="Open",e[e.Chord=1]="Chord",e[e.Round=2]="Round"}(Yi||(Yi={}));var Zi,$i=function(e){function t(){var t=e.call(this)||this;return t._centerX=0,t._centerY=0,t._radiusX=10,t._radiusY=10,t._startAngle=0,t._endAngle=2*Math.PI,t._counterClockwise=!1,t._type=Yi.Open,t.restoreOwnStyles(),t}return Qi(t,e),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusX",{get:function(){return this._radiusX},set:function(e){this._radiusX!==e&&(this._radiusX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){return this._radiusY},set:function(e){this._radiusY!==e&&(this._radiusY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPie",{get:function(){return Xi(Ui(this.startAngle),Ui(this.endAngle))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"counterClockwise",{get:function(){return this._counterClockwise},set:function(e){this._counterClockwise!==e&&(this._counterClockwise=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===Yi.Chord?e.closePath():this.type!==Yi.Round||this.fullPie||(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new fr(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t),o=this.computeBBox();return this.type!==Yi.Open&&o.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)},t.className="Arc",t.defaultStyles=vr(Mr.defaultStyles,{lineWidth:1,fillStyle:null}),t}(Wi);!function(e){e[e.Tick=0]="Tick",e[e.GridLine=1]="GridLine"}(Zi||(Zi={}));var ea,ta,na,oa=function(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=10},ra=function(){function e(){this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=0,this.mirrored=!1,this.parallel=!1}return Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(e){this._format!==e&&(this._format=e,this.onFormatChange&&this.onFormatChange(e))},enumerable:!0,configurable:!0}),e}(),ia=function(){function e(){this.id=mr(this),this.lineNode=new Ii,this.group=new Mi,this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new oa,this.label=new ra,this.translation={x:0,y:0},this.rotation=0,this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.thickness=0,this.groupSelection=ki.select(this.group).selectAll(),this.label.onFormatChange=this.onLabelFormatChange.bind(this),this.group.append(this.lineNode)}return Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e,this.requestedRange=e.range.slice(),this.onLabelFormatChange()},enumerable:!0,configurable:!0}),e.prototype.getMeta=function(){},e.prototype.updateRange=function(){var e=this.requestedRange,t=this.visibleRange,n=(e[1]-e[0])/(t[1]-t[0]),o=e[0]-n*t[0];this.scale.range=[o,o+n]},e.prototype.inRange=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),0===this.inRangeEx(e,t,n)},e.prototype.inRangeEx=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var o=this.range,r=Math.min(o[0],o[1]),i=Math.max(o[0],o[1]);return e+t<r-n?-1:e>i+n?1:0},Object.defineProperty(e.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(e){if(e&&2===e.length){var t=e[0],n=e[1];t=Math.max(0,t),n=Math.min(1,n),t=Math.min(t,n),n=Math.max(t,n),this._visibleRange=[t,n],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.slice()},enumerable:!0,configurable:!0}),e.prototype.onLabelFormatChange=function(e){e?this.scale&&this.scale.tickFormat&&(this.labelFormatter=this.scale.tickFormat(this.tick.count,e)):this.labelFormatter=void 0},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){var t=this._title;t!==e&&(t&&this.group.removeChild(t.node),e&&(e.node.rotation=-Math.PI/2,this.group.appendChild(e.node)),this._title=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.groupSelection=this.groupSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(e){this._radialGrid!==e&&(this._radialGrid=e,this.groupSelection=this.groupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),e.prototype.update=function(){var e=this,t=this,n=t.group,o=t.scale,r=t.tick,i=t.label,a=t.gridStyle,s=t.requestedRange,l=Math.min(s[0],s[1]),u=Math.max(s[0],s[1]),c=Hi(this.rotation),p=i.parallel,d=Ui(Hi(i.rotation));n.translationX=this.translation.x,n.translationY=this.translation.y,n.rotation=c;var h=(o.bandwidth||0)/2,f=i.mirrored?1:-1,g=Ui(c),m=!d&&g>=0&&g<=Math.PI?-1:1,y=Ui(c-Math.PI/2),v=!d&&y>=0&&y<=Math.PI?-1:1,b=d>=0&&d<=Math.PI?-1:1,C=o.ticks(this.tick.count),w=this.groupSelection.setData(C);w.exit.remove();var O=w.enter.append(Mi);O.append(Ii).each(function(e){return e.tag=Zi.Tick}),this.gridLength&&(this.radialGrid?O.append($i).each(function(e){return e.tag=Zi.GridLine}):O.append(Ii).each(function(e){return e.tag=Zi.GridLine})),O.append(Rr);var x,S=w.merge(O);if(S.attrFn("translationY",function(e,t){return Math.round(o.convert(t)+h)}).attrFn("visible",function(e){return e.translationY>=l&&e.translationY<=u}),S.selectByTag(Zi.Tick).each(function(e){e.strokeWidth=r.width,e.stroke=r.color}).attr("x1",f*r.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&a.length){var P=a.length,_=void 0;if(this.radialGrid){var E=(x=Hi(this.gridLength),x%=zi,(x+=zi)!==zi&&(x%=zi),x);_=S.selectByTag(Zi.GridLine).each(function(e,t){var n=Math.round(o.convert(t)+h);e.centerX=0,e.centerY=o.range[0]-n,e.endAngle=E,e.radiusX=n,e.radiusY=n})}else _=S.selectByTag(Zi.GridLine).each(function(t){t.x1=0,t.x2=-f*e.gridLength,t.y1=0,t.y2=0,t.visible=Math.abs(t.parent.translationY-o.range[0])>1});_.each(function(e,t,n){var o=a[n%P];e.stroke=o.stroke,e.strokeWidth=r.width,e.lineDash=o.lineDash,e.fill=void 0})}this.fractionDigits=C.fractionDigits>=0?C.fractionDigits:0;var T=S.selectByClass(Rr).each(function(t,n,o){t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.color,t.textBaseline=p&&!d?f*m==-1?"hanging":"bottom":"middle",t.text=e.formatTickDatum(n,o),t.textAlign=p?d?f*b==-1?"end":"start":"center":f*v==-1?"end":"start"}),A=f*(r.size+i.padding),M=p?m*Math.PI/2:-1===v?Math.PI:0;T.each(function(e){e.x=A,e.rotationCenterX=A,e.rotation=M+d}),this.groupSelection=S;var D=this.lineNode;D.x1=0,D.x2=0,D.y1=s[0],D.y2=s[1],D.strokeWidth=this.line.width,D.stroke=this.line.color,D.visible=C.length>0;var k=this.title,R=!1;if(k&&k.enabled){R=!0;var I=k.padding.bottom,N=k.node,F=this.computeBBox({excludeTitle:!0}),L=-1===f&&g>Math.PI&&g<2*Math.PI?-1:1;N.rotation=L*f*Math.PI/2,N.x=L*f*(D.y1+D.y2)/2,N.x=L*f*(s[0]+s[1])/2,N.y=-1===f?L*(-I-F.width+Math.max(F.x+F.width,0)):-I-F.width-Math.min(F.x,0),N.textBaseline=1===L?"bottom":"top"}k&&(k.node.visible=R)},e.prototype.formatTickDatum=function(e,t){var n=this.label,o=this.labelFormatter,r=this.fractionDigits,i=this.getMeta();return n.formatter?n.formatter({value:r>=0?e:String(e),index:t,fractionDigits:r,formatter:o,axis:i}):o?o(e):"number"==typeof e&&r>=0?e.toFixed(r):String(e)},e.prototype.formatDatum=function(e){return String(e)},e.prototype.computeBBox=function(e){var t=this.title,n=this.lineNode,o=this.groupSelection.selectByClass(Rr),r=1/0,i=-1/0,a=1/0,s=-1/0;if(o.each(function(e){e.computeTransformMatrix();var t=gr.flyweight(e.matrix),n=e.parent;n.computeTransformMatrix(),t.preMultiplySelf(n.matrix);var o=e.computeBBox();if(o){var l=t.transformBBox(o);r=Math.min(r,l.x),i=Math.max(i,l.x+l.width),a=Math.min(a,l.y),s=Math.max(s,l.y+l.height)}}),t&&t.enabled&&(!e||!e.excludeTitle)){var l=t.node;l.computeTransformMatrix();var u=gr.flyweight(l.matrix),c=l.computeBBox();if(c){var p=u.transformBBox(c);r=Math.min(r,p.x),i=Math.max(i,p.x+p.width),a=Math.min(a,p.y),s=Math.max(s,p.y+p.height)}}return r=Math.min(r,0),i=Math.max(i,0),a=Math.min(a,n.y1,n.y2),s=Math.max(s,n.y1,n.y2),new fr(r,a,i-r,s-a)},e}(),aa=(na=function(e,t){return(na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}na(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function sa(e){return e===ea.X?ea.Y:ea.X}!function(e){e.X="x",e.Y="y"}(ea||(ea={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.Angle="angle",e.Radius="radius"}(ta||(ta={}));var la,ua,ca=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keys=[],t.boundSeries=[],t}return aa(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),t.prototype.getMeta=function(){return{id:this.id,direction:this.direction,boundSeries:this.boundSeries}},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case ta.Top:this.direction=ea.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case ta.Right:this.direction=ea.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case ta.Bottom:this.direction=ea.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case ta.Left:this.direction=ea.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),t}(ia),pa=(ua=function(e,t){return(ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ua(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),da=function(e){function t(){var t=e.call(this)||this;return t._nice=!0,t._min=NaN,t._max=NaN,t.scale=new wi,t}return pa(t,e),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(this.tick.count))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){e.length>2&&(e=Si(e)||[0,1]);var t=this.scale,n=this.min,o=this.max;e=[isNaN(n)?e[0]:n,isNaN(o)?e[1]:o],t.domain=e,t.clamp=!0,this.nice&&this.scale.nice&&this.scale.nice(this.tick.count)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,isNaN(e)||(this.scale.domain=[e,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,isNaN(e)||(this.scale.domain=[this.scale.domain[0],e]))},enumerable:!0,configurable:!0}),t.prototype.formatDatum=function(e){return e.toFixed(2)},t.className="NumberAxis",t.type="number",t}(ca),ha=function(){function e(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(e.prototype,"domain",{get:function(){return this._domain},set:function(e){var t=this._domain;t.length=0,this.index=new Map;var n=this.index;e.forEach(function(e){void 0===n.get(e)&&n.set(e,t.push(e)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range[0]=e[0],this._range[1]=e[1],this.rescale()},enumerable:!0,configurable:!0}),e.prototype.ticks=function(){return this._domain},e.prototype.convert=function(e){var t=this.index.get(e);if(void 0===t)return NaN;var n=this.ordinalRange[t];return void 0===n?NaN:n},Object.defineProperty(e.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._paddingInner},set:function(e){e=Math.max(0,Math.min(1,e)),this._paddingInner=e,this._paddingOuter=e,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(e){this._paddingInner=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(e){this._paddingOuter=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"round",{get:function(){return this._round},set:function(e){this._round=e,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){var e,t=this._domain.length;if(t){var n=this._range,o=n[0],r=n[1],i=r<o;i&&(o=(e=[r,o])[0],r=e[1]);var a=(r-o)/Math.max(1,t-this._paddingInner+2*this._paddingOuter);this._round&&(a=Math.floor(a)),o+=(r-o-a*(t-this._paddingInner))*this._align,this._bandwidth=a*(1-this._paddingInner),this._round&&(o=Math.round(o),this._bandwidth=Math.round(this._bandwidth));for(var s=[],l=0;l<t;l++)s.push(o+a*l);this.ordinalRange=i?s.reverse():s}},e}(),fa=(la=function(e,t){return(la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}la(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ga=function(e){function t(){var t=e.call(this)||this,n=new ha;return n.paddingInner=.2,n.paddingOuter=.3,t.scale=n,t}return fa(t,e),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this.scale.paddingInner},set:function(e){this.scale.paddingInner=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.filter(function(e,t,n){return n.indexOf(e)===t})},enumerable:!0,configurable:!0}),t.className="CategoryAxis",t.type="category",t}(ca),ma=function(){function e(e,t,n){void 0===e&&(e=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=n}return e.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},e.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},e.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},e.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},e.prototype.getSiblings=function(){var e=this;return this.parent?this.parent.children.filter(function(t,n){return n!==e.number}):[]},e}();function ya(e,t,n){var o=n/(t.number-e.number);t.change-=o,t.shift+=n,e.change+=o,t.prelim+=n,t.mod+=n}function va(e,t,n){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:n}var ba,Ca,wa=function(){function e(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return e.prototype.update=function(e,t){var n=t(e),o=n.x,r=n.y;o>this.right&&(this.right=o),o<this.left&&(this.left=o),r>this.bottom&&(this.bottom=r),r<this.top&&(this.top=r)},e}(),Oa=function(){function e(){this.dimensions=new wa,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return e.prototype.update=function(e){this.dimensions.update(e,function(e){return{x:e.x,y:e.y}}),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)},e.prototype.resize=function(e,t,n,o,r){void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!1);var i=this.leafCount-1,a=this.depth,s=this.dimensions,l=1,u=1;e>0&&i&&(l=e/i/((s.right-s.left)/i),r&&(l=-l)),t>0&&a&&(u=t/a/((s.bottom-s.top)/a));var c=new wa;this.nodes.forEach(function(e){e.screenX=e.x*l,e.screenY=e.y*u,c.update(e,function(e){return{x:e.screenX,y:e.screenY}})});var p=-c.left,d=-c.top;this.nodes.forEach(function(e){e.screenX+=p+n,e.screenY+=d+o})},e}(),xa=(Ca=function(e,t){return(Ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ca(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Sa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.grid=!1,t}return xa(t,e),t}(ra),Pa=function(e){function t(){var t=e.call(this)||this;t.tickScale=new ha,t.longestSeparatorLength=0,t.translation={x:0,y:0},t.rotation=0,t.line={width:1,color:"rgba(195, 195, 195, 1)"},t.label=new Sa,t.labelColor="rgba(87, 87, 87, 1)";var n=t.group,o=t.tickScale,r=new ha;return r.paddingOuter=.1,r.paddingInner=2*r.paddingOuter,t.requestedRange=r.range.slice(),t.scale=r,o.paddingInner=1,o.paddingOuter=0,t.gridLineSelection=ki.select(n).selectAll(),t.axisLineSelection=ki.select(n).selectAll(),t.separatorSelection=ki.select(n).selectAll(),t.labelSelection=ki.select(n).selectAll(),t}return xa(t,e),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.scale.domain=e;var t,n,o=function(e,t){void 0===t&&(t=!0);var n=new ma,o=0;return t&&e.forEach(function(e){return o=Math.max(o,e.labels.length)}),e.forEach(function(e){if(t)for(;e.labels.length<o;)e.labels.unshift("");!function(e,t){var n=t.labels.slice().reverse(),o=n.length-1;n.forEach(function(t,n){var r=e.children,i=Oi(r,function(e){return e.label===t}),a=n!==o;if(i&&a)e=i;else{var s=new ma(t,e);s.number=r.length,r.push(s),a&&(e=s)}})}(n,e)}),n}(e);this.tickTreeLayout=(t=o,n=new Oa,function e(t,n){var o=t.children;if(o.length){var r=o[0];o.forEach(function(t){e(t,n),r=function(e,t,n){var o=e.getLeftSibling();if(o){for(var r=e,i=e,a=o,s=i.getLeftmostSibling(),l=i.mod,u=r.mod,c=a.mod,p=s.mod;a.nextRight()&&i.nextLeft();){a=a.nextRight(),i=i.nextLeft(),s=s.nextLeft(),(r=r.nextRight()).ancestor=e;var d=a.prelim+c-(i.prelim+l)+n;d>0&&(ya(va(a,e,t),e,d),l+=d,u+=d),c+=a.mod,l+=i.mod,p+=s.mod,u+=r.mod}a.nextRight()&&!r.nextRight()?(r.thread=a.nextRight(),r.mod+=c-u):(i.nextLeft()&&!s.nextLeft()&&(s.thread=i.nextLeft(),s.mod+=l-p),t=e)}return t}(t,r,n)}),function(e){var n=t.children;if(n)for(var o=0,r=0,i=n.length-1;i>=0;i--){var a=n[i];a.prelim+=o,a.mod+=o,o+=a.shift+(r+=a.change)}}();var i=(o[0].prelim+o[o.length-1].prelim)/2;(a=t.getLeftSibling())?(t.prelim=a.prelim+n,t.mod=t.prelim-i):t.prelim=i}else{var a=t.getLeftSibling();t.prelim=a?a.prelim+n:0}}(t,1),function e(t,n,o){t.x=t.prelim+n,t.y=t.depth,o.update(t),t.children.forEach(function(r){return e(r,n+t.mod,o)})}(t,-t.prelim,n),function e(t){var n=t.children,o=0;n.forEach(function(t){e(t),t.children.length?o+=t.leafCount:o++}),t.leafCount=o,n.length?(t.subtreeLeft=n[0].subtreeLeft,t.subtreeRight=n[t.children.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}(t),n);var r=e.slice();r.push(""),this.tickScale.domain=r,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),t.prototype.updateRange=function(){var e=this.requestedRange,t=this.visibleRange,n=(e[1]-e[0])/(t[1]-t[0]),o=e[0]-n*t[0];this.tickScale.range=this.scale.range=[o,o+n],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,t=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,n=this.tickTreeLayout,o=this.lineHeight;n&&n.resize(Math.abs(t[1]-t[0]),n.depth*o,(Math.min(t[0],t[1])||0)+(e.bandwidth||0)/2,-n.depth*o,t[1]-t[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this,t=this,n=t.group,o=t.scale,r=t.label,i=t.tickScale,a=t.requestedRange,s=o.range[0],l=o.range[1],u=Math.abs(l-s)/o.domain.length||0,c=r.parallel,p=Hi(this.rotation),d=Math.abs(Math.cos(p))<1e-8,h=Ui(Hi(this.label.rotation));n.translationX=this.translation.x,n.translationY=this.translation.y,n.rotation=p;var f=this.title;f&&(f.node.visible=!1);var g=this.lineHeight,m=this.tickTreeLayout,y=o.ticks(),v=m?m.nodes:[],b=!!m&&m.depth>1,C=i.ticks(),w=r.mirrored?1:-1,O=Ui(p),x=!h&&O>=0&&O<=Math.PI?-1:1,S=Ui(p-Math.PI/2),P=!h&&S>=0&&S<=Math.PI?-1:1,_=this.gridLineSelection.setData(this.gridLength?C:[]);_.exit.remove();var E=_.enter.append(Ii),T=_.merge(E),A=this.labelSelection.setData(v);A.exit.remove();var M=A.enter.append(Rr),D=A.merge(M),k=r.formatter,R=0;D.each(function(e,t,n){e.fontStyle=r.fontStyle,e.fontWeight=r.fontWeight,e.fontSize=r.fontSize,e.fontFamily=r.fontFamily,e.fill=r.color,e.textBaseline=-1===x?"bottom":"hanging",e.textAlign="center",e.translationX=t.screenY-.25*r.fontSize,e.translationY=t.screenX,0===n?f&&f.enabled&&y.length>0?(e.visible=!0,e.text=f.text,e.fontSize=f.fontSize,e.fontStyle=f.fontStyle,e.fontWeight=f.fontWeight,e.fontFamily=f.fontFamily,e.textBaseline="hanging"):e.visible=!1:(e.text=k?k({value:String(t.label),index:n}):String(t.label),e.visible=t.screenX>=a[0]&&t.screenX<=a[1]);var o=e.computeBBox();o&&o.width>R&&(R=o.width)});var I=w*r.padding,N=c?x*Math.PI/2:-1===P?Math.PI:0,F=this.label.grid,L=[];D.each(function(t,n,o){if(t.x=I,t.rotationCenterX=I,n.children.length?(t.translationX-=R-g+e.label.padding,t.rotation=d?N:-Math.PI/2):(t.rotation=h,t.textAlign="end",t.textBaseline="middle"),n.parent&&b){var r=n.children.length?n.screenX-n.leafCount*u/2:n.screenX-u/2;if(n.children.length){var i=-R-2*e.label.padding+n.screenY;L.push({y:r,x1:i+g,x2:i,toString:function(){return String(o)}})}else(n.number!==n.children.length-1||F)&&L.push({y:r,x1:0,x2:-R-2*e.label.padding,toString:function(){return String(o)}})}});var j=0;L.forEach(function(e){return j=Math.min(j,e.x2)}),this.longestSeparatorLength=Math.abs(j),L.push({y:Math.max(s,l),x1:0,x2:j,toString:function(){return String(L.length)}});var G=this.separatorSelection.setData(L);G.exit.remove();var V=G.enter.append(Ii),B=G.merge(V);this.separatorSelection=B,B.each(function(t,n,o){t.x1=n.x1,t.x2=n.x2,t.y1=n.y,t.y2=n.y,t.visible=n.y>=a[0]-1e-7&&n.y<=a[1]+1e-7,t.stroke=e.tick.color,t.fill=void 0,t.strokeWidth=1}),this.gridLineSelection=T,this.labelSelection=D;for(var W=m?m.depth+1:1,z=[],U=0;U<W;U++)z.push(U);var H=this.axisLineSelection.setData(z);H.exit.remove();var K=H.enter.append(Ii),X=H.merge(K);if(this.axisLineSelection=X,X.each(function(t,n,o){var r=o>0?-R-2*e.label.padding-(o-1)*g:0;t.x1=r,t.x2=r,t.y1=a[0],t.y2=a[1],t.strokeWidth=e.line.width,t.stroke=e.line.color,t.visible=y.length>0&&(0===o||F&&b)}),this.gridLength){var q=this.gridStyle,Y=q.length;T.each(function(t,n,o){var r=Math.round(i.convert(n));t.x1=0,t.x2=-w*e.gridLength,t.y1=r,t.y2=r,t.visible=r>=a[0]&&r<=a[1]&&Math.abs(t.parent.translationY-s)>1;var l=q[o%Y];t.stroke=l.stroke,t.strokeWidth=e.tick.width,t.lineDash=l.lineDash,t.fill=void 0})}},t.prototype.computeBBox=function(e){var t=!e||!e.excludeTitle,n=1/0,o=-1/0,r=1/0,i=-1/0;return this.labelSelection.each(function(e,a,s){if(s>0||t){e.computeTransformMatrix();var l=gr.flyweight(e.matrix),u=e.computeBBox();if(u){var c=l.transformBBox(u);n=Math.min(n,c.x),o=Math.max(o,c.x+c.width),r=Math.min(r,c.y),i=Math.max(i,c.y+c.height)}}}),new fr(n,r,Math.max(o-n,this.longestSeparatorLength),i-r)},t.className="GroupedCategoryAxis",t.type="groupedCategory",t}(ca),_a=(ba=function(e,t){return(ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ba(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ea=new Date,Ta=new Date,Aa=function(e){function t(t,n,o,r){var i=e.call(this,t,n)||this;return i._count=o,i._field=r,i}return _a(t,e),t.prototype.count=function(e,t){return Ea.setTime(+e),Ta.setTime(+t),this._floor(Ea),this._floor(Ta),Math.floor(this._count(Ea,Ta))},t.prototype.every=function(e){var t,n=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var o=this._field;t=this.filter(o?function(t){return o(t)%e==0}:function(t){return n.count(0,t)%e==0})}else t=this;return t},t}(function(){function e(e,t){this._floor=e,this._offset=t}return e.prototype.floor=function(e){return e=new Date(+e),this._floor(e),e},e.prototype.ceil=function(e){return e=new Date(+e-1),this._floor(e),this._offset(e,1),this._floor(e),e},e.prototype.round=function(e){var t=this.floor(e),n=this.ceil(e),o=+e;return o-t.getTime()<n.getTime()-o?t:n},e.prototype.offset=function(e,t){return void 0===t&&(t=1),e=new Date(+e),this._offset(e,Math.floor(t)),e},e.prototype.range=function(e,t,n){void 0===n&&(n=1);var o,r=[];if(e=this.ceil(e),n=Math.floor(n),e>t||n<=0)return r;do{o=new Date(+e),r.push(o),this._offset(e,n),this._floor(e)}while(o<e&&e<t);return r},e.prototype.filter=function(t){var n=this;return new e(function(e){if(e>=e)for(;n._floor(e),!t(e);)e.setTime(e.getTime()-1);return e},function(e,o){if(e>=e)if(o<0)for(;++o<=0;)do{n._offset(e,-1)}while(!t(e));else for(;--o>=0;)do{n._offset(e,1)}while(!t(e));return e})},e}()),Ma=new Aa(function(e){return e},function(e,t){e.setTime(e.getTime()+t)},function(e,t){return t.getTime()-e.getTime()}),Da=1e3,ka=60*Da,Ra=60*ka,Ia=24*Ra,Na=7*Ia,Fa=30*Ia,La=365*Ia,ja=new Aa(function(e){e.setTime(e.getTime()-e.getMilliseconds())},function(e,t){e.setTime(e.getTime()+t*Da)},function(e,t){return(t.getTime()-e.getTime())/Da}),Ga=new Aa(function(e){e.setTime(e.getTime()-e.getMilliseconds()-e.getSeconds()*Da)},function(e,t){e.setTime(e.getTime()+t*ka)},function(e,t){return(t.getTime()-e.getTime())/ka},function(e){return e.getMinutes()}),Va=new Aa(function(e){e.setTime(e.getTime()-e.getMilliseconds()-e.getSeconds()*Da-e.getMinutes()*ka)},function(e,t){e.setTime(e.getTime()+t*Ra)},function(e,t){return(t.getTime()-e.getTime())/Ra},function(e){return e.getHours()}),Ba=new Aa(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){var n=t.getTimezoneOffset()-e.getTimezoneOffset();return(t.getTime()-e.getTime()-n*ka)/Ia},function(e){return e.getDate()-1});function Wa(e){return new Aa(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t.getTime()-e.getTime()-(t.getTimezoneOffset()-e.getTimezoneOffset())*ka)/Na})}var za=Wa(0),Ua=Wa(1),Ha=(Wa(2),Wa(3),Wa(4)),Ka=(Wa(5),Wa(6),za),Xa=new Aa(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),qa=new Aa(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}),Ya=new Aa(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/Ia},function(e){return e.getUTCDate()-1}),Ja=new Aa(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});function Qa(e){return new Aa(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t.getTime()-e.getTime())/Na})}var Za=Qa(0),$a=Qa(1),es=(Qa(2),Qa(3),Qa(4)),ts=(Qa(5),Qa(6),Za);function ns(e){if(e.y>=0&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function os(e){if(e.y>=0&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rs(e){for(var t={},n=0,o=e.length;n<o;n++)t[e[n].toLowerCase()]=n;return t}function is(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}var as,ss,ls=37,us=/^\s*\d+/,cs=/^%/,ps=/[\\^$*+?|[\]().{}]/g,ds=function(e){return e.replace(ps,"\\$&")},hs=function(e){return new RegExp("^(?:"+e.map(ds).join("|")+")","i")},fs={"-":"",_:" ",0:"0"};function gs(e,t,n){var o=e<0?"-":"",r=String(o?-e:e),i=r.length;return o+(i<n?new Array(n-i+1).join(t)+r:r)}ss={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},as=function(e){var t=ss.dateTime,n=ss.date,o=ss.time,r=ss.periods,i=ss.days,a=ss.shortDays,s=ss.months,l=ss.shortMonths,u=hs(r),c=rs(r),p=hs(i),d=rs(i),h=hs(a),f=rs(a),g=hs(s),m=rs(s),y=hs(l),v=rs(l),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:void 0,d:_,e:_,f:function(e,t){return P(e,t)+"000"},H:function(e,t){return gs(e.getHours(),t,2)},I:function(e,t){return gs(e.getHours()%12||12,t,2)},j:function(e,t){return gs(1+Ba.count(qa.floor(e),e),t,3)},L:P,m:function(e,t){return gs(e.getMonth()+1,t,2)},M:function(e,t){return gs(e.getMinutes(),t,2)},p:function(e){return r[e.getHours()>=12?1:0]},Q:M,s:D,S:function(e,t){return gs(e.getSeconds(),t,2)},u:function(e){var t=e.getDay();return 0===t?7:t},U:function(e,t){return gs(za.count(qa.floor(e),e),t,2)},V:function(e,t){var n=e.getDay();e=n>=4||0===n?Ha.floor(e):Ha.ceil(e);var o=qa.floor(e);return gs(Ha.count(o,e)+(4===o.getDay()?1:0),t,2)},w:function(e){return e.getDay()},W:function(e,t){return gs(Ua.count(qa.floor(e),e),t,2)},x:void 0,X:void 0,y:function(e,t){return gs(e.getFullYear()%100,t,2)},Y:function(e,t){return gs(e.getFullYear()%1e4,t,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gs(Math.floor(t/60),"0",2)+gs(t%60,"0",2)},"%":A},C={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:void 0,d:T,e:T,f:function(e,t){return E(e,t)+"000"},H:function(e,t){return gs(e.getUTCHours(),t,2)},I:function(e,t){return gs(e.getUTCHours()%12||12,t,2)},j:function(e,t){return gs(1+Ya.count(Ja.floor(e),e),t,3)},L:E,m:function(e,t){return gs(e.getUTCMonth()+1,t,2)},M:function(e,t){return gs(e.getUTCMinutes(),t,2)},p:function(e){return r[e.getUTCHours()>=12?1:0]},Q:M,s:D,S:function(e,t){return gs(e.getUTCSeconds(),t,2)},u:function(e){var t=e.getUTCDay();return 0===t?7:t},U:function(e,t){return gs(ts.count(Ja.floor(e),e),t,2)},V:function(e,t){var n=e.getUTCDay();e=n>=4||0===n?es.floor(e):es.ceil(e);var o=Ja.floor(e);return gs(es.count(o,e)+(4===o.getUTCDay()?1:0),t,4)},w:function(e){return e.getUTCDay()},W:function(e,t){return gs($a.count(Ja.floor(e),e),t,2)},x:void 0,X:void 0,y:function(e,t){return gs(e.getUTCFullYear()%100,t,2)},Y:function(e,t){return gs(e.getUTCFullYear()%1e4,t,4)},Z:function(){return"+0000"},"%":A},w={a:function(e,t,n){var o=h.exec(t.slice(n));return o?(e.w=f[o[0].toLowerCase()],n+o[0].length):-1},A:function(e,t,n){var o=p.exec(t.slice(n));return o?(e.w=d[o[0].toLowerCase()],n+o[0].length):-1},b:function(e,t,n){var o=y.exec(t.slice(n));return o?(e.m=v[o[0].toLowerCase()],n+o[0].length):-1},B:function(e,t,n){var o=g.exec(t.slice(n));return o?(e.m=m[o[0].toLowerCase()],n+o[0].length):-1},c:function(e,n,o){return S(e,t,n,o)},d:R,e:R,f:function(e,t,n){var o=us.exec(t.slice(n,n+6));return o?(e.L=Math.floor(parseFloat(o[0])/1e3),n+o[0].length):-1},H:k,I:k,j:function(e,t,n){var o=us.exec(t.slice(n,n+3));return o?(e.m=0,e.d=+o[0],n+o[0].length):-1},L:function(e,t,n){var o=us.exec(t.slice(n,n+3));return o?(e.L=+o[0],n+o[0].length):-1},m:function(e,t,n){var o=us.exec(t.slice(n,n+2));return o?(e.m=parseFloat(o[0])-1,n+o[0].length):-1},M:function(e,t,n){var o=us.exec(t.slice(n,n+2));return o?(e.M=+o[0],n+o[0].length):-1},p:function(e,t,n){var o=u.exec(t.slice(n));return o?(e.p=c[o[0].toLowerCase()],n+o[0].length):-1},Q:function(e,t,n){var o=us.exec(t.slice(n));return o?(e.Q=+o[0],n+o[0].length):-1},s:function(e,t,n){var o=us.exec(t.slice(n));return o?(e.Q=1e3*+o[0],n+o[0].length):-1},S:function(e,t,n){var o=us.exec(t.slice(n,n+2));return o?(e.S=+o[0],n+o[0].length):-1},u:function(e,t,n){var o=us.exec(t.slice(n,n+1));return o?(e.u=+o[0],n+o[0].length):-1},U:function(e,t,n){var o=us.exec(t.slice(n,n+2));return o?(e.U=+o[0],n+o[0].length):-1},V:function(e,t,n){var o=us.exec(t.slice(n,n+2));return o?(e.V=+o[0],n+o[0].length):-1},w:function(e,t,n){var o=us.exec(t.slice(n,n+1));return o?(e.w=+o[0],n+o[0].length):-1},W:function(e,t,n){var o=us.exec(t.slice(n,n+2));return o?(e.W=+o[0],n+o[0].length):-1},x:function(e,t,o){return S(e,n,t,o)},X:function(e,t,n){return S(e,o,t,n)},y:function(e,t,n){var o=us.exec(t.slice(n,n+2));return o?(e.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1},Y:function(e,t,n){var o=us.exec(t.slice(n,n+4));return o?(e.y=+o[0],n+o[0].length):-1},Z:function(e,t,n){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return o?(e.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1},"%":function(e,t,n){var o=cs.exec(t.slice(n,n+1));return o?n+o[0].length:-1}};function O(e,t){return function(n){var o=is(1900);if(S(o,e,n+="",0)==n.length){if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return;if("w"in o||(o.w=1),"Z"in o){var r=(i=os(is(o.y))).getUTCDay();i=r>4||0===r?$a.ceil(i):$a.floor(i),i=Ya.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7}else{var i;r=(i=t(is(o.y))).getDay(),i=r>4||0===r?Ua.ceil(i):Ua.floor(i),i=Ba.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7}}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?os(is(o.y)).getUTCDay():t(is(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,os(o)):t(o)}}}function x(e,t){return function(n){var o=[],r=e.length,i=-1,a=0;for(n instanceof Date||(n=new Date(+n));++i<r;)if(e.charCodeAt(i)===ls){o.push(e.slice(a,i));var s=e.charAt(++i),l=fs[s];null!=l?s=e.charAt(++i):l="e"===s?" ":"0";var u=t[s];u&&(s=u(n,l)),o.push(s),a=i+1}return o.push(e.slice(a,i)),o.join("")}}function S(e,t,n,o){for(var r=0,i=t.length,a=n.length;r<i;){if(o>=a)return-1;var s=t.charCodeAt(r++);if(s===ls){var l=t.charAt(r++),u=w[l in fs?t.charAt(r++):l];if(!u||(o=u(e,n,o))<0)return-1}else if(s!=n.charCodeAt(o++))return-1}return o}function P(e,t){return gs(e.getMilliseconds(),t,3)}function _(e,t){return gs(e.getDate(),t,2)}function E(e,t){return gs(e.getUTCMilliseconds(),t,3)}function T(e,t){return gs(e.getUTCDate(),t,2)}function A(e){return"%"}function M(e){return e.getTime()}function D(e){return Math.floor(e.getTime()/1e3)}function k(e,t,n){var o=us.exec(t.slice(n,n+2));return o?(e.H=+o[0],n+o[0].length):-1}function R(e,t,n){var o=us.exec(t.slice(n,n+2));return o?(e.d=+o[0],n+o[0].length):-1}return b.x=x(n,b),b.X=x(o,b),b.c=x(t,b),C.x=x(n,C),C.X=x(o,C),C.c=x(t,C),{format:function(e){var t=x(e,b);return t.toString=function(){return e},t},parse:function(e){var t=O(e,ns);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e,C);return t.toString=function(){return e},t},utcParse:function(e){var t=O(e,os);return t.toString=function(){return e},t}}}();var ms,ys,vs,bs,Cs,ws=(Cs=function(e,t){return(Cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Cs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Os=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="time",t.year=qa,t.month=Xa,t.week=Ka,t.day=Ba,t.hour=Va,t.minute=Ga,t.second=ja,t.millisecond=Ma,t.format=as.format,t.tickIntervals=[[t.second,1,Da],[t.second,5,5*Da],[t.second,15,15*Da],[t.second,30,30*Da],[t.minute,1,ka],[t.minute,5,5*ka],[t.minute,15,15*ka],[t.minute,30,30*ka],[t.hour,1,Ra],[t.hour,3,3*Ra],[t.hour,6,6*Ra],[t.hour,12,12*Ra],[t.day,1,Ia],[t.day,2,2*Ia],[t.week,1,Na],[t.month,1,Fa],[t.month,3,3*Fa],[t.year,1,La]],t.formatMillisecond=t.format(".%L"),t.formatSecond=t.format(":%S"),t.formatMinute=t.format("%I:%M"),t.formatHour=t.format("%I %p"),t.formatDay=t.format("%a %d"),t.formatWeek=t.format("%b %d"),t.formatMonth=t.format("%B"),t.formatYear=t.format("%Y"),t._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],t}return ws(t,e),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,t,n,o){var r;if("number"==typeof e){var i=e,a=this.tickIntervals,s=Math.abs(n-t)/i,l=function(e,t,n,o,r){void 0===o&&(o=0),void 0===r&&(r=e.length);for(var i=function(e,t){return Kr(e[2],t)};o<r;){var a=o+r>>>1;i(e[a],t)<0?o=a+1:r=a}return o}(a,s);l===a.length?(o=ni(t/La,n/La,i),e=this.year):l?(e=(r=a[s/a[l-1][2]<a[l][2]/s?l-1:l])[0],o=r[1]):(o=Math.max(ni(t,n,e),1),e=this.millisecond)}return null==o?e:e.every(o)},Object.defineProperty(t.prototype,"domain",{get:function(){return e.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(t){e.prototype.setDomain.call(this,Array.prototype.map.call(t,function(e){return e instanceof Date?+e:+new Date(+e)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(t){return new Date(e.prototype.invert.call(this,t))},t.prototype.ticks=function(t){void 0===t&&(t=10);var n=e.prototype.getDomain.call(this),o=n[0],r=n[n.length-1],i=r<o;if(i){var a=o;o=r,r=a}var s=this.tickInterval(t,o,r),l=s?s.range(o,r+1):[];return i?l.reverse():l},t.prototype.tickFormat=function(e,t){return null==t?this.defaultTickFormat.bind(this):this.format(t)},t.prototype.nice=function(t){void 0===t&&(t=10);var n=e.prototype.getDomain.call(this),o=this.tickInterval(t,n[0],n[n.length-1]);o&&(this.domain=this._nice(n,o))},t.prototype._nice=function(e,t){var n,o,r=0,i=(e=e.slice()).length-1,a=e[r],s=e[i];return s<a&&(r=(n=[i,r])[0],i=n[1],a=(o=[s,a])[0],s=o[1]),e[r]=t.floor(a),e[i]=t.ceil(s),e},t}(Jr),xs=(bs=function(e,t){return(bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}bs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ss=function(e){function t(){var t=e.call(this)||this;t.datumFormat="%m/%d/%y, %H:%M:%S",t._nice=!0;var n=new Os;return n.clamp=!0,t.scale=n,t.datumFormatter=n.tickFormat(t.tick.count,t.datumFormat),t}return xs(t,e),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){e.length>2&&(e=(Si(e)||[0,1e3]).map(function(e){return new Date(e)})),this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),t.prototype.onLabelFormatChange=function(t){t?e.prototype.onLabelFormatChange.call(this,t):this.labelFormatter=this.scale.tickFormat(this.tick.count,void 0)},t.prototype.formatDatum=function(e){return this.datumFormatter(e)},t.className="TimeAxis",t.type="time",t}(ca),Ps=function(){function e(e,t,n){var o=this;void 0===e&&(e=window.document),this.id=mr(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var e,t=o.ctx,n=o.root,r=o.pendingSize;o.animationFrameId=0,r&&((e=o.canvas).resize.apply(e,r),o.pendingSize=void 0),!n||n.visible?(t.clearRect(0,0,o.width,o.height),n&&(t.save(),n.visible&&n.render(t),t.restore()),o._frameIndex++,o.debug.renderFrameIndex&&(t.fillStyle="white",t.fillRect(0,0,40,15),t.fillStyle="black",t.fillText(o.frameIndex.toString(),2,10)),o.dirty=!1):o.dirty=!1},this.canvas=new Dr(e,t,n),this.ctx=this.canvas.context}return Object.defineProperty(e.prototype,"container",{get:function(){return this.canvas.container},set:function(e){this.canvas.container=e},enumerable:!0,configurable:!0}),e.prototype.download=function(e){this.canvas.download(e)},e.prototype.getDataURL=function(e){return this.canvas.getDataURL(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){e=Math.round(e),t=Math.round(t),e===this.width&&t===this.height||(this.pendingSize=[e,t],this.dirty=!0)},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},set:function(e){e&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=e},enumerable:!0,configurable:!0}),e.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(e.prototype,"root",{get:function(){return this._root},set:function(e){e!==this._root&&(this._root&&this._root._setScene(),this._root=e,e&&(null===e.parent&&e.scene&&e.scene!==this&&(e.scene.root=null),e._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.appendPath=function(e){var t=this.ctx,n=e.commands,o=e.params,r=n.length,i=0;t.beginPath();for(var a=0;a<r;a++)switch(n[a]){case"M":t.moveTo(o[i++],o[i++]);break;case"L":t.lineTo(o[i++],o[i++]);break;case"C":t.bezierCurveTo(o[i++],o[i++],o[i++],o[i++],o[i++],o[i++]);break;case"Z":t.closePath()}},Object.defineProperty(e.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),e.className="Scene",e}(),_s=(vs=function(e,t){return(vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}vs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Es=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.angle=0,t}return _s(t,e),t.prototype.generateGradient=function(e,t){var n=this.stops,o=this.angle%360*Math.PI/180,r=Math.cos(o),i=Math.sin(o),a=t.width,s=t.height,l=t.x+.5*a,u=t.y+.5*s;if(a>0&&s>0){var c=Math.sqrt(s*s+a*a)*Math.abs(Math.cos(o-Math.atan(s/a)))/2,p=e.createLinearGradient(l+r*c,u+i*c,l-r*c,u-i*c);return n.forEach(function(e){p.addColorStop(e.offset,e.color)}),p}return"black"},t}(function(){this.stops=[]}),Ts=(ys=function(e,t){return(ys=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ys(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e[e.Content=0]="Content",e[e.Border=1]="Border"}(ms||(ms={}));var As,Ms,Ds,ks,Rs,Is,Ns,Fs,Ls,js=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._x=0,t._y=0,t._width=10,t._height=10,t._radius=0,t._crisp=!1,t._gradient=!1,t.effectiveStrokeWidth=Mr.defaultStyles.strokeWidth,t._sizing=ms.Content,t}return Ts(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius!==e&&(this._radius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient},set:function(e){this._gradient!==e&&(this._gradient=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.updateGradientInstance=function(){if(this.gradient){var e=this.fill;if(e){var t=new Es;t.angle=270,t.stops=[{offset:0,color:zr.fromString(e).brighter().toString()},{offset:1,color:zr.fromString(e).darker().toString()}],this.gradientInstance=t}}else this.gradientInstance=void 0},Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.crisp||this.sizing===ms.Border?this.dirtyPath=!0:(this.effectiveStrokeWidth=e,this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},set:function(e){this._sizing!==e&&(this._sizing=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.sizing===ms.Border,t=this.path;t.clear();var n,o=this.x,r=this.y,i=this.width,a=this.height;if(e){var s=i/2,l=a/2;n=Math.min(this.strokeWidth,s,l),o=Math.min(o+n/2,o+s),r=Math.min(r+n/2,r+l),i=Math.max(i-n,0),a=Math.max(a-n,0)}else n=this.strokeWidth;if(this.effectiveStrokeWidth=n,this.crisp&&!e){var u=this.alignment,c=this.align;t.rect(c(u,o),c(u,r),c(u,o,i),c(u,r,a))}else t.rect(o,r,i,a)},t.prototype.computeBBox=function(){return new fr(this.x,this.y,this.width,this.height)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t);return this.computeBBox().containsPoint(n.x,n.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.fillStroke=function(e){if(this.scene){var t=this.scene.canvas.pixelRatio||1;if(this.fill){e.fillStyle=this.gradientInstance?this.gradientInstance.generateGradient(e,this.computeBBox()):this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var n=this.fillShadow;n&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.effectiveStrokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var o=this.strokeShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*t,e.shadowOffsetY=o.yOffset*t,e.shadowBlur=o.blur*t),e.stroke()}}},t.className="Rect",t}(Wi),Gs=(Ls=function(e,t){return(Ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ls(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Vs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._x=0,t._y=0,t._size=12,t}return Gs(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=Math.abs(e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.size,t=e/2;return new fr(this.x-t,this.y-t,e,e)},t}(Wi),Bs=(Fs=function(e,t){return(Fs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Fs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ws=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bs(t,e),t.prototype.updatePath=function(){var e=this.path,t=this.x,n=this.y,o=this.size/2,r=this.alignment,i=this.align;e.clear(),e.moveTo(i(r,t-o),i(r,n-o)),e.lineTo(i(r,t+o),i(r,n-o)),e.lineTo(i(r,t+o),i(r,n+o)),e.lineTo(i(r,t-o),i(r,n+o)),e.closePath()},t.className="Square",t}(Vs),zs=(Ns=function(e,t){return(Ns=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ns(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Us=function(e){function t(){var t=e.call(this)||this;t.label=new Rr,t._marker=new Ws,t._markerSize=15,t._spacing=8;var n=t.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=Dr.has.textMetrics?1:0,t.append([t.marker,n]),t.update(),t}return zs(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.marker.opacity},set:function(e){this.marker.opacity=e,this.label.opacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this.markerSize;this.marker.size=e,this.label.x=e/2+this.spacing},t.className="MarkerLabel",t}(Mi),Hs=(Is=function(e,t){return(Is=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Is(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ks=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hs(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,o=this.size/2;n.clear(),n.cubicArc(e,t,o,o,0,0,2*Math.PI,0),n.closePath()},t.className="Circle",t}(Vs),Xs=(Rs=function(e,t){return(Rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Rs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),qs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xs(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,o=this.size/4.2;n.clear(),n.moveTo(e-=o,t),n.lineTo(e-=o,t-=o),n.lineTo(e+=o,t-=o),n.lineTo(e+=o,t+=o),n.lineTo(e+=o,t-=o),n.lineTo(e+=o,t+=o),n.lineTo(e-=o,t+=o),n.lineTo(e+=o,t+=o),n.lineTo(e-=o,t+=o),n.lineTo(e-=o,t-=o),n.lineTo(e-=o,t+=o),n.lineTo(e-=o,t-=o),n.closePath()},t.className="Cross",t}(Vs),Ys=(ks=function(e,t){return(ks=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ks(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Js=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,o=this.size/2;n.clear(),n.moveTo(e,t-=o),n.lineTo(e+=o,t+=o),n.lineTo(e-=o,t+=o),n.lineTo(e-=o,t-=o),n.lineTo(e+=o,t-=o),n.closePath()},t.className="Diamond",t}(Vs),Qs=(Ds=function(e,t){return(Ds=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ds(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Zs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qs(t,e),t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this.x,t=this.path,n=this.rad,o=this.size/4,r=this.y+o/2;t.clear(),t.cubicArc(e-o,r-o,o,o,0,n(130),n(330),0),t.cubicArc(e+o,r-o,o,o,0,n(220),n(50),0),t.lineTo(e,r+o),t.closePath()},t.className="Heart",t}(Vs),$s=(Ms=function(e,t){return(Ms=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ms(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),el=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $s(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,o=this.size/3,r=o/2;n.clear(),n.moveTo(e-=r,t-=r),n.lineTo(e,t-=o),n.lineTo(e+=o,t),n.lineTo(e,t+=o),n.lineTo(e+=o,t),n.lineTo(e,t+=o),n.lineTo(e-=o,t),n.lineTo(e,t+=o),n.lineTo(e-=o,t),n.lineTo(e,t-=o),n.lineTo(e-=o,t),n.lineTo(e,t-=o),n.closePath()},t.className="Plus",t}(Vs),tl=(As=function(e,t){return(As=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}As(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tl(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,o=1.1*this.size;n.clear(),n.moveTo(e,t-=.48*o),n.lineTo(e+=.5*o,t+=.87*o),n.lineTo(e-=o,t),n.closePath()},t.className="Triangle",t}(Vs);function ol(e){if(void 0===e&&(e=Ws),"string"==typeof e)switch(e){case"circle":return Ks;case"cross":return qs;case"diamond":return Js;case"heart":return Zs;case"plus":return el;case"triangle":return nl;default:return Ws}return"function"==typeof e?e:Ws}var rl,il,al,sl=(al=function(e,t){return(al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}al(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ll=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(rl||(rl={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left"}(il||(il={}));var ul=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.color="black",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t}return sl(t,e),ll([Lr("change")],t.prototype,"color",void 0),ll([Lr("layoutChange")],t.prototype,"fontStyle",void 0),ll([Lr("layoutChange")],t.prototype,"fontWeight",void 0),ll([Lr("layoutChange")],t.prototype,"fontSize",void 0),ll([Lr("layoutChange")],t.prototype,"fontFamily",void 0),ll([Lr()],t.prototype,"formatter",void 0),t}(Fr),cl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.size=15,t.padding=8,t.strokeWidth=1,t}return sl(t,e),ll([Lr("layoutChange")],t.prototype,"size",void 0),ll([Lr("layoutChange")],t.prototype,"shape",void 0),ll([Lr("layoutChange")],t.prototype,"padding",void 0),ll([Lr("change")],t.prototype,"strokeWidth",void 0),t}(Fr),pl=function(e){function t(){var t=e.call(this)||this;t.marker=new cl,t.label=new ul,t.paddingX=16,t.paddingY=8;var n=function(){return t.fireEvent({type:"change"})};t.marker.addEventListener("change",n),t.label.addEventListener("change",n);var o=function(){return t.fireEvent({type:"layoutChange"})};return t.marker.addEventListener("layoutChange",o),t.label.addEventListener("layoutChange",o),t}return sl(t,e),ll([Lr("layoutChange")],t.prototype,"paddingX",void 0),ll([Lr("layoutChange")],t.prototype,"paddingY",void 0),t}(Fr),dl=function(e){function t(){var t=e.call(this)||this;return t.id=mr(t),t.group=new Mi,t.itemSelection=ki.select(t.group).selectAll(),t.oldSize=[0,0],t.item=new pl,t.data=[],t.enabled=!0,t.orientation=rl.Vertical,t.position=il.Right,t.spacing=20,t._size=[0,0],t.addPropertyListener("data",t.onDataChange),t.addPropertyListener("enabled",t.onEnabledChange),t.addPropertyListener("position",t.onPositionChange),t.item.marker.addPropertyListener("shape",t.onMarkerShapeChange,t),t.addEventListener("change",t.update),t.item.addEventListener("change",function(){return t.fireEvent({type:"change"})}),t.item.addEventListener("layoutChange",function(){return t.fireEvent({type:"layoutChange"})}),t}return sl(t,e),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.onDataChange=function(e){this.group.visible=e.value.length>0&&this.enabled},t.prototype.onEnabledChange=function(e){this.group.visible=e.value&&this.data.length>0},t.prototype.onPositionChange=function(e){switch(e.value){case"right":case"left":this.orientation=rl.Vertical;break;case"bottom":case"top":this.orientation=rl.Horizontal}},t.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove(),this.group.scene&&this.group.scene.cancelRender()},t.prototype.performLayout=function(e,t){var n=this.item,o=n.marker,r=n.paddingX,i=n.paddingY,a=this.itemSelection.setData(this.data,function(e,t){var n=ol(o.shape||t.marker.shape);return t.id+"-"+t.itemId+"-"+n.name});a.exit.remove();var s=a.enter.append(Us).each(function(e,t){var n=ol(o.shape||t.marker.shape);e.marker=new n}),l=this.itemSelection=a.merge(s),u=l.size,c=[],p=this.item.marker,d=this.item.label;l.each(function(e,t){e.markerSize=p.size,e.spacing=p.padding,e.fontStyle=d.fontStyle,e.fontWeight=d.fontWeight,e.fontSize=d.fontSize,e.fontFamily=d.fontFamily,e.text=t.label.text,c.push(e.computeBBox())});var h=c.length&&c[0].height,f=0,g=0,m=0,y=0;switch(this.orientation){case rl.Horizontal:if(!(isFinite(e)&&e>0))return!1;f=0;var v=0;do{var b=0;v=0,g=0,f++;for(var C=0;C<u;)(x=c[C]).width>g&&(g=x.width),++C%f==0&&(b+=g,g=0,v++);C%f!=0&&(b+=g,v++),m=b+(v-1)*r}while(m>e&&v>1);y=h*f+(f-1)*i;break;case rl.Vertical:if(!(isFinite(t)&&t>0))return!1;f=2*u;do{f=(f>>1)+f%2,g=0,b=0;var w=0,O=0;for(C=0;C<u;){var x=c[C];O||(w+=x.height),x.width>g&&(g=x.width),++C%f==0&&(b+=g,g=0,O++)}C%f!=0&&(b+=g,O++),m=b+(O-1)*r,y=w+(f-1)*i}while(y>t&&f>1)}var S=(e-m)/2,P=(t-y)/2,_=0,E=0;g=0,l.each(function(e,t,n){e.translationX=Math.floor(S+_),e.translationY=Math.floor(P+E);var o=c[n];o.width>g&&(g=o.width),(n+1)%f==0?(_+=g+r,E=0,g=0):E+=o.height+i}),this.update();var T=this._size,A=this.oldSize;T[0]=m,T[1]=y,T[0]===A[0]&&T[1]===A[1]||(A[0]=T[0],A[1]=T[1])},t.prototype.update=function(){var e=this;this.itemSelection.each(function(t,n){var o=n.marker;t.markerFill=o.fill,t.markerStroke=o.stroke,t.markerStrokeWidth=e.item.marker.strokeWidth,t.markerFillOpacity=o.fillOpacity,t.markerStrokeOpacity=o.strokeOpacity,t.opacity=n.enabled?1:.5,t.color=e.item.label.color})},t.prototype.getDatumForPoint=function(e,t){var n=this.group.pickNode(e,t);if(n&&n.parent)return n.parent.datum},t.className="Legend",ll([Lr("layoutChange")],t.prototype,"data",void 0),ll([Lr("layoutChange")],t.prototype,"enabled",void 0),ll([Lr("layoutChange")],t.prototype,"orientation",void 0),ll([Lr("layoutChange")],t.prototype,"position",void 0),ll([Lr("layoutChange")],t.prototype,"spacing",void 0),t}(Fr),hl=function(){function e(){}return e.init=function(){var e=this,t=window.ResizeObserver;t?this.resizeObserver=new t(function(t){for(var n=0,o=t;n<o.length;n++){var r=o[n],i=r.contentRect,a=i.width,s=i.height;e.checkSize(e.elements.get(r.target),r.target,a,s)}}):window.setInterval(function(){e.elements.forEach(function(t,n){e.checkSize(t,n,n.clientWidth?n.clientWidth:0,n.clientHeight?n.clientHeight:0)})},100),this.ready=!0},e.checkSize=function(e,t,n,o){e&&(e.size&&n===e.size.width&&o===e.size.height||(e.size={width:n,height:o},e.cb(e.size,t)))},e.observe=function(e,t){this.ready||this.init(),this.unobserve(e),this.resizeObserver&&this.resizeObserver.observe(e),this.elements.set(e,{cb:t})},e.unobserve=function(e){this.resizeObserver&&this.resizeObserver.unobserve(e),this.elements.delete(e)},e.elements=new Map,e.requestAnimationFrameId=0,e.ready=!1,e}();function fl(e,t,n,o,r,i,a){var s=e-(e<o?o:e>o+i?o+i:e),l=t-(t<r?r:t>r+a?r+a:t);return Math.sqrt(s*s+l*l)<=n}var gl,ml=(gl=function(e,t){return(gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}gl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),yl=function(){return(yl=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},vl=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},bl='\n.ag-chart-tooltip {\n    display: table;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-hidden {\n    top: -10000px !important;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n';function Cl(e,t){if("string"==typeof e)return e;t=t||{};var n=e.content,o=e.title,r=void 0===o?t.title||void 0:o,i=e.color,a=e.backgroundColor;return(r?'<div class="'+Fl.defaultTooltipClass+'-title"\n        style="color: '+(void 0===i?t.color||"white":i)+"; background-color: "+(void 0===a?t.backgroundColor||"#888":a)+'">'+r+"</div>":"")+'<div class="'+Fl.defaultTooltipClass+'-content">'+(void 0===n?t.content||"":n)+"</div>"}var wl,Ol,xl,Sl,Pl,_l,El,Tl,Al,Ml,Dl,kl,Rl,Il,Nl=function(e){function t(t){var n=e.call(this)||this;n.element=document.createElement("div"),n.enabled=!0,n.class=Fl.defaultTooltipClass,n.delay=0,n.tracking=!0,n.showTimeout=0,n.constrained=!1,n.chart=t,n.class="";var o=document.body;if(o.appendChild(n.element),window.IntersectionObserver){var r=n.chart.scene.canvas.element,i=new IntersectionObserver(function(e){for(var t=0,o=e;t<o.length;t++){var i=o[t];i.target===r&&0===i.intersectionRatio&&n.toggle(!1)}},{root:o});i.observe(r),n.observer=i}return n}return ml(t,e),t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(Fl.defaultTooltipClass+"-hidden");var t=e.getAttribute("class");return!!t&&t.split(" ").indexOf(Fl.defaultTooltipClass+"-hidden")<0},t.prototype.updateClass=function(e,t){var n=[Fl.defaultTooltipClass,this.class];!0!==e&&n.push(Fl.defaultTooltipClass+"-hidden"),!0!==t&&n.push(Fl.defaultTooltipClass+"-arrow"),this.element.setAttribute("class",n.join(" "))},t.prototype.show=function(e,t,n){var o=this;void 0===n&&(n=!1);var r=this.element;if(void 0!==t)r.innerHTML=t;else if(!r.innerHTML)return;var i=e.pageX-r.clientWidth/2,a=e.pageY-r.clientHeight-8;if(this.constrained=!1,this.chart.container){var s=r.getBoundingClientRect(),l=window.innerWidth-s.width;i<0?(i=0,this.updateClass(!0,this.constrained=!0)):i>l&&(i=l,this.updateClass(!0,this.constrained=!0)),a<window.pageYOffset&&(a=e.pageY+20,this.updateClass(!0,this.constrained=!0))}if(r.style.left=Math.round(i)+"px",r.style.top=Math.round(a)+"px",this.delay>0&&!n)return this.toggle(!1),void(this.showTimeout=window.setTimeout(function(){o.toggle(!0)},this.delay));this.toggle(!0)},t.prototype.toggle=function(e){e||(window.clearTimeout(this.showTimeout),this.chart.lastPick&&!this.delay&&(this.chart.dehighlightDatum(),this.chart.lastPick=void 0)),this.updateClass(e,this.constrained)},t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element),this.observer&&this.observer.unobserve(this.chart.scene.canvas.element)},vl([Lr()],t.prototype,"enabled",void 0),vl([Lr()],t.prototype,"class",void 0),vl([Lr()],t.prototype,"delay",void 0),vl([Lr()],t.prototype,"tracking",void 0),t}(Fr),Fl=function(e){function t(n){void 0===n&&(n=window.document);var o=e.call(this)||this;o.id=mr(o),o.background=new js,o.legend=new dl,o.legendAutoPadding=new hr,o.captionAutoPadding=0,o._container=void 0,o._data=[],o._autoSize=!1,o.padding=new hr(20),o._axes=[],o._series=[],o._axesChanged=!1,o._seriesChanged=!1,o.layoutCallbackId=0,o._performLayout=function(){o.layoutCallbackId=0,o.background.width=o.width,o.background.height=o.height,o.performLayout(),o.layoutPending||o.fireEvent({type:"layoutDone"})},o.dataCallbackId=0,o.nodeData=new Map,o.legendBBox=new fr(0,0,0,0),o._onMouseDown=o.onMouseDown.bind(o),o._onMouseMove=o.onMouseMove.bind(o),o._onMouseUp=o.onMouseUp.bind(o),o._onMouseOut=o.onMouseOut.bind(o),o._onClick=o.onClick.bind(o),o.pointerInsideLegend=!1;var r=new Mi,i=o.background;i.fill="white",r.appendChild(i);var a=o._element=n.createElement("div");a.setAttribute("class","ag-chart-wrapper");var s=new Ps(n);o.scene=s,s.root=r,s.container=a,o.autoSize=!0;var l=o.legend;if(l.addEventListener("layoutChange",o.onLayoutChange,o),l.item.label.addPropertyListener("formatter",o.updateLegend,o),l.addPropertyListener("position",o.onLegendPositionChange,o),o.tooltip=new Nl(o),o.tooltip.addPropertyListener("class",function(){return o.tooltip.toggle()}),t.tooltipDocuments.indexOf(n)<0){var u=n.createElement("style");u.innerHTML=bl,n.head.insertBefore(u,n.head.querySelector("style")),t.tooltipDocuments.push(n)}return o.setupDomListeners(s.canvas.element),o.addPropertyListener("title",o.onCaptionChange),o.addPropertyListener("subtitle",o.onCaptionChange),o.addEventListener("layoutChange",function(){return o.layoutPending=!0}),o}return ml(t,e),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var t=this.element.parentNode;null!=t&&t.removeChild(this.element),e&&e.appendChild(this.element),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach(function(t){return t.data=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&(this.scene.resize(e,this.height),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&(this.scene.resize(this.width,e),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e){this._autoSize=e;var t=this.element.style;if(e){var n=this;hl.observe(this.element,function(e){e.width===n.width&&e.height===n.height||(n.scene.resize(e.width,e.height),n.fireEvent({type:"layoutChange"}))}),t.display="block",t.width="100%",t.height="100%"}else hl.unobserve(this.element),t.display="inline-block",t.width="auto",t.height="auto"}},enumerable:!0,configurable:!0}),t.prototype.download=function(e){this.scene.download(e)},t.prototype.destroy=function(){this.tooltip.destroy(),hl.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},t.prototype.onLayoutChange=function(){this.layoutPending=!0},t.prototype.onLegendPositionChange=function(){this.legendAutoPadding.clear(),this.layoutPending=!0},t.prototype.onCaptionChange=function(e){var t=e.value,n=e.oldValue;n&&(n.removeEventListener("change",this.onLayoutChange,this),this.scene.root.removeChild(n.node)),t&&(t.addEventListener("change",this.onLayoutChange,this),this.scene.root.appendChild(t.node))},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var t=this;this._axes.forEach(function(e){return t.detachAxis(e)}),this._axes=e.filter(function(e){return!e.linkedTo}).concat(e.filter(function(e){return e.linkedTo})),this._axes.forEach(function(e){return t.attachAxis(e)}),this.axesChanged=!0},enumerable:!0,configurable:!0}),t.prototype.attachAxis=function(e){this.scene.root.insertBefore(e.group,this.seriesRoot)},t.prototype.detachAxis=function(e){this.scene.root.removeChild(e.group)},Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var t=this;this.removeAllSeries(),e.forEach(function(e){return t.addSeries(e)})},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){this.layoutPending=!0},t.prototype.scheduleData=function(){this.dehighlightDatum(),this.dataPending=!0},t.prototype.addSeries=function(e,t){var n=this.series,o=this.seriesRoot;if(n.indexOf(e)<0){var r=t?n.indexOf(t):-1;return r>=0?(n.splice(r,0,e),o.insertBefore(e.group,t.group)):(n.push(e),o.append(e.group)),this.initSeries(e),this.seriesChanged=!0,this.axesChanged=!0,!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.data||(e.data=this.data),e.addEventListener("layoutChange",this.scheduleLayout,this),e.addEventListener("dataChange",this.scheduleData,this),e.addEventListener("legendChange",this.updateLegend,this),e.addEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("layoutChange",this.scheduleLayout,this),e.removeEventListener("dataChange",this.scheduleData,this),e.removeEventListener("legendChange",this.updateLegend,this),e.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.addSeriesAfter=function(e,t){var n=this.series,o=this.seriesRoot;if(n.indexOf(e)<0){var r=t?this.series.indexOf(t):-1;r>=0?(r+1<n.length?o.insertBefore(e.group,n[r+1].group):o.append(e.group),this.initSeries(e),n.splice(r+1,0,e)):(n.length>0?o.insertBefore(e.group,n[0].group):o.append(e.group),this.initSeries(e),n.unshift(e)),this.seriesChanged=!0,this.axesChanged=!0}return!1},t.prototype.removeSeries=function(e){var t=this.series.indexOf(e);return t>=0&&(this.series.splice(t,1),this.freeSeries(e),this.seriesRoot.removeChild(e.group),this.seriesChanged=!0,!0)},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(t){e.freeSeries(t),e.seriesRoot.removeChild(t.group)}),this._series=[],this.seriesChanged=!0},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(t){var n=t.direction+"Axis",o=[];e.series.forEach(function(e){e[n]===t&&o.push(e)}),t.boundSeries=o}),this.seriesChanged=!1},t.prototype.assignAxesToSeries=function(e){var t=this;void 0===e&&(e=!1);var n={};this.axes.forEach(function(e){var t=e.direction;(n[t]||(n[t]=[])).push(e)}),this.series.forEach(function(o){o.directions.forEach(function(r){var i=r+"Axis";if(!o[i]||e){var a=n[r];if(a){var s=t.findMatchingAxis(a,o.getKeys(r));s&&(o[i]=s)}}})}),this.axesChanged=!1},t.prototype.findMatchingAxis=function(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=o.keys;if(!r.length)return o;if(t)for(var i=0;i<t.length;i++)if(r.indexOf(t[i])>=0)return o}},Object.defineProperty(t.prototype,"axesChanged",{get:function(){return this._axesChanged},set:function(e){this._axesChanged=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seriesChanged",{get:function(){return this._seriesChanged},set:function(e){this._seriesChanged=e,e&&(this.dataPending=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutPending",{get:function(){return!!this.layoutCallbackId},set:function(e){e?this.layoutCallbackId||this.dataPending||(this.layoutCallbackId=requestAnimationFrame(this._performLayout)):this.layoutCallbackId&&(cancelAnimationFrame(this.layoutCallbackId),this.layoutCallbackId=0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataPending",{get:function(){return!!this.dataCallbackId},set:function(e){var t=this;this.dataCallbackId&&(clearTimeout(this.dataCallbackId),this.dataCallbackId=0),e&&(this.dataCallbackId=window.setTimeout(function(){t.dataPending=!1,t.processData()},0))},enumerable:!0,configurable:!0}),t.prototype.processData=function(){this.layoutPending=!1,this.axesChanged&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.seriesChanged&&this.assignSeriesToAxes(),this.series.forEach(function(e){return e.processData()}),this.updateLegend(),this.layoutPending=!0},t.prototype.generateNodeData=function(){var e=this;this.nodeData.clear(),this.series.forEach(function(t){var n=t.visible?t.generateNodeData():[];e.nodeData.set(t,n)})},t.prototype.placeLabels=function(){var e=[],t=[];this.nodeData.forEach(function(n,o){o.visible&&o.label.enabled&&(e.push(o),t.push(o.getLabelData()))});var n=this.seriesRect,o=n?function(e,t,n){void 0===n&&(n=5);var o=[];e=e.map(function(e){return e.slice().sort(function(e,t){return t.size-e.size})});for(var r=0;r<e.length;r++){var i=o[r]=[],a=e[r];if(a&&a[0].label)for(var s=function(r,s){var l,u,c,p,d=a[r],h=d.label,f=d.point.x-.5*h.width,g=d.point.y-.5*d.size-h.height-n,m=h.width,y=h.height;return!t||(u=t.y,p=g,(c=f)+m<(l=t.x)+t.width&&c>l&&p>u&&p+y<u+t.height)?e.some(function(e){return e.some(function(e){return fl(e.point.x,e.point.y,.5*e.size,f,g,m,y)})})?"continue":o.some(function(e){return e.some(function(e){return n=e.y,r=g,(t=e.x)+e.width>(o=f)&&t<o+m&&n+e.height>r&&n<r+y;var t,n,o,r})})?"continue":void i.push({index:r,text:h.text,x:f,y:g,width:m,height:y}):"continue"},l=0,u=a.length;l<u;l++)s(l)}return o}(t,{x:0,y:0,width:n.width,height:n.height}):[];return new Map(o.map(function(t,n){return[e[n],t]}))},t.prototype.updateLegend=function(){var e=[];this.series.filter(function(e){return e.showInLegend}).forEach(function(t){return t.listSeriesItems(e)});var t=this.legend.item.label.formatter;t&&e.forEach(function(e){return e.label.text=t({id:e.id,itemId:e.itemId,value:e.label.text})}),this.legend.data=e},t.prototype.positionCaptions=function(){var e=this.title,t=this.subtitle,n=!1,o=!1,r=10;if(e&&e.enabled){e.node.x=this.width/2,e.node.y=r,n=!0;var i=e.node.computeBBox();if(i&&(r=i.y+i.height),t&&t.enabled){t.node.x=this.width/2,t.node.y=r+10,o=!0;var a=t.node.computeBBox();a&&(r=a.y+a.height)}}e&&(e.node.visible=n),t&&(t.node.visible=o),this.captionAutoPadding=Math.floor(r)},t.prototype.positionLegend=function(){if(this.legend.enabled&&this.legend.data.length){var e,t=this.legend,n=this.captionAutoPadding,o=this.legendAutoPadding,r=this.width,i=this.height-n,a=t.group,s=t.spacing,l=0,u=0;switch(t.position){case"bottom":t.performLayout(r-2*s,0),l=(r-(e=a.computeBBox()).width)/2-e.x,u=n+i-e.height-e.y-s,o.bottom=e.height;break;case"top":t.performLayout(r-2*s,0),l=(r-(e=a.computeBBox()).width)/2-e.x,u=n+s-e.y,o.top=e.height;break;case"left":t.performLayout(0,i-2*s),l=s-(e=a.computeBBox()).x,u=n+(i-e.height)/2-e.y,o.left=e.width;break;default:t.performLayout(0,i-2*s),l=r-(e=a.computeBBox()).width-e.x-s,u=n+(i-e.height)/2-e.y,o.right=e.width}a.translationX=Math.floor(l+a.translationX),a.translationY=Math.floor(u+a.translationY),this.legendBBox=a.computeBBox()}},t.prototype.setupDomListeners=function(e){e.addEventListener("mousedown",this._onMouseDown),e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseup",this._onMouseUp),e.addEventListener("mouseout",this._onMouseOut),e.addEventListener("click",this._onClick)},t.prototype.cleanupDomListeners=function(e){e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("mouseout",this._onMouseOut),e.removeEventListener("click",this._onClick)},t.prototype.getSeriesRect=function(){return this.seriesRect},t.prototype.pickSeriesNode=function(e,t){if(this.seriesRect&&this.seriesRect.containsPoint(e,t))for(var n=this.series,o=void 0,r=n.length-1;r>=0;r--){var i=n[r];if(i.visible&&(o=i.pickGroup.pickNode(e,t)))return{series:i,node:o}}},t.prototype.pickClosestSeriesNodeDatum=function(e,t){if(this.seriesRect&&this.seriesRect.containsPoint(e,t)){for(var n,o=this.series,r=1/0,i=function(i){var a=o[i];if(!a.visible)return"continue";var s=a.group.transformPoint(e,t);a.getNodeData().forEach(function(e){if(e.point){var t,o,i=(t=s,o=e.point,Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2)));i<r&&(r=i,n=e)}})},a=o.length-1;a>=0;a--)i(a);return n||void 0}},t.prototype.onMouseMove=function(e){this.handleLegendMouseMove(e),this.tooltip.enabled&&(this.tooltip.delay>0&&this.tooltip.toggle(!1),this.handleTooltip(e))},t.prototype.handleTooltip=function(e){var t,n=this.lastPick,o=this.tooltip.tracking,r=e.offsetX,i=e.offsetY,a=this.pickSeriesNode(r,i);if(a&&a.node instanceof Mr){var s=a.node;if(t=s.datum,n&&n.datum===t&&(n.node=s,n.event=e),!s.datum.point||!o)return void(n&&n.node===s?a.series.tooltip.enabled&&this.tooltip.show(e):this.onSeriesDatumPick(e,s.datum,s,e))}var l=!1;if(o){var u=this.pickClosestSeriesNodeDatum(r,i);if(u&&u.point){var c=u.point,p=this.scene.canvas,d=u.series.group.inverseTransformPoint(c.x,c.y),h=p.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(h.left+window.pageXOffset+d.x),pageY:Math.round(h.top+window.pageYOffset+d.y)},u,t===u&&a?a.node:void 0,e)}else l=!0}!n||!l&&o||(this.dehighlightDatum(),this.tooltip.toggle(!1),this.lastPick=void 0)},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseOut=function(e){this.tooltip.toggle(!1)},t.prototype.onClick=function(e){this.checkSeriesNodeClick()||this.checkLegendClick(e)||this.fireEvent({type:"click",event:e})},t.prototype.checkSeriesNodeClick=function(){var e=this.lastPick;if(e&&e.event&&e.node){var t=e.datum;return t.series.fireNodeClickEvent(e.event,t),!0}return!1},t.prototype.onSeriesNodeClick=function(e){this.fireEvent(yl(yl({},e),{type:"seriesNodeClick"}))},t.prototype.checkLegendClick=function(e){var t=this.legend.getDatumForPoint(e.offsetX,e.offsetY);if(t){var n=t.id,o=t.itemId,r=t.enabled,i=Oi(this.series,function(e){return e.id===n});if(i)return i.toggleSeriesItem(o,!r),r&&this.tooltip.toggle(!1),this.legend.fireEvent({type:"click",event:e,itemId:o,enabled:!r}),!0}return!1},t.prototype.handleLegendMouseMove=function(e){if(this.legend.enabled){var t=e.offsetX,n=e.offsetY,o=this.legend.getDatumForPoint(t,n);if(this.legendBBox.containsPoint(t,n))this.pointerInsideLegend||(this.pointerInsideLegend=!0);else if(this.pointerInsideLegend)return this.pointerInsideLegend=!1,void this.series.forEach(function(e){e.highlightStyle.series.enabled&&(e.undim(),e.dehighlight())});if(o){var r=o.id,i=o.itemId,a=Oi(this.series,function(e){return e.id===r});a&&a.highlightStyle.series.enabled&&this.series.forEach(function(e){return e===a?e.highlight(i):e.dim()})}}},t.prototype.onSeriesDatumPick=function(e,t,n,o){this.lastPick&&this.dehighlightDatum(),this.lastPick={datum:t,node:n,event:o},this.highlightDatum(t,n);var r=t.series.tooltip.enabled&&t.series.getTooltipHtml(t);r&&this.tooltip.show(e,r)},t.prototype.highlightDatum=function(e,t){var n=this.scene.canvas.element.style;this.highlightedDatum=e,this.series.forEach(function(o){t&&(n.cursor=o.cursor),o.highlightStyle.series.enabled&&(o===e.series?o.highlight(e.itemId):o.dim()),o.onHighlightChange()})},t.prototype.dehighlightDatum=function(){this.highlightedDatum&&(this.scene.canvas.element.style.cursor="default",this.highlightedDatum=void 0,this.series.forEach(function(e){e.onHighlightChange(),e.highlightStyle.series.enabled&&(e.undim(),e.dehighlight())}))},t.defaultTooltipClass="ag-chart-tooltip",t.tooltipDocuments=[],vl([Lr("layoutChange")],t.prototype,"padding",void 0),vl([Lr("layoutChange")],t.prototype,"title",void 0),vl([Lr("layoutChange")],t.prototype,"subtitle",void 0),t}(Fr),Ll=(Il=function(e,t){return(Il=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Il(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),jl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContainerNode=!0,t.path=new Vi,t._enabled=!0,t._dirtyPath=!0,t._x=0,t._y=0,t._width=10,t._height=10,t}return Ll(t,e),t.prototype.containsPoint=function(e,t){var n=this.transformPoint(e,t);return n.x>=this.x&&n.x<=this.x+this.width&&n.y>=this.y&&n.y<=this.y+this.height},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.rect(this.x,this.y,this.width,this.height),this.dirtyPath=!1},t.prototype.computeBBox=function(){return new fr(this.x,this.y,this.width,this.height)},t.prototype.render=function(e){this.enabled&&(this.dirtyPath&&this.updatePath(),this.scene.appendPath(this.path),e.clip());for(var t=this.children,n=t.length,o=0;o<n;o++){e.save();var r=t[o];r.visible&&r.render(e),e.restore()}},t.className="ClipRect",t}(yr),Gl=(Rl=function(e,t){return(Rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Rl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Vl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._fill="#f2f2f2",t._stroke="#999999",t._strokeWidth=1,t._lineCap="square",t._centerX=0,t._centerY=0,t._width=8,t._gripLineGap=2,t._gripLineLength=8,t._height=16,t}return Gl(t,e),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.width,t=this.height;return new fr(this.centerX-e/2,this.centerY-t/2,e,t)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t);return this.computeBBox().containsPoint(n.x,n.y)},t.prototype.updatePath=function(){var e=this,t=e.path,n=e.centerX,o=e.centerY,r=e.width,i=e.height,a=this.alignment,s=this.align;t.clear();var l=n-r/2,u=o-i/2,c=s(a,l),p=s(a,u),d=c+s(a,l,r),h=p+s(a,u,i);t.moveTo(c,p),t.lineTo(d,p),t.lineTo(d,h),t.lineTo(c,h),t.lineTo(c,p);var f=this.gripLineGap/2,g=this.gripLineLength/2;t.moveTo(s(a,n-f),s(a,o-g)),t.lineTo(s(a,n-f),s(a,o+g)),t.moveTo(s(a,n+f),s(a,o-g)),t.lineTo(s(a,n+f),s(a,o+g))},t.className="RangeHandle",t}(Wi),Bl=(kl=function(e,t){return(kl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}kl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Wl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stroke="#999999",t._strokeWidth=1,t._fill="#999999",t._fillOpacity=.2,t._lineCap="square",t._x=0,t._y=0,t._width=200,t._height=30,t.minRange=.05,t._min=0,t._max=1,t}return Bl(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e=Math.min(Math.max(e,0),this.max-this.minRange),isNaN(e)||this._min!==e&&(this._min=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(e,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e=Math.max(Math.min(e,1),this.min+this.minRange),isNaN(e)||this._max!==e&&(this._max=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,e))},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new fr(this.x,this.y,this.width,this.height)},t.prototype.computeVisibleRangeBBox=function(){var e=this,t=e.x,n=e.width,o=t+n*e.min;return new fr(o,e.y,t+n*e.max-o,e.height)},t.prototype.updatePath=function(){var e=this,t=e.path,n=e.x,o=e.y,r=e.width,i=e.height,a=e.min,s=e.max,l=this.alignment,u=this.align;t.clear();var c=u(l,n),p=u(l,o),d=c+u(l,n,r),h=p+u(l,o,i);t.moveTo(c,p),t.lineTo(d,p),t.lineTo(d,h),t.lineTo(c,h),t.lineTo(c,p);var f=u(l,n+r*a),g=u(l,n+r*s);t.moveTo(f,p),t.lineTo(f,h),t.lineTo(g,h),t.lineTo(g,p),t.lineTo(f,p)},t.className="RangeMask",t}(Wi),zl=(Dl=function(e,t){return(Dl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Dl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ul=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isContainerNode=!0,n.minHandle=new Vl,n.maxHandle=new Vl,n.mask=function(){var e=t.defaults,o=e.x,r=e.y,i=e.width,a=e.height,s=e.min,l=e.max,u=new Wl;u.x=o,u.y=r,u.width=i,u.height=a,u.min=s,u.max=l;var c=n.minHandle,p=n.maxHandle;return c.centerX=o,p.centerX=o+i,c.centerY=p.centerY=r+a/2,n.append([u,c,p]),u.onRangeChange=function(e,t){n.updateHandles(),n.onRangeChange&&n.onRangeChange(e,t)},u}(),n._x=t.defaults.x,n._y=t.defaults.y,n._width=t.defaults.width,n._height=t.defaults.height,n._min=t.defaults.min,n._max=t.defaults.max,n}return zl(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!0,configurable:!0}),t.prototype.updateHandles=function(){var e=this,t=e.minHandle,n=e.maxHandle,o=e.x,r=e.y,i=e.width,a=e.height,s=e.mask;t.centerX=o+i*s.min,n.centerX=o+i*s.max,t.centerY=n.centerY=r+a/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),[this.mask,this.minHandle,this.maxHandle].forEach(function(t){e.save(),t.visible&&t.render(e),e.restore()})},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(Mi),Hl=function(){function e(e){this.rm=e}return Object.defineProperty(e.prototype,"fill",{get:function(){return this.rm.fill},set:function(e){this.rm.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(e){this.rm.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(e){this.rm.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(e){this.rm.fillOpacity=e},enumerable:!0,configurable:!0}),e}(),Kl=function(){function e(e){this.rh=e}return Object.defineProperty(e.prototype,"fill",{get:function(){return this.rh.fill},set:function(e){this.rh.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(e){this.rh.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(e){this.rh.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rh.width},set:function(e){this.rh.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rh.height},set:function(e){this.rh.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(e){this.rh.gripLineGap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(e){this.rh.gripLineLength=e},enumerable:!0,configurable:!0}),e}(),Xl=function(){function e(e){var t=this;this.rs=new Ul,this.mask=new Hl(this.rs.mask),this.minHandle=new Kl(this.rs.minHandle),this.maxHandle=new Kl(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this._margin=10,this.chart=e,e.scene.root.append(this.rs),this.rs.onRangeChange=function(e,n){return t.updateAxes(e,n)}}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this.rs.visible},set:function(e){this.rs.visible=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.rs.x},set:function(e){this.rs.x=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.rs.y},set:function(e){this.rs.y=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rs.width},set:function(e){this.rs.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rs.height},set:function(e){this.rs.height=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"margin",{get:function(){return this._margin},set:function(e){this._margin=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.rs.min},set:function(e){this.rs.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.rs.max},set:function(e){this.rs.max=e},enumerable:!0,configurable:!0}),e.prototype.updateAxes=function(e,t){var n=this.chart,o=!1;n.axes.forEach(function(n){n.direction===ea.X&&(!o&&(e>0||t<1)&&(o=!0),n.visibleRange=[e,t],n.update())}),n.seriesRoot.enabled=o,n.series.forEach(function(e){return e.update()})},e.prototype.onDragStart=function(e){if(this.enabled){var t=e.offsetX,n=e.offsetY,o=this.rs,r=o.minHandle,i=o.maxHandle,a=o.x,s=o.width,l=o.min,u=o.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(r.containsPoint(t,n)?this.minHandleDragging=!0:i.containsPoint(t,n)?this.maxHandleDragging=!0:u.containsPoint(t,n)&&(this.panHandleOffset=(t-a)/s-l))}},e.prototype.onDrag=function(e){if(this.enabled){var t=this.rs,n=this.panHandleOffset,o=t.x,r=t.width,i=t.minHandle,a=t.maxHandle,s=this.chart.element.style,l=e.offsetX,u=e.offsetY,c=o+r*t.min,p=new fr(c,t.y,o+r*t.max-c,t.height);if(s.cursor=i.containsPoint(l,u)?"ew-resize":a.containsPoint(l,u)?"ew-resize":p.containsPoint(l,u)?"grab":"default",this.minHandleDragging)t.min=f();else if(this.maxHandleDragging)t.max=f();else if(!isNaN(n)){var d=t.max-t.min,h=Math.min(f()-n,1-d);h<=t.min?(t.min=h,t.max=t.min+d):(t.max=h+d,t.min=t.max-d)}}function f(){return Math.min(Math.max((l-o)/r,0),1)}},e.prototype.onDragStop=function(){this.stopHandleDragging()},e.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},e}(),ql=(Ml=function(e,t){return(Ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ml(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Yl=function(e){function t(t){void 0===t&&(t=window.document);var n=e.call(this,t)||this;n._seriesRoot=new jl,n.navigator=new Xl(n),n.scene.root.visible=!1;var o=n.scene.root;return o.append(n.seriesRoot),o.append(n.legend.group),n.navigator.enabled=!1,n}return ql(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,t=e.axes,n=e.legend,o=e.navigator,r=new fr(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),n.enabled&&n.data.length){var i=this.legendAutoPadding,a=this.legend.spacing;switch(r.x+=i.left,r.y+=i.top,r.width-=i.left+i.right,r.height-=i.top+i.bottom,this.legend.position){case"right":r.width-=a;break;case"bottom":r.height-=a;break;case"left":r.x+=a,r.width-=a;break;case"top":r.y+=a,r.height-=a}}var s=this.captionAutoPadding,l=this.padding;this.updateAxes(),r.x+=l.left,r.width-=l.left+l.right,r.y+=l.top+s,r.height-=l.top+s+l.bottom,o.enabled&&(r.height-=o.height+o.margin);var u=0;t.forEach(function(e){e.group.visible=!0;var t=Math.floor(e.thickness||e.computeBBox().width);switch(e.position){case ta.Top:r.y+=t,r.height-=t,e.translation.y=Math.floor(r.y+1),e.label.mirrored=!0;break;case ta.Right:r.width-=t,e.translation.x=Math.floor(r.x+r.width),e.label.mirrored=!0;break;case ta.Bottom:r.height-=t,u+=t,e.translation.y=Math.floor(r.y+r.height+1);break;case ta.Left:r.x+=t,r.width-=t,e.translation.x=Math.floor(r.x)}}),t.forEach(function(e){switch(e.position){case ta.Top:case ta.Bottom:e.translation.x=Math.floor(r.x),e.range=[0,r.width],e.gridLength=r.height;break;case ta.Left:case ta.Right:e.translation.y=Math.floor(r.y),e.range=e instanceof ga||e instanceof Pa?[0,r.height]:[r.height,0],e.gridLength=r.width}}),this.generateNodeData(),this.seriesRect=r,this.series.forEach(function(e){e.group.translationX=Math.floor(r.x),e.group.translationY=Math.floor(r.y),e.update()});var c=this.seriesRoot;c.x=r.x,c.y=r.y,c.width=r.width,c.height=r.height,o.enabled&&(o.x=r.x,o.y=r.y+r.height+u+o.margin,o.width=r.width),this.axes.forEach(function(e){return e.update()})}},t.prototype.initSeries=function(t){e.prototype.initSeries.call(this,t),t.addEventListener("dataProcessed",this.updateAxes,this)},t.prototype.freeSeries=function(t){e.prototype.freeSeries.call(this,t),t.removeEventListener("dataProcessed",this.updateAxes,this)},t.prototype.setupDomListeners=function(t){e.prototype.setupDomListeners.call(this,t),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onTouchCancel=this.onTouchCancel.bind(this),t.addEventListener("touchstart",this._onTouchStart),t.addEventListener("touchmove",this._onTouchMove),t.addEventListener("touchend",this._onTouchEnd),t.addEventListener("touchcancel",this._onTouchCancel)},t.prototype.cleanupDomListeners=function(t){e.prototype.cleanupDomListeners.call(this,t),t.removeEventListener("touchstart",this._onTouchStart),t.removeEventListener("touchmove",this._onTouchMove),t.removeEventListener("touchend",this._onTouchEnd),t.removeEventListener("touchcancel",this._onTouchCancel)},t.prototype.getTouchOffset=function(e){var t=this.scene.canvas.element.getBoundingClientRect(),n=e.touches[0];return n?{offsetX:n.clientX-t.left,offsetY:n.clientY-t.top}:void 0},t.prototype.onTouchStart=function(e){var t=this.getTouchOffset(e);t&&this.navigator.onDragStart(t)},t.prototype.onTouchMove=function(e){var t=this.getTouchOffset(e);t&&this.navigator.onDrag(t)},t.prototype.onTouchEnd=function(e){this.navigator.onDragStop()},t.prototype.onTouchCancel=function(e){this.navigator.onDragStop()},t.prototype.onMouseDown=function(t){e.prototype.onMouseDown.call(this,t),this.navigator.onDragStart(t)},t.prototype.onMouseMove=function(t){e.prototype.onMouseMove.call(this,t),this.navigator.onDrag(t)},t.prototype.onMouseUp=function(t){e.prototype.onMouseUp.call(this,t),this.navigator.onDragStop()},t.prototype.onMouseOut=function(t){e.prototype.onMouseOut.call(this,t),this.navigator.onDragStop()},t.prototype.assignAxesToSeries=function(t){void 0===t&&(t=!1),e.prototype.assignAxesToSeries.call(this,t),this.series.forEach(function(e){e.xAxis||console.warn("Could not find a matching xAxis for the "+e.id+" series."),e.yAxis||console.warn("Could not find a matching yAxis for the "+e.id+" series.")})},t.prototype.updateAxes=function(){var e=this.navigator,t=!1;this.axes.forEach(function(n){var o,r=n.direction,i=n.boundSeries;if(n.linkedTo)n.domain=n.linkedTo.domain;else{var a=[];i.filter(function(e){return e.visible}).forEach(function(e){a.push(e.getDomain(r))}),n.domain=(o=new Array).concat.apply(o,a)}n.direction===ea.X&&(n.visibleRange=[e.min,e.max]),!t&&(n.visibleRange[0]>0||n.visibleRange[1]<1)&&(t=!0),n.update()}),this.seriesRoot.enabled=t},t.className="CartesianChart",t.type="cartesian",t}(Fl),Jl=(Al=function(e,t){return(Al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Al(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ql=function(e){function t(t){void 0===t&&(t=window.document);var n=e.call(this,t)||this;n._data={},n._seriesRoot=new jl,n.scene.root.visible=!1;var o=n.scene.root;return o.append(n.seriesRoot),o.append(n.legend.group),n}return Jl(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this.legend,t=new fr(0,0,this.width,this.height);if(this.positionCaptions(),this.positionLegend(),e.enabled&&e.data.length){var n=this.legendAutoPadding,o=this.legend.spacing;switch(t.x+=n.left,t.y+=n.top,t.width-=n.left+n.right,t.height-=n.top+n.bottom,this.legend.position){case"right":t.width-=o;break;case"bottom":t.height-=o;break;case"left":t.x+=o,t.width-=o;break;case"top":t.y+=o,t.height-=o}}var r=this.captionAutoPadding,i=this.padding;t.x+=i.left,t.width-=i.left+i.right,t.y+=i.top+r,t.height-=i.top+r+i.bottom,this.seriesRect=t,this.series.forEach(function(e){e.group.translationX=Math.floor(t.x),e.group.translationY=Math.floor(t.y),e.update()});var a=this.seriesRoot;a.x=t.x,a.y=t.y,a.width=t.width,a.height=t.height}},t.className="HierarchyChart",t.type="hierarchy",t}(Fl),Zl=(Tl=function(e,t){return(Tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Tl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zl(t,e),t.prototype.updateAxes=function(){this.axes.forEach(function(e){var t,n=e.direction,o=[],r=void 0;e.boundSeries.filter(function(e){return e.visible}).forEach(function(e){if(n===ea.X)if(void 0===r){var t=e.getDomain(n);o.push(t),r="number"==typeof t[0]}else r&&o.push(e.getDomain(n));else o.push(e.getDomain(n))});var i=(t=new Array).concat.apply(t,o);e.domain=Si(i)||i,e.update()})},t.className="GroupedCategoryChart",t.type="groupedCategory",t}(Yl),eu=(El=function(e,t){return(El=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}El(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tu=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},nu=function(e){function t(){var t=e.call(this)||this;return t.enabled=!0,t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.color="rgba(70, 70, 70, 1)",t}return eu(t,e),t.prototype.getFont=function(){return Ir(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},tu([Lr("change","dataChange")],t.prototype,"enabled",void 0),tu([Lr("change")],t.prototype,"fontSize",void 0),tu([Lr("change")],t.prototype,"fontFamily",void 0),tu([Lr("change")],t.prototype,"fontStyle",void 0),tu([Lr("change")],t.prototype,"fontWeight",void 0),tu([Lr("change")],t.prototype,"color",void 0),t}(Fr),ou=(_l=function(e,t){return(_l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}_l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ru=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},iu=function(){function e(){this.enabled=!0,this._dimOpacity=1}return Object.defineProperty(e.prototype,"dimOpacity",{get:function(){return this._dimOpacity},set:function(t){this._dimOpacity=t>=0&&t<=1?t:e.defaultDimOpacity},enumerable:!0,configurable:!0}),e.defaultDimOpacity=.3,e}(),au=function(){this.fill="yellow",this.series=new iu},su=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t}return ou(t,e),ru([Lr("change")],t.prototype,"enabled",void 0),t}(Fr),lu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id=mr(t),t.group=new Mi,t.pickGroup=t.group.appendChild(new Mi),t.directions=[ea.X,ea.Y],t.label=new nu,t.data=void 0,t.visible=!0,t.showInLegend=!0,t.cursor="default",t.highlightStyle=new au,t.scheduleLayout=function(){t.fireEvent({type:"layoutChange"})},t.scheduleData=function(){t.fireEvent({type:"dataChange"})},t}return ou(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,t){},t.prototype.highlight=function(e){this.undim(e)},t.prototype.dehighlight=function(){},t.prototype.dim=function(){this.group.opacity=this.highlightStyle.series.dimOpacity},t.prototype.undim=function(e){this.group.opacity=1},t.prototype.getKeys=function(e){var t=this,n=this.directionKeys,o=n&&n[e],r=[];return o&&o.forEach(function(e){var n=t[e];n&&(Array.isArray(n)?r.push.apply(r,n):r.push(n))}),r},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.getLabelData=function(){return[]},t.prototype.fireNodeClickEvent=function(e,t){},t.prototype.toggleSeriesItem=function(e,t){this.visible=t},t.prototype.onHighlightChange=function(){},t.prototype.fixNumericExtent=function(e,t){if(!e)return[0,1];var n=e[0],o=e[1];if(n instanceof Date&&(n=n.getTime()),o instanceof Date&&(o=o.getTime()),n===o){var r=Math.abs(.01*n);n-=r,o+=r}return isFinite(n)&&isFinite(o)||(n=0,o=1),[n,o]},ru([Lr("dataChange")],t.prototype,"data",void 0),ru([Lr("dataChange")],t.prototype,"visible",void 0),ru([Lr("layoutChange")],t.prototype,"showInLegend",void 0),t}(Fr),uu=(Pl=function(e,t){return(Pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Pl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),cu=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t.shape=Ks,t.size=6,t.maxSize=30,t.strokeWidth=1,t}return uu(t,e),cu([Lr("change")],t.prototype,"enabled",void 0),cu([Lr("change")],t.prototype,"shape",void 0),cu([Lr("change")],t.prototype,"size",void 0),cu([Lr("change")],t.prototype,"maxSize",void 0),cu([Lr("change")],t.prototype,"domain",void 0),cu([Lr("change")],t.prototype,"fill",void 0),cu([Lr("change")],t.prototype,"stroke",void 0),cu([Lr("change")],t.prototype,"strokeWidth",void 0),t}(Fr),du=(Sl=function(e,t){return(Sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Sl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),hu=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.directionKeys=((t={})[ea.X]=["angleKey"],t[ea.Y]=["radiusKey"],t),n.centerX=0,n.centerY=0,n.radius=0,n}return du(t,e),t}(lu),fu=(du(function(){return null!==wl&&wl.apply(this,arguments)||this},wl=pu),xl=function(e,t){return(xl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}xl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),gu=function(e){function t(t){void 0===t&&(t=window.document);var n=e.call(this,t)||this;return n.padding=new hr(40),n.scene.root.append(n.legend.group),n}return fu(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){var e=new fr(0,0,this.width,this.height);this.positionCaptions(),this.positionLegend();var t=this.captionAutoPadding;if(e.y+=t,e.height-=t,this.legend.enabled&&this.legend.data.length){var n=this.legendAutoPadding;e.x+=n.left,e.y+=n.top,e.width-=n.left+n.right,e.height-=n.top+n.bottom;var o=this.legend.spacing;switch(this.legend.position){case"right":e.width-=o;break;case"bottom":e.height-=o;break;case"left":e.x+=o,e.width-=o;break;case"top":e.y+=o,e.height-=o}}var r=this.padding;e.x+=r.left,e.y+=r.top,e.width-=r.left+r.right,e.height-=r.top+r.bottom,this.seriesRect=e;var i=e.x+e.width/2,a=e.y+e.height/2,s=Math.min(e.width,e.height)/2;this.series.forEach(function(e){e instanceof hu&&(e.centerX=i,e.centerY=a,e.radius=s,e.update())})},t.className="PolarChart",t.type="polar",function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Lr("layoutChange")],t.prototype,"padding",void 0),t}(Fl),mu=(Ol=function(e,t){return(Ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ol(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),yu=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.directionKeys=((t={})[ea.X]=["xKey"],t[ea.Y]=["yKey"],t),n}return mu(t,e),t}(lu),vu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mu(t,e),t}(pu);function bu(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,o=void 0;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(o=n;0!=o--;)if(!bu(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var r=Object.keys(e);if((n=r.length)!==Object.keys(t).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,r[o]))return!1;for(o=n;0!=o--;){var i=r[o];if(!bu(e[i],t[i]))return!1}return!0}return e!=e&&t!=t}var Cu=/(#\{(.*?)\})/g;function wu(e,t,n){return e.replace(Cu,function(){var e=arguments[2],o=e.split(":"),r=o[0],i=o[1],a=t[r];if("number"==typeof a){if(c=i&&n&&n[i]){var s=c,l=s.locales,u=s.options;return a.toLocaleString(l,u)}return String(a)}if(a instanceof Date){var c;if("string"==typeof(c=i&&n&&n[i])){var p=as.format(c);return p(a)}return a.toDateString()}return"string"==typeof a||a&&a.toString?String(a):""})}var Ou=null;function xu(e){return Ou=Ou||document.createElement("div"),e?(Ou.innerText=e,Ou.innerHTML):""}var Su,Pu,_u,Eu,Tu=(Eu=function(e,t){return(Eu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Eu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Au=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Mu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tu(t,e),Au([Lr("change")],t.prototype,"formatter",void 0),t}(nu),Du=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tu(t,e),Au([Lr("change")],t.prototype,"renderer",void 0),Au([Lr("change")],t.prototype,"format",void 0),t}(su),ku=function(e){function t(){var t=e.call(this)||this;t.tooltip=new Du,t.areaGroup=t.group.insertBefore(new Mi,t.pickGroup),t.strokeGroup=t.group.insertBefore(new Mi,t.pickGroup),t.markerGroup=t.pickGroup.appendChild(new Mi),t.labelGroup=t.group.appendChild(new Mi),t.fillSelection=ki.select(t.areaGroup).selectAll(),t.strokeSelection=ki.select(t.strokeGroup).selectAll(),t.markerSelection=ki.select(t.markerGroup).selectAll(),t.labelSelection=ki.select(t.labelGroup).selectAll(),t.seriesItemEnabled=new Map,t.xData=[],t.yData=[],t.markerSelectionData=[],t.yDomain=[],t.directionKeys={x:["xKey"],y:["yKeys"]},t.marker=new vu,t.label=new Mu,t.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],t.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],t.fillOpacity=1,t.strokeOpacity=1,t.lineDash=void 0,t.lineDashOffset=0,t._xKey="",t.xName="",t._yKeys=[],t.yNames=[],t.strokeWidth=2,t.addEventListener("update",t.update);var n=t.marker,o=t.label;return n.enabled=!1,n.addPropertyListener("shape",t.onMarkerShapeChange,t),n.addEventListener("change",t.update,t),o.enabled=!1,o.addEventListener("change",t.update,t),t}return Tu(t,e),t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!bu(this._yKeys,e)){this._yKeys=e,this.yData=[];var t=this.seriesItemEnabled;t.clear(),e.forEach(function(e){return t.set(e,!0)}),this.scheduleData()}},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,t){this.fills=e,this.strokes=t},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var t=e?Math.abs(e):void 0;this._normalizedTo!==t&&(this._normalizedTo=t,this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateMarkerNodes()},t.prototype.processData=function(){var e=this.xKey,t=this.yKeys,n=this.seriesItemEnabled,o=e&&t.length&&this.data?this.data:[],r=!0;this.xData=o.map(function(t){return!r||e in t||(r=!1,console.warn("The key '"+e+"' was not found in the data: ",t)),t[e]}),this.yData=o.map(function(e){return t.map(function(t){!r||t in e||(r=!1,console.warn("The key '"+t+"' was not found in the data: ",e));var o=e[t];return isFinite(o)&&n.get(t)?o:0})});var i,a,s=this.yData,l=this.normalizedTo,u=s.map(function(e){return Pi(e)}),c=this.findLargestMinMax(u);return l&&isFinite(l)?(i=c.min<0?-l:0,a=l,s.forEach(function(e,t){return e.forEach(function(n,o){e[o]=n<0?-n/u[t].min*l:n/u[t].max*l})})):(i=c.min,a=c.max),0===i&&0===a&&(a=1),this.yDomain=this.fixNumericExtent([i,a],"y"),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){for(var t=0,n=0,o=0,r=e;o<r.length;o++){var i=r[o];i.min<t&&(t=i.min),i.max>n&&(n=i.max)}return{min:t,max:n}},t.prototype.getDomain=function(e){return e===ea.X?this.xData:this.yDomain},t.prototype.highlight=function(t){var n=this;e.prototype.highlight.call(this,t);var o=this.highlightStyle.series.strokeWidth;this.strokeSelection.each(function(e,r){return e.strokeWidth=t===r.itemId&&void 0!==o?o:n.strokeWidth})},t.prototype.dehighlight=function(){var e=this;this.strokeSelection.each(function(t,n){return t.strokeWidth=e.strokeWidth})},t.prototype.undim=function(t){this.yKeys.length>1?this.updateDim(t):e.prototype.undim.call(this)},t.prototype.updateDim=function(e){var t=this.highlightStyle.series.dimOpacity,n=function(n,o){return n.opacity=e&&e!==o.itemId?t:1};this.fillSelection.each(n),this.strokeSelection.each(n),this.markerSelection.each(n),this.labelSelection.each(n)},t.prototype.dim=function(){this.yKeys.length>1?this.updateDim():e.prototype.dim.call(this)},t.prototype.update=function(){var e=this,t=e.visible,n=e.chart,o=e.xAxis,r=e.yAxis,i=e.xData,a=e.yData;if(this.group.visible=t&&!(!i.length||!a.length),n&&!n.layoutPending&&!n.dataPending&&t&&o&&r&&i.length&&a.length){var s=this.generateSelectionData();if(s){var l=s.areaSelectionData,u=s.markerSelectionData,c=s.labelSelectionData;this.updateFillSelection(l),this.updateStrokeSelection(l),this.updateMarkerSelection(u),this.updateLabelSelection(c),this.updateSelectionNodes(),this.markerSelectionData=u}}},t.prototype.updateSelectionNodes=function(){this.updateFillNodes(),this.updateStrokeNodes(),this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.generateSelectionData=function(){var e=this;if(this.data){var t=this,n=t.yKeys,o=t.data,r=t.xData,i=t.yData,a=t.marker,s=t.label,l=t.fills,u=t.strokes,c=t.xAxis.scale,p=t.yAxis.scale,d=(c.bandwidth||0)/2,h=(p.bandwidth||0)/2,f=[],g=[],m=[],y=2*r.length-1;return r.forEach(function(t,r){var v=i[r],b=o[r],C=c.convert(t)+d,w=0,O=0;v.forEach(function(t,o){var i,c=t<0?w:O,d=p.convert(c+t)+h,v=n[o],x=b[v];a&&g.push({index:r,series:e,itemId:v,seriesDatum:b,yValue:x,yKey:v,point:{x:C,y:d},fill:l[o%l.length],stroke:u[o%u.length]}),i=s.formatter?s.formatter({value:x}):Ki(x)?x.toFixed(2):String(x),s&&m.push({index:r,itemId:v,point:{x:C,y:d},label:i?{text:i,fontStyle:s.fontStyle,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFamily:s.fontFamily,textAlign:"center",textBaseline:"bottom",fill:s.color}:void 0});var S=(f[o]||(f[o]={itemId:v,points:[]})).points;S[r]={x:C,y:d},S[y-r]={x:C,y:p.convert(c)+h},t<0?w+=t:O+=t})}),{areaSelectionData:f,markerSelectionData:g,labelSelectionData:m}}},t.prototype.updateFillSelection=function(e){var t=this.fillSelection.setData(e);t.exit.remove();var n=t.enter.append(Wi).each(function(e){e.lineJoin="round",e.stroke=void 0,e.pointerEvents=Go.None});this.fillSelection=t.merge(n)},t.prototype.updateFillNodes=function(){var e=this,t=this,n=t.fills,o=t.fillOpacity,r=t.strokes,i=t.strokeOpacity,a=t.strokeWidth,s=t.shadow,l=t.seriesItemEnabled;this.fillSelection.each(function(t,u,c){var p=t.path;t.fill=n[c%n.length],t.fillOpacity=o,t.stroke=r[c%r.length],t.strokeOpacity=i,t.strokeWidth=a,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=s,t.visible=!!l.get(u.itemId),p.clear(),u.points.forEach(function(e,t){var n=e.x,o=e.y;t>0?p.lineTo(n,o):p.moveTo(n,o)}),p.closePath()})},t.prototype.updateStrokeSelection=function(e){var t=this.strokeSelection.setData(e);t.exit.remove();var n=t.enter.append(Wi).each(function(e){e.fill=void 0,e.lineJoin=e.lineCap="round",e.pointerEvents=Go.None});this.strokeSelection=t.merge(n)},t.prototype.updateStrokeNodes=function(){var e=this;if(this.data){var t=this,n=t.data,o=t.strokes,r=t.strokeWidth,i=t.strokeOpacity,a=t.seriesItemEnabled;this.strokeSelection.each(function(t,s,l){var u=t.path;t.stroke=o[l%o.length],t.strokeWidth=r,t.visible=!!a.get(s.itemId),t.strokeOpacity=i,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,u.clear();for(var c=s.points,p=0;p<n.length;p++){var d=c[p],h=d.x,f=d.y;p>0?u.lineTo(h,f):u.moveTo(h,f)}})}},t.prototype.updateMarkerSelection=function(e){var t=ol(this.marker.shape),n=this.markerSelection.setData(this.marker.enabled&&t?e:[]);n.exit.remove();var o=n.enter.append(t);this.markerSelection=n.merge(o)},t.prototype.updateMarkerNodes=function(){if(this.chart){var e=this.marker,t=e.formatter,n=void 0!==e.strokeWidth?e.strokeWidth:this.strokeWidth,o=e.size,r=this.xKey,i=this.seriesItemEnabled,a=this.chart.highlightedDatum,s=this.highlightStyle,l=s.fill,u=s.stroke;this.markerSelection.each(function(s,c){var p=c===a,d=p&&void 0!==l?l:e.fill||c.fill,h=p&&void 0!==u?u:e.stroke||c.stroke,f=void 0;t&&(f=t({datum:c.seriesDatum,xKey:r,yKey:c.yKey,fill:d,stroke:h,strokeWidth:n,size:o,highlighted:p})),s.fill=f&&f.fill||d,s.stroke=f&&f.stroke||h,s.strokeWidth=f&&void 0!==f.strokeWidth?f.strokeWidth:n,s.size=f&&void 0!==f.size?f.size:o,s.translationX=c.point.x,s.translationY=c.point.y,s.visible=e.enabled&&s.size>0&&!!i.get(c.yKey)})}},t.prototype.updateLabelSelection=function(e){var t=this.labelSelection.setData(this.label.enabled?e:[]);t.exit.remove();var n=t.enter.append(Rr);this.labelSelection=t.merge(n)},t.prototype.updateLabelNodes=function(){if(this.chart){var e=this.label.enabled;this.labelSelection.each(function(t,n){var o=n.point,r=n.label;r&&e?(t.fontStyle=r.fontStyle,t.fontWeight=r.fontWeight,t.fontSize=r.fontSize,t.fontFamily=r.fontFamily,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline,t.text=r.text,t.x=o.x,t.y=o.y-10,t.fill=r.fill,t.visible=!0):t.visible=!1})}},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.seriesDatum,xKey:this.xKey,yKey:t.yKey})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.xAxis,o=this.yAxis,r=e.yKey;if(!t||!r)return"";var i=this,a=i.xName,s=i.yKeys,l=i.yNames,u=i.fills,c=i.tooltip,p=i.yData[e.index],d=c.renderer,h=c.format,f=e.seriesDatum,g=f[t],m=f[r];if(!Ki(m))return"";var y=n.formatDatum(g),v=o.formatDatum(m),b=s.indexOf(r),C=p[b],w=l[b],O=u[b%u.length],x={title:xu(w),backgroundColor:O,content:xu(y+": "+v)};if(h||d){var S={datum:f,xKey:t,xName:a,xValue:g,yKey:r,yValue:m,processedYValue:C,yName:w,color:O};if(h)return Cl({content:wu(h,S)},x);if(d)return Cl(d(S),x)}return Cl(x)},t.prototype.listSeriesItems=function(e){var t=this,n=t.data,o=t.id,r=t.yKeys,i=t.yNames,a=t.seriesItemEnabled,s=t.marker,l=t.fills,u=t.strokes,c=t.fillOpacity,p=t.strokeOpacity;n&&n.length&&t.xKey&&r.length&&r.forEach(function(t,n){e.push({id:o,itemId:t,enabled:a.get(t)||!1,label:{text:i[n]||r[n]},marker:{shape:s.shape,fill:s.fill||l[n%l.length],stroke:s.stroke||u[n%u.length],fillOpacity:c,strokeOpacity:p}})})},t.prototype.toggleSeriesItem=function(e,t){this.seriesItemEnabled.set(e,t),this.scheduleData()},t.className="AreaSeries",t.type="area",Au([Lr("dataChange")],t.prototype,"fills",void 0),Au([Lr("dataChange")],t.prototype,"strokes",void 0),Au([Lr("update")],t.prototype,"fillOpacity",void 0),Au([Lr("update")],t.prototype,"strokeOpacity",void 0),Au([Lr("update")],t.prototype,"lineDash",void 0),Au([Lr("update")],t.prototype,"lineDashOffset",void 0),Au([Lr("update")],t.prototype,"xName",void 0),Au([Lr("update")],t.prototype,"yNames",void 0),Au([Lr("update")],t.prototype,"strokeWidth",void 0),Au([Lr("update")],t.prototype,"shadow",void 0),t}(yu),Ru=(_u=function(e,t){return(_u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}_u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Iu=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.Bar=0]="Bar",e[e.Label=1]="Label"}(Su||(Su={})),function(e){e.Inside="inside",e.Outside="outside"}(Pu||(Pu={}));var Nu,Fu,Lu,ju,Gu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.placement=Pu.Inside,t}return Ru(t,e),Iu([Lr("change")],t.prototype,"formatter",void 0),Iu([Lr("change")],t.prototype,"placement",void 0),t}(nu),Vu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ru(t,e),Iu([Lr("change")],t.prototype,"renderer",void 0),t}(su),Bu=function(e){function t(){var t,n=e.call(this)||this;return n.rectGroup=n.pickGroup.appendChild(new Mi),n.labelGroup=n.group.appendChild(new Mi),n.rectSelection=ki.select(n.rectGroup).selectAll(),n.labelSelection=ki.select(n.labelGroup).selectAll(),n.xData=[],n.yData=[],n.yDomain=[],n.label=new Gu,n.seriesItemEnabled=new Map,n.tooltip=new Vu,n.flipXY=!1,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=void 0,n.lineDashOffset=0,n.groupScale=new ha,n.directionKeys=((t={})[ea.X]=["xKey"],t[ea.Y]=["yKeys"],t),n._xKey="",n._xName="",n.cumYKeyCount=[],n.flatYKeys=void 0,n.hideInLegend=[],n._yKeys=[],n._grouped=!1,n._yNames={},n._strokeWidth=1,n.addEventListener("update",n.update),n.label.enabled=!1,n.label.addEventListener("change",n.update,n),n}return Ru(t,e),t.prototype.getKeys=function(e){var t=this,n=this.directionKeys,o=n&&n[this.flipXY?sa(e):e],r=[];return o&&o.forEach(function(e){var n=t[e];n&&(Array.isArray(n)?r=r.concat(function e(t,n){return void 0===n&&(n=[]),t.forEach(function(t){Array.isArray(t)?e(t,n):n.push(t)}),n}(n)):r.push(n))}),r},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){var t=this,n=void 0;if(e.length&&!Array.isArray(e[0])&&(n=e,e=this.grouped?n.map(function(e){return[e]}):[n]),!bu(this._yKeys,e)){this.flatYKeys=n||void 0,this._yKeys=e;var o=0;this.cumYKeyCount=[];var r=[];e.forEach(function(e,n){e.length>0&&r.push(String(n)),t.cumYKeyCount.push(o),o+=e.length}),this.yData=[];var i=this.seriesItemEnabled;i.clear(),e.forEach(function(e){e.forEach(function(e){return i.set(e,!0)})});var a=this.groupScale;a.domain=r,a.padding=.1,a.round=!0,this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped!==e&&(this._grouped=e,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yNames",{get:function(){return this._yNames},set:function(e){if(Array.isArray(e)&&this.flatYKeys){var t={};this.flatYKeys.forEach(function(n,o){t[n]=e[o]}),e=t}this._yNames=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,t){this.fills=e,this.strokes=t},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var t=e?Math.abs(e):void 0;this._normalizedTo!==t&&(this._normalizedTo=t,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.processData=function(){var e=this.xKey,t=this.yKeys,n=this.seriesItemEnabled,o=e&&t.length&&this.data?this.data:[],r=!0;this.xData=o.map(function(t){return!r||e in t||(r=!1,console.warn("The key '"+e+"' was not found in the data: ",t)),t[e]}),this.yData=o.map(function(e){return t.map(function(t){return t.map(function(t){!r||t in e||(r=!1,console.warn("The key '"+t+"' was not found in the data: ",e));var o=e[t];return isFinite(o)&&n.get(t)?o:0})})});var i,a,s=this.yData.map(function(e){return e.map(function(e){return Pi(e)})}),l=this.yData,u=this.normalizedTo,c=this.findLargestMinMax(s);return u&&isFinite(u)?(i=c.min<0?-u:0,a=u,l.forEach(function(e,t){e.forEach(function(e,n){e.forEach(function(o,r){e[r]=o<0?-o/s[t][n].min*u:o/s[t][n].max*u})})})):(i=c.min,a=c.max),this.yDomain=this.fixNumericExtent([i,a],"y"),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){for(var t=0,n=0,o=0,r=e;o<r.length;o++)for(var i=0,a=r[o];i<a.length;i++){var s=a[i];s.min<t&&(t=s.min),s.max>n&&(n=s.max)}return{min:t,max:n}},t.prototype.getDomain=function(e){return this.flipXY&&(e=sa(e)),e===ea.X?this.xData:this.yDomain},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.seriesDatum,xKey:this.xKey,yKey:t.yKey})},t.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},t.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},t.prototype.highlight=function(t){e.prototype.highlight.call(this,t),this.highlightedItemId=t,this.updateRectNodes()},t.prototype.dehighlight=function(){this.highlightedItemId=void 0,this.updateRectNodes()},t.prototype.undim=function(e){this.updateDim(e)},t.prototype.dim=function(){this.updateDim()},t.prototype.updateDim=function(e){var t=this.highlightStyle.series.dimOpacity,n=function(n,o){return n.opacity=e&&e!==o.itemId?t:1};this.rectSelection.each(n),this.labelSelection.each(n)},t.prototype.generateNodeData=function(){var e=this;if(!this.data)return[];var t=this.flipXY,n=this.getCategoryAxis(),o=this.getValueAxis(),r=n.scale,i=o.scale,a=this,s=a.groupScale,l=a.yKeys,u=a.cumYKeyCount,c=a.fills,p=a.strokes,d=a.strokeWidth,h=a.seriesItemEnabled,f=a.data,g=a.xData,m=a.yData,y=a.label,v=y.fontStyle,b=y.fontWeight,C=y.fontSize,w=y.fontFamily,O=y.color,x=y.formatter,S=y.placement;s.range=[0,r.bandwidth];var P=s.bandwidth,_=[];return g.forEach(function(o,a){for(var g=f[a],y=r.convert(o),E=m[a],T=0;T<E.length;T++)for(var A=E[T],M=0,D=0,k=0;k<A.length;k++){var R=A[k],I=l[T][k],N=y+s.convert(String(T));if(n.inRange(N,P)){var F,L=R<0?M:D,j=i.convert(L+R),G=i.convert(L),V=g[I],B="number"==typeof V;F=x?x({value:B?V:void 0}):B&&isFinite(V)?V.toFixed(2):"";var W=void 0,z=void 0;t?(z=N+P/2,W=S===Pu.Inside?j+(V>=0?-1:1)*Math.abs(G-j)/2:j+4*(V>=0?1:-1)):(W=N+P/2,z=S===Pu.Inside?j+(V>=0?1:-1)*Math.abs(G-j)/2:j+(V>=0?-3:4));var U=void 0,H=void 0;S===Pu.Inside?(U="center",H="middle"):(U=t?V>=0?"start":"end":"center",H=t?"middle":V>=0?"bottom":"top");var K=u[T]+k;_.push({index:a,series:e,itemId:I,seriesDatum:g,yValue:V,yKey:I,x:t?Math.min(j,G):N,y:t?N:Math.min(j,G),width:t?Math.abs(G-j):P,height:t?P:Math.abs(G-j),fill:c[K%c.length],stroke:p[K%p.length],strokeWidth:d,label:h.get(I)&&F?{text:F,fontStyle:v,fontWeight:b,fontSize:C,fontFamily:w,textAlign:U,textBaseline:H,fill:O,x:W,y:z}:void 0}),R<0?M+=R:D+=R}}}),_},t.prototype.update=function(){var e=this,t=e.visible,n=e.chart,o=e.xAxis,r=e.yAxis,i=e.xData,a=e.yData;if(this.group.visible=t,n&&!n.layoutPending&&!n.dataPending&&o&&r&&t&&i.length&&a.length){var s=this.generateNodeData();this.updateRectSelection(s),this.updateRectNodes(),this.updateLabelSelection(s),this.updateLabelNodes()}},t.prototype.updateRectSelection=function(e){var t=this.rectSelection.setData(e);t.exit.remove();var n=t.enter.append(js).each(function(e){e.tag=Su.Bar,e.crisp=!0});this.rectSelection=t.merge(n)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var t=this,n=t.fillOpacity,o=t.strokeOpacity,r=t.shadow,i=t.formatter,a=t.xKey,s=t.flipXY,l=t.chart.highlightedDatum,u=t.highlightedItemId,c=t.highlightStyle,p=c.fill,d=c.stroke,h=c.strokeWidth,f=c.series,g=f.enabled,m=f.strokeWidth;this.rectSelection.each(function(t,c){var f=c===l,y=f&&void 0!==p?p:c.fill,v=f&&void 0!==d?d:c.stroke,b=void 0,C=f&&void 0!==h?h:g&&u===c.itemId&&void 0!==m?m:c.strokeWidth;i&&(b=i({datum:c.seriesDatum,fill:y,stroke:v,strokeWidth:C,highlighted:f,xKey:a,yKey:c.yKey})),t.x=c.x,t.y=c.y,t.width=c.width,t.height=c.height,t.fill=b&&b.fill||y,t.stroke=b&&b.stroke||v,t.strokeWidth=b&&void 0!==b.strokeWidth?b.strokeWidth:C,t.fillOpacity=n,t.strokeOpacity=o,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=r,t.visible=s?c.width>0:c.height>0})}},t.prototype.updateLabelSelection=function(e){var t=this.labelSelection.setData(e);t.exit.remove();var n=t.enter.append(Rr).each(function(e){e.tag=Su.Label,e.pointerEvents=Go.None});this.labelSelection=t.merge(n)},t.prototype.updateLabelNodes=function(){var e=this.label.enabled;this.labelSelection.each(function(t,n){var o=n.label;o&&e?(t.fontStyle=o.fontStyle,t.fontWeight=o.fontWeight,t.fontSize=o.fontSize,t.fontFamily=o.fontFamily,t.textAlign=o.textAlign,t.textBaseline=o.textBaseline,t.text=o.text,t.x=o.x,t.y=o.y,t.fill=o.fill,t.visible=!0):t.visible=!1})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.yKeys,o=this.yData,r=this.getCategoryAxis(),i=this.getValueAxis(),a=e.yKey;if(!t||!a||!o.length)return"";for(var s=o[e.index],l=0,u=0,c=0;c<n.length;c++){var p=n[c];if((u=p.indexOf(a))>=0){l+=u;break}l+=p.length}var d=this.xName,h=this.fills,f=this.tooltip.renderer,g=e.seriesDatum,m=this.yNames[a],y=h[l%h.length],v=g[t],b=g[a],C=s[c][u],w=xu(r.formatDatum(v)),O=xu(i.formatDatum(b)),x={title:xu(m),backgroundColor:y,content:w+": "+O};return f?Cl(f({datum:g,xKey:t,xValue:v,xName:d,yKey:a,yValue:b,processedYValue:C,yName:m,color:y}),x):Cl(x)},t.prototype.listSeriesItems=function(e){var t=this,n=t.id,o=t.data,r=t.yNames,i=t.cumYKeyCount,a=t.seriesItemEnabled,s=t.hideInLegend,l=t.fills,u=t.strokes,c=t.fillOpacity,p=t.strokeOpacity;o&&o.length&&t.xKey&&t.yKeys.length&&this.yKeys.forEach(function(t,o){t.forEach(function(t,d){if(s.indexOf(t)<0){var h=i[o]+d;e.push({id:n,itemId:t,enabled:a.get(t)||!1,label:{text:r[t]||t},marker:{fill:l[h%l.length],stroke:u[h%u.length],fillOpacity:c,strokeOpacity:p}})}})})},t.prototype.toggleSeriesItem=function(e,t){var n=this.seriesItemEnabled;n.set(e,t);var o=this.yKeys.map(function(e){return e.slice()});n.forEach(function(e,t){e||o.forEach(function(e){var n=e.indexOf(t);n>=0&&e.splice(n,1)})});var r=[];o.forEach(function(e,t){e.length>0&&r.push(String(t))}),this.groupScale.domain=r,this.scheduleData()},t.className="BarSeries",t.type="bar",Iu([Lr("dataChange")],t.prototype,"flipXY",void 0),Iu([Lr("dataChange")],t.prototype,"fills",void 0),Iu([Lr("dataChange")],t.prototype,"strokes",void 0),Iu([Lr("layoutChange")],t.prototype,"fillOpacity",void 0),Iu([Lr("layoutChange")],t.prototype,"strokeOpacity",void 0),Iu([Lr("update")],t.prototype,"lineDash",void 0),Iu([Lr("update")],t.prototype,"lineDashOffset",void 0),Iu([Lr("update")],t.prototype,"formatter",void 0),Iu([Lr("layoutChange")],t.prototype,"hideInLegend",void 0),t}(yu),Wu=(ju=function(e,t){return(ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ju(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),zu=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Uu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wu(t,e),zu([Lr("change")],t.prototype,"formatter",void 0),t}(nu),Hu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wu(t,e),zu([Lr("change")],t.prototype,"renderer",void 0),zu([Lr("change")],t.prototype,"format",void 0),t}(su),Ku=function(e){function t(){var t=e.call(this)||this;t.xDomain=[],t.yDomain=[],t.xData=[],t.yData=[],t.lineNode=new Wi,t.nodeSelection=ki.select(t.pickGroup).selectAll(),t.nodeData=[],t.marker=new vu,t.label=new Uu,t.stroke="#874349",t.lineDash=void 0,t.lineDashOffset=0,t.strokeWidth=2,t.strokeOpacity=1,t.tooltip=new Hu,t._xKey="",t.xName="",t._yKey="",t.yName="";var n=t.lineNode;n.fill=void 0,n.lineJoin="round",n.pointerEvents=Go.None,t.group.insertBefore(n,t.pickGroup),t.addEventListener("update",t.update);var o=t.marker,r=t.label;return o.fill="#c16068",o.stroke="#874349",o.addPropertyListener("shape",t.onMarkerShapeChange,t),o.addPropertyListener("enabled",t.onMarkerEnabledChange,t),o.addEventListener("change",t.update,t),r.enabled=!1,r.addEventListener("change",t.update,t),t}return Wu(t,e),t.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},t.prototype.onMarkerEnabledChange=function(e){e.value||(this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove())},t.prototype.setColors=function(e,t){this.stroke=e[0],this.marker.stroke=t[0],this.marker.fill=e[0]},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey!==e&&(this._yKey=e,this.yData=[],this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,t=e.xAxis,n=e.xKey,o=e.yKey,r=e.xData,i=e.yData,a=n&&o&&this.data?this.data:[];if(!t)return!1;var s=t.scale instanceof Jr,l=e.yAxis.scale instanceof Jr;r.length=0,i.length=0;for(var u=0,c=a.length;u<c;u++){var p=a[u],d=p[o];r.push(p[n]),i.push(d)}return this.xDomain=s?this.fixNumericExtent(Si(r),"x"):r,this.yDomain=l?this.fixNumericExtent(Si(i),"y"):i,!0},t.prototype.getDomain=function(e){return e===ea.X?this.xDomain:this.yDomain},t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.highlight=function(){e.prototype.highlight.call(this);var t=this.highlightStyle.series.strokeWidth;this.lineNode.strokeWidth=void 0!==t?t:this.strokeWidth},t.prototype.dehighlight=function(){this.lineNode.strokeWidth=this.strokeWidth},t.prototype.resetHighlight=function(){this.lineNode.strokeWidth=this.strokeWidth},t.prototype.update=function(){this.group.visible=this.visible;var e=this.chart;e&&!e.layoutPending&&!e.dataPending&&this.xAxis&&this.yAxis&&(this.updateLinePath(),this.updateNodeSelection(),this.updateNodes())},t.prototype.getXYDatums=function(e,t,n,o,r){var i=o instanceof Jr,a=t[e],s=n[e];return null==s||r instanceof Jr&&(isNaN(s)||!isFinite(s))||null==a||i&&(isNaN(a)||!isFinite(a))?void 0:[a,s]},t.prototype.updateLinePath=function(){if(this.data){var e=this,t=e.xAxis,n=e.data,o=e.xData,r=e.yData,i=e.lineNode,a=e.label,s=t.scale,l=e.yAxis.scale,u=(s.bandwidth||0)/2,c=(l.bandwidth||0)/2,p=i.path,d=[];p.clear();for(var h=!0,f=void 0,g=void 0,m=0;m<o.length;m++){var y=g||this.getXYDatums(m,o,r,s,l);if(y){var v=y[1],b=s.convert(y[0])+u,C=(s.bandwidth||.5*this.marker.size+(this.marker.strokeWidth||0))+1;g=this.getXYDatums(m+1,o,r,s,l);var w=t.inRangeEx(b,0,C),O=g&&t.inRangeEx(s.convert(g[0])+u,0,C);if(-1===w&&-1===O){h=!0;continue}if(1===w&&1===f){h=!0;continue}f=w;var x,S=l.convert(v)+c;h?(p.moveTo(b,S),h=!1):p.lineTo(b,S),x=a.formatter?a.formatter({value:v}):"number"==typeof v&&isFinite(v)?v.toFixed(2):v?String(v):"",d.push({series:this,seriesDatum:n[m],point:{x:b,y:S},label:x?{text:x,fontStyle:a.fontStyle,fontWeight:a.fontWeight,fontSize:a.fontSize,fontFamily:a.fontFamily,textAlign:"center",textBaseline:"bottom",fill:a.color}:void 0})}else f=void 0,h=!0}i.stroke=this.stroke,i.strokeWidth=this.strokeWidth,i.lineDash=this.lineDash,i.lineDashOffset=this.lineDashOffset,i.strokeOpacity=this.strokeOpacity,this.nodeData=d}},t.prototype.updateNodeSelection=function(){var e=this.marker,t=e.shape?this.nodeData:[],n=ol(e.shape),o=this.nodeSelection.setData(t);o.exit.remove();var r=o.enter.append(Mi);r.append(n),r.append(Rr),this.nodeSelection=o.merge(r)},t.prototype.updateNodes=function(){this.updateMarkerNodes(),this.updateTextNodes()},t.prototype.updateMarkerNodes=function(){if(this.chart){var e=this.chart.highlightedDatum,t=this,n=t.marker,o=t.xKey,r=t.yKey,i=t.stroke,a=this.highlightStyle,s=a.fill,l=a.stroke,u=n.formatter,c=n.size,p=void 0!==n.strokeWidth?n.strokeWidth:t.strokeWidth,d=ol(n.shape);this.nodeSelection.selectByClass(d).each(function(t,a){var d=a===e,h=d&&void 0!==s?s:n.fill,f=d&&void 0!==l?l:n.stroke||i,g=void 0;u&&(g=u({datum:a.seriesDatum,xKey:o,yKey:r,fill:h,stroke:f,strokeWidth:p,size:c,highlighted:d})),t.fill=g&&g.fill||h,t.stroke=g&&g.stroke||f,t.strokeWidth=g&&void 0!==g.strokeWidth?g.strokeWidth:p,t.size=g&&void 0!==g.size?g.size:c,t.translationX=a.point.x,t.translationY=a.point.y,t.visible=n.enabled&&t.size>0})}},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.nodeSelection.selectByClass(Rr).each(function(t,n){var o=n.point,r=n.label;r&&e?(t.fontStyle=r.fontStyle,t.fontWeight=r.fontWeight,t.fontSize=r.fontSize,t.fontFamily=r.fontFamily,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline,t.text=r.text,t.x=o.x,t.y=o.y-10,t.fill=r.fill,t.visible=!0):t.visible=!1})},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.seriesDatum,xKey:this.xKey,yKey:this.yKey})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.yKey,o=this.yAxis;if(!t||!n)return"";var r=this.xName,i=this.yName,a=this.stroke,s=this.tooltip,l=s.renderer,u=s.format,c=e.seriesDatum,p=c[t],d=c[n],h=this.xAxis.formatDatum(p),f=o.formatDatum(d),g=xu(this.title||i),m={title:g,backgroundColor:a,content:xu(h+": "+f)};if(u||l){var y={datum:c,xKey:t,xValue:p,xName:r,yKey:n,yValue:d,yName:i,title:g,color:a};if(u)return Cl({content:wu(u,y)},m);if(l)return Cl(l(y),m)}return Cl(m)},t.prototype.listSeriesItems=function(e){var t=this,n=t.data,o=t.yKey,r=t.marker;n&&n.length&&t.xKey&&o&&e.push({id:t.id,itemId:void 0,enabled:t.visible,label:{text:t.title||t.yName||o},marker:{shape:r.shape,fill:r.fill||"rgba(0, 0, 0, 0)",stroke:r.stroke||t.stroke||"rgba(0, 0, 0, 0)",fillOpacity:1,strokeOpacity:t.strokeOpacity}})},t.className="LineSeries",t.type="line",zu([Lr("layoutChange")],t.prototype,"title",void 0),zu([Lr("update")],t.prototype,"stroke",void 0),zu([Lr("update")],t.prototype,"lineDash",void 0),zu([Lr("update")],t.prototype,"lineDashOffset",void 0),zu([Lr("update")],t.prototype,"strokeWidth",void 0),zu([Lr("update")],t.prototype,"strokeOpacity",void 0),zu([Lr("update")],t.prototype,"xName",void 0),zu([Lr("update")],t.prototype,"yName",void 0),t}(yu),Xu=(Lu=function(e,t){return(Lu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Lu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),qu=function(){return(qu=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Yu=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ju=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xu(t,e),Yu([Lr("change")],t.prototype,"renderer",void 0),t}(su),Qu=function(e){function t(){var t=e.call(this)||this;t.xDomain=[],t.yDomain=[],t.xData=[],t.yData=[],t.sizeData=[],t.sizeScale=new wi,t.nodeData=[],t.markerSelection=ki.select(t.pickGroup).selectAll(),t.labelData=[],t.labelSelection=ki.select(t.group).selectAll(),t.marker=new vu,t.label=new nu,t._fill="#c16068",t._stroke="#874349",t._strokeWidth=2,t._fillOpacity=1,t._strokeOpacity=1,t.xKey="",t.yKey="",t.xName="",t.yName="",t.sizeName="Size",t.labelName="Label",t.tooltip=new Ju;var n=t.marker,o=t.label;return n.addPropertyListener("shape",t.onMarkerShapeChange,t),n.addEventListener("change",t.update,t),t.addPropertyListener("xKey",function(){return t.xData=[]}),t.addPropertyListener("yKey",function(){return t.yData=[]}),t.addPropertyListener("sizeKey",function(){return t.sizeData=[]}),o.enabled=!1,o.addEventListener("change",t.update,t),o.addEventListener("dataChange",t.scheduleData,t),o.addPropertyListener("fontSize",t.scheduleData,t),t}return Xu(t,e),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.scheduleLayout())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateMarkerNodes()},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,t){this.fill=e[0],this.stroke=t[0],this.marker.fill=e[0],this.marker.stroke=t[0]},t.prototype.processData=function(){var e=this,t=e.xKey,n=e.yKey,o=e.sizeKey,r=e.labelKey,i=e.xAxis,a=e.yAxis,s=e.marker,l=e.label,u=t&&n&&this.data?this.data:[];this.xData=u.map(function(e){return e[t]}),this.yData=u.map(function(e){return e[n]}),this.sizeData=o?u.map(function(e){return e[o]}):[];var c=l.getFont();return this.labelData=r?u.map(function(e){var t=String(e[r]),n=Dr.getTextSize(t,c);return qu({text:t},n)}):[],this.sizeScale.domain=s.domain?s.domain:xi(this.sizeData)||[1,1],this.xDomain=i.scale instanceof Jr?this.fixNumericExtent(xi(this.xData),"x"):this.xData,this.yDomain=a.scale instanceof Jr?this.fixNumericExtent(xi(this.yData),"y"):this.yData,!0},t.prototype.getDomain=function(e){return e===ea.X?this.xDomain:this.yDomain},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.getLabelData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.seriesDatum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},t.prototype.generateNodeData=function(){if(!this.data)return[];var e=this.xAxis,t=this.yAxis,n=e.scale,o=t.scale,r=n instanceof Jr,i=o instanceof Jr,a=(n.bandwidth||0)/2,s=(o.bandwidth||0)/2,l=this,u=l.data,c=l.xData,p=l.yData,d=l.sizeData,h=l.sizeScale,f=l.marker,g=[];h.range=[f.size,f.maxSize];for(var m=0;m<c.length;m++){var y=c[m],v=p[m];if(null!=v&&(!i||!isNaN(v)&&isFinite(v))&&null!=y&&(!r||!isNaN(y)&&isFinite(y))){var b=n.convert(y)+a,C=o.convert(v)+s;e.inRange(b)&&t.inRange(C)&&g.push({series:this,seriesDatum:u[m],point:{x:b,y:C},size:d.length?h.convert(d[m]):f.size,label:this.labelData[m]})}}return this.nodeData=g},t.prototype.update=function(){var e=this.visible,t=this.chart,n=this.xAxis,o=this.yAxis;this.group.visible=e,e&&t&&!t.layoutPending&&!t.dataPending&&n&&o&&(this.generateNodeData(),this.updateMarkerSelection(this.nodeData),this.updateLabelSelection(this.nodeData),this.updateMarkerNodes(),this.updateLabelNodes())},t.prototype.updateLabelSelection=function(e){var t=this.chart&&this.chart.placeLabels().get(this)||[],n=this.labelSelection.setData(t);n.exit.remove();var o=n.enter.append(Rr);this.labelSelection=n.merge(o)},t.prototype.updateMarkerSelection=function(e){var t=ol(this.marker.shape),n=this.markerSelection.setData(e);n.exit.remove();var o=n.enter.append(t);this.markerSelection=n.merge(o)},t.prototype.updateLabelNodes=function(){var e=this.label;this.labelSelection.each(function(t,n){t.text=n.text,t.fill=e.color,t.x=n.x,t.y=n.y,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.textAlign="left",t.textBaseline="top"})},t.prototype.updateMarkerNodes=function(){if(this.chart){var e=this.chart.highlightedDatum,t=this,n=t.marker,o=t.xKey,r=t.yKey,i=t.fill,a=t.stroke,s=t.fillOpacity,l=t.strokeOpacity,u=this.highlightStyle,c=u.fill,p=u.stroke,d=void 0!==n.strokeWidth?n.strokeWidth:t.strokeWidth,h=n.formatter;this.markerSelection.each(function(t,u){var f=u===e,g=f&&void 0!==c?c:n.fill||i,m=f&&void 0!==p?p:n.stroke||a,y=void 0;h&&(y=h({datum:u.seriesDatum,xKey:o,yKey:r,fill:g,stroke:m,strokeWidth:d,size:u.size,highlighted:f})),t.fill=y&&y.fill||g,t.stroke=y&&y.stroke||m,t.strokeWidth=y&&void 0!==y.strokeWidth?y.strokeWidth:d,t.size=y&&void 0!==y.size?y.size:u.size,t.fillOpacity=s,t.strokeOpacity=l,t.translationX=u.point.x,t.translationY=u.point.y,t.visible=n.enabled&&t.size>0})}},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.yKey,o=this.yAxis;if(!t||!n)return"";var r=this,i=r.xName,a=r.yName,s=r.sizeKey,l=r.sizeName,u=r.labelKey,c=r.labelName,p=r.tooltip.renderer,d=this.marker.fill||this.fill||"gray",h=this.title||a,f=e.seriesDatum,g=f[t],m=f[n],y=xu(this.xAxis.formatDatum(g)),v=xu(o.formatDatum(m)),b="<b>"+xu(i||t)+"</b>: "+y+"<br><b>"+xu(a||n)+"</b>: "+v;s&&(b+="<br><b>"+xu(l||s)+"</b>: "+xu(f[s])),u&&(b="<b>"+xu(c||u)+"</b>: "+xu(f[u])+"<br>"+b);var C={title:h,backgroundColor:d,content:b};return p?Cl(p({datum:f,xKey:t,xValue:g,xName:i,yKey:n,yValue:m,yName:a,sizeKey:s,sizeName:l,labelKey:u,labelName:c,title:h,color:d}),C):Cl(C)},t.prototype.listSeriesItems=function(e){var t=this,n=t.data,o=t.yKey,r=t.marker;n&&n.length&&t.xKey&&o&&e.push({id:t.id,itemId:void 0,enabled:t.visible,label:{text:t.title||t.yName||o},marker:{shape:r.shape,fill:r.fill||t.fill||"rgba(0, 0, 0, 0)",stroke:r.stroke||t.stroke||"rgba(0, 0, 0, 0)",fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}})},t.className="ScatterSeries",t.type="scatter",Yu([Lr("layoutChange")],t.prototype,"title",void 0),Yu([Lr("dataChange")],t.prototype,"xKey",void 0),Yu([Lr("dataChange")],t.prototype,"yKey",void 0),Yu([Lr("dataChange")],t.prototype,"sizeKey",void 0),Yu([Lr("dataChange")],t.prototype,"labelKey",void 0),t}(yu),Zu=(Fu=function(e,t){return(Fu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Fu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$u=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.Bin=0]="Bin",e[e.Label=1]="Label"}(Nu||(Nu={}));var ec,tc,nc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zu(t,e),$u([Lr("change")],t.prototype,"formatter",void 0),t}(nu),oc={count:function(e){return e.data.length},sum:function(e,t){return e.data.reduce(function(e,n){return e+n[t]},0)},mean:function(e,t){return oc.sum(e,t)/oc.count(e,t)}},rc=function(){function e(e){var t=e[0],n=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[t,n]}return e.prototype.addDatum=function(e){this.data.push(e),this.frequency++},Object.defineProperty(e.prototype,"domainWidth",{get:function(){var e=this.domain;return e[1]-e[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),e.prototype.calculateAggregatedValue=function(e,t){t||(e="count"),this.aggregatedValue=(0,oc[e])(this,t)},e.prototype.getY=function(e){return e?this.relativeHeight:this.aggregatedValue},e}(),ic=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zu(t,e),$u([Lr("change")],t.prototype,"renderer",void 0),t}(su),ac=function(e){function t(){var t,n=e.call(this)||this;return n.rectGroup=n.pickGroup.appendChild(new Mi),n.textGroup=n.group.appendChild(new Mi),n.rectSelection=ki.select(n.rectGroup).selectAll(),n.textSelection=ki.select(n.textGroup).selectAll(),n.binnedData=[],n.xDomain=[],n.yDomain=[],n.label=new nc,n.seriesItemEnabled=!0,n.tooltip=new ic,n.fill=void 0,n.stroke=void 0,n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=void 0,n.lineDashOffset=0,n.directionKeys=((t={})[ea.X]=["xKey"],t[ea.Y]=["yKey"],t),n._xKey="",n._areaPlot=!1,n._bins=void 0,n._aggregation="count",n._binCount=void 0,n._xName="",n._yKey="",n._yName="",n._strokeWidth=1,n.label.enabled=!1,n.label.addEventListener("change",n.update,n),n}return Zu(t,e),t.prototype.getKeys=function(e){var t=this,n=this.directionKeys,o=n&&n[e],r=[];return o&&o.forEach(function(e){var n=t[e];n&&(Array.isArray(n)?r.push.apply(r,n):r.push(n))}),r},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaPlot",{get:function(){return this._areaPlot},set:function(e){this._areaPlot=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bins",{get:function(){return this._bins},set:function(e){this._bins=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregation",{get:function(){return this._aggregation},set:function(e){this._aggregation=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binCount",{get:function(){return this._binCount},set:function(e){this._binCount=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.seriesItemEnabled=!0,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yName",{get:function(){return this._yName},set:function(e){this._yName=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.setColors=function(e,t){this.fill=e[0],this.stroke=t[0]},t.prototype.deriveBins=function(){var e=this,t=this.bins;if(!this.data)return[];if(t)return t;var n=this.data.map(function(t){return t[e.xKey]}),o=this.fixNumericExtent(xi(n),"x"),r=Zr(o[0],o[1],this.binCount||10),i=ni(o[0],o[1],this.binCount||10),a=r[0];return function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o}([[a-i,a]],r.map(function(e){return[e,e+i]}))},t.prototype.placeDataInBins=function(e){var t=this,n=this.xKey,o=this.deriveBins(),r=e.slice().sort(function(e,t){return e[n]<t[n]?-1:e[n]>t[n]?1:0}),i=0,a=[new rc(o[0])];e:for(var s=0,l=r.length;s<l;s++){for(var u=r[s];u[n]>o[i][1];){var c=o[++i];if(!c)break e;a.push(new rc(c))}a[i].addDatum(u)}return a.forEach(function(e){return e.calculateAggregatedValue(t._aggregation,t.yKey)}),a},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(t,n){return Math.max(t,n[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,t=this.data;this.binnedData=this.placeDataInBins(this.xKey&&t?t:[]);var n=Si(this.binnedData.map(function(t){return t.getY(e.areaPlot)}));return this.yDomain=this.fixNumericExtent([0,n?n[1]:1],"y"),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return e===ea.X?this.xDomain:this.yDomain},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.seriesDatum,xKey:this.xKey})},t.prototype.update=function(){var e=this.visible,t=this.chart,n=this.xAxis,o=this.yAxis;if(this.group.visible=e,n&&o&&e&&t&&!t.layoutPending&&!t.dataPending){var r=this.generateNodeData();this.updateRectSelection(r),this.updateRectNodes(),this.updateTextSelection(r),this.updateTextNodes()}},t.prototype.generateNodeData=function(){var e=this;if(!this.seriesItemEnabled)return[];var t=this,n=t.xAxis.scale,o=t.yAxis.scale,r=t.fill,i=t.stroke,a=t.strokeWidth,s=[],l=this.label,u=l.formatter,c=void 0===u?function(e){return String(e.value)}:u,p=l.fontStyle,d=l.fontWeight,h=l.fontSize,f=l.fontFamily,g=l.color;return this.binnedData.forEach(function(t){var l=t.aggregatedValue,u=t.frequency,m=t.domain,y=m[1],v=t.relativeHeight,b=n.convert(m[0]),C=n.convert(y),w=e.areaPlot?v:e.yKey?l:u,O=o.convert(0),x=o.convert(w),S=C-b,P=Math.abs(x-O),_=0!==w?{text:c({value:t.aggregatedValue}),fontStyle:p,fontWeight:d,fontSize:h,fontFamily:f,fill:g,x:b+S/2,y:x+P/2}:void 0;s.push({series:e,seriesDatum:t,x:b,y:x,width:S,height:P,fill:r,stroke:i,strokeWidth:a,label:_})}),s},t.prototype.updateRectSelection=function(e){var t=this.rectSelection.setData(e);t.exit.remove();var n=t.enter.append(js).each(function(e){e.tag=Nu.Bin,e.crisp=!0});this.rectSelection=t.merge(n)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var t=this.chart.highlightedDatum,n=this.fillOpacity,o=this.strokeOpacity,r=this.shadow,i=this.highlightStyle,a=i.fill,s=i.stroke;this.rectSelection.each(function(i,l){var u=l===t;i.x=l.x,i.y=l.y,i.width=l.width,i.height=l.height,i.fill=u&&void 0!==a?a:l.fill,i.stroke=u&&void 0!==s?s:l.stroke,i.fillOpacity=n,i.strokeOpacity=o,i.strokeWidth=l.strokeWidth,i.lineDash=e.lineDash,i.lineDashOffset=e.lineDashOffset,i.fillShadow=r,i.visible=l.height>0})}},t.prototype.updateTextSelection=function(e){var t=this.textSelection.setData(e);t.exit.remove();var n=t.enter.append(Rr).each(function(e){e.tag=Nu.Label,e.pointerEvents=Go.None,e.textAlign="center",e.textBaseline="middle"});this.textSelection=t.merge(n)},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each(function(t,n){var o=n.label;o&&e?(t.text=o.text,t.x=o.x,t.y=o.y,t.fontStyle=o.fontStyle,t.fontWeight=o.fontWeight,t.fontSize=o.fontSize,t.fontFamily=o.fontFamily,t.fill=o.fill,t.visible=!0):t.visible=!1})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.yKey,o=this.xAxis,r=this.yAxis;if(!t)return"";var i=this,a=i.xName,s=i.yName,l=i.fill,u=i.aggregation,c=i.tooltip.renderer,p=e.seriesDatum,d=p.aggregatedValue,h=p.frequency,f=p.domain,g=f[0],m=f[1],y=xu(a||t)+": "+o.formatDatum(g)+" - "+o.formatDatum(m),v=n?"<b>"+xu(s||n)+" ("+u+")</b>: "+r.formatDatum(d)+"<br>":"",b={title:y,backgroundColor:l,content:v+="<b>Frequency</b>: "+h};return c?Cl(c({datum:p,xKey:t,xValue:p.domain,xName:a,yKey:n,yValue:p.aggregatedValue,yName:s,color:l}),b):Cl(b)},t.prototype.listSeriesItems=function(e){var t=this,n=t.data,o=t.yKey;n&&n.length&&e.push({id:t.id,itemId:o,enabled:t.seriesItemEnabled,label:{text:t.yName||o||"Frequency"},marker:{fill:t.fill||"rgba(0, 0, 0, 0)",stroke:t.stroke||"rgba(0, 0, 0, 0)",fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}})},t.prototype.toggleSeriesItem=function(e,t){e===this.yKey&&(this.seriesItemEnabled=t),this.scheduleData()},t.className="HistogramSeries",t.type="histogram",$u([Lr("dataChange")],t.prototype,"fill",void 0),$u([Lr("dataChange")],t.prototype,"stroke",void 0),$u([Lr("layoutChange")],t.prototype,"fillOpacity",void 0),$u([Lr("layoutChange")],t.prototype,"strokeOpacity",void 0),$u([Lr("update")],t.prototype,"lineDash",void 0),$u([Lr("update")],t.prototype,"lineDashOffset",void 0),t}(yu),sc=(tc=function(e,t){return(tc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}tc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),lc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t}return sc(t,e),function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Lr("dataChange")],t.prototype,"data",void 0),t}(lu),uc=(ec=function(e,t){return(ec=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ec(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),cc=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t.color="rgba(0, 0, 0, 0.5)",t.xOffset=0,t.yOffset=0,t.blur=5,t}return uc(t,e),cc([Lr("change")],t.prototype,"enabled",void 0),cc([Lr("change")],t.prototype,"color",void 0),cc([Lr("change")],t.prototype,"xOffset",void 0),cc([Lr("change")],t.prototype,"yOffset",void 0),cc([Lr("change")],t.prototype,"blur",void 0),t}(Fr);function dc(e,t,n,o,r){var i=e.value&&(r-n)/e.value;e.children.forEach(function(e){e.x0=t,e.x1=o,e.y0=n,e.y1=n+=e.value*i})}function hc(e,t,n,o,r){var i=e.value&&(o-t)/e.value;e.children.forEach(function(e){e.x0=t,e.x1=t+=e.value*i,e.y0=n,e.y1=r})}function fc(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}var gc=function e(t){function n(e,n,o,r,i){!function(e,t,n,o,r,i){for(var a,s,l,u,c,p,d,h,f,g,m=[],y=t.children,v=y.length,b=t.value,C=0,w=0;C<v;){a=r-n,s=i-o;do{u=y[w++].value}while(!u&&w<v);for(c=p=u,g=u*u*(f=Math.max(s/a,a/s)/(b*e)),h=Math.max(p/g,g/c);w<v;++w){if((l=y[w].value)<c&&(c=l),l>p&&(p=l),g=(u+=l)*u*f,(d=Math.max(p/g,g/c))>h){u-=l;break}h=d}var O={value:u,dice:a<s,children:y.slice(C,w)};m.push(O),O.dice?hc(O,n,o,r,b?o+=s*u/b:i):dc(O,n,o,b?n+=a*u/b:r,i),b-=u,C=w}}(t,e,n,o,r,i)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}((1+Math.sqrt(5))/2),mc=function(){function e(){this.paddingStack=[0],this.dx=1,this.dy=1,this.round=!0,this.tile=gc,this.paddingInner=function(e){return 0},this.paddingTop=function(e){return 0},this.paddingRight=function(e){return 0},this.paddingBottom=function(e){return 0},this.paddingLeft=function(e){return 0}}return Object.defineProperty(e.prototype,"size",{get:function(){return[this.dx,this.dy]},set:function(e){this.dx=e[0],this.dy=e[1]},enumerable:!0,configurable:!0}),e.prototype.processData=function(e){return e.x0=0,e.y0=0,e.x1=this.dx,e.y1=this.dy,e.eachBefore(this.positionNode.bind(this)),this.paddingStack=[0],this.round&&e.eachBefore(fc),e},e.prototype.positionNode=function(e){var t=this.paddingStack[e.depth],n=e.x0+t,o=e.y0+t,r=e.x1-t,i=e.y1-t;r<n&&(n=r=(n+r)/2),i<o&&(o=i=(o+i)/2),e.x0=n,e.y0=o,e.x1=r,e.y1=i,e.children&&(t=this.paddingStack[e.depth+1]=this.paddingInner(e)/2,n+=this.paddingLeft(e)-t,o+=this.paddingTop(e)-t,(r-=this.paddingRight(e)-t)<n&&(n=r=(n+r)/2),(i-=this.paddingBottom(e)-t)<o&&(o=i=(o+i)/2),this.tile(e,n,o,r,i))},e}(),yc=function(){function e(e){this.value=0,this.depth=0,this.height=0,this.parent=void 0,this.children=void 0,this.data=e}return e.prototype.countFn=function(e){var t=0,n=e.children;if(n&&n.length)for(var o=n.length;--o>=0;)t+=n[o].value;else t=1;e.value=t},e.prototype.count=function(){return this.eachAfter(this.countFn)},e.prototype.each=function(e,t){var n=this,o=-1;return this.iterator(function(r){e.call(t,r,++o,n)}),this},e.prototype.eachAfter=function(e,t){for(var n=this,o=[n],r=[];n=o.pop();){r.push(n);var i=n.children;if(i)for(var a=0,s=i.length;a<s;++a)o.push(i[a])}for(var l=-1;n=r.pop();)e.call(t,n,++l,this);return this},e.prototype.eachBefore=function(e,t){for(var n=this,o=[n],r=-1;n=o.pop();){e.call(t,n,++r,this);var i=n.children;if(i)for(var a=i.length-1;a>=0;--a)o.push(i[a])}return this},e.prototype.find=function(e,t){var n,o=this,r=-1;return this.iterator(function(i){if(e.call(t,i,++r,o))return n=i,!1}),n},e.prototype.sum=function(e){return this.eachAfter(function(t){var n=+e(t.data)||0,o=t.children;if(o)for(var r=o.length;--r>=0;)n+=o[r].value;t.value=n})},e.prototype.sort=function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},e.prototype.path=function(e){for(var t=this,n=function(e,t){if(e&&t){if(e===t)return e;var n=e.ancestors(),o=t.ancestors(),r=void 0;for(e=n.pop(),t=o.pop();e===t;)r=e,e=n.pop(),t=o.pop();return r}}(t,e),o=[t];t!==n;)o.push(t=t.parent);for(var r=o.length;e!==n;)o.splice(r,0,e),e=e.parent;return o},e.prototype.ancestors=function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},e.prototype.descendants=function(){var e=[];return this.iterator(function(t){return e.push(t)}),e},e.prototype.leaves=function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},e.prototype.links=function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},e.prototype.copy=function(){},e.prototype.iterator=function(e){var t,n=this,o=[n];e:do{for(t=o.reverse(),o=[];n=t.pop();){if(!1===e(n))break e;var r=n.children;if(r)for(var i=0,a=r.length;i<a;++i)o.push(r[i])}}while(o.length)},e}();function vc(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=Cc)):void 0===t&&(t=wc);for(var n,o,r,i,a,s=new yc(e),l=[s];n=l.pop();)if((r=t(n.data))&&(a=(r=Array.from(r)).length))for(n.children=r,i=a-1;i>=0;--i)l.push(o=r[i]=new yc(r[i])),o.parent=n,o.depth=n.depth+1;return s.eachBefore(bc)}function bc(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Cc(e){return Array.isArray(e)?e[1]:void 0}function wc(e){return e.children}var Oc,xc,Sc=(xc=function(e,t){return(xc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}xc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Pc=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),Pc([Lr("change")],t.prototype,"renderer",void 0),t}(su),Ec=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.padding=10,t}return Sc(t,e),Pc([Lr("change")],t.prototype,"padding",void 0),t}(nu);!function(e){e[e.Name=0]="Name",e[e.Value=1]="Value"}(Oc||(Oc={}));var Tc,Ac,Mc,Dc=function(e){function t(){var t,n,o=e.call(this)||this;return o.groupSelection=ki.select(o.pickGroup).selectAll(),o.labelMap=new Map,o.layout=new mc,o.title=((t=new Ec).color="white",t.fontWeight="bold",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.padding=15,t),o.subtitle=function(){var e=new Ec;return e.color="white",e.fontSize=9,e.fontFamily="Verdana, sans-serif",e.padding=13,e}(),o.labels={large:function(){var e=new nu;return e.color="white",e.fontWeight="bold",e.fontSize=18,e}(),medium:function(){var e=new nu;return e.color="white",e.fontWeight="bold",e.fontSize=14,e}(),small:function(){var e=new nu;return e.color="white",e.fontWeight="bold",e.fontSize=10,e}(),color:function(){var e=new nu;return e.color="white",e}()},o._nodePadding=2,o.labelKey="label",o.sizeKey="size",o.colorKey="color",o.colorDomain=[-5,5],o.colorRange=["#cb4b3f","#6acb64"],o.colorParents=!1,o.gradient=!0,o.colorName="Change",o.rootName="Root",o._shadow=((n=new pc).color="rgba(0, 0, 0, 0.4)",n.xOffset=1.5,n.yOffset=1.5,n),o.tooltip=new _c,o.shadow.addEventListener("change",o.update,o),o.title.addEventListener("change",o.update,o),o.subtitle.addEventListener("change",o.update,o),o.labels.small.addEventListener("change",o.update,o),o.labels.medium.addEventListener("change",o.update,o),o.labels.large.addEventListener("change",o.update,o),o.labels.color.addEventListener("change",o.update,o),o}return Sc(t,e),Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this._nodePadding},set:function(e){this._nodePadding!==e&&(this._nodePadding=e,this.updateLayoutPadding(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.updateLayoutPadding=function(){var e=this.title,t=this.subtitle,n=this.nodePadding,o=this.labelKey;this.layout.paddingRight=function(e){return n},this.layout.paddingBottom=function(e){return n},this.layout.paddingLeft=function(e){return n},this.layout.paddingTop=function(r){var i=r.data[o]||"";r.children&&(i=i.toUpperCase());var a=r.depth>1?t:e,s=Dr.getTextSize(i,[a.fontWeight,a.fontSize+"px",a.fontFamily].join(" ").trim()),l=r.depth>0&&r.children&&s.width<=r.x1-r.x0-2*n;return r.hasTitle=l,l?s.height+2*n:n}},t.prototype.processData=function(){if(!this.data)return!1;var e,t=this,n=t.data,o=t.sizeKey,r=t.labelKey,i=t.colorKey,a=t.colorDomain,s=t.colorRange,l=t.colorParents;e=o?vc(n).sum(function(e){return e.children?1:e[o]}):vc(n).sum(function(e){return e.children?0:1}),this.dataRoot=e;var u=new wi;u.domain=a,u.range=s;var c=this;return function e(t,n){void 0===n&&(n=0);var o=t.children,a=t.data,s=a[r],p=i?a[i]:n;t.series=c,t.fill=!o||l?u.convert(p):"#272931",t.colorValue=p,t.label=s?o?s.toUpperCase():s:"",o&&o.forEach(function(t){return e(t,n+1)})}(this.dataRoot),!0},t.prototype.getLabelCenterX=function(e){return(e.x0+e.x1)/2},t.prototype.getLabelCenterY=function(e){return(e.y0+e.y1)/2+2},t.prototype.update=function(){var e=this.chart,t=this.dataRoot;if(e&&t){var n=e.getSeriesRect();if(n){this.layout.size=[n.width,n.height],this.updateLayoutPadding();var o=this.layout.processData(t).descendants(),r=this.groupSelection.setData(o);r.exit.remove();var i=r.enter.append(Mi);i.append(js),i.append(Rr).each(function(e){return e.tag=Oc.Name}),i.append(Rr).each(function(e){return e.tag=Oc.Value}),this.groupSelection=r.merge(i),this.updateNodes()}}},t.prototype.updateNodes=function(){var e=this,t=this.chart;if(t){var n=t.highlightedDatum,o=this.highlightStyle,r=o.fill,i=o.stroke,a=this,s=a.colorKey,l=a.labelMap,u=a.nodePadding,c=a.title,p=a.subtitle,d=a.labels,h=a.shadow,f=a.gradient;this.groupSelection.selectByClass(js).each(function(e,t){var o=t===n,a=o&&void 0!==i?i:t.depth<2?void 0:"black";e.fill=o&&void 0!==r?r:t.fill,e.stroke=a,e.strokeWidth=1,e.crisp=!0,e.gradient=f,e.x=t.x0,e.y=t.y0,e.width=t.x1-t.x0,e.height=t.y1-t.y0}),this.groupSelection.selectByTag(Oc.Name).each(function(t,o,r){var i,a=!o.children,s=o.x1-o.x0-2*u,f=o.y1-o.y0-2*u,g=o.hasTitle,m=o===n;t.fontWeight=(i=a?s>40&&f>40?d.large:s>20&&f>20?d.medium:d.small:o.depth>1?p:c).fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.textBaseline=a?"bottom":g?"top":"middle",t.textAlign=g?"left":"center",t.text=o.label;var y=t.computeBBox(),v=a&&!!y&&y.width<=s&&2*y.height+8<=f;l.set(r,t),t.fill=m?"black":i.color,t.fillShadow=v&&!m?h:void 0,t.visible=g||v,g?(t.x=o.x0+u,t.y=o.y0+u):(t.x=e.getLabelCenterX(o),t.y=e.getLabelCenterY(o))}),this.groupSelection.selectByTag(Oc.Value).each(function(t,o,r){var i=!o.children,a=o.x1-o.x0-2*u,c=o===n,p=o.colorValue,f=d.color;t.fontSize=f.fontSize,t.fontFamily=f.fontFamily,t.fontStyle=f.fontStyle,t.fontWeight=f.fontWeight,t.textBaseline="top",t.textAlign="center",t.text="number"==typeof p&&isFinite(p)?String(qi(o.colorValue))+"%":"";var g=t.computeBBox(),m=l.get(r),y=i&&!!s&&!!m&&m.visible&&!!g&&g.width<a;t.fill=c?"black":f.color,t.fillShadow=c?void 0:h,t.visible=y,y?(t.x=e.getLabelCenterX(o),t.y=e.getLabelCenterY(o)):!m||o.children&&o.children.length||(m.textBaseline="middle",m.y=e.getLabelCenterY(o))})}},t.prototype.getDomain=function(e){return[0,1]},t.prototype.getTooltipHtml=function(e){var t=this,n=t.sizeKey,o=t.labelKey,r=t.colorKey,i=t.colorName,a=e.data,s=t.tooltip.renderer,l=e.depth?a[o]:t.rootName||a[o],u=void 0,c=e.fill||"gray";if(r&&i){var p=a[r];"number"==typeof p&&isFinite(p)&&(u="<b>"+i+"</b>: "+qi(a[r]))}var d={title:l,backgroundColor:c,content:u};return s?Cl(s({datum:e,sizeKey:n,labelKey:o,colorKey:r,title:l,color:c}),d):Cl(d)},t.prototype.listSeriesItems=function(e){},t.className="TreemapSeries",t.type="treemap",Pc([Lr("dataChange")],t.prototype,"labelKey",void 0),Pc([Lr("dataChange")],t.prototype,"sizeKey",void 0),Pc([Lr("dataChange")],t.prototype,"colorKey",void 0),Pc([Lr("dataChange")],t.prototype,"colorDomain",void 0),Pc([Lr("dataChange")],t.prototype,"colorRange",void 0),Pc([Lr("dataChange")],t.prototype,"colorParents",void 0),Pc([Lr("update")],t.prototype,"gradient",void 0),t}(lc),kc=(Mc=function(e,t){return(Mc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Mc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Rc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.path=new Vi,t._dirtyPath=!0,t._centerX=0,t._centerY=0,t._centerOffset=0,t._innerRadius=10,t._outerRadius=20,t._startAngle=0,t._endAngle=2*Math.PI,t._angleOffset=0,t}return kc(t,e),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerOffset",{get:function(){return this._centerOffset},set:function(e){this._centerOffset!==e&&(this._centerOffset=Math.max(0,e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){this._innerRadius!==e&&(this._innerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerRadius",{get:function(){return this._outerRadius},set:function(e){this._outerRadius!==e&&(this._outerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angleOffset",{get:function(){return this._angleOffset},set:function(e){this._angleOffset!==e&&(this._angleOffset=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.outerRadius;return new fr(this.centerX-e,this.centerY-e,2*e,2*e)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t);return this.path.isPointInPath(n.x,n.y)},t.prototype.isPointInStroke=function(e,t){return!1},Object.defineProperty(t.prototype,"fullPie",{get:function(){return Xi(Ui(this.startAngle),Ui(this.endAngle))},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){if(this.dirtyPath){var e=this.path,t=this.angleOffset,n=Math.min(this.startAngle,this.endAngle)+t,o=Math.max(this.startAngle,this.endAngle)+t,r=.5*(n+o),i=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),s=this.centerOffset,l=this.fullPie,u=this.centerX,c=this.centerY;if(e.clear(),s&&(u+=s*Math.cos(r),c+=s*Math.sin(r)),l||(e.moveTo(u+i*Math.cos(n),c+i*Math.sin(n)),e.lineTo(u+a*Math.cos(n),c+a*Math.sin(n))),e.cubicArc(u,c,a,a,0,n,o,0),l)e.moveTo(u+i*Math.cos(o),c+i*Math.sin(o));else{var p=u+i*Math.cos(o);e.lineTo(Math.abs(p)<1e-8?0:p,c+i*Math.sin(o))}e.cubicArc(u,c,i,i,0,o,n,1),e.closePath(),this.dirtyPath=!1}},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.updatePath(),this.scene.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Sector",t}(Mr),Ic=(Ac=function(e,t){return(Ac=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ac(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Nc=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ic(t,e),t}(au);!function(e){e[e.Sector=0]="Sector",e[e.Callout=1]="Callout",e[e.Label=2]="Label"}(Tc||(Tc={}));var Lc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.offset=3,t.minAngle=20,t}return Ic(t,e),Nc([Lr("change")],t.prototype,"offset",void 0),Nc([Lr("dataChange")],t.prototype,"minAngle",void 0),Nc([Lr("dataChange")],t.prototype,"formatter",void 0),t}(nu),jc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.colors=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],t.length=10,t.strokeWidth=1,t}return Ic(t,e),Nc([Lr("change")],t.prototype,"colors",void 0),Nc([Lr("change")],t.prototype,"length",void 0),Nc([Lr("change")],t.prototype,"strokeWidth",void 0),t}(Fr),Gc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ic(t,e),Nc([Lr("change")],t.prototype,"renderer",void 0),t}(su),Vc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showInLegend=!1,t}return Ic(t,e),Nc([Lr()],t.prototype,"showInLegend",void 0),t}(Br),Bc=function(e){function t(){var t,n=e.call(this)||this;return n.radiusScale=new wi,n.groupSelection=ki.select(n.pickGroup).selectAll(),n.groupSelectionData=[],n.angleScale=((t=new wi).domain=[0,1],t.range=[-Math.PI,Math.PI].map(function(e){return e+Math.PI/2}),t),n.seriesItemEnabled=[],n.label=new Lc,n.callout=new jc,n.tooltip=new Gc,n.angleKey="",n.angleName="",n._fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n._strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=void 0,n.lineDashOffset=0,n.rotation=0,n.outerRadiusOffset=0,n.innerRadiusOffset=0,n.strokeWidth=1,n.highlightStyle=new Fc,n.addEventListener("update",n.update,n),n.label.addEventListener("change",n.scheduleLayout,n),n.label.addEventListener("dataChange",n.scheduleData,n),n.callout.addEventListener("change",n.scheduleLayout,n),n.addPropertyListener("data",function(e){e.value&&(e.source.seriesItemEnabled=e.value.map(function(){return!0}))}),n}return Ic(t,e),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var t=this._title;function n(){this.fireEvent({type:"legendChange"})}t!==e&&(t&&(t.removeEventListener("change",this.update,this),t.addPropertyListener("showInLegend",n,this),this.group.removeChild(t.node)),e&&(e.node.textBaseline="bottom",e.addEventListener("change",this.update,this),e.addPropertyListener("showInLegend",n,this),this.group.appendChild(e.node)),this._title=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fills",{get:function(){return this._fills},set:function(e){this._fills=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokes",{get:function(){return this._strokes},set:function(e){this._strokes=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.setColors=function(e,t){this.fills=e,this.strokes=t,this.callout.colors=t},t.prototype.getDomain=function(e){return e===ea.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){var e,t=this,n=this,o=n.angleKey,r=n.radiusKey,i=n.seriesItemEnabled,a=n.angleScale,s=n.groupSelectionData,l=n.label,u=o&&this.data?this.data:[],c=u.map(function(e,t){return i[t]&&Math.abs(+e[o])||0}),p=c.reduce(function(e,t){return e+t},0),d=(e=0,c.map(function(t){return e+=t/p})),h=l.formatter,f=l.enabled&&this.labelKey,g=[],m=[];if(f&&(g=u.map(h?function(e){return h({value:e[f]})}:function(e){return String(e[f])})),r){var y=this.radiusMin,v=this.radiusMax,b=u.map(function(e){return Math.abs(e[r])}),C=void 0!==y?y:Math.min.apply(Math,b),w=(void 0!==v?v:Math.max.apply(Math,b))-C;m=b.map(function(e){return w?(e-C)/w:1})}s.length=0;var O=Hi(this.rotation),x=Math.PI/2,S=0;return d.reduce(function(e,n){var o,i,c,p=r?m[S]:1,d=a.convert(e)+O,h=a.convert(n)+O,y=(d+h)/2,v=Math.abs(h-d),b=Math.cos(y),C=Math.sin(y),w=Hi(l.minAngle),P=(o=y,(o%=zi)<-Math.PI?o+=zi:o>=Math.PI&&(o-=zi),o),_=-3*Math.PI/4;return P>=_&&P<(_+=x)?(i="center",c="bottom"):P>=_&&P<(_+=x)?(i="left",c="middle"):P>=_&&P<(_+=x)?(i="center",c="hanging"):(i="right",c="middle"),s.push({series:t,seriesDatum:u[S],itemId:S,index:S,radius:p,startAngle:d,endAngle:h,midAngle:y,midCos:b,midSin:C,label:f&&v>w?{text:g[S],textAlign:i,textBaseline:c}:void 0}),S++,n},0),!0},t.prototype.undim=function(t){e.prototype.undim.call(this,t),this.highlightedItemId=t,this.updateNodes()},t.prototype.dim=function(){e.prototype.dim.call(this),this.highlightedItemId=void 0,this.updateNodes()},t.prototype.update=function(){var e=this.chart;if((this.group.visible=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0)&&e&&!e.dataPending&&!e.layoutPending){var t=this.radius,n=this.innerRadiusOffset,o=this.outerRadiusOffset,r=this.title;this.radiusScale.range=[n?t+n:0,t+(o||0)],this.group.translationX=this.centerX,this.group.translationY=this.centerY,r&&(r.node.translationY=-t-o-2,r.node.visible=r.enabled),this.updateGroupSelection(),this.updateNodes()}},t.prototype.updateGroupSelection=function(){var e=this.groupSelection.setData(this.groupSelectionData);e.exit.remove();var t=e.enter.append(Mi);t.append(Rc).each(function(e){return e.tag=Tc.Sector}),t.append(Ii).each(function(e){e.tag=Tc.Callout,e.pointerEvents=Go.None}),t.append(Rr).each(function(e){e.tag=Tc.Label,e.pointerEvents=Go.None}),this.groupSelection=e.merge(t)},t.prototype.updateNodes=function(){var e=this;if(this.chart){var t=this,n=t.fills,o=t.strokes,r=t.fillOpacity,i=t.strokeOpacity,a=t.radiusScale,s=t.callout,l=t.shadow,u=t.highlightStyle,c=u.fill,p=u.stroke,d=u.centerOffset,h=u.strokeWidth,f=u.series.strokeWidth,g=t.angleKey,m=t.radiusKey,y=t.formatter,v=this.chart.highlightedDatum,b=[],C=a.convert(0);this.groupSelection.selectByTag(Tc.Sector).each(function(t,s,u){var w=a.convert(s.radius),O=s===v||s.itemId===e.highlightedItemId,x=s!==v&&s.itemId!==e.highlightedItemId||void 0===h?void 0!==e.highlightedItemId&&void 0!==f?f:e.strokeWidth:h,S=O&&void 0!==c?c:n[u%n.length],P=O&&void 0!==p?p:o[u%o.length],_=void 0;y&&(_=y({datum:s.seriesDatum,fill:S,stroke:P,strokeWidth:x,highlighted:O,angleKey:g,radiusKey:m}));var E=t.parent&&t.parent.parent;O&&E&&(E.removeChild(t.parent),E.appendChild(t.parent)),t.innerRadius=C,t.outerRadius=w,t.startAngle=s.startAngle,t.endAngle=s.endAngle,t.fill=_&&_.fill||S,t.stroke=_&&_.stroke||P,t.strokeWidth=_&&void 0!==_.strokeWidth?_.strokeWidth:x,t.fillOpacity=r,t.strokeOpacity=i,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.centerOffset=O&&void 0!==d?d:0,t.fillShadow=l,t.lineJoin="round",b.push(t.centerOffset)});var w=s.colors,O=s.length,x=s.strokeWidth;this.groupSelection.selectByTag(Tc.Callout).each(function(e,t,n){if(t.label){var o=a.convert(t.radius);e.strokeWidth=x,e.stroke=w[n%w.length],e.x1=t.midCos*o,e.y1=t.midSin*o,e.x2=t.midCos*(o+O),e.y2=t.midSin*(o+O)}else e.stroke=void 0});var S=this.label,P=S.offset,_=S.fontStyle,E=S.fontWeight,T=S.fontSize,A=S.fontFamily,M=S.color;this.groupSelection.selectByTag(Tc.Label).each(function(e,t,n){var o=t.label;if(o){var r=a.convert(t.radius),i=b[n]+r+O+P;e.fontStyle=_,e.fontWeight=E,e.fontSize=T,e.fontFamily=A,e.text=o.text,e.x=t.midCos*i,e.y=t.midSin*i,e.fill=M,e.textAlign=o.textAlign,e.textBaseline=o.textBaseline}else e.fill=void 0})}},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.seriesDatum,angleKey:this.angleKey,labelKey:this.labelKey,radiusKey:this.radiusKey})},t.prototype.getTooltipHtml=function(e){var t=this.angleKey;if(!t)return"";var n=this,o=n.fills,r=n.angleName,i=n.radiusKey,a=n.radiusName,s=n.labelKey,l=n.labelName,u=n.tooltip.renderer,c=o[e.index%o.length],p=e.seriesDatum,d=s?p[s]+": ":"",h=p[t],f="number"==typeof h?qi(h):h.toString(),g=this.title?this.title.text:void 0,m={title:g,backgroundColor:c,content:d+f};return u?Cl(u({datum:p,angleKey:t,angleValue:h,angleName:r,radiusKey:i,radiusValue:i?p[i]:void 0,radiusName:a,labelKey:s,labelName:l,title:g,color:c}),m):Cl(m)},t.prototype.listSeriesItems=function(e){var t=this,n=this.labelKey,o=this.data;if(o&&o.length&&n){var r=this.fills,i=this.strokes,a=this.id,s=this.title&&this.title.showInLegend&&this.title.text;o.forEach(function(o,l){var u=[];s&&u.push(s),u.push(String(o[n])),e.push({id:a,itemId:l,enabled:t.seriesItemEnabled[l],label:{text:u.join(" - ")},marker:{fill:r[l%r.length],stroke:i[l%i.length],fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}})})}},t.prototype.toggleSeriesItem=function(e,t){this.seriesItemEnabled[e]=t,this.scheduleData()},t.className="PieSeries",t.type="pie",Nc([Lr("dataChange")],t.prototype,"angleKey",void 0),Nc([Lr("update")],t.prototype,"angleName",void 0),Nc([Lr("dataChange")],t.prototype,"radiusKey",void 0),Nc([Lr("update")],t.prototype,"radiusName",void 0),Nc([Lr("dataChange")],t.prototype,"radiusMin",void 0),Nc([Lr("dataChange")],t.prototype,"radiusMax",void 0),Nc([Lr("dataChange")],t.prototype,"labelKey",void 0),Nc([Lr("update")],t.prototype,"labelName",void 0),Nc([Lr("layoutChange")],t.prototype,"fillOpacity",void 0),Nc([Lr("layoutChange")],t.prototype,"strokeOpacity",void 0),Nc([Lr("update")],t.prototype,"lineDash",void 0),Nc([Lr("update")],t.prototype,"lineDashOffset",void 0),Nc([Lr("update")],t.prototype,"formatter",void 0),Nc([Lr("dataChange")],t.prototype,"rotation",void 0),Nc([Lr("layoutChange")],t.prototype,"outerRadiusOffset",void 0),Nc([Lr("dataChange")],t.prototype,"innerRadiusOffset",void 0),Nc([Lr("layoutChange")],t.prototype,"strokeWidth",void 0),Nc([Lr("layoutChange")],t.prototype,"shadow",void 0),t}(hu);new Aa(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(e.getTime()+t*ka)},function(e,t){return(t.getTime()-e.getTime())/ka},function(e){return e.getUTCMinutes()}),new Aa(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(e.getTime()+t*Ra)},function(e,t){return(t.getTime()-e.getTime())/Ra},function(e){return e.getUTCHours()}),new Aa(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});var Wc=function(){return(Wc=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},zc={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},Uc=function(){function e(t){var n=this.createChartConfigPerSeries(this.getDefaults());if(_r(t)){var o={arrayMerge:Hc},r=(t=Pr({},t,o)).overrides;r&&(_r(r.common)&&e.seriesTypes.concat(["cartesian","polar","hierarchy"]).forEach(function(e){n[e]=Pr(n[e],r.common,o)}),r.cartesian&&(n.cartesian=Pr(n.cartesian,r.cartesian,o),e.cartesianSeriesTypes.forEach(function(e){n[e]=Pr(n[e],r.cartesian,o)})),r.polar&&(n.polar=Pr(n.polar,r.polar,o),e.polarSeriesTypes.forEach(function(e){n[e]=Pr(n[e],r.polar,o)})),r.hierarchy&&(n.hierarchy=Pr(n.hierarchy,r.hierarchy,o),e.hierarchySeriesTypes.forEach(function(e){n[e]=Pr(n[e],r.hierarchy,o)})),e.seriesTypes.forEach(function(e){var t,i=r[e];i&&(i.series&&(i.series=((t={})[e]=i.series,t)),n[e]=Pr(n[e],i,o))}))}this.palette=t&&t.palette?t.palette:this.getPalette(),this.config=Object.freeze(n)}return e.prototype.getPalette=function(){return zc},e.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)",count:10},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},e.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0,format:void 0},visible:!0,showInLegend:!0,cursor:"default",highlightStyle:{fill:"yellow",series:{enabled:!1,dimOpacity:.3}}}},e.getBarSeriesDefaults=function(){return Wc(Wc({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,tooltipRenderer:void 0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},e.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},e.getChartDefaults=function(){return{width:600,height:300,autoSize:!0,background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:"right",spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}}},tooltip:{enabled:!0,tracking:!0,delay:0,class:Fl.defaultTooltipClass}}},e.prototype.createChartConfigPerSeries=function(t){var n={cartesian:e.cartesianSeriesTypes,polar:e.polarSeriesTypes},o=function(e){n[e].forEach(function(n){t[n]||(t[n]=Pr({},t[e],{arrayMerge:Hc}))})};for(var r in n)o(r);return t},e.prototype.getConfig=function(e,t){var n=br(this.config,e,t);return Array.isArray(n)?Pr([],n,{arrayMerge:Hc}):_r(n)?Pr({},n,{arrayMerge:Hc}):n},e.prototype.getDefaults=function(){return Pr({},e.defaults,{arrayMerge:Hc})},e.prototype.mergeWithParentDefaults=function(t){var n={arrayMerge:Hc},o=Object.getPrototypeOf(Object.getPrototypeOf(this));if(o===Object.prototype){var r=Pr({},e.defaults,n);return Pr(r,t,n)}return Pr(o.getDefaults(),t,n)},e.prototype.setSeriesColors=function(e,t,n){var o=this.palette,r=this.getSeriesColorCount(t);if(r===1/0)e.setColors(o.fills,o.strokes);else{var i=_i(o.fills,n,r),a=_i(o.strokes,n,r);e.setColors(i,a),n+=r}return n},e.prototype.getSeriesColorCount=function(e){switch(e.type){case"bar":case"column":case"area":return e.yKeys?e.yKeys.length:0;case"pie":return 1/0;default:return 1}},e.fontFamily="Verdana, sans-serif",e.cartesianDefaults=Wc(Wc({},e.getChartDefaults()),{axes:{number:Wc({},e.getAxisDefaults()),log:Wc(Wc({},e.getAxisDefaults()),{base:10}),category:Wc({},e.getAxisDefaults()),groupedCategory:Wc({},e.getAxisDefaults()),time:Wc({},e.getAxisDefaults())},series:{column:Wc(Wc({},e.getBarSeriesDefaults()),{flipXY:!1}),bar:Wc(Wc({},e.getBarSeriesDefaults()),{flipXY:!0}),line:Wc(Wc({},e.getSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,tooltipRenderer:void 0,marker:Wc({},e.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:Wc(Wc({},e.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,tooltipRenderer:void 0,marker:Wc({},e.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)"}}),area:Wc(Wc({},e.getSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:void 0,lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},tooltipRenderer:void 0,marker:Wc(Wc({},e.getCartesianSeriesMarkerDefaults()),{enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:Wc(Wc({},e.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,areaPlot:!1,binCount:10,bins:void 0,aggregation:"sum",tooltipRenderer:void 0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}})},navigator:{enabled:!1,height:30,min:0,max:1,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),e.defaults={cartesian:e.cartesianDefaults,groupedCategory:e.cartesianDefaults,polar:Wc(Wc({},e.getChartDefaults()),{series:{pie:Wc(Wc({},e.getSeriesDefaults()),{title:{enabled:!0,showInLegend:!1,padding:new hr(0),text:"",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:void 0,lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}}),hierarchy:Wc(Wc({},e.getChartDefaults()),{series:{treemap:Wc(Wc({},e.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}})}})},e.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],e.polarSeriesTypes=["pie"],e.hierarchySeriesTypes=["treemap"],e.seriesTypes=e.cartesianSeriesTypes.concat(e.polarSeriesTypes),e}();function Hc(e,t,n){return t}var Kc,Xc,qc,Yc,Jc,Qc,Zc,$c,ep,tp,np,op,rp,ip,ap,sp,lp=(sp=function(e,t){return(sp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}sp(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),up=function(){return(up=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},cp=function(e){function t(t){return e.call(this,t)||this}return lp(t,e),t.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",t={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},n={label:{color:e}},o={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:"rgb(150, 150, 150)"},axes:{number:up({},t),category:up({},t),time:up({},t)},legend:{item:{label:{color:e}}}};return this.mergeWithParentDefaults({cartesian:up(up({},o),{series:{bar:up({},n),column:up({},n),histogram:up({},n)}}),polar:up(up({},o),{series:{pie:up(up({},n),{title:{color:e}})}})})},t}(Uc),pp=(ap=function(e,t){return(ap=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ap(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),dp={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},hp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pp(t,e),t.prototype.getPalette=function(){return dp},t}(Uc),fp=(ip=function(e,t){return(ip=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ip(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),gp={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},mp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fp(t,e),t.prototype.getPalette=function(){return gp},t}(cp),yp=(rp=function(e,t){return(rp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}rp(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),vp={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},bp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yp(t,e),t.prototype.getPalette=function(){return vp},t}(Uc),Cp=(op=function(e,t){return(op=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}op(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),wp={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},Op=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cp(t,e),t.prototype.getPalette=function(){return wp},t}(cp),xp=(np=function(e,t){return(np=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}np(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Sp={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Pp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xp(t,e),t.prototype.getPalette=function(){return Sp},t}(Uc),_p=(tp=function(e,t){return(tp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}tp(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ep={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Tp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _p(t,e),t.prototype.getPalette=function(){return Ep},t}(cp),Ap=(ep=function(e,t){return(ep=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ep(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Mp={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Dp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ap(t,e),t.prototype.getPalette=function(){return Mp},t}(Uc),kp=($c=function(e,t){return($c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}$c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Rp={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Ip=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kp(t,e),t.prototype.getPalette=function(){return Rp},t}(cp),Np=(Zc=function(e,t){return(Zc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Zc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Fp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t._domain=[1,10],t.baseLog=Xr,t.basePow=Xr,t._base=10,t}return Np(t,e),t.prototype.setDomain=function(t){var n=t[0],o=t[t.length-1];(0===n||0===o||n<0&&o>0||n>0&&o<0)&&(console.warn("Log scale domain should not start at, end at or cross zero."),0===n&&o>0?n=Number.EPSILON:0===o&&n<0?o=-Number.EPSILON:n<0&&o>0?Math.abs(o)>=Math.abs(n)?n=Number.EPSILON:o=-Number.EPSILON:n>0&&o<0&&(Math.abs(o)>=Math.abs(n)?n=-Number.EPSILON:o=Number.EPSILON),(t=t.slice())[0]=n,t[t.length-1]=o),e.prototype.setDomain.call(this,t)},t.prototype.getDomain=function(){return e.prototype.getDomain.call(this)},Object.defineProperty(t.prototype,"base",{get:function(){return this._base},set:function(e){this._base!==e&&(this._base=e,this.rescale())},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){var n=this.base,o=t.makeLogFn(n),r=t.makePowFn(n);this.domain[0]<0?(o=this.reflect(o),r=this.reflect(r),this.transform=function(e){return-Math.log(-e)},this.untransform=function(e){return-Math.exp(-e)}):(this.transform=function(e){return Math.log(e)},this.untransform=function(e){return Math.exp(e)}),this.baseLog=o,this.basePow=r,e.prototype.rescale.call(this)},t.prototype.reflect=function(e){return function(t){return-e(-t)}},t.prototype.nice=function(){var e,t,n=this.domain,o=0,r=n.length-1,i=n[o],a=n[r];a<i&&(o=(e=[r,o])[0],r=e[1],i=(t=[a,i])[0],a=t[1]),n[o]=this.basePow(Math.floor(this.baseLog(i))),n[r]=this.basePow(Math.ceil(this.baseLog(a))),this.domain=n},t.pow10=function(e){return isFinite(e)?+("1e"+e):e<0?0:e},t.makePowFn=function(e){return 10===e?t.pow10:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}},t.makeLogFn=function(e){if(e===Math.E)return Math.log;if(10===e)return Math.log10;if(2===e)return Math.log2;var t=Math.log(e);return function(e){return Math.log(e)/t}},t.prototype.ticks=function(e){var t;void 0===e&&(e=10);var n=null==e?10:+e,o=this.base,r=this.domain,i=r[0],a=r[r.length-1],s=a<i;s&&(i=(t=[a,i])[0],a=t[1]);var l=this.baseLog(i),u=this.baseLog(a),c=[];if(!(o%1)&&u-l<n){if(l=Math.round(l)-1,u=Math.round(u)+1,i>0){for(;l<u;++l)for(var p=1,d=this.basePow(l);p<o;++p)if(!((h=d*p)<i)){if(h>a)break;c.push(h)}}else for(;l<u;++l)for(p=o-1,d=this.basePow(l);p>=1;--p){var h;if(!((h=d*p)<i)){if(h>a)break;c.push(h)}}2*c.length<n&&(c=Zr(i,a,n))}else c=Zr(l,u,Math.min(u-l,n)).map(this.basePow);return s?c.reverse():c},t.prototype.tickFormat=function(e,t){var n=this,o=this.base;if(null==t&&(t=10===o?".0e":","),"function"!=typeof t&&(t=ai(t)),e===1/0)return t;null==e&&(e=10);var r=Math.max(1,o*e/this.ticks().length);return function(e){var i=e/n.basePow(Math.round(n.baseLog(e)));return i*o<o-.5&&(i*=o),i<=r?t(e):""}},t}(Jr),Lp=(Qc=function(e,t){return(Qc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Qc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),jp=function(e){function t(){var t=e.call(this)||this;return t.scale=new Fp,t}return Lp(t,e),Object.defineProperty(t.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!0,configurable:!0}),t.className="LogAxis",t.type="log",t}(da),Gp=function(){return(Gp=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Vp={background:{meta:{defaults:{visible:!0,fill:"white"}}},padding:{meta:{constructor:hr,defaults:{top:20,right:20,bottom:20,left:20}}},tooltip:{meta:{defaults:{enabled:!0,tracking:!0,delay:0,class:Fl.defaultTooltipClass}}},title:{meta:{constructor:Br,defaults:{enabled:!1,padding:{meta:{constructor:hr,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"}}},subtitle:{meta:{constructor:Br,defaults:{enabled:!1,padding:{meta:{constructor:hr,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(140, 140, 140)"}}},legend:{meta:{constructor:dl,defaults:{enabled:!0,position:il.Right,spacing:20}},item:{meta:{constructor:pl,defaults:{paddingX:16,paddingY:8}},marker:{meta:{constructor:cl,defaults:{shape:void 0,size:15,strokeWidth:1,padding:8}}},label:{meta:{constructor:ul,defaults:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",formatter:void 0}}}}}},Bp={container:void 0,autoSize:!0,width:600,height:300,data:[],title:void 0,subtitle:void 0,padding:{},background:{},legend:{item:{marker:{},label:{}}},navigator:{mask:{},minHandle:{},maxHandle:{}},listeners:void 0},Wp={constructorParams:["document"],setAsIs:["container","data","tooltipOffset"],nonSerializable:["container","data"]},zp={defaults:{visibleRange:[0,1],thickness:0,label:{},tick:{},title:{},line:{},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},Up={visible:!0,showInLegend:!0,cursor:"default",listeners:void 0},Hp={highlightStyle:{fill:"yellow",series:{enabled:!1,dimOpacity:.3}}},Kp=Gp({fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:{},grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,shadow:void 0},Hp),Xp={shadow:{meta:{constructor:pc,defaults:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}}}},qp={enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"},Yp={label:{meta:{defaults:Gp(Gp({},qp),{formatter:void 0,placement:"inside"})}}},Jp={tooltip:{meta:{defaults:{enabled:!0,renderer:void 0,format:void 0}}}},Qp={line:{meta:{defaults:{width:1,color:"rgb(195, 195, 195)"}}},title:{meta:{constructor:Br,defaults:{padding:{meta:{constructor:hr,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"}}},label:{meta:{constructor:ra,defaults:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0}}},tick:{meta:{constructor:oa,setAsIs:["count"],defaults:{width:1,size:6,color:"rgb(195, 195, 195)",count:10}}}},Zp=((Kc={})[Yl.type]=Gp(Gp({meta:Gp(Gp({constructor:Yl},Wp),{defaults:Gp(Gp({},Bp),{axes:[{type:da.type,position:"left"},{type:ga.type,position:"bottom"}]})})},Vp),{axes:(Xc={},Xc[da.type]=Gp({meta:Gp({constructor:da,setAsIs:["gridStyle","visibleRange"]},zp)},Qp),Xc[jp.type]=Gp({meta:Gp(Gp({constructor:jp,setAsIs:["gridStyle","visibleRange"]},zp),{base:10})},Qp),Xc[ga.type]=Gp({meta:Gp({constructor:ga,setAsIs:["gridStyle","visibleRange"]},zp)},Qp),Xc[Pa.type]=Gp({meta:Gp({constructor:Pa,setAsIs:["gridStyle","visibleRange"]},zp)},Qp),Xc[Ss.type]=Gp({meta:Gp({constructor:Ss,setAsIs:["gridStyle","visibleRange"]},zp)},Qp),Xc),series:(qc={column:Gp(Gp(Gp({meta:{constructor:Bu,setAsIs:["lineDash","yNames"],defaults:Gp(Gp({flipXY:!1},Up),Kp)},highlightStyle:{}},Jp),Yp),Xp)},qc[Bu.type]=Gp(Gp(Gp({meta:{constructor:Bu,setAsIs:["lineDash","yNames"],defaults:Gp(Gp({flipXY:!0},Up),Kp)},highlightStyle:{}},Jp),Yp),Xp),qc[Ku.type]=Gp(Gp({meta:{constructor:Ku,setAsIs:["lineDash"],defaults:Gp(Gp(Gp({},Up),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:void 0,lineDashOffset:0}),Hp)}},Jp),{highlightStyle:{},label:{meta:{defaults:Gp(Gp({},qp),{formatter:void 0})}},marker:{meta:{constructor:vu,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}}}),qc[Qu.type]=Gp(Gp({meta:{constructor:Qu,defaults:Gp(Gp(Gp({},Up),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1}),Hp)}},Jp),{highlightStyle:{},marker:{meta:{constructor:vu,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}},label:{meta:{defaults:Gp({},qp)}}}),qc[ku.type]=Gp(Gp(Gp({meta:{constructor:ku,setAsIs:["lineDash"],defaults:Gp(Gp(Gp({},Up),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:1,strokeOpacity:1,strokeWidth:2,lineDash:void 0,lineDashOffset:0,shadow:void 0}),Hp)}},Jp),{highlightStyle:{},label:{meta:{defaults:Gp(Gp({},qp),{formatter:void 0})}},marker:{meta:{constructor:vu,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}}}),Xp),qc[ac.type]=Gp(Gp(Gp({meta:{constructor:ac,setAsIs:["lineDash"],defaults:Gp(Gp(Gp({},Up),{title:void 0,xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,areaPlot:!1,binCount:void 0,bins:void 0,aggregation:"sum"}),Hp)}},Jp),{highlightStyle:{},label:{meta:{defaults:Gp(Gp({},qp),{formatter:void 0})}}}),Xp),qc),navigator:{meta:{constructor:Xl,defaults:{enabled:!1,height:30,min:0,max:1}},mask:{meta:{constructor:Hl,defaults:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2}}},minHandle:{meta:{constructor:Kl,defaults:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}},maxHandle:{meta:{constructor:Kl,defaults:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}}}),Kc[gu.type]=Gp(Gp({meta:Gp(Gp({constructor:gu},Wp),{defaults:Gp(Gp({},Bp),{padding:{meta:{constructor:hr,defaults:{top:40,right:40,bottom:40,left:40}}}})})},Vp),{series:(Yc={},Yc[Bc.type]=Gp(Gp(Gp({meta:{constructor:Bc,setAsIs:["lineDash"],defaults:Gp(Gp(Gp({},Up),{title:void 0,angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,callout:{},fillOpacity:1,strokeOpacity:1,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,shadow:void 0}),Hp)}},Jp),{highlightStyle:{},title:{meta:{constructor:Vc,defaults:{enabled:!0,showInLegend:!1,padding:{meta:{constructor:hr,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Series Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"black"}}},label:{meta:{defaults:Gp(Gp({},qp),{offset:3,minAngle:20})}},callout:{meta:{defaults:{length:10,strokeWidth:1}}}}),Xp),Yc)}),Kc[Ql.type]=Gp(Gp({meta:Gp(Gp({constructor:Ql},Wp),{defaults:Gp({},Bp)})},Vp),{series:(Jc={},Jc[Dc.type]=Gp(Gp({meta:{constructor:Dc,defaults:Gp(Gp({},Up),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{},subtitle:{},labels:{large:{},medium:{},small:{},color:{}}})}},Jp),{title:{meta:{defaults:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15}}},subtitle:{meta:{defaults:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13}}},labels:{meta:{defaults:{large:{},medium:{},small:{},color:{}}},large:{meta:{constructor:nu,defaults:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"}}},medium:{meta:{constructor:nu,defaults:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"}}},small:{meta:{constructor:nu,defaults:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"}}},color:{meta:{constructor:nu,defaults:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}}}),Jc)}),Kc),$p={cartesian:["line","area","bar","column"],polar:["pie"],hierarchy:["treemap"]},ed=function(e){$p[e].forEach(function(t){Zp[t]=Zp[e]})};for(var td in $p)ed(td);Zp.scatter=Zp.histogram=Gp(Gp({},Zp.cartesian),{meta:Gp(Gp({},Zp.cartesian.meta),{defaults:Gp(Gp({},Bp),{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]})})});var nd=Object.create(Zp[Yl.type]),od=Object.create(nd.meta);od.constructor=$l,nd.meta=od,Zp[$l.type]=nd;var rd=Zp,id=function(){return(id=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ad=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},sd=new Uc,ld=new cp,ud={undefined:sd,null:sd,"ag-default":sd,"ag-material":new hp,"ag-pastel":new bp,"ag-solar":new Pp,"ag-vivid":new Dp},cd={undefined:ld,null:ld,"ag-default-dark":ld,"ag-material-dark":new mp,"ag-pastel-dark":new Op,"ag-solar-dark":new Tp,"ag-vivid-dark":new Ip},pd=id(id({},cd),ud);function dd(e){return e instanceof Uc?e:pd[e]||((e=e).baseTheme||e.overrides||e.palette?new(dd(e.baseTheme).constructor)(e):sd)}var hd,fd=0,gd=function(){function e(){}return e.create=function(e,t,n){e=Object.create(e),t&&(e.container=t),n&&(e.data=n);var o=e&&!1!==e.autoSize,r=dd(e.theme);fd=0;var i=vd(e,void 0,void 0,r);return i&&o&&(i.autoSize=!0),i},e.update=function(e,t,n,o){if(e&&t){t=Object.create(t),n&&(t.container=n),o&&(t.data=o);var r=t&&!1!==t.autoSize,i=dd(t.theme);fd=0,bd(e,t,void 0,i),r&&(e.autoSize=!0)}},e.save=function(e){var t={};return function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=rd),e.constructor&&e.constructor.type&&!n.meta&&(n=n[e.constructor.type]),Object.keys(n&&n.meta&&n.meta.defaults).forEach(function(o){var r=e[o];_r(r)&&(!n.meta.nonSerializable||n.meta.nonSerializable.indexOf(o)<0)?t[o]={}:Array.isArray(r)||(t[o]=e[o])})}(e,t),t},e.createComponent=vd,e}(),md={"cartesian.series":"line","line.series":"line","area.series":"area","bar.series":"bar","column.series":"column","histogram.series":"histogram","scatter.series":"scatter","polar.series":"pie","pie.series":"pie"},yd=(hd={},["area","bar","histogram","line","pie","scatter"].forEach(function(e){return hd[e]=e}),hd.column="bar",hd);function vd(e,t,n,o){var r;if(e=Object.create(e),n instanceof cl?e.type&&(e.shape=e.type):(e=Od(e,t),t?e.type&&(t=t+"."+e.type):t=e.type),t){var i=br(rd,t);if(i){e=Pd(t,e,i,o);var a=i.meta||{},s=a.constructorParams||[],l=["type","listeners"].concat(s),u=s.map(function(t){return e[t]}).filter(function(e){return void 0!==e});n||(n=new((r=a.constructor).bind.apply(r,ad([void 0],u))),o&&n instanceof lu&&(fd=o.setSeriesColors(n,e,fd)));var c=function(r){if(l.indexOf(r)<0){var s=e[r];if(s&&r in i&&!(a.setAsIs&&a.setAsIs.indexOf(r)>=0))if(Array.isArray(s)){var u=s.map(function(e){var n=vd(e,t+"."+r,void 0,o);if(o&&"axes"===r){var i={getConfig:function(e){var t=e.split("."),r=t.slice(0,3).join(".")+"."+n.position,i=t.slice(3);i.length&&(r+="."+i.join("."));var a=o.getConfig(e),s=o.getConfig(r);return _r(o.getConfig(r)),_r(a)&&_r(s)?Pr(a,s):s}};bd(n,e,t+"."+r,i)}return n}).filter(function(e){return!!e});n[r]=u}else if(i[r]&&n[r])vd(s,t+"."+r,n[r],o);else{var c=vd(s,s.type?t:t+"."+r,void 0,o);c&&(n[r]=c)}else n[r]=s}};for(var p in e)c(p);var d=e.listeners;if(n&&n.addEventListener&&d)for(var p in d)if(d.hasOwnProperty(p)){var h=d[p];"function"==typeof h&&n.addEventListener(p,h)}return n}}}function bd(e,t,n,o){if(t&&_r(t)&&(e instanceof cl?t.type&&(t.shape=t.type):(t=Od(t,n),n?t.type&&(n=n+"."+t.type):n=t.type),n)){var r=n in rd?e:void 0,i=br(rd,n);if(i){t=Pd(n,t,i,o);var a=i.meta||{},s=["type"].concat(a&&a.constructorParams||[]);for(var l in t)if(s.indexOf(l)<0){var u=t[l],c=n+"."+l;if(a.setAsIs&&a.setAsIs.indexOf(l)>=0)e[l]=u;else{var p=e[l];if(Array.isArray(p)&&Array.isArray(u))r?"series"===l?Cd(e,u,c,o):"axes"===l&&wd(e,u,c,o):e[l]=u;else if(_r(p))u?bd(p,u,u.type?n:c,o):l in t&&(e[l]=u);else{var d=_r(u)&&vd(u,u.type?n:c,void 0,o);if(d)e[l]=d;else{if(r&&t.autoSize&&("width"===l||"height"===l))continue;e[l]=u}}}}}r&&(r.layoutPending=!0)}}function Cd(e,t,n,o){for(var r,i=e.series.slice(),a=0;a<t.length;a++){var s=t[a];if(u=i[a])if(s=Od(s,n),u.type===yd[s.type])o&&(fd=o.setSeriesColors(u,s,fd)),bd(u,s,n,o);else{var l=vd(s,n,void 0,o);e.removeSeries(u),e.addSeriesAfter(l,r),u=l}else l=vd(s,n,void 0,o),e.addSeries(l);r=u}for(;a<i.length;a++){var u;(u=i[a])&&e.removeSeries(u)}}function wd(e,t,n,o){for(var r=e.axes,i=[],a=[],s=function(e){var t=Oi(r,function(t){return t.type===e.type&&t.position===e.position});if(t)a.push(t),bd(t,e,n,o);else{var s=vd(e,n,void 0,o);s&&i.push(s)}},l=0,u=t;l<u.length;l++)s(u[l]);e.axes=a.concat(i)}function Od(e,t){if(t||(t="",e=function(e){if(e.type)return e;var t=e.series&&e.series[0];if(t&&t.type)e:for(var n in rd)for(var o in rd[n].series)if(t.type===o){(e=Object.create(e)).type=n;break e}return e.type||((e=Object.create(e)).type="cartesian"),e}(e)),!e.type){var n=md[t];n&&((e=Object.create(e)).type=n)}return e}function xd(e){return["axes","series"].indexOf(e)>=0}var Sd="enabled";function Pd(e,t,n,o){var r=e.indexOf(".")<0,i=o&&o.getConfig(e),a=n&&n.meta&&n.meta.defaults,s=!1===t.enabled;for(var l in(a||i)&&(t=Object.create(t)),i)r&&xd(l)||l in t||(t[l]=i[l]);for(var l in a)i&&l in i&&!xd(l)||l in t||(t[l]=a[l]);return(i&&Sd in i||a&&Sd in a)&&!s&&(t[Sd]=!0),t}var _d,Ed,Td,Ad,Md,Dd=(Md=function(e,t){return(Md=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Md(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),kd=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Rd=function(e){function t(t){var n=e.call(this)||this;return n.model=t,n}return Dd(t,e),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,p.C.EVENT_RANGE_SELECTION_CHANGED,function(t){t.id&&t.id===e.model.getChartId()&&e.updateForRangeChange()}),this.model.isUnlinked()&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.updateForGridChange=function(){this.model.isUnlinked()||(this.model.updateCellRanges(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.isUnlinked()||(this.model.updateData(),this.raiseChartUpdatedEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartModel=function(){return{modelType:this.model.isPivotChart()?"pivot":"range",chartId:this.model.getChartId(),chartType:this.model.getChartType(),chartThemeName:this.getThemeName(),chartOptions:this.chartProxy.getChartOptions(),cellRange:this.model.getCellRangeParams(),suppressChartRanges:this.model.isSuppressChartRanges(),aggFunc:this.model.getAggFunc(),unlinkChart:this.model.isUnlinked()}},t.prototype.getChartType=function(){return this.model.getChartType()},t.prototype.isPivotChart=function(){return this.model.isPivotChart()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.getThemeName=function(){return this.model.getChartThemeName()},t.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},t.prototype.getPalettes=function(){var e=this,t=this.chartProxy.getCustomPalette();return t?[t]:this.gridOptionsWrapper.getChartThemes().map(function(t){return dd(e.chartProxy.isStockTheme(t)?t:e.chartProxy.lookupCustomChartTheme(t)).palette})},t.prototype.setChartType=function(e){this.model.setChartType(e),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e){this.model.setChartThemeName(e),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.getDimensionColState(),valueCols:this.model.getValueColState()}},t.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===dr.DEFAULT_CATEGORY},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),!this.rangeService||this.model.isSuppressChartRanges()||this.model.isUnlinked()||this.rangeService.setCellRanges(this.model.getCellRanges()),e||this.raiseChartUpdatedEvent()},t.prototype.detachChartRange=function(){this.model.toggleUnlinked(),this.model.isUnlinked()?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return p.mb.includes([p.q.Scatter,p.q.Bubble],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.isUnlinked()},t.prototype.raiseChartUpdatedEvent=function(){var e=Object.freeze({type:t.EVENT_CHART_UPDATED});this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){this.chartProxy.raiseChartOptionsChangedEvent()},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e=Object.freeze({type:p.C.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.getChartId(),chartId:this.model.getChartId(),cellRange:this.model.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",kd([Object(p.k)("rangeService")],t.prototype,"rangeService",void 0),kd([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),kd([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),kd([p.S],t.prototype,"init",null),t}(p.n),Id=(Ad=function(e,t){return(Ad=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ad(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Nd=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Fd=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},Ld=function(e){function t(n){var o=e.call(this,t.TEMPLATE)||this;return o.columnComps=new Map,o.chartController=n,o}return Id(t,e),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,Rd.EVENT_CHART_UPDATED,this.updatePanels.bind(this))},t.prototype.destroy=function(){this.clearComponents(),e.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,t=this.chartType,n=this.chartController.getColStateForMenu(),o=n.dimensionCols,r=n.valueCols,i=o.map(function(e){return e.colId}).concat(r.map(function(e){return e.colId}));if(this.chartType=this.chartController.getChartType(),p.mb.areEqual(p.mb.keys(this.columnComps),i)&&this.chartType===t){if(Fd(o,r).forEach(function(t){e.columnComps.get(t.colId).setValue(t.selected,!0)}),this.chartController.isActiveXYChart()){var a=this.generateGetSeriesLabel();r.forEach(function(t){e.columnComps.get(t.colId).setLabel(a(t))})}}else this.clearComponents(),this.createCategoriesGroupComponent(o),this.createSeriesGroupComponent(r)},t.prototype.addComponent=function(e,t){var n=document.createElement("div");n.className="ag-chart-data-section",n.appendChild(t.getGui()),e.appendChild(n)},t.prototype.addChangeListener=function(e,t){var n=this;this.addManagedListener(e,p.a.EVENT_CHANGED,function(){t.selected=e.getValue(),n.chartController.updateForPanelChange(t)})},t.prototype.createCategoriesGroupComponent=function(e){var t=this;this.categoriesGroupComp=this.createBean(new p.e({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var n="chartDimension"+this.getCompId();e.forEach(function(e){var o=t.categoriesGroupComp.createManagedBean(new p.h);o.setLabel(p.mb.escapeString(e.displayName)),o.setValue(e.selected),o.setInputName(n),t.addChangeListener(o,e),t.categoriesGroupComp.addItem(o),t.columnComps.set(e.colId,o)}),this.addComponent(this.getGui(),this.categoriesGroupComp)},t.prototype.createSeriesGroupComponent=function(e){var t=this;if(this.seriesGroupComp=this.createManagedBean(new p.e({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var n=this.seriesGroupComp.createManagedBean(new p.j),o=this.chartController.getChartProxy();n.setLabel(this.chartTranslator.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(o.getSeriesOption("paired")||!1).onValueChange(function(e){o.setSeriesOption("paired",e),t.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(n)}var r=this.generateGetSeriesLabel();e.forEach(function(e){var n=t.seriesGroupComp.createManagedBean(new p.c);n.addCssClass("ag-data-select-checkbox");var o=r(e);n.setLabel(o),n.setValue(e.selected),t.addChangeListener(n,e),t.seriesGroupComp.addItem(n),t.columnComps.set(e.colId,n),t.addDragHandle(n,e)}),this.addComponent(this.getGui(),this.seriesGroupComp);var i={getContainer:this.getGui.bind(this),onDragging:this.onDragging.bind(this),isInterestedIn:this.isInterestedIn.bind(this)};this.dragAndDropService.addDropTarget(i)},t.prototype.addDragHandle=function(e,t){var n=this,o=p.mb.createIconNoSpan("columnDrag",this.gridOptionsWrapper);p.mb.addCssClass(o,"ag-drag-handle"),p.mb.addCssClass(o,"ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",o);var r={type:p.A.ChartPanel,eElement:o,dragItemName:t.displayName,defaultIconName:p.z.ICON_MOVE,getDragItem:function(){return{columns:[t.column]}},onDragStopped:function(){n.insertIndex=void 0}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return n.dragAndDropService.removeDragSource(r)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(e){return p.mb.escapeString(e.displayName)};var e=this.chartType===p.q.Bubble,t=this.isInPairedMode(),n=0,o=new Map;return o.set(0,"X"),o.set(1,"Y"),o.set(2,"size"),function(r){var i,a=p.mb.escapeString(r.displayName);return r.selected?(i=t?o.get(n%(e?3:2)):0===n?"X":e&&n%2==0?"size":"Y",n++,a+" ("+i+")"):a}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslator.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslator.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartController.getChartProxy().getSeriesOption("paired")},t.prototype.clearComponents=function(){p.mb.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var t=this;if(this.checkInsertIndex(e)){var n=e.dragItem.columns[0],o=this.chartController.getColStateForMenu();Fd(o.dimensionCols,o.valueCols).filter(function(e){return e.column===n}).forEach(function(e){e.order=t.insertIndex,t.chartController.updateForPanelChange(e)})}},t.prototype.checkInsertIndex=function(e){if(p.mb.missing(e.vDirection))return!1;var t=0,n=e.event;this.columnComps.forEach(function(o){var r=o.getGui().getBoundingClientRect();n.clientY>=(e.vDirection===p.kb.Down?r.top:r.bottom)&&t++});var o=void 0!==this.insertIndex&&t!==this.insertIndex;return this.insertIndex=t,o},t.prototype.isInterestedIn=function(e){return e===p.A.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper"></div>',Nd([Object(p.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Nd([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Nd([p.S],t.prototype,"init",null),t}(p.v),jd=(Td=function(e,t){return(Td=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Td(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Gd=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Vd=function(e){function t(t){var n=e.call(this)||this;return n.activeComps=[],n.params=t,n}return jd(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslator.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(t){e.params.setEnabled&&e.params.setEnabled(t)})},t.prototype.initFontFamilySelect=function(){var e=this,t=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],n=this.params.initialFont.family,o=t[0];if(n){var r=t.map(function(e){return e.toLowerCase()}).indexOf(n.toLowerCase());if(r>=0)o=t[r];else{var i=p.mb.capitalise(n);t.push(i),o=i}}var a=t.sort().map(function(e){return{value:e,text:e}});this.familySelect.addOptions(a).setInputWidth("flex").setValue(""+o).onValueChange(function(t){return e.params.setFont({family:t})})},t.prototype.initFontSizeSelect=function(){var e=this,t=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],n=this.params.initialFont.size;p.mb.includes(t,n)||t.push(n);var o=t.sort(function(e,t){return e-t}).map(function(e){return{value:""+e,text:""+e}});this.sizeSelect.addOptions(o).setInputWidth("flex").setValue(""+n).onValueChange(function(t){return e.params.setFont({size:parseInt(t,10)})}),this.sizeSelect.setLabel(this.chartTranslator.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,t=this.params.initialFont,n=t.weight,o=void 0===n?"normal":n,r=t.style,i=void 0===r?"normal":r,a=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],s=p.mb.find(a,function(e){return e.weight===o&&e.style===i});s||a.unshift(s={name:"predefined",weight:o,style:i});var l=a.map(function(t){return{value:t.name,text:e.chartTranslator.translate(t.name)}});this.weightStyleSelect.addOptions(l).setInputWidth("flex").setValue(s.name).onValueChange(function(t){var n=p.mb.find(a,function(e){return e.name===t});e.params.setFont({weight:n.weight,style:n.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslator.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(t){return e.params.setFont({color:t})})},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyActiveComps(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',Gd([Object(p.X)("fontGroup")],t.prototype,"fontGroup",void 0),Gd([Object(p.X)("familySelect")],t.prototype,"familySelect",void 0),Gd([Object(p.X)("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),Gd([Object(p.X)("sizeSelect")],t.prototype,"sizeSelect",void 0),Gd([Object(p.X)("colorPicker")],t.prototype,"colorPicker",void 0),Gd([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Gd([p.S],t.prototype,"init",null),t}(p.v),Bd=(Ed=function(e,t){return(Ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ed(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Wd=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},zd=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return Bd(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslator.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartController.getChartProxy().getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange(function(t){e.chartController.getChartProxy().setChartOption("legend.enabled",t),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,t=[p.K.Top,p.K.Right,p.K.Bottom,p.K.Left];this.legendPositionSelect.setLabel(this.chartTranslator.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(t.map(function(t){return{value:t,text:e.chartTranslator.translate(t)}})).setValue(this.chartController.getChartProxy().getChartOption("legend.position")).onValueChange(function(t){return e.chartController.getChartProxy().setChartOption("legend.position",t)})},t.prototype.initLegendPadding=function(){var e=this;this.legendPaddingSlider.setLabel(this.chartTranslator.translate("spacing")).setValue(this.chartController.getChartProxy().getChartOption("legend.spacing")).setTextFieldWidth(45).setMaxValue(200).onValueChange(function(t){return e.chartController.getChartProxy().setChartOption("legend.spacing",t)})},t.prototype.initLegendItems=function(){var e=this,t=function(t,n,o,r){o.setLabel(e.chartTranslator.translate(n)).setValue(e.chartController.getChartProxy().getChartOption("legend."+t)).setMaxValue(r).setTextFieldWidth(45).onValueChange(function(n){return e.chartController.getChartProxy().setChartOption("legend."+t,n)})};t("item.marker.size","markerSize",this.markerSizeSlider,40),t("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),t("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),t("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),t("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,t=this.chartController.getChartProxy(),n={family:t.getChartOption("legend.item.label.fontFamily"),style:t.getChartOption("legend.item.label.fontStyle"),weight:t.getChartOption("legend.item.label.fontWeight"),size:t.getChartOption("legend.item.label.fontSize"),color:t.getChartOption("legend.item.label.color")},o=this.createBean(new Vd({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(t){var n=e.chartController.getChartProxy();t.family&&n.setChartOption("legend.item.label.fontFamily",t.family),t.weight&&n.setChartOption("legend.item.label.fontWeight",t.weight),t.style&&n.setChartOption("legend.item.label.fontStyle",t.style),t.size&&n.setChartOption("legend.item.label.fontSize",t.size),t.color&&n.setChartOption("legend.item.label.color",t.color)}}));this.legendGroup.addItem(o),this.activePanels.push(o)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Wd([Object(p.X)("legendGroup")],t.prototype,"legendGroup",void 0),Wd([Object(p.X)("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),Wd([Object(p.X)("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),Wd([Object(p.X)("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),Wd([Object(p.X)("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),Wd([Object(p.X)("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),Wd([Object(p.X)("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),Wd([Object(p.X)("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),Wd([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Wd([p.S],t.prototype,"init",null),t}(p.v),Ud=(_d=function(e,t){return(_d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}_d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Hd=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Kd=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return Ud(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslator.translate("shadow")).setEnabled(this.chartController.getChartProxy().getShadowEnabled()).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(t){return e.chartController.getChartProxy().setShadowProperty("enabled",t)}),this.shadowColorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue("rgba(0,0,0,0.5)").onValueChange(function(t){return e.chartController.getChartProxy().setShadowProperty("color",t)});var t=function(t,n,o,r){t.setLabel(e.chartTranslator.translate(n)).setValue(e.chartController.getChartProxy().getShadowProperty(n)).setMinValue(o).setMaxValue(r).onValueChange(function(t){return e.chartController.getChartProxy().setShadowProperty(n,t)})};t(this.shadowBlurSlider,"blur",0,20),t(this.shadowXOffsetSlider,"xOffset",-10,10),t(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Hd([Object(p.X)("shadowGroup")],t.prototype,"shadowGroup",void 0),Hd([Object(p.X)("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),Hd([Object(p.X)("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),Hd([Object(p.X)("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),Hd([Object(p.X)("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),Hd([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Hd([p.S],t.prototype,"init",null),t}(p.v);function Xd(e,t,n){e.setLabel(t.translate("strokeOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(n.getSeriesOption("stroke.opacity")||"1").onValueChange(function(e){return n.setSeriesOption("stroke.opacity",e)})}function qd(e,t,n){e.setLabel(t.translate("fillOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(n.getSeriesOption("fill.opacity")||"1").onValueChange(function(e){return n.setSeriesOption("fill.opacity",e)})}function Yd(e,t){var n={family:t.getSeriesOption("label.fontFamily"),style:t.getSeriesOption("label.fontStyle"),weight:t.getSeriesOption("label.fontWeight"),size:t.getSeriesOption("label.fontSize"),color:t.getSeriesOption("label.color")};return{name:e.translate("labels"),enabled:t.getSeriesOption("label.enabled")||!1,setEnabled:function(e){return t.setSeriesOption("label.enabled",e)},suppressEnabledCheckbox:!1,initialFont:n,setFont:function(e){e.family&&t.setSeriesOption("label.fontFamily",e.family),e.weight&&t.setSeriesOption("label.fontWeight",e.weight),e.style&&t.setSeriesOption("label.fontStyle",e.style),e.size&&t.setSeriesOption("label.fontSize",e.size),e.color&&t.setSeriesOption("label.color",e.color)}}}var Jd,Qd,Zd,$d,eh=($d=function(e,t){return($d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}$d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),th=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},nh=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return eh(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initSeriesLineDash(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel()},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesStrokeWidth=function(){var e=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initSeriesLineDash=function(){var e=this;this.seriesLineDashSlider.setLabel(this.chartTranslator.translate("lineDash")).setMaxValue(30).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("lineDash")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("lineDash",[t])})},t.prototype.initOpacity=function(){Xd(this.seriesLineOpacitySlider,this.chartTranslator,this.getChartProxy()),qd(this.seriesFillOpacitySlider,this.chartTranslator,this.getChartProxy())},t.prototype.initLabelPanel=function(){var e=Yd(this.chartTranslator,this.getChartProxy()),t=this.createBean(new Vd(e));this.activePanels.push(t),this.seriesGroup.addItem(t)},t.prototype.initShadowPanel=function(){var e=this.createBean(new Kd(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineDashSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',th([Object(p.X)("seriesGroup")],t.prototype,"seriesGroup",void 0),th([Object(p.X)("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),th([Object(p.X)("seriesStrokeWidthSlider")],t.prototype,"seriesStrokeWidthSlider",void 0),th([Object(p.X)("seriesLineDashSlider")],t.prototype,"seriesLineDashSlider",void 0),th([Object(p.X)("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),th([Object(p.X)("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),th([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),th([p.S],t.prototype,"init",null),t}(p.v),oh=(Zd=function(e,t){return(Zd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Zd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),rh=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ih=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return oh(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslator.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getAxisProperty("tick.color")).onValueChange(function(t){return e.getChartProxy().setAxisProperty("tick.color",t)});var t=function(t,n,o,r){n.setLabel(o).setValue(e.getChartProxy().getAxisProperty(t)).setMaxValue(r).setTextFieldWidth(45).onValueChange(function(n){return e.getChartProxy().setAxisProperty(t,n)})};t("tick.width",this.axisTicksWidthSlider,this.chartTranslator.translate("width"),10),t("tick.size",this.axisTicksSizeSlider,this.chartTranslator.translate("length"),30)},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',rh([Object(p.X)("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),rh([Object(p.X)("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),rh([Object(p.X)("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),rh([Object(p.X)("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),rh([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),rh([p.S],t.prototype,"init",null),t}(p.v),ah=(Qd=function(e,t){return(Qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Qd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),sh=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},lh=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.axisLabelUpdateFuncs=[],n.chartController=t,n}return ah(t,e),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,Rd.EVENT_CHART_UPDATED,function(){return e.axisLabelUpdateFuncs.forEach(function(e){return e()})})},t.prototype.initAxis=function(){var e=this,t=this.chartTranslator;if(this.axisGroup.setTitle(t.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(t.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getAxisProperty("line.color")).onValueChange(function(t){return e.getChartProxy().setAxisProperty("line.color",t)}),this.axisLineWidthSlider.setLabel(t.translate("thickness")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getAxisProperty("line.width")).onValueChange(function(t){return e.getChartProxy().setAxisProperty("line.width",t)}),p.mb.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var n=[{value:"",text:t.translate("automatic")}];["category","time","number"].forEach(function(e){n.push({value:e,text:t.translate(e)})}),this.xAxisTypeSelect.setLabel(t.translate("xType")).setLabelWidth("flex").addOptions(n).setValue(this.getChartProxy().getChartOption("xAxis.type")||"").onValueChange(function(t){e.getChartProxy().setChartOption("xAxis.type","string"==typeof t&&t.length&&t),e.chartController.updateForDataChange()})}else this.xAxisTypeSelect.setDisplayed(!1)},t.prototype.initAxisTicks=function(){var e=this.createBean(new ih(this.chartController));this.axisGroup.addItem(e),this.activePanels.push(e)},t.prototype.initAxisLabels=function(){var e=this,t=this.getChartProxy(),n={family:t.getAxisProperty("label.fontFamily"),style:t.getAxisProperty("label.fontStyle"),weight:t.getAxisProperty("label.fontWeight"),size:t.getAxisProperty("label.fontSize"),color:t.getAxisProperty("label.color")},o=this.createBean(new Vd({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(t){var n=e.getChartProxy();t.family&&n.setAxisProperty("label.fontFamily",t.family),t.weight&&n.setAxisProperty("label.fontWeight",t.weight),t.style&&n.setAxisProperty("label.fontStyle",t.style),t.size&&n.setAxisProperty("label.fontSize",t.size),t.color&&n.setAxisProperty("label.color",t.color),n.getChart().performLayout()}}));this.axisGroup.addItem(o),this.activePanels.push(o),this.addAdditionalLabelComps(o)},t.prototype.addAdditionalLabelComps=function(e){var t=this,n=function(n,o,r){var i=t.getChartProxy().getChartOption(o),a=(new p.b).setLabel(n).setLabelWidth("flex").setValue(i||0).onValueChange(r);t.axisLabelUpdateFuncs.push(function(){var e=t.getChartProxy().getChartOption(o);a.setValue(e)});var s=t.createBean(a);e.addCompToPanel(s)},o=String.fromCharCode(176),r=function(e){return function(n){var o=t.getChartProxy(),r=o.getChart(),i=Oi(r.axes,function(t){return t.position===e});i&&(i.label.rotation=n,i.position===ta.Bottom?p.mb.set(o.getChartOptions().xAxis,"label.rotation",n):i.position===ta.Left&&p.mb.set(o.getChartOptions().yAxis,"label.rotation",n),r.performLayout())}},i=this.chartTranslator.translate("xRotation")+" "+o,a=this.chartTranslator.translate("yRotation")+" "+o;n(i,"xAxis.label.rotation",r(ta.Bottom)),n(a,"yAxis.label.rotation",r(ta.Left));var s=this.createBean(new p.i);s.setLabel(this.chartTranslator.translate("padding")).setValue(this.getChartProxy().getAxisProperty("label.padding")).setMaxValue(30).setTextFieldWidth(45).onValueChange(function(e){return t.getChartProxy().setAxisProperty("label.padding",e)}),e.addCompToPanel(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',sh([Object(p.X)("axisGroup")],t.prototype,"axisGroup",void 0),sh([Object(p.X)("axisColorInput")],t.prototype,"axisColorInput",void 0),sh([Object(p.X)("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),sh([Object(p.X)("xAxisTypeSelect")],t.prototype,"xAxisTypeSelect",void 0),sh([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),sh([p.S],t.prototype,"init",null),t}(p.v),uh=(Jd=function(e,t){return(Jd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Jd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ch=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ph=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return uh(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,t=this.chartTranslator;this.navigatorGroup.setTitle(t.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.getChartProxy().getChartOption("navigator.enabled")||!1).onEnableChange(function(t){e.getChartProxy().setChartOption("navigator.enabled",t),e.navigatorGroup.toggleGroupExpand(!0)}),this.navigatorHeightSlider.setLabel(t.translate("height")).setMinValue(10).setMaxValue(60).setTextFieldWidth(45).setValue(String(this.getChartProxy().getChartOption("navigator.height")||"30")).onValueChange(function(t){return e.getChartProxy().setChartOption("navigator.height",t)})},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',ch([Object(p.X)("navigatorGroup")],t.prototype,"navigatorGroup",void 0),ch([Object(p.X)("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),ch([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),ch([p.S],t.prototype,"init",null),t}(p.v);function dh(e,t){return!1!==t.clone&&t.isMergeableObject(e)?yh(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function hh(e,t,n){return e.concat(t).map(function(e){return dh(e,n)})}function fh(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function gh(e,t){try{return t in e}catch(n){return!1}}function mh(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t}(e)}function yh(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||hh,n.isMergeableObject=n.isMergeableObject||mh,n.cloneUnlessOtherwiseSpecified=dh;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):function(e,t,n){var o={};return n.isMergeableObject(e)&&fh(e).forEach(function(t){o[t]=dh(e[t],n)}),fh(t).forEach(function(r){(function(e,t){return gh(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(o[r]=gh(e,r)&&n.isMergeableObject(t[r])?function(e,t){if(!t.customMerge)return yh;var n=t.customMerge(e);return"function"==typeof n?n:yh}(r,n)(e[r],t[r],n):dh(t[r],n))}),o}(e,t,n):dh(t,n)}var vh,bh,Ch=function(){return(Ch=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},wh=function(){function e(e){var t=this;this.chartProxyParams=e,this.isDarkTheme=function(){return t.chartProxyParams.isDarkTheme()},this.getFontColor=function(){return t.isDarkTheme()?"rgb(221, 221, 221)":"rgb(87, 87, 87)"},this.getAxisGridColor=function(){return t.isDarkTheme()?"rgb(100, 100, 100)":"rgb(219, 219, 219)"},this.getBackgroundColor=function(){return t.isDarkTheme()?"#2d3436":"white"},this.getChartPaddingOption=function(e){return t.iChartOptions.padding?""+t.iChartOptions.padding[e]:""},this.getShadowEnabled=function(){return!!t.getShadowProperty("enabled")},this.chartId=e.chartId,this.chartType=e.chartType,this.eventService=e.eventService,this.gridApi=e.gridApi,this.columnApi=e.columnApi,this.crossFiltering=e.crossFiltering,this.crossFilterCallback=e.crossFilterCallback}return e.prototype.recreateChart=function(){var e=this;this.chart&&this.destroyChart(),this.chart=this.createChart(),this.crossFiltering&&this.chart.addEventListener("click",function(t){return e.crossFilterCallback(t,!0)})},e.prototype.getChart=function(){return this.chart},e.prototype.downloadChart=function(){var e=this.chart;e.scene.download(e.title?e.title.text:"chart")},e.prototype.getChartImageDataURL=function(e){return this.chart.scene.getDataURL(e)},e.prototype.initChartOptions=function(){this.mergedThemeOverrides=this.getMergedThemeOverrides(),this.chartTheme=dd(this.mergedThemeOverrides),this.iChartOptions=this.extractIChartOptionsFromTheme(this.chartTheme);var e=this.chartProxyParams,t=e.processChartOptions;if(t){if(!e.allowProcessChartOptions&&!this.chartProxyParams.restoringChart)return void console.warn("AG Grid: since v26.0, 'processChartOptions()' has been removed (deprecated in v24.0), see https://www.ag-grid.com/javascript-grid/integrated-charts-customisation/");var n=yh({},this.iChartOptions),o=t({type:this.chartType,options:this.iChartOptions}),r=this.getDefaultOptions();p.mb.mergeDeep(r,o,!1),this.overridePalette(n,r),this.iChartOptions=r}},e.prototype.paletteOverridden=function(e,t){return!p.mb.areEqual(e.seriesDefaults.fill.colors,t.seriesDefaults.fill.colors)||!p.mb.areEqual(e.seriesDefaults.stroke.colors,t.seriesDefaults.stroke.colors)},e.prototype.getMergedThemeOverrides=function(){var e,t=this.getSelectedTheme(),n=this.chartProxyParams.getGridOptionsChartThemeOverrides(),o=this.chartProxyParams.apiChartThemeOverrides;if(n||o){var r={overrides:this.mergeThemeOverrides(n,o)};e=this.isStockTheme(t)?Ch({baseTheme:t},r):yh(this.lookupCustomChartTheme(t),r)}else e=this.isStockTheme(t)?t:this.lookupCustomChartTheme(t);return e},e.prototype.lookupCustomChartTheme=function(e){var t=this.chartProxyParams.customChartThemes,n=t&&t[e];return n||console.warn("AG Grid: no stock theme exists with the name '"+e+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),n},e.prototype.isStockTheme=function(e){return p.mb.includes(Object.keys(pd),e)},e.prototype.mergeThemeOverrides=function(e,t){return e?t?yh(e,t):e:t},e.prototype.overridePalette=function(e,t){if(this.chartProxyParams.allowPaletteOverride&&this.paletteOverridden(e,t)){var n=t.seriesDefaults,o=n.fill.colors,r=n.stroke.colors;if(o||r){var i=p.mb.includes(o,void 0),a=p.mb.includes(r,void 0);if(i||a)return;this.customPalette={fills:o,strokes:r}}}},e.prototype.getStandaloneChartType=function(){switch(this.chartType){case p.q.GroupedBar:case p.q.StackedBar:case p.q.NormalizedBar:return"bar";case p.q.GroupedColumn:case p.q.StackedColumn:case p.q.NormalizedColumn:return"column";case p.q.Line:return"line";case p.q.Area:case p.q.StackedArea:case p.q.NormalizedArea:return"area";case p.q.Scatter:case p.q.Bubble:return"scatter";case p.q.Histogram:return"histogram";case p.q.Pie:case p.q.Doughnut:return"pie";default:return"cartesian"}},e.prototype.extractIChartOptionsFromTheme=function(e){var t={},n=this.getStandaloneChartType();return t.title=e.getConfig(n+".title"),t.subtitle=e.getConfig(n+".subtitle"),t.background=e.getConfig(n+".background"),t.legend=e.getConfig(n+".legend"),t.navigator=e.getConfig(n+".navigator"),t.tooltip={enabled:e.getConfig(n+".tooltip.enabled"),tracking:e.getConfig(n+".tooltip.tracking"),class:e.getConfig(n+".tooltip.class"),delay:e.getConfig(n+".tooltip.delay")},t.listeners=e.getConfig(n+".listeners"),t.padding=e.getConfig(n+".padding"),t},e.prototype.getSelectedTheme=function(){var e=this.chartProxyParams.getChartThemeName(),t=this.chartProxyParams.getChartThemes();return p.mb.includes(t,e)||(e=t[0]),e},e.prototype.getChartOptions=function(){return this.iChartOptions},e.prototype.getCustomPalette=function(){return this.customPalette},e.prototype.getChartOption=function(e){return p.mb.get(this.iChartOptions,e,void 0)},e.prototype.setChartOption=function(e,t){p.mb.get(this.iChartOptions,e,void 0)!==t&&(p.mb.set(this.iChartOptions,e,t),p.mb.set(this.chart,{"legend.item.marker.strokeWidth":"legend.strokeWidth","legend.item.marker.size":"legend.markerSize","legend.item.marker.padding":"legend.itemSpacing","legend.item.label.fontFamily":"legend.fontFamily","legend.item.label.fontStyle":"legend.fontStyle","legend.item.label.fontWeight":"legend.fontWeight","legend.item.label.fontSize":"legend.fontSize","legend.item.label.color":"legend.color","legend.item.paddingX":"legend.layoutHorizontalSpacing","legend.item.paddingY":"legend.layoutVerticalSpacing"}[e]||e,t),this.raiseChartOptionsChangedEvent())},e.prototype.getSeriesOption=function(e){return p.mb.get(this.iChartOptions.seriesDefaults,e,void 0)},e.prototype.setSeriesOption=function(e,t){if(p.mb.get(this.iChartOptions.seriesDefaults,e,void 0)!==t){p.mb.set(this.iChartOptions.seriesDefaults,e,t);var n={"stroke.width":"strokeWidth","stroke.opacity":"strokeOpacity","fill.opacity":"fillOpacity","callout.colors":"calloutColors"};this.chart.series.forEach(function(o){return p.mb.set(o,n[e]||e,t)}),this.raiseChartOptionsChangedEvent()}},e.prototype.setTitleOption=function(e,t){p.mb.get(this.iChartOptions.title,e,void 0)!==t&&(this.iChartOptions.title[e]=t,this.chart.title||(this.chart.title={}),this.chart.title[e]=t,"text"===e&&this.setTitleOption("enabled",p.mb.exists(t)),this.raiseChartOptionsChangedEvent())},e.prototype.getTitleOption=function(e){return this.iChartOptions.title[e]},e.prototype.setChartPaddingOption=function(e,t){var n=this.iChartOptions.padding;p.mb.get(n,e,void 0)!==t&&(n||(n=this.iChartOptions.padding={top:0,right:0,bottom:0,left:0},this.chart.padding=new hr(0)),n[e]=t,this.chart.padding[e]=t,this.chart.performLayout(),this.raiseChartOptionsChangedEvent())},e.prototype.getShadowProperty=function(e){var t=this.iChartOptions.seriesDefaults;return t.shadow?t.shadow[e]:""},e.prototype.setShadowProperty=function(e,t){var n=this.iChartOptions.seriesDefaults;p.mb.get(n.shadow,e,void 0)!==t&&(n.shadow||(n.shadow={enabled:!1,blur:0,xOffset:0,yOffset:0,color:"rgba(0,0,0,0.5)"}),n.shadow[e]=t,this.getChart().series.forEach(function(n){if(!n.shadow){var o=new pc;o.enabled=!1,o.blur=0,o.xOffset=0,o.yOffset=0,o.color="rgba(0,0,0,0.5)",n.shadow=o}n.shadow[e]=t}),this.raiseChartOptionsChangedEvent())},e.prototype.raiseChartOptionsChangedEvent=function(){var e=Object.freeze({type:p.C.EVENT_CHART_OPTIONS_CHANGED,chartId:this.chartId,chartType:this.chartType,chartThemeName:this.chartProxyParams.getChartThemeName(),chartOptions:this.iChartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},e.prototype.getDefaultFontOptions=function(){return{fontStyle:"normal",fontWeight:"normal",fontSize:12,fontFamily:"Verdana, sans-serif",color:this.getFontColor()}},e.prototype.getDefaultDropShadowOptions=function(){return{enabled:!1,blur:5,xOffset:3,yOffset:3,color:"rgba(0, 0, 0, 0.5)"}},e.prototype.getPredefinedPalette=function(){return this.chartTheme.palette},e.prototype.getPalette=function(){return this.customPalette||this.chartTheme.palette},e.prototype.getDefaultChartOptions=function(){return{background:{},padding:{},title:{},subtitle:{},legend:{},navigator:{},seriesDefaults:{},listeners:{}}},e.prototype.transformData=function(e,t){return this.chart.axes.filter(function(e){return e instanceof ga}).length<1?e:e.map(function(e,n){var o=e[t],r=o&&o.toString?o.toString():"",i=Ch({},e);return i[t]={id:n,value:o,toString:function(){return r}},i})},e.prototype.hexToRGBA=function(e,t){var n=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return t?"rgba("+n+", "+o+", "+r+", "+t+")":"rgba("+n+", "+o+", "+r+")"},e.prototype.changeOpacity=function(e,t){return e.map(function(e){var n=p.s.fromString(e);return new p.s(n.r,n.g,n.b,t).toHexString()})},e.prototype.destroy=function(){this.destroyChart()},e.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},e}(),Oh=(bh=function(e,t){return(bh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}bh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),xh=function(){return(xh=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e[e.REGULAR=0]="REGULAR",e[e.SPECIAL=1]="SPECIAL"}(vh||(vh={}));var Sh,Ph,_h,Eh,Th,Ah,Mh,Dh,kh,Rh,Ih,Nh,Fh,Lh,jh,Gh,Vh,Bh,Wh,zh,Uh,Hh,Kh,Xh,qh,Yh,Jh,Qh,Zh,$h,ef,tf,nf,of,rf,af,sf,lf,uf,cf,pf,df,hf,ff,gf,mf,yf,vf,bf,Cf,wf,Of,xf,Sf,Pf,_f,Ef,Tf,Af,Mf,Df,kf,Rf,If,Nf,Ff,Lf,jf,Gf,Vf,Bf,Wf,zf,Uf=function(e){function t(t){var n=e.call(this,t)||this;return n.prevAxisLabelRotation=0,n.axisTypeToClassMap={number:da,category:ga,groupedCategory:Pa,time:Ss},n}return Oh(t,e),t.prototype.extractIChartOptionsFromTheme=function(t){var n,o=e.prototype.extractIChartOptionsFromTheme.call(this,t),r=this.getStandaloneChartType(),i="scatter"===r||"histogram"===r?"number":"category",a="number";"bar"===r&&(i=(n=[a,i])[0],a=n[1]);var s={},l={};return s=yh(s,t.getConfig(r+".axes."+i)),s=yh(s,t.getConfig(r+".axes."+i+".bottom")),l=yh(l,t.getConfig(r+".axes."+a)),l=yh(l,t.getConfig(r+".axes."+a+".left")),o.xAxis=s,o.yAxis=l,o},t.prototype.getAxisProperty=function(e){return p.mb.get(this.iChartOptions.xAxis,e,void 0)},t.prototype.setAxisProperty=function(e,t){p.mb.set(this.iChartOptions.xAxis,e,t),p.mb.set(this.iChartOptions.yAxis,e,t);var n=this.chart;this.chart.axes.forEach(function(n){return p.mb.set(n,e,t)}),n.performLayout(),this.raiseChartOptionsChangedEvent()},t.prototype.updateLabelRotation=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n="category");var o=t?ta.Left:ta.Bottom,r=Oi(this.chart.axes,function(e){return e.position===o}),i=e===dr.DEFAULT_CATEGORY||this.chartProxyParams.grouping;i&&this.prevCategory===vh.REGULAR&&r&&(this.prevAxisLabelRotation=r.label.rotation);var a=0;if(!i){if(this.prevCategory===vh.REGULAR)return;if(p.mb.exists(this.prevCategory))a=this.prevAxisLabelRotation;else{var s=this.getUserThemeOverrideRotation(t,n);a=void 0!==s?s:335}}r&&(r.label.rotation=a,p.mb.set(this.iChartOptions.xAxis,"label.rotation",a));var l=Object.freeze({type:Rd.EVENT_CHART_UPDATED});this.chartProxyParams.eventService.dispatchEvent(l),this.prevCategory=i?vh.SPECIAL:vh.REGULAR},t.prototype.getUserThemeOverrideRotation=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t="category"),this.mergedThemeOverrides&&this.mergedThemeOverrides.overrides){var n=this.getStandaloneChartType(),o=this.mergedThemeOverrides.overrides,r=e?ta.Left:ta.Bottom,i=p.mb.get(o,n+".axes."+t+"."+r+".label.rotation",void 0);if("number"==typeof i&&isFinite(i))return i;var a=p.mb.get(o,n+".axes."+t+".label.rotation",void 0);if("number"==typeof a&&isFinite(a))return a;var s=p.mb.get(o,"cartesian.axes."+t+"."+r+".label.rotation",void 0);if("number"==typeof s&&isFinite(s))return s;var l=p.mb.get(o,"cartesian.axes."+t+".label.rotation",void 0);return"number"==typeof l&&isFinite(l)?l:void 0}},t.prototype.getDefaultAxisOptions=function(){var e=this.getDefaultFontOptions(),t=this.getAxisGridColor();return{title:xh(xh({},e),{enabled:!1,fontSize:14}),line:{color:"rgba(195, 195, 195, 1)",width:1},tick:{color:"rgba(195, 195, 195, 1)",size:6,width:1},label:xh(xh({},e),{padding:5,rotation:0}),gridStyle:[{stroke:t,lineDash:[4,2]}]}},t.prototype.getDefaultCartesianChartOptions=function(){var e=this.getDefaultChartOptions();return e.xAxis=this.getDefaultAxisOptions(),e.yAxis=this.getDefaultAxisOptions(),e},t.prototype.updateAxes=function(e,t){void 0===e&&(e="category"),void 0===t&&(t=!1);var n=t?this.getYAxis():this.getXAxis();n&&(this.chartProxyParams.grouping?n instanceof Pa||this.recreateChart():!(n instanceof this.axisTypeToClassMap[e])&&((t?this.iChartOptions.yAxis:this.iChartOptions.xAxis).type=e,this.recreateChart()))},t.prototype.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return"time"===e.category.chartDataType;var t=e.data[0];return(t&&t[e.category.id])instanceof Date},t.prototype.getXAxisDefaults=function(e,t){if("time"===e){var n={},o=this.getStandaloneChartType();return n=yh(n,this.chartTheme.getConfig(o+".axes.time")),yh(n,this.chartTheme.getConfig(o+".axes.time.bottom"))}return t.xAxis},t.prototype.getXAxis=function(){return Oi(this.chart.axes,function(e){return e.position===ta.Bottom})},t.prototype.getYAxis=function(){return Oi(this.chart.axes,function(e){return e.position===ta.Left})},t.prototype.processDataForCrossFiltering=function(e,t,n){var o=t,r=!1;return this.crossFiltering&&(e.forEach(function(e){e[t+"-total"]=e[t]+e[t+"-filtered-out"],e[t+"-filtered-out"]>0&&(r=!0)}),n.getCrossFilteringContext().lastSelectedChartId===n.chartId&&(o=t+"-total")),{yKey:o,atLeastOneSelectedPoint:r}},t.prototype.updateSeriesForCrossFiltering=function(e,t,n,o,r){if(this.crossFiltering){e.marker.enabled=!0,e.marker.formatter=function(e){return{fill:e.highlighted?"yellow":e.fill,size:e.highlighted?12:e.datum[t]>0?8:0}},n.tooltip.delay=500;var i=o.getCrossFilteringContext().lastSelectedChartId===o.chartId&&r;e instanceof ku&&(e.fillOpacity=i?.3:1),e instanceof Ku&&(e.strokeOpacity=i?.3:1),e.addEventListener("nodeClick",this.crossFilterCallback)}},t}(wh),Hf=(zf=function(e,t){return(zf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}zf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Kf=function(){return(Kf=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Xf=function(e){function t(t){var n=e.call(this,t)||this;return n.getMarkersEnabled=function(){return!0},n.initChartOptions(),n.recreateChart(),n}return Hf(t,e),t.prototype.createChart=function(){var e=this.iChartOptions,t=e;return t.autoSize=!0,t.axes=[Kf({type:"number",position:"bottom"},e.xAxis),Kf({type:"number",position:"left"},e.yAxis)],gd.create(t,this.chartProxyParams.parentElement)},t.prototype.update=function(e){var t=this;if(e.fields.length<2)this.chart.removeAllSeries();else{var n=e.fields;this.crossFiltering&&n.forEach(function(e){var t=Kf({},e);t.colId=e.colId+"-filtered-out",n.push(t)});var o,r=this.iChartOptions.seriesDefaults,i=this.getSeriesDefinitions(n,r.paired);this.crossFiltering&&(o=this.getCrossFilteringDataDomain(i,e));var a=this.chart,s=a.series.reduceRight(function(e,t,n){return p.mb.findIndex(i,function(e){return e.xField.colId===t.xKey&&e.yField.colId===t.yKey&&(!e.sizeField&&!t.sizeKey||e.sizeField&&e.sizeField.colId===t.sizeKey)})===n?e.set(t.yKey,t):a.removeSeries(t),e},new Map),l=this.getPalette(),u=l.fills,c=l.strokes;if(this.crossFiltering){var d=[];u.forEach(function(e){d.push(e),d.push(t.hexToRGBA(e,"0.3"))}),u=d;var h=[];c.forEach(function(e){h.push(e),h.push(t.hexToRGBA(e,"0.3"))}),c=h}var f,g=e.category.id===dr.DEFAULT_CATEGORY?void 0:e.category;i.forEach(function(n,i){var l=s.get(n.yField.colId),p=Kf({},r.marker);p.type&&(p.shape=p.type,delete p.type);var d=l||gd.createComponent(Kf(Kf({},r),{type:"scatter",fillOpacity:r.fill.opacity,strokeOpacity:r.stroke.opacity,strokeWidth:r.stroke.width,marker:p,tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.enabled&&r.tooltip.renderer}}),"scatter.series");if(d){var h=n.xField,m=n.yField,y=n.sizeField;d.title=m.displayName+" vs "+h.displayName,d.xKey=h.colId,d.xName=h.displayName,d.yKey=m.colId,d.yName=m.displayName,d.data=e.data,d.fill=u[i%u.length],d.stroke=c[i%c.length],y?(d.sizeKey=y.colId,d.sizeName=y.displayName):d.sizeKey=void 0,g?(d.labelKey=g.id,d.labelName=g.name):d.labelKey=d.yKey;var v=m.colId.indexOf("-filtered-out")>-1;t.crossFiltering&&(v||a.legend.addEventListener("click",function(e){d.toggleSeriesItem(e.itemId+"-filtered-out",e.enabled)}),o&&(d.marker.domain=o),a.tooltip.delay=500,v&&(d.showInLegend=!1),d.addEventListener("nodeClick",t.crossFilterCallback)),l||a.addSeriesAfter(d,f),f=d}})}},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),o=t.getConfig("scatter.series.scatter");return n.seriesDefaults={tooltip:{enabled:o.tooltip&&o.tooltip.enabled,renderer:o.tooltip&&o.tooltip.renderer},fill:{colors:o.fill&&[o.fill]||t.palette.fills,opacity:o.fillOpacity},stroke:{colors:o.stroke&&[o.stroke]||t.palette.strokes,opacity:o.strokeOpacity,width:o.strokeWidth},label:o.label,marker:{enabled:o.marker.enabled,shape:o.marker.shape,size:o.marker.size,strokeWidth:o.marker.strokeWidth},highlightStyle:o.highlightStyle,listeners:o.listeners,paired:!0},n},t.prototype.getTooltipsEnabled=function(){return null!=this.iChartOptions.seriesDefaults.tooltip&&!!this.iChartOptions.seriesDefaults.tooltip.enabled},t.prototype.getDefaultOptions=function(){var e=this.chartType===p.q.Bubble,t=this.getDefaultCartesianChartOptions();return t.seriesDefaults=Kf(Kf({},t.seriesDefaults),{fill:Kf(Kf({},t.seriesDefaults.fill),{opacity:e?.7:1}),stroke:Kf(Kf({},t.seriesDefaults.stroke),{width:3}),marker:{shape:"circle",enabled:!0,size:6,maxSize:30,strokeWidth:1},tooltip:{enabled:!0},paired:!0}),t},t.prototype.getSeriesDefinitions=function(e,t){if(e.length<2)return[];var n=this.chartType===p.q.Bubble;if(t)return n?e.map(function(t,n){return n%3==0?{xField:t,yField:e[n+1],sizeField:e[n+2]}:null}).filter(function(e){return e&&e.yField&&e.sizeField}):e.map(function(t,n){return n%2==0?{xField:t,yField:e[n+1]}:null}).filter(function(e){return e&&e.yField});var o=e[0];return n?e.map(function(t,n){return n%2==1?{xField:o,yField:t,sizeField:e[n+1]}:null}).filter(function(e){return e&&e.sizeField}):e.filter(function(e,t){return t>0}).map(function(e){return{xField:o,yField:e}})},t.prototype.getCrossFilteringDataDomain=function(e,t){var n;if(e[0]&&e[0].sizeField){var o=e[0].sizeField.colId,r=[];t.data.forEach(function(e){void 0!==e[o]&&r.push(e[o]),void 0!==e[o+"-filtered-out"]&&r.push(e[o+"-filtered-out"])}),r.length>0&&(n=[Math.min.apply(Math,r),Math.max.apply(Math,r)])}return n},t}(Uf),qf=(Wf=function(e,t){return(Wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Wf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Yf=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Jf=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return qf(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this,t=this.chartController.getChartProxy()instanceof Xf;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslator.translate("shape")).setValue(this.chartController.getChartProxy().getSeriesOption("marker.shape")).onValueChange(function(t){return e.chartController.getChartProxy().setSeriesOption("marker.shape",t)}),this.seriesMarkersGroup.setTitle(this.chartTranslator.translate("markers")).hideEnabledCheckbox(t).setEnabled(this.chartController.getChartProxy().getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(t){return e.chartController.getChartProxy().setSeriesOption("marker.enabled",t)});var n=function(t,n,o,r){n.setLabel(e.chartTranslator.translate(o)).setValue(e.chartController.getChartProxy().getSeriesOption(t)).setMaxValue(r).setTextFieldWidth(45).onValueChange(function(n){return e.chartController.getChartProxy().setSeriesOption(t,n)})};this.chartController.getChartType()===p.q.Bubble?(n("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),n("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),n("marker.size",this.seriesMarkerSizeSlider,"size",60)),n("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Yf([Object(p.X)("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),Yf([Object(p.X)("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),Yf([Object(p.X)("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),Yf([Object(p.X)("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),Yf([Object(p.X)("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),Yf([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Yf([p.S],t.prototype,"init",null),t}(p.v),Qf=(Bf=function(e,t){return(Bf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Bf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Zf=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},$f=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return Qf(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initSeriesLineWidth(),this.initSeriesLineDash(),this.initMarkersPanel(),this.initLabelPanel()},t.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesLineWidth=function(){var e=this;this.seriesLineWidthSlider.setLabel(this.chartTranslator.translate("lineWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initSeriesLineDash=function(){var e=this;this.seriesLineDashSlider.setLabel(this.chartTranslator.translate("lineDash")).setMaxValue(30).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("lineDash")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("lineDash",[t])})},t.prototype.initMarkersPanel=function(){var e=this.createBean(new Jf(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.initLabelPanel=function(){var e=Yd(this.chartTranslator,this.getChartProxy()),t=this.createBean(new Vd(e));this.activePanels.push(t),this.seriesGroup.addItem(t)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesLineWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineDashSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Zf([Object(p.X)("seriesGroup")],t.prototype,"seriesGroup",void 0),Zf([Object(p.X)("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),Zf([Object(p.X)("seriesLineWidthSlider")],t.prototype,"seriesLineWidthSlider",void 0),Zf([Object(p.X)("seriesLineDashSlider")],t.prototype,"seriesLineDashSlider",void 0),Zf([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Zf([p.S],t.prototype,"init",null),t}(p.v),eg=(Vf=function(e,t){return(Vf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Vf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ng=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return eg(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslator.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var t=function(t,n,o,r){n.setLabel(e.chartTranslator.translate(o)).setValue(e.chartController.getChartProxy().getSeriesOption(t)).setMaxValue(r).setTextFieldWidth(45).onValueChange(function(n){return e.chartController.getChartProxy().setSeriesOption(t,n)})};t("callout.length",this.calloutLengthSlider,"length",40),t("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),t("label.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',tg([Object(p.X)("calloutGroup")],t.prototype,"calloutGroup",void 0),tg([Object(p.X)("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),tg([Object(p.X)("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),tg([Object(p.X)("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),tg([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),tg([p.S],t.prototype,"init",null),t}(p.v),og=(Gf=function(e,t){return(Gf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Gf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),rg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ig=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return og(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel()},t.prototype.initGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesStrokeWidth=function(){var e=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initOpacity=function(){var e=this;this.seriesLineOpacitySlider.setLabel(this.chartTranslator.translate("strokeOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.opacity")||"1").onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.opacity",t)}),this.seriesFillOpacitySlider.setLabel(this.chartTranslator.translate("fillOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("fillOpacity")||"1").onValueChange(function(t){return e.getChartProxy().setSeriesOption("fillOpacity",t)})},t.prototype.initLabelPanel=function(){var e=this,t=this.getChartProxy(),n={family:t.getSeriesOption("label.fontFamily"),style:t.getSeriesOption("label.fontStyle"),weight:t.getSeriesOption("label.fontWeight"),size:t.getSeriesOption("label.fontSize"),color:t.getSeriesOption("label.color")},o={name:this.chartTranslator.translate("labels"),enabled:t.getSeriesOption("label.enabled")||!1,setEnabled:function(t){return e.getChartProxy().setSeriesOption("label.enabled",t)},suppressEnabledCheckbox:!1,initialFont:n,setFont:function(t){var n=e.getChartProxy();t.family&&n.setSeriesOption("label.fontFamily",t.family),t.weight&&n.setSeriesOption("label.fontWeight",t.weight),t.style&&n.setSeriesOption("label.fontStyle",t.style),t.size&&n.setSeriesOption("label.fontSize",t.size),t.color&&n.setSeriesOption("label.color",t.color)}},r=this.createBean(new Vd(o));this.activePanels.push(r);var i=this.createBean(new ng(this.chartController));r.addCompToPanel(i),this.activePanels.push(i),this.seriesGroup.addItem(r)},t.prototype.initShadowPanel=function(){var e=this.createBean(new Kd(this.chartController));this.seriesGroup.getGui().appendChild(e.getGui()),this.seriesGroup.addItem(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',rg([Object(p.X)("seriesGroup")],t.prototype,"seriesGroup",void 0),rg([Object(p.X)("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),rg([Object(p.X)("seriesStrokeWidthSlider")],t.prototype,"seriesStrokeWidthSlider",void 0),rg([Object(p.X)("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),rg([Object(p.X)("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),rg([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),rg([p.S],t.prototype,"init",null),t}(p.v),ag=(jf=function(e,t){return(jf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}jf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),sg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},lg=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return ag(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslator.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,t=function(t,n){n.setLabel(e.chartTranslator.translate(t)).setValue(e.chartController.getChartProxy().getChartPaddingOption(t)).setMaxValue(200).setTextFieldWidth(45).onValueChange(function(n){return e.chartController.getChartProxy().setChartPaddingOption(t,n)})};t("top",this.paddingTopSlider),t("right",this.paddingRightSlider),t("bottom",this.paddingBottomSlider),t("left",this.paddingLeftSlider)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',sg([Object(p.X)("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),sg([Object(p.X)("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),sg([Object(p.X)("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),sg([Object(p.X)("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),sg([Object(p.X)("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),sg([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),sg([p.S],t.prototype,"init",null),t}(p.v),ug=(Lf=function(e,t){return(Lf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Lf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),cg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pg=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return ug(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslator.translate("background")).setEnabled(this.chartController.getChartProxy().getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(t){return e.chartController.getChartProxy().setChartOption("background.visible",t)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartController.getChartProxy().getChartOption("background.fill")).onValueChange(function(t){return e.chartController.getChartProxy().setChartOption("background.fill",t)})},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',cg([Object(p.X)("chartBackgroundGroup")],t.prototype,"group",void 0),cg([Object(p.X)("colorPicker")],t.prototype,"colorPicker",void 0),cg([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),cg([p.S],t.prototype,"init",null),t}(p.v),dg=(Ff=function(e,t){return(Ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ff(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),hg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},fg=function(e){function t(n){var o=e.call(this,t.TEMPLATE)||this;return o.activePanels=[],o.chartController=n,o}return dg(t,e),t.prototype.init=function(){this.initFontPanel()},t.prototype.hasTitle=function(){var e=this.chartController.getChartProxy().getChartOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,t=this.chartController.getChartProxy(),n=this.hasTitle,o=function(t){var n=e.chartController.getChartProxy();t.family&&n.setTitleOption("fontFamily",t.family),t.weight&&n.setTitleOption("fontWeight",t.weight),t.style&&n.setTitleOption("fontStyle",t.style),t.size&&n.setTitleOption("fontSize",t.size),t.color&&n.setTitleOption("color",t.color)},r={family:t.getChartOption("title.fontFamily"),style:t.getChartOption("title.fontStyle"),weight:t.getChartOption("title.fontWeight"),size:t.getChartOption("title.fontSize"),color:t.getChartOption("title.color")};n||o(r);var i={name:this.chartTranslator.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:r,setFont:o,setEnabled:function(t){var n=e.chartController.getChartProxy();if(t){var o=e.disabledTitle||e.chartTranslator.translate("titlePlaceholder");n.setTitleOption("text",o),e.disabledTitle=""}else e.disabledTitle=n.getTitleOption("text"),n.setTitleOption("text","")}},a=this.createBean(new Vd(i));this.getGui().appendChild(a.getGui()),this.activePanels.push(a),this.addManagedListener(this.eventService,"chartTitleEdit",function(){a.setEnabled(e.hasTitle())})},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",hg([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),hg([p.S],t.prototype,"init",null),t}(p.v),gg=(Nf=function(e,t){return(Nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Nf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),mg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},yg=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return gg(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslator.translate("chart")).toggleGroupExpand(!0).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new fg(this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new lg(this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new pg(this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',mg([Object(p.X)("chartGroup")],t.prototype,"chartGroup",void 0),mg([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),mg([p.S],t.prototype,"init",null),t}(p.v),vg=(If=function(e,t){return(If=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}If(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),bg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Cg=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return vg(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initSeriesLineWidth(),this.initSeriesLineDash(),this.initOpacity(),this.initMarkersPanel(),this.initLabelPanel(),this.initShadowPanel()},t.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesLineWidth=function(){var e=this;this.seriesLineWidthSlider.setLabel(this.chartTranslator.translate("lineWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initSeriesLineDash=function(){var e=this;this.seriesLineDashSlider.setLabel(this.chartTranslator.translate("lineDash")).setMaxValue(30).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("lineDash")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("lineDash",[t])})},t.prototype.initOpacity=function(){Xd(this.seriesLineOpacitySlider,this.chartTranslator,this.getChartProxy()),qd(this.seriesFillOpacitySlider,this.chartTranslator,this.getChartProxy())},t.prototype.initLabelPanel=function(){var e=Yd(this.chartTranslator,this.getChartProxy()),t=this.createBean(new Vd(e));this.activePanels.push(t),this.seriesGroup.addItem(t)},t.prototype.initMarkersPanel=function(){var e=this.createBean(new Jf(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.initShadowPanel=function(){var e=this.createBean(new Kd(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesLineWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineDashSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',bg([Object(p.X)("seriesGroup")],t.prototype,"seriesGroup",void 0),bg([Object(p.X)("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),bg([Object(p.X)("seriesLineWidthSlider")],t.prototype,"seriesLineWidthSlider",void 0),bg([Object(p.X)("seriesLineDashSlider")],t.prototype,"seriesLineDashSlider",void 0),bg([Object(p.X)("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),bg([Object(p.X)("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),bg([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),bg([p.S],t.prototype,"init",null),t}(p.v),wg=(Rf=function(e,t){return(Rf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Rf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Og=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},xg=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return wg(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initMarkersPanel(),this.initLabelPanel()},t.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initMarkersPanel=function(){var e=this.createBean(new Jf(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.initLabelPanel=function(){var e=Yd(this.chartTranslator,this.getChartProxy()),t=this.createBean(new Vd(e));this.activePanels.push(t),this.seriesGroup.addItem(t)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n            </ag-group-component>\n        </div>',Og([Object(p.X)("seriesGroup")],t.prototype,"seriesGroup",void 0),Og([Object(p.X)("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),Og([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Og([p.S],t.prototype,"init",null),t}(p.v),Sg=(kf=function(e,t){return(kf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}kf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Pg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_g=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return Sg(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.initSeriesTooltips(),this.initBins(),this.initSeriesStrokeWidth(),this.initSeriesLineDash(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel()},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initBins=function(){var e=this;this.seriesBinCountSlider.setLabel(this.chartTranslator.translate("histogramBinCount")).setMinValue(4).setMaxValue(100).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("binCount")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("binCount",t)})},t.prototype.initSeriesStrokeWidth=function(){var e=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initSeriesLineDash=function(){var e=this;this.seriesLineDashSlider.setLabel(this.chartTranslator.translate("lineDash")).setMaxValue(30).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("lineDash")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("lineDash",[t])})},t.prototype.initOpacity=function(){Xd(this.seriesLineOpacitySlider,this.chartTranslator,this.getChartProxy()),qd(this.seriesFillOpacitySlider,this.chartTranslator,this.getChartProxy())},t.prototype.initLabelPanel=function(){var e=Yd(this.chartTranslator,this.getChartProxy()),t=this.createBean(new Vd(e));this.activePanels.push(t),this.seriesGroup.addItem(t)},t.prototype.initShadowPanel=function(){var e=this.createBean(new Kd(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="binCountSlider"></ag-slider>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineDashSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',Pg([Object(p.X)("seriesGroup")],t.prototype,"seriesGroup",void 0),Pg([Object(p.X)("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),Pg([Object(p.X)("binCountSlider")],t.prototype,"seriesBinCountSlider",void 0),Pg([Object(p.X)("seriesStrokeWidthSlider")],t.prototype,"seriesStrokeWidthSlider",void 0),Pg([Object(p.X)("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),Pg([Object(p.X)("seriesLineDashSlider")],t.prototype,"seriesLineDashSlider",void 0),Pg([Object(p.X)("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),Pg([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Pg([p.S],t.prototype,"init",null),t}(p.v),Eg=(Df=function(e,t){return(Df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Df(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Tg=function(e){function t(n){var o=e.call(this,t.TEMPLATE)||this;return o.panels=[],o.chartController=n,o}return Eg(t,e),t.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,Rd.EVENT_CHART_UPDATED,this.createPanels.bind(this))},t.prototype.createPanels=function(){var e=this.chartController.getChartType(),t=this.chartController.isGrouping();if(e!==this.chartType||t!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new yg(this.chartController)),this.addComponent(new zd(this.chartController)),e){case p.q.GroupedColumn:case p.q.StackedColumn:case p.q.NormalizedColumn:case p.q.GroupedBar:case p.q.StackedBar:case p.q.NormalizedBar:this.addComponent(new lh(this.chartController)),this.addComponent(new nh(this.chartController)),this.addComponent(new ph(this.chartController));break;case p.q.Pie:case p.q.Doughnut:this.addComponent(new ig(this.chartController));break;case p.q.Line:this.addComponent(new lh(this.chartController)),this.addComponent(new $f(this.chartController)),this.addComponent(new ph(this.chartController));break;case p.q.Scatter:case p.q.Bubble:this.addComponent(new lh(this.chartController)),this.addComponent(new xg(this.chartController)),this.addComponent(new ph(this.chartController));break;case p.q.Area:case p.q.StackedArea:case p.q.NormalizedArea:this.addComponent(new lh(this.chartController)),this.addComponent(new Cg(this.chartController)),this.addComponent(new ph(this.chartController));break;case p.q.Histogram:this.addComponent(new lh(this.chartController)),this.addComponent(new _g(this.chartController)),this.addComponent(new ph(this.chartController));break;default:console.warn("AG Grid: ChartFormattingPanel - unexpected chart type index: "+e+" supplied")}this.chartType=e,this.isGrouping=t}},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),p.mb.addCssClass(e.getGui(),"ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(t){p.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyPanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([p.S],t.prototype,"init",null),t}(p.v),Ag=(Mf=function(e,t){return(Mf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Mf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Mg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Dg=function(e){function t(t,n){var o=e.call(this)||this;o.size=58,o.padding=5,o.root=new Mi;var r=new Ps(window.document,o.size,o.size);return p.mb.addCssClass(r.canvas.element,"ag-chart-mini-thumbnail-canvas"),r.root=o.root,r.container=t,o.scene=r,o.tooltipName=n,o}return Ag(t,e),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslator.translate(this.tooltipName)},Mg([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Mg([p.S],t.prototype,"init",null),t}(p.v),kg=(Af=function(e,t){return(Af=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Af(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Rg=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.stroke="gray",o.axisOvershoot=3,o}return kg(t,e),t.prototype.addAxes=function(){var e=this.size,t=this.padding,n=new Ii;n.x1=t,n.y1=t,n.x2=t,n.y2=e-t+this.axisOvershoot,n.stroke=this.stroke;var o=new Ii;o.x1=t-this.axisOvershoot+1,o.y1=e-t,o.x2=e-t+1,o.y2=e-t,o.stroke=this.stroke;var r=this.root;r.append(n),r.append(o)},function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([p.S],t.prototype,"addAxes",null),t}(Dg),Ig=(Tf=function(e,t){return(Tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Tf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ng=function(e){function t(t,n,o){var r=e.call(this,t,"groupedColumnTooltip")||this,i=r.padding,a=r.size,s=new ha;s.domain=[0,1,2],s.range=[i,a-i],s.paddingInner=.3,s.paddingOuter=.3;var l=new wi;l.domain=[0,4],l.range=[a-i,i];var u=l.convert(0),c=s.bandwidth;return r.bars=[2,3,4].map(function(e,t){var n=l.convert(e),o=new js;return o.x=s.convert(t),o.y=n,o.width=c,o.height=u-n,o.strokeWidth=1,o.crisp=!0,o}),r.updateColors(n,o),r.root.append(r.bars),r}return Ig(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach(function(n,o){n.fill=e[o],n.stroke=t[o]})},t.chartType=p.q.GroupedColumn,t}(Rg),Fg=(Ef=function(e,t){return(Ef=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ef(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Lg=function(e){function t(n,o,r,i,a,s){void 0===i&&(i=t.data),void 0===a&&(a=[0,16]),void 0===s&&(s="stackedColumnTooltip");var l=e.call(this,n,s)||this,u=l.padding,c=l.size,p=new ha;p.domain=[0,1,2],p.range=[u,c-u],p.paddingInner=.3,p.paddingOuter=.3;var d=new wi;d.domain=a,d.range=[c-u,u];var h=d.convert(0),f=p.bandwidth;return l.bars=i.map(function(e){return e.map(function(e,t){var n=d.convert(e),o=new js;return o.x=p.convert(t),o.y=n,o.width=f,o.height=h-n,o.strokeWidth=1,o.crisp=!0,o})}),l.updateColors(o,r),l.root.append([].concat.apply([],l.bars)),l}return Fg(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach(function(n,o){return n.forEach(function(n){n.fill=e[o],n.stroke=t[o]})})},t.chartType=p.q.StackedColumn,t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(Rg),jg=(_f=function(e,t){return(_f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}_f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Gg=function(e){function t(n,o,r){return e.call(this,n,o,r,t.data,[0,10],"normalizedColumnTooltip")||this}return jg(t,e),t.chartType=p.q.NormalizedColumn,t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Lg),Vg=(Pf=function(e,t){return(Pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Pf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Bg=function(e){function t(t,n,o){var r=e.call(this,t,"groupedBarTooltip")||this,i=r.padding,a=r.size,s=new ha;s.domain=[0,1,2],s.range=[i,a-i],s.paddingInner=.3,s.paddingOuter=.3;var l=new wi;l.domain=[0,4],l.range=[a-i,i];var u=l.convert(0),c=s.bandwidth;return r.bars=[2,3,4].map(function(e,t){var n=new js;return n.x=i,n.y=s.convert(t),n.width=u-l.convert(e),n.height=c,n.strokeWidth=1,n.crisp=!0,n}),r.updateColors(n,o),r.root.append(r.bars),r}return Vg(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach(function(n,o){n.fill=e[o],n.stroke=t[o]})},t.chartType=p.q.GroupedBar,t}(Rg),Wg=(Sf=function(e,t){return(Sf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Sf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),zg=function(e){function t(n,o,r,i,a,s){void 0===i&&(i=t.data),void 0===a&&(a=[0,16]),void 0===s&&(s="stackedBarTooltip");var l=e.call(this,n,s)||this,u=l.size,c=l.padding,p=new ha;p.domain=[0,1,2],p.range=[c,u-c],p.paddingInner=.3,p.paddingOuter=.3;var d=new wi;d.domain=a,d.range=[u-c,c];var h=d.convert(0),f=p.bandwidth;return l.bars=i.map(function(e){return e.map(function(e,t){var n=new js;return n.x=c,n.y=p.convert(t),n.width=h-d.convert(e),n.height=f,n.strokeWidth=1,n.crisp=!0,n})}),l.updateColors(o,r),l.root.append([].concat.apply([],l.bars)),l}return Wg(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach(function(n,o){return n.forEach(function(n){n.fill=e[o],n.stroke=t[o]})})},t.chartType=p.q.StackedBar,t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(Rg),Ug=(xf=function(e,t){return(xf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}xf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Hg=function(e){function t(n,o,r){return e.call(this,n,o,r,t.data,[0,10],"normalizedBarTooltip")||this}return Ug(t,e),t.chartType=p.q.NormalizedBar,t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(zg),Kg=(Of=function(e,t){return(Of=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Of(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Xg=function(e){function t(t,n,o,r,i){void 0===r&&(r=.6),void 0===i&&(i="doughnutTooltip");var a=e.call(this,t,i)||this,s=(a.size-2*a.padding)/2,l=s+a.padding,u=[[Hi(-90),Hi(30)],[Hi(30),Hi(120)],[Hi(120),Hi(180)],[Hi(180),Hi(210)],[Hi(210),Hi(240)],[Hi(240),Hi(270)]];return a.sectors=u.map(function(e){var t=e[0],n=e[1],o=new Rc;return o.centerX=l,o.centerY=l,o.innerRadius=s*r,o.outerRadius=s,o.startAngle=t,o.endAngle=n,o.stroke=void 0,o.strokeWidth=1,o}),a.updateColors(n,o),a.root.append(a.sectors),a}return Kg(t,e),t.prototype.updateColors=function(e,t){this.sectors.forEach(function(n,o){n.fill=e[o%e.length],n.stroke=t[o%t.length]})},t.chartType=p.q.Doughnut,t}(Dg),qg=(wf=function(e,t){return(wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}wf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Yg=function(e){function t(t,n,o){return e.call(this,t,n,o,0,"pieTooltip")||this}return qg(t,e),t.chartType=p.q.Pie,t}(Xg),Jg=(Cf=function(e,t){return(Cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Cf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Qg=function(e){function t(t,n,o){var r=e.call(this,t,"lineTooltip")||this,i=r.size,a=r.padding,s=new wi;s.domain=[0,4],s.range=[a,i-a];var l=new wi;l.domain=[0,10],l.range=[i-a,a],r.lines=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]].map(function(e){var t=new Wi;return t.strokeWidth=3,t.lineCap="round",t.fill=void 0,e.forEach(function(e,n){t.path[n>0?"lineTo":"moveTo"](s.convert(n),l.convert(e))}),t}),r.updateColors(n,o);var u=new jl;return u.x=u.y=a,u.width=u.height=i-2*a,u.append(r.lines),r.root.append(u),r}return Jg(t,e),t.prototype.updateColors=function(e,t){this.lines.forEach(function(t,n){t.stroke=e[n]})},t.chartType=p.q.Line,t}(Rg),Zg=(bf=function(e,t){return(bf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}bf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$g=function(e){function t(t,n,o){var r=e.call(this,t,"scatterTooltip")||this,i=r.size,a=r.padding,s=new wi;s.domain=[-.5,4],s.range=[2*a,i-a];var l=new wi;l.domain=[-.5,3.5],l.range=[i-a,a];var u=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(e){e.forEach(function(e){var t=e[0],n=e[1],o=new $i;o.strokeWidth=1,o.centerX=s.convert(t),o.centerY=l.convert(n),o.radiusX=o.radiusY=2.5,u.push(o)})}),r.points=u,r.updateColors(n,o);var c=new jl;return c.x=c.y=a,c.width=c.height=i-2*a,c.append(r.points),r.root.append(c),r}return Zg(t,e),t.prototype.updateColors=function(e,t){this.points.forEach(function(n,o){n.stroke=t[o%t.length],n.fill=e[o%e.length]})},t.chartType=p.q.Scatter,t}(Rg),em=(vf=function(e,t){return(vf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}vf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tm=function(e){function t(t,n,o){var r=e.call(this,t,"bubbleTooltip")||this,i=r.size,a=r.padding,s=new wi;s.domain=[0,1],s.range=[2*a,i-a];var l=new wi;l.domain=[0,1],l.range=[i-a,a];var u=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(e){e.forEach(function(e){var t=e[0],n=e[1],o=e[2],r=new $i;r.strokeWidth=1,r.centerX=s.convert(t),r.centerY=l.convert(n),r.radiusX=r.radiusY=o,r.fillOpacity=.7,u.push(r)})}),r.points=u,r.updateColors(n,o);var c=new jl;return c.x=a,c.y=a,c.width=i-2*a,c.height=i-2*a,c.append(r.points),r.root.append(c),r}return em(t,e),t.prototype.updateColors=function(e,t){this.points.forEach(function(n,o){n.stroke=t[o%t.length],n.fill=e[o%e.length]})},t.chartType=p.q.Bubble,t}(Rg),nm=(yf=function(e,t){return(yf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}yf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),om=function(e){function t(n,o,r,i){void 0===i&&(i=t.data);var a=e.call(this,n,"groupedAreaTooltip")||this,s=a.size,l=a.padding,u=new ha;u.domain=[0,1,2],u.paddingInner=1,u.paddingOuter=0,u.range=[l+.5,s-l-.5];var c=new wi;c.domain=[0,6],c.range=[s-l+.5,l];var p=2*i.length-1,d=[],h=c.convert(0);return i.forEach(function(e,t){var n=u.convert(t);e.forEach(function(e,o){var r=c.convert(e),i=d[o]||(d[o]=[]);i[t]={x:n,y:r},i[p-t]={x:n,y:h}})}),a.areas=d.reverse().map(function(e){var t=new Wi;t.strokeWidth=1,t.fillOpacity=.7;var n=t.path;return n.clear(),e.forEach(function(e,t){return n[t>0?"lineTo":"moveTo"](e.x,e.y)}),n.closePath(),t}),a.updateColors(o,r),a.root.append(a.areas),a}return nm(t,e),t.prototype.updateColors=function(e,t){this.areas.forEach(function(n,o){n.fill=e[o],n.stroke=t[o]})},t.chartType=p.q.Area,t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(Rg),rm=(mf=function(e,t){return(mf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}mf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),im=function(e){function t(n,o,r,i,a){void 0===i&&(i=t.data),void 0===a&&(a="stackedAreaTooltip");var s=e.call(this,n,a)||this,l=s.size,u=s.padding,c=new ha;c.domain=[0,1,2],c.paddingInner=1,c.paddingOuter=0,c.range=[u+.5,l-u-.5];var p=new wi;p.domain=[0,16],p.range=[l-u+.5,u+.5];var d=2*i.length-1,h=[];return i.forEach(function(e,t){var n=c.convert(t),o=0;e.forEach(function(e,r){var i=p.convert(o+e),a=h[r]||(h[r]=[]);a[t]={x:n,y:i},a[d-t]={x:n,y:p.convert(o)},o+=e})}),s.areas=h.map(function(e){var t=new Wi;t.strokeWidth=1;var n=t.path;return n.clear(),e.forEach(function(e,t){return n[t>0?"lineTo":"moveTo"](e.x,e.y)}),n.closePath(),t}),s.updateColors(o,r),s.root.append(s.areas),s}return rm(t,e),t.prototype.updateColors=function(e,t){this.areas.forEach(function(n,o){n.fill=e[o],n.stroke=t[o]})},t.chartType=p.q.StackedArea,t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(Rg),am=(gf=function(e,t){return(gf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}gf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),sm=function(e){function t(n,o,r,i){return void 0===i&&(i=t.data),e.call(this,n,o,r,i,"normalizedAreaTooltip")||this}return am(t,e),t.chartType=p.q.NormalizedArea,t.data=im.data.map(function(e){var t=e.reduce(function(e,t){return e+t},0);return e.map(function(e){return e/t*16})}),t}(im),lm=(ff=function(e,t){return(ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ff(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),um=function(e){function t(t,n,o){var r=e.call(this,t,"histogramTooltip")||this,i=r.padding,a=r.size,s=[2,5,11,13,10,6,1],l=new wi;l.domain=[0,s.length],l.range=[i,a-i];var u=new wi;u.domain=[0,s.reduce(function(e,t){return Math.max(e,t)},0)],u.range=[a-i,i];var c=u.convert(0);return r.bars=s.map(function(e,t){var n=u.convert(e),o=l.convert(t),r=l.convert(t+1),i=new js;return i.x=o,i.y=n,i.width=r-o,i.height=c-n,i.strokeWidth=1,i.crisp=!0,i}),r.updateColors(n,o),r.root.append(r.bars),r}return lm(t,e),t.prototype.updateColors=function(e,t){var n=e[0],o=t[0];this.bars.forEach(function(e){e.fill=n,e.stroke=o})},t.chartType=p.q.Histogram,t}(Rg),cm=(hf=function(e,t){return(hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}hf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),pm=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},dm=function(e){function t(n,o,r){var i=e.call(this,t.TEMPLATE)||this;return i.wrappers={},i.chartController=n,i.fills=o,i.strokes=r,i}return cm(t,e),t.prototype.init=function(){var e=this,t={columnGroup:[Ng,Lg,Gg],barGroup:[Bg,zg,Hg],pieGroup:[Yg,Xg],lineGroup:[Qg],scatterGroup:[$g,tm],areaGroup:[om,im,sm],histogramGroup:[um]},n=this.getGui();Object.keys(t).forEach(function(o){var r=t[o],i=e.createBean(new p.e({title:e.chartTranslator.translate(o),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));r.forEach(function(t){var n=document.createElement("div");p.mb.addCssClass(n,"ag-chart-mini-thumbnail"),e.addManagedListener(n,"click",function(){e.chartController.setChartType(t.chartType),e.refreshSelected()}),e.wrappers[t.chartType]=n,e.createBean(new t(n,e.fills,e.strokes)),i.addItem(n)}),n.appendChild(i.getGui())}),this.refreshSelected()},t.prototype.refreshSelected=function(){var e=this.chartController.getChartType();for(var t in this.wrappers)p.mb.addOrRemoveCssClass(this.wrappers[t],"ag-selected",t===e)},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',pm([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),pm([p.S],t.prototype,"init",null),t}(p.v),hm=(df=function(e,t){return(df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}df(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),fm=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},gm=function(e){function t(n){var o=e.call(this,t.TEMPLATE)||this;return o.miniCharts=[],o.cardItems=[],o.activePaletteIndex=0,o.palettes=[],o.themes=[],o.chartController=n,o}return hm(t,e),t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",p.mb.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",p.mb.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,Rd.EVENT_CHART_UPDATED,this.resetPalettes.bind(this))},t.prototype.resetPalettes=function(){var e=this,t=this.chartController.getPalettes();p.mb.shallowCompare(t,this.palettes)||(this.palettes=t,this.themes=this.chartController.getThemes(),this.activePaletteIndex=p.mb.findIndex(this.themes,function(t){return t===e.chartController.getThemeName()}),this.cardItems=[],p.mb.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(t,n){var o=e.activePaletteIndex===n,r=e.createBean(new dm(e.chartController,t.fills,t.strokes));e.miniCharts.push(r),e.eMiniChartsContainer.appendChild(r.getGui()),e.addCardLink(n),o?r.refreshSelected():p.mb.addCssClass(r.getGui(),"ag-hidden")}),p.mb.addOrRemoveCssClass(this.eNavBar,"ag-hidden",this.palettes.length<=1),p.mb.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},t.prototype.addCardLink=function(e){var t=this,n=document.createElement("div");p.mb.addCssClass(n,"ag-chart-settings-card-item"),this.addManagedListener(n,"click",function(){t.setActivePalette(e,e<t.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(n),this.cardItems.push(n)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,t){var n=this;if(!this.isAnimating&&this.activePaletteIndex!==e){p.mb.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var o=this.miniCharts[this.activePaletteIndex],r=o.getGui(),i=this.miniCharts[e],a=i.getGui();o.refreshSelected(),i.refreshSelected();var s="left"===t?-1:1,l=a.style.left=p.mb.getAbsoluteWidth(this.getGui())*s+"px";p.mb.removeCssClass(a,"ag-hidden"),p.mb.addCssClass(r,"ag-animating"),p.mb.addCssClass(a,"ag-animating"),this.activePaletteIndex=e,this.chartController.setChartThemeName(this.themes[e]),this.isAnimating=!0,window.setTimeout(function(){r.style.left=-parseFloat(l)+"px",a.style.left="0px"},0),window.setTimeout(function(){n.isAnimating=!1,p.mb.removeCssClass(r,"ag-animating"),p.mb.removeCssClass(a,"ag-animating"),p.mb.addCssClass(r,"ag-hidden")},300)}},t.prototype.destroyMiniCharts=function(){p.mb.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},t.prototype.destroy=function(){this.destroyMiniCharts(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',fm([Object(p.X)("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),fm([Object(p.X)("eNavBar")],t.prototype,"eNavBar",void 0),fm([Object(p.X)("eCardSelector")],t.prototype,"eCardSelector",void 0),fm([Object(p.X)("ePrevBtn")],t.prototype,"ePrevBtn",void 0),fm([Object(p.X)("eNextBtn")],t.prototype,"eNextBtn",void 0),fm([p.S],t.prototype,"postConstruct",null),t}(p.v),mm=(pf=function(e,t){return(pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}pf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ym=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},vm=function(e){function t(t){var n=e.call(this)||this;n.tabs=[],n.chartIcons={};var o=t.type,r=t.panels;return n.chartController=t.controller,n.currentChartType=o,n.panels=r,n}return mm(t,e),t.prototype.init=function(){var e=this;this.panels.forEach(function(t){var n=t.replace("chart","").toLowerCase(),o=e.createTab(t,n,e.getPanelClass(n)),r=o.comp;e.tabs.push(o.tab),e.addDestroyFunc(function(){return e.destroyBean(r)})}),this.tabbedLayout=new p.fb({items:this.tabs,cssClass:"ag-chart-tabbed-menu"}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,t,n){var o=document.createElement("div");p.mb.addCssClass(o,"ag-chart-tab"),p.mb.addCssClass(o,"ag-chart-"+t);var r=new n(this.chartController);this.getContext().createBean(r),o.appendChild(r.getGui());var i=document.createElement("div"),a=this.chartTranslator.translate(t);return i.innerText=a,{comp:r,tab:{title:i,titleLabel:a,bodyPromise:p.g.resolve(o),name:e}}},t.prototype.updateCurrentChartType=function(e){p.mb.removeCssClass(this.chartIcons[this.currentChartType],"ag-selected"),this.currentChartType=e,p.mb.addCssClass(this.chartIcons[e],"ag-selected")},t.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),e.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return Ld;case t.TAB_FORMAT:return Tg;default:return gm}},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_MAIN="settings",t.TAB_DATA="data",t.TAB_FORMAT="format",ym([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),ym([p.S],t.prototype,"init",null),t}(p.v),bm=(cf=function(e,t){return(cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}cf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Cm=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},wm=function(e){function t(n,o,r){var i=e.call(this,t.TEMPLATE)||this;return i.eChartContainer=n,i.eMenuPanelContainer=o,i.chartController=r,i.buttons={chartSettings:["menu",function(){return i.showMenu("chartSettings")}],chartData:["menu",function(){return i.showMenu("chartData")}],chartFormat:["menu",function(){return i.showMenu("chartFormat")}],chartLink:["linked",function(e){return i.toggleDetached(e)}],chartUnlink:["unlinked",function(e){return i.toggleDetached(e)}],chartDownload:["save",function(){return i.saveChart()}]},i.tabs=[],i.menuVisible=!1,i}return bm(t,e),t.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getToolbarOptions=function(){var e=this,t=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],n=this.gridOptionsWrapper.getChartToolbarItemsFunc();n&&(t=n({api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),defaultItems:t}).filter(function(t){return!!e.buttons[t]||(console.warn("AG Grid: '"+t+" is not a valid Chart Toolbar Option"),!1)})),this.chartController.isPivotChart()&&(t=t.filter(function(e){return"chartData"!==e}));var o=["chartUnlink","chartLink","chartDownload"];return this.tabs=t.filter(function(e){return-1===o.indexOf(e)}),t.filter(function(t){return-1!==o.indexOf(t)||e.tabs.length&&t===e.tabs[0]})},t.prototype.toggleDetached=function(e){var t=e.target,n=p.mb.containsClass(t,"ag-icon-linked");p.mb.addOrRemoveCssClass(t,"ag-icon-linked",!n),p.mb.addOrRemoveCssClass(t,"ag-icon-unlinked",n);var o=this.chartTranslator.translate(n?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");o&&(t.title=o),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this,t=this.getToolbarOptions(),n=this.getGui();t.forEach(function(t){var o=e.buttons[t],r=o[1],i=p.mb.createIconNoSpan(o[0],e.gridOptionsWrapper,void 0,!0);p.mb.addCssClass(i,"ag-chart-menu-icon");var a=e.chartTranslator.translate(t+"ToolbarTooltip");a&&(i.title=a),e.addManagedListener(i,"click",r),n.appendChild(i)})},t.prototype.saveChart=function(){this.dispatchEvent({type:t.EVENT_DOWNLOAD_CHART})},t.prototype.createMenuPanel=function(e){var t=this,n=this.gridOptionsWrapper.chartMenuPanelWidth(),o=this.menuPanel=this.createBean(new p.f({minWidth:n,width:n,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return o.setParentComponent(this),this.eMenuPanelContainer.appendChild(o.getGui()),this.tabbedMenu=this.createBean(new vm({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs})),this.addManagedListener(o,p.v.EVENT_DESTROYED,function(){return t.destroyBean(t.tabbedMenu)}),new p.g(function(n){window.setTimeout(function(){o.setBodyComponent(t.tabbedMenu),t.tabbedMenu.showTab(e),t.addManagedListener(t.eChartContainer,"click",function(e){t.getGui().contains(e.target)||t.menuVisible&&t.hideMenu()}),n(o)},100)})},t.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.showMenu=function(e){var t=this.tabs.indexOf(e);this.menuPanel?this.showContainer():this.createMenuPanel(t).then(this.showContainer.bind(this))},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){p.mb.addOrRemoveCssClass(this.eChartContainer,"ag-chart-menu-visible",this.menuVisible),p.mb.addOrRemoveCssClass(this.eChartContainer,"ag-chart-menu-hidden",!this.menuVisible)},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div class="ag-chart-menu"></div>',Cm([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Cm([p.S],t.prototype,"postConstruct",null),t}(p.v),Om=(uf=function(e,t){return(uf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}uf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),xm=function(){return(xm=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Sm=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Pm=function(e){function t(n){var o=e.call(this,t.TEMPLATE)||this;return o.chartMenu=n,o}return Om(t,e),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",function(t){"Enter"===t.key&&e.endEditing()}),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},t.prototype.setChartProxy=function(e){var t=this;if(this.chartProxy){for(var n=0;n++;n<this.destroyableChartListeners.length)this.destroyableChartListeners[n]();this.destroyableChartListeners=[]}this.chartProxy=e;var o=this.chartProxy.getChart(),r=o.scene.canvas.element,i=this.addManagedListener(r,"dblclick",function(e){var n=o.title;if(n&&n.node.containsPoint(e.offsetX,e.offsetY)){var r=n.node.computeBBox(),i=n.node.inverseTransformPoint(r.x,r.y);t.startEditing(xm(xm({},r),i))}}),a=this.addManagedListener(r,"mousemove",function(e){var t=o.title,n=t&&t.enabled&&t.node.containsPoint(e.offsetX,e.offsetY);r.style.cursor=n?"pointer":""});this.destroyableChartListeners=[i,a]},t.prototype.startEditing=function(e){if(!this.chartMenu||!this.chartMenu.isVisible()){var t=this.chartProxy.getChart().width,n=Math.max(Math.min(e.width+20,t),300),o=this.getGui();p.mb.addCssClass(o,"currently-editing");var r=o.style;r.fontFamily=this.chartProxy.getTitleOption("fontFamily"),r.fontWeight=this.chartProxy.getTitleOption("fontWeight"),r.fontStyle=this.chartProxy.getTitleOption("fontStyle"),r.fontSize=this.chartProxy.getTitleOption("fontSize")+"px",r.color=this.chartProxy.getTitleOption("color");var i=this.chartProxy.getTitleOption("text"),a=i===this.chartTranslator.translate("titlePlaceholder")?"":i;o.value=a;var s=o.getBoundingClientRect();r.left=Math.round(e.x+e.width/2-n/2)+"px",r.top=Math.round(e.y+e.height/2-s.height/2)+"px",r.width=Math.round(n)+"px",o.focus()}},t.prototype.endEditing=function(){var e=this.getGui().value;this.chartProxy.setTitleOption("text",e),this.eventService.dispatchEvent({type:"chartTitleEdit"}),p.mb.removeCssClass(this.getGui(),"currently-editing")},t.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',Sm([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Sm([p.S],t.prototype,"init",null),t}(p.v),_m=(lf=function(e,t){return(lf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}lf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Em=function(){return(Em=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Tm=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return _m(t,e),t.prototype.createChart=function(){var e=this.chartProxyParams.grouping,t=this.isColumnChart(),n=this.iChartOptions,o=n;e&&(o.type="groupedCategory"),o.autoSize=!0,o.axes=[Em(Em({},t?n.xAxis:n.yAxis),{position:t?"bottom":"left",type:e?"groupedCategory":"category"}),Em(Em({},t?n.yAxis:n.xAxis),{position:t?"left":"bottom",type:"number"})];var r=this.chartType,i=this.iChartOptions.seriesDefaults;return o.series=[Em(Em({type:t?"column":"bar",grouped:!this.crossFiltering&&(r===p.q.GroupedColumn||r===p.q.GroupedBar),normalizedTo:this.crossFiltering||r!==p.q.NormalizedColumn&&r!==p.q.NormalizedBar?void 0:100},i),{fills:i.fill.colors,fillOpacity:i.fill.opacity,strokes:i.stroke.colors,strokeOpacity:i.stroke.opacity,strokeWidth:i.stroke.width})],o.container=this.chartProxyParams.parentElement,gd.create(o)},t.prototype.update=function(e){var t=this;this.chartProxyParams.grouping=e.grouping,this.updateAxes("category",!this.isColumnChart());var n=this.chart,o=n.series[0],r=this.getPalette(),i=e.fields;if(this.crossFiltering){i.forEach(function(e){var t=Em({},e);t.colId=e.colId+"-filtered-out",i.push(t)});var a=[];r.fills.forEach(function(e){a.push(e),a.push(t.hexToRGBA(e,"0.3"))}),o.fills=a,r.strokes.forEach(function(e){a.push(e),a.push(t.hexToRGBA(e,"0.3"))}),o.strokes=[],o.highlightStyle.fill=void 0;var s=e.fields.map(function(e){return e.colId});o.hideInLegend=s.filter(function(e){return-1!==e.indexOf("-filtered-out")}),n.legend.addEventListener("click",function(e){o.toggleSeriesItem(e.itemId+"-filtered-out",e.enabled)}),n.tooltip.delay=500,o.addEventListener("nodeClick",this.crossFilterCallback)}else o.fills=r.fills,o.strokes=r.strokes;o.data=this.transformData(e.data,e.category.id),o.xKey=e.category.id,o.xName=e.category.name,o.yKeys=e.fields.map(function(e){return e.colId}),o.yNames=e.fields.map(function(e){return e.displayName}),this.updateLabelRotation(e.category.id,!this.isColumnChart())},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),o=this.chartType,r=this.getStandaloneChartType(),i=t.getConfig(r+".series."+(o===p.q.GroupedBar||o===p.q.StackedBar||o===p.q.NormalizedBar?"bar":"column"));return n.seriesDefaults={shadow:i.shadow,label:i.label,tooltip:{enabled:i.tooltip&&i.tooltip.enabled,renderer:i.tooltip&&i.tooltip.renderer},fill:{colors:i.fills||t.palette.fills,opacity:i.fillOpacity},stroke:{colors:i.strokes||t.palette.strokes,opacity:i.strokeOpacity,width:i.strokeWidth},lineDash:i.lineDash?i.lineDash:[0],lineDashOffset:i.lineDashOffset,highlightStyle:i.highlightStyle,listeners:i.listeners},n},t.prototype.isColumnChart=function(){return p.mb.includes([p.q.Column,p.q.GroupedColumn,p.q.StackedColumn,p.q.NormalizedColumn],this.chartType)},t.prototype.getDefaultOptions=function(){var e=this.getDefaultFontOptions(),t=this.getDefaultCartesianChartOptions();return t.seriesDefaults=Em(Em({},t.seriesDefaults),{tooltip:{enabled:!0},label:Em(Em({},e),{enabled:!1}),shadow:this.getDefaultDropShadowOptions()}),t},t}(Uf),Am=(sf=function(e,t){return(sf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}sf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Mm=function(){return(Mm=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Dm=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return Am(t,e),t.prototype.createChart=function(){var e=this.chartProxyParams,t=e.grouping,n=e.parentElement,o=this.getSeriesDefaults(),r=Mm({},o.marker);r.type&&(r.shape=r.type,delete r.type);var i=this.iChartOptions,a=i,s=i.xAxis.type?i.xAxis.type:"category";return t&&(a.type="groupedCategory"),a.autoSize=!0,a.axes=[Mm({type:t?"groupedCategory":s,position:"bottom",paddingInner:1,paddingOuter:0},this.getXAxisDefaults(s,i)),Mm({type:"number",position:"left"},i.yAxis)],a.series=[Mm(Mm({},o),{type:"area",fills:o.fill.colors,fillOpacity:o.fill.opacity,strokes:o.stroke.colors,strokeOpacity:o.stroke.opacity,strokeWidth:o.stroke.width,tooltip:{enabled:o.tooltip&&o.tooltip.enabled,renderer:o.tooltip&&o.tooltip.renderer},marker:r})],gd.create(a,n)},t.prototype.update=function(e){this.chartProxyParams.grouping=e.grouping;var t=this.isTimeAxis(e)?"time":"category";if(this.updateAxes(t),this.chartType===p.q.Area)this.updateAreaChart(e);else{var n=this.chart.series[0];if(!n){var o=this.getSeriesDefaults(),r=Mm({},o.marker);if(r.type&&(r.shape=r.type,delete r.type),!(n=gd.createComponent(Mm(Mm({},o),{fills:o.fill.colors,fillOpacity:o.fill.opacity,strokes:o.stroke.colors,strokeOpacity:o.stroke.opacity,strokeWidth:o.stroke.width,marker:r}),"area.series")))return;this.chart.addSeries(n)}var i=this.getPalette(),a=i.fills,s=i.strokes;n.data=this.transformData(e.data,e.category.id),n.xKey=e.category.id,n.xName=e.category.name,n.yKeys=e.fields.map(function(e){return e.colId}),n.yNames=e.fields.map(function(e){return e.displayName}),n.fills=a,n.strokes=s}this.updateLabelRotation(e.category.id,!1,t)},t.prototype.updateAreaChart=function(e){var t=this,n=this.chart;if(0!==e.fields.length){var o,r=e.fields.map(function(e){return e.colId}),i=n.series.reduceRight(function(e,t,o){var i=t.yKeys[0];return r.indexOf(i)===o?e.set(i,t):n.removeSeries(t),e},new Map),a=this.transformData(e.data,e.category.id),s=this.getPalette(),l=s.fills,u=s.strokes;e.fields.forEach(function(r,s){var c=t.processDataForCrossFiltering(a,r.colId,e),p=c.yKey,d=c.atLeastOneSelectedPoint,h=i.get(r.colId),f=l[s%l.length],g=u[s%u.length];if(h)h.data=a,h.xKey=e.category.id,h.xName=e.category.name,h.yKeys=[p],h.yNames=[r.displayName],h.fills=[f],h.strokes=[g];else{var m=t.getSeriesDefaults(),y=Mm({},m.marker);y.type&&(y.shape=y.type,delete y.type);var v=Mm(Mm({},m),{data:a,xKey:e.category.id,xName:e.category.name,yKeys:[p],yNames:[r.displayName],fills:[f],strokes:[g],fillOpacity:m.fill.opacity,strokeOpacity:m.stroke.opacity,strokeWidth:m.stroke.width,marker:y});h=gd.createComponent(v,"area.series"),n.addSeriesAfter(h,o)}t.updateSeriesForCrossFiltering(h,r.colId,n,e,d),o=h})}else n.removeAllSeries()},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),o=t.getConfig("area.series.area");return n.seriesDefaults={shadow:o.shadow,tooltip:{enabled:o.tooltip&&o.tooltip.enabled,renderer:o.tooltip&&o.tooltip.renderer},fill:{colors:o.fills||t.palette.fills,opacity:o.fillOpacity},stroke:{colors:o.strokes||t.palette.strokes,opacity:o.strokeOpacity,width:o.strokeWidth},label:o.label,marker:{enabled:o.marker.enabled,shape:o.marker.shape,size:o.marker.size,strokeWidth:o.marker.strokeWidth,formatter:o.marker.formatter},lineDash:o.lineDash?o.lineDash:[0],lineDashOffset:o.lineDashOffset,highlightStyle:o.highlightStyle,listeners:o.listeners},n},t.prototype.getDefaultOptions=function(){var e=this.getDefaultCartesianChartOptions();return e.xAxis.label.rotation=335,e.seriesDefaults=Mm(Mm({},e.seriesDefaults),{fill:Mm(Mm({},e.seriesDefaults.fill),{opacity:this.chartType===p.q.Area?.7:1}),stroke:Mm(Mm({},e.seriesDefaults.stroke),{width:3}),marker:{shape:"circle",enabled:!0,size:6,strokeWidth:1},tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),e},t.prototype.getSeriesDefaults=function(){return Mm(Mm({},this.iChartOptions.seriesDefaults),{type:"area",normalizedTo:this.chartType===p.q.NormalizedArea?100:void 0})},t}(Uf),km=(af=function(e,t){return(af=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}af(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Rm=function(){return(Rm=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Im=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return km(t,e),t.prototype.createChart=function(){var e=this.chartProxyParams,t=e.grouping,n=e.parentElement,o=this.iChartOptions,r=o;r.autoSize=!0;var i=o.xAxis.type?o.xAxis.type:"category";return t&&(r.type="groupedCategory"),r.axes=[Rm({type:t?"groupedCategory":i,position:"bottom"},this.getXAxisDefaults(i,o)),Rm({type:"number",position:"left"},o.yAxis)],gd.create(r,n)},t.prototype.update=function(e){var t=this;if(this.chartProxyParams.grouping=e.grouping,0!==e.fields.length){var n=this.isTimeAxis(e)?"time":"category";this.updateAxes(n);var o,r=this.chart,i=e.fields,a=i.map(function(e){return e.colId}),s=this.transformData(e.data,e.category.id),l=r.series.reduceRight(function(e,t,n){var o=t.yKey;return a.indexOf(o)===n?e.set(o,t):r.removeSeries(t),e},new Map),u=this.getPalette(),c=u.fills,p=u.strokes;i.forEach(function(n,i){var a=t.processDataForCrossFiltering(s,n.colId,e),u=a.yKey,d=a.atLeastOneSelectedPoint,h=l.get(n.colId),f=c[i%c.length],g=p[i%p.length];if(h)h.title=n.displayName,h.data=s,h.xKey=e.category.id,h.xName=e.category.name,h.yKey=u,h.yName=n.displayName,h.marker.fill=f,h.marker.stroke=g,h.stroke=f;else{var m=t.iChartOptions.seriesDefaults,y=Rm(Rm({},m.marker),{fill:f,stroke:g});y.type&&(y.shape=y.type,delete y.type);var v=Rm(Rm({},m),{type:"line",title:n.displayName,data:s,xKey:e.category.id,xName:e.category.name,yKey:u,yName:n.displayName,fill:f,stroke:f,fillOpacity:m.fill.opacity,strokeOpacity:m.stroke.opacity,strokeWidth:m.stroke.width,tooltip:{enabled:m.tooltip&&m.tooltip.enabled,renderer:m.tooltip&&m.tooltip.enabled&&m.tooltip.renderer},marker:y});h=gd.createComponent(v,"line.series"),r.addSeriesAfter(h,o)}t.updateSeriesForCrossFiltering(h,n.colId,r,e,d),o=h}),this.updateLabelRotation(e.category.id,!1,n)}else this.chart.removeAllSeries()},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),o=t.getConfig("line.series.line");return n.seriesDefaults={tooltip:{enabled:o.tooltip&&o.tooltip.enabled,renderer:o.tooltip&&o.tooltip.renderer},fill:{colors:[],opacity:1},stroke:{colors:o.stroke&&[o.stroke]||t.palette.strokes,opacity:o.strokeOpacity,width:o.strokeWidth},label:o.label,marker:{enabled:o.marker.enabled,shape:o.marker.shape,size:o.marker.size,strokeWidth:o.marker.strokeWidth,formatter:o.marker.formatter},lineDash:o.lineDash?o.lineDash:[0],lineDashOffset:o.lineDashOffset,highlightStyle:o.highlightStyle,listeners:o.listeners},n},t.prototype.getDefaultOptions=function(){var e=this.getDefaultCartesianChartOptions();return e.xAxis.label.rotation=335,e.seriesDefaults=Rm(Rm({},e.seriesDefaults),{stroke:Rm(Rm({},e.seriesDefaults.stroke),{width:3}),marker:{enabled:!0,shape:"circle",size:6,strokeWidth:1},tooltip:{enabled:!0}}),e},t}(Uf),Nm=(rf=function(e,t){return(rf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}rf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Fm=function(e){function t(t){return e.call(this,t)||this}return Nm(t,e),t.prototype.addCrossFilteringTooltipRenderer=function(e){e.tooltip.renderer=function(e){return{content:e.datum[e.labelKey]+": "+e.angleValue*e.datum[e.radiusKey]}}},t}(wh),Lm=(of=function(e,t){return(of=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}of(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),jm=function(){return(jm=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Gm=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return Lm(t,e),t.prototype.createChart=function(){var e=this.iChartOptions,t=e.seriesDefaults,n=e;return n.autoSize=!0,n.series=[jm(jm({},t),{fills:t.fill.colors,fillOpacity:t.fill.opacity,strokes:t.stroke.colors,strokeOpacity:t.stroke.opacity,strokeWidth:t.stroke.width,type:"pie"})],gd.create(n,this.chartProxyParams.parentElement)},t.prototype.update=function(e){var t=this.chart;if(0!==e.fields.length){var n=e.fields[0],o=n;if(this.crossFiltering){var r=e.fields;r.forEach(function(e){var t=jm({},e);t.colId=e.colId+"-filtered-out",r.push(t)});var i=r[1];e.data.forEach(function(e){e[n.colId+"-total"]=e[n.colId]+e[i.colId],e[n.colId]=e[n.colId]/e[n.colId+"-total"],e[i.colId]=1});var a=t.series[1],s=i;a=this.updateSeries(t,a,o,s,e,void 0),this.updateSeries(t,t.series[0],o,s=o,e,a)}else this.updateSeries(t,t.series[0],o,o,e,void 0)}else t.removeAllSeries()},t.prototype.updateSeries=function(e,t,n,o,r,i){var a=this.iChartOptions.seriesDefaults,s=t;if((t&&t.angleKey)!==o.colId){e.removeSeries(t);var l=jm(jm({},a),{type:"pie",angleKey:this.crossFiltering?n.colId+"-total":n.colId,radiusKey:this.crossFiltering?o.colId:void 0,title:jm(jm({},a.title),{text:a.title.text||r.fields[0].displayName}),fills:a.fill.colors,fillOpacity:a.fill.opacity,strokes:a.stroke.colors,strokeOpacity:a.stroke.opacity,strokeWidth:a.stroke.width,tooltip:{enabled:a.tooltip&&a.tooltip.enabled,renderer:a.tooltip&&a.tooltip.enabled&&a.tooltip.renderer}});s=gd.createComponent(l,"pie.series"),this.crossFiltering&&s&&!s.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(s)}return s.angleName=o.displayName,s.labelKey=r.category.id,s.labelName=r.category.name,s.data=r.data,this.crossFiltering&&(s.radiusMin=0,s.radiusMax=1,i?e.legend.addEventListener("click",function(e){i&&i.toggleSeriesItem(e.itemId,e.enabled)}):(s.fills=this.changeOpacity(s.fills,.3),s.strokes=this.changeOpacity(s.strokes,.3),s.showInLegend=!1),e.tooltip.delay=500,s.highlightStyle.fill=void 0,s.addEventListener("nodeClick",this.crossFilterCallback)),e.addSeries(s),s},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),o=t.getConfig("pie.series.pie");n.seriesDefaults={title:o.title,label:o.label,callout:o.callout,shadow:o.shadow,tooltip:{enabled:o.tooltip&&o.tooltip.enabled,renderer:o.tooltip&&o.tooltip.renderer},fill:{colors:o.fills||t.palette.fills,opacity:o.fillOpacity},stroke:{colors:o.strokes||t.palette.strokes,opacity:o.strokeOpacity,width:o.strokeWidth},lineDash:o.lineDash,lineDashOffset:o.lineDashOffset,highlightStyle:o.highlightStyle,listeners:o.listeners};var r=n.seriesDefaults.callout;return r&&!r.colors&&(r.colors=n.seriesDefaults.fill.colors),n},t.prototype.getDefaultOptions=function(){var e=this.getPredefinedPalette().strokes,t=this.getDefaultChartOptions(),n=this.getDefaultFontOptions();return t.seriesDefaults=jm(jm({},t.seriesDefaults),{title:jm(jm({},n),{enabled:!1,fontSize:12,fontWeight:"bold"}),callout:{colors:e,length:10,strokeWidth:2},label:jm(jm({},n),{enabled:!1,offset:3,minAngle:0}),tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),t},t}(Fm),Vm=(nf=function(e,t){return(nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}nf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Bm=function(){return(Bm=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Wm=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return Vm(t,e),t.prototype.createChart=function(){var e=this.iChartOptions;return e.type="pie",e.autoSize=!0,e.series=[],gd.create(e,this.chartProxyParams.parentElement)},t.prototype.update=function(e){var t=this;if(0!==e.fields.length){var n=this.chart,o=e.fields.map(function(e){return e.colId}),r={};n.series.forEach(function(e){var t=e,n=t.angleKey;p.mb.includes(o,n)&&(r[n]=t)});var i=this.iChartOptions.seriesDefaults,a=i.fill.colors,s=i.stroke.colors,l=e.fields.length,u=0;e.fields.forEach(this.crossFiltering?function(o,c){var p=Bm({},o);p.colId=o.colId+"-filtered-out",e.data.forEach(function(e){e[o.colId+"-total"]=e[o.colId]+e[p.colId],e[o.colId]=e[o.colId]/e[o.colId+"-total"],e[p.colId]=1});var d=t.updateSeries({seriesMap:r,angleField:o,field:p,seriesDefaults:i,index:c,params:e,fills:a,strokes:s,doughnutChart:n,offset:u,numFields:l,opaqueSeries:void 0}),h=d.updatedOffset;t.updateSeries({seriesMap:r,angleField:o,field:o,seriesDefaults:i,index:c,params:e,fills:a,strokes:s,doughnutChart:n,offset:u,numFields:l,opaqueSeries:d.pieSeries}),u=h}:function(o,c){var p=t.updateSeries({seriesMap:r,angleField:o,field:o,seriesDefaults:i,index:c,params:e,fills:a,strokes:s,doughnutChart:n,offset:u,numFields:l,opaqueSeries:void 0}).updatedOffset;u=p}),n.series=p.mb.values(r)}else this.chart.removeAllSeries()},t.prototype.updateSeries=function(e){var t=this,n=e.seriesMap[e.field.colId],o=Bm(Bm({},e.seriesDefaults),{type:"pie",angleKey:this.crossFiltering?e.angleField.colId+"-total":e.angleField.colId,radiusKey:this.crossFiltering?e.field.colId:void 0,title:Bm(Bm({},e.seriesDefaults.title),{text:e.seriesDefaults.title.text||e.field.displayName,showInLegend:e.numFields>1}),fills:e.seriesDefaults.fill.colors,fillOpacity:e.seriesDefaults.fill.opacity,strokes:e.seriesDefaults.stroke.colors,strokeOpacity:e.seriesDefaults.stroke.opacity,strokeWidth:e.seriesDefaults.stroke.width,tooltip:{enabled:e.seriesDefaults.tooltip&&e.seriesDefaults.tooltip.enabled,renderer:e.seriesDefaults.tooltip&&e.seriesDefaults.tooltip.enabled&&e.seriesDefaults.tooltip.renderer||void 0}}),r=o.callout&&o.callout.colors||o.strokes||[],i=n||gd.createComponent(o,"pie.series");i.title&&(i.title.showInLegend=e.numFields>1),n||this.crossFiltering&&!i.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(i),i.angleName=e.field.displayName,i.labelKey=e.params.category.id,i.labelName=e.params.category.name,i.data=e.params.data,0===e.index&&(i.toggleSeriesItem=function(t,n){e.doughnutChart&&e.doughnutChart.series.forEach(function(e){e.seriesItemEnabled[t]=n}),i.scheduleData()}),this.crossFiltering?(i.radiusMin=0,i.radiusMax=1,e.opaqueSeries?(e.doughnutChart.legend.addEventListener("click",function(t){e.opaqueSeries&&e.opaqueSeries.toggleSeriesItem(t.itemId,t.enabled)}),i.fills=e.fills,i.strokes=e.strokes,i.callout.colors=r):(i.fills=e.fills.map(function(e){return t.hexToRGBA(e,"0.3")}),i.strokes=e.strokes.map(function(e){return t.hexToRGBA(e,"0.3")}),i.showInLegend=!1),i.highlightStyle.fill=void 0,i.addEventListener("nodeClick",this.crossFilterCallback),e.doughnutChart.tooltip.delay=500):(i.fills=e.fills,i.strokes=e.strokes,i.callout.colors=r);var a=e.numFields>1?20:40;return i.outerRadiusOffset=e.offset,e.offset-=a,i.innerRadiusOffset=e.offset,e.offset-=a,n||(e.seriesMap[e.field.colId]=i),{updatedOffset:e.offset,pieSeries:i}},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),o=t.getConfig("pie.series.pie");return n.seriesDefaults={title:o.title,label:o.label,callout:o.callout,shadow:o.shadow,tooltip:{enabled:o.tooltip&&o.tooltip.enabled,renderer:o.tooltip&&o.tooltip.renderer},fill:{colors:o.fills||t.palette.fills,opacity:o.fillOpacity},stroke:{colors:o.strokes||t.palette.strokes,opacity:o.strokeOpacity,width:o.strokeWidth},lineDash:o.lineDash,lineDashOffset:o.lineDashOffset,highlightStyle:o.highlightStyle,listeners:o.listeners},n},t.prototype.getDefaultOptions=function(){var e=this.getPredefinedPalette().strokes,t=this.getDefaultChartOptions(),n=this.getDefaultFontOptions();return t.seriesDefaults=Bm(Bm({},t.seriesDefaults),{title:Bm(Bm({},n),{enabled:!0,fontSize:12,fontWeight:"bold"}),callout:{colors:e,length:10,strokeWidth:2},label:Bm(Bm({},n),{enabled:!1,offset:3,minAngle:0}),tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),t},t}(Fm),zm=(tf=function(e,t){return(tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}tf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Um=function(){return(Um=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Hm=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return zm(t,e),t.prototype.createChart=function(){var e=this.chartProxyParams.parentElement,t=this.getSeriesDefaults(),n=this.iChartOptions,o=n;return o.autoSize=!0,o.axes=[Um({type:"number",position:"bottom"},n.xAxis),Um({type:"number",position:"left"},n.yAxis)],o.series=[Um(Um({},t),{fill:t.fill.colors[0],fillOpacity:t.fill.opacity,stroke:t.stroke.colors[0],strokeOpacity:t.stroke.opacity,strokeWidth:t.stroke.width,tooltip:{enabled:t.tooltip&&t.tooltip.enabled,renderer:t.tooltip&&t.tooltip.enabled&&t.tooltip.renderer||void 0},type:"histogram"})],gd.create(o,e)},t.prototype.update=function(e){var t=e.fields[0],n=this.chart.series[0];n.data=e.data,n.xKey=t.colId,n.xName=t.displayName,n.areaPlot=!1;var o=this.getPalette(),r=o.strokes;n.fill=o.fills[0],n.stroke=r[0]},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),o=t.getConfig("histogram.series.histogram");return n.seriesDefaults={shadow:this.getDefaultDropShadowOptions(),label:o.label,tooltip:{enabled:o.tooltip&&o.tooltip.enabled,renderer:o.tooltip&&o.tooltip.renderer},fill:{colors:o.fill&&[o.fill]||t.palette.fills,opacity:o.fillOpacity},stroke:{colors:o.stroke&&[o.stroke]||t.palette.strokes,opacity:o.strokeOpacity,width:o.strokeWidth},lineDash:o.lineDash?o.lineDash:[0],lineDashOffset:o.lineDashOffset,highlightStyle:o.highlightStyle,listeners:o.listeners,binCount:o.binCount,bins:o.bins},n},t.prototype.getSeriesDefaults=function(){return Um({},this.iChartOptions.seriesDefaults)},t.prototype.getDefaultOptions=function(){var e=this.getDefaultFontOptions(),t=this.getDefaultCartesianChartOptions();return t.xAxis.label.rotation=0,t.yAxis.label.rotation=0,t.seriesDefaults=Um(Um({},t.seriesDefaults),{tooltip:{enabled:!0},label:Um(Um({},e),{enabled:!1}),shadow:this.getDefaultDropShadowOptions(),binCount:10}),t},t}(Uf),Km=(ef=function(e,t){return(ef=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ef(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Xm=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},qm=function(e){function t(n){var o=e.call(this,t.TEMPLATE)||this;return o.params=n,o}return Km(t,e),t.prototype.init=function(){var e=this.gridOptionsWrapper.getChartThemes();if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var t=this.params.chartThemeName;p.mb.includes(e,t)||(t=e[0]);var n={pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:t,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering},o=this.gridOptionsWrapper.isEnableRtl();p.mb.addCssClass(this.getGui(),o?"ag-rtl":"ag-ltr"),this.model=this.createBean(new dr(n)),this.chartController=this.createManagedBean(new Rd(this.model)),this.validateCustomThemes(),this.createChart(),this.params.processChartOptions=void 0,this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,Rd.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,wm.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},t.prototype.validateCustomThemes=function(){var e=this.gridOptionsWrapper.getChartThemes(),t=this.gridOptionsWrapper.getCustomChartThemes();t&&p.mb.getAllKeysInObjects([t]).forEach(function(t){p.mb.includes(e,t)||console.warn("AG Grid: a custom chart theme with the name '"+t+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.createChart=function(){var e,n,o=this;if(this.chartProxy){var r=this.chartProxy.getChart();r&&(e=r.width,n=r.height),this.chartProxy.destroy()}var i=this.gridOptionsWrapper.getAllowProcessChartOptions(),a=this.params.processChartOptions||this.gridOptionsWrapper.getProcessChartOptionsFunc(),s=this.gridOptionsWrapper.getCustomChartThemes(),l=this.model.getChartType(),u=this.model.isGrouping(),c={chartId:this.getChartId(),chartType:l,chartThemeName:this.model.getChartThemeName(),allowProcessChartOptions:i,processChartOptions:a,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:s,getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,allowPaletteOverride:!this.params.chartThemeName,isDarkTheme:this.environment.isThemeDark.bind(this.environment),crossFiltering:this.params.crossFiltering,crossFilterCallback:function(e,t){o.params.crossFilteringContext.lastSelectedChartId=t?"":o.getChartId(),o.crossFilter.filter(e,t)},parentElement:this.eChart,width:e,height:n,grouping:u,document:this.gridOptionsWrapper.getDocument(),eventService:this.eventService,gridApi:this.gridApi,columnApi:this.columnApi,restoringChart:this.params.restoringChart};if(this.chartType=l,this.chartThemeName=this.model.getChartThemeName(),this.chartProxy=t.createChartProxy(c),this.chartProxy){this.titleEdit&&this.titleEdit.setChartProxy(this.chartProxy);var d=this.eChart.querySelector("canvas");d&&p.mb.addCssClass(d,"ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy)}else console.warn("AG Grid: invalid chart type supplied: ",c.chartType)},t.prototype.getChartThemeName=function(){return this.chartController.getThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemes()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},t.createChartProxy=function(e){switch(e.chartType){case p.q.Column:case p.q.Bar:case p.q.GroupedColumn:case p.q.StackedColumn:case p.q.NormalizedColumn:case p.q.GroupedBar:case p.q.StackedBar:case p.q.NormalizedBar:return new Tm(e);case p.q.Pie:return new Gm(e);case p.q.Doughnut:return new Wm(e);case p.q.Area:case p.q.StackedArea:case p.q.NormalizedArea:return new Dm(e);case p.q.Line:return new Im(e);case p.q.Scatter:case p.q.Bubble:return new Xf(e);case p.q.Histogram:return new Hm(e)}},t.prototype.addDialog=function(){var e=this,t=this.chartTranslator.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),n=this.getBestDialogSize();this.chartDialog=new p.d({resizable:!0,movable:!0,maximizable:!0,title:t,width:n.width,height:n.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(p.d.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),t=.75*p.mb.getAbsoluteWidth(e),n=.75*p.mb.getAbsoluteHeight(e),o=this.chartProxy.getChartOptions(),r=o.width,i=o.height;if(r&&i)return{width:r,height:i};var a=this.chartProxy.getChart();return i=this.params.insideDialog?470:a.height,((r=this.params.insideDialog?850:a.width)>t||i>n)&&(r=Math.min(r,t),(i=Math.round(.553*r))>n&&(i=n,r=Math.min(r,Math.round(i/.553)))),{width:r,height:i}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new wm(this.eChartContainer,this.eMenuContainer,this.chartController)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new Pm(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.setChartProxy(this.chartProxy)},t.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},t.prototype.shouldRecreateChart=function(){return this.chartType!==this.model.getChartType()||this.chartThemeName!==this.model.getChartThemeName()},t.prototype.getCurrentChartType=function(){return this.chartType},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartId=function(){return this.model.getChartId()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.updateChart=function(){var e=this,t=this.model,n=this.chartProxy,o=t.getSelectedValueColState().map(function(e){return{colId:e.colId,displayName:e.displayName}}),r=t.getData();if(!this.handleEmptyChart(r,o)){var i=t.getSelectedDimension(),a={data:r,grouping:t.isGrouping(),category:{id:i.colId,name:i.displayName,chartDataType:this.getChartDataType(i.colId)},fields:o,chartId:this.getChartId(),getCrossFilteringContext:function(){return e.params.crossFilteringContext}};n.update(a),this.titleEdit.setChartProxy(this.chartProxy)}},t.prototype.getChartDataType=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef().chartDataType:void 0},t.prototype.handleEmptyChart=function(e,t){var n=this.chartProxy.getChart().container,o=this.model.isPivotChart()&&!this.model.isPivotMode(),r=1;this.chartController.isActiveXYChart()&&(r=this.model.getChartType()===p.q.Bubble?3:2);var i=t.length<r||0===e.length;if(n){var a=o||i;p.mb.setDisplayed(this.eChart,!a),p.mb.setDisplayed(this.eEmpty,a)}return o?(this.eEmpty.innerText=this.chartTranslator.translate("pivotChartRequiresPivotMode"),!0):!!i&&(this.eEmpty.innerText=this.chartTranslator.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(){this.chartProxy.downloadChart()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},t.prototype.refreshCanvasSize=function(){if(this.params.insideDialog){var e=this.chartProxy,t=this.eChart;if(this.chartMenu.isVisible()){var n=this.chartProxy.getChart();n.height=p.mb.getInnerHeight(t),n.width=p.mb.getInnerWidth(t)}else e.setChartOption("width",p.mb.getInnerWidth(t)),e.setChartOption("height",p.mb.getInnerHeight(t))}},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.raiseChartCreatedEvent=function(){var e=Object.freeze({type:p.C.EVENT_CHART_CREATED,chartId:this.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.raiseChartDestroyedEvent=function(){var e=Object.freeze({type:p.C.EVENT_CHART_DESTROYED,chartId:this.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var t=this.getGui();p.mb.clearElement(t),p.mb.removeFromParent(t),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',Xm([Object(p.X)("eChart")],t.prototype,"eChart",void 0),Xm([Object(p.X)("eChartContainer")],t.prototype,"eChartContainer",void 0),Xm([Object(p.X)("eMenuContainer")],t.prototype,"eMenuContainer",void 0),Xm([Object(p.X)("eEmpty")],t.prototype,"eEmpty",void 0),Xm([Object(p.X)("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),Xm([Object(p.k)("environment")],t.prototype,"environment",void 0),Xm([Object(p.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Xm([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Xm([Object(p.k)("chartCrossFilter")],t.prototype,"crossFilter",void 0),Xm([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Xm([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),Xm([Object(p.k)("popupService")],t.prototype,"popupService",void 0),Xm([p.S],t.prototype,"init",null),t}(p.v),Ym=($h=function(e,t){return($h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}$h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Jm=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Qm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeCharts=new Set,t.activeChartComps=new Set,t.crossFilteringContext={lastSelectedChartId:""},t}return Ym(t,e),t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(t){return e.push(t.getChartModel())}),e},t.prototype.getChartRef=function(e){var t;return this.activeCharts.forEach(function(n){n.chartId===e&&(t=n)}),t},t.prototype.getChartImageDataURL=function(e){var t;return this.activeChartComps.forEach(function(n){n.getChartId()===e.chartId&&(t=n.getChartImageDataURL(e.fileFormat))}),t},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e=p.q.GroupedColumn);var t=this.getSelectedRange();return this.createChart(t,e)},t.prototype.restoreChart=function(e,t){var n=this;if(e){var o=this.mapToRangeParam(e,t),r=function(e){return n.rangeService?n.rangeService.createCellRangeFromCellRangeParams(e):void 0};if(e.modelType&&"pivot"===e.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var i=r({rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(e){return e.getColId()})});return i?this.createChart(i,o.chartType,o.chartThemeName,!0,!0,o.chartContainer,void 0,o.chartThemeOverrides,o.unlinkChart,o.processChartOptions,!1,!0):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var a=r(o.cellRange);if(a)return this.createChart(a,o.chartType,o.chartThemeName,!1,o.suppressChartRanges,o.chartContainer,o.aggFunc,o.chartThemeOverrides,o.unlinkChart,o.processChartOptions,!1,!0);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},t.prototype.createRangeChart=function(e){var t=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(t)return this.createChart(t,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,e.processChartOptions);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var t={rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(e){return e.getColId()})},n=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(t):void 0;if(n)return this.createChart(n,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart,e.processChartOptions);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createCrossFilterChart=function(e){var t=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(t)return this.createChart(t,e.chartType,e.chartThemeName,!1,!(null!=e.suppressChartRanges)||e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,!0);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createChart=function(e,t,n,o,r,i,a,s,l,u,c,d){var h=this;void 0===o&&(o=!1),void 0===r&&(r=!1),void 0===l&&(l=!1),void 0===c&&(c=!1),void 0===d&&(d=!1);var f=this.gridOptionsWrapper.getCreateChartContainerFunc(),g=new qm({pivotChart:o,cellRange:e,chartType:t,chartThemeName:n,insideDialog:!(i||f),suppressChartRanges:r,aggFunc:a,chartThemeOverrides:s,processChartOptions:u,unlinkChart:l,crossFiltering:c,crossFilteringContext:this.crossFilteringContext,restoringChart:d});this.context.createBean(g);var m=this.createChartRef(g);if(i){i.appendChild(g.getGui());var y=this.environment.getTheme();y.el&&!y.el.contains(i)&&p.mb.addCssClass(i,y.theme)}else f?f(m):g.addEventListener(qm.EVENT_DESTROYED,function(){h.activeChartComps.delete(g),h.activeCharts.delete(m)});return m},t.prototype.createChartRef=function(e){var t=this,n={destroyChart:function(){t.activeCharts.has(n)&&(t.context.destroyBean(e),t.activeChartComps.delete(e),t.activeCharts.delete(n))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(n),this.activeChartComps.add(e),n},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.mapToRangeParam=function(e,t){return{cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:t,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,processChartOptions:function(){return e.chartOptions}}},t.prototype.mapToPivotParams=function(e,t){return{chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:t,unlinkChart:e.unlinkChart,processChartOptions:function(){return e.chartOptions}}},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},Jm([Object(p.O)("rangeService")],t.prototype,"rangeService",void 0),Jm([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Jm([Object(p.k)("environment")],t.prototype,"environment",void 0),Jm([p.U],t.prototype,"destroyAllActiveCharts",null),Jm([Object(p.m)("chartService")],t)}(p.n),Zm=(Zh=function(e,t){return(Zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Zh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return Zm(t,e),n=t,t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,n.DEFAULT_TRANSLATIONS[e])},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart"},n=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([Object(p.m)("chartTranslator")],t)}(p.n),ey=(Qh=function(e,t){return(Qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Qh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ty=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ny=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return ey(t,e),n=t,t.prototype.filter=function(e,t){void 0===t&&(t=!1);var o=this.gridApi.getFilterModel();if(t)this.resetFilters(o);else{var r=n.extractFilterColId(e);this.isValidColumnFilter(r)?this.updateFilters(o,e):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+r+"'")}},t.prototype.resetFilters=function(e){Object.keys(e).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(e,t){var o,r=n.extractFilterColId(t),i=t.datum[r];if(void 0!==i){var a=i.toString(),s=r.replace("-filtered-out","");if(t.event.metaKey||t.event.ctrlKey){var l=this.getCurrentGridValuesForCategory(s),u=void 0;p.mb.includes(l,a)?u=l.filter(function(e){return e!==a}):(u=l).push(a),e[s]=this.getUpdatedFilterModel(s,u)}else(o={})[s]=this.getUpdatedFilterModel(s,u=[a]),e=o;this.gridApi.setFilterModel(e)}},t.prototype.getUpdatedFilterModel=function(e,t){return"agMultiColumnFilter"===this.getColumnFilterType(e)?{filterType:"multi",filterModels:[null,{filterType:"set",values:t}]}:{filterType:"set",values:t}},t.prototype.getCurrentGridValuesForCategory=function(e){var t=[],n=p.mb.includes;return this.gridApi.forEachNodeAfterFilter(function(o){if(!o.group){var r=o.data[e]+"";n(t,r)||t.push(r)}}),t},t.extractFilterColId=function(e){return e.xKey?e.xKey:e.labelKey},t.prototype.isValidColumnFilter=function(e){e.indexOf("-filtered-out")&&(e=e.replace("-filtered-out",""));var t=this.getColumnFilterType(e);return"boolean"==typeof t?t:p.mb.includes(["agSetColumnFilter","agMultiColumnFilter"],t)},t.prototype.getColumnFilterType=function(e){var t=this.columnModel.getGridColumn(e);return t?t.getColDef().filter:void 0},ty([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),ty([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),n=ty([Object(p.m)("chartCrossFilter")],t)}(p.n),oy=(Jh=function(e,t){return(Jh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Jh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ry=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},iy=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},ay=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellRanges=[],t.bodyScrollListener=t.onBodyScroll.bind(t),t.dragging=!1,t}return oy(t,e),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_VISIBLE,this.onColumnVisibleChange.bind(this)),this.ctrlsService.whenReady(function(){var t=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new sy(t,e.gridOptionsWrapper)})},t.prototype.onColumnVisibleChange=function(){var e=this;this.refreshLastRangeStart(),this.cellRanges.forEach(function(t){var n=t.columns;t.columns=t.columns.filter(function(e){return e.isVisible()}),!p.mb.areEqual(n,t.columns)&&e.dispatchChangedEvent(!1,!0,t.id)})},t.prototype.refreshLastRangeStart=function(){var e=p.mb.last(this.cellRanges);e&&this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var t=e.columns;if(!t.length)return!1;var n=this.columnModel.getAllDisplayedColumns(),o=t.map(function(e){return n.indexOf(e)}).sort(function(e,t){return e-t});return p.mb.last(o)-o[0]+1===t.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?p.x.PINNED_TOP:null}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var t=this.pinnedRowModel.getPinnedBottomRowCount();return t>0?{rowIndex:t-1,rowPinned:p.x.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,t){if(void 0===t&&(t=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var n=this.calculateColumnsBetween(e.column,e.column);if(n){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!t||p.mb.missing(this.cellRanges))&&this.removeAllCellRanges(!0);for(var o,r={rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=0;i<this.cellRanges.length;i++){var a=this.cellRanges[i];if(a.columns&&1===a.columns.length&&a.columns[0]===e.column&&this.rowPositionUtils.sameRow(r,a.startRow)&&this.rowPositionUtils.sameRow(r,a.endRow)){o=a;break}}o?p.mb.last(this.cellRanges)!==o&&(p.mb.removeFromArray(this.cellRanges,o),this.cellRanges.push(o)):this.cellRanges.push(o={startRow:r,endRow:r,columns:n,startColumn:e.column}),this.newestRangeStartCell=e,this.onDragStop(),this.dispatchChangedEvent(!0,!0,o.id)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var t=p.mb.last(this.cellRanges);this.updateRangeEnd(t,e)}},t.prototype.updateRangeEnd=function(e,t,n){void 0===n&&(n=!1);var o=this.calculateColumnsBetween(e.startColumn,t.column);o&&!this.isLastCellOfRange(e,t)&&(e.columns=o,e.endRow={rowIndex:t.rowIndex,rowPinned:t.rowPinned},n||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var t=e.startColumn,n=e.columns,o=function(t,n){var o=e.columns.filter(function(e){return e!==t});t?(e.startColumn=t,e.columns=n?iy([t],o):iy(o,[t])):e.columns=o},r=this.getRangeEdgeColumns(e),i=r.left,a=r.right;t===n[0]&&t!==i?o(i,!0):t===p.mb.last(n)&&t===a&&o(a,!1)},t.prototype.getRangeEdgeColumns=function(e){var t=this.columnModel.getAllDisplayedColumns(),n=e.columns.map(function(e){return t.indexOf(e)}).filter(function(e){return e>-1}).sort(function(e,t){return e-t});return{left:t[n[0]],right:t[p.mb.last(n)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var t=p.mb.last(this.cellRanges),n=this.newestRangeStartCell,o=t.columns[0],r=p.mb.last(t.columns),i=this.cellNavigationService.getNextCellToFocus(e,{column:n.column===o?r:o,rowIndex:t.endRow.rowIndex,rowPinned:t.endRow.rowPinned});if(i)return this.setCellRange({rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:i.rowIndex,rowEndPinned:i.rowPinned,columnStart:n.column,columnEnd:i.column}),i}},t.prototype.setCellRange=function(e){this.gridOptionsWrapper.isEnableRangeSelection()&&(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var t=this;p.mb.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(e){e.columns&&e.startRow&&(t.newestRangeStartCell={rowIndex:e.startRow.rowIndex,rowPinned:e.startRow.rowPinned,column:e.columns[0]}),t.cellRanges.push(e)}),this.dispatchChangedEvent(!1,!0))},t.prototype.createCellRangeFromCellRangeParams=function(e){var t,n=this;if(e.columns)t=e.columns.map(function(e){return n.columnModel.getColumnWithValidation(e)}).filter(function(e){return e});else{var o=this.columnModel.getColumnWithValidation(e.columnStart),r=this.columnModel.getColumnWithValidation(e.columnEnd);if(!o||!r)return;t=this.calculateColumnsBetween(o,r)}if(t)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:t,startColumn:t[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var t=this.createCellRangeFromCellRangeParams(e);t&&(this.cellRanges.push(t),this.dispatchChangedEvent(!1,!0,t.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){if(0===this.cellRanges.length)return!1;if(this.cellRanges.length>1)return!0;var e=this.cellRanges[0],t=this.getRangeStartRow(e),n=this.getRangeEndRow(e);return t.rowPinned!==n.rowPinned||t.rowIndex!==n.rowIndex||1!==e.columns.length},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,t){var n=null!==t.columns&&p.mb.includes(t.columns,e.column),o=this.isRowInRange(e.rowIndex,e.rowPinned,t);return n&&o},t.prototype.isLastCellOfRange=function(e,t){var n=e.startRow,o=e.endRow,r=this.rowPositionUtils.before(n,o)?o:n,i=t.rowIndex===r.rowIndex&&t.rowPinned===r.rowPinned,a=e.columns[0],s=p.mb.last(e.columns);return t.column===(e.startColumn===a?s:a)&&i},t.prototype.isBottomRightCell=function(e,t){var n=this.columnModel.getAllDisplayedColumns(),o=e.columns.map(function(e){return n.indexOf(e)}).sort(function(e,t){return e-t}),r=e.startRow,i=e.endRow,a=this.rowPositionUtils.before(r,i)?i:r,s=n.indexOf(t.column)===p.mb.last(o),l=t.rowIndex===a.rowIndex&&p.mb.makeNull(t.rowPinned)===p.mb.makeNull(a.rowPinned);return s&&l},t.prototype.getCellRangeCount=function(e){var t=this;return this.isEmpty()?0:this.cellRanges.filter(function(n){return t.isCellInSpecificRange(e,n)}).length},t.prototype.isRowInRange=function(e,t,n){var o=this.getRangeStartRow(n),r=this.getRangeEndRow(n),i={rowIndex:e,rowPinned:t||null};if(i.rowIndex===o.rowIndex&&i.rowPinned==o.rowPinned||i.rowIndex===r.rowIndex&&i.rowPinned==r.rowPinned)return!0;var a=!this.rowPositionUtils.before(i,o),s=this.rowPositionUtils.before(i,r);return a&&s},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var t=e.shiftKey,n=e.ctrlKey||e.metaKey,o=!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&n,r=this.mouseEventService.getCellPositionForEvent(e),i=t&&p.mb.existsAndNotEmpty(this.cellRanges);if(!p.mb.missing(r)){if(o||i&&!p.mb.exists(p.mb.last(this.cellRanges).type)||this.removeAllCellRanges(!0),this.dragging=!0,this.draggingCell=r,this.lastMouseEvent=e,i||(this.newestRangeStartCell=r),this.cellRanges.length>0)this.draggingRange=p.mb.last(this.cellRanges);else{var a={rowIndex:r.rowIndex,rowPinned:r.rowPinned};this.draggingRange={startRow:a,endRow:a,columns:[r.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.onDragging=function(e){var t=this;if(this.dragging&&e){this.lastMouseEvent=e;var n=this.mouseEventService.getCellPositionForEvent(e),o=function(e){return n&&n.rowPinned===e&&t.newestRangeStartCell.rowPinned===e},r=o("top")||o("bottom");if(this.autoScrollService.check(e,r),n&&this.draggingCell&&!this.cellPositionUtils.equals(this.draggingCell,n)){var i=this.calculateColumnsBetween(this.newestRangeStartCell.column,n.column);i&&(this.draggingCell=n,this.draggingRange.endRow={rowIndex:n.rowIndex,rowPinned:n.rowPinned},this.draggingRange.columns=i,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.draggingCell=void 0,this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,t,n){var o=Object.freeze({type:p.C.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:e,finished:t,id:n});this.eventService.dispatchEvent(o)},t.prototype.calculateColumnsBetween=function(e,t){var n=this.columnModel.getAllDisplayedColumns(),o=e===t,r=n.indexOf(e);if(r<0)console.warn("AG Grid: column "+e.getId()+" is not visible");else{var i=o?r:n.indexOf(t);if(!(i<0)){if(o)return[e];for(var a=Math.min(r,i),s=a===r?i:r,l=[],u=a;u<=s;u++)l.push(n[u]);return l}console.warn("AG Grid: column "+t.getId()+" is not visible")}},ry([Object(p.k)("loggerFactory")],t.prototype,"loggerFactory",void 0),ry([Object(p.k)("rowModel")],t.prototype,"rowModel",void 0),ry([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),ry([Object(p.k)("mouseEventService")],t.prototype,"mouseEventService",void 0),ry([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),ry([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),ry([Object(p.k)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),ry([Object(p.k)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ry([Object(p.k)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ry([Object(p.k)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ry([Object(p.k)("ctrlsService")],t.prototype,"ctrlsService",void 0),ry([p.S],t.prototype,"init",null),ry([Object(p.m)("rangeService")],t)}(p.n),sy=function(){function e(e,t){this.tickingInterval=null,this.gridBodyCtrl=e,this.gridOptionsWrapper=t}return e.prototype.check=function(e,t){void 0===t&&(t=!1);var n=this.gridBodyCtrl.getBodyClientRect();(t=t||this.gridOptionsWrapper.getDomLayout()!==p.x.DOM_LAYOUT_NORMAL)&&!this.gridBodyCtrl.getScrollFeature().isHorizontalScrollShowing()||(this.tickLeft=e.clientX<n.left+20,this.tickRight=e.clientX>n.right-20,this.tickUp=e.clientY<n.top+20&&!t,this.tickDown=e.clientY>n.bottom-20&&!t,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared())},e.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},e.prototype.doTick=function(){this.tickCount++;var e,t=this.gridBodyCtrl.getScrollFeature().getVScrollPosition(),n=this.gridBodyCtrl.getScrollFeature().getHScrollPosition();e=this.tickCount>20?200:this.tickCount>10?80:40,this.tickUp&&this.gridBodyCtrl.getScrollFeature().setVerticalScrollPosition(t.top-e),this.tickDown&&this.gridBodyCtrl.getScrollFeature().setVerticalScrollPosition(t.top+e),this.tickLeft&&this.gridBodyCtrl.getScrollFeature().setHorizontalScrollPosition(n.left-e),this.tickRight&&this.gridBodyCtrl.getScrollFeature().setHorizontalScrollPosition(n.left+e)},e.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},e}(),ly=(Yh=function(e,t){return(Yh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Yh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),uy=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},cy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.changedCalculatedValues=!1,t.dragging=!1,t.shouldDestroyOnEndDragging=!1,t}return ly(t,e),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(t){e.dragging=!0,e.rangeService.autoScrollService.check(t),e.changedCalculatedValues&&(e.onDrag(t),e.changedCalculatedValues=!1)},onDragStop:function(t){e.dragging=!1,e.onDragEnd(t),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),p.mb.removeCssClass(document.body,e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),p.mb.addCssClass(document.body,this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===p.bb.FILL?"fill":"range")+"-handle"},t.prototype.updateValuesOnMove=function(e){var t=this.mouseEventService.getCellPositionForEvent(e);t!==this.lastCellHovered&&(this.lastCellHovered=t,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var t=this,n=this.getCellCtrl(),o=this.getGui(),r=p.mb.last(this.rangeService.getCellRanges()),i=r.startRow,a=r.endRow;i&&a&&(this.rowPositionUtils.before(a,i)?(this.setRangeStartRow(a),this.setRangeEndRow(i)):(this.setRangeStartRow(i),this.setRangeEndRow(a))),n===e&&p.mb.isVisible(o)||(this.setCellCtrl(e),window.setTimeout(function(){t.isAlive()&&e.appendChild(o)},1)),this.setCellRange(r)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return p.mb.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,e.prototype.destroy.call(this),this.removeListeners();var t=this.getGui();t.parentElement&&t.parentElement.removeChild(t)},uy([Object(p.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),uy([Object(p.k)("dragService")],t.prototype,"dragService",void 0),uy([Object(p.k)("rangeService")],t.prototype,"rangeService",void 0),uy([Object(p.k)("mouseEventService")],t.prototype,"mouseEventService",void 0),uy([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),uy([Object(p.k)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),uy([Object(p.k)("navigationService")],t.prototype,"navigationService",void 0),uy([Object(p.k)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),uy([Object(p.k)("ctrlsService")],t.prototype,"ctrlsService",void 0),uy([p.S],t.prototype,"init",null),t}(p.v),py=(qh=function(e,t){return(qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}qh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),dy=function(){return(dy=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},hy=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.markedCells=[],n.cellValues=[],n.isUp=!1,n.isLeft=!1,n.isReduce=!1,n.type=p.bb.FILL,n}return py(t,e),t.prototype.updateValuesOnMove=function(t){e.prototype.updateValuesOnMove.call(this,t),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(t));var n,o=this.initialXY,r=o.x,i=o.y,a=this.mouseEventService.getNormalisedPosition(t),s=a.y,l=Math.abs(r-a.x),u=Math.abs(i-s),c=this.gridOptionsWrapper.getFillHandleDirection();(n="xy"===c?l>u?"x":"y":c)!==this.dragAxis&&(this.dragAxis=n,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var t=this.getCellCtrl();if(!t)return;this.initialPosition=t.getCellPosition()}var n=this.getLastCellHovered();n&&this.markPathFrom(this.initialPosition,n)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var t,n="x"===this.dragAxis,o=this.getCellRange(),r=o.columns.length,i=this.getRangeStartRow(),a=this.getRangeEndRow();if(this.isUp||this.isLeft){var s=n?i:this.lastCellMarked;t=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,columnStart:n?this.lastCellMarked.column:o.columns[0],rowEndIndex:a.rowIndex,rowEndPinned:a.rowPinned,columnEnd:o.columns[r-1]})}else t=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,columnStart:o.columns[0],rowEndIndex:n?a.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:n?a.rowPinned:this.lastCellMarked.rowPinned,columnEnd:n?this.lastCellMarked.column:o.columns[r-1]});t&&(this.raiseFillStartEvent(),this.handleValueChanged(o,t,e),this.rangeService.setCellRanges([t]),this.raiseFillEndEvent(o,t))}},t.prototype.raiseFillStartEvent=function(){var e={type:p.C.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,t){var n={type:p.C.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:e,finalRange:t};this.eventService.dispatchEvent(n)},t.prototype.handleValueChanged=function(e,t,n){var o=this,r=this.rangeService.getRangeEndRow(e),i=this.rangeService.getRangeStartRow(e),a=this.rangeService.getRangeEndRow(t),s=this.rangeService.getRangeStartRow(t),l="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var u=!0,c=[],d=[],h=0,f=function(){c.length=0,d.length=0,h=0},g=function(t,n){var d=o.isUp?r:i,h=!1;l&&(u=!0,f());for(var g=function(){var g=o.rowPositionUtils.getRowNode(d);if(!g)return"break";l&&t?m(c,t,g,function(){return!o.rowPositionUtils.sameRow(d,o.isUp?i:r)}):n&&(u=!0,f(),n.forEach(function(t){return m(c,t,g,function(){return t!==(o.isLeft?e.columns[0]:p.mb.last(e.columns))})})),h=o.rowPositionUtils.sameRow(d,o.isUp?s:a),d=o.isUp?o.cellNavigationService.getRowAbove(d):o.cellNavigationService.getRowBelow(d)};!h&&d&&"break"!==g(););},m=function(e,t,r,i){var a;u?(a=o.valueService.getValue(t,r),d.push(a),u=i()):(a=o.processValues(n,e,d,t,r,h++),t.isCellEditable(r)&&r.setDataValue(t,a)),e.push(a)};l?e.columns.forEach(function(e){g(e)}):(y=this.isLeft?function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o}(t.columns).reverse():t.columns,g(void 0,y))}else{var y=l?e.columns:e.columns.filter(function(e){return t.columns.indexOf(e)<0}),v=l?this.cellNavigationService.getRowBelow(a):s;v&&this.clearCellsInRange(v,r,y)}},t.prototype.clearCellsInRange=function(e,t,n){for(var o=this,r=e,i=!1,a=function(){var e=s.rowPositionUtils.getRowNode(r);if(!e)return"break";n.forEach(function(t){t.isCellEditable(e)&&o.valueService.setValue(e,t,null)}),i=s.rowPositionUtils.sameRow(r,t),r=s.cellNavigationService.getRowBelow(r)},s=this;!i&&r&&"break"!==a(););},t.prototype.processValues=function(e,t,n,o,r,i){var a,s=this.gridOptionsWrapper.getFillOperation(),l="y"===this.dragAxis;if(a=l?this.isUp?"up":"down":this.isLeft?"left":"right",s){var u=s({event:e,values:t,initialValues:n,currentIndex:i,currentCellValue:this.valueService.getValue(o,r),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),direction:a,column:l?o:void 0,rowNode:l?void 0:r});if(!1!==u)return u}var c=!t.some(function(e){var t=parseFloat(e);return isNaN(t)||t.toString()!==e.toString()});if(e.altKey||!c){if(c&&1===n.length){var d=this.isUp||this.isLeft?-1:1;return parseFloat(p.mb.last(t))+1*d}return t[i%t.length]}return p.mb.last(p.mb.findLineByLeastSquares(t.map(Number)))},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,e.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){var t=e.getComp();t.addOrRemoveCssClass("ag-selection-fill-top",!1),t.addOrRemoveCssClass("ag-selection-fill-right",!1),t.addOrRemoveCssClass("ag-selection-fill-bottom",!1),t.addOrRemoveCssClass("ag-selection-fill-left",!1)}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,t){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(t,e))return;var n=this.rowPositionUtils.before(t,e),o=this.getRangeStartRow(),r=this.getRangeEndRow();n&&(t.rowPinned==o.rowPinned&&t.rowIndex>=o.rowIndex||o.rowPinned!=r.rowPinned&&t.rowPinned==r.rowPinned&&t.rowIndex<=r.rowIndex)?(this.reduceVertical(e,t),this.isReduce=!0):(this.extendVertical(e,t,n),this.isReduce=!1)}else{var i=e.column,a=t.column;if(i===a)return;var s=this.columnModel.getAllDisplayedColumns(),l=s.indexOf(i),u=s.indexOf(a);u<=l&&u>=s.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,t),this.isReduce=!0):(this.extendHorizontal(e,t,u<l),this.isReduce=!1)}this.lastCellMarked=t},t.prototype.extendVertical=function(e,t,n){var o=this.navigationService,r=this.rangeService,i=e;do{for(var a=this.getCellRange(),s=a.columns.length,l=0;l<s;l++){var u=a.columns[l],c=dy(dy({},{rowIndex:i.rowIndex,rowPinned:i.rowPinned}),{column:u}),p=r.isCellInSpecificRange(c,a),d=this.rowPositionUtils.sameRow(i,e);if(n&&(this.isUp=!0),!d){var h=o.getCellByPosition(c);if(h){this.markedCells.push(h);var f=h.getComp();p||(f.addOrRemoveCssClass("ag-selection-fill-left",0===l),f.addOrRemoveCssClass("ag-selection-fill-right",l===s-1)),f.addOrRemoveCssClass(n?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(i,t))}}}if(this.rowPositionUtils.sameRow(i,t))break}while(i=n?this.cellNavigationService.getRowAbove(i):this.cellNavigationService.getRowBelow(i))},t.prototype.reduceVertical=function(e,t){var n=e;do{for(var o=this.getCellRange(),r=o.columns.length,i=this.rowPositionUtils.sameRow(n,t),a=0;a<r;a++){var s=dy(dy({},{rowIndex:n.rowIndex,rowPinned:n.rowPinned}),{column:o.columns[a]}),l=this.navigationService.getCellByPosition(s);l&&(this.markedCells.push(l),l.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(n,t)))}if(i)break}while(n=this.cellNavigationService.getRowAbove(n))},t.prototype.extendHorizontal=function(e,t,n){var o=this,r=this.columnModel.getAllDisplayedColumns(),i=r.indexOf(n?t.column:e.column),a=r.indexOf(n?this.getCellRange().columns[0]:t.column),s=n?0:1,l=r.slice(i+s,a+s),u=this.getRangeStartRow(),c=this.getRangeEndRow();l.forEach(function(e){var t=u,r=!1;do{r=o.rowPositionUtils.sameRow(t,c);var i=o.navigationService.getCellByPosition({rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});if(i){o.markedCells.push(i);var a=i.getComp();a.addOrRemoveCssClass("ag-selection-fill-top",o.rowPositionUtils.sameRow(t,u)),a.addOrRemoveCssClass("ag-selection-fill-bottom",o.rowPositionUtils.sameRow(t,c)),n?(o.isLeft=!0,a.addOrRemoveCssClass("ag-selection-fill-left",e===l[0])):a.addOrRemoveCssClass("ag-selection-fill-right",e===p.mb.last(l))}t=o.cellNavigationService.getRowBelow(t)}while(!r)})},t.prototype.reduceHorizontal=function(e,t){var n=this,o=this.columnModel.getAllDisplayedColumns(),r=o.indexOf(t.column),i=o.indexOf(e.column),a=o.slice(r,i),s=this.getRangeStartRow(),l=this.getRangeEndRow();a.forEach(function(e){var t=s,o=!1;do{o=n.rowPositionUtils.sameRow(t,l);var r=n.navigationService.getCellByPosition({rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});r&&(n.markedCells.push(r),r.getComp().addOrRemoveCssClass("ag-selection-fill-right",e===a[0])),t=n.cellNavigationService.getRowBelow(t)}while(!o)})},t.prototype.refresh=function(t){var n=this.rangeService.getCellRanges()[0];n.startRow&&n.endRow?e.prototype.refresh.call(this,t):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Object(p.k)("valueService")],t.prototype,"valueService",void 0),t}(cy),fy=(Xh=function(e,t){return(Xh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Xh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),gy=function(){return(gy=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},my=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.type=p.bb.RANGE,n.rangeFixed=!1,n}return fy(t,e),t.prototype.onDrag=function(e){var t=this.getLastCellHovered();if(t){var n=this.rangeService.getCellRanges(),o=p.mb.last(n);this.rangeFixed||(this.fixRangeStartEnd(o),this.rangeFixed=!0),this.endPosition={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column},2===n.length&&n[0].type===p.o.DIMENSION&&o.type===p.o.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(o))&&this.rangeService.updateRangeEnd(n[0],gy(gy({},this.endPosition),{column:n[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var t=p.mb.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(t),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var t=this.rangeService.getRangeStartRow(e),n=this.rangeService.getRangeEndRow(e),o=e.columns[0];e.startRow=t,e.endRow=n,e.startColumn=o},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(cy),yy=(Kh=function(e,t){return(Kh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Kh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),vy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yy(t,e),t.prototype.createSelectionHandle=function(e){return this.createBean(e===p.bb.RANGE?new my:new hy)},function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([Object(p.m)("selectionHandleFactory")],t)}(p.n),by={moduleName:p.L.RangeSelectionModule,beans:[ay,vy],agStackComponents:[{componentName:"AgFillHandle",componentClass:hy},{componentName:"AgRangeHandle",componentClass:my}],dependantModules:[ee]},Cy={moduleName:p.L.GridChartsModule,beans:[Qm,$m,ny],dependantModules:[by,ee]},wy=(Hh=function(e,t){return(Hh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Hh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Oy=function(){return(Oy=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},xy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadRowDataVersion=0,t.needRefresh=!1,t}return wy(t,e),t.prototype.init=function(e,t){var n=this;this.params=t,this.comp=e,null!=t.pinned||(this.setAutoHeightClasses(),this.checkForDeprecations(),this.ensureValidRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(t.node.parent,p.Z.EVENT_DATA_CHANGED,function(){n.needRefresh=!0}))},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),t=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(t,!0)},t.prototype.checkForDeprecations=function(){this.params.suppressRefresh&&(console.warn("AG Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),this.params.refreshStrategy="nothing")},t.prototype.ensureValidRefreshStrategy=function(){switch(this.params.refreshStrategy){case"rows":case"nothing":case"everything":return}this.params.refreshStrategy&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+this.params.refreshStrategy+"' supplied, defaulting to refreshStrategy = 'rows'."),this.params.refreshStrategy="rows"},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(p.mb.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),t=Oy({},this.params.detailGridOptions);e&&(t.domLayout="autoHeight"),this.comp.setDetailGrid(t)}},t.prototype.registerDetailWithMaster=function(e,t){var n=this.params.node.id,o=this.params.api,r={id:n,api:e,columnApi:t},i=this.params.node;o.addDetailGridInfo(n,r),i.detailGridInfo=r,this.addDestroyFunc(function(){o.removeDetailGridInfo(n),i.detailGridInfo=null})},t.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var t=this.loadRowDataVersion,n=this.params.getDetailRowData;n?n({node:this.params.node,data:this.params.node.data,successCallback:function(n){e.loadRowDataVersion===t&&e.comp.setRowData(n)},context:this.gridOptionsWrapper.getContext()}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},t.prototype.refresh=function(){return!this.needRefresh||"nothing"===this.params.refreshStrategy||(this.needRefresh=!1,"everything"!==this.params.refreshStrategy&&(this.loadRowData(),!0))},function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Object(p.k)("environment")],t.prototype,"environment",void 0),t}(p.n),Sy=(Uh=function(e,t){return(Uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Uh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Py=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sy(t,e),t.prototype.init=function(e){var t=this;this.params=e,this.selectAndSetTemplate();var n={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},addOrRemoveDetailGridCssClass:function(e,n){return p.mb.addOrRemoveCssClass(t.eDetailGrid,e,n)},setDetailGrid:function(e){return t.setDetailGrid(e)},setRowData:function(e){return t.setRowData(e)}};this.ctrl=this.createManagedBean(new xy),this.ctrl.init(n,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var n=function(){e.setTemplate(t.TEMPLATE)};if(p.mb.missing(this.params.template))n();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var o=(0,this.params.template)(this.params);this.setTemplate(o)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),n();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},t.prototype.setDetailGrid=function(e){this.eDetailGrid&&(new p.F(this.eDetailGrid,e,{$scope:this.params.$scope,$compile:this.params.$compile,providedBeanInstances:{agGridReact:this.params.agGridReact,frameworkComponentWrapper:this.params.frameworkComponentWrapper}}),this.detailApi=e.api,this.ctrl.registerDetailWithMaster(e.api,e.columnApi),this.addDestroyFunc(function(){e.api&&e.api.destroy()}))},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setRowData(e)},t.TEMPLATE='<div class="ag-details-row">\n            <div ref="eDetailGrid" class="ag-details-grid"></div>\n        </div>',function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Object(p.X)("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(p.v),_y={moduleName:p.L.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:Py}],controllers:[{controllerName:"detailCellRenderer",controllerClass:xy}],dependantModules:[ee]},Ey=(zh=function(e,t){return(zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}zh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ty=function(e){function t(t){var n=e.call(this)||this;return n.wrappedComponent=t,n.setTemplateFromElement(t.getGui()),n}return Ey(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}})},t.prototype.handleKeyDown=function(e){e.keyCode===p.J.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([p.S],t.prototype,"postConstruct",null),t}(p.eb),Ay=(Wh=function(e,t){return(Wh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Wh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),My=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Dy=function(e){function t(t){var n=e.call(this)||this;return n.params=t,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'+n.getClassName()+'" tabindex="-1" role="treeitem"></div>'),n}return Ay(t,e),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var t=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),p.mb.setAriaDisabled(t,!0)):(this.addGuiEventListener("click",function(t){return e.onItemSelected(t)}),this.addGuiEventListener("keydown",function(t){t.keyCode!==p.J.ENTER&&t.keyCode!==p.J.SPACE||(t.preventDefault(),e.onItemSelected(t))}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(e){return p.mb.addCssClass(t,e)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var n=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var o,r=p.mb.loadTemplate('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var i=p.mb.getAriaLevel(this.getGui()),a=isNaN(i)?1:i+1,s=this.createBean(new Ny(a));s.setParentComponent(this),s.addMenuItems(this.params.subMenu),r.appendChild(s.getGui()),this.addManagedListener(s,t.EVENT_MENU_ITEM_SELECTED,function(e){return n.dispatchEvent(e)}),s.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),o=function(){return n.destroyBean(s)},e&&setTimeout(function(){return s.activateFirstItem()},0)}else{var l=this.params.subMenu,u=this.createBean(new Ty(l));u.setParentComponent(this);var c=u.getGui(),d=function(){return n.cancelDeactivate()};c.addEventListener("mouseenter",d),o=function(){return c.removeEventListener("mouseenter",d)},r.appendChild(c),l.afterGuiAttached&&setTimeout(function(){return l.afterGuiAttached()},0)}var h=this.getGui(),f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:h,ePopup:r}),g=this.popupService.addPopup({modal:!0,eChild:r,positionCallback:f,anchorToElement:h});this.subMenuIsOpen=!0,p.mb.setAriaExpanded(h,!0),this.hideSubMenu=function(){g&&g.hideFunc(),n.subMenuIsOpen=!1,p.mb.setAriaExpanded(h,!1),o()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,p.mb.setAriaExpanded(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var t=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){t.isAlive()&&t.isActive&&t.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=p.mb.loadTemplate('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(p.mb.createIconNoSpan("check",this.gridOptionsWrapper)):this.params.icon&&(p.mb.isNodeOrElement(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=p.mb.loadTemplate('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new p.hb(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=p.mb.loadTemplate('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=p.mb.loadTemplate('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),t=this.getGui();if(this.params.subMenu){var n=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";p.mb.setAriaExpanded(t,!1),e.appendChild(p.mb.createIconNoSpan(n,this.gridOptionsWrapper))}t.appendChild(e)}},t.prototype.onItemSelected=function(e){this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var t=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?t+"-"+e:t},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,My([Object(p.k)("popupService")],t.prototype,"popupService",void 0),My([p.S],t.prototype,"init",null),t}(p.v),ky=(Bh=function(e,t){return(Bh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Bh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ry=function(){return(Ry=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Iy=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ny=function(e){function t(t){void 0===t&&(t=1);var n=e.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=t,n.menuItems=[],n}return ky(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}})},t.prototype.onTabKeyDown=function(e){var t=this.getParentComponent(),n=t&&t.getGui();n&&p.mb.containsClass(n,"ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case p.J.UP:case p.J.RIGHT:case p.J.DOWN:case p.J.LEFT:e.preventDefault(),this.handleNavKey(e.keyCode);break;case p.J.ESCAPE:var t=this.findTopMenu();t&&this.focusService.focusInto(t.getGui())}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var t=this;null!=e&&e.forEach(function(e){"separator"===e?t.addSeparator():"string"==typeof e?console.warn("AG Grid: unrecognised menu item "+e):t.addItem(e)})},t.prototype.addItem=function(e){var t=this,n=this.createManagedBean(new Dy(Ry(Ry({},e),{isAnotherSubMenuOpen:function(){return p.mb.some(t.menuItems,function(e){return e.isSubMenuOpen()})}})));n.setParentComponent(this),p.mb.setAriaLevel(n.getGui(),this.level),this.menuItems.push(n),this.appendChild(n.getGui()),this.addManagedListener(n,Dy.EVENT_MENU_ITEM_SELECTED,function(e){t.dispatchEvent(e)}),this.addManagedListener(n,Dy.EVENT_MENU_ITEM_ACTIVATED,function(e){t.activeMenuItem&&t.activeMenuItem!==e.menuItem&&t.activeMenuItem.deactivate(),t.activeMenuItem=e.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(e){return!e.isDisabled()})[0];e&&e.activate()},t.prototype.addSeparator=function(){this.appendChild(p.mb.loadTemplate('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var n=e&&e.getParentComponent&&e.getParentComponent();if(!n||!(n instanceof t||n instanceof Dy))break;e=n}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case p.J.UP:case p.J.DOWN:var t=this.findNextItem(e===p.J.UP);return void(t&&t!==this.activeMenuItem&&t.activate())}e===(this.gridOptionsWrapper.isEnableRtl()?p.J.RIGHT:p.J.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var t=this.getParentComponent();t&&t instanceof Dy&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var t=this.menuItems.filter(function(e){return!e.isDisabled()});if(t.length){if(!this.activeMenuItem)return e?p.mb.last(t):t[0];var n;e&&t.reverse();for(var o=!1,r=0;r<t.length;r++){var i=t[r];if(o){n=i;break}i===this.activeMenuItem&&(o=!0)}return n||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),e.prototype.destroy.call(this)},Iy([Object(p.k)("focusService")],t.prototype,"focusService",void 0),Iy([p.S],t.prototype,"postConstruct",null),t}(p.eb),Fy=(Vh=function(e,t){return(Vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Vh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ly=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},jy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fy(t,e),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,t,n){var o=this;this.showMenu(e,function(r){var i=r.getGui();o.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:t,ePopup:i}),n&&r.showTab(n)},"columnMenu",n,void 0,t.target)},t.prototype.showMenuAfterButtonClick=function(e,t,n,o,r){var i=this,a=-1,s="left";this.gridOptionsWrapper.isEnableRtl()&&(a=1,s="right"),this.showMenu(e,function(r){var l=r.getGui();i.popupService.positionPopupUnderComponent({type:n,column:e,eventSource:t,ePopup:l,alignSide:s,nudgeX:9*a,nudgeY:-23,keepWithinBounds:!0}),o&&r.showTab(o)},n,o,r,t)},t.prototype.showMenu=function(e,t,n,o,r,i){var a=this,s=this.createBean(new Gy(e,this.lastSelectedTab,r)),l=s.getGui(),u=i||this.ctrlsService.getGridBodyCtrl().getGui(),c=[];c.push(function(t){if(a.destroyBean(s),e.setMenuVisible(!1,"contextMenu"),t instanceof KeyboardEvent&&i&&p.mb.isVisible(i)){var n=a.focusService.findTabbableParent(i);n&&n.focus()}});var d=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:function(e){c.forEach(function(t){return t(e)})},afterGuiAttached:function(e){return s.afterGuiAttached(p.mb.assign({},{container:n},e))},positionCallback:function(){return t(s)},anchorToElement:u});if(d){var h=d.stopAnchoringPromise;h&&h.then(function(t){e.addEventListener(p.t.EVENT_LEFT_CHANGED,t),e.addEventListener(p.t.EVENT_VISIBLE_CHANGED,t),c.push(function(){e.removeEventListener(p.t.EVENT_LEFT_CHANGED,t),e.removeEventListener(p.t.EVENT_VISIBLE_CHANGED,t)})})}o||(s.showTabBasedOnPreviousSelection(),t(s)),s.addEventListener(Gy.EVENT_TAB_SELECTED,function(e){a.lastSelectedTab=e.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=s,s.addEventListener(p.n.EVENT_DESTROYED,function(){a.activeMenu===s&&(a.activeMenu=null)})},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(Gy.TABS_DEFAULT).length>0},Ly([Object(p.k)("popupService")],t.prototype,"popupService",void 0),Ly([Object(p.k)("focusService")],t.prototype,"focusService",void 0),Ly([Object(p.k)("ctrlsService")],t.prototype,"ctrlsService",void 0),Ly([Object(p.m)("menuFactory")],t)}(p.n),Gy=function(e){function t(n,o,r){var i=e.call(this)||this;return i.tabFactories={},i.includeChecks={},i.column=n,i.initialSelection=o,i.tabFactories[t.TAB_GENERAL]=i.createMainPanel.bind(i),i.tabFactories[t.TAB_FILTER]=i.createFilterPanel.bind(i),i.tabFactories[t.TAB_COLUMNS]=i.createColumnsPanel.bind(i),i.includeChecks[t.TAB_GENERAL]=function(){return!0},i.includeChecks[t.TAB_FILTER]=function(){return n.isFilterAllowed()},i.includeChecks[t.TAB_COLUMNS]=function(){return!0},i.restrictTo=r,i}return Fy(t,e),t.prototype.init=function(){var e=this,t=this.getTabsToCreate().map(function(t){return e.createTab(t)});this.tabbedLayout=new p.fb({items:t,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter(function(t){return e.isValidMenuTabItem(t)}).filter(function(t){return e.isNotSuppressed(t)}).filter(function(t){return e.isModuleLoaded(t)})},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||p.M.isRegistered(p.L.ColumnToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var n=!0,o=t.TABS_DEFAULT;return null!=this.restrictTo&&(n=this.restrictTo.indexOf(e)>-1,o=this.restrictTo),(n=n&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+o+"]"),n},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var n=null;switch(e.item){case this.tabItemColumns:n=t.TAB_COLUMNS;break;case this.tabItemFilter:n=t.TAB_FILTER;break;case this.tabItemGeneral:n=t.TAB_GENERAL}n&&this.activateTab(n)},t.prototype.activateTab=function(e){this.dispatchEvent({type:t.EVENT_TAB_SELECTED,key:e})},t.prototype.getMenuItems=function(){var e,n=this.getDefaultMenuOptions(),o=this.gridOptionsWrapper.getMainMenuItemsFunc();return e=o?o({column:this.column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),defaultItems:n}):n,p.mb.removeRepeatsFromArray(e,t.MENU_ITEM_SEPARATOR),e},t.prototype.getDefaultMenuOptions=function(){var e=[],n=!this.column.getColDef().lockPinned,o=this.columnModel.getRowGroupColumns().length,r=o>0,i=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,a=this.column.isAllowValue(),s=this.column.isAllowRowGroup(),l=this.column.isPrimary(),u=this.columnModel.isPivotMode(),c=this.rowModel.getType()===p.x.ROW_MODEL_TYPE_CLIENT_SIDE,d=this.gridOptionsWrapper.isTreeData(),h=l&&r&&a||!l;return n&&e.push("pinSubMenu"),h&&e.push("valueAggSubMenu"),(n||h)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),s&&this.column.isPrimary()&&e.push(i?"rowUnGroup":"rowGroup"),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns"),c&&(d||o>(u?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new Ny);var e=this.getMenuItems(),n=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(n),this.mainMenuList.addEventListener(Dy.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:p.mb.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:p.g.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(){this.hidePopupFunc();var e=this.focusService.getFocusedCell();e&&this.focusService.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.createFilterPanel=function(){var e=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");return this.tabItemFilter={title:p.mb.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:e.guiPromise,afterAttachedCallback:function(t){e.filterPromise&&e.filterPromise.then(function(e){e&&e.afterGuiAttached&&e.afterGuiAttached(t)})},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");p.mb.addCssClass(e,"ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new Qt);var n=this.column.getColDef().columnsMenuParams;return n||(n={}),this.columnSelectPanel.init(!1,{suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!n.contractColumnSelection,suppressColumnExpandAll:!!n.suppressColumnExpandAll,suppressColumnFilter:!!n.suppressColumnFilter,suppressColumnSelectAll:!!n.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!n.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi},"columnMenu"),p.mb.addCssClass(this.columnSelectPanel.getGui(),"ag-menu-column-select"),e.appendChild(this.columnSelectPanel.getGui()),this.tabItemColumns={title:p.mb.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:p.g.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var t=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:t}),t&&(this.hidePopupFunc=t,this.addDestroyFunc(t))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL="generalMenuTab",t.TAB_FILTER,t.TAB_COLUMNS="columnsMenuTab"],t.MENU_ITEM_SEPARATOR="separator",Ly([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Ly([Object(p.k)("filterManager")],t.prototype,"filterManager",void 0),Ly([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Ly([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),Ly([Object(p.k)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),Ly([Object(p.k)("rowModel")],t.prototype,"rowModel",void 0),Ly([Object(p.k)("focusService")],t.prototype,"focusService",void 0),Ly([p.S],t.prototype,"init",null),t}(p.n),Vy=(Gh=function(e,t){return(Gh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Gh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),By=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Wy="ag-menu",zy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,t,n){var o=[];if(p.mb.exists(e)&&p.M.isRegistered(p.L.ClipboardModule)&&t&&o.push("copy","copyWithHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&p.M.isRegistered(p.L.RangeSelectionModule)&&p.M.isRegistered(p.L.GridChartsModule)&&(this.columnModel.isPivotMode()&&o.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&o.push("chartRange")),p.mb.exists(e)){var r=!p.M.isRegistered(p.L.CsvExportModule),i=!p.M.isRegistered(p.L.ExcelExportModule),a=this.gridOptionsWrapper.isSuppressExcelExport()||i,s=this.gridOptionsWrapper.isSuppressCsvExport()||r;!(p.mb.isIOSUserAgent()||a&&s)&&o.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var l=this.gridOptionsWrapper.getContextMenuItemsFunc(),u={node:e,column:t,value:n,defaultItems:o.length?o:void 0,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return l?l(u):void 0}return o},t.prototype.onContextMenu=function(e,t,n,o,r,i){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||(e&&this.preventDefaultOnContextMenu(e),this.gridOptionsWrapper.isSuppressContextMenu()||this.showMenu(n,o,r,e||t.touches[0],i)&&(e||t).preventDefault())},t.prototype.preventDefaultOnContextMenu=function(e){var t=this.gridOptionsWrapper,n=e.which;(t.isPreventDefaultOnContextMenu()||t.isSuppressMiddleClickScrolls()&&2===n)&&e.preventDefault()},t.prototype.showMenu=function(e,t,n,o,r){var i=this,a=this.getMenuItems(e,t,n),s=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===a||p.mb.missingOrEmpty(a))return!1;var l=new Uy(a);this.createBean(l);var u=l.getGui(),c={column:t,rowNode:e,type:"contextMenu",mouseEvent:o,ePopup:u,nudgeY:1},d=this.popupService.addPopup({modal:!0,eChild:u,closeOnEsc:!0,closedCallback:function(){p.mb.removeCssClass(s," ag-context-menu-open"),i.destroyBean(l)},click:o,positionCallback:function(){i.popupService.positionPopupUnderMouseEvent(p.mb.assign({},{nudgeX:i.gridOptionsWrapper.isEnableRtl()?-1*(u.offsetWidth+1):1},c))},anchorToElement:r});return d&&(p.mb.addCssClass(s," ag-context-menu-open"),l.afterGuiAttached({container:"contextMenu",hidePopup:d.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=l,l.addEventListener(p.n.EVENT_DESTROYED,function(){i.activeMenu===l&&(i.activeMenu=null)}),d&&l.addEventListener(Dy.EVENT_MENU_ITEM_SELECTED,d.hideFunc),!0},By([Object(p.k)("popupService")],t.prototype,"popupService",void 0),By([Object(p.O)("rangeService")],t.prototype,"rangeService",void 0),By([Object(p.k)("ctrlsService")],t.prototype,"ctrlsService",void 0),By([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),By([Object(p.m)("contextMenuFactory")],t)}(p.n),Uy=function(e){function t(t){var n=e.call(this,'<div class="'+Wy+'" role="presentation"></div>')||this;return n.menuList=null,n.focusedCell=null,n.menuItems=t,n}return Vy(t,e),t.prototype.addMenuItems=function(){var e=this,t=this.createBean(new Ny),n=this.menuItemMapper.mapWithStockItems(this.menuItems,null);t.addMenuItems(n),this.appendChild(t),this.menuList=t,t.addEventListener(Dy.EVENT_MENU_ITEM_SELECTED,function(t){return e.dispatchEvent(t)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var t=this.focusedCell,n=t.rowIndex,o=t.rowPinned,r=t.column,i=this.gridOptionsWrapper.getDocument();i.activeElement===i.body&&this.focusService.setFocusedCell(n,r,o,!0)}},t.prototype.destroy=function(){this.restoreFocusedCell(),e.prototype.destroy.call(this)},By([Object(p.k)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),By([Object(p.k)("focusService")],t.prototype,"focusService",void 0),By([Object(p.k)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),By([p.S],t.prototype,"addMenuItems",null),t}(p.v),Hy=(jh=function(e,t){return(jh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}jh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ky=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Xy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hy(t,e),t.prototype.mapWithStockItems=function(e,t){var n=this;if(!e)return[];var o=[];return e.forEach(function(e){var r;if(r="string"==typeof e?n.getStockMenuItem(e,t):e){var i=r.subMenu;i&&i instanceof Array&&(r.subMenu=n.mapWithStockItems(r.subMenu,t)),null!=r&&o.push(r)}}),o},t.prototype.getStockMenuItem=function(e,t){var n=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:o("pinColumn","Pin Column"),icon:p.mb.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:o("pinLeft","Pin Left"),action:function(){return n.columnModel.setColumnPinned(t,p.x.PINNED_LEFT,"contextMenu")},checked:!!t&&t.isPinnedLeft()};case"pinRight":return{name:o("pinRight","Pin Right"),action:function(){return n.columnModel.setColumnPinned(t,p.x.PINNED_RIGHT,"contextMenu")},checked:!!t&&t.isPinnedRight()};case"clearPinned":return{name:o("noPin","No Pin"),action:function(){return n.columnModel.setColumnPinned(t,null,"contextMenu")},checked:!!t&&!t.isPinned()};case"valueAggSubMenu":return p.M.assertRegistered(p.L.RowGroupingModule,"Aggregation from Menu")?{name:o("valueAggregation","Value Aggregation"),icon:p.mb.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(t)}:null;case"autoSizeThis":return{name:o("autosizeThiscolumn","Autosize This Column"),action:function(){return n.columnModel.autoSizeColumn(t,r,"contextMenu")}};case"autoSizeAll":return{name:o("autosizeAllColumns","Autosize All Columns"),action:function(){return n.columnModel.autoSizeAllColumns(r,"contextMenu")}};case"rowGroup":return{name:o("groupBy","Group by")+" "+p.mb.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),action:function(){return n.columnModel.addRowGroupColumn(t,"contextMenu")},icon:p.mb.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:o("ungroupBy","Un-Group by")+" "+p.mb.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),action:function(){return n.columnModel.removeRowGroupColumn(t,"contextMenu")},icon:p.mb.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:o("resetColumns","Reset Columns"),action:function(){return n.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:o("expandAll","Expand All"),action:function(){return n.gridApi.expandAll()}};case"contractAll":return{name:o("collapseAll","Collapse All"),action:function(){return n.gridApi.collapseAll()}};case"copy":return p.M.assertRegistered(p.L.ClipboardModule,"Copy from Menu")?{name:o("copy","Copy"),shortcut:o("ctrlC","Ctrl+C"),icon:p.mb.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.copyToClipboard(!1)}}:null;case"copyWithHeaders":return p.M.assertRegistered(p.L.ClipboardModule,"Copy with Headers from Menu")?{name:o("copyWithHeaders","Copy with Headers"),icon:p.mb.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.copyToClipboard(!0)}}:null;case"paste":return p.M.assertRegistered(p.L.ClipboardModule,"Paste from Clipboard")?{name:o("paste","Paste"),shortcut:o("ctrlV","Ctrl+V"),disabled:!0,icon:p.mb.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.pasteFromClipboard()}}:null;case"export":var i=[],a=p.M.isRegistered(p.L.CsvExportModule),s=p.M.isRegistered(p.L.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&a&&i.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&s&&i.push("excelExport"),{name:o("export","Export"),subMenu:i,icon:p.mb.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:o("csvExport","CSV Export"),icon:p.mb.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return n.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:o("excelExport","Excel Export"),icon:p.mb.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return n.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:return this.getChartItems(e)||(console.warn("AG Grid: unknown menu item type "+e),null)}},t.prototype.getChartItems=function(e){var t=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),o=function(e,o,r){return{name:n(e,o),action:function(){return t.chartService.createPivotChart({chartType:r})}}},r=function(e,o,r){return{name:n(e,o),action:function(){return t.chartService.createChartFromCurrentRange(r)}}};switch(e){case"pivotChart":return{name:n("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:p.mb.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:n("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart"],icon:p.mb.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:n("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return o("groupedColumn","Grouped&lrm;",p.q.GroupedColumn);case"pivotStackedColumn":return o("stackedColumn","Stacked&lrm;",p.q.StackedColumn);case"pivotNormalizedColumn":return o("normalizedColumn","100% Stacked&lrm;",p.q.NormalizedColumn);case"rangeColumnChart":return{name:n("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return r("groupedColumn","Grouped&lrm;",p.q.GroupedColumn);case"rangeStackedColumn":return r("stackedColumn","Stacked&lrm;",p.q.StackedColumn);case"rangeNormalizedColumn":return r("normalizedColumn","100% Stacked&lrm;",p.q.NormalizedColumn);case"pivotBarChart":return{name:n("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return o("groupedBar","Grouped&lrm;",p.q.GroupedBar);case"pivotStackedBar":return o("stackedBar","Stacked&lrm;",p.q.StackedBar);case"pivotNormalizedBar":return o("normalizedBar","100% Stacked&lrm;",p.q.NormalizedBar);case"rangeBarChart":return{name:n("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return r("groupedBar","Grouped&lrm;",p.q.GroupedBar);case"rangeStackedBar":return r("stackedBar","Stacked&lrm;",p.q.StackedBar);case"rangeNormalizedBar":return r("normalizedBar","100% Stacked&lrm;",p.q.NormalizedBar);case"pivotPieChart":return{name:n("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return o("pie","Pie&lrm;",p.q.Pie);case"pivotDoughnut":return o("doughnut","Doughnut&lrm;",p.q.Doughnut);case"rangePieChart":return{name:n("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return r("pie","Pie&lrm;",p.q.Pie);case"rangeDoughnut":return r("doughnut","Doughnut&lrm;",p.q.Doughnut);case"pivotLineChart":return o("line","Line&lrm;",p.q.Line);case"rangeLineChart":return r("line","Line&lrm;",p.q.Line);case"pivotXYChart":return{name:n("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return o("scatter","Scatter&lrm;",p.q.Scatter);case"pivotBubble":return o("bubble","Bubble&lrm;",p.q.Bubble);case"rangeXYChart":return{name:n("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return r("scatter","Scatter&lrm;",p.q.Scatter);case"rangeBubble":return r("bubble","Bubble&lrm;",p.q.Bubble);case"pivotAreaChart":return{name:n("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return o("area","Area&lrm;",p.q.Area);case"pivotStackedArea":return o("stackedArea","Stacked&lrm;",p.q.StackedArea);case"pivotNormalizedArea":return o("normalizedArea","100% Stacked&lrm;",p.q.NormalizedArea);case"rangeAreaChart":return{name:n("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return r("area","Area&lrm;",p.q.Area);case"rangeStackedArea":return r("stackedArea","Stacked&lrm;",p.q.StackedArea);case"rangeNormalizedArea":return r("normalizedArea","100% Stacked&lrm;",p.q.NormalizedArea);case"rangeHistogramChart":return r("histogramChart","Histogram&lrm;",p.q.Histogram);default:return null}},t.prototype.createAggregationSubMenu=function(e){var t,n=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),r=e.isValueActive(),i=this.aggFuncService.getFuncNames(e);if(e.isPrimary())t=e;else{var a=e.getColDef().pivotValueColumn;t=p.mb.exists(a)?a:void 0}var s=[];return i.forEach(function(e){s.push({name:o(e,e),action:function(){n.columnModel.setColumnAggFunc(t,e,"contextMenu"),n.columnModel.addValueColumn(t,"contextMenu")},checked:r&&t.getAggFunc()===e})}),s},Ky([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Ky([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Ky([Object(p.O)("clipboardService")],t.prototype,"clipboardService",void 0),Ky([Object(p.O)("aggFuncService")],t.prototype,"aggFuncService",void 0),Ky([Object(p.O)("chartService")],t.prototype,"chartService",void 0),Ky([Object(p.m)("menuItemMapper")],t)}(p.n),qy={moduleName:p.L.MenuModule,beans:[jy,zy,Xy],dependantModules:[ee]},Yy=(Lh=function(e,t){return(Lh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Lh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Jy=function(){return(Jy=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Qy=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Zy=function(e){function t(){var t=e.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return t.filterDefs=[],t.filters=[],t.guiDestroyFuncs=[],t.activeFilterIndices=[],t.lastActivatedMenuItem=null,t.afterFiltersReadyFuncs=[],t}return Yy(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(t){return e.onFocusIn(t)}})},t.getFilterDefs=function(e){var t=e.filters;return t&&t.length>0?t:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var n=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var o=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=o;var r=[];return p.mb.forEach(this.filterDefs,function(e,t){var o=n.createFilter(e,t);null!=o&&r.push(o)}),p.g.all(r).then(function(e){n.filters=e,n.refreshGui("columnMenu"),n.afterFiltersReadyFuncs.forEach(function(e){return e()}),n.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var t=this;e!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),p.mb.forEach(this.filters,function(n,o){o>0&&t.appendChild(p.mb.loadTemplate('<div class="ag-filter-separator"></div>'));var r,i=t.filterDefs[o],a=t.getFilterTitle(n,i);r="subMenu"===i.display&&"toolPanel"!==e?t.insertFilterMenu(n,a).getGui():"subMenu"===i.display||"accordion"===i.display?t.insertFilterGroup(n,a).getGui():n.getGui(),t.appendChild(r)}),this.lastOpenedInContainer=e)},t.prototype.getFilterTitle=function(e,t){return null!=t.title?t.title:"function"==typeof e.getFilterTitle?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){p.mb.forEach(this.guiDestroyFuncs,function(e){return e()}),this.guiDestroyFuncs.length=0},t.prototype.insertFilterMenu=function(e,t){var n=this,o=this.createBean(new Dy({name:t,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return o.setParentComponent(this),this.guiDestroyFuncs.push(function(){return n.destroyBean(o)}),this.addManagedListener(o,Dy.EVENT_MENU_ITEM_ACTIVATED,function(e){n.lastActivatedMenuItem&&n.lastActivatedMenuItem!==e.menuItem&&n.lastActivatedMenuItem.deactivate(),n.lastActivatedMenuItem=e.menuItem}),o.addGuiEventListener("focusin",function(){return o.activate()}),o.addGuiEventListener("focusout",function(){o.isSubMenuOpen()||o.deactivate()}),o},t.prototype.insertFilterGroup=function(e,t){var n=this,o=this.createBean(new p.e({title:t,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return n.destroyBean(o)}),o.addItem(e.getGui()),o.toggleGroupExpand(!1),e.afterGuiAttached){var r={container:this.lastOpenedInContainer,suppressFocus:!0};o.addManagedListener(o,p.e.EVENT_EXPANDED,function(){return e.afterGuiAttached(r)})}return o},t.prototype.isFilterActive=function(){return p.mb.some(this.filters,function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,t){var n=!0;return this.filters.forEach(function(o){n&&o!==t&&o.isFilterActive()&&(n=o.doesFilterPass(e))}),n},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:p.mb.map(this.filters,function(e){return"function"==typeof e.getModelFromUi?e.getModelFromUi():null})}},t.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:p.mb.map(this.filters,function(e){return e.isFilterActive()?e.getModel():null})}:null},t.prototype.setModel=function(e){var t=this,n=function(e,t){return new p.g(function(n){var o=e.setModel(t);o?o.then(function(){return n()}):n()})},o=[];return null==e?o=p.mb.map(this.filters,function(e,o){var r=n(e,null);return t.updateActiveList(o),r}):p.mb.forEach(this.filters,function(r,i){var a=n(r,e.filterModels.length>i?e.filterModels[i]:null);o.push(a),t.updateActiveList(i)}),p.g.all(o).then(function(){})},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var t=this.params.filters,n=t&&p.mb.some(t,function(e){return e.display&&"inline"!==e.display});this.executeFunctionIfExists("afterGuiAttached",Jy(Jy({},e||{}),{suppressFocus:n})),n&&this.forceFocusOutOfContainer(!0)},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var t=this;p.mb.forEach(this.filters,function(e){e.setModel(null),t.destroyBean(e)}),this.filters.length=0,this.destroyChildren(),e.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.mb.forEachReverse(this.filters,function(n){var o=n[e];"function"==typeof o&&o.apply(n,t)})},t.prototype.createFilter=function(e,t){var n,o=this,r=this.params,i=r.filterModifiedCallback,a=r.doesRowPassOtherFilter,s=Jy(Jy({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:i,filterChangedCallback:function(e){o.executeWhenAllFiltersReady(function(){return o.filterChanged(t,e)})},doesRowPassOtherFilter:function(e){return a(e)&&o.doesFilterPass({node:e,data:e.data},n)}}),l=this.userComponentFactory.newFilterComponent(e,s,"agTextColumnFilter");return null!=l?l.then(function(e){return n=e}):l},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var t=this.filters[e];p.mb.removeFromArray(this.activeFilterIndices,e),t.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,t){this.updateActiveList(e),this.filterChangedCallback(t);var n=this.filters[e];p.mb.forEach(this.filters,function(e){e!==n&&"function"==typeof e.onAnyFilterChanged&&e.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){return null==this.lastActivatedMenuItem||this.lastActivatedMenuItem.getGui().contains(e.target)||(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},Qy([Object(p.k)("filterManager")],t.prototype,"filterManager",void 0),Qy([Object(p.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Qy([p.S],t.prototype,"postConstruct",null),t}(p.eb),$y=(Fh=function(e,t){return(Fh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Fh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ev=function(){return(ev=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},tv=function(e){function t(){var t=e.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return t.floatingFilters=[],t}return $y(t,e),t.prototype.init=function(e){var t=this;this.params=e;var n=[];return p.mb.forEach(Zy.getFilterDefs(e.filterParams),function(o,r){var i=ev(ev({},e),{parentFilterInstance:function(t){e.parentFilterInstance(function(e){var n=e.getChildFilterInstance(r);t(n)})}}),a=t.createFloatingFilter(o,i);null!=a&&n.push(a)}),p.g.all(n).then(function(e){p.mb.forEach(e,function(e,n){t.floatingFilters.push(e);var o=e.getGui();t.appendChild(o),n>0&&p.mb.setDisplayed(o,!1)})})},t.prototype.onParentModelChanged=function(e,t){var n=this;t&&t.afterFloatingFilter||this.params.parentFilterInstance(function(o){if(null==e)p.mb.forEach(n.floatingFilters,function(e,n){e.onParentModelChanged(null,t),p.mb.setDisplayed(e.getGui(),0===n)});else{var r=o.getLastActiveFilterIndex();p.mb.forEach(n.floatingFilters,function(n,o){n.onParentModelChanged(e.filterModels.length>o?e.filterModels[o]:null,t);var i=null==r?0===o:o===r;p.mb.setDisplayed(n.getGui(),i)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,e.prototype.destroy.call(this)},t.prototype.createFloatingFilter=function(e,t){var n=p.E.getDefaultFloatingFilterType(e)||"agTextColumnFloatingFilter";return this.userComponentFactory.newFloatingFilterComponent(e,t,n)},function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Object(p.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(p.v),nv={moduleName:p.L.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:Zy},{componentName:"agMultiColumnFloatingFilter",componentClass:tv}],dependantModules:[ee]},ov=(Nh=function(e,t){return(Nh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Nh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),rv=function(e){function t(t){var n=e.call(this,'<div class="ag-rich-select-row"></div>')||this;return n.params=t,n}return ov(t,e),t.prototype.setState=function(e,t,n){this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),p.mb.addOrRemoveCssClass(this.getGui(),"ag-rich-select-row-selected",n)},t.prototype.populateWithoutRenderer=function(e,t){var n=null!=t?t:e;p.mb.exists(n)&&""!==n?this.getGui().textContent=n.toString():this.getGui().innerHTML="&nbsp;"},t.prototype.populateWithRenderer=function(e,t){var n=this,o={value:e,valueFormatted:t,api:this.gridOptionsWrapper.getApi()},r=this.userComponentFactory.newCellRenderer(this.params,o);return null!=r?p.mb.bindCellRendererToHtmlElement(r,this.getGui()):this.getGui().innerText=null!=o.valueFormatted?o.valueFormatted:o.value,!!r&&(r.then(function(e){n.addDestroyFunc(function(){n.getContext().destroyBean(e)})}),!0)},function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Object(p.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(p.v),iv=(Ih=function(e,t){return(Ih=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ih(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),av=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},sv=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.selectionConfirmed=!1,n.searchString="",n}return iv(t,e),t.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var t=p.mb.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(p.mb.addCssClass(t,"ag-rich-select-value-icon"),this.eValue.appendChild(t),this.virtualList=this.getContext().createBean(new p.lb("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),p.mb.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),p.mb.missing(e.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var n=e.values;this.virtualList.setModel({getRowCount:function(){return n.length},getRow:function(e){return n[e]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var o=this.virtualList.getGui();this.addManagedListener(o,"click",this.onClick.bind(this)),this.addManagedListener(o,"mousemove",this.onMouseMove.bind(this));var r=p.mb.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=p.mb.debounce(this.clearSearchString,r),p.mb.exists(e.charPress)&&this.searchText(e.charPress)}},t.prototype.onKeyDown=function(e){var t=e.keyCode;switch(e.preventDefault(),t){case p.J.ENTER:this.onEnterKeyDown();break;case p.J.DOWN:case p.J.UP:this.onNavigationKeyPressed(e,t);break;default:this.searchText(e)}},t.prototype.onEnterKeyDown=function(){this.selectionConfirmed=!0,this.params.stopEditing()},t.prototype.onNavigationKeyPressed=function(e,t){e.preventDefault();var n=this.params.values.indexOf(this.selectedValue),o=t===p.J.UP?n-1:n+1;o>=0&&o<this.params.values.length&&this.setSelectedValue(this.params.values[o])},t.prototype.searchText=function(e){if("string"==typeof e)this.searchString+=e,this.runSearch(),this.clearSearchString();else{var t=e.key;if(e.keyCode===p.J.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!p.mb.isEventFromPrintableCharacter(e))return;this.searchText(t)}},t.prototype.runSearch=function(){var e,t=this.params.values;if("number"!=typeof t[0]&&"string"!=typeof t[0]||(e=t.map(String)),"object"==typeof t[0]&&this.params.colDef.keyCreator&&(e=t.map(this.params.colDef.keyCreator)),e){var n=p.mb.fuzzySuggestions(this.searchString,e,!0,!0)[0];if(n){var o=e.indexOf(n);this.setSelectedValue(t[o])}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.renderSelectedValue=function(){var e=this,t=this.params.formatValue(this.selectedValue),n=this.eValue,o={value:this.selectedValue,valueFormatted:t,api:this.gridOptionsWrapper.getApi()},r=this.userComponentFactory.newCellRenderer(this.params,o);p.mb.exists(r)?(p.mb.bindCellRendererToHtmlElement(r,n),r.then(function(t){e.addDestroyFunc(function(){return e.getContext().destroyBean(t)})})):p.mb.exists(this.selectedValue)?n.innerHTML=t:p.mb.clearElement(n)},t.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var t=this.params.values.indexOf(e);-1!==t&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(t),this.virtualList.refresh())}},t.prototype.createRowComponent=function(e){var t=this.params.formatValue(e),n=new rv(this.params);return this.getContext().createBean(n),n.setState(e,t,e===this.selectedValue),n},t.prototype.onMouseMove=function(e){var t=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),o=Math.floor((e.clientY-t.top+n)/this.virtualList.getRowHeight()),r=this.params.values[o];void 0!==r&&this.setSelectedValue(r)},t.prototype.onClick=function(){this.selectionConfirmed=!0,this.params.stopEditing()},t.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},t.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},t.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',av([Object(p.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),av([Object(p.X)("eValue")],t.prototype,"eValue",void 0),av([Object(p.X)("eList")],t.prototype,"eList",void 0),t}(p.Q),lv={moduleName:p.L.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:sv},{componentName:"agRichSelectCellEditor",componentClass:sv}],dependantModules:[ee]},uv=(Rh=function(e,t){return(Rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Rh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),cv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pauseStoreUpdateListening=!1,t}return uv(t,e),t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideRowModel")},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,p.C.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,p.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&p.mb.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Partial Store, then sorting is done on the server side, nothing to do with the client.")},"SSRM.DefaultGroupOrderComparator")},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,this.resetRootStore()},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},t.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns())if(this.storeParams){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),t=this.columnsToValueObjects(this.columnModel.getValueColumns()),n=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=!p.mb.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),r=!p.mb.jsonEquals(this.storeParams.rowGroupCols,e),i=!p.mb.jsonEquals(this.storeParams.pivotCols,n),a=!p.mb.jsonEquals(this.storeParams.valueCols,t);(o||r||i||a)&&this.resetRootStore()}else this.resetRootStore()},t.prototype.destroyRootStore=function(){this.rootNode&&this.rootNode.childStore&&(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,t){this.storeParams&&(this.storeParams.sortModel=e);var n=this.getRootStore();n&&(n.refreshAfterSort(t),this.onStoreUpdated())},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new p.Z,this.rootNode.group=!0,this.rootNode.level=-1,this.createBean(this.rootNode),this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:p.C.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var t=this;return e.map(function(e){return{id:e.getId(),aggFunc:e.getAggFunc(),displayName:t.columnModel.getDisplayNameForColumn(e,"model"),field:e.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),t=this.columnsToValueObjects(this.columnModel.getValueColumns()),n=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=this.gridOptionsWrapper.isDynamicRowHeight();return{valueCols:t,rowGroupCols:e,pivotCols:n,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new p.N,dynamicRowHeight:o}},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:p.C.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();e&&e.setDisplayIndexes(new p.N,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var t=this.getRootStore();if(t)return t.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(t){t.group&&t.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,t){this.storeParams&&(this.storeParams.filterModel=e);var n=this.getRootStore();n&&(n.refreshAfterFilter(t),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():1},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var t=this.getRootStore();return t?t.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var t=this.getRootStore();return t?t.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber()}},t.prototype.getRowIndexAtPixel=function(e){var t=this.getRootStore();return e<=0||!t?0:t.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},t.prototype.getType=function(){return p.x.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.forEachNode=function(e){var t=this.getRootStore();t&&t.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e){var t=this.getRootStore();t&&t.forEachNodeDeepAfterFilterAndSort(e)},t.prototype.executeOnStore=function(e,t){var n=this.getRootStore();if(n){var o=n.getChildStore(e);o&&t(o)}},t.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(t){return t.refreshStore(1==e.purge)})},t.prototype.getStoreState=function(){var e=[],t=this.getRootStore();return t&&t.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,t){return p.mb.exists(t)&&e.parent!==t.parent?[]:e.parent.childStore.getRowNodesInRange(t,e)},t.prototype.getRowNode=function(e){var t=void 0;return this.forEachNode(function(n){n.id===e&&(t=n),n.detailNode&&n.detailNode.id===e&&(t=n.detailNode)}),t},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},cv([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),cv([Object(p.k)("filterManager")],t.prototype,"filterManager",void 0),cv([Object(p.k)("sortController")],t.prototype,"sortController",void 0),cv([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),cv([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),cv([Object(p.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),cv([Object(p.k)("ssrmSortService")],t.prototype,"sortListener",void 0),cv([Object(p.k)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),cv([Object(p.k)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),cv([p.U],t.prototype,"destroyDatasource",null),cv([(n=Object(p.W)("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),cv([p.S],t.prototype,"addEventListeners",null),cv([p.U],t.prototype,"destroyRootStore",null),cv([Object(p.m)("rowModel")],t);var n}(p.n),dv=(kh=function(e,t){return(kh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}kh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),hv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},fv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dv(t,e),t.prototype.createGroupKeys=function(e){for(var t=[],n=e;n&&n.level>=0;)t.push(n.key),n=n.parent;return t.reverse(),t},t.prototype.loadFromDatasource=function(e){var t=this.createGroupKeys(e.parentNode),n=e.storeParams;if(n.datasource){var o={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:n.rowGroupCols,valueCols:n.valueCols,pivotCols:n.pivotCols,pivotMode:n.pivotMode,groupKeys:t,filterModel:n.filterModel,sortModel:n.sortModel},parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){n.datasource&&n.datasource.getRows(o)},0)}},t.prototype.getChildStore=function(e,t,n){if(p.mb.missingOrEmpty(e))return t;var o=n(e[0]);if(o){var r=e.slice(1,e.length),i=o.childStore;return i?i.getChildStore(r):null}return null},t.prototype.isServerRefreshNeeded=function(e,t,n){if(n.alwaysReset||n.valueColChanged||n.secondaryColChanged)return!0;var o=e.level+1;return!(o<t.length&&!(n.changedColumns.indexOf(t[o].id)>-1))},hv([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),hv([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),hv([Object(p.m)("ssrmCacheUtils")],t)}(p.n),gv=(Dh=function(e,t){return(Dh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Dh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),mv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},yv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gv(t,e),t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.createRowNode=function(e){var t=this.getContext().createBean(new p.Z);return t.setRowHeight(this.rowHeight),t.group=e.group,t.leafGroup=e.leafGroup,t.level=e.level,t.uiLevel=e.level,t.parent=e.parent,t.stub=!0,t.group&&(t.expanded=!1,t.field=e.field,t.rowGroupColumn=e.rowGroupColumn),t},t.prototype.destroyRowNodes=function(e){e&&e.forEach(this.destroyRowNode.bind(this))},t.prototype.destroyRowNode=function(e){e.childStore&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},t.prototype.setDataIntoRowNode=function(e,t,n){if(e.stub=!1,p.mb.exists(t)){if(e.setDataAndId(t,n),this.usingTreeData){var o=this.gridOptionsWrapper.getIsServerSideGroupFunc(),r=this.gridOptionsWrapper.getServerSideGroupKeyFunc();null!=o&&(e.group=o(e.data),e.group&&null!=r&&(e.key=r(e.data)))}else if(e.group)e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&p.mb.doOnce(function(){console.warn("null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey");else if(this.usingMasterDetail){var i=this.gridOptionsWrapper.getIsRowMasterFunc();e.master=null==i||i(e.data)}}else e.setDataAndId(void 0,void 0),e.key=null;(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),p.mb.exists(t)&&e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e).height)},t.prototype.setChildCountIntoRowNode=function(e){var t=this.gridOptionsWrapper.getChildCountFunc();t&&(e.allChildrenCount=t(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var t=this,n=this.columnModel.getGroupDisplayColumns(),o=this.gridOptionsWrapper.isTreeData();n.forEach(function(n){if(null==e.groupData&&(e.groupData={}),o)e.groupData[n.getColId()]=e.key;else if(n.isRowGroupDisplayed(e.rowGroupColumn.getId())){var r=t.valueService.getValue(e.rowGroupColumn,e);e.groupData[n.getColId()]=r}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.group&&p.mb.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,t,n){if(e.setRowIndex(t.next()),e.setRowTop(n.value),n.value+=e.rowHeight,e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(t.next()),e.detailNode.setRowTop(n.value),n.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.group&&p.mb.exists(e.childStore)){var o=e.childStore;e.expanded?o.setDisplayIndexes(t,n):o.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,t){var n=0,o=t.length-1;if(p.mb.missing(o)||p.mb.missing(n))console.warn("ag-grid: error: topPointer = "+o+", bottomPointer = "+n);else for(;;){var r=Math.floor((n+o)/2),i=t[r];if(i.rowIndex===e)return i;if(i.master&&i.expanded&&i.detailNode.rowIndex===e)return i.detailNode;var a=i.childStore;if(i.expanded&&a&&a.isDisplayIndexInStore(e))return a.getRowUsingDisplayIndex(e);if(i.rowIndex<e)n=r+1;else{if(!(i.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");o=r-1}}},t.prototype.extractRowBounds=function(e,t){var n=function(e){return{rowHeight:e.rowHeight,rowTop:e.rowTop}};if(e.rowIndex===t)return n(e);if(e.group&&e.expanded&&p.mb.exists(e.childStore)){var o=e.childStore;if(o.isDisplayIndexInStore(t))return o.getRowBounds(t)}else if(e.master&&e.expanded&&p.mb.exists(e.detailNode)&&e.detailNode.rowIndex===t)return n(e.detailNode)},t.prototype.getIndexAtPixel=function(e,t){if(e.isPixelInRange(t))return e.rowIndex;if(e.master&&e.expanded&&e.detailNode.isPixelInRange(t))return e.detailNode.rowIndex;if(e.group&&e.expanded&&p.mb.exists(e.childStore)){var n=e.childStore;if(n.isPixelInRange(t))return n.getRowIndexAtPixel(t)}return null},t.prototype.createNodeIdPrefix=function(e){for(var t=[],n=e;n&&n.level>=0;)t.push(n.key),n=n.parent;if(t.length>0)return t.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var t=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();t&&t({data:e.data,rowNode:e})&&window.setTimeout(function(){return e.setExpanded(!0)},0)}},mv([Object(p.k)("valueService")],t.prototype,"valueService",void 0),mv([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),mv([Object(p.k)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),mv([p.S],t.prototype,"postConstruct",null),mv([Object(p.m)("ssrmBlockUtils")],t)}(p.n),vv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},bv=function(){function e(){this.rowNodes={}}return e.prototype.addRowNode=function(e){var t=e.id;this.rowNodes[t]&&(console.warn("AG Grid: duplicate node id "+e.id),console.warn("first instance",this.rowNodes[t].data),console.warn("second instance",e.data)),this.rowNodes[t]=e},e.prototype.removeNode=function(e){var t=e.id;this.rowNodes[t]&&(this.rowNodes[t]=void 0)},e.prototype.clear=function(){this.rowNodes={}},vv([p.U],e.prototype,"clear",null),vv([Object(p.m)("ssrmNodeManager")],e)}(),Cv=(Mh=function(e,t){return(Mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Mh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),wv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ov=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.asyncTransactions=[],t}return Cv(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},t.prototype.applyTransactionAsync=function(e,t){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:t})},t.prototype.scheduleExecuteAsync=function(){var e=this,t=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},t)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var t=[],n=[],o=[],r=!1;if(this.asyncTransactions.forEach(function(i){var a;e.serverSideRowModel.executeOnStore(i.transaction.route,function(e){a=e.applyTransaction(i.transaction)}),null==a&&(a={status:p.db.StoreNotFound}),n.push(a),a.status==p.db.StoreLoading?o.push(i):(i.callback&&t.push(function(){return i.callback(a)}),a.status===p.db.Applied&&(r=!0))}),t.length>0&&window.setTimeout(function(){t.forEach(function(e){return e()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=o,r&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:p.C.EVENT_STORE_UPDATED})),n.length>0){var i={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:p.C.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(i)}}},t.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var t;return this.serverSideRowModel.executeOnStore(e.route,function(n){t=n.applyTransaction(e)}),t?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:p.C.EVENT_STORE_UPDATED}),t):{status:p.db.StoreNotFound}},wv([Object(p.k)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),wv([Object(p.k)("valueCache")],t.prototype,"valueCache",void 0),wv([Object(p.k)("rowModel")],t.prototype,"serverSideRowModel",void 0),wv([p.S],t.prototype,"postConstruct",null),wv([Object(p.m)("ssrmTransactionManager")],t)}(p.n),xv=(Ah=function(e,t){return(Ah=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ah(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Sv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Pv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xv(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,p.C.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var t=e.node;if(t.expanded){if(t.master)this.createDetailNode(t);else if(p.mb.missing(t.childStore)){var n=this.serverSideRowModel.getParams();t.childStore=this.createBean(this.storeFactory.createStore(n,t))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&p.mb.exists(t.childStore)&&(t.childStore=this.destroyBean(t.childStore));this.eventService.dispatchEvent({type:p.C.EVENT_STORE_UPDATED})},t.prototype.createDetailNode=function(e){if(p.mb.exists(e.detailNode))return e.detailNode;var t=new p.Z;this.getContext().createBean(t),t.detail=!0,t.selectable=!1,t.parent=e,p.mb.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1;var n=this.gridOptionsWrapper.getRowHeightForNode(t).height;return t.rowHeight=n||200,e.detailNode=t,t},Sv([Object(p.k)("rowModel")],t.prototype,"serverSideRowModel",void 0),Sv([Object(p.k)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),Sv([p.S],t.prototype,"postConstruct",null),Sv([Object(p.m)("ssrmExpandListener")],t)}(p.n),_v=(Th=function(e,t){return(Th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Th(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ev=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Tv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _v(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,p.C.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()?e:(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e),e)},t.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var t=p.x.GROUP_AUTO_COLUMN_ID+"-",n=0;n<e.length;++n)e[n].colId.indexOf(t)>-1&&(e[n].colId=e[n].colId.substr(t.length))},t.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var t=p.mb.find(e,function(e){return e.colId==p.x.GROUP_AUTO_COLUMN_ID});if(t){var n=e.indexOf(t);p.mb.removeFromArray(e,t);var o=this.columnModel.getRowGroupColumns().filter(function(t){return 0==e.filter(function(e){return e.colId===t.getColId()}).length}).map(function(e){return{colId:e.getId(),sort:t.sort}});p.mb.insertArrayIntoArray(e,o,n)}},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var t=this.extractSortModel(),n=this.findChangedColumnsInSort(t,e.sortModel),o=this.listenerUtils.isSortingWithValueColumn(n),r=this.listenerUtils.isSortingWithSecondaryColumn(n),i=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.serverSideRowModel.refreshAfterSort(t,{valueColChanged:o,secondaryColChanged:r,alwaysReset:i,changedColumns:n})}},t.prototype.findChangedColumnsInSort=function(e,t){var n=[];return[e,t].forEach(function(e){if(e){var t=e.map(function(e){return e.colId});n=n.concat(t)}}),n.filter(function(n){var o=p.mb.find(t,function(e){return e.colId===n}),r=p.mb.find(e,function(e){return e.colId===n});return function(e,t){return(e?e.sort:null)!==(t?t.sort:null)}(o,r)||function(n,o){return t.indexOf(n)!==e.indexOf(o)}(o,r)})},Ev([Object(p.k)("sortController")],t.prototype,"sortController",void 0),Ev([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Ev([Object(p.k)("rowModel")],t.prototype,"serverSideRowModel",void 0),Ev([Object(p.k)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Ev([p.S],t.prototype,"postConstruct",null),Ev([Object(p.m)("ssrmSortService")],t)}(p.n),Av=(Eh=function(e,t){return(Eh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Eh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Mv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Dv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Av(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,p.C.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var t=this.filterManager.getFilterModel(),n=this.findChangedColumns(t,e?e.filterModel:{}),o=this.listenerUtils.isSortingWithValueColumn(n),r=this.listenerUtils.isSortingWithSecondaryColumn(n),i=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets();this.serverSideRowModel.refreshAfterFilter(t,{valueColChanged:o,secondaryColChanged:r,alwaysReset:i,changedColumns:n})}},t.prototype.findChangedColumns=function(e,t){var n={};Object.keys(e).forEach(function(e){return n[e]=!0}),Object.keys(t).forEach(function(e){return n[e]=!0});var o=[];return Object.keys(n).forEach(function(n){JSON.stringify(e[n])!=JSON.stringify(t[n])&&o.push(n)}),o},Mv([Object(p.k)("rowModel")],t.prototype,"serverSideRowModel",void 0),Mv([Object(p.k)("filterManager")],t.prototype,"filterManager",void 0),Mv([Object(p.k)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Mv([p.S],t.prototype,"postConstruct",null),Mv([Object(p.m)("ssrmFilterListener")],t)}(p.n),kv=(_h=function(e,t){return(_h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}_h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Rv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Iv=function(e){function t(t,n,o,r,i){var a=e.call(this,t)||this;return a.ssrmParams=o,a.storeParams=r,a.parentRowNode=n,a.startRow=t*r.cacheBlockSize,a.parentStore=i,a.level=n.level+1,a.groupLevel=o.rowGroupCols?a.level<o.rowGroupCols.length:void 0,a.leafGroup=!!o.rowGroupCols&&a.level===o.rowGroupCols.length-1,a}return kv(t,e),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},t.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getBlockHeightPx=function(){return this.blockHeightPx},t.prototype.getBlockTopPx=function(){return this.blockTopPx},t.prototype.isGroupLevel=function(){return this.groupLevel},t.prototype.getGroupField=function(){return this.groupField},t.prototype.prefixId=function(e){return null!=this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},t.prototype.isAnyNodeOpen=function(){return this.rowNodes.filter(function(e){return e.expanded}).length>0},t.prototype.forEachNode=function(e,t,n,o){void 0===t&&(t=new p.N),this.rowNodes.forEach(function(r){if(e(r,t.next()),n&&r.childStore){var i=r.childStore;o?i.forEachNodeDeepAfterFilterAndSort(e,t):i.forEachNodeDeep(e,t)}})},t.prototype.forEachNodeDeep=function(e,t){this.forEachNode(e,t,!0,!1)},t.prototype.forEachNodeAfterFilterAndSort=function(e,t){this.forEachNode(e,t,!0,!0)},t.prototype.forEachNodeShallow=function(e,t){this.forEachNode(e,t,!1,!1)},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e){return this.rowNodes[e-this.startRow]},t.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},t.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},t.prototype.retryLoads=function(){this.getState()===p.ab.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow(function(e){e.childStore&&e.childStore.retryLoads()})},t.prototype.processServerResult=function(e){this.parentStore.onBlockLoaded(this,e)},t.prototype.setData=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=!1),this.destroyRowNodes();for(var n=this.parentStore.getRowCount(),o=this.getId()*this.storeParams.cacheBlockSize,r=Math.min(o+this.storeParams.cacheBlockSize,n)-o,i=0;i<r;i++){var a=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});if(i<e.length){var s=e[i],l=this.prefixId(this.startRow+i);this.blockUtils.setDataIntoRowNode(a,s,l),this.parentStore.removeDuplicateNode(a.id),this.nodeManager.addRowNode(a),this.allNodesMap[a.id]=a,this.blockUtils.checkOpenByDefault(a)}this.rowNodes.push(a),t&&(a.failedLoad=!0)}},t.prototype.removeDuplicateNode=function(e){var t=this.allNodesMap[e];if(t){this.blockUtils.destroyRowNode(t);var n=this.rowNodes.indexOf(t),o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[n]=o}},t.prototype.refresh=function(){this.getState()!==p.ab.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.rowNodes),this.rowNodes=[],this.allNodesMap={}},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},t.prototype.getRowUsingDisplayIndex=function(e){return this.touchLastAccessed(),this.blockUtils.binarySearchForDisplayIndex(e,this.rowNodes)},t.prototype.loadFromDatasource=function(){this.cacheUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.isPixelInRange=function(e){return e>=this.blockTopPx&&e<this.blockTopPx+this.blockHeightPx},t.prototype.getRowBounds=function(e){var t,n=this;return this.touchLastAccessed(),p.mb.find(this.rowNodes,function(o){return null!=(t=n.blockUtils.extractRowBounds(o,e))}),t},t.prototype.getRowIndexAtPixel=function(e){var t=this;this.touchLastAccessed();var n=null;return p.mb.find(this.rowNodes,function(o){return null!=(n=t.blockUtils.getIndexAtPixel(o,e))}),n},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach(function(t){return e.blockUtils.clearDisplayIndex(t)})},t.prototype.setDisplayIndexes=function(e,t){var n=this;this.displayIndexStart=e.peek(),this.blockTopPx=t.value,this.rowNodes.forEach(function(o){return n.blockUtils.setDisplayIndex(o,e,t)}),this.displayIndexEnd=e.peek(),this.blockHeightPx=t.value-this.blockTopPx},Rv([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Rv([Object(p.k)("ssrmCacheUtils")],t.prototype,"cacheUtils",void 0),Rv([Object(p.k)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Rv([Object(p.k)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Rv([Object(p.k)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Rv([p.S],t.prototype,"postConstruct",null),Rv([p.U],t.prototype,"destroyRowNodes",null),Rv([(n=Object(p.W)("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),t;var n}(p.ab),Nv=(Ph=function(e,t){return(Ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ph(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Fv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.FOUND=0]="FOUND",e[e.CONTINUE_FIND=1]="CONTINUE_FIND",e[e.BREAK_FIND=2]="BREAK_FIND"}(Sh||(Sh={}));var Lv,jv,Gv=function(e){function t(n,o,r){var i=e.call(this)||this;return i.blocks={},i.blockHeights={},i.lastRowIndexKnown=!1,i.displayIndexStart=0,i.displayIndexEnd=0,i.cacheTopPixel=0,i.info={},i.ssrmParams=n,i.storeParams=o,i.parentRowNode=r,i.rowCount=t.INITIAL_ROW_COUNT,i}return Nv(t,e),t.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(t){return e.destroyBlock(t)})},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.retryLoads=function(){this.getBlocksInOrder().forEach(function(e){return e.retryLoads()})},t.prototype.onBlockLoadFailed=function(e){e.setData([],!0),this.fireCacheUpdatedEvent()},t.prototype.onBlockLoaded=function(e,t){this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+t.rowCount),t.storeInfo&&p.mb.assign(this.info,t.storeInfo),t.rowData||p.mb.doOnce(function(){return console.warn('AG Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.',t)},"InfiniteStore.noData");var n=null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0;this.isAlive()&&(this.checkRowCount(e,n),e.setData(t.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,o=this.getBlocksInOrder().filter(function(t){return t!=e});o.sort(function(e,t){return t.getLastAccessed()-e.getLastAccessed()});var r=this.storeParams.maxBlocksInCache>0,i=r?this.storeParams.maxBlocksInCache-1:null,a=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach(function(e,t){if(e.getState()===Iv.STATE_WAITING_TO_LOAD&&t>=a||r&&t>=i){if(e.isAnyNodeOpen())return;if(n.isBlockCurrentlyDisplayed(e))return;if(n.isBlockFocused(e))return;n.destroyBlock(e)}})},t.prototype.isBlockFocused=function(e){var t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;var n=e.getDisplayIndexStart(),o=e.getDisplayIndexEnd();return null!=o&&null!=n&&t.rowIndex>=n&&t.rowIndex<o},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=e.getDisplayIndexStart(),n=e.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(t,n)},t.prototype.removeDuplicateNode=function(e){this.getBlocksInOrder().forEach(function(t){return t.removeDuplicateNode(e)})},t.prototype.checkRowCount=function(e,n){if("number"==typeof n&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var o=(e.getId()+1)*this.storeParams.cacheBlockSize+t.OVERFLOW_SIZE;this.rowCount<o&&(this.rowCount=o)}},t.prototype.forEachNodeDeep=function(e,t){void 0===t&&(t=new p.N),this.getBlocksInOrder().forEach(function(n){return n.forEachNodeDeep(e,t)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,t){void 0===t&&(t=new p.N),this.getBlocksInOrder().forEach(function(n){return n.forEachNodeAfterFilterAndSort(e,t)})},t.prototype.getBlocksInOrder=function(){return p.mb.getAllValuesInObject(this.blocks).sort(function(e,t){return e.getId()-t.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.rowNodeBlockLoader.removeBlock(e)},t.prototype.fireCacheUpdatedEvent=function(){this.eventService.dispatchEvent({type:p.C.EVENT_STORE_UPDATED})},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.getBlocksInOrder().forEach(function(n){n.getId()*e.storeParams.cacheBlockSize>=e.rowCount&&t.push(n)}),t.length>0&&t.forEach(function(t){return e.destroyBlock(t)})},t.prototype.refreshStore=function(e){0==this.getRowCount()||e?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},t.prototype.refreshBlocks=function(){this.getBlocksInOrder().forEach(function(e){e.refresh()}),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=t.INITIAL_ROW_COUNT)},t.prototype.getRowNodesInRange=function(e,t){var n=[],o=-1,r=!1;p.mb.missing(e)&&(r=!0);var i=!1;return this.getBlocksInOrder().forEach(function(a){i||(r&&o+1!==a.getId()?i=!0:(o=a.getId(),a.forEachNodeShallow(function(o){var i=o===e||o===t;(r||i)&&n.push(o),i&&(r=!r)})))}),i||r?[]:n},t.prototype.findBlockAndExecute=function(e,t,n){var o,r=!1,i=!1,a=null;return this.getBlocksInOrder().forEach(function(n){if(!r&&!i){var s=e(n);s==Sh.FOUND?(o=t(n),r=!0):s==Sh.CONTINUE_FIND?a=n:s==Sh.BREAK_FIND&&(i=!0)}}),r||(o=n(a)),o},t.prototype.getRowBounds=function(e){var t=this;return this.findBlockAndExecute(function(t){return t.isDisplayIndexInBlock(e)?Sh.FOUND:t.isBlockBefore(e)?Sh.CONTINUE_FIND:Sh.BREAK_FIND},function(t){return t.getRowBounds(e)},function(n){var o,r;return null!==n?(o=n.getBlockTopPx()+n.getBlockHeightPx(),r=n.getDisplayIndexEnd()):(o=t.cacheTopPixel,r=t.displayIndexStart),{rowHeight:t.defaultRowHeight,rowTop:o+(e-r)*t.defaultRowHeight}})},t.prototype.getRowIndexAtPixel=function(e){var t=this,n=this.findBlockAndExecute(function(t){return t.isPixelInRange(e)?Sh.FOUND:t.getBlockTopPx()<e?Sh.CONTINUE_FIND:Sh.BREAK_FIND},function(t){return t.getRowIndexAtPixel(e)},function(n){var o,r;return n?(o=n.getBlockTopPx()+n.getBlockHeightPx(),r=n.getDisplayIndexEnd()):(o=t.cacheTopPixel,r=t.displayIndexStart),r+((e-o)/t.defaultRowHeight|0)}),o=this.getDisplayIndexEnd()-1;return Math.min(n,o)},t.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach(function(e){return e.clearDisplayIndexes()})},t.prototype.setDisplayIndexes=function(e,t){var n=this;this.displayIndexStart=e.peek(),this.cacheTopPixel=t.value;var o=-1,r=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach(function(i){var a=i.getId(),s=a-o-1,l=s*r;l>0&&e.skip(l);for(var u=1;u<=s;u++){var c=a-u;p.mb.exists(n.blockHeights[c])?t.value+=n.blockHeights[c]:t.value+=r*n.defaultRowHeight}o=a,i.setDisplayIndexes(e,t),n.blockHeights[a]=i.getBlockHeightPx()});var i=(o+1)*r-1,a=this.getRowCount()-i-1;a>0&&(e.skip(a),t.value+=a*this.defaultRowHeight),this.displayIndexEnd=e.peek(),this.cacheHeightPixels=t.value-this.cacheTopPixel},t.prototype.getRowUsingDisplayIndex=function(e,t){var n=this;if(void 0===t&&(t=!1),this.isDisplayIndexInStore(e))return this.findBlockAndExecute(function(t){return t.isDisplayIndexInBlock(e)?Sh.FOUND:t.isBlockBefore(e)?Sh.CONTINUE_FIND:Sh.BREAK_FIND},function(t){return t.getRowUsingDisplayIndex(e)},function(o){if(!t){var r,i,a,s=n.storeParams.cacheBlockSize;if(o)for(r=o.getId()+1,i=o.getDisplayIndexEnd(),a=o.getBlockHeightPx()+o.getBlockTopPx();!(e>=i&&e<i+s);){i+=s;var l=n.blockHeights[r];p.mb.exists(l)?a+=l:a+=n.defaultRowHeight*s,r++}else r=Math.floor((e-n.displayIndexStart)/s),i=n.displayIndexStart+r*s,a=n.cacheTopPixel+r*s*n.defaultRowHeight;return n.logger.log("block missing, rowIndex = "+e+", creating #"+r+", displayIndexStart = "+i),n.createBlock(r,i,{value:a}).getRowUsingDisplayIndex(e)}})},t.prototype.getTopLevelRowDisplayedIndex=function(e){var t=this.storeParams.cacheBlockSize,n=Math.floor(e/t);return this.findBlockAndExecute(function(e){return e.getId()===n?Sh.FOUND:e.getId()<n?Sh.CONTINUE_FIND:Sh.BREAK_FIND},function(t){return t.getRowUsingLocalIndex(e).rowIndex},function(n){if(!n)return e;var o=t*(n.getId()+1)-1,r=n.getRowUsingLocalIndex(o);return(r.expanded&&r.childStore?r.childStore.getDisplayIndexEnd()-1:r.expanded&&r.detailNode?r.detailNode.rowIndex:r.rowIndex)+(e-o)})},t.prototype.addStoreStates=function(e){e.push({type:p.cb.Partial,route:this.storeUtils.createGroupKeys(this.parentRowNode),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(t){return t.addStoreStates(e)})},t.prototype.createBlock=function(e,t,n){var o=this.createBean(new Iv(e,this.parentRowNode,this.ssrmParams,this.storeParams,this));return o.setDisplayIndexes(new p.N(t),n),this.blocks[o.getId()]=o,this.purgeBlocksIfNeeded(o),this.rowNodeBlockLoader.addBlock(o),o},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.applyTransaction=function(e){return{status:p.db.StoreWrongType}},t.prototype.getChildStore=function(e){var t=this;return this.storeUtils.getChildStore(e,this,function(e){var n=null;return t.getBlocksInOrder().forEach(function(t){t.forEachNodeShallow(function(t){t.key===e&&(n=t)},new p.N)}),n})},t.prototype.isPixelInRange=function(e){return 0!==this.getRowCount()&&e>=this.cacheTopPixel&&e<this.cacheTopPixel+this.cacheHeightPixels},t.prototype.refreshAfterFilter=function(e){this.resetStore()},t.prototype.refreshAfterSort=function(e){this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.resetStore():this.forEachChildStoreShallow(function(t){return t.refreshAfterSort(e)})},t.prototype.forEachChildStoreShallow=function(e){this.getBlocksInOrder().forEach(function(t){t.isGroupLevel()&&t.forEachNodeShallow(function(t){var n=t.childStore;n&&e(n)},new p.N)})},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,t.INITIAL_ROW_COUNT=1,t.OVERFLOW_SIZE=1,Fv([Object(p.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),Fv([Object(p.k)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Fv([Object(p.k)("ssrmCacheUtils")],t.prototype,"storeUtils",void 0),Fv([Object(p.k)("focusService")],t.prototype,"focusService",void 0),Fv([p.S],t.prototype,"postConstruct",null),Fv([p.U],t.prototype,"destroyAllBlocks",null),Fv([(n=Object(p.W)("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),t;var n}(p.n),Vv=(jv=function(e,t){return(jv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}jv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Bv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Wv=function(e){function t(t,n,o){var r=e.call(this,0)||this;return r.nodeIdSequence=new p.N,r.info={},r.ssrmParams=t,r.parentRowNode=o,r.level=o.level+1,r.groupLevel=t.rowGroupCols?r.level<t.rowGroupCols.length:void 0,r.leafGroup=!!t.rowGroupCols&&r.level===t.rowGroupCols.length-1,r}return Vv(t,e),t.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.initialiseRowNodes(),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,t){void 0===e&&(e=1),void 0===t&&(t=!1),this.destroyRowNodes();for(var n=0;n<e;n++){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});t&&(o.failedLoad=!0),this.allRowNodes.push(o),this.nodesAfterFilter.push(o),this.nodesAfterSort.push(o)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,t){var n=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=t?p.mb.insertIntoArray(this.allRowNodes,n,t):this.allRowNodes.push(n);var o=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(n,e,o),this.nodeManager.addRowNode(n),this.blockUtils.checkOpenByDefault(n),this.allNodesMap[n.id]=n,n},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){e.storeInfo&&p.mb.assign(this.info,e.storeInfo);var t=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||p.mb.doOnce(function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',e)},"FullStore.noData"),this.createOrRecycleNodes(t,e.rowData),t&&this.blockUtils.destroyRowNodes(p.mb.getAllValuesInObject(t)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,t){var n=this;t&&t.forEach(function(t){var o=function(t){if(e){var o=n.gridOptionsWrapper.getRowNodeIdFunc();if(o){var r=o(t),i=e[r];if(i)return delete e[r],i}}}(t);o?function(e,t){n.allNodesMap[e.id]=e,e.updateData(t),n.allRowNodes.push(e)}(o,t):n.createDataNode(t)})},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.sortController.getSortOptions(),t=!e||0==e.length,n=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.nodesAfterSort=t||n?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},t.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(t){return e.filterManager.doesRowPassFilter({rowNode:t})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(t){return e.blockUtils.clearDisplayIndex(t)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,t){var n=this;this.displayIndexStart=e.peek(),this.topPx=t.value;var o={};this.nodesAfterSort.forEach(function(r){n.blockUtils.setDisplayIndex(r,e,t),o[r.id]=!0}),this.allRowNodes.forEach(function(e){o[e.id]||n.blockUtils.clearDisplayIndex(e)}),this.displayIndexEnd=e.peek(),this.heightPx=t.value-this.topPx},t.prototype.forEachNodeDeep=function(e,t){void 0===t&&(t=new p.N),this.allRowNodes.forEach(function(n){e(n,t.next());var o=n.childStore;o&&o.forEachNodeDeep(e,t)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,t){void 0===t&&(t=new p.N),this.nodesAfterSort.forEach(function(n){e(n,t.next());var o=n.childStore;o&&o.forEachNodeDeepAfterFilterAndSort(e,t)})},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},t.prototype.getRowBounds=function(e){for(var t=0;t<this.nodesAfterSort.length;t++){var n=this.blockUtils.extractRowBounds(this.nodesAfterSort[t],e);if(n)return n}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var t=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var n=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=n.rowTop+n.rowHeight&&n.expanded){if(n.childStore&&n.childStore.getRowCount()>0)return n.childStore.getRowIndexAtPixel(e);if(n.detailNode)return n.detailNode.rowIndex}return n.rowIndex}var o=null;return this.nodesAfterSort.forEach(function(n){var r=t.blockUtils.getIndexAtPixel(n,e);null!=r&&(o=r)}),null==o?this.displayIndexEnd-1:o},t.prototype.getChildStore=function(e){var t=this;return this.storeUtils.getChildStore(e,this,function(e){return p.mb.find(t.allRowNodes,function(t){return t.key===e})})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(t){var n=t.childStore;n&&e(n)})},t.prototype.refreshAfterFilter=function(e){e.alwaysReset||this.gridOptionsWrapper.isTreeData()?this.refreshStore(!0):(this.filterAndSortNodes(),this.forEachChildStoreShallow(function(t){return t.refreshAfterFilter(e)}))},t.prototype.refreshAfterSort=function(e){e.alwaysReset?this.refreshStore(!0):(this.sortRowNodes(),this.forEachChildStoreShallow(function(t){return t.refreshAfterSort(e)}))},t.prototype.applyTransaction=function(e){switch(this.getState()){case p.ab.STATE_FAILED:return{status:p.db.StoreLoadingFailed};case p.ab.STATE_LOADING:return{status:p.db.StoreLoading};case p.ab.STATE_WAITING_TO_LOAD:return{status:p.db.StoreWaitingToLoad}}var t=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(t&&!t({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info}))return{status:p.db.Cancelled};var n={status:p.db.Applied,remove:[],update:[],add:[]},o=[];return this.executeAdd(e,n),this.executeRemove(e,n,o),this.executeUpdate(e,n,o),this.filterAndSortNodes(),this.updateSelection(o),n},t.prototype.updateSelection=function(e){if(e.length>0){e.forEach(function(e){e.setSelected(!1,!1,!0)});var t={type:p.C.EVENT_SELECTION_CHANGED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(t)}},t.prototype.executeAdd=function(e,t){var n=this,o=e.add,r=e.addIndex;p.mb.missingOrEmpty(o)||("number"==typeof r&&r>=0?o.reverse().forEach(function(e){var o=n.createDataNode(e,r);t.add.push(o)}):o.forEach(function(e){var o=n.createDataNode(e);t.add.push(o)}))},t.prototype.executeRemove=function(e,t,n){var o=this,r=e.remove;if(null!=r){var i={};r.forEach(function(e){var r=o.lookupRowNode(e);r&&(r.isSelected()&&n.push(r),r.clearRowTopAndRowIndex(),i[r.id]=!0,delete o.allNodesMap[r.id],t.remove.push(r),o.nodeManager.removeNode(r))}),this.allRowNodes=this.allRowNodes.filter(function(e){return!i[e.id]})}},t.prototype.executeUpdate=function(e,t,n){var o=this,r=e.update;null!=r&&r.forEach(function(e){var r=o.lookupRowNode(e);r&&(r.updateData(e),!r.selectable&&r.isSelected()&&n.push(r),t.update.push(r))})},t.prototype.lookupRowNode=function(e){var t,n=this.gridOptionsWrapper.getRowNodeIdFunc();if(p.mb.exists(n)){var o=n(e);if(!(t=this.allNodesMap[o]))return console.error("AG Grid: could not find row id="+o+", data item was not found for this id"),null}else if(!(t=p.mb.find(this.allRowNodes,function(t){return t.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return t},t.prototype.addStoreStates=function(e){e.push({type:p.cb.Full,route:this.storeUtils.createGroupKeys(this.parentRowNode),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(t){return t.addStoreStates(e)})},t.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===p.ab.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:p.C.EVENT_STORE_UPDATED})},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==p.ab.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,t){var n=[],o=!1;return p.mb.missing(e)&&(o=!0),this.nodesAfterSort.forEach(function(r){var i=r===e||r===t;(o||i)&&n.push(r),i&&(o=!o)}),o?[]:n},Bv([Object(p.k)("ssrmCacheUtils")],t.prototype,"storeUtils",void 0),Bv([Object(p.k)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Bv([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),Bv([Object(p.k)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Bv([Object(p.k)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Bv([Object(p.k)("sortController")],t.prototype,"sortController",void 0),Bv([Object(p.k)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Bv([Object(p.k)("filterManager")],t.prototype,"filterManager",void 0),Bv([Object(p.k)("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),Bv([p.S],t.prototype,"postConstruct",null),Bv([p.U],t.prototype,"destroyRowNodes",null),t}(p.ab),zv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Uv=function(){function e(){}return e.prototype.createStore=function(e,t){var n=this.getStoreParams(e,t);return new(n.storeType===p.cb.Partial?Gv:Wv)(e,n,t)},e.prototype.getStoreParams=function(e,t){var n=this.getLevelSpecificParams(t),o=this.getStoreType(n);return{storeType:o,cacheBlockSize:this.getBlockSize(o,n),maxBlocksInCache:this.getMaxBlocksInCache(o,e,n)}},e.prototype.getMaxBlocksInCache=function(e,t,n){if(e!=p.cb.Full){var o=n&&null!=n.maxBlocksInCache?n.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache();if(null!=o&&o>=0)if(t.dynamicRowHeight)p.mb.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.dynamicRowHeight");else{if(!this.columnModel.isAutoRowHeightActive())return o;p.mb.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.autoRowHeightActive")}}},e.prototype.getBlockSize=function(e,t){if(e!=p.cb.Full){var n=t&&null!=t.cacheBlockSize?t.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return null!=n&&n>0?n:100}},e.prototype.getLevelSpecificParams=function(e){var t=this.gridOptionsWrapper.getServerSideStoreParamsFunc();if(t)return t({level:e.level+1,parentRowNode:e.level>=0?e:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()})},e.prototype.getStoreType=function(e){var t=e&&null!=e.storeType?e.storeType:this.gridOptionsWrapper.getServerSideStoreType();switch(t){case p.cb.Partial:case p.cb.Full:return t;case null:case void 0:return p.cb.Full;default:var n=Object.keys(p.cb).join(", ");return console.warn("AG Grid: invalid Server Side Store Type "+t+", valid types are ["+n+"]"),p.cb.Partial}},zv([Object(p.k)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),zv([Object(p.k)("columnModel")],e.prototype,"columnModel",void 0),zv([Object(p.m)("ssrmStoreFactory")],e)}(),Hv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Kv=function(){function e(){}return e.prototype.isSortingWithValueColumn=function(e){for(var t=this.columnModel.getValueColumns().map(function(e){return e.getColId()}),n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1},e.prototype.isSortingWithSecondaryColumn=function(e){if(!this.columnModel.getSecondaryColumns())return!1;for(var t=this.columnModel.getSecondaryColumns().map(function(e){return e.getColId()}),n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1},Hv([Object(p.k)("columnModel")],e.prototype,"columnModel",void 0),Hv([Object(p.m)("ssrmListenerUtils")],e)}(),Xv={moduleName:p.L.ServerSideRowModelModule,rowModels:{serverSide:pv},beans:[Pv,Tv,fv,yv,bv,Ov,Dv,Uv,Kv],dependantModules:[ee]},qv=function(){function e(e,t,n){this.rowModel=e,this.colDef=t,this.valueGetter=n}return e.prototype.extractUniqueValues=function(e){var t=this,n=new Set,o=this.colDef.keyCreator;return this.rowModel.forEachLeafNode(function(r){if(r.data&&e(r)){var i=t.valueGetter(r);o&&(i=o({value:i})),null!=(i=p.mb.makeNull(i))&&Array.isArray(i)?p.mb.forEach(i,function(e){var t=p.mb.toStringOrNull(p.mb.makeNull(e));n.add(t)}):n.add(p.mb.toStringOrNull(i))}}),p.mb.values(n)},e}();!function(e){e[e.PROVIDED_LIST=0]="PROVIDED_LIST",e[e.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",e[e.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(Lv||(Lv={}));var Yv,Jv,Qv,Zv,$v,eb,tb,nb,ob,rb,ib,ab,sb=function(){function e(e,t,n,o){var r=this;this.filterParams=e,this.setIsLoading=t,this.valueFormatterService=n,this.translate=o,this.localEventService=new p.B,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,this.initialised=!1;var i=e.colDef,a=e.textFormatter,s=e.doesRowPassOtherFilter,l=e.suppressSorting,u=e.comparator,c=e.rowModel,d=e.valueGetter,h=e.values;this.column=e.column,this.colDef=i,this.formatter=a||p.gb.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=s,this.suppressSorting=l||!1,this.comparator=u||i.comparator||p.mb.defaultComparator,c.getType()===p.x.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new qv(c,i,d)),null==h?this.valuesType=Lv.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(h)?Lv.PROVIDED_LIST:Lv.PROVIDED_CALLBACK,this.providedValues=h),this.updateAllValues().then(function(e){return r.resetSelectionState(e||[])})}return e.prototype.addEventListener=function(e,t,n){this.localEventService.addEventListener(e,t,n)},e.prototype.removeEventListener=function(e,t,n){this.localEventService.removeEventListener(e,t,n)},e.prototype.refreshValues=function(e){void 0===e&&(e=!0);var t=this.getModel();return this.updateAllValues(),this.setModel(e?t:null)},e.prototype.overrideValues=function(e,t){var n=this;return void 0===t&&(t=!0),new p.g(function(o){n.allValuesPromise.then(function(){n.valuesType=Lv.PROVIDED_LIST,n.providedValues=e,n.refreshValues(t).then(function(){return o()})})})},e.prototype.refreshAfterAnyFilterChanged=function(){var e=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(t){return e.updateAvailableValues(t||[])}):p.g.resolve()},e.prototype.isInitialised=function(){return this.initialised},e.prototype.updateAllValues=function(){var e=this;return this.allValuesPromise=new p.g(function(t){switch(e.valuesType){case Lv.TAKEN_FROM_GRID_VALUES:case Lv.PROVIDED_LIST:var n=e.valuesType===Lv.TAKEN_FROM_GRID_VALUES?e.getValuesFromRows(!1):p.mb.toStrings(e.providedValues),o=e.sortValues(n||[]);e.allValues=o,t(o);break;case Lv.PROVIDED_CALLBACK:e.setIsLoading(!0);var r=e.providedValues,i={success:function(n){var o=p.mb.toStrings(n);e.setIsLoading(!1);var r=e.sortValues(o||[]);e.allValues=r,t(r)},colDef:e.colDef};window.setTimeout(function(){return r(i)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(t){return e.updateAvailableValues(t||[])}).then(function(){return e.initialised=!0}),this.allValuesPromise},e.prototype.setValuesType=function(e){this.valuesType=e},e.prototype.getValuesType=function(){return this.valuesType},e.prototype.isValueAvailable=function(e){return this.availableValues.has(e)},e.prototype.showAvailableOnly=function(){return this.valuesType===Lv.TAKEN_FROM_GRID_VALUES&&!this.filterParams.suppressRemoveEntries},e.prototype.updateAvailableValues=function(t){var n=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):t;this.availableValues=p.mb.convertToSet(n),this.localEventService.dispatchEvent({type:e.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},e.prototype.sortValues=function(e){return this.suppressSorting?e:!this.filterParams.excelMode||e.indexOf(null)<0?e.sort(this.comparator):p.mb.filter(e,function(e){return null!=e}).sort(this.comparator).concat(null)},e.prototype.getValuesFromRows=function(e){var t=this;return void 0===e&&(e=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(n){return!e||t.doesRowPassOtherFilters(n)}):(console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},e.prototype.setMiniFilter=function(e){return e=p.mb.makeNull(e),this.miniFilterText!==e&&(this.miniFilterText=e,this.updateDisplayedValues(),!0)},e.prototype.getMiniFilter=function(){return this.miniFilterText},e.prototype.updateDisplayedValues=function(){var e=this;if(null!=this.miniFilterText){this.displayedValues=[];var t=(this.formatter(this.miniFilterText)||"").toUpperCase(),n=function(e){return null!=e&&e.toUpperCase().indexOf(t)>=0};this.availableValues.forEach(function(t){if(null==t)e.filterParams.excelMode&&n(e.translate("blanks"))&&e.displayedValues.push(t);else{var o=e.formatter(t),r=e.valueFormatterService.formatValue(e.column,null,null,o,e.filterParams.valueFormatter,!1);(n(o)||n(r))&&e.displayedValues.push(t)}})}else this.displayedValues=p.mb.values(this.availableValues)},e.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},e.prototype.getDisplayedValue=function(e){return this.displayedValues[e]},e.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},e.prototype.getUniqueValueCount=function(){return this.allValues.length},e.prototype.getUniqueValue=function(e){return this.allValues[e]},e.prototype.getValues=function(){return this.allValues.slice()},e.prototype.selectAllMatchingMiniFilter=function(e){var t=this;void 0===e&&(e=!1),null==this.miniFilterText?this.selectedValues=p.mb.convertToSet(this.allValues):(e&&this.selectedValues.clear(),p.mb.forEach(this.displayedValues,function(e){return t.selectedValues.add(e)}))},e.prototype.deselectAllMatchingMiniFilter=function(){var e=this;null==this.miniFilterText?this.selectedValues.clear():p.mb.forEach(this.displayedValues,function(t){return e.selectedValues.delete(t)})},e.prototype.selectValue=function(e){this.selectedValues.add(e)},e.prototype.deselectValue=function(e){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(e)},e.prototype.isValueSelected=function(e){return this.selectedValues.has(e)},e.prototype.isEverythingVisibleSelected=function(){var e=this;return p.mb.filter(this.displayedValues,function(t){return e.isValueSelected(t)}).length===this.displayedValues.length},e.prototype.isNothingVisibleSelected=function(){var e=this;return 0===p.mb.filter(this.displayedValues,function(t){return e.isValueSelected(t)}).length},e.prototype.getModel=function(){return this.hasSelections()?p.mb.values(this.selectedValues):null},e.prototype.setModel=function(e){var t=this;return this.allValuesPromise.then(function(n){if(null==e)t.resetSelectionState(n||[]);else{t.selectedValues.clear();var o=p.mb.convertToSet(n||[]);p.mb.forEach(e,function(e){o.has(e)&&t.selectedValues.add(e)})}})},e.prototype.resetSelectionState=function(e){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=p.mb.convertToSet(e||[])},e.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",e}(),lb=(ab=function(e,t){return(ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ab(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ub=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},cb=function(e){function t(n,o,r,i){var a=e.call(this,t.TEMPLATE)||this;return a.value=n,a.params=o,a.translate=r,a.isSelected=i,a}return lb(t,e),t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.onValueChange(function(n){var o=n||!1;e.isSelected=o,e.dispatchEvent({type:t.EVENT_SELECTION_CHANGED,isSelected:o})})},t.prototype.toggleSelected=function(){this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected)},t.prototype.render=function(){var e=this.params.column,t=this.value,n=null;"function"==typeof t?t=t():n=this.getFormattedValue(this.params,e,t),this.params.showTooltips&&this.setTooltip(null!=n?n:t);var o={value:t,valueFormatted:n,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};this.renderCell(o)},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="setFilterValue",t.colDef=this.getComponentHolder(),t},t.prototype.getFormattedValue=function(e,t,n){return this.valueFormatterService.formatValue(t,null,null,n,e&&e.valueFormatter,!1)},t.prototype.renderCell=function(e){var t=this,n=this.userComponentFactory.newSetFilterCellRenderer(this.params,e);if(null!=n)n.then(function(e){e&&(t.eCheckbox.setLabel(e.getGui()),t.addDestroyFunc(function(){return t.destroyBean(e)}))});else{var o=null==e.valueFormatted?e.value:e.valueFormatted;this.eCheckbox.setLabel(null==o?this.translate("blanks"):o)}},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',ub([Object(p.k)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ub([Object(p.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ub([Object(p.X)("eCheckbox")],t.prototype,"eCheckbox",void 0),ub([p.S],t.prototype,"init",null),t}(p.v),pb={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},db=(ib=function(e,t){return(ib=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ib(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),hb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},fb=function(e){function t(){var t=e.call(this,"setFilter")||this;return t.valueModel=null,t.setFilterParams=null,t.virtualList=null,t.appliedModelValues=null,t}return db(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.positionableFeature=new p.R(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},t.prototype.handleKeyDown=function(t){if(e.prototype.handleKeyDown.call(this,t),!t.defaultPrevented)switch(t.which||t.keyCode){case p.J.SPACE:this.handleKeySpace(t);break;case p.J.ENTER:this.handleKeyEnter(t)}},t.prototype.handleKeySpace=function(e){if(this.eSetFilterList.contains(document.activeElement)&&this.virtualList){var t=this.virtualList.getLastFocusedRow();if(null!=t){var n=this.virtualList.getComponentAt(t);n&&(e.preventDefault(),n.toggleSelected())}}},t.prototype.handleKeyEnter=function(e){this.setFilterParams&&this.setFilterParams.excelMode&&(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModelAndRefresh=function(e){var t=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return t.refresh()}):p.g.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){this.setMiniFilter(null),e instanceof Array&&p.mb.doOnce(function(){return console.warn("AG Grid: The Set Filter Model is no longer an array and models as arrays are deprecated. Please check the docs on what the set filter model looks like. Future versions of AG Grid will have the array version of the model removed.")},"setFilter.modelAsArray");var t=null==e?null:e instanceof Array?e:e.values;return this.setModelAndRefresh(t)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?this.gridOptionsWrapper.isEnableOldSetFilterModel()?e:{values:e,filterType:this.getFilterType()}:null},t.prototype.getModel=function(){return e.prototype.getModel.call(this)},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&p.mb.areEqual(e.values,t.values)},t.prototype.setParams=function(t){var n=this;this.applyExcelModeOptions(t),e.prototype.setParams.call(this,t),this.checkSetFilterDeprecatedParams(t),this.setFilterParams=t,this.valueModel=new sb(t,function(e){return n.showOrHideLoadingScreen(e)},this.valueFormatterService,function(e){return n.translateForSetFilter(e)}),this.initialiseFilterBodyUi(),t.rowModel.getType()!==p.x.ROW_MODEL_TYPE_CLIENT_SIDE||t.values||t.suppressSyncValuesAfterDataChange||this.addEventListenersForDataChanges()},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},t.prototype.checkSetFilterDeprecatedParams=function(e){e.syncValuesLikeExcel&&p.mb.doOnce(function(){return console.warn("AG Grid: since version 22.x, the Set Filter param syncValuesLikeExcel is no longer used as this is the default behaviour. To turn this default behaviour off, use the param suppressSyncValuesAfterDataChange")},"syncValuesLikeExcel deprecated"),e.selectAllOnMiniFilter&&p.mb.doOnce(function(){return console.warn("AG Grid: since version 22.x, the Set Filter param selectAllOnMiniFilter is no longer used as this is the default behaviour.")},"selectAllOnMiniFilter deprecated"),e.suppressSyncValuesAfterDataChange&&p.mb.doOnce(function(){return console.warn("AG Grid: since version 23.1, the Set Filter param suppressSyncValuesAfterDataChange has been deprecated and will be removed in a future major release.")},"suppressSyncValuesAfterDataChange deprecated"),e.suppressRemoveEntries&&p.mb.doOnce(function(){return console.warn("AG Grid: since version 23.1, the Set Filter param suppressRemoveEntries has been deprecated and will be removed in a future major release.")},"suppressRemoveEntries deprecated")},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.addManagedListener(this.eventService,p.C.EVENT_ROW_DATA_UPDATED,function(){return e.syncAfterDataChange()}),this.addManagedListener(this.eventService,p.C.EVENT_CELL_VALUE_CHANGED,function(t){e.setFilterParams&&t.column===e.setFilterParams.column&&e.syncAfterDataChange()})},t.prototype.syncAfterDataChange=function(e,t){var n=this;if(void 0===e&&(e=!0),void 0===t&&(t=!0),!this.valueModel)throw new Error("Value model has not been created.");var o=p.g.resolve();return e?o=this.valueModel.refreshValues(t):t||(o=this.valueModel.setModel(null)),o.then(function(){n.refresh(),n.onBtApply(!1,!0)})},t.prototype.setLoading=function(e){p.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, setLoading has been deprecated. The loading screen is displayed automatically when the set filter is retrieving values.")},"setFilter.setLoading"),this.showOrHideLoadingScreen(e)},t.prototype.showOrHideLoadingScreen=function(e){p.mb.setDisplayed(this.eFilterLoading,e)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.virtualList=this.createBean(new p.lb("filter")),n=this.getRefElement("eSetFilterList");n&&n.appendChild(t.getGui());var o,r=this.setFilterParams.cellHeight;null!=r&&t.setRowHeight(r),t.setComponentCreator(function(t){return e.createSetListItem(t)}),o=this.setFilterParams.suppressSelectAll?new gb(this.valueModel):new mb(this.valueModel,function(){return e.isSelectAllSelected()}),t.setModel(o)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.createSetListItem=function(e){var n,o=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return e===t.SELECT_ALL_VALUE?((n=this.createBean(new cb(function(){return o.getSelectAllLabel()},this.setFilterParams,function(e){return o.translateForSetFilter(e)},this.isSelectAllSelected()))).addEventListener(cb.EVENT_SELECTION_CHANGED,function(e){return o.onSelectAll(e.isSelected)}),n):((n=this.createBean(new cb(e,this.setFilterParams,function(e){return o.translateForSetFilter(e)},this.valueModel.isValueSelected(e)))).addEventListener(cb.EVENT_SELECTION_CHANGED,function(t){return o.onItemSelected(e,t.isSelected)}),n)},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.eMiniFilter,n=this.gridOptionsWrapper.getLocaleTextFunc();p.mb.setDisplayed(t.getGui(),!this.setFilterParams.suppressMiniFilter),t.setValue(this.valueModel.getMiniFilter()),t.onValueChange(function(){return e.onMiniFilterInput()}),t.setInputAriaLabel(n("ariaSearchFilterValues","Search filter values")),this.addManagedListener(t.getInputElement(),"keypress",function(t){return e.onMiniFilterKeyPress(t)})},t.prototype.afterGuiAttached=function(t){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");e.prototype.afterGuiAttached.call(this,t),this.refreshVirtualList(),this.setFilterParams.excelMode&&this.resetUiToActiveModel();var n=this.eMiniFilter;n.setInputPlaceholder(this.translateForSetFilter("searchOoo")),t&&t.suppressFocus||n.getFocusableElement().focus();var o,r=!(!t||"floatingFilter"!==t.container);o=this.gridOptionsWrapper.isEnableRtl()?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0},r?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(o)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},t.prototype.applyModel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var t=e.prototype.applyModel.call(this),n=this.getModel();return this.appliedModelValues=n?p.mb.reduce(n.values,function(e,t){return e[String(t)]=!0,e},{}):null,t},t.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},t.prototype.doesFilterPass=function(e){var t=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var n=this.setFilterParams,o=n.colDef.keyCreator,r=(0,n.valueGetter)(e.node);return o&&(r=o({value:r})),r=p.mb.makeNull(r),Array.isArray(r)?p.mb.some(r,function(e){return!0===t.appliedModelValues[p.mb.makeNull(e)]}):!0===this.appliedModelValues[r]},t.prototype.onNewRowsLoaded=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getValuesType(),t=this.isNewRowsActionKeep();this.syncAfterDataChange(e===Lv.TAKEN_FROM_GRID_VALUES,t)},t.prototype.setFilterValues=function(e){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e,this.isNewRowsActionKeep()).then(function(){t.refresh(),t.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(Lv.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange(!0,this.isNewRowsActionKeep())},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(){return e.refresh()})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setMiniFilter(this.eMiniFilter.getValue())&&(this.setFilterParams.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange())},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode?null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()):this.refresh(),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;p.mb.setDisplayed(this.eNoMatches,e),p.mb.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetUiToActiveModel=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return e.onUiChanged(!1,"prevent")})},t.prototype.onMiniFilterKeyPress=function(e){!p.mb.isKeyPressed(e,p.J.ENTER)||this.setFilterParams&&this.setFilterParams.excelMode||this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){if(void 0===e&&(e=!0),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var t=this;null!=e&&window.setTimeout(function(){if(!t.virtualList)throw new Error("Virtual list has not been created.");t.isAlive()&&t.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var t=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(t)},t.prototype.onItemSelected=function(e,t){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");t?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var n=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(n)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.selectEverything=function(){if(p.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, selectEverything has been deprecated. Please use setModel instead.")},"setFilter.selectEverything"),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.selectAllMatchingMiniFilter(),this.refresh()},t.prototype.selectNothing=function(){if(p.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, selectNothing has been deprecated. Please use setModel instead.")},"setFilter.selectNothing"),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.deselectAllMatchingMiniFilter(),this.refresh()},t.prototype.unselectValue=function(e){if(p.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, unselectValue has been deprecated. Please use setModel instead.")},"setFilter.unselectValue"),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.deselectValue(e),this.refresh()},t.prototype.selectValue=function(e){if(p.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, selectValue has been deprecated. Please use setModel instead.")},"setFilter.selectValue"),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.selectValue(e),this.refresh()},t.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},t.prototype.isValueSelected=function(e){if(p.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, isValueSelected has been deprecated. Please use getModel instead.")},"setFilter.isValueSelected"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.isValueSelected(e)},t.prototype.isEverythingSelected=function(){if(p.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, isEverythingSelected has been deprecated. Please use getModel instead.")},"setFilter.isEverythingSelected"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.isEverythingVisibleSelected()},t.prototype.isNothingSelected=function(){if(p.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, isNothingSelected has been deprecated. Please use getModel instead.")},"setFilter.isNothingSelected"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.isNothingVisibleSelected()},t.prototype.getUniqueValueCount=function(){if(p.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, getUniqueValueCount has been deprecated. Please use getValues instead.")},"setFilter.getUniqueValueCount"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.getUniqueValueCount()},t.prototype.getUniqueValue=function(e){if(p.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, getUniqueValue has been deprecated. Please use getValues instead.")},"setFilter.getUniqueValue"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.getUniqueValue(e)},t.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},t.prototype.translateForSetFilter=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,pb[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),e.prototype.destroy.call(this)},t.SELECT_ALL_VALUE="__AG_SELECT_ALL__",hb([Object(p.X)("eMiniFilter")],t.prototype,"eMiniFilter",void 0),hb([Object(p.X)("eFilterLoading")],t.prototype,"eFilterLoading",void 0),hb([Object(p.X)("eSetFilterList")],t.prototype,"eSetFilterList",void 0),hb([Object(p.X)("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),hb([Object(p.k)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(p.V),gb=function(){function e(e){this.model=e}return e.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},e.prototype.getRow=function(e){return this.model.getDisplayedValue(e)},e.prototype.isRowSelected=function(e){return this.model.isValueSelected(this.getRow(e))},e}(),mb=function(){function e(e,t){this.model=e,this.isSelectAllSelected=t}return e.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},e.prototype.getRow=function(e){return 0===e?fb.SELECT_ALL_VALUE:this.model.getDisplayedValue(e-1)},e.prototype.isRowSelected=function(e){return 0===e?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(e))},e}(),yb=(rb=function(e,t){return(rb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}rb(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),vb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},bb=function(e){function t(){var t=e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return t.availableValuesListenerAdded=!1,t}return yb(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" "+n("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},t.prototype.onParentModelChanged=function(e){this.lastKnownModel=e,this.updateFloatingFilterText()},t.prototype.addAvailableValuesListener=function(){var e=this;this.params.parentFilterInstance(function(t){var n=t.getValueModel();n&&e.addManagedListener(n,sb.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(){var e=this;if(this.lastKnownModel){this.availableValuesListenerAdded||this.addAvailableValuesListener();var t=this.lastKnownModel instanceof Array?this.lastKnownModel:this.lastKnownModel.values;t?this.params.parentFilterInstance(function(n){var o=n.getValueModel();if(o){var r=p.mb.filter(t,function(e){return o.isValueAvailable(e)}),i=e.gridOptionsWrapper.getLocaleTextFunc(),a=p.mb.map(r,function(t){var n=e.params,o=e.valueFormatterService.formatValue(n.column,null,null,t,n.filterParams.valueFormatter,!1),r=null!=o?o:t;return null==r?i("blanks",pb.blanks):r}),s=a.length>10?a.slice(0,10).concat("..."):a,l="("+a.length+") "+s.join(",");e.eFloatingFilterText.setValue(l)}}):this.eFloatingFilterText.setValue("")}else this.eFloatingFilterText.setValue("")},vb([Object(p.X)("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),vb([Object(p.k)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),vb([Object(p.k)("columnModel")],t.prototype,"columnModel",void 0),t}(p.v),Cb={moduleName:p.L.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:fb},{componentName:"agSetColumnFloatingFilter",componentClass:bb}],dependantModules:[ee]},wb=(ob=function(e,t){return(ob=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ob(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ob=function(e){function t(){var t=e.call(this)||this;return t.allComponents={},t}return wb(t,e),t.prototype.registerStatusPanel=function(e,t){this.allComponents[e]=t},t.prototype.getStatusPanel=function(e){return this.allComponents[e]},function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([Object(p.m)("statusBarService")],t)}(p.n),xb=(nb=function(e,t){return(nb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}nb(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Sb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Pb=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return xb(t,e),t.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var e=this.gridOptions.statusBar.statusPanels.filter(function(e){return"left"===e.align});this.createAndRenderComponents(e,this.eStatusBarLeft);var t=this.gridOptions.statusBar.statusPanels.filter(function(e){return"center"===e.align});this.createAndRenderComponents(t,this.eStatusBarCenter);var n=this.gridOptions.statusBar.statusPanels.filter(function(e){return!e.align||"right"===e.align});this.createAndRenderComponents(n,this.eStatusBarRight)}else this.setDisplayed(!1)},t.prototype.createAndRenderComponents=function(e,t){var n=this,o=[];e.forEach(function(e){var t={api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi(),context:n.gridOptionsWrapper.getContext()},r=n.userComponentFactory.newStatusPanelComponent(e,t);r&&o.push({key:e.key||e.statusPanel,promise:r})}),p.g.all(o.map(function(e){return e.promise})).then(function(){o.forEach(function(e){e.promise.then(function(o){var r=function(){n.getContext().destroyBean(o)};n.isAlive()?(n.statusBarService.registerStatusPanel(e.key,o),t.appendChild(o.getGui()),n.addDestroyFunc(r)):r()})})})},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right"></div>\n        </div>',Sb([Object(p.k)("gridOptions")],t.prototype,"gridOptions",void 0),Sb([Object(p.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Sb([Object(p.k)("statusBarService")],t.prototype,"statusBarService",void 0),Sb([Object(p.X)("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),Sb([Object(p.X)("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),Sb([Object(p.X)("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),Sb([p.S],t.prototype,"postConstruct",null),t}(p.v),_b=(tb=function(e,t){return(tb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}tb(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Eb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Tb=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return _b(t,e),t.prototype.setLabel=function(e,t){this.setDisplayed(!1);var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=n(e,t)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',Eb([Object(p.X)("eLabel")],t.prototype,"eLabel",void 0),Eb([Object(p.X)("eValue")],t.prototype,"eValue",void 0),t}(p.v),Ab=(eb=function(e,t){return(eb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}eb(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Mb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Db=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ab(t,e),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,p.C.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=p.mb.formatNumberCommas(this.getFilteredRowCountValue()),t=p.mb.formatNumberCommas(this.getTotalRowCount());if(e===t)this.setValue(e);else{var n=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(e+" "+n("of","of")+" "+t)}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(t){t.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(t){t.group||e++}),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},Mb([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Mb([p.S],t.prototype,"postConstruct",null),t}(Tb),kb=($v=function(e,t){return($v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}$v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Rb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ib=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kb(t,e),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,p.C.EVENT_MODEL_UPDATED,e)}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),t=this.getFilteredRowCountValue();this.setValue(p.mb.formatNumberCommas(t)),this.setDisplayed(e!==t)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(t){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(t){t.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},Rb([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Rb([p.S],t.prototype,"postConstruct",null),t}(Tb),Nb=(Zv=function(e,t){return(Zv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Zv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Fb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Lb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nb(t,e),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,p.C.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){this.setValue(p.mb.formatNumberCommas(this.getRowCountValue()))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(t){return e+=1}),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},Fb([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Fb([p.S],t.prototype,"postConstruct",null),t}(Tb),jb=(Qv=function(e,t){return(Qv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Qv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Gb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Vb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jb(t,e),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length;this.setValue(p.mb.formatNumberCommas(e)),this.setDisplayed(e>0);var t=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,p.C.EVENT_MODEL_UPDATED,t),this.addManagedListener(this.eventService,p.C.EVENT_SELECTION_CHANGED,t)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length;this.setValue(p.mb.formatNumberCommas(e)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},Gb([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Gb([p.S],t.prototype,"postConstruct",null),t}(Tb),Bb=(Jv=function(e,t){return(Jv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Jv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Wb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},zb=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Bb(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,p.C.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,p.C.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(){},t.prototype.setAggregationComponentValue=function(e,t,n){var o=this.getAggregationValueComponent(e);p.mb.exists(o)&&o&&(o.setValue(p.mb.formatNumberTwoDecimalPlacesAndCommas(t)),o.setDisplayed(n))},t.prototype.getAggregationValueComponent=function(e){var t=e+"AggregationComp",n=null,o=p.mb.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?p.mb.find(this.gridOptions.statusBar.statusPanels,function(e){return"agAggregationComponent"===e.statusPanel}):null;return p.mb.exists(o)&&o?(!p.mb.exists(o.statusPanelParams)||p.mb.exists(o.statusPanelParams)&&p.mb.exists(o.statusPanelParams.aggFuncs)&&p.mb.exists(p.mb.find(o.statusPanelParams.aggFuncs,function(t){return t===e})))&&(n=this[t]):n=this[t],n},t.prototype.onRangeSelectionChanged=function(){var e=this,t=this.rangeService?this.rangeService.getCellRanges():void 0,n=0,o=0,r=0,i=null,a=null,s={};t&&!p.mb.missingOrEmpty(t)&&t.forEach(function(t){for(var l=e.rangeService.getRangeStartRow(t),u=e.rangeService.getRangeEndRow(t);!p.mb.missing(l)&&l&&!e.rowPositionUtils.before(u,l)&&l&&t.columns;)t.columns.forEach(function(t){if(null!==l){var u=e.cellPositionUtils.createId({rowPinned:l.rowPinned,column:t,rowIndex:l.rowIndex});if(!s[u]){s[u]=!0;var c=e.rowRenderer.getRowNode(l);if(!p.mb.missing(c)){var d=e.valueService.getValue(t,c);p.mb.missing(d)||""===d||(d.value&&(d=d.value),"string"==typeof d&&(d=Number(d)),"number"!=typeof d||isNaN(d)||(n+=d,(null===a||d>a)&&(a=d),(null===i||d<i)&&(i=d),r++),o++)}}}}),l=e.cellNavigationService.getRowBelow(l)});var l=r>1;this.setAggregationComponentValue("count",o,o>1),this.setAggregationComponentValue("sum",n,l),this.setAggregationComponentValue("min",i,l),this.setAggregationComponentValue("max",a,l),this.setAggregationComponentValue("avg",n/r,l)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',Wb([Object(p.O)("rangeService")],t.prototype,"rangeService",void 0),Wb([Object(p.k)("valueService")],t.prototype,"valueService",void 0),Wb([Object(p.k)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Wb([Object(p.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),Wb([Object(p.k)("gridOptions")],t.prototype,"gridOptions",void 0),Wb([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Wb([Object(p.k)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Wb([Object(p.k)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Wb([Object(p.X)("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),Wb([Object(p.X)("countAggregationComp")],t.prototype,"countAggregationComp",void 0),Wb([Object(p.X)("minAggregationComp")],t.prototype,"minAggregationComp",void 0),Wb([Object(p.X)("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),Wb([Object(p.X)("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),Wb([p.S],t.prototype,"postConstruct",null),t}(p.v),Ub={moduleName:p.L.StatusBarModule,beans:[Ob],agStackComponents:[{componentName:"AgStatusBar",componentClass:Pb},{componentName:"AgNameValue",componentClass:Tb}],userComponents:[{componentName:"agAggregationComponent",componentClass:zb},{componentName:"agSelectedRowCountComponent",componentClass:Vb},{componentName:"agTotalRowCountComponent",componentClass:Lb},{componentName:"agFilteredRowCountComponent",componentClass:Ib},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:Db}],dependantModules:[ee]},Hb=(Yv=function(e,t){return(Yv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Yv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Kb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Xb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.firstRow=-1,t.lastRow=-1,t.rowCount=-1,t.rowNodesByIndex={},t}return Hb(t,e),t.prototype.ensureRowHeightsValid=function(e,t,n,o){return!1},t.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,p.C.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},t.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.calculateFirstRow=function(e){var t=this.gridOptionsWrapper.getViewportRowModelBufferSize(),n=this.gridOptionsWrapper.getViewportRowModelPageSize(),o=e-t;return o<0?0:Math.floor(o/n)*n},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var t=this.gridOptionsWrapper.getViewportRowModelBufferSize(),n=this.gridOptionsWrapper.getViewportRowModelPageSize(),o=Math.ceil((e+t)/n)*n;return Math.min(o,this.rowCount-1)},t.prototype.onViewportChanged=function(e){var t=this.calculateFirstRow(e.firstRow),n=this.calculateLastRow(e.lastRow);this.firstRow===t&&this.lastRow===n||(this.firstRow=t,this.lastRow=n,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(t){var n=parseInt(t,10);(n<e.firstRow||n>e.lastRow)&&delete e.rowNodesByIndex[n]})},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=0,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return p.x.ROW_MODEL_TYPE_VIEWPORT},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var t=void 0;return this.forEachNode(function(n){n.id===e&&(t=n)}),t},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,t){var n=p.mb.missing(e)?0:e.rowIndex,o=t.rowIndex;if(n<this.firstRow||n>this.lastRow||o<this.firstRow||o>this.lastRow)return[];for(var r=[],i=n<=o?o:n,a=n<=o?n:o;a<=i;a++)r.push(this.rowNodesByIndex[a]);return r},t.prototype.forEachNode=function(e){var t=this,n=0;Object.keys(this.rowNodesByIndex).forEach(function(o){var r=parseInt(o,10);e(t.rowNodesByIndex[r],n),n++})},t.prototype.setRowData=function(e){var t=this;p.mb.iterateObject(e,function(e,n){var o=parseInt(e,10);if(o>=t.firstRow&&o<=t.lastRow){var r=t.rowNodesByIndex[o];p.mb.missing(r)&&(r=t.createBlankRowNode(o),t.rowNodesByIndex[o]=r),r.setDataAndId(n,o.toString())}})},t.prototype.createBlankRowNode=function(e){var t=new p.Z;return this.createBean(t),t.setRowHeight(this.rowHeight),t.setRowTop(this.rowHeight*e),t.setRowIndex(e),t},t.prototype.setRowCount=function(e,t){void 0===t&&(t=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEvent({type:p.C.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:t,animate:!1}))},t.prototype.isRowPresent=function(e){return!1},Kb([Object(p.k)("gridApi")],t.prototype,"gridApi",void 0),Kb([Object(p.k)("columnApi")],t.prototype,"columnApi",void 0),Kb([Object(p.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),Kb([p.S],t.prototype,"init",null),Kb([p.U],t.prototype,"destroyDatasource",null),Kb([Object(p.m)("rowModel")],t)}(p.n);U.concat([re,wn,Fo,ir,Cy,_y,qy,nv,by,lv,Ht,Xv,Cb,vn,Ub,{moduleName:p.L.ViewportRowModelModule,rowModels:{viewport:Xb},dependantModules:[ee]}]),p.M.registerModules([d.a,wn,ir,qy,nv,Cb]);var qb=function(){},Yb=n("pMnS"),Jb=n("g7AK"),Qb=n("fF59"),Zb=n("BJWQ"),$b=n("PybA"),eC=n("TfA5"),tC=(n("ciZX"),n("9XGM")),nC=n("Z725"),oC=n("FQWp"),rC=n("SVse"),iC=function(){function e(e,t,n,o,r){this.sapService=e,this._router=t,this.toaster=n,this.modalService=o,this.confirmationService=r,this.metricsList=[],this.size="sm",this.formLists=null,this.getRowStyle=function(e){if(e.node.rowIndex%2!=0)return{background:"#F8F8F8"}},this.columnDefs=[{headerName:"SAP Configuration Name",wrapText:!0,autoHeight:!0,field:"name",minWidth:400},{headerName:"Approval Status",field:"isApproved",minWidth:200,valueGetter:function(e){return e.data.isApproved?"Approved":"Pending"}},{headerName:"Configuration Status",wrapText:!0,minWidth:200,valueGetter:function(e){return e.data.isApproved?e.data.isActive?"Activated":"Deactivated":""}},{headerName:"Last Read",headerTooltip:"Last Read",field:"lastSyncTimestamp",minWidth:205,comparator:function(e,t,n,o,r){return n||o?n.data.lastSyncTimestamp===o.data.lastSyncTimestamp?0:!n.data.lastSyncTimestamp&&o.data.lastSyncTimestamp?-1:n.data.lastSyncTimestamp&&!o.data.lastSyncTimestamp?1:n.data.lastSyncTimestamp>o.data.lastSyncTimestamp?1:-1:0},valueGetter:function(e){return e.data.lastSyncTimestamp?Object(rC.formatDate)(e.data.lastSyncTimestamp,"medium","en-US"):""}},{headerName:"Edit",sortable:!1,filter:!1,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.onBtnEditClick.bind(this),label:"",imgUrl:"assets/img/edit.svg"},maxWidth:160},{headerName:"Enable/Disable",sortable:!1,filter:!1,cellRendererSelector:function(e){if(e.data.isApproved)return{component:"buttonRenderer",params:{value:"",imgUrl:e.data.isActive?"assets/img/checkmark.svg":"assets/img/error.svg"}}},cellRendererParams:{onClick:this.onBtnEnableDisableClick.bind(this)}},{headerName:"Form Data",sortable:!1,filter:!1,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.onBtnViewFormClick.bind(this),label:"",imgUrl:"assets/img/grip.svg"},maxWidth:160}],this.defaultColDef={resizable:!0,sortable:!0,filter:!0,flex:1,minWidth:120},this.sideBar={toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivotMode:!0,suppressPivots:!0}},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel",minWidth:180,maxWidth:400,width:250}],position:"right",defaultToolPanel:"filters"},this.frameworkComponents={buttonRenderer:oC.a}}var t=e.prototype;return t.onBtnViewFormClick=function(e){localStorage.setItem("formId",JSON.stringify(e.rowData.sapForm)),this._router.navigateByUrl("/forms/linked-data-listing")},t.onBtnEnableDisableClick=function(e){this.disablegroup(e.rowData)},t.onBtnEditClick=function(e){this._router.navigate(["sap/edit/"+e.rowData._id])},t.onGridReady=function(e){this.gridApi=e.api,this.gridApi.ParentComponent=this,this.gridColumnApi=e.columnApi,this.gridApi.closeToolPanel(),this.getForms("",0),window.addEventListener("resize",function(){setTimeout(function(){e.api.sizeColumnsToFit()})}),setTimeout(function(){e.api.sizeColumnsToFit()},2e3)},t.ngOnDestroy=function(){this.sub&&this.sub.unsubscribe()},t.ngOnInit=function(){},t.getForms=function(e,t,n,o){var r=this;this.sapService.getFormData(e,1e3,0,n,o).subscribe(function(e){r.formLists=e.response.records},function(e){r.formLists=[]})},t.disablegroup=function(e){var t=this,n=e._id;e.isActive?(this.sub=this.confirmationService.getData().subscribe(function(o){o?(t.sapService.disableEnableSAPConfiguration(n).subscribe(function(n){t.toaster.success(e.isActive?"Deactivated Successfully":"Activated Successfully"),e.isActive=!e.isActive,t.getForms("",0)}),t.confirmationService.setData(!1)):t.sub&&t.sub.unsubscribe()}),this.modalService.create({component:tC.a,inputs:{modalText:"De-activating this SAP configuration will also stop data synchronization for this SAP form.\n\n                       4E will not import SAP data for this configuration this point onwards.\n\n                       Are you sure you want to de-activate?"}})):this.sapService.disableEnableSAPConfiguration(n).subscribe(function(n){t.toaster.success(e.isActive?"Deactivated Successfully":"Activated Successfully"),e.isActive=!e.isActive,t.getForms("",0)})},t.onSelectedAddAction=function(){this._router.navigate(["sap/add"])},e}(),aC=n("iInd"),sC=n("EApP"),lC=n("PJ54"),uC=c["\u0275crt"]({encapsulation:0,styles:[[".config-listing-container[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px;padding-top:2rem;background-color:#fff;height:98%;width:100%;display:flex;flex-direction:column}.config-listing-container[_ngcontent-%COMP%]   .bx--btn--danger[_ngcontent-%COMP%]{padding-right:unset}.config-listing-container[_ngcontent-%COMP%]   .bx--btn--danger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:5px}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{margin-right:10px}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{height:48px;flex:auto;margin-right:10px}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]{background-color:#f3f3f3!important;font-size:17px;font-weight:600;min-height:unset}.config-listing-container[_ngcontent-%COMP%]   .c-ag-grid[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;width:100%;height:100%}"]],data:{}});function cC(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,16,"div",[["class","config-listing-container"]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,10,"div",[["class","info-controls"]],null,null,null,null,null)),(e()(),c["\u0275eld"](2,0,null,null,2,"div",[["class","label"]],null,null,null,null,null)),(e()(),c["\u0275eld"](3,0,null,null,1,"ibm-tile",[["class","bx--tile"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["SAP Configuration"])),(e()(),c["\u0275eld"](5,0,null,null,6,"div",[["class","controls"]],null,null,null,null,null)),(e()(),c["\u0275eld"](6,0,null,null,5,"button",[["ibmButton","danger"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.onSelectedAddAction()&&o),o},null,null)),c["\u0275did"](7,16384,null,0,Jb.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),c["\u0275eld"](8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Add Configuration"])),(e()(),c["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),c["\u0275did"](11,4210688,null,0,Qb.a,[c.ElementRef],null,null),(e()(),c["\u0275eld"](12,16777216,null,null,4,"ag-grid-angular",[["class","ag-theme-alpine c-ag-grid"]],null,[[null,"gridReady"]],function(e,t,n){var o=!0;return"gridReady"===t&&(o=!1!==e.component.onGridReady(n)&&o),o},Zb.b,Zb.a)),c["\u0275prd"](512,null,$b.e,$b.e,[c.NgZone]),c["\u0275prd"](512,null,$b.d,$b.d,[]),c["\u0275did"](15,4898816,[["agGrid",4]],1,$b.a,[c.ElementRef,c.ViewContainerRef,$b.e,$b.d,c.ComponentFactoryResolver],{rowData:[0,"rowData"],columnDefs:[1,"columnDefs"],frameworkComponents:[2,"frameworkComponents"],defaultColDef:[3,"defaultColDef"],sideBar:[4,"sideBar"],getRowStyle:[5,"getRowStyle"],pagination:[6,"pagination"],paginationAutoPageSize:[7,"paginationAutoPageSize"]},{gridReady:"gridReady"}),c["\u0275qud"](603979776,1,{columns:1})],function(e,t){var n=t.component;e(t,7,0,"danger"),e(t,15,0,n.formLists,n.columnDefs,n.frameworkComponents,n.defaultColDef,n.sideBar,n.getRowStyle,!0,!0)},function(e,t){e(t,6,1,[c["\u0275nov"](t,7).baseClass,c["\u0275nov"](t,7).primaryButton,c["\u0275nov"](t,7).secondaryButton,c["\u0275nov"](t,7).tertiaryButton,c["\u0275nov"](t,7).ghostButton,c["\u0275nov"](t,7).dangerButton,c["\u0275nov"](t,7).dangerPrimaryButton,c["\u0275nov"](t,7).skeleton,c["\u0275nov"](t,7).smallSize,c["\u0275nov"](t,7).toolbarAction,c["\u0275nov"](t,7).overflowMenu])})}var pC=c["\u0275ccf"]("app-sap-forms-list",iC,function(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,1,"app-sap-forms-list",[],null,null,null,cC,uC)),c["\u0275did"](1,245760,null,0,iC,[eC.a,aC.o,sC.j,lC.a,nC.a],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),dC=n("XdKZ"),hC=n("MqE1"),fC=n("tX4/"),gC=n("bl9C"),mC=n("BOF4"),yC=function(){function e(e,t,n,o,r){this._router=e,this.formsService=t,this.modalService=n,this.confirmationService=o,this._toastrService=r,this.rowData=null,this.defaultColDef={resizable:!0,sortable:!0,filter:!0,flex:1,minWidth:120},this.sideBar={toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivotMode:!0,suppressPivots:!0}},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel",minWidth:180,maxWidth:400,width:250}],position:"right",defaultToolPanel:"filters"},this.getRowStyle=function(e){if(e.node.rowIndex%2!=0)return{background:"#F8F8F8"}},this.columnDefs=[{headerName:"Name",headerTooltip:"Form Name",wrapText:!0,autoHeight:!0,field:"formName",minWidth:400},{headerName:"Metrics",headerTooltip:"Metrics",wrapText:!0,field:"metrics",minWidth:300,sortable:!1},{headerName:"Data Count",headerTooltip:"Data Entries Count",type:"numericColumn",field:"submissionCount",minWidth:140},{headerName:"Managed By",headerTooltip:"Managed By",field:"managedBy",sortable:!1},{headerName:"Last Read",headerTooltip:"Last Read",field:"lastSyncTimestamp",minWidth:205,comparator:function(e,t,n,o,r){return n||o?n.data.lastSyncTimestamp===o.data.lastSyncTimestamp?0:!n.data.lastSyncTimestamp&&o.data.lastSyncTimestamp?-1:n.data.lastSyncTimestamp&&!o.data.lastSyncTimestamp?1:n.data.lastSyncTimestamp>o.data.lastSyncTimestamp?1:-1:0},valueGetter:function(e){return e.data.lastSyncTimestamp?Object(rC.formatDate)(e.data.lastSyncTimestamp,"medium","en-US"):""}},{headerName:"Approval",headerTooltip:"Approval Status",field:"approvalStatus",minWidth:130,valueGetter:function(e){return e.data.isApproved?"Approved":"Pending"}},{headerName:"Form Status",headerTooltip:"Form Status",field:"formStatus",minWidth:140,valueGetter:function(e){return e.data.isApproved?"Active":"Inactive"}},{headerName:"Actions",headerTooltip:"More Options",maxWidth:100,resizable:!1,sortable:!1,filter:!1,cellRenderer:function(e){return' <img alt="More Option" src="assets/img/settings.svg" style="width:20px"/>'},onCellClicked:function(e){e.api.rowRenderer.getRenderedNodes()[e.rowIndex].rowRenderer.beans.contextMenuFactory.showMenu(e.node,e.column,e.value,e.event)}}]}var t=e.prototype;return t.getContextMenuItems=function(e){var t=[{name:"View Data",tooltip:"View SAP form data",action:function(){e.api.ParentComponent.onDataListing(e.node.data)},icon:'<img src="assets/img/grip.svg" style="width:20px"/>'},{name:"Form Filters",tooltip:"View SAP filters & filter data",action:function(){e.api.ParentComponent.onOpenFormFilter(e.node.data)},icon:'<img src="assets/img/filter.svg" style="width:20px"/>'}];return e.api.ParentComponent.isAdmin&&t.push({name:"Mark Master Data",action:function(){e.api.ParentComponent._router.navigateByUrl("/master-data/"+e.node.data.formId)},tooltip:"Mark master data in form",icon:'<img src="assets/img/connect.svg" style="width:20px"/>'}),t.push({name:"Form Preview",action:function(){e.api.ParentComponent.modalService.create({component:fC.a,inputs:{formData:e.node.data.formElements}})},tooltip:"Preview SAP Form",icon:'<img src="assets/img/eye.svg" style="width:20px" />'}),t.push({name:"Edit SAP Config",tooltip:"Edit SAP Configuration",action:function(){e.api.ParentComponent.onSAPConfigEdit(e.node.data.sapConfigId)},icon:'<img src="assets/img/settings--adjust.svg" style="width:20px"/>'}),t},t.onGridReady=function(e){this.gridApi=e.api,this.gridApi.ParentComponent=this,this.gridColumnApi=e.columnApi,this.gridApi.closeToolPanel(),this.getForms(0),window.addEventListener("resize",function(){setTimeout(function(){e.api.sizeColumnsToFit()})}),setTimeout(function(){e.api.sizeColumnsToFit()},2e3)},t.autoSizeAll=function(e){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t,e)},t.ngOnInit=function(){var e=localStorage.getItem(gC.a.cookieName),t=mC(e);this.isAdmin=t.isAdmin,this.logInEmployeeId=localStorage.getItem("E_Id")},t.populateAgGrid=function(e){var t=this,n=[];e.forEach(function(e){(e.userPermissions.read||e.userPermissions.edit||e.userPermissions.fill)&&("-"==e.lastSyncTimestamp&&(e.lastSyncTimestamp=void 0),e.managedBy=t.getManagedBy(e.managedByUsers,e.managedByDepartments,e.managedByGroups),n.push(e))}),this.rowData=n},t.getForms=function(e){var t=this;this.formsService.getSAPForms(null,(1e3*e).toString(),"1000",null,null).subscribe(function(e){e&&e.success&&t.populateAgGrid(e.response.forms)},function(e){t.rowData=[],console.error(e)})},t.onSAPConfigEdit=function(e){this._router.navigate(["sap","edit",e])},t.onDataListing=function(e){localStorage.setItem("formId",JSON.stringify(e)),this._router.navigateByUrl("/forms/linked-data-listing")},t.onOpenFormFilter=function(e){localStorage.setItem("formId",JSON.stringify(e)),this._router.navigateByUrl("/forms/linked-data-listing/sap/filters")},t.ngOnDestroy=function(){},t.fillForm=function(e){localStorage.setItem("formId",JSON.stringify(e)),this._router.navigateByUrl("/forms/fill/"+e._id)},t.getManagedBy=function(e,t,n){var o="",r=(e||[]).map(function(e){return(e.firstname?e.firstname:"")+" "+(e.lastname?e.lastname:"")}),i=(t||[]).map(function(e){return e.name}),a=(n||[]).map(function(e){return e.name});return o=r.join(","),i.length>0&&(o+=",",o+=i.join(",")),a.length>0&&(o+=",",o+=a.join(",")),o},t.exportForms=function(){this._router.navigate(["forms/export-form"])},e}(),vC=c["\u0275crt"]({encapsulation:0,styles:[[".forms-listing-container[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px;padding-top:2rem;background-color:#fff;height:98%;width:100%;display:flex;flex-direction:column}.forms-listing-container[_ngcontent-%COMP%]   .bx--btn--danger[_ngcontent-%COMP%]{padding-right:unset}.forms-listing-container[_ngcontent-%COMP%]   .bx--btn--danger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:5px}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{margin-right:10px}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{height:48px;flex:auto;margin-right:10px}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]{background-color:#f3f3f3!important;font-size:17px;font-weight:600;min-height:unset}.forms-listing-container[_ngcontent-%COMP%]   .c-ag-grid[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;width:100%;height:100%}"]],data:{}});function bC(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,17,"div",[["class","forms-listing-container"]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,11,"div",[["class","info-controls"]],null,null,null,null,null)),(e()(),c["\u0275eld"](2,0,null,null,2,"div",[["class","label"]],null,null,null,null,null)),(e()(),c["\u0275eld"](3,0,null,null,1,"ibm-tile",[["class","bx--tile"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["SAP Forms"])),(e()(),c["\u0275eld"](5,0,null,null,7,"div",[["class","controls"]],null,null,null,null,null)),(e()(),c["\u0275eld"](6,0,null,null,6,"button",[["ibmButton","danger"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.exportForms()&&o),o},null,null)),c["\u0275did"](7,16384,null,0,Jb.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),c["\u0275eld"](8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Export Forms Data "])),(e()(),c["\u0275ted"](-1,null,["\xa0\xa0 "])),(e()(),c["\u0275eld"](11,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconDocumentExport20",""]],null,null,null,null,null)),c["\u0275did"](12,4210688,null,0,dC.a,[c.ElementRef],null,null),(e()(),c["\u0275eld"](13,16777216,null,null,4,"ag-grid-angular",[["class","ag-theme-alpine c-ag-grid"]],null,[[null,"gridReady"]],function(e,t,n){var o=!0;return"gridReady"===t&&(o=!1!==e.component.onGridReady(n)&&o),o},Zb.b,Zb.a)),c["\u0275prd"](512,null,$b.e,$b.e,[c.NgZone]),c["\u0275prd"](512,null,$b.d,$b.d,[]),c["\u0275did"](16,4898816,[["agGrid",4]],1,$b.a,[c.ElementRef,c.ViewContainerRef,$b.e,$b.d,c.ComponentFactoryResolver],{rowData:[0,"rowData"],columnDefs:[1,"columnDefs"],defaultColDef:[2,"defaultColDef"],sideBar:[3,"sideBar"],getRowStyle:[4,"getRowStyle"],getContextMenuItems:[5,"getContextMenuItems"],pagination:[6,"pagination"],paginationAutoPageSize:[7,"paginationAutoPageSize"]},{gridReady:"gridReady"}),c["\u0275qud"](603979776,1,{columns:1})],function(e,t){var n=t.component;e(t,7,0,"danger"),e(t,16,0,n.rowData,n.columnDefs,n.defaultColDef,n.sideBar,n.getRowStyle,n.getContextMenuItems,!0,!0)},function(e,t){e(t,6,1,[c["\u0275nov"](t,7).baseClass,c["\u0275nov"](t,7).primaryButton,c["\u0275nov"](t,7).secondaryButton,c["\u0275nov"](t,7).tertiaryButton,c["\u0275nov"](t,7).ghostButton,c["\u0275nov"](t,7).dangerButton,c["\u0275nov"](t,7).dangerPrimaryButton,c["\u0275nov"](t,7).skeleton,c["\u0275nov"](t,7).smallSize,c["\u0275nov"](t,7).toolbarAction,c["\u0275nov"](t,7).overflowMenu])})}var CC=c["\u0275ccf"]("app-sap-source-forms",yC,function(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,1,"app-sap-source-forms",[],null,null,null,bC,vC)),c["\u0275did"](1,245760,null,0,yC,[aC.o,hC.a,lC.a,nC.a,sC.j],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),wC=n("noyz"),OC=n("M+tS"),xC=n("3yNS"),SC=n("IcCv"),PC=n("A+V5"),_C=n("1V2r"),EC=n("gLoP"),TC=n("mEpm"),AC=n("i3NF"),MC=n("s7LF"),DC=n("FNXg"),kC=n("1ZgJ"),RC=n("baZm"),IC=n("UDqP"),NC=n("4y4f"),FC=n("XvC9"),LC=n("kqF4"),jC=n("Amkq"),GC=n("WeWU"),VC=n("oljc"),BC=n("mrSG"),WC=n("qHnB"),zC=n("HTWL"),UC=n("LvDl"),HC=n.n(UC),KC=function(){function e(e,t,n){this.settingsService=e,this.toaster=t,this.sapService=n,this.endpoints=[],this.captureFrequencyItems=[],this.serviceQuery={},this.parametersList=[],this.onDetailsChange=new c.EventEmitter,this.cronSchedule={},this.dynamicPickListItems=[],this.showPicklistDropdown=!1,this.limit=100,this.showMasterDataValues=!1,this.data_source_placeholder="Enter Value",this.editableParams={param:"",data_type:"",value:""},this.isEditParam=!1,this.disabled=!1,this.monthDays=[],this.days=[{content:"Sunday",value:0,selected:!1},{content:"Monday",value:0,selected:!1},{content:"Tuesday",value:0,selected:!1},{content:"Wednesday",value:0,selected:!1},{content:"Thursday",value:0,selected:!1},{content:"Friday",value:0,selected:!1},{content:"Saturday",value:0,selected:!1}],this.hours=[],this.interval=[],this.minutes=[],this.period=[{content:"AM",selected:!1},{content:"PM",selected:!1}],this.dataTypes=[{content:"Text",value:"text",selected:!1},{content:"Start Date",value:"startdate",selected:!1},{content:"End Date",value:"enddate",selected:!1}],this.dataSource=[{content:"Enter Manually",value:"manually",selected:!1},{content:"Choose from Master Data",value:"masterData",selected:!1}]}var t=e.prototype;return t.ngOnInit=function(){return Object(BC.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.addHours(),this.addHourlyDCFInterval(),this.addMinutes(),this.addMonthDays(),this.getEndpoints(),e.next=3,this.getCaptureFreqNew();case 3:(t=e.sent)&&t.success&&(this.captureFrequencyItems=[],t.response.forEach(function(e){"Shift Wise"!=e.value&&n.captureFrequencyItems.push({content:e.value,id:e._id,selected:!1})}),this.setCronSchedule());case 5:case"end":return e.stop()}},e,this)}))},t.addHours=function(){for(var e=1;e<=12;e++)this.hours.push({content:e<=9?"0"+e:""+e,selected:!1})},t.addHourlyDCFInterval=function(){for(var e=1;e<=24;e++)this.interval.push({content:"Every "+e+" hours",value:e,selected:!1})},t.addMinutes=function(){for(var e=0;e<=59;e++)this.minutes.push({content:e<=9?"0"+e:""+e,selected:!1})},t.addMonthDays=function(){for(var e=1;e<=28;e++)this.monthDays.push({content:e,selected:!1});this.monthDays.push({content:"Last Day Of Month",selected:!1})},t.ngOnChanges=function(){var e=this;this.endpoints.forEach(function(t){t._id==e.serviceQuery.service_endpoint?(t.selected=!0,e.serviceQuery.service_endpoint=t):t.selected=!1})},t.onClickcapture=function(e){this.captureId=e.item.id,this.captureType=e.item.content,this.cronSchedule={}},t.onEndpointSelected=function(e){this.getRequest()},t.getCaptureFreqNew=function(){return Object(BC.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.settingsService.getCapturefrequency().toPromise());case 1:case"end":return e.stop()}},e,this)}))},t.ifDatesAlreadyPresent=function(e){for(var t,n=0;n<this.parametersList.length;n++)if(this.parametersList[n].data_type===e){t=!0;break}return t},t.onAddCode=function(){var e=HC.a.cloneDeep(this.editableParams);e.data_type=e.data_type.value,e.param&&e.param.trim()?e.value&&e.value.trim()?e.data_type?"startdate"!==e.data_type&&"enddate"!==e.data_type||!this.ifDatesAlreadyPresent(e.data_type)?(e.deleteExistingResponseMapItems=!0,this.parametersList.push(e),this.resetParams(),this.getRequest()):this.toaster.error("Parameters can not have more than one "+e.data_type):this.toaster.error(zC.a.SAP_MISSING_SERVICE_QUERY_DATA_TYPE_WARNING):this.toaster.error(zC.a.SAP_MISSING_SERVICE_QUERY_VALUE_WARNING):this.toaster.error(zC.a.SAP_MISSING_SERVICE_QUERY_NAME_WARNING)},t.editCode=function(e){var t=this;this.editableParams=HC.a.cloneDeep(this.parametersList[e]),this.editableParams.data_type=this.dataTypes.find(function(e){return e.value===t.editableParams.data_type}),this.editableParams.data_type.selected=!0,this.editIndex=e,this.isEditParam=!0},t.updateCode=function(e){var t=HC.a.cloneDeep(this.editableParams);t.data_type=t.data_type.value,this.parametersList[e]=t,this.isEditParam=!1,this.resetParams(),this.getRequest()},t.removeCode=function(e){this.parametersList.splice(e,1),this.getRequest()},t.resetParams=function(){this.editableParams={param:"",value:""},this.data_source_placeholder="Enter Value",this.showMasterDataValues=!1,this.showPicklistDropdown=!1},t.getEndpoints=function(){var e=this;this.settingsService.getAllIntegrations().subscribe(function(t){t&&t.success&&(e.endpoints=t.response.map(function(t){var n=t.name,o=t._id;return{content:n,id:o,url:t.url,selected:o==e.serviceQuery.service_endpoint}}))},function(e){})},t.getRequest=function(){this.onDetailsChange.emit({queryDetails:this.serviceQuery,service_query_params:this.parametersList,dataCaptureFrequency:this.captureId,cronSchedule:this.cronSchedule})},t.setCronSchedule=function(){var e=this;this.captureFrequencyItems.forEach(function(t){t.id==e.serviceQuery.dataCaptureFrequency&&(t.selected=!0,e.captureType=t.content,e.serviceQuery.dataCaptureFrequency=t)}),this.captureFrequencyItems=[].concat(this.captureFrequencyItems),this.hours.forEach(function(t){t.content==e.cronSchedule.hour&&(t.selected=!0,e.cronSchedule.hour=t)}),this.hours=[].concat(this.hours),this.minutes.forEach(function(t){t.content==e.cronSchedule.minutes&&(t.selected=!0,e.cronSchedule.minutes=t)}),this.minutes=[].concat(this.minutes),this.period.forEach(function(t){t.content==e.cronSchedule.period&&(t.selected=!0,e.cronSchedule.period=t)}),this.period=[].concat(this.period),this.monthDays.forEach(function(t){t.content==e.cronSchedule.dayNumber&&(t.selected=!0,e.cronSchedule.dayNumber=t)}),this.monthDays=[].concat(this.monthDays)},t.onClickDay=function(e){this.cronSchedule.dayNumber=e.item,this.getRequest()},t.onClickHour=function(e){this.cronSchedule.hour=e.item,this.getRequest()},t.onClickMinute=function(e){this.cronSchedule.minutes=e.item,this.getRequest()},t.onClickPeriod=function(e){this.cronSchedule.period=e.item,this.getRequest()},t.emitName=function(){this.sapService.sendMessage(this.serviceQuery.name)},t.onDataTypeSelected=function(e){console.log(e.item),this.editableParams.value="startdate"===e.item.value||"enddate"===e.item.value?"Date will be auto calculated during data fetch operations":""},t.onDataSourceSelected=function(e){this.showPicklistDropdown=!1,this.showMasterDataValues=!1,this.data_source=e.item.value,this.data_source_placeholder=e.item.content,this.dynamicPickListItems.forEach(function(e){e.selected=!1}),"masterData"===e.item.value&&this.getDynamicPicklistValues()},t.getDynamicPicklistValues=function(e){var t=this;this.dynamicPickListItems=[],this.showMasterDataValues=!1;var n=null;e&&(n=e),this.settingsService.getPicklistMasterData(n,this.limit).subscribe(function(e){e.success&&e.response&&(t.dynamicPickListItems=e.response.masterDataMappingList.map(function(e){return e.content=e.name,e.value=e._id,e}),t.showPicklistDropdown=!0)})},t.onMasterDataColumnSelected=function(e){this.selectedMasterDataCol=e.item._id,this.onSearchItem("",this.selectedMasterDataCol)},t.onMasterDataValueSelected=function(e){this.editableParams.value=e.item.content.toString()},t.onSearchItem=function(e,t){var n=this;this.comboBoxItems=[],this.settingsService.getMasterDataForColumnID(e,t).subscribe(function(e){e&&e.success&&(n.comboBoxItems=e.response.map(function(e){return{content:e}}),n.showMasterDataValues=!0)},function(e){n.comboBoxItems=[]})},e}(),XC=c["\u0275crt"]({encapsulation:0,styles:[['.service-query-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:32px}.margin-right30[_ngcontent-%COMP%]{margin-right:30px}  .bx--dropdown{background-color:#f3f3f3!important}  .bx--col-lg-5{padding:0 24px 0 0!important}.title-text[_ngcontent-%COMP%]{color:#161616;font-family:"IBM Plex Sans";font-size:20px;letter-spacing:0;line-height:26px;font-weight:400;margin-bottom:20px}.margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.add-another[_ngcontent-%COMP%]{height:40px!important;width:40px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #fff;background-color:#fff}.update-another[_ngcontent-%COMP%]{height:40px!important;width:110px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #fff;background-color:#fff}.padding0[_ngcontent-%COMP%]{padding:0}.icon-white[_ngcontent-%COMP%]{fill:#e02020}']],data:{}});function qC(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](1,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Interval"],["placeholder","Interval"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var o=!0,r=e.component;return"keydown"===t&&(o=!1!==c["\u0275nov"](e,4).onKeyDown(n)&&o),"ngModelChange"===t&&(o=!1!==(r.cronSchedule.interval=n)&&o),"selected"===t&&(o=!1!==r.onClickHour(n)&&o),o},_C.b,_C.a)),c["\u0275did"](4,1294336,null,1,EC.a,[c.ElementRef,TC.a,AC.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),c["\u0275qud"](335544320,3,{view:0}),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[EC.a]),c["\u0275did"](7,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](9,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,DC.b,DC.a)),c["\u0275did"](11,4374528,null,0,kC.a,[c.ElementRef,TC.a],{items:[0,"items"]},null),c["\u0275prd"](2048,[[3,4]],RC.a,null,[kC.a])],function(e,t){var n=t.component,o=e(t,2,0,2,2,2);e(t,1,0,"margin-right30",o),e(t,4,0,"Interval","Interval","single","true"),e(t,7,0,n.cronSchedule.interval),e(t,11,0,n.interval)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).columnClasses),e(t,3,0,c["\u0275nov"](t,4).hostClass,c["\u0275nov"](t,9).ngClassUntouched,c["\u0275nov"](t,9).ngClassTouched,c["\u0275nov"](t,9).ngClassPristine,c["\u0275nov"](t,9).ngClassDirty,c["\u0275nov"](t,9).ngClassValid,c["\u0275nov"](t,9).ngClassInvalid,c["\u0275nov"](t,9).ngClassPending)})}function YC(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](1,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Day"],["placeholder","Day"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var o=!0,r=e.component;return"keydown"===t&&(o=!1!==c["\u0275nov"](e,4).onKeyDown(n)&&o),"ngModelChange"===t&&(o=!1!==(r.cronSchedule.dayNumber=n)&&o),"selected"===t&&(o=!1!==r.onClickDay(n)&&o),o},_C.b,_C.a)),c["\u0275did"](4,1294336,null,1,EC.a,[c.ElementRef,TC.a,AC.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),c["\u0275qud"](335544320,4,{view:0}),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[EC.a]),c["\u0275did"](7,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](9,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,DC.b,DC.a)),c["\u0275did"](11,4374528,null,0,kC.a,[c.ElementRef,TC.a],{items:[0,"items"]},null),c["\u0275prd"](2048,[[4,4]],RC.a,null,[kC.a])],function(e,t){var n=t.component,o=e(t,2,0,2,2,2);e(t,1,0,"margin-right30",o),e(t,4,0,"Day","Day","single","true"),e(t,7,0,n.cronSchedule.dayNumber),e(t,11,0,n.monthDays)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).columnClasses),e(t,3,0,c["\u0275nov"](t,4).hostClass,c["\u0275nov"](t,9).ngClassUntouched,c["\u0275nov"](t,9).ngClassTouched,c["\u0275nov"](t,9).ngClassPristine,c["\u0275nov"](t,9).ngClassDirty,c["\u0275nov"](t,9).ngClassValid,c["\u0275nov"](t,9).ngClassInvalid,c["\u0275nov"](t,9).ngClassPending)})}function JC(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](1,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Day"],["placeholder","Day"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var o=!0,r=e.component;return"keydown"===t&&(o=!1!==c["\u0275nov"](e,4).onKeyDown(n)&&o),"ngModelChange"===t&&(o=!1!==(r.cronSchedule.dayNumber=n)&&o),"selected"===t&&(o=!1!==r.onClickDay(n)&&o),o},_C.b,_C.a)),c["\u0275did"](4,1294336,null,1,EC.a,[c.ElementRef,TC.a,AC.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),c["\u0275qud"](335544320,5,{view:0}),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[EC.a]),c["\u0275did"](7,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](9,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,DC.b,DC.a)),c["\u0275did"](11,4374528,null,0,kC.a,[c.ElementRef,TC.a],{items:[0,"items"]},null),c["\u0275prd"](2048,[[5,4]],RC.a,null,[kC.a])],function(e,t){var n=t.component,o=e(t,2,0,2,2,2);e(t,1,0,"margin-right30",o),e(t,4,0,"Day","Day","single","true"),e(t,7,0,n.cronSchedule.dayNumber),e(t,11,0,n.days)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).columnClasses),e(t,3,0,c["\u0275nov"](t,4).hostClass,c["\u0275nov"](t,9).ngClassUntouched,c["\u0275nov"](t,9).ngClassTouched,c["\u0275nov"](t,9).ngClassPristine,c["\u0275nov"](t,9).ngClassDirty,c["\u0275nov"](t,9).ngClassValid,c["\u0275nov"](t,9).ngClassInvalid,c["\u0275nov"](t,9).ngClassPending)})}function QC(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](1,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Hour"],["placeholder","Hour"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var o=!0,r=e.component;return"keydown"===t&&(o=!1!==c["\u0275nov"](e,4).onKeyDown(n)&&o),"ngModelChange"===t&&(o=!1!==(r.cronSchedule.hour=n)&&o),"selected"===t&&(o=!1!==r.onClickHour(n)&&o),o},_C.b,_C.a)),c["\u0275did"](4,1294336,null,1,EC.a,[c.ElementRef,TC.a,AC.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),c["\u0275qud"](335544320,6,{view:0}),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[EC.a]),c["\u0275did"](7,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](9,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,DC.b,DC.a)),c["\u0275did"](11,4374528,null,0,kC.a,[c.ElementRef,TC.a],{items:[0,"items"]},null),c["\u0275prd"](2048,[[6,4]],RC.a,null,[kC.a])],function(e,t){var n=t.component,o=e(t,2,0,2,2,2);e(t,1,0,"margin-right30",o),e(t,4,0,"Hour","Hour","single","true"),e(t,7,0,n.cronSchedule.hour),e(t,11,0,n.hours)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).columnClasses),e(t,3,0,c["\u0275nov"](t,4).hostClass,c["\u0275nov"](t,9).ngClassUntouched,c["\u0275nov"](t,9).ngClassTouched,c["\u0275nov"](t,9).ngClassPristine,c["\u0275nov"](t,9).ngClassDirty,c["\u0275nov"](t,9).ngClassValid,c["\u0275nov"](t,9).ngClassInvalid,c["\u0275nov"](t,9).ngClassPending)})}function ZC(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](1,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Minute"],["placeholder","Minute"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var o=!0,r=e.component;return"keydown"===t&&(o=!1!==c["\u0275nov"](e,4).onKeyDown(n)&&o),"ngModelChange"===t&&(o=!1!==(r.cronSchedule.minutes=n)&&o),"selected"===t&&(o=!1!==r.onClickMinute(n)&&o),o},_C.b,_C.a)),c["\u0275did"](4,1294336,null,1,EC.a,[c.ElementRef,TC.a,AC.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),c["\u0275qud"](335544320,7,{view:0}),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[EC.a]),c["\u0275did"](7,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](9,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,DC.b,DC.a)),c["\u0275did"](11,4374528,null,0,kC.a,[c.ElementRef,TC.a],{items:[0,"items"]},null),c["\u0275prd"](2048,[[7,4]],RC.a,null,[kC.a])],function(e,t){var n=t.component,o=e(t,2,0,2,2,2);e(t,1,0,"margin-right30",o),e(t,4,0,"Minute","Minute","single","true"),e(t,7,0,n.cronSchedule.minutes),e(t,11,0,n.minutes)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).columnClasses),e(t,3,0,c["\u0275nov"](t,4).hostClass,c["\u0275nov"](t,9).ngClassUntouched,c["\u0275nov"](t,9).ngClassTouched,c["\u0275nov"](t,9).ngClassPristine,c["\u0275nov"](t,9).ngClassDirty,c["\u0275nov"](t,9).ngClassValid,c["\u0275nov"](t,9).ngClassInvalid,c["\u0275nov"](t,9).ngClassPending)})}function $C(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](1,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Period"],["placeholder","Period"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var o=!0,r=e.component;return"keydown"===t&&(o=!1!==c["\u0275nov"](e,4).onKeyDown(n)&&o),"ngModelChange"===t&&(o=!1!==(r.cronSchedule.period=n)&&o),"selected"===t&&(o=!1!==r.onClickPeriod(n)&&o),o},_C.b,_C.a)),c["\u0275did"](4,1294336,null,1,EC.a,[c.ElementRef,TC.a,AC.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),c["\u0275qud"](335544320,8,{view:0}),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[EC.a]),c["\u0275did"](7,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](9,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,DC.b,DC.a)),c["\u0275did"](11,4374528,null,0,kC.a,[c.ElementRef,TC.a],{items:[0,"items"]},null),c["\u0275prd"](2048,[[8,4]],RC.a,null,[kC.a])],function(e,t){var n=t.component,o=e(t,2,0,2,2,2);e(t,1,0,"margin-right30",o),e(t,4,0,"Period","Period","single","true"),e(t,7,0,n.cronSchedule.period),e(t,11,0,n.period)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).columnClasses),e(t,3,0,c["\u0275nov"](t,4).hostClass,c["\u0275nov"](t,9).ngClassUntouched,c["\u0275nov"](t,9).ngClassTouched,c["\u0275nov"](t,9).ngClassPristine,c["\u0275nov"](t,9).ngClassDirty,c["\u0275nov"](t,9).ngClassValid,c["\u0275nov"](t,9).ngClassInvalid,c["\u0275nov"](t,9).ngClassPending)})}function ew(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,13,"tr",[["class","tr-margin-1"]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),c["\u0275ted"](2,null,["",""])),(e()(),c["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),c["\u0275ted"](4,null,["",""])),(e()(),c["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),c["\u0275ted"](6,null,["",""])),(e()(),c["\u0275eld"](7,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),c["\u0275eld"](8,0,null,null,3,":svg:svg",[["class","margin-right-8"],["ibmIconEdit20",""],["title","Edit"]],null,[[null,"click"]],function(e,t,n){var o=!0,r=e.component;return"click"===t&&(n.stopPropagation(),o=!1!==r.editCode(e.context.index)&&o),o},null,null)),c["\u0275did"](9,4210688,null,0,IC.a,[c.ElementRef],{title:[0,"title"]},null),(e()(),c["\u0275eld"](10,0,null,null,1,":svg:title",[],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Edit"])),(e()(),c["\u0275eld"](12,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconTrashCan20",""]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.removeCode(e.context.index)&&o),o},null,null)),c["\u0275did"](13,4210688,null,0,NC.a,[c.ElementRef],null,null)],function(e,t){e(t,9,0,"Edit")},function(e,t){e(t,2,0,t.context.$implicit.param),e(t,4,0,t.context.$implicit.data_type),e(t,6,0,t.context.$implicit.value)})}function tw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,22,"div",[["class","bx--data-table-container common-table-container"],["data-table",""]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,21,"table",[["class","bx--data-table bx--data-table--sort "]],null,null,null,null,null)),(e()(),c["\u0275eld"](2,0,null,null,17,"thead",[],null,null,null,null,null)),(e()(),c["\u0275eld"](3,0,null,null,16,"tr",[],null,null,null,null,null)),(e()(),c["\u0275eld"](4,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(e()(),c["\u0275eld"](5,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Parameter"]],null,null,null,null,null)),(e()(),c["\u0275eld"](6,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Parameter"])),(e()(),c["\u0275eld"](8,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(e()(),c["\u0275eld"](9,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Data Type"]],null,null,null,null,null)),(e()(),c["\u0275eld"](10,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Data Type"])),(e()(),c["\u0275eld"](12,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(e()(),c["\u0275eld"](13,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Value"]],null,null,null,null,null)),(e()(),c["\u0275eld"](14,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Value"])),(e()(),c["\u0275eld"](16,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(e()(),c["\u0275eld"](17,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Actions"]],null,null,null,null,null)),(e()(),c["\u0275eld"](18,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Actions"])),(e()(),c["\u0275eld"](20,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),c["\u0275and"](16777216,null,null,1,null,ew)),c["\u0275did"](22,278528,null,0,rC.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,22,0,t.component.parametersList)},null)}function nw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,7,"div",[["class","margin-right30 grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](1,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](3,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),c["\u0275eld"](4,0,null,null,1,"label",[["class","bx--label"],["style","margin-bottom: 8px;"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Master Data Column"])),(e()(),c["\u0275eld"](6,0,null,null,1,"app-e4-combo-box",[["class","f"],["placeholder","Select Pick List"],["style","width: 100%;"],["type","single"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,t,n){var o=!0,r=e.component;return"onSearch"===t&&(o=!1!==r.getDynamicPicklistValues(n)&&o),"onSelect"===t&&(o=!1!==r.onMasterDataColumnSelected({item:n})&&o),o},FC.b,FC.a)),c["\u0275did"](7,4964352,null,0,LC.a,[c.ElementRef],{items:[0,"items"],placeholder:[1,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"})],function(e,t){var n=t.component,o=e(t,2,0,4,4,6);e(t,1,0,"margin-right30 grayed-box user-search-combo-box",o),e(t,7,0,n.dynamicPickListItems,"Select Pick List")},function(e,t){e(t,0,0,c["\u0275nov"](t,1).columnClasses)})}function ow(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,7,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](1,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](3,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),c["\u0275eld"](4,0,null,null,1,"label",[["class","bx--label"],["style","margin-bottom: 8px;"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Value"])),(e()(),c["\u0275eld"](6,0,null,null,1,"app-e4-combo-box",[["class","f"],["placeholder","Specify"],["type","single"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,t,n){var o=!0,r=e.component;return"onSearch"===t&&(o=!1!==r.onSearchItem(n,r.selectedMasterDataCol)&&o),"onSelect"===t&&(o=!1!==r.onMasterDataValueSelected({item:n})&&o),o},FC.b,FC.a)),c["\u0275did"](7,4964352,null,0,LC.a,[c.ElementRef],{items:[0,"items"],placeholder:[1,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"})],function(e,t){var n=t.component,o=e(t,2,0,3,3,6);e(t,1,0,"grayed-box user-search-combo-box",o),e(t,7,0,n.comboBoxItems,"Specify")},function(e,t){e(t,0,0,c["\u0275nov"](t,1).columnClasses)})}function rw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,13,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](1,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](3,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,jC.b,jC.a)),c["\u0275did"](4,1097728,null,0,GC.a,[],null,null),(e()(),c["\u0275eld"](5,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Value"])),(e()(),c["\u0275eld"](7,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter Value"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0,r=e.component;return"input"===t&&(o=!1!==c["\u0275nov"](e,9)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==c["\u0275nov"](e,9).onTouched()&&o),"compositionstart"===t&&(o=!1!==c["\u0275nov"](e,9)._compositionStart()&&o),"compositionend"===t&&(o=!1!==c["\u0275nov"](e,9)._compositionEnd(n.target.value)&&o),"ngModelChange"===t&&(o=!1!==(r.editableParams.value=n)&&o),o},null,null)),c["\u0275did"](8,16384,null,0,VC.a,[],null,null),c["\u0275did"](9,16384,null,0,MC.c,[c.Renderer2,c.ElementRef,[2,MC.a]],null,null),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[MC.c]),c["\u0275did"](11,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](13,16384,null,0,MC.r,[[4,MC.q]],null,null)],function(e,t){var n=t.component,o=e(t,2,0,4,4,6);e(t,1,0,"grayed-box user-search-combo-box",o),e(t,11,0,"startdate"===(null==n.editableParams?null:null==n.editableParams.data_type?null:n.editableParams.data_type.value)||"enddate"===(null==n.editableParams?null:null==n.editableParams.data_type?null:n.editableParams.data_type.value),n.editableParams.value)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).columnClasses),e(t,3,0,c["\u0275nov"](t,4).labelClass),e(t,7,1,[c["\u0275nov"](t,8).inputClass,c["\u0275nov"](t,8).invalid,c["\u0275nov"](t,8).skeleton,c["\u0275nov"](t,8).isLightTheme,c["\u0275nov"](t,13).ngClassUntouched,c["\u0275nov"](t,13).ngClassTouched,c["\u0275nov"](t,13).ngClassPristine,c["\u0275nov"](t,13).ngClassDirty,c["\u0275nov"](t,13).ngClassValid,c["\u0275nov"](t,13).ngClassInvalid,c["\u0275nov"](t,13).ngClassPending])})}function iw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),c["\u0275did"](1,4210688,null,0,Qb.a,[c.ElementRef],null,null)],null,null)}function aw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.onAddCode()&&o),o},null,null))],null,null)}function sw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger update-another cursor-pointer pseudo-buttons"],["type","button"],["value","Update"]],null,[[null,"click"]],function(e,t,n){var o=!0,r=e.component;return"click"===t&&(o=!1!==r.updateCode(r.editIndex)&&o),o},null,null))],null,null)}function lw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,152,"div",[["class","service-query-container"]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,33,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](2,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](3,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](4,0,null,null,1,"h5",[["class","title-text"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Service Query Details"])),(e()(),c["\u0275eld"](6,0,null,null,28,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](7,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](8,0,null,null,13,"div",[["class","margin-right30"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](9,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](10,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](11,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,jC.b,jC.a)),c["\u0275did"](12,1097728,null,0,GC.a,[],null,null),(e()(),c["\u0275eld"](13,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Name of Service *"])),(e()(),c["\u0275eld"](15,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter Name"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0,r=e.component;return"input"===t&&(o=!1!==c["\u0275nov"](e,17)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==c["\u0275nov"](e,17).onTouched()&&o),"compositionstart"===t&&(o=!1!==c["\u0275nov"](e,17)._compositionStart()&&o),"compositionend"===t&&(o=!1!==c["\u0275nov"](e,17)._compositionEnd(n.target.value)&&o),"ngModelChange"===t&&(o=!1!==(r.serviceQuery.name=n)&&o),"input"===t&&(o=!1!==r.emitName()&&o),o},null,null)),c["\u0275did"](16,16384,null,0,VC.a,[],null,null),c["\u0275did"](17,16384,null,0,MC.c,[c.Renderer2,c.ElementRef,[2,MC.a]],null,null),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[MC.c]),c["\u0275did"](19,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](21,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](22,0,null,null,12,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](23,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](24,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](25,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Service Endpoint *"],["placeholder","Select Endpoint"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var o=!0,r=e.component;return"keydown"===t&&(o=!1!==c["\u0275nov"](e,26).onKeyDown(n)&&o),"ngModelChange"===t&&(o=!1!==(r.serviceQuery.service_endpoint=n)&&o),"selected"===t&&(o=!1!==r.onEndpointSelected(n)&&o),o},_C.b,_C.a)),c["\u0275did"](26,1294336,null,1,EC.a,[c.ElementRef,TC.a,AC.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),c["\u0275qud"](335544320,1,{view:0}),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[EC.a]),c["\u0275did"](29,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](31,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](32,0,null,0,2,"ibm-dropdown-list",[],null,null,null,DC.b,DC.a)),c["\u0275did"](33,4374528,null,0,kC.a,[c.ElementRef,TC.a],{items:[0,"items"]},null),c["\u0275prd"](2048,[[1,4]],RC.a,null,[kC.a]),(e()(),c["\u0275eld"](35,0,null,null,17,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](36,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](37,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](38,0,null,null,14,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](39,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](40,0,null,null,12,"div",[["ibmCol",""],["style","padding: 0;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](41,81920,null,0,wC.a,[],null,null),(e()(),c["\u0275eld"](42,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,jC.b,jC.a)),c["\u0275did"](43,1097728,null,0,GC.a,[],null,null),(e()(),c["\u0275eld"](44,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["SAP Service Link*"])),(e()(),c["\u0275eld"](46,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter Name"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0,r=e.component;return"input"===t&&(o=!1!==c["\u0275nov"](e,48)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==c["\u0275nov"](e,48).onTouched()&&o),"compositionstart"===t&&(o=!1!==c["\u0275nov"](e,48)._compositionStart()&&o),"compositionend"===t&&(o=!1!==c["\u0275nov"](e,48)._compositionEnd(n.target.value)&&o),"ngModelChange"===t&&(o=!1!==(r.serviceQuery.service_resource=n)&&o),o},null,null)),c["\u0275did"](47,16384,null,0,VC.a,[],null,null),c["\u0275did"](48,16384,null,0,MC.c,[c.Renderer2,c.ElementRef,[2,MC.a]],null,null),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[MC.c]),c["\u0275did"](50,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](52,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](53,0,null,null,29,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](54,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](55,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](56,0,null,null,26,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](57,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](58,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](59,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](60,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](61,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Data Capture Frequency *"],["placeholder","Select"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var o=!0,r=e.component;return"keydown"===t&&(o=!1!==c["\u0275nov"](e,62).onKeyDown(n)&&o),"ngModelChange"===t&&(o=!1!==(r.serviceQuery.dataCaptureFrequency=n)&&o),"selected"===t&&(o=!1!==r.onClickcapture(n)&&o),o},_C.b,_C.a)),c["\u0275did"](62,1294336,null,1,EC.a,[c.ElementRef,TC.a,AC.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),c["\u0275qud"](335544320,2,{view:0}),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[EC.a]),c["\u0275did"](65,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](67,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](68,0,null,0,2,"ibm-dropdown-list",[],null,null,null,DC.b,DC.a)),c["\u0275did"](69,4374528,null,0,kC.a,[c.ElementRef,TC.a],{items:[0,"items"]},null),c["\u0275prd"](2048,[[2,4]],RC.a,null,[kC.a]),(e()(),c["\u0275and"](16777216,null,null,1,null,qC)),c["\u0275did"](72,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,YC)),c["\u0275did"](74,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,JC)),c["\u0275did"](76,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,QC)),c["\u0275did"](78,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,ZC)),c["\u0275did"](80,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,$C)),c["\u0275did"](82,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275eld"](83,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](84,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](85,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](86,0,null,null,1,"h5",[["class","title-text"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Service Query Parameters"])),(e()(),c["\u0275and"](16777216,null,null,1,null,tw)),c["\u0275did"](89,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275eld"](90,0,null,null,52,"div",[["class","margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](91,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](92,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](93,0,null,null,28,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](94,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](95,0,null,null,13,"div",[["class","margin-right30 padding0"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](96,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](97,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](98,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,jC.b,jC.a)),c["\u0275did"](99,1097728,null,0,GC.a,[],null,null),(e()(),c["\u0275eld"](100,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Parameter"])),(e()(),c["\u0275eld"](102,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Parameter Name"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0,r=e.component;return"input"===t&&(o=!1!==c["\u0275nov"](e,104)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==c["\u0275nov"](e,104).onTouched()&&o),"compositionstart"===t&&(o=!1!==c["\u0275nov"](e,104)._compositionStart()&&o),"compositionend"===t&&(o=!1!==c["\u0275nov"](e,104)._compositionEnd(n.target.value)&&o),"ngModelChange"===t&&(o=!1!==(r.editableParams.param=n)&&o),o},null,null)),c["\u0275did"](103,16384,null,0,VC.a,[],null,null),c["\u0275did"](104,16384,null,0,MC.c,[c.Renderer2,c.ElementRef,[2,MC.a]],null,null),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[MC.c]),c["\u0275did"](106,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](108,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](109,0,null,null,12,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](110,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](111,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](112,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["label","Data Type"],["placeholder","Select Type"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var o=!0,r=e.component;return"keydown"===t&&(o=!1!==c["\u0275nov"](e,113).onKeyDown(n)&&o),"ngModelChange"===t&&(o=!1!==(r.editableParams.data_type=n)&&o),"selected"===t&&(o=!1!==r.onDataTypeSelected(n)&&o),o},_C.b,_C.a)),c["\u0275did"](113,1294336,null,1,EC.a,[c.ElementRef,TC.a,AC.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),c["\u0275qud"](335544320,9,{view:0}),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[EC.a]),c["\u0275did"](116,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](118,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](119,0,null,0,2,"ibm-dropdown-list",[],null,null,null,DC.b,DC.a)),c["\u0275did"](120,4374528,null,0,kC.a,[c.ElementRef,TC.a],{items:[0,"items"]},null),c["\u0275prd"](2048,[[9,4]],RC.a,null,[kC.a]),(e()(),c["\u0275eld"](122,0,null,null,20,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](123,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](124,0,null,null,12,"div",[["class","margin-right30 padding0 grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](125,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](126,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](127,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["label","Populate Value"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var o=!0,r=e.component;return"keydown"===t&&(o=!1!==c["\u0275nov"](e,128).onKeyDown(n)&&o),"ngModelChange"===t&&(o=!1!==(r.data_source=n)&&o),"selected"===t&&(o=!1!==r.onDataSourceSelected(n)&&o),o},_C.b,_C.a)),c["\u0275did"](128,1294336,null,1,EC.a,[c.ElementRef,TC.a,AC.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),c["\u0275qud"](335544320,10,{view:0}),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[EC.a]),c["\u0275did"](131,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](133,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](134,0,null,0,2,"ibm-dropdown-list",[],null,[[null,"selected"]],function(e,t,n){var o=!0;return"selected"===t&&(o=!1!==e.component.onDataSourceSelected(n)&&o),o},DC.b,DC.a)),c["\u0275did"](135,4374528,null,0,kC.a,[c.ElementRef,TC.a],{items:[0,"items"]},null),c["\u0275prd"](2048,[[10,4]],RC.a,null,[kC.a]),(e()(),c["\u0275and"](16777216,null,null,1,null,nw)),c["\u0275did"](138,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,ow)),c["\u0275did"](140,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,rw)),c["\u0275did"](142,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275eld"](143,0,null,null,9,"div",[["class","margin-top-20 padding0"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](144,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](145,0,null,null,7,"div",[["ibmCol",""],["style","display: inline-flex;align-items: center;padding: 0;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](146,81920,null,0,wC.a,[],null,null),(e()(),c["\u0275and"](16777216,null,null,1,null,iw)),c["\u0275did"](148,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,aw)),c["\u0275did"](150,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,sw)),c["\u0275did"](152,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,o=e(t,3,0,8,8,12);e(t,2,0,o);var r=e(t,10,0,3,3,6);e(t,9,0,"margin-right30",r),e(t,19,0,n.serviceQuery.name);var i=e(t,24,0,4,4,6);e(t,23,0,"grayed-box user-search-combo-box",i),e(t,26,0,"Service Endpoint *","Select Endpoint","single","true"),e(t,29,0,n.serviceQuery.service_endpoint),e(t,33,0,n.endpoints);var a=e(t,37,0,5,5,10);e(t,36,0,a),e(t,41,0),e(t,50,0,!n.serviceQuery.modifySAPODATAEntity&&n.serviceQuery.hasOwnProperty("modifySAPODATAEntity"),n.serviceQuery.service_resource);var s=e(t,55,0,12,12,12);e(t,54,0,s);var l=e(t,60,0,2,2,4);e(t,59,0,"margin-right30",l),e(t,62,0,"Data Capture Frequency *","Select","single","true"),e(t,65,0,n.serviceQuery.dataCaptureFrequency),e(t,69,0,n.captureFrequencyItems),e(t,72,0,"Hourly"==n.captureType),e(t,74,0,"Monthly"==n.captureType||"Quarterly"==n.captureType||"Half Yearly"==n.captureType||"Yearly"==n.captureType),e(t,76,0,"Weekly"==n.captureType),e(t,78,0,"Daily"==n.captureType||"Weekly"==n.captureType||"Monthly"==n.captureType||"Quarterly"==n.captureType||"Half Yearly"==n.captureType||"Yearly"==n.captureType),e(t,80,0,"Daily"==n.captureType||"Weekly"==n.captureType||"Monthly"==n.captureType||"Quarterly"==n.captureType||"Half Yearly"==n.captureType||"Yearly"==n.captureType),e(t,82,0,"Daily"==n.captureType||"Weekly"==n.captureType||"Monthly"==n.captureType||"Quarterly"==n.captureType||"Half Yearly"==n.captureType||"Yearly"==n.captureType);var u=e(t,85,0,5,5,12);e(t,84,0,u),e(t,89,0,0!=n.parametersList.length);var c=e(t,92,0,8,8,12);e(t,91,0,"margin-top-20",c);var p=e(t,97,0,4,4,6);e(t,96,0,"margin-right30 padding0",p),e(t,106,0,n.editableParams.param);var d=e(t,111,0,4,4,6);e(t,110,0,"grayed-box user-search-combo-box",d),e(t,113,0,"Data Type","Select Type","single","true"),e(t,116,0,n.editableParams.data_type),e(t,120,0,n.dataTypes);var h=e(t,126,0,4,4,6);e(t,125,0,"margin-right30 padding0 grayed-box user-search-combo-box",h),e(t,128,0,"Populate Value",n.data_source_placeholder,"single","true"),e(t,131,0,n.data_source),e(t,135,0,n.dataSource),e(t,138,0,"masterData"===n.data_source&&!0===n.showPicklistDropdown),e(t,140,0,!0===n.showPicklistDropdown&&!0===n.showMasterDataValues),e(t,142,0,"manually"===n.data_source),e(t,146,0),e(t,148,0,!n.isEditParam),e(t,150,0,!n.isEditParam),e(t,152,0,n.isEditParam)},function(e,t){e(t,1,0,c["\u0275nov"](t,2).columnClasses),e(t,6,0,c["\u0275nov"](t,7).baseClass),e(t,8,0,c["\u0275nov"](t,9).columnClasses),e(t,11,0,c["\u0275nov"](t,12).labelClass),e(t,15,1,[c["\u0275nov"](t,16).inputClass,c["\u0275nov"](t,16).invalid,c["\u0275nov"](t,16).skeleton,c["\u0275nov"](t,16).isLightTheme,c["\u0275nov"](t,21).ngClassUntouched,c["\u0275nov"](t,21).ngClassTouched,c["\u0275nov"](t,21).ngClassPristine,c["\u0275nov"](t,21).ngClassDirty,c["\u0275nov"](t,21).ngClassValid,c["\u0275nov"](t,21).ngClassInvalid,c["\u0275nov"](t,21).ngClassPending]),e(t,22,0,c["\u0275nov"](t,23).columnClasses),e(t,25,0,c["\u0275nov"](t,26).hostClass,c["\u0275nov"](t,31).ngClassUntouched,c["\u0275nov"](t,31).ngClassTouched,c["\u0275nov"](t,31).ngClassPristine,c["\u0275nov"](t,31).ngClassDirty,c["\u0275nov"](t,31).ngClassValid,c["\u0275nov"](t,31).ngClassInvalid,c["\u0275nov"](t,31).ngClassPending),e(t,35,0,c["\u0275nov"](t,36).columnClasses),e(t,38,0,c["\u0275nov"](t,39).baseClass),e(t,40,0,c["\u0275nov"](t,41).columnClasses),e(t,42,0,c["\u0275nov"](t,43).labelClass),e(t,46,1,[c["\u0275nov"](t,47).inputClass,c["\u0275nov"](t,47).invalid,c["\u0275nov"](t,47).skeleton,c["\u0275nov"](t,47).isLightTheme,c["\u0275nov"](t,52).ngClassUntouched,c["\u0275nov"](t,52).ngClassTouched,c["\u0275nov"](t,52).ngClassPristine,c["\u0275nov"](t,52).ngClassDirty,c["\u0275nov"](t,52).ngClassValid,c["\u0275nov"](t,52).ngClassInvalid,c["\u0275nov"](t,52).ngClassPending]),e(t,53,0,c["\u0275nov"](t,54).columnClasses),e(t,56,0,c["\u0275nov"](t,57).baseClass),e(t,58,0,c["\u0275nov"](t,59).columnClasses),e(t,61,0,c["\u0275nov"](t,62).hostClass,c["\u0275nov"](t,67).ngClassUntouched,c["\u0275nov"](t,67).ngClassTouched,c["\u0275nov"](t,67).ngClassPristine,c["\u0275nov"](t,67).ngClassDirty,c["\u0275nov"](t,67).ngClassValid,c["\u0275nov"](t,67).ngClassInvalid,c["\u0275nov"](t,67).ngClassPending),e(t,83,0,c["\u0275nov"](t,84).columnClasses),e(t,90,0,c["\u0275nov"](t,91).columnClasses),e(t,93,0,c["\u0275nov"](t,94).baseClass),e(t,95,0,c["\u0275nov"](t,96).columnClasses),e(t,98,0,c["\u0275nov"](t,99).labelClass),e(t,102,1,[c["\u0275nov"](t,103).inputClass,c["\u0275nov"](t,103).invalid,c["\u0275nov"](t,103).skeleton,c["\u0275nov"](t,103).isLightTheme,c["\u0275nov"](t,108).ngClassUntouched,c["\u0275nov"](t,108).ngClassTouched,c["\u0275nov"](t,108).ngClassPristine,c["\u0275nov"](t,108).ngClassDirty,c["\u0275nov"](t,108).ngClassValid,c["\u0275nov"](t,108).ngClassInvalid,c["\u0275nov"](t,108).ngClassPending]),e(t,109,0,c["\u0275nov"](t,110).columnClasses),e(t,112,0,c["\u0275nov"](t,113).hostClass,c["\u0275nov"](t,118).ngClassUntouched,c["\u0275nov"](t,118).ngClassTouched,c["\u0275nov"](t,118).ngClassPristine,c["\u0275nov"](t,118).ngClassDirty,c["\u0275nov"](t,118).ngClassValid,c["\u0275nov"](t,118).ngClassInvalid,c["\u0275nov"](t,118).ngClassPending),e(t,122,0,c["\u0275nov"](t,123).baseClass),e(t,124,0,c["\u0275nov"](t,125).columnClasses),e(t,127,0,c["\u0275nov"](t,128).hostClass,c["\u0275nov"](t,133).ngClassUntouched,c["\u0275nov"](t,133).ngClassTouched,c["\u0275nov"](t,133).ngClassPristine,c["\u0275nov"](t,133).ngClassDirty,c["\u0275nov"](t,133).ngClassValid,c["\u0275nov"](t,133).ngClassInvalid,c["\u0275nov"](t,133).ngClassPending),e(t,143,0,c["\u0275nov"](t,144).baseClass),e(t,145,0,c["\u0275nov"](t,146).columnClasses)})}var uw=n("tKJU"),cw=n("uUZD"),pw=n("PsxR"),dw=function(){function e(e,t,n){this.toaster=e,this.settingsService=t,this.goalService=n,this.responseList=[],this.onMappingChange=new c.EventEmitter,this.editableParams={label:"",data_type:"",api_key:"",unitOfMeasurement:""},this.isEditParam=!1,this.unitOfMeasurementItems=[],this.dataTypes=[{content:"Number",value:"number",selected:!1},{content:"Text",value:"text",selected:!1},{content:"Date",value:"date",selected:!1},{content:"Date-Time",value:"datetime",selected:!1}]}var t=e.prototype;return t.ngOnInit=function(){return Object(BC.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setDataType(),e.next=3,this.getUnitofMeasurement();case 3:(t=e.sent)&&t.success&&(this.unitOfMeasurementItems=t.response.map(function(e){return{content:e.value,id:e._id}}));case 5:case"end":return e.stop()}},e,this)}))},t.getUOM=function(e){var t=(this.unitOfMeasurementItems||[]).find(function(t){return t.id===e});return t?t.content:""},t.ngOnChanges=function(){this.setDataType()},t.setDataType=function(){var e=this;this.responseList.forEach(function(t){e.dataTypes.forEach(function(e){t.data_type==e.value&&(e.selected=!0,t.data_type=e)})})},t.onDataTypeSelected=function(e){this.editableParams.data_type=e.item},t.onAddCode=function(){if(this.editableParams.label)if(this.editableParams.data_type)if("Number"!==this.editableParams.data_type.content||this.editableParams.unitOfMeasurement)if(this.editableParams.api_key){if("datetime"===this.editableParams.data_type.value)for(var e=0;e<this.responseList.length;e++){var t=this.responseList[e];if("datetime"===t.data_type.value&&t.isTimeStamp)return void this.toaster.error(zC.a.SAP_SERVICE_RESPONSE_MORE_THAN_ONE_SAMPLE_DATE_TIME)}this.editableParams.deleteExistingResponseMapItems=!0,this.responseList.push(this.editableParams),this.resetParams()}else this.toaster.error(zC.a.SAP_SERVICE_RESPONSE_MAP_MISSING_KEY_WARNING);else this.toaster.error(zC.a.SAP_SERVICE_RESPONSE_MAP_UNIT_WARNING);else this.toaster.error(zC.a.SAP_SERVICE_RESPONSE_MAP_MISSING_DATA_TYPE_WARNING);else this.toaster.error(zC.a.SAP_SERVICE_RESPONSE_MAP_MISSING_LABEL_WARNING)},t.editCode=function(e){var t=this;if(this.editableParams=this.responseList[e],this.editableParams.data_type.selected=!0,"number"==this.editableParams.data_type.value){var n=HC.a.cloneDeep(this.unitOfMeasurementItems);this.unitOfMeasurementItems=[],setTimeout(function(){n.forEach(function(e){e.selected=e.id==t.editableParams.unitOfMeasurement}),t.unitOfMeasurementItems=n},100)}this.editIndex=e,this.isEditParam=!0},t.updateCode=function(e){this.responseList[e]=this.editableParams,this.isEditParam=!1,this.resetParams()},t.removeCode=function(e){this.responseList.splice(e,1)},t.resetParams=function(){this.editableParams={label:"",data_type:"",api_key:"",unitOfMeasurement:""}},t.onMeasureSelected=function(e){this.editableParams.unitOfMeasurement=e.item.id},t.getUnitofMeasurement=function(){return this.goalService.getunitofMsrmnt().toPromise()},e}(),hw=c["\u0275crt"]({encapsulation:0,styles:[['.service-query-container[_ngcontent-%COMP%]{margin-top:20px}.margin-right30[_ngcontent-%COMP%]{margin-right:30px}  .bx--dropdown{background-color:#f3f3f3!important}  .bx--col-lg-5{padding:0 24px 0 0!important}  .bx--col-lg-2{padding:0}.title-text[_ngcontent-%COMP%]{color:#161616;font-family:"IBM Plex Sans";font-size:20px;letter-spacing:0;line-height:26px;font-weight:400;margin-bottom:20px}.margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.add-another[_ngcontent-%COMP%]{height:40px!important;width:40px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #fff;background-color:#fff}.update-another[_ngcontent-%COMP%]{height:40px!important;width:80px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #fff;background-color:#fff}.padding0[_ngcontent-%COMP%]{padding:0}.icon-white[_ngcontent-%COMP%]{fill:#e02020}.common-table-container[_ngcontent-%COMP%]{max-height:400px;overflow-x:hidden;overflow-y:auto}']],data:{}});function fw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,3,":svg:svg",[["class","margin-right-8"],["ibmIconEdit20",""],["title","Edit"]],null,[[null,"click"]],function(e,t,n){var o=!0,r=e.component;return"click"===t&&(n.stopPropagation(),o=!1!==r.editCode(e.parent.context.index)&&o),o},null,null)),c["\u0275did"](1,4210688,null,0,IC.a,[c.ElementRef],{title:[0,"title"]},null),(e()(),c["\u0275eld"](2,0,null,null,1,":svg:title",[],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Edit"]))],function(e,t){e(t,1,0,"Edit")},null)}function gw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,3,":svg:svg",[["class","close-icon"],["ibmIconTrashCan20",""]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.removeCode(e.parent.context.index)&&o),o},null,null)),c["\u0275did"](1,4210688,null,0,NC.a,[c.ElementRef],null,null),(e()(),c["\u0275eld"](2,0,null,null,1,":svg:title",[],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Delete"]))],null,null)}function mw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,15,"tr",[["class","tr-margin-1"]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),c["\u0275ted"](2,null,["",""])),(e()(),c["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),c["\u0275ted"](4,null,["",""])),(e()(),c["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),c["\u0275ted"](6,null,["",""])),(e()(),c["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),c["\u0275ted"](8,null,["",""])),(e()(),c["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),c["\u0275ted"](10,null,["",""])),(e()(),c["\u0275eld"](11,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),c["\u0275and"](16777216,null,null,1,null,fw)),c["\u0275did"](13,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,gw)),c["\u0275did"](15,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,13,0,t.context.$implicit.deleteExistingResponseMapItems),e(t,15,0,t.context.$implicit.deleteExistingResponseMapItems)},function(e,t){var n=t.component;e(t,2,0,t.context.$implicit.label),e(t,4,0,t.context.$implicit.data_type.content),e(t,6,0,t.context.$implicit.unitOfMeasurement?n.getUOM(t.context.$implicit.unitOfMeasurement):"-"),e(t,8,0,t.context.$implicit.api_key),e(t,10,0,t.context.$implicit.isTimeStamp?"Yes":"-")})}function yw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,30,"div",[["class","bx--data-table-container common-table-container"],["data-table",""]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,29,"table",[["class","bx--data-table bx--data-table--sort "]],null,null,null,null,null)),(e()(),c["\u0275eld"](2,0,null,null,25,"thead",[],null,null,null,null,null)),(e()(),c["\u0275eld"](3,0,null,null,24,"tr",[],null,null,null,null,null)),(e()(),c["\u0275eld"](4,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(e()(),c["\u0275eld"](5,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Label"]],null,null,null,null,null)),(e()(),c["\u0275eld"](6,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Label"])),(e()(),c["\u0275eld"](8,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(e()(),c["\u0275eld"](9,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Data Type"]],null,null,null,null,null)),(e()(),c["\u0275eld"](10,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Data Type"])),(e()(),c["\u0275eld"](12,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(e()(),c["\u0275eld"](13,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Unit of Measurement"]],null,null,null,null,null)),(e()(),c["\u0275eld"](14,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Unit of Measurement"])),(e()(),c["\u0275eld"](16,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(e()(),c["\u0275eld"](17,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","SAP Key Name"]],null,null,null,null,null)),(e()(),c["\u0275eld"](18,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["SAP Key Name"])),(e()(),c["\u0275eld"](20,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(e()(),c["\u0275eld"](21,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Data Sample Date & Time"]],null,null,null,null,null)),(e()(),c["\u0275eld"](22,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Sample Date & Time"])),(e()(),c["\u0275eld"](24,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(e()(),c["\u0275eld"](25,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Actions"]],null,null,null,null,null)),(e()(),c["\u0275eld"](26,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Actions"])),(e()(),c["\u0275eld"](28,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),c["\u0275and"](16777216,null,null,1,null,mw)),c["\u0275did"](30,278528,null,0,rC.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,30,0,t.component.responseList)},null)}function vw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,9,"div",[["class","grayed-box user-search-combo-box margin-right30"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](1,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](3,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Unit of measurement"],["placeholder","Select Type"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(e,t,n){var o=!0,r=e.component;return"keydown"===t&&(o=!1!==c["\u0275nov"](e,5).onKeyDown(n)&&o),"selected"===t&&(o=!1!==r.onMeasureSelected(n)&&o),o},_C.b,_C.a)),c["\u0275prd"](5120,null,MC.p,function(e){return[e]},[EC.a]),c["\u0275did"](5,1294336,null,1,EC.a,[c.ElementRef,TC.a,AC.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),c["\u0275qud"](335544320,2,{view:0}),(e()(),c["\u0275eld"](7,0,null,0,2,"ibm-dropdown-list",[],null,null,null,DC.b,DC.a)),c["\u0275did"](8,4374528,null,0,kC.a,[c.ElementRef,TC.a],{items:[0,"items"]},null),c["\u0275prd"](2048,[[2,4]],RC.a,null,[kC.a])],function(e,t){var n=t.component,o=e(t,2,0,2,2,3);e(t,1,0,"grayed-box user-search-combo-box margin-right30",o),e(t,5,0,"Unit of measurement","Select Type","single","true"),e(t,8,0,n.unitOfMeasurementItems)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).columnClasses),e(t,3,0,c["\u0275nov"](t,5).hostClass)})}function bw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,9,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](1,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](3,0,null,null,6,"ibm-checkbox",[],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var o=!0;return"ngModelChange"===t&&(o=!1!==(e.component.editableParams.isTimeStamp=n)&&o),o},uw.b,uw.a)),c["\u0275did"](4,4243456,null,0,cw.a,[c.ChangeDetectorRef],null,null),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[cw.a]),c["\u0275did"](6,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](8,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275ted"](-1,0,["Consider this field as Data Sample Date & Time"]))],function(e,t){var n=t.component,o=e(t,2,0,2,2,2);e(t,1,0,"grayed-box user-search-combo-box",o),e(t,6,0,n.editableParams.isTimeStamp)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).columnClasses),e(t,3,0,c["\u0275nov"](t,4).checkboxWrapperClass,c["\u0275nov"](t,4).formItemClass,c["\u0275nov"](t,8).ngClassUntouched,c["\u0275nov"](t,8).ngClassTouched,c["\u0275nov"](t,8).ngClassPristine,c["\u0275nov"](t,8).ngClassDirty,c["\u0275nov"](t,8).ngClassValid,c["\u0275nov"](t,8).ngClassInvalid,c["\u0275nov"](t,8).ngClassPending)})}function Cw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),c["\u0275did"](1,4210688,null,0,Qb.a,[c.ElementRef],null,null)],null,null)}function ww(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.onAddCode()&&o),o},null,null))],null,null)}function Ow(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger update-another cursor-pointer pseudo-buttons"],["type","button"],["value","Update"]],null,[[null,"click"]],function(e,t,n){var o=!0,r=e.component;return"click"===t&&(o=!1!==r.updateCode(r.editIndex)&&o),o},null,null))],null,null)}function xw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,60,"div",[["class","service-query-container"]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,59,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](2,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](3,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](4,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](5,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](6,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](7,0,null,null,1,"h5",[["class","title-text"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Response Map fields"])),(e()(),c["\u0275and"](16777216,null,null,1,null,yw)),c["\u0275did"](10,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275eld"](11,0,null,null,49,"div",[["class","margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](12,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](13,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](14,0,null,null,46,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](15,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](16,0,null,null,13,"div",[["class","margin-right30"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](17,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](18,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](19,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,jC.b,jC.a)),c["\u0275did"](20,1097728,null,0,GC.a,[],null,null),(e()(),c["\u0275eld"](21,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Label"])),(e()(),c["\u0275eld"](23,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter Label"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0,r=e.component;return"input"===t&&(o=!1!==c["\u0275nov"](e,25)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==c["\u0275nov"](e,25).onTouched()&&o),"compositionstart"===t&&(o=!1!==c["\u0275nov"](e,25)._compositionStart()&&o),"compositionend"===t&&(o=!1!==c["\u0275nov"](e,25)._compositionEnd(n.target.value)&&o),"ngModelChange"===t&&(o=!1!==(r.editableParams.label=n)&&o),o},null,null)),c["\u0275did"](24,16384,null,0,VC.a,[],null,null),c["\u0275did"](25,16384,null,0,MC.c,[c.Renderer2,c.ElementRef,[2,MC.a]],null,null),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[MC.c]),c["\u0275did"](27,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](29,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](30,0,null,null,12,"div",[["class","grayed-box user-search-combo-box margin-right30"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](31,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](32,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](33,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Data Type"],["placeholder","Select Type"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var o=!0,r=e.component;return"keydown"===t&&(o=!1!==c["\u0275nov"](e,34).onKeyDown(n)&&o),"ngModelChange"===t&&(o=!1!==(r.editableParams.data_type=n)&&o),"selected"===t&&(o=!1!==r.onDataTypeSelected(n)&&o),o},_C.b,_C.a)),c["\u0275did"](34,1294336,null,1,EC.a,[c.ElementRef,TC.a,AC.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),c["\u0275qud"](335544320,1,{view:0}),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[EC.a]),c["\u0275did"](37,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](39,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](40,0,null,0,2,"ibm-dropdown-list",[],null,null,null,DC.b,DC.a)),c["\u0275did"](41,4374528,null,0,kC.a,[c.ElementRef,TC.a],{items:[0,"items"]},null),c["\u0275prd"](2048,[[1,4]],RC.a,null,[kC.a]),(e()(),c["\u0275and"](16777216,null,null,1,null,vw)),c["\u0275did"](44,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275eld"](45,0,null,null,13,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](46,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](47,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](48,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,jC.b,jC.a)),c["\u0275did"](49,1097728,null,0,GC.a,[],null,null),(e()(),c["\u0275eld"](50,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["SAP Key Name"])),(e()(),c["\u0275eld"](52,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter api key"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0,r=e.component;return"input"===t&&(o=!1!==c["\u0275nov"](e,54)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==c["\u0275nov"](e,54).onTouched()&&o),"compositionstart"===t&&(o=!1!==c["\u0275nov"](e,54)._compositionStart()&&o),"compositionend"===t&&(o=!1!==c["\u0275nov"](e,54)._compositionEnd(n.target.value)&&o),"ngModelChange"===t&&(o=!1!==(r.editableParams.api_key=n)&&o),o},null,null)),c["\u0275did"](53,16384,null,0,VC.a,[],null,null),c["\u0275did"](54,16384,null,0,MC.c,[c.Renderer2,c.ElementRef,[2,MC.a]],null,null),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[MC.c]),c["\u0275did"](56,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](58,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275and"](16777216,null,null,1,null,bw)),c["\u0275did"](60,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275eld"](61,0,null,null,9,"div",[["class","margin-top-20 padding0"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](62,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](63,0,null,null,7,"div",[["ibmCol",""],["style","display: inline-flex;align-items: center;padding: 0;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](64,81920,null,0,wC.a,[],null,null),(e()(),c["\u0275and"](16777216,null,null,1,null,Cw)),c["\u0275did"](66,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,ww)),c["\u0275did"](68,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,Ow)),c["\u0275did"](70,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,o=e(t,3,0,12,12,12);e(t,2,0,o);var r=e(t,6,0,6,6,12);e(t,5,0,r),e(t,10,0,0!=n.responseList.length);var i=e(t,13,0,12,12,12);e(t,12,0,"margin-top-20",i);var a=e(t,18,0,2,2,3);e(t,17,0,"margin-right30",a),e(t,27,0,n.editableParams.label);var s=e(t,32,0,2,2,3);e(t,31,0,"grayed-box user-search-combo-box margin-right30",s),e(t,34,0,"Data Type","Select Type","single","true"),e(t,37,0,n.editableParams.data_type),e(t,41,0,n.dataTypes),e(t,44,0,"number"==n.editableParams.data_type.value);var l=e(t,47,0,2,2,2);e(t,46,0,"grayed-box user-search-combo-box",l),e(t,56,0,n.editableParams.api_key),e(t,60,0,"datetime"==n.editableParams.data_type.value),e(t,64,0),e(t,66,0,!n.isEditParam),e(t,68,0,!n.isEditParam),e(t,70,0,n.isEditParam)},function(e,t){e(t,1,0,c["\u0275nov"](t,2).columnClasses),e(t,4,0,c["\u0275nov"](t,5).columnClasses),e(t,11,0,c["\u0275nov"](t,12).columnClasses),e(t,14,0,c["\u0275nov"](t,15).baseClass),e(t,16,0,c["\u0275nov"](t,17).columnClasses),e(t,19,0,c["\u0275nov"](t,20).labelClass),e(t,23,1,[c["\u0275nov"](t,24).inputClass,c["\u0275nov"](t,24).invalid,c["\u0275nov"](t,24).skeleton,c["\u0275nov"](t,24).isLightTheme,c["\u0275nov"](t,29).ngClassUntouched,c["\u0275nov"](t,29).ngClassTouched,c["\u0275nov"](t,29).ngClassPristine,c["\u0275nov"](t,29).ngClassDirty,c["\u0275nov"](t,29).ngClassValid,c["\u0275nov"](t,29).ngClassInvalid,c["\u0275nov"](t,29).ngClassPending]),e(t,30,0,c["\u0275nov"](t,31).columnClasses),e(t,33,0,c["\u0275nov"](t,34).hostClass,c["\u0275nov"](t,39).ngClassUntouched,c["\u0275nov"](t,39).ngClassTouched,c["\u0275nov"](t,39).ngClassPristine,c["\u0275nov"](t,39).ngClassDirty,c["\u0275nov"](t,39).ngClassValid,c["\u0275nov"](t,39).ngClassInvalid,c["\u0275nov"](t,39).ngClassPending),e(t,45,0,c["\u0275nov"](t,46).columnClasses),e(t,48,0,c["\u0275nov"](t,49).labelClass),e(t,52,1,[c["\u0275nov"](t,53).inputClass,c["\u0275nov"](t,53).invalid,c["\u0275nov"](t,53).skeleton,c["\u0275nov"](t,53).isLightTheme,c["\u0275nov"](t,58).ngClassUntouched,c["\u0275nov"](t,58).ngClassTouched,c["\u0275nov"](t,58).ngClassPristine,c["\u0275nov"](t,58).ngClassDirty,c["\u0275nov"](t,58).ngClassValid,c["\u0275nov"](t,58).ngClassInvalid,c["\u0275nov"](t,58).ngClassPending]),e(t,61,0,c["\u0275nov"](t,62).baseClass),e(t,63,0,c["\u0275nov"](t,64).columnClasses)})}var Sw=n("jGGp"),Pw=n("TXHj"),_w=n("WLIR"),Ew=function(){function e(e){this.sapService=e,this.serviceQuery={},this.parametersList=[],this.responseList=[],this.displayColumn=[],this.tableData=[],this.isLoading=!1,this.loadedByMe=!1,this.sapFormName=""}var t=e.prototype;return t.ngOnInit=function(){var e=this;this.subscription=this.sapService.getMessage().subscribe(function(t){e.sapFormName=t})},t.ngOnChanges=function(e){this.sapFormName=this.serviceQuery.name?this.serviceQuery.name+" - Form":""},t.testConnection=function(e){var t=this;this.sapService.testConnectionData(e).subscribe(function(e){if(e&&e.response&&e.response.length){var n=Object.keys(e.response[0]);t.displayColumn=n,t.tableData=e.response,t.isLoading=!1}else t.isLoading=!1},function(e){t.isLoading=!1})},t.refresh=function(){if(this.loadedByMe=!0,this.serviceQuery&&this.responseList.length){this.isLoading=!0,this.tableData=[];var e=this.responseList&&this.responseList.map(function(e){return{label:e.label,data_type:e.data_type.value,api_key:e.api_key,unitOfMeasurement:"number"===e.data_type.value?e.unitOfMeasurement?e.unitOfMeasurement:"":void 0}});this.parametersList.forEach(function(e){delete e.deleteExistingResponseMapItems}),this.testConnection({service_endpoint:this.serviceQuery.service_endpoint.id,service_resource:this.serviceQuery.service_resource,service_query_params:this.parametersList,service_response_map:e})}},e}(),Tw=c["\u0275crt"]({encapsulation:0,styles:[['.service-query-container[_ngcontent-%COMP%]{margin-top:40px}.margin-right30[_ngcontent-%COMP%]{margin-right:30px}.margin-top20[_ngcontent-%COMP%]{margin-top:20px}  .bx--dropdown{background-color:#f3f3f3!important}  .bx--col-lg-5{padding:0 24px 0 0!important}.title-text[_ngcontent-%COMP%]{color:#161616;font-family:"IBM Plex Sans";font-size:20px;letter-spacing:0;line-height:26px;font-weight:400;margin-bottom:20px}.no-result-text[_ngcontent-%COMP%]{font-size:16px;font-family:"IBM Plex Sans";color:#171717;line-height:16px}.renew-icon[_ngcontent-%COMP%]{fill:#e02020;margin-left:5px;margin-top:5px}']],data:{}});function Aw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Metric Name"]],null,null,null,null,null)),(e()(),c["\u0275eld"](2,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),c["\u0275ted"](3,null,["",""]))],null,function(e,t){e(t,3,0,t.context.$implicit)})}function Mw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,16777216,null,null,1,null,null,null,null,null,null,null)),c["\u0275did"](1,540672,null,0,rC.NgTemplateOutlet,[c.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),c["\u0275and"](0,null,null,0))],function(e,t){e(t,1,0,c["\u0275nov"](t.parent,34))},null)}function Dw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,16777216,null,null,1,null,null,null,null,null,null,null)),c["\u0275did"](1,540672,null,0,rC.NgTemplateOutlet,[c.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),c["\u0275and"](0,null,null,0))],function(e,t){e(t,1,0,c["\u0275nov"](t.parent,32))},null)}function kw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,16777216,null,null,1,null,null,null,null,null,null,null)),c["\u0275did"](1,540672,null,0,rC.NgTemplateOutlet,[c.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),c["\u0275and"](0,null,null,0))],function(e,t){e(t,1,0,c["\u0275nov"](t.parent,33))},null)}function Rw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),c["\u0275ted"](1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit[t.context.$implicit])})}function Iw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,2,"tr",[["class","tr-margin-1"]],null,null,null,null,null)),(e()(),c["\u0275and"](16777216,null,null,1,null,Rw)),c["\u0275did"](2,278528,null,0,rC.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.displayColumn)},null)}function Nw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),c["\u0275and"](16777216,null,null,1,null,Iw)),c["\u0275did"](2,278528,null,0,rC.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.tableData)},null)}function Fw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,1,"div",[["class","no-result-text"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,[" There is an error connecting with the service. Please check the parameters and try again. If the problem persists then contact 4E Support Team.Thank you. "]))],null,null)}function Lw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text "]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"],["title","Loading"]],[[2,"bx--loading-overlay",null]],null,null,Sw.b,Sw.a)),c["\u0275did"](2,49152,null,0,Pw.a,[TC.a],{title:[0,"title"],size:[1,"size"]},null),(e()(),c["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Loading..."]))],function(e,t){e(t,2,0,"Loading","sm")},function(e,t){e(t,1,0,c["\u0275nov"](t,2).overlay)})}function jw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,32,"div",[["class","service-query-container"]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,30,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](2,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](3,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](4,0,null,null,27,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](5,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](6,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](7,0,null,null,5,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](8,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](9,0,null,null,1,"h5",[["class","title-text"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Test SAP Connection"])),(e()(),c["\u0275eld"](11,0,null,null,1,":svg:svg",[["class","renew-icon"],["ibmIconRenew20",""],["title","Refresh"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.refresh()&&o),o},null,null)),c["\u0275did"](12,4210688,null,0,_w.a,[c.ElementRef],{title:[0,"title"]},null),(e()(),c["\u0275eld"](13,0,null,null,6,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](14,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](15,0,null,null,4,"small",[],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["The SAP form "])),(e()(),c["\u0275eld"](17,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),c["\u0275ted"](18,null,["",""])),(e()(),c["\u0275ted"](-1,null,[" created via this configuration will look like the following"])),(e()(),c["\u0275eld"](20,0,null,null,11,"div",[["class","common-table-container margin-top20"],["data-table",""]],null,null,null,null,null)),(e()(),c["\u0275eld"](21,0,null,null,10,"table",[["class","bx--data-table bx--data-table--sort "]],null,null,null,null,null)),(e()(),c["\u0275eld"](22,0,null,null,3,"thead",[],null,null,null,null,null)),(e()(),c["\u0275eld"](23,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),c["\u0275and"](16777216,null,null,1,null,Aw)),c["\u0275did"](25,278528,null,0,rC.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,Mw)),c["\u0275did"](27,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,Dw)),c["\u0275did"](29,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,kw)),c["\u0275did"](31,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](0,[["result",2]],null,0,null,Nw)),(e()(),c["\u0275and"](0,[["noresults",2]],null,0,null,Fw)),(e()(),c["\u0275and"](0,[["loading",2]],null,0,null,Lw))],function(e,t){var n=t.component,o=e(t,3,0,12,12,12);e(t,2,0,o);var r=e(t,6,0,12,12,12);e(t,5,0,r),e(t,12,0,"Refresh"),e(t,25,0,n.displayColumn),e(t,27,0,n.isLoading),e(t,29,0,n.tableData&&n.tableData.length&&n.displayColumn&&n.displayColumn.length&&n.loadedByMe&&!n.isLoading),e(t,31,0,!(n.tableData&&n.tableData.length&&n.displayColumn&&n.displayColumn.length)&&n.loadedByMe&&!n.isLoading)},function(e,t){var n=t.component;e(t,1,0,c["\u0275nov"](t,2).columnClasses),e(t,4,0,c["\u0275nov"](t,5).columnClasses),e(t,7,0,c["\u0275nov"](t,8).baseClass),e(t,13,0,c["\u0275nov"](t,14).baseClass),e(t,18,0,n.sapFormName)})}var Gw=n("FS8H"),Vw=n("X/pD"),Bw=function(){function e(e,t,n,o){this.goalService=e,this.settingsService=t,this.homeService=n,this.sapService=o,this.onPermissionChange=new c.EventEmitter,this.permissions=[],this.serviceQuery={},this.selectedViewersArray=[{employeeId:"",userName:"",departmentName:"",read:!1,edit:!1,fill:!1}],this.selectedManualSyncUsersArray=[{employeeId:"",userName:"",departmentName:""}],this.selectedDepartmentsArray=[{departmentId:"",name:"",read:!1,edit:!1,fill:!1}],this.selectedGroupsArray=[{groupId:"",name:"",read:!1,edit:!1,fill:!1}],this.usersArray=[],this.manualSyncUsersArray=[],this.departmentsArray=[],this.groupsArray=[],this.allUsers={read:!1,edit:!1,fill:!1},this.searchedUsers=[{content:"Search user to select."}],this.searchedManualSyncUsers=[{content:"Search user to select."}],this.searchedDepartments=[{content:"Search department to select."}],this.searchedGroups=[{content:"Search groups to select."}],this.sapFormName=""}var t=e.prototype;return t.ngOnInit=function(){var e=this;this.subscription=this.sapService.getMessage().subscribe(function(t){e.sapFormName=e.serviceQuery.name?e.serviceQuery.name+" - Form":""})},t.ngOnChanges=function(){var e=this;this.sapFormName=this.serviceQuery.name?this.serviceQuery.name+" - Form":"",this.isAddMode||(this.permissions.users&&(this.usersArray=[],this.permissions.users.forEach(function(t,n){null==e.selectedViewersArray[n]&&e.onAddViewUser(),e.selectedViewersArray[n].employeeId=t.employeeId,e.selectedViewersArray[n].departmentName=null,e.selectedViewersArray[n].userName=t.firstname+" "+t.lastname,e.selectedViewersArray[n].read=t.read,e.selectedViewersArray[n].edit=t.edit,e.selectedViewersArray[n].fill=t.fill,e.onUserAdd(),e.usersArray[n].employeeId=t.employeeId,e.usersArray[n].firstname=t.firstname,e.usersArray[n].lastname=t.lastname,e.usersArray[n].read=t.read,e.usersArray[n].edit=t.edit,e.usersArray[n].fill=t.fill})),this.permissions.usersWithManualSyncPermission&&(this.manualSyncUsersArray=[],this.permissions.usersWithManualSyncPermission.forEach(function(t,n){null==e.selectedManualSyncUsersArray[n]&&e.onAddSyncUser(),e.selectedManualSyncUsersArray[n].employeeId=t.employeeId,e.selectedManualSyncUsersArray[n].departmentName=null,e.selectedManualSyncUsersArray[n].userName=t.firstname+" "+t.lastname,e.onSyncUserAdd(),e.manualSyncUsersArray[n].employeeId=t.employeeId,e.manualSyncUsersArray[n].firstname=t.firstname,e.manualSyncUsersArray[n].lastname=t.lastname})),this.permissions.departments&&(this.departmentsArray=[],this.permissions.departments.forEach(function(t,n){null==e.selectedDepartmentsArray[n]&&e.onAddDepartment(),e.selectedDepartmentsArray[n].departmentId=t.departmentId,e.selectedDepartmentsArray[n].name=t.name,e.selectedDepartmentsArray[n].read=t.read,e.selectedDepartmentsArray[n].edit=t.edit,e.selectedDepartmentsArray[n].fill=t.fill,e.onDepartmentAdd(),e.departmentsArray[n].departmentId=t.departmentId,e.departmentsArray[n].name=t.name,e.departmentsArray[n].read=t.read,e.departmentsArray[n].edit=t.edit,e.departmentsArray[n].fill=t.fill})),this.permissions.groups&&(this.groupsArray=[],this.permissions.groups.forEach(function(t,n){null==e.selectedGroupsArray[n]&&e.onAddGroup(),e.selectedGroupsArray[n].groupId=t.groupId,e.selectedGroupsArray[n].name=t.name,e.selectedGroupsArray[n].read=t.read,e.selectedGroupsArray[n].edit=t.edit,e.selectedGroupsArray[n].fill=t.fill,e.onGroupAdd(),e.groupsArray[n].groupId=t.groupId,e.groupsArray[n].name=t.name,e.groupsArray[n].read=t.read,e.groupsArray[n].edit=t.edit,e.groupsArray[n].fill=t.fill})),(this.permissions.all.read||this.permissions.all.edit)&&(this.allUsers.read=this.permissions.all.read,this.allUsers.edit=this.permissions.all.edit),this.emitPermissionEvent())},t.onSearchUser=function(e,t,n){var o=this;this.searchedUsers=[],this.selectedViewersArray[n].employeeId=null,this.selectedViewersArray[n].departmentName=null,this.selectedViewersArray[n].userName=e,this.goalService.getUsers(e,!1,t).subscribe(function(e){o.searchedUsers=e.response.map(function(e,t){return e.content=e.firstname+" "+e.lastname,e.id=e.employeeId,e})},function(e){console.log(e)})},t.onSearchUserSync=function(e,t,n){var o=this;this.searchedManualSyncUsers=[],this.selectedManualSyncUsersArray[n].employeeId=null,this.selectedManualSyncUsersArray[n].departmentName=null,this.selectedManualSyncUsersArray[n].userName=e,this.goalService.getUsers(e,!1,t).subscribe(function(e){o.searchedManualSyncUsers=e.response.map(function(e,t){return e.content=e.firstname+" "+e.lastname,e.id=e.employeeId,e})},function(e){console.log(e)})},t.onSearchDepartment=function(e,t,n){var o=this;this.searchedDepartments=[],this.selectedDepartmentsArray[n].departmentId=null,this.selectedDepartmentsArray[n].name=e,this.settingsService.getDepartments(e).subscribe(function(e){e&&e.success&&(o.searchedDepartments=e.response.map(function(e,t){return e.content=e.name,e.id=e.id,e}))},function(e){console.log(e)})},t.onSearchGroup=function(e,t,n){var o=this;this.searchedGroups=[],this.selectedGroupsArray[n].groupId=null,this.selectedGroupsArray[n].name=e,this.homeService.searchGroups(e).subscribe(function(e){e&&e.success&&e.response.forEach(function(e){e.isActive&&(e.content=e.name,e.id=e.id,o.searchedGroups.push(e))})},function(e){console.log(e)})},t.onUserAdd=function(){this.usersArray.push({employeeId:"",userName:"",firstname:"",lastname:"",departmentName:"",read:!1,edit:!1,fill:!1})},t.onSyncUserAdd=function(){this.manualSyncUsersArray.push({employeeId:"",userName:"",firstname:"",lastname:"",departmentName:"",read:!1,edit:!1,fill:!1})},t.onDepartmentAdd=function(){this.departmentsArray.push({departmentId:"",name:"",read:!1,edit:!1,fill:!1})},t.onGroupAdd=function(){this.groupsArray.push({groupId:"",name:"",read:!1,edit:!1,fill:!1})},t.onAddViewUser=function(){this.selectedViewersArray.push({employeeId:"",userName:"",firstname:"",lastname:"",departmentName:"",read:!1,edit:!1,fill:!1})},t.onAddSyncUser=function(){this.selectedManualSyncUsersArray.push({employeeId:"",userName:"",firstname:"",lastname:"",departmentName:""})},t.onAddDepartment=function(){this.selectedDepartmentsArray.push({departmentId:"",name:"",read:!1,edit:!1,fill:!1})},t.onAddGroup=function(){this.selectedGroupsArray.push({groupId:"",name:"",read:!1,edit:!1,fill:!1})},t.onSelectedViewUser=function(e,t){e.id&&!this.checkIfAlreadySelected(this.selectedViewersArray,e.id)?(this.selectedViewersArray[t].firstname=e.firstname,this.selectedViewersArray[t].lastname=e.lastname,this.selectedViewersArray[t].userName=e.content,this.selectedViewersArray[t].employeeId=e.id,this.selectedViewersArray[t].departmentName=e.departmentName,this.onUserAdd(),this.usersArray[t].employeeId=e.employeeId,this.usersArray[t].firstname=e.firstname,this.usersArray[t].lastname=e.lastname,this.usersArray[t].read=!0,this.usersArray[t].edit=e.edit||!1,this.emitPermissionEvent()):alert("User already selected.")},t.onSelectedViewUserManualSync=function(e,t){e.id&&!this.checkIfAlreadySelected(this.selectedManualSyncUsersArray,e.id)?(this.selectedManualSyncUsersArray[t].firstname=e.firstname,this.selectedManualSyncUsersArray[t].lastname=e.lastname,this.selectedManualSyncUsersArray[t].userName=e.content,this.selectedManualSyncUsersArray[t].employeeId=e.id,this.selectedManualSyncUsersArray[t].departmentName=e.departmentName,this.onSyncUserAdd(),this.manualSyncUsersArray[t].employeeId=e.employeeId,this.manualSyncUsersArray[t].firstname=e.firstname,this.manualSyncUsersArray[t].lastname=e.lastname,this.emitPermissionEvent()):alert("User already selected.")},t.onSelectedDepartment=function(e,t){e.id&&!this.checkIfDepartmentIsAlreadySelected(this.selectedDepartmentsArray,e.id)?(this.selectedDepartmentsArray[t].name=e.name,this.selectedDepartmentsArray[t].departmentId=e.id,this.onDepartmentAdd(),this.departmentsArray[t].name=e.name,this.departmentsArray[t].departmentId=e.id,this.departmentsArray[t].read=!0,this.departmentsArray[t].edit=e.edit||!1,this.emitPermissionEvent()):alert("Department already selected.")},t.onSelectedGroup=function(e,t){e.id&&!this.checkIfGroupIsAlreadySelected(this.selectedGroupsArray,e.id)?(this.selectedGroupsArray[t].name=e.name,this.selectedGroupsArray[t].groupId=e.id,this.onGroupAdd(),this.groupsArray[t].name=e.name,this.groupsArray[t].groupId=e.id,this.groupsArray[t].read=!0,this.groupsArray[t].edit=e.edit||!1,this.emitPermissionEvent()):alert("Group already selected")},t.onReadSelect=function(e,t){this.selectedViewersArray[t].read=e.checked,this.usersArray[t].read=e.checked,this.emitPermissionEvent()},t.onDepartmentReadSelect=function(e,t){this.selectedDepartmentsArray[t].read=e.checked,this.departmentsArray[t].read=e.checked,this.emitPermissionEvent()},t.onGroupReadSelect=function(e,t){this.selectedGroupsArray[t].read=e.checked,this.groupsArray[t].read=e.checked,this.emitPermissionEvent()},t.onEditSelect=function(e,t){this.selectedViewersArray[t].edit=e.checked,this.usersArray[t].edit=e.checked,this.emitPermissionEvent()},t.onDepartmentEditSelect=function(e,t){this.selectedDepartmentsArray[t].edit=e.checked,this.departmentsArray[t].edit=e.checked,this.emitPermissionEvent()},t.onGroupEditSelect=function(e,t){this.selectedGroupsArray[t].edit=e.checked,this.groupsArray[t].edit=e.checked,this.emitPermissionEvent()},t.onallReadSelect=function(e){this.allUsers.read=e.checked,this.emitPermissionEvent()},t.emitPermissionEvent=function(){this.onPermissionChange.emit({manualSyncPermission:this.manualSyncUsersArray,users:this.usersArray,departments:this.departmentsArray,groups:this.groupsArray,all:this.allUsers})},t.checkIfAlreadySelected=function(e,t){return e.findIndex(function(e){return e.employeeId===t})>-1},t.checkIfDepartmentIsAlreadySelected=function(e,t){return e.findIndex(function(e){return e.departmentId===t})>-1},t.checkIfGroupIsAlreadySelected=function(e,t){return e.findIndex(function(e){return e.groupId===t})>-1},t.removeViewer=function(e){this.selectedViewersArray.splice(e,1),this.usersArray.splice(e,1),this.emitPermissionEvent()},t.removeSyncUser=function(e){this.selectedManualSyncUsersArray.splice(e,1),this.manualSyncUsersArray.splice(e,1),this.emitPermissionEvent()},t.removeDepartment=function(e){this.selectedDepartmentsArray.splice(e,1),this.departmentsArray.splice(e,1),this.emitPermissionEvent()},t.removeGroup=function(e){this.selectedGroupsArray.splice(e,1),this.groupsArray.splice(e,1),this.emitPermissionEvent()},t.onApproverSelect=function(e,t){this.selectedViewersArray.forEach(function(e){e.isApprover=!1}),this.usersArray.forEach(function(e){e.isApprover=!1}),this.selectedViewersArray[t].isApprover=e.checked,this.usersArray[t].isApprover=e.checked,e.checked&&(this.selectedViewersArray[t].read=e.checked,this.usersArray[t].read=e.checked),this.emitPermissionEvent()},e}(),Ww=c["\u0275crt"]({encapsulation:0,styles:[['.add-another[_ngcontent-%COMP%]{height:40px!important;width:126px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #e02020;background-color:#fff}.margin-top-30[_ngcontent-%COMP%]{margin-top:30px}.combo-container[_ngcontent-%COMP%]{flex:1;align-items:center}.anyone-who-has[_ngcontent-%COMP%]{margin-left:5px;opacity:.8;color:#171717;font-family:"IBM Plex Sans";font-size:12px;letter-spacing:.14px;line-height:18px}.all-users-read[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-left:8px}.margin-left-8[_ngcontent-%COMP%]{margin-left:8px}.fill-the-form[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.margin-top-48[_ngcontent-%COMP%]{margin-top:48px}.margin-left-5[_ngcontent-%COMP%]{margin-left:5px}.bx--grid[_ngcontent-%COMP%]{padding:0}.margin-bottom-20[_ngcontent-%COMP%]{margin-bottom:20px}']],data:{}});function zw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Uw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](1,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](2,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","display: flex;align-items: center;margin-bottom: 12px;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](3,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["class","combo-container"],["isDependent","true"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,t,n){var o=!0,r=e.component;return"onSearch"===t&&(o=!1!==r.onSearchUserSync(n,"viewer",e.context.index)&&o),"onSelect"===t&&(o=!1!==r.onSelectedViewUserManualSync(n,e.context.index)&&o),o},FC.b,FC.a)),c["\u0275did"](6,4964352,null,0,LC.a,[c.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"]},{onSearch:"onSearch",onSelect:"onSelect"}),(e()(),c["\u0275eld"](7,0,null,null,4,"div",[["style","flex: 1;"]],null,null,null,null,null)),(e()(),c["\u0275and"](16777216,null,null,1,null,zw)),c["\u0275did"](9,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.removeSyncUser(e.context.index)&&o),o},null,null)),c["\u0275did"](11,4210688,null,0,Gw.a,[c.ElementRef],null,null)],function(e,t){var n=t.component,o=e(t,4,0,12,12,12);e(t,3,0,"user-search-combo-box",o),e(t,6,0,n.searchedManualSyncUsers,"true",t.context.$implicit.userName),e(t,9,0,null!=t.context.$implicit.employeeId&&""!=t.context.$implicit.employeeId)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).baseClass),e(t,2,0,c["\u0275nov"](t,3).columnClasses)})}function Hw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Kw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](1,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](2,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","display: flex;align-items: center;margin-bottom: 12px;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](3,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["class","combo-container"],["isDependent","true"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,t,n){var o=!0,r=e.component;return"onSearch"===t&&(o=!1!==r.onSearchUser(n,"viewer",e.context.index)&&o),"onSelect"===t&&(o=!1!==r.onSelectedViewUser(n,e.context.index)&&o),o},FC.b,FC.a)),c["\u0275did"](6,4964352,null,0,LC.a,[c.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"]},{onSearch:"onSearch",onSelect:"onSelect"}),(e()(),c["\u0275eld"](7,0,null,null,4,"div",[["style","flex: 1;"]],null,null,null,null,null)),(e()(),c["\u0275and"](16777216,null,null,1,null,Hw)),c["\u0275did"](9,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.removeViewer(e.context.index)&&o),o},null,null)),c["\u0275did"](11,4210688,null,0,Gw.a,[c.ElementRef],null,null)],function(e,t){var n=t.component,o=e(t,4,0,12,12,12);e(t,3,0,"user-search-combo-box",o),e(t,6,0,n.searchedUsers,"true",t.context.$implicit.userName),e(t,9,0,null!=t.context.$implicit.employeeId&&""!=t.context.$implicit.employeeId)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).baseClass),e(t,2,0,c["\u0275nov"](t,3).columnClasses)})}function Xw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function qw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](1,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](2,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","display: flex;align-items: center;margin-bottom: 12px;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](3,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["class","combo-container"],["isDependent","true"],["placeholder","Search Department"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,t,n){var o=!0,r=e.component;return"onSearch"===t&&(o=!1!==r.onSearchDepartment(n,"viewer",e.context.index)&&o),"onSelect"===t&&(o=!1!==r.onSelectedDepartment(n,e.context.index)&&o),o},FC.b,FC.a)),c["\u0275did"](6,4964352,null,0,LC.a,[c.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"}),(e()(),c["\u0275eld"](7,0,null,null,4,"div",[["style","flex: 1;"]],null,null,null,null,null)),(e()(),c["\u0275and"](16777216,null,null,1,null,Xw)),c["\u0275did"](9,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.removeDepartment(e.context.index)&&o),o},null,null)),c["\u0275did"](11,4210688,null,0,Gw.a,[c.ElementRef],null,null)],function(e,t){var n=t.component,o=e(t,4,0,12,12,12);e(t,3,0,"user-search-combo-box",o),e(t,6,0,n.searchedDepartments,"true",t.context.$implicit.name,"Search Department"),e(t,9,0,null!=t.context.$implicit.departmentId&&""!=t.context.$implicit.departmentId)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).baseClass),e(t,2,0,c["\u0275nov"](t,3).columnClasses)})}function Yw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Jw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](1,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](2,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","display: flex;align-items: center;margin-bottom: 12px;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](3,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["class","combo-container"],["isDependent","true"],["placeholder","Search Group"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,t,n){var o=!0,r=e.component;return"onSearch"===t&&(o=!1!==r.onSearchGroup(n,"viewer",e.context.index)&&o),"onSelect"===t&&(o=!1!==r.onSelectedGroup(n,e.context.index)&&o),o},FC.b,FC.a)),c["\u0275did"](6,4964352,null,0,LC.a,[c.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"}),(e()(),c["\u0275eld"](7,0,null,null,4,"div",[["style","flex: 1;"]],null,null,null,null,null)),(e()(),c["\u0275and"](16777216,null,null,1,null,Yw)),c["\u0275did"](9,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.removeGroup(e.context.index)&&o),o},null,null)),c["\u0275did"](11,4210688,null,0,Gw.a,[c.ElementRef],null,null)],function(e,t){var n=t.component,o=e(t,4,0,12,12,12);e(t,3,0,"user-search-combo-box",o),e(t,6,0,n.searchedGroups,"true",t.context.$implicit.name,"Search Group"),e(t,9,0,null!=t.context.$implicit.groupId&&""!=t.context.$implicit.groupId)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).baseClass),e(t,2,0,c["\u0275nov"](t,3).columnClasses)})}function Qw(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,65,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),c["\u0275did"](1,16384,null,0,wC.b,[],null,null),(e()(),c["\u0275eld"](2,0,null,null,5,"div",[["ibmRow",""],["style","margin-top: 20px;"]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](3,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](4,0,null,null,3,"small",[],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Define Users who can perform manual data sync for "])),(e()(),c["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),c["\u0275ted"](7,null,["",""])),(e()(),c["\u0275eld"](8,0,null,null,1,"h1",[["class","margin-top-30 margin-bottom-20"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Individuals"])),(e()(),c["\u0275and"](16777216,null,null,1,null,Uw)),c["\u0275did"](11,278528,null,0,rC.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),c["\u0275eld"](12,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](13,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](14,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](15,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](16,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](17,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.onAddSyncUser()&&o),o},null,null)),(e()(),c["\u0275eld"](18,0,null,null,0,"hr",[["style","margin-top: 48px;"]],null,null,null,null,null)),(e()(),c["\u0275eld"](19,0,null,null,5,"div",[["ibmRow",""],["style","margin-top: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](20,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](21,0,null,null,3,"small",[],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Define the read permissions for "])),(e()(),c["\u0275eld"](23,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),c["\u0275ted"](24,null,["",""])),(e()(),c["\u0275eld"](25,0,null,null,1,"h1",[["class","margin-top-30 margin-bottom-20"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Individuals"])),(e()(),c["\u0275and"](16777216,null,null,1,null,Kw)),c["\u0275did"](28,278528,null,0,rC.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),c["\u0275eld"](29,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](30,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](31,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](32,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](33,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](34,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.onAddViewUser()&&o),o},null,null)),(e()(),c["\u0275eld"](35,0,null,null,1,"h1",[["class","margin-top-30 margin-bottom-20"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Departments"])),(e()(),c["\u0275and"](16777216,null,null,1,null,qw)),c["\u0275did"](38,278528,null,0,rC.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),c["\u0275eld"](39,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](40,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](41,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](42,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](43,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](44,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.onAddDepartment()&&o),o},null,null)),(e()(),c["\u0275eld"](45,0,null,null,1,"h1",[["class","margin-top-30 margin-bottom-20"],["style","margin-bottom: 20px;"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Groups"])),(e()(),c["\u0275and"](16777216,null,null,1,null,Jw)),c["\u0275did"](48,278528,null,0,rC.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),c["\u0275eld"](49,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](50,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](51,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](52,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](53,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](54,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.onAddGroup()&&o),o},null,null)),(e()(),c["\u0275eld"](55,0,null,null,10,"div",[["class","margin-top-30"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](56,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](57,0,null,null,8,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](58,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](59,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](60,0,null,null,5,"label",[["class","fill-the-form"]],null,null,null,null,null)),(e()(),c["\u0275eld"](61,0,null,null,1,"span",[["style","font-size: 18px;"]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Give Read Access to Everyone in the organisation"])),(e()(),c["\u0275eld"](63,0,null,null,2,"ibm-checkbox",[["class","margin-left-5"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],[[null,"change"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==e.component.onallReadSelect(n)&&o),o},uw.b,uw.a)),c["\u0275prd"](5120,null,MC.p,function(e){return[e]},[cw.a]),c["\u0275did"](65,4243456,null,0,cw.a,[c.ChangeDetectorRef],{checked:[0,"checked"]},{change:"change"})],function(e,t){var n=t.component;e(t,11,0,n.selectedManualSyncUsersArray);var o=e(t,16,0,12,12,12);e(t,15,0,o),e(t,28,0,n.selectedViewersArray);var r=e(t,33,0,12,12,12);e(t,32,0,r),e(t,38,0,n.selectedDepartmentsArray);var i=e(t,43,0,12,12,12);e(t,42,0,i),e(t,48,0,n.selectedGroupsArray);var a=e(t,53,0,12,12,12);e(t,52,0,a);var s=e(t,59,0,12,12,12);e(t,58,0,s),e(t,65,0,n.allUsers.read)},function(e,t){var n=t.component;e(t,0,0,c["\u0275nov"](t,1).baseClass),e(t,2,0,c["\u0275nov"](t,3).baseClass),e(t,7,0,n.sapFormName),e(t,12,0,c["\u0275nov"](t,13).baseClass),e(t,14,0,c["\u0275nov"](t,15).columnClasses),e(t,19,0,c["\u0275nov"](t,20).baseClass),e(t,24,0,n.sapFormName),e(t,29,0,c["\u0275nov"](t,30).baseClass),e(t,31,0,c["\u0275nov"](t,32).columnClasses),e(t,39,0,c["\u0275nov"](t,40).baseClass),e(t,41,0,c["\u0275nov"](t,42).columnClasses),e(t,49,0,c["\u0275nov"](t,50).baseClass),e(t,51,0,c["\u0275nov"](t,52).columnClasses),e(t,55,0,c["\u0275nov"](t,56).baseClass),e(t,57,0,c["\u0275nov"](t,58).columnClasses),e(t,63,0,c["\u0275nov"](t,65).checkboxWrapperClass,c["\u0275nov"](t,65).formItemClass)})}var Zw=function(){function e(e,t,n,o){this.sapFormService=e,this._toastrService=t,this.activatedRoute=n,this.router=o,this.queryDetails={},this.queryParameters=[],this.responseMappings=[],this.formPermissions=[],this.isDisable=!0,this.formsLoading=!1,this.isAddMode=!0,this.cronSchedule={}}var t=e.prototype;return t.ngOnInit=function(){var e=this;this.isAddMode=-1!=this.router.url.indexOf("add"),this.formsLoading=!0,this.isAddMode?this.formsLoading=!1:this.activatedRoute.params.subscribe(function(t){return Object(BC.__awaiter)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.formid=t.id,!this.isAddMode){e.next=4;break}this.formsLoading=!1,e.next=8;break;case 4:return e.next=6,this.getFormRecord();case 6:n=e.sent.response,this.queryDetails={name:n.name,service_resource:n.service_resource,service_endpoint:n.service_endpoint,dataCaptureFrequency:n.dataCaptureFrequency,modifySAPODATAEntity:n.modifySAPODATAEntity},this.sapFormService.sendMessage(n.name),n.cronSchedule.dayNumber&&"last"===n.cronSchedule.dayNumber?n.cronSchedule.dayNumber={content:"Last Day Of Month",selected:!0}:n.cronSchedule.interval&&(n.cronSchedule.interval={content:"Every "+n.cronSchedule.interval+" hours",value:n.cronSchedule.interval,selected:!0}),this.cronSchedule=n.cronSchedule,n.service_response_map.forEach(function(e){e.deleteExistingResponseMapItems=n.deleteExistingResponseMapItems}),this.queryParameters=n.service_query_params,this.responseMappings=n.service_response_map,this.formPermissions=n.permissions,this.formPermissions.usersWithManualSyncPermission=n.usersWithManualSyncPermission,this.formsLoading=!1,this.formsLoading=!1;case 8:case"end":return e.stop()}},e,this)}))})},t.fetchDetails=function(e){this.cronSchedule=e.cronSchedule,this.queryDetails=e.queryDetails,this.queryParameters=e.service_query_params},t.fetchMapping=function(e){this.responseMappings=e},t.fetchPermissions=function(e){this.formPermissions=e},t.addForm=function(){var e,t,n,o=this;if(this.formPermissions&&(this.formPermissions.users&&this.formPermissions.users.length||this.formPermissions.departments&&this.formPermissions.departments.length||this.formPermissions.groups&&this.formPermissions.groups.length||this.formPermissions.all&&this.formPermissions.all.read)){var r=this.formPermissions&&this.formPermissions.users&&this.formPermissions.users.map(function(e){return{employeeId:e.employeeId,read:e.read,edit:e.edit,fill:e.fill}}),i=this.formPermissions&&this.formPermissions.departments&&this.formPermissions.departments.map(function(e){return{departmentId:e.departmentId,read:e.read,edit:e.edit,fill:e.fill}}),a=this.formPermissions&&this.formPermissions.groups&&this.formPermissions.groups.map(function(e){return{groupId:e.groupId,read:e.read,edit:e.edit,fill:e.fill}});n=this.formPermissions&&this.formPermissions.manualSyncPermission&&this.formPermissions.manualSyncPermission.map(function(e){return e.employeeId}),t={users:r||[],departments:i||[],groups:a||[],all:this.formPermissions&&this.formPermissions.all?this.formPermissions.all:{read:!1,edit:!1}};var s=this.responseMappings&&this.responseMappings.map(function(e){return{label:e.label,data_type:e.data_type.value,api_key:e.api_key,isTimeStamp:!!e.isTimeStamp,unitOfMeasurement:e.unitOfMeasurement?e.unitOfMeasurement:""}}),l=null;this.cronSchedule&&(this.cronSchedule.hour&&this.cronSchedule.minutes&&this.cronSchedule.period&&(l={hour:this.cronSchedule.hour.content,minutes:this.cronSchedule.minutes.content,period:this.cronSchedule.period.content}),this.cronSchedule.dayNumber&&(l.dayNumber="Last Day Of Month"===this.cronSchedule.dayNumber.content?"last":this.cronSchedule.dayNumber.content)),"Hourly"===this.queryDetails.dataCaptureFrequency.content&&(l={interval:this.cronSchedule.interval.value}),(this.queryParameters||[]).forEach(function(e){delete e.deleteExistingResponseMapItems}),e={name:this.queryDetails.name,service_endpoint:this.queryDetails.service_endpoint.id,service_resource:this.queryDetails.service_resource,service_query_params:this.queryParameters,service_response_map:s,permissions:t,dataCaptureFrequency:this.queryDetails.dataCaptureFrequency.id,cronSchedule:l,manualSyncPermission:n||[]},this.isAddMode?this.sapFormService.addFormData(e).subscribe(function(e){o._toastrService.success("Configuration Saved Successfully"),window.history.back()}):this.sapFormService.patchFormDetails(this.formid,e).subscribe(function(e){o._toastrService.success("Configuration Updated Successfully"),window.history.back()})}else this._toastrService.error("Please define individuals/departments/groups/organisation level read permission.")},t.getFormRecord=function(){return Object(BC.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sapFormService.getFormDetails(this.formid).toPromise());case 1:case"end":return e.stop()}},e,this)}))},t.selectTab=function(e){this.selectedTab=e},t.next=function(){this.selectedTab=this.selectedTab+1},t.prev=function(){this.selectedTab=this.selectedTab-1},e}(),$w=c["\u0275crt"]({encapsulation:0,styles:[['.forms-container[_ngcontent-%COMP%]{background-color:#fff;margin-top:10px;padding:32px 32px 20px}.forms-container[_ngcontent-%COMP%]   .metrics-listing-header[_ngcontent-%COMP%]{color:rgba(0,0,0,.85);font-family:"IBM Plex Sans";padding-top:12px;font-size:1.5rem;font-weight:300;line-height:3.125rem;letter-spacing:0}.forms-container[_ngcontent-%COMP%]   .forms-btn-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:row}.forms-container[_ngcontent-%COMP%]   .forms-btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:nth-last-child(1)){margin-right:8px}.forms-container[_ngcontent-%COMP%]   .form-tabs-container[_ngcontent-%COMP%], .forms-container[_ngcontent-%COMP%]   .margin-top-32[_ngcontent-%COMP%]{margin-top:32px}.margin-top-20[_ngcontent-%COMP%]{margin-top:20px!important}.active-status[_ngcontent-%COMP%]{border:1px solid red}.approve-note[_ngcontent-%COMP%]{color:red;margin-top:5px}.add-another[_ngcontent-%COMP%]{height:40px!important;width:80px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #e02020;background-color:#fff}.prev-next[_ngcontent-%COMP%]{margin-left:0;margin-top:12px}.sbmt-btn[_ngcontent-%COMP%]{margin-left:8px;font-size:16px;background-color:#dc222b;border:0;color:#fff;padding:10px;width:100px;cursor:pointer}']],data:{}});function eO(e){return c["\u0275vid"](0,[(e()(),c["\u0275and"](0,null,null,0))],null,null)}function tO(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["style","margin-right: 8px;"],["type","button"],["value","Prev"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.prev()&&o),o},null,null))],null,null)}function nO(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Next"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.next()&&o),o},null,null))],null,null)}function oO(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](1,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](2,0,null,null,9,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](3,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](5,0,null,null,6,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](6,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](7,0,null,null,4,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](8,81920,null,0,wC.a,[],{columnNumbers:[0,"columnNumbers"]},null),c["\u0275pod"](9,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](10,0,null,null,1,"div",[["class","metrics-listing-header"]],null,null,null,null,null)),(e()(),c["\u0275ted"](11,null,[" "," SAP Configuration "])),(e()(),c["\u0275eld"](12,0,null,null,36,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](13,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](14,0,null,null,34,"div",[["class","form-tabs-container"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](15,81920,null,0,wC.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),c["\u0275pod"](16,{lg:0,md:1,sm:2}),(e()(),c["\u0275eld"](17,0,null,null,23,"ibm-tabs",[],null,null,null,OC.b,OC.a)),c["\u0275did"](18,1097728,null,2,xC.a,[],null,null),c["\u0275qud"](603979776,1,{tabs:1}),c["\u0275qud"](335544320,2,{tabHeaders:0}),(e()(),c["\u0275eld"](21,0,null,0,4,"ibm-tab",[["heading","Service Query"]],[[1,"id",0]],[[null,"selected"]],function(e,t,n){var o=!0;return"selected"===t&&(o=!1!==e.component.selectTab(0)&&o),o},SC.b,SC.a)),c["\u0275did"](22,114688,[[1,4]],0,PC.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(e()(),c["\u0275eld"](23,0,null,0,2,null,null,null,null,null,null,null)),(e()(),c["\u0275eld"](24,0,null,null,1,"app-service-query",[],null,[[null,"onDetailsChange"]],function(e,t,n){var o=!0;return"onDetailsChange"===t&&(o=!1!==e.component.fetchDetails(n)&&o),o},lw,XC)),c["\u0275did"](25,638976,null,0,KC,[WC.a,sC.j,eC.a],{serviceQuery:[0,"serviceQuery"],parametersList:[1,"parametersList"],cronSchedule:[2,"cronSchedule"]},{onDetailsChange:"onDetailsChange"}),(e()(),c["\u0275eld"](26,0,null,0,4,"ibm-tab",[["heading","Service Response Map"]],[[1,"id",0]],[[null,"selected"]],function(e,t,n){var o=!0;return"selected"===t&&(o=!1!==e.component.selectTab(1)&&o),o},SC.b,SC.a)),c["\u0275did"](27,114688,[[1,4]],0,PC.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(e()(),c["\u0275eld"](28,0,null,0,2,null,null,null,null,null,null,null)),(e()(),c["\u0275eld"](29,0,null,null,1,"app-service-response-map",[],null,[[null,"onMappingChange"]],function(e,t,n){var o=!0;return"onMappingChange"===t&&(o=!1!==e.component.fetchMapping(n)&&o),o},xw,hw)),c["\u0275did"](30,638976,null,0,dw,[sC.j,WC.a,pw.a],{responseList:[0,"responseList"]},{onMappingChange:"onMappingChange"}),(e()(),c["\u0275eld"](31,0,null,0,4,"ibm-tab",[["heading","Test Connection"]],[[1,"id",0]],[[null,"selected"]],function(e,t,n){var o=!0;return"selected"===t&&(o=!1!==e.component.selectTab(2)&&o),o},SC.b,SC.a)),c["\u0275did"](32,114688,[[1,4]],0,PC.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(e()(),c["\u0275eld"](33,0,null,0,2,null,null,null,null,null,null,null)),(e()(),c["\u0275eld"](34,0,null,null,1,"app-test-connection",[],null,null,null,jw,Tw)),c["\u0275did"](35,638976,null,0,Ew,[eC.a],{serviceQuery:[0,"serviceQuery"],parametersList:[1,"parametersList"],responseList:[2,"responseList"]},null),(e()(),c["\u0275eld"](36,0,null,0,4,"ibm-tab",[["heading","Permissions"]],[[1,"id",0]],[[null,"selected"]],function(e,t,n){var o=!0;return"selected"===t&&(o=!1!==e.component.selectTab(3)&&o),o},SC.b,SC.a)),c["\u0275did"](37,114688,[[1,4]],0,PC.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(e()(),c["\u0275eld"](38,0,null,0,2,null,null,null,null,null,null,null)),(e()(),c["\u0275eld"](39,0,null,null,1,"app-sap-permissions",[],null,[[null,"onPermissionChange"]],function(e,t,n){var o=!0;return"onPermissionChange"===t&&(o=!1!==e.component.fetchPermissions(n)&&o),o},Qw,Ww)),c["\u0275did"](40,638976,null,0,Bw,[pw.a,WC.a,Vw.a,eC.a],{isAddMode:[0,"isAddMode"],permissions:[1,"permissions"],serviceQuery:[2,"serviceQuery"]},{onPermissionChange:"onPermissionChange"}),(e()(),c["\u0275eld"](41,0,null,null,7,"div",[["class","prev-next"]],null,null,null,null,null)),(e()(),c["\u0275and"](16777216,null,null,1,null,tO)),c["\u0275did"](43,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,nO)),c["\u0275did"](45,16384,null,0,rC.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),c["\u0275eld"](46,0,null,null,2,"button",[["class","sbmt-btn"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.addForm()&&o),o},null,null)),(e()(),c["\u0275eld"](47,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Submit"]))],function(e,t){var n=t.component,o=e(t,4,0,12,12,12);e(t,3,0,o);var r=e(t,9,0,5,5,12);e(t,8,0,r);var i=e(t,16,0,12,12,12);e(t,15,0,"form-tabs-container",i),e(t,22,0,"Service Query",0==n.selectedTab),e(t,25,0,n.queryDetails,n.queryParameters,n.cronSchedule),e(t,27,0,"Service Response Map",1==n.selectedTab),e(t,30,0,n.responseMappings),e(t,32,0,"Test Connection",2==n.selectedTab),e(t,35,0,n.queryDetails,n.queryParameters,n.responseMappings),e(t,37,0,"Permissions",3==n.selectedTab),e(t,40,0,n.isAddMode,n.formPermissions,n.queryDetails),e(t,43,0,0!=n.selectedTab),e(t,45,0,3!=n.selectedTab)},function(e,t){var n=t.component;e(t,0,0,c["\u0275nov"](t,1).baseClass),e(t,2,0,c["\u0275nov"](t,3).columnClasses),e(t,5,0,c["\u0275nov"](t,6).baseClass),e(t,7,0,c["\u0275nov"](t,8).columnClasses),e(t,11,0,n.isAddMode?"Add":"Edit"),e(t,12,0,c["\u0275nov"](t,13).baseClass),e(t,14,0,c["\u0275nov"](t,15).columnClasses),e(t,21,0,c["\u0275nov"](t,22).attrClass),e(t,26,0,c["\u0275nov"](t,27).attrClass),e(t,31,0,c["\u0275nov"](t,32).attrClass),e(t,36,0,c["\u0275nov"](t,37).attrClass)})}function rO(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text "]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"],["title","Loading"]],[[2,"bx--loading-overlay",null]],null,null,Sw.b,Sw.a)),c["\u0275did"](2,49152,null,0,Pw.a,[TC.a],{title:[0,"title"],size:[1,"size"]},null),(e()(),c["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Loading..."]))],function(e,t){e(t,2,0,"Loading","sm")},function(e,t){e(t,1,0,c["\u0275nov"](t,2).overlay)})}function iO(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,3,"div",[["class","forms-container"],["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),c["\u0275did"](1,16384,null,0,wC.b,[],null,null),(e()(),c["\u0275and"](16777216,null,null,1,null,eO)),c["\u0275did"](3,540672,null,0,rC.NgTemplateOutlet,[c.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),c["\u0275and"](0,[["result",2]],null,0,null,oO)),(e()(),c["\u0275and"](0,[["loading",2]],null,0,null,rO))],function(e,t){e(t,3,0,c["\u0275nov"](t,t.component.formsLoading?5:4))},function(e,t){e(t,0,0,c["\u0275nov"](t,1).baseClass)})}var aO=c["\u0275ccf"]("app-sap-forms",Zw,function(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,1,"app-sap-forms",[],null,null,null,iO,$w)),c["\u0275did"](1,114688,null,0,Zw,[eC.a,sC.j,aC.a,aC.o],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),sO=n("XNiG"),lO=n("Kj3r"),uO=function(){function e(e,t,n,o){this.modalService=e,this.toasterService=t,this.confirmationService=n,this.sapService=o,this.title="SAP Configuration approval",this.searchModelChanged=new sO.a,this.searchQueryText="",this.metricList=[],this.configLists=[]}var t=e.prototype;return t.ngOnInit=function(){var e=this;this.logInEmployeeId=localStorage.getItem("E_Id"),this.getForms(),this.searchModelChangeSubscription=this.searchModelChanged.pipe(Object(lO.a)(600)).subscribe(function(t){e.searchQueryText=t,e.getForms()})},t.getForms=function(){var e=this;this.isFormsLoading=!0,this.configLists=[],this.sapService.getApprovalList(this.searchQueryText,!1).subscribe(function(t){t.response.records.forEach(function(t){t.isApproved||e.configLists.push(t)}),e.isFormsLoading=!1},function(t){e.isFormsLoading=!1})},t.approveConfig=function(e){var t=this;this.approval=this.confirmationService.getData().subscribe(function(n){n?t.sapService.approveSAPConfiguration(e).subscribe(function(e){t.toasterService.success(zC.a.SAP_CONFIG_APPROVAL_SUCCESS),t.getForms(),t.confirmationService.setData(!1)}):t.approval&&t.approval.unsubscribe()}),this.modalService.create({component:tC.a,inputs:{modalText:"Are you sure you want to approve?"}})},t.ngOnDestroy=function(){this.searchModelChangeSubscription.unsubscribe()},e}(),cO=c["\u0275crt"]({encapsulation:0,styles:[['.metric-approval-pending-container[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px;padding-top:3rem}.metric-approval-pending-container[_ngcontent-%COMP%]   .justify-content-flex-end[_ngcontent-%COMP%]{justify-content:flex-end;display:flex}.metric-approval-pending-container[_ngcontent-%COMP%]   .kpi-pending-title[_ngcontent-%COMP%]{color:rgba(0,0,0,.85);font-family:"IBM Plex Sans";font-size:27px;line-height:26px;margin-bottom:36px}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]{padding:2px;height:auto;background:#fff;color:#fff;cursor:pointer}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]   .tag-value.green[_ngcontent-%COMP%]{background-color:#24a249;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 24px;border-radius:22px}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]   .tag-value.orange[_ngcontent-%COMP%]{background-color:#f3a600;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 24px;border-radius:22px}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]   .tag-value.blue[_ngcontent-%COMP%]{background-color:#7598fe;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 24px;border-radius:22px}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]   .tag-value.gray[_ngcontent-%COMP%]{background-color:#979797;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 24px;border-radius:22px}.metric-approval-pending-container[_ngcontent-%COMP%]   .align-items-flex-end[_ngcontent-%COMP%]{align-items:flex-end}.metric-approval-pending-container[_ngcontent-%COMP%]   .align-items-flex-center[_ngcontent-%COMP%]{align-items:center}.metric-approval-pending-container[_ngcontent-%COMP%]   .no-padding-max-width-grid[_ngcontent-%COMP%]{padding:0;max-width:none}.metric-approval-pending-container[_ngcontent-%COMP%]   .search-text-input[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px}.metric-approval-pending-container[_ngcontent-%COMP%]   .search-text-input.bx--search-input[_ngcontent-%COMP%]{border-bottom:1px solid #8c8c8c}.metric-approval-pending-container[_ngcontent-%COMP%]   .margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.metric-approval-pending-container[_ngcontent-%COMP%]   .margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTable[_ngcontent-%COMP%]{display:flex;flex-direction:column}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableHead[_ngcontent-%COMP%]{font-size:16px;font-weight:600;display:flex;flex-direction:column;flex-basis:100%;flex:1}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableCell[_ngcontent-%COMP%]{font-size:16px;display:flex;flex-direction:column;flex-basis:100%;flex:1;cursor:pointer}.metric-approval-pending-container[_ngcontent-%COMP%]   .tableHeads[_ngcontent-%COMP%]{height:48px;display:flex;align-items:center;background-color:#f3f3f3;padding:16px}.metric-approval-pending-container[_ngcontent-%COMP%]   .flex-2[_ngcontent-%COMP%]{flex:2!important}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableRowWrapper[_ngcontent-%COMP%]{width:100%;padding:16px;display:flex;align-items:center;border-left:1px solid #f2f3f9;border-bottom:1px solid #f2f3f9;border-top:1px solid #f2f3f9;border-right:1px solid #f2f3f9}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableRowWrapper.tree-list-child[_ngcontent-%COMP%]{width:calc(100% - 12px)}.metric-approval-pending-container[_ngcontent-%COMP%]   .border-left-blue[_ngcontent-%COMP%]{border-left:5px solid #7598fe}.metric-approval-pending-container[_ngcontent-%COMP%]   .border-left-child-item[_ngcontent-%COMP%]{border-left:5px solid #f3a600}.metric-approval-pending-container[_ngcontent-%COMP%]   .padding-16px[_ngcontent-%COMP%]{padding:16px}.metric-approval-pending-container[_ngcontent-%COMP%]   .padding-top-bottom-16px[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}.metric-approval-pending-container[_ngcontent-%COMP%]   .padding-left-16px[_ngcontent-%COMP%]{padding-left:16px}.metric-approval-pending-container[_ngcontent-%COMP%]   .padding-right-16px[_ngcontent-%COMP%]{padding-right:16px}@media screen and (max-width:992px){.metric-approval-pending-container[_ngcontent-%COMP%]   .align-items-flex-end[_ngcontent-%COMP%], .metric-approval-pending-container[_ngcontent-%COMP%]   .button-goal[_ngcontent-%COMP%]{margin-top:24px}}.metric-approval-pending-container[_ngcontent-%COMP%]   .assinged-to-text[_ngcontent-%COMP%]{color:#bebebe;font-family:"IBM Plex Sans";font-size:10px;line-height:13px}.metric-approval-pending-container[_ngcontent-%COMP%]   .assinged-to-text-normal[_ngcontent-%COMP%]{color:#242425;font-family:"IBM Plex Sans";font-size:10px;line-height:13px}.metric-approval-pending-container[_ngcontent-%COMP%]   .background-blue[_ngcontent-%COMP%]{background-color:#f4f7fe}.metric-approval-pending-container[_ngcontent-%COMP%]   .delivery-schedule-ad[_ngcontent-%COMP%]{color:#414042;font-family:"IBM Plex Sans";font-size:16px;font-weight:500;line-height:20px}.metric-approval-pending-container[_ngcontent-%COMP%]   .percentage-text[_ngcontent-%COMP%]{color:#000;font-family:"IBM Plex Sans";font-size:25px;font-weight:500;line-height:33px}.metric-approval-pending-container[_ngcontent-%COMP%]   .percentage-text-ytd[_ngcontent-%COMP%]{color:#9f9f9f;font-family:"IBM Plex Sans";font-size:12px;line-height:15px}.metric-approval-pending-container[_ngcontent-%COMP%]   .d-p[_ngcontent-%COMP%], .metric-approval-pending-container[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{color:#9f9f9f;font-family:"IBM Plex Sans";font-size:16px;line-height:20px}.metric-approval-pending-container[_ngcontent-%COMP%]   .svg-red[_ngcontent-%COMP%]{width:16px;height:16px;fill:red}.metric-approval-pending-container[_ngcontent-%COMP%]   .svg-green[_ngcontent-%COMP%]{width:16px;height:16px;fill:green}.metric-approval-pending-container[_ngcontent-%COMP%]   .display-inline[_ngcontent-%COMP%]{display:inline}.metric-approval-pending-container[_ngcontent-%COMP%]   .view-action-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.metric-approval-pending-container[_ngcontent-%COMP%]   .details-right-arrow[_ngcontent-%COMP%]{fill:#fff}.metric-approval-pending-container[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:space-around;background:#da1e28;cursor:pointer}.tree-list-parent[_ngcontent-%COMP%]{position:relative;width:100%}.tree-list-parent[_ngcontent-%COMP%]   .tree-list-child[_ngcontent-%COMP%]{margin:12px;position:relative;border-left:5px solid #f3a600}.tree-list-parent[_ngcontent-%COMP%]   .tree-list-child[_ngcontent-%COMP%]::before{position:absolute;content:"";width:1em;left:-17px;top:-118%;z-index:0;height:170%;border-left:1px solid #bebebe;border-bottom:1px solid #bebebe}.metadiv[_ngcontent-%COMP%]{padding:16px;border-left:1px solid #8080804a;border-right:1px solid #8080803b;border-bottom:1px solid #8080803b}.center-loader-text[_ngcontent-%COMP%]{display:flex;align-items:center}.inline[_ngcontent-%COMP%]{display:inline-block}.margin-bottom-16[_ngcontent-%COMP%]{margin-bottom:1em}.width10[_ngcontent-%COMP%]{width:10%!important}.width20[_ngcontent-%COMP%]{width:20%!important}.width30[_ngcontent-%COMP%]{width:30%!important}.elipsis[_ngcontent-%COMP%]{max-width:310px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:block!important}']],data:{}});function pO(e){return c["\u0275vid"](0,[(e()(),c["\u0275and"](0,null,null,0))],null,null)}function dO(e){return c["\u0275vid"](0,[(e()(),c["\u0275and"](0,null,null,0))],null,null)}function hO(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,8,"div",[["class","bx--search"],["data-search",""],["role","search"]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,5,"input",[["class","bx--search-input search-text-input"],["id","search__input-kpi"],["placeholder","Search by configuration Name"],["style","border-bottom: none;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0,r=e.component;return"input"===t&&(o=!1!==c["\u0275nov"](e,2)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==c["\u0275nov"](e,2).onTouched()&&o),"compositionstart"===t&&(o=!1!==c["\u0275nov"](e,2)._compositionStart()&&o),"compositionend"===t&&(o=!1!==c["\u0275nov"](e,2)._compositionEnd(n.target.value)&&o),"ngModelChange"===t&&(o=!1!==(r.searchQueryText=n)&&o),"ngModelChange"===t&&(o=!1!==r.searchModelChanged.next(n)&&o),o},null,null)),c["\u0275did"](2,16384,null,0,MC.c,[c.Renderer2,c.ElementRef,[2,MC.a]],null,null),c["\u0275prd"](1024,null,MC.p,function(e){return[e]},[MC.c]),c["\u0275did"](4,671744,null,0,MC.u,[[8,null],[8,null],[8,null],[6,MC.p]],{model:[0,"model"]},{update:"ngModelChange"}),c["\u0275prd"](2048,null,MC.q,null,[MC.u]),c["\u0275did"](6,16384,null,0,MC.r,[[4,MC.q]],null,null),(e()(),c["\u0275eld"](7,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","bx--search-magnifier"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 16 16"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(e()(),c["\u0275eld"](8,0,null,null,0,":svg:path",[["d","M15 14.3L10.7 10c1.9-2.3 1.6-5.8-.7-7.7S4.2.7 2.3 3 .7 8.8 3 10.7c2 1.7 5 1.7 7 0l4.3 4.3.7-.7zM2 6.5C2 4 4 2 6.5 2S11 4 11 6.5 9 11 6.5 11 2 9 2 6.5z"]],null,null,null,null,null))],function(e,t){e(t,4,0,t.component.searchQueryText)},function(e,t){e(t,1,0,c["\u0275nov"](t,6).ngClassUntouched,c["\u0275nov"](t,6).ngClassTouched,c["\u0275nov"](t,6).ngClassPristine,c["\u0275nov"](t,6).ngClassDirty,c["\u0275nov"](t,6).ngClassValid,c["\u0275nov"](t,6).ngClassInvalid,c["\u0275nov"](t,6).ngClassPending)})}function fO(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,8,"div",[["class","rTableRow margin-bottom-16"]],null,null,null,null,null)),(e()(),c["\u0275eld"](2,0,null,null,7,"div",[["class","rTableRowWrapper"]],null,null,null,null,null)),(e()(),c["\u0275eld"](3,0,null,null,1,"div",[["class","rTableCell width20 Width140"]],null,null,null,null,null)),(e()(),c["\u0275ted"](4,null,[" "," "])),(e()(),c["\u0275eld"](5,0,null,null,4,"div",[["class","rTableCell width10 align-items-flex-center"]],null,null,null,null,null)),(e()(),c["\u0275eld"](6,0,null,null,3,null,null,null,null,null,null,null)),(e()(),c["\u0275eld"](7,0,null,null,2,"button",[["class","accpt-btn"],["ibmButton","danger"],["title","Approve"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.approveConfig(e.context.$implicit._id)&&o),o},null,null)),c["\u0275did"](8,16384,null,0,Jb.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),c["\u0275ted"](-1,null,[" Approve "]))],function(e,t){e(t,8,0,"danger")},function(e,t){e(t,4,0,t.context.$implicit.name),e(t,7,1,[c["\u0275nov"](t,8).baseClass,c["\u0275nov"](t,8).primaryButton,c["\u0275nov"](t,8).secondaryButton,c["\u0275nov"](t,8).tertiaryButton,c["\u0275nov"](t,8).ghostButton,c["\u0275nov"](t,8).dangerButton,c["\u0275nov"](t,8).dangerPrimaryButton,c["\u0275nov"](t,8).skeleton,c["\u0275nov"](t,8).smallSize,c["\u0275nov"](t,8).toolbarAction,c["\u0275nov"](t,8).overflowMenu])})}function gO(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,10,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](1,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](2,0,null,null,8,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](3,81920,null,0,wC.a,[],null,null),(e()(),c["\u0275eld"](4,0,null,null,4,"div",[["class","rTableRow tableHeads"]],null,null,null,null,null)),(e()(),c["\u0275eld"](5,0,null,null,2,"div",[["class","rTableHead width20 Width140"]],null,null,null,null,null)),(e()(),c["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Configuration Name"])),(e()(),c["\u0275eld"](8,0,null,null,0,"div",[["class","rTableHead"]],null,null,null,null,null)),(e()(),c["\u0275and"](16777216,null,null,1,null,fO)),c["\u0275did"](10,278528,null,0,rC.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,3,0),e(t,10,0,n.configLists)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).baseClass),e(t,2,0,c["\u0275nov"](t,3).columnClasses)})}function mO(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text "]],null,null,null,null,null)),(e()(),c["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline "],["size","sm"]],[[2,"bx--loading-overlay",null]],null,null,Sw.b,Sw.a)),c["\u0275did"](2,49152,null,0,Pw.a,[TC.a],{title:[0,"title"],size:[1,"size"]},null),(e()(),c["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Loading..."]))],function(e,t){e(t,2,0,t.component.loadingText,"sm")},function(e,t){e(t,1,0,c["\u0275nov"](t,2).overlay)})}function yO(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,8,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](1,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](2,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](3,81920,null,0,wC.a,[],null,null),(e()(),c["\u0275eld"](4,0,null,null,4,"div",[["class","rTableRow tableHeads"]],null,null,null,null,null)),(e()(),c["\u0275eld"](5,0,null,null,2,"div",[["class","rTableHead width20 Width140"]],null,null,null,null,null)),(e()(),c["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["Configuration Name"])),(e()(),c["\u0275eld"](8,0,null,null,0,"div",[["class","rTableHead"]],null,null,null,null,null)),(e()(),c["\u0275eld"](9,0,null,null,1,"div",[["class","metadiv "]],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,["No results found!"]))],function(e,t){e(t,3,0)},function(e,t){e(t,0,0,c["\u0275nov"](t,1).baseClass),e(t,2,0,c["\u0275nov"](t,3).columnClasses)})}function vO(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,13,"div",[["class","metric-approval-pending-container no-padding-max-width-grid"],["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),c["\u0275did"](1,16384,null,0,wC.b,[],null,null),(e()(),c["\u0275eld"](2,0,null,null,1,"h1",[["class","kpi-pending-title"]],null,null,null,null,null)),(e()(),c["\u0275ted"](3,null,[" "," "])),(e()(),c["\u0275eld"](4,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),c["\u0275ted"](-1,null,[" (Before approval, you can verify the form fields in SAP forms listing.) "])),(e()(),c["\u0275eld"](6,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),c["\u0275did"](7,16384,null,0,wC.c,[],null,null),(e()(),c["\u0275eld"](8,0,null,null,3,"div",[["ibmCol",""],["style","margin-bottom: 10px;"]],[[8,"className",0]],null,null,null,null)),c["\u0275did"](9,81920,null,0,wC.a,[],null,null),(e()(),c["\u0275and"](16777216,null,null,1,null,pO)),c["\u0275did"](11,540672,null,0,rC.NgTemplateOutlet,[c.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),c["\u0275and"](16777216,null,null,1,null,dO)),c["\u0275did"](13,540672,null,0,rC.NgTemplateOutlet,[c.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),c["\u0275and"](0,[["searchTemplate",2]],null,0,null,hO)),(e()(),c["\u0275and"](0,[["result",2]],null,0,null,gO)),(e()(),c["\u0275and"](0,[["loading",2]],null,0,null,mO)),(e()(),c["\u0275and"](0,[["noresults",2]],null,0,null,yO))],function(e,t){var n=t.component;e(t,9,0),e(t,11,0,c["\u0275nov"](t,14)),e(t,13,0,c["\u0275nov"](t,n.isFormsLoading?16:n.configLists&&n.configLists.length?15:17))},function(e,t){var n=t.component;e(t,0,0,c["\u0275nov"](t,1).baseClass),e(t,3,0,n.title),e(t,6,0,c["\u0275nov"](t,7).baseClass),e(t,8,0,c["\u0275nov"](t,9).columnClasses)})}var bO=c["\u0275ccf"]("app-approval-list",uO,function(e){return c["\u0275vid"](0,[(e()(),c["\u0275eld"](0,0,null,null,1,"app-approval-list",[],null,null,null,vO,cO)),c["\u0275did"](1,245760,null,0,uO,[lC.a,sC.j,nC.a,eC.a],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),CO=n("1Txd"),wO=n("+jrW"),OO=n("NpSD"),xO=n("cbbC"),SO=n("Gv0t"),PO=n("cN2v"),_O=n("gKtx"),EO=n("GRwY"),TO=n("P08G"),AO=n("quVZ"),MO=n("t7MO"),DO=n("GcOC"),kO=n("I0pH"),RO=n("ZHEK"),IO=n("RJDq"),NO=n("U6oK"),FO=n("QQfA"),LO=n("IP0z"),jO=n("POq0"),GO=n("BTng"),VO=n("/HVE"),BO=n("uvqg"),WO=n("f8KH"),zO=n("maoM"),UO=n("Z3BZ"),HO=n("pQSL"),KO=n("XX5M"),XO=n("Mc5n"),qO=n("hOhj"),YO=function(){},JO=n("nU9L"),QO=n("+IpF"),ZO=n("jQIA"),$O=n("+NSx"),ex=n("jPU2"),tx=n("h6sn"),nx=n("nXcq"),ox=n("eUdb"),rx=n("SpJC"),ix=n("IxoR"),ax=n("P5T4"),sx=n("H+bR"),lx=n("nhzO"),ux=n("cbyg"),cx=n("niTG"),px=n("XBWk"),dx=n("4UMp"),hx=n("5F/F"),fx=n("3ezH"),gx=n("zMNK"),mx=n("5GAg"),yx=n("Lb5T"),vx=n("ctAq"),bx=n("kEMu"),Cx=n("vjI9"),wx=n("yKc8"),Ox=n("ezSh"),xx=n("pVHs"),Sx=n("ixoK"),Px=n("LuTi"),_x=n("h5jA"),Ex=n("9Ntg"),Tx=n("wqUn"),Ax=n("HSTZ"),Mx=n("OZcg"),Dx=n("nw/W"),kx=n("EJfY"),Rx=n("Tl03"),Ix=n("TnPb"),Nx=n("4CUH"),Fx=n("yY6o"),Lx=n("+5LG"),jx=n("9LTo"),Gx=n("YQsh"),Vx=n("r4fo"),Bx=n("Cp+m"),Wx=n("md77"),zx=n("KsYJ"),Ux=n("/swn"),Hx=n("aWPX"),Kx=n("GMRT"),Xx=n("+Inj"),qx=n("UWdB"),Yx=n("kdZC"),Jx=n("BeZq"),Qx=n("bzBv"),Zx=n("RCvU"),$x=n("F5Q9"),eS=n("yFBK");n.d(t,"SapFormModuleNgFactory",function(){return tS});var tS=c["\u0275cmf"](qb,[],function(e){return c["\u0275mod"]([c["\u0275mpd"](512,c.ComponentFactoryResolver,c["\u0275CodegenComponentFactoryResolver"],[[8,[Yb.a,pC,CC,aO,bO,CO.a,wO.c,wO.d,OO.a,xO.a,SO.a,PO.a,_O.a,EO.a,TO.a,AO.a,MO.a,DO.a,kO.a]],[3,c.ComponentFactoryResolver],c.NgModuleRef]),c["\u0275mpd"](4608,rC.NgLocalization,rC.NgLocaleLocalization,[c.LOCALE_ID,[2,rC["\u0275angular_packages_common_common_a"]]]),c["\u0275mpd"](4608,MC.C,MC.C,[]),c["\u0275mpd"](4608,MC.f,MC.f,[]),c["\u0275mpd"](5120,TC.a,RO.a,[[3,TC.a]]),c["\u0275mpd"](5120,IO.a,NO.a,[[3,IO.a]]),c["\u0275mpd"](4608,AC.a,AC.a,[IO.a]),c["\u0275mpd"](4608,FO.b,FO.b,[FO.h,FO.d,c.ComponentFactoryResolver,FO.g,FO.e,c.Injector,c.NgZone,rC.DOCUMENT,LO.b,[2,rC.Location]]),c["\u0275mpd"](5120,FO.i,FO.j,[FO.b]),c["\u0275mpd"](4608,jO.a,jO.a,[]),c["\u0275mpd"](5120,GO.s,GO.t,[FO.b]),c["\u0275mpd"](4608,GO.v,GO.v,[FO.b,c.Injector,[2,rC.Location],GO.s,[2,GO.u],[3,GO.v],FO.d]),c["\u0275mpd"](4608,GO.f,GO.f,[]),c["\u0275mpd"](5120,GO.o,GO.p,[FO.b]),c["\u0275mpd"](4608,GO.a,GO.m,[[2,GO.c],VO.a]),c["\u0275mpd"](5120,BO.a,WO.a,[[3,BO.a]]),c["\u0275mpd"](4608,lC.a,lC.a,[c.ComponentFactoryResolver,IO.a]),c["\u0275mpd"](4608,zO.a,zO.a,[c.ComponentFactoryResolver,c.Injector,IO.a]),c["\u0275mpd"](4608,UO.a,UO.a,[HO.a]),c["\u0275mpd"](4608,pw.a,pw.a,[HO.a]),c["\u0275mpd"](4608,Vw.a,Vw.a,[HO.a]),c["\u0275mpd"](4608,KO.a,KO.a,[HO.a]),c["\u0275mpd"](4608,WC.a,WC.a,[HO.a]),c["\u0275mpd"](4608,XO.b,XO.b,[rC.DOCUMENT,c.NgZone,qO.d,XO.d]),c["\u0275mpd"](4608,hC.a,hC.a,[HO.a]),c["\u0275mpd"](4608,eC.a,eC.a,[HO.a]),c["\u0275mpd"](4608,nC.a,nC.a,[]),c["\u0275mpd"](1073742336,rC.CommonModule,rC.CommonModule,[]),c["\u0275mpd"](1073742336,aC.s,aC.s,[[2,aC.x],[2,aC.o]]),c["\u0275mpd"](1073742336,YO,YO,[]),c["\u0275mpd"](1073742336,JO.a,JO.a,[]),c["\u0275mpd"](1073742336,MC.B,MC.B,[]),c["\u0275mpd"](1073742336,MC.l,MC.l,[]),c["\u0275mpd"](1073742336,MC.x,MC.x,[]),c["\u0275mpd"](1073742336,QO.c,QO.c,[]),c["\u0275mpd"](1073742336,ZO.a,ZO.a,[]),c["\u0275mpd"](1073742336,RO.c,RO.c,[]),c["\u0275mpd"](1073742336,NO.b,NO.b,[]),c["\u0275mpd"](1073742336,$O.c,$O.c,[]),c["\u0275mpd"](1073742336,ex.a,ex.a,[]),c["\u0275mpd"](1073742336,tx.a,tx.a,[]),c["\u0275mpd"](1073742336,nx.a,nx.a,[]),c["\u0275mpd"](1073742336,ox.c,ox.c,[]),c["\u0275mpd"](1073742336,rx.a,rx.a,[]),c["\u0275mpd"](1073742336,ix.a,ix.a,[]),c["\u0275mpd"](1073742336,ax.a,ax.a,[]),c["\u0275mpd"](1073742336,sx.a,sx.a,[]),c["\u0275mpd"](1073742336,lx.a,lx.a,[]),c["\u0275mpd"](1073742336,ux.a,ux.a,[]),c["\u0275mpd"](1073742336,cx.c,cx.c,[]),c["\u0275mpd"](1073742336,px.c,px.c,[]),c["\u0275mpd"](1073742336,dx.a,dx.a,[]),c["\u0275mpd"](1073742336,hx.a,hx.a,[]),c["\u0275mpd"](1073742336,fx.a,fx.a,[]),c["\u0275mpd"](1073742336,LO.a,LO.a,[]),c["\u0275mpd"](1073742336,gx.f,gx.f,[]),c["\u0275mpd"](1073742336,VO.b,VO.b,[]),c["\u0275mpd"](1073742336,qO.b,qO.b,[]),c["\u0275mpd"](1073742336,FO.f,FO.f,[]),c["\u0275mpd"](1073742336,jO.b,jO.b,[]),c["\u0275mpd"](1073742336,mx.a,mx.a,[]),c["\u0275mpd"](1073742336,GO.q,GO.q,[]),c["\u0275mpd"](1073742336,GO.g,GO.g,[]),c["\u0275mpd"](1073742336,GO.i,GO.i,[]),c["\u0275mpd"](1073742336,GO.h,GO.h,[]),c["\u0275mpd"](1073742336,yx.b,yx.b,[]),c["\u0275mpd"](1073742336,Gw.b,Gw.b,[]),c["\u0275mpd"](1073742336,WO.b,WO.b,[]),c["\u0275mpd"](1073742336,vx.b,vx.b,[]),c["\u0275mpd"](1073742336,bx.a,bx.a,[]),c["\u0275mpd"](1073742336,Cx.b,Cx.b,[]),c["\u0275mpd"](1073742336,wx.a,wx.a,[]),c["\u0275mpd"](1073742336,Ox.a,Ox.a,[]),c["\u0275mpd"](1073742336,xx.a,xx.a,[]),c["\u0275mpd"](1073742336,Sx.c,Sx.c,[]),c["\u0275mpd"](1073742336,Px.d,Px.d,[]),c["\u0275mpd"](1073742336,_x.c,_x.c,[]),c["\u0275mpd"](1073742336,Ex.c,Ex.c,[]),c["\u0275mpd"](1073742336,Tx.b,Tx.b,[]),c["\u0275mpd"](1073742336,Ax.a,Ax.a,[]),c["\u0275mpd"](1073742336,Mx.a,Mx.a,[]),c["\u0275mpd"](1073742336,Dx.b,Dx.b,[]),c["\u0275mpd"](1073742336,kx.a,kx.a,[]),c["\u0275mpd"](1073742336,Rx.a,Rx.a,[]),c["\u0275mpd"](1073742336,XO.c,XO.c,[]),c["\u0275mpd"](1073742336,Qb.b,Qb.b,[]),c["\u0275mpd"](1073742336,Ix.b,Ix.b,[]),c["\u0275mpd"](1073742336,Nx.b,Nx.b,[]),c["\u0275mpd"](1073742336,Fx.b,Fx.b,[]),c["\u0275mpd"](1073742336,Lx.a,Lx.a,[]),c["\u0275mpd"](1073742336,jx.b,jx.b,[]),c["\u0275mpd"](1073742336,Gx.b,Gx.b,[]),c["\u0275mpd"](1073742336,Vx.a,Vx.a,[]),c["\u0275mpd"](1073742336,Bx.b,Bx.b,[]),c["\u0275mpd"](1073742336,_w.b,_w.b,[]),c["\u0275mpd"](1073742336,Wx.b,Wx.b,[]),c["\u0275mpd"](1073742336,NC.b,NC.b,[]),c["\u0275mpd"](1073742336,zx.b,zx.b,[]),c["\u0275mpd"](1073742336,Ux.b,Ux.b,[]),c["\u0275mpd"](1073742336,Hx.b,Hx.b,[]),c["\u0275mpd"](1073742336,Kx.b,Kx.b,[]),c["\u0275mpd"](1073742336,Xx.a,Xx.a,[]),c["\u0275mpd"](1073742336,qx.c,qx.c,[]),c["\u0275mpd"](1073742336,Yx.b,Yx.b,[]),c["\u0275mpd"](1073742336,Jx.b,Jx.b,[]),c["\u0275mpd"](1073742336,IC.b,IC.b,[]),c["\u0275mpd"](1073742336,Qx.b,Qx.b,[]),c["\u0275mpd"](1073742336,Zx.b,Zx.b,[]),c["\u0275mpd"](1073742336,dC.b,dC.b,[]),c["\u0275mpd"](1073742336,$x.a,$x.a,[]),c["\u0275mpd"](1073742336,$b.c,$b.c,[]),c["\u0275mpd"](1073742336,qb,qb,[]),c["\u0275mpd"](1024,aC.m,function(){return[[{path:"list",component:iC},{path:"forms",component:yC},{path:"add",component:Zw},{path:"edit/:id",component:Zw},{path:"approval",component:uO}],[{path:"",component:eS.a}]]},[]),c["\u0275mpd"](256,GO.b,GO.n,[])])})},XdKZ:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var o=n("8Y7J"),r=n("O9pe"),i=function(){function e(){this.focusable=!1}return e.decorators=[{type:o.Component,args:[{selector:"ibm-icon-document-export20",template:'\n    <svg\n      ibmIconDocumentExport20\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],e.propDecorators={ariaLabel:[{type:o.Input}],ariaLabelledby:[{type:o.Input}],ariaHidden:[{type:o.Input}],title:[{type:o.Input}],focusable:[{type:o.Input}],innerClass:[{type:o.Input}]},e}(),a=function(){function e(e){this.elementRef=e,this.isFocusable=!1}return e.prototype.ngAfterViewInit=function(){var t=this.elementRef.nativeElement;t.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M13 21h13.17l-2.58 2.59L25 25l5-5-5-5-1.41 1.41L26.17 19H13v2z"></path><path d="M22 14v-4a1 1 0 0 0-.29-.71l-7-7A1 1 0 0 0 14 2H4a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2h-2v2H4V4h8v6a2 2 0 0 0 2 2h6v2zm-8-4V4.41L19.59 10z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)t.appendChild(t.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var o=Object(r.a)({width:20,height:20,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),i=Object.keys(o),a=0;a<i.length;a++){var s=i[a],l=o[s];"title"!==s&&l&&t.setAttribute(s,l)}if(o.title){var u=document.createElement("title");u.textContent=o.title,u.setAttribute("id","document-export20-"+ ++e.titleIdCounter),t.appendChild(u),t.setAttribute("aria-labelledby","document-export20-"+e.titleIdCounter)}},e.titleIdCounter=0,e.decorators=[{type:o.Directive,args:[{selector:"[ibmIconDocumentExport20]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef}]},e.propDecorators={ariaLabel:[{type:o.Input}],ariaLabelledby:[{type:o.Input}],ariaHidden:[{type:o.Input}],title:[{type:o.Input}],isFocusable:[{type:o.Input}]},e}(),s=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{declarations:[i,a],exports:[i,a]}]}],e}()},bzBv:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var o=n("8Y7J"),r=n("O9pe"),i=function(){function e(){this.focusable=!1}return e.decorators=[{type:o.Component,args:[{selector:"ibm-icon-notebook-reference20",template:'\n    <svg\n      ibmIconNotebookReference20\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],e.propDecorators={ariaLabel:[{type:o.Input}],ariaLabelledby:[{type:o.Input}],ariaHidden:[{type:o.Input}],title:[{type:o.Input}],focusable:[{type:o.Input}],innerClass:[{type:o.Input}]},e}(),a=function(){function e(e){this.elementRef=e,this.isFocusable=!1}return e.prototype.ngAfterViewInit=function(){var t=this.elementRef.nativeElement;t.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M4 20v2h3.586L2 27.586 3.414 29 9 23.414V27h2v-7H4zm15-10h7v2h-7zm0 5h7v2h-7zm0 5h7v2h-7z"></path><path d="M28 5H4a2.002 2.002 0 0 0-2 2v10h2V7h11v20h13a2.002 2.002 0 0 0 2-2V7a2.002 2.002 0 0 0-2-2zM17 25V7h11l.002 18z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)t.appendChild(t.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var o=Object(r.a)({width:20,height:20,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),i=Object.keys(o),a=0;a<i.length;a++){var s=i[a],l=o[s];"title"!==s&&l&&t.setAttribute(s,l)}if(o.title){var u=document.createElement("title");u.textContent=o.title,u.setAttribute("id","notebook-reference20-"+ ++e.titleIdCounter),t.appendChild(u),t.setAttribute("aria-labelledby","notebook-reference20-"+e.titleIdCounter)}},e.titleIdCounter=0,e.decorators=[{type:o.Directive,args:[{selector:"[ibmIconNotebookReference20]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef}]},e.propDecorators={ariaLabel:[{type:o.Input}],ariaLabelledby:[{type:o.Input}],ariaHidden:[{type:o.Input}],title:[{type:o.Input}],isFocusable:[{type:o.Input}]},e}(),s=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{declarations:[i,a],exports:[i,a]}]}],e}()}}]);