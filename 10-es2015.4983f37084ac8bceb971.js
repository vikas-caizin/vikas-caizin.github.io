(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"2Fj0":function(e,l,n){"use strict";n.d(l,"a",function(){return o}),n.d(l,"b",function(){return r});var t=n("8Y7J"),i=n("O9pe"),a=function(){function e(){this.focusable=!1}return e.decorators=[{type:t.Component,args:[{selector:"ibm-icon-add-alt20",template:'\n    <svg\n      ibmIconAddAlt20\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],e.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],focusable:[{type:t.Input}],innerClass:[{type:t.Input}]},e}(),o=function(){function e(e){this.elementRef=e,this.isFocusable=!1}return e.prototype.ngAfterViewInit=function(){var l=this.elementRef.nativeElement;l.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M16 4A12 12 0 1 1 4 16 12 12 0 0 1 16 4m0-2a14 14 0 1 0 14 14A14 14 0 0 0 16 2z"></path><path d="M22 15h-5v-5h-2v5h-5v2h5v5h2v-5h5v-2z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)l.appendChild(l.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var t=Object(i.a)({width:20,height:20,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),a=Object.keys(t),o=0;o<a.length;o++){var r=a[o],s=t[r];"title"!==r&&s&&l.setAttribute(r,s)}if(t.title){var u=document.createElement("title");u.textContent=t.title,u.setAttribute("id","add-alt20-"+ ++e.titleIdCounter),l.appendChild(u),l.setAttribute("aria-labelledby","add-alt20-"+e.titleIdCounter)}},e.titleIdCounter=0,e.decorators=[{type:t.Directive,args:[{selector:"[ibmIconAddAlt20]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],isFocusable:[{type:t.Input}]},e}(),r=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[a,o],exports:[a,o]}]}],e}()},"4U/E":function(e,l,n){"use strict";n.d(l,"a",function(){return d});var t=n("mrSG"),i=(n("PsxR"),n("HTWL")),a=(n("+Kk7"),n("qHnB"),n("wd/R")),o=n("ciZX"),r=(n("XX5M"),n("XNiG")),s=(n("Z725"),n("9XGM")),u=n("bl9C");class d{constructor(e,l,n,t,i,a,s,u,d,c){this.kpiService=e,this.dialog=l,this.toastrService=n,this.goalService=t,this.settingsService=i,this.modalService=a,this.calenderService=s,this._toastrService=u,this.router=d,this.confirmationService=c,this.yearList=[],this.depTreeLoading=!1,this.setApiLevel=3,this.savedKPIData=new r.a,this.parentChildMap=new Map,this.kpiDCFMap=new Map,this.kpiOwnerIdMap=new Map,this.deletedNodeSubject=new r.a,this.deletedNodeList=[],this.hideExtendButton=!1,this.paginationModel=new o.c,this.kpiList=[],this.kpiLoader=!1,this.isTreeExtended=!1,this.newCPList=[],this.yearItems=[{name:1,content:"19-20",selected:!1,startDate:"",endDate:""}],this.halfYearlyItems=[{name:1,content:"(Apr-Sep)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""},{name:2,content:"(Oct-Mar)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""}],this.isNextYear=!1,this.verticalChildData=[]}ngOnInit(){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.refreshPagination(),this.getSelectedKPIDeploymentTree(this.currentKpiId);let e=yield this.getFinancialYearsNew();e&&e.success&&(this.financialYearsResp=e,this.filterFinacialYearsitems(this.financialYearsResp.response,null),this.setYearDate(this.yearList)),this.savedKPIData.subscribe(e=>{let l=e.owners.individuals.find(e=>!0===e.isPrimary);this.kpiOwnerIdMap.set(e._id,l.employeeId),this.kpiDCFMap.set(e._id,e.dataCaptureFrequency);let n=this.kpiList.findIndex(l=>l._id===e._id);this.kpiList[n]=e,this.filterKPIs()}),this.deletedNodeSubject.subscribe(e=>{this.deletedNodeList.push(e)})})}getFinancialYearsNew(){return this.calenderService.getfinancialYearList().toPromise()}getSelectedKPIDeploymentTree(e){this.depTreeLoading=!0,this.kpiService.getDeployementTree(e).subscribe(e=>Object(t.__awaiter)(this,void 0,void 0,function*(){if(e&&e.success){const l=e.response.deploymentTree[0];this.treeData=l,this.sanitize(l),this.sanitizeData(l),this.selectedKpi.deploymentTreeConfig={connectorType:"step",orientation:"WEST",nodes:l}}this.selectedKpi.gettingDeploymentTree=!1,this.depTreeLoading=!1}),e=>{this.toastrService.error(i.a.PLEASE_TRY_AGAIN),this.selectedKpi.gettingDeploymentTree=!1})}sanitize(e){e&&e.text&&(e.text.parentId||delete e.text.parentId)}sanitizeData(e,l){return Object(t.__awaiter)(this,void 0,void 0,function*(){let n=!1;l?e.text.id===l[0].text.id&&(n=!0,e.text=l[0].text,e.children=l[0].children,this.mapTreeKeys(e)):e&&e.text&&!e.text.hasOwnProperty("count")?this.mapTreeKeys(e):e.HTMLclass="node-length";for(let t=0;t<e.children.length;t++)e.children[t].text.childrenCount>0&&0===e.children[t].children.length&&e.children[t].children.push({text:{count:e.children[t].text.childrenCount,id:e.children[t].text.id},children:[]}),n?this.sanitizeData(e.children[t]):this.sanitizeData(e.children[t],l)})}mapTreeKeys(e){e&&e.text&&!e.text.hasOwnProperty("count")&&(e.text.isParent?e.HTMLclass="parent-node":e.text.isMP?e.HTMLclass="mp-node":e.text.isSibling?e.HTMLclass="sibling-node":e.text.isCp&&(e.HTMLclass="cp-node"),"RED"===e.text.stage?e.HTMLclass+=" summary-node-red":"GREEN"===e.text.stage?e.HTMLclass+=" summary-node-green":"YELLOW"===e.text.stage?e.HTMLclass+=" summary-node-yellow":"GREY"===e.text.stage&&(e.HTMLclass+=" summary-node-grey"),e.text.kpiCumulativeTarget1=e.text.kpiCumulativeTarget,e.text.cumulativeActual1=e.text.cumulativeGap,e.text.cumulativeGap1="",this.gettingAnalysis||(e.text.vcs=e.text.primaryOwnerName,delete e.text.primaryOwnerName),delete e.text.cumulativeGap,delete e.text.ytdActual,delete e.text.ytdTarget,e.text.kpiCumulativeTargetTitle1="YTD",e.text.cumulativeActualTitle1="Last Cycle",e.text.cumulativeGapTitle1="",e.text.kpiCumulativeTargetTitle1Label="(Actual/Target)",e.text.cumulativeActualTitle1Label="(Actual/Target)",e.text.cumulativeGapTitle1Label="")}openKPIExtendConfirmationModal(){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.confirmationService.setData(!1),this.extendKPIStrSub=this.confirmationService.getData().subscribe(e=>{e?this.extendKPIStr():this.extendKPIStrSub&&this.extendKPIStrSub.unsubscribe()}),this.modalService.create({component:s.a,inputs:{modalText:"KPI structure cannot be modified later. Are you sure you would like to proceed?",confirmText:"Confirm",titleText:"Warning",overlayClose:!1}}).onDestroy(()=>{this.extendKPIStrSub.unsubscribe()})})}extendKPIStr(){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.isTreeExtended=!0,this.hideExtendButton=!0,this.selectedKpi.deploymentTreeConfig.nodes.text.isRootNode=!0,this.getCPTree(this.selectedKpi.deploymentTreeConfig.nodes),this.getNewCPList(this.selectedKpi.deploymentTreeConfig.nodes);let e={extendedFYStart:this.financialYearItem.item.startUnix,extendedFYEnd:this.financialYearItem.item.endUnix,mpKPIId:this.selectedKpi.deploymentTreeConfig.nodes.text.id,newCPList:this.newCPList,cpKPIToIgnore:this.deletedNodeList};this.goalService.addKPIStructure(e).subscribe(l=>{l&&l.success&&(this._toastrService.success("Your request has been successfully placed. The server might take upto 10 minutes to process the KPIs."),this.getNewKPIList(e.mpKPIId))},e=>{this.kpiLoader=!1,console.log(e.error.message)}),this.kpiLoader=!1})}getCPTree(e){return e.nodeNewCps=[],e.children.forEach(l=>{if("number"==typeof l.text.id){let n=this.createCPChildTree(l);e.nodeNewCps.push(n)}else this.getCPTree(l)}),e}createCPChildTree(e){let l={title:e.text.title,primaryOwner:e.text.primaryOwnerEmployeeId,children:[]};return e.children.length>0&&e.children.forEach(e=>{l.children.push(this.createCPChildTree(e))}),l}getNewCPList(e){e.nodeNewCps&&e.nodeNewCps.length>0&&this.newCPList.push({cpId:e.text.id,children:e.nodeNewCps}),e.children.forEach(e=>{this.getNewCPList(e)})}getNewKPIList(e){this.kpiLoader=!0,e=e||this.selectedKpi.deploymentTreeConfig.nodes.text.id,setTimeout(()=>{this.goalService.getExtendedKPIList(e,this.financialYearItem.item.startUnix,this.financialYearItem.item.endUnix,0,10).subscribe(e=>Object(t.__awaiter)(this,void 0,void 0,function*(){e&&e.success&&(this.kpiList=[],this.kpiList=e.response.extendedKPIList,this.totalKPICount=e.response.preExtensionKPICount,yield this.filterKPIs(),this.kpiLoader=!1)}),e=>{this.kpiLoader=!1,console.log(e.error.message)})},5e3)}filterKPIs(){return Object(t.__awaiter)(this,void 0,void 0,function*(){let e=yield this.settingsService.getCapturefrequency().toPromise();e&&e.success&&(this.dcfItems=[],this.dcfItems=e.response.map(({value:e,_id:l})=>({content:e,id:l})));let l=yield this.settingsService.getReviewfrequency().toPromise();l&&l.success&&(this.reviewItems=[],this.reviewItems=l.response.map(({value:e,_id:l})=>({content:e,id:l})));let n=yield this.settingsService.getunitofMsrmnt().toPromise();n&&n.success&&(this.unitOfMeasurementItems=[],this.unitOfMeasurementItems=n.response.map(({value:e,_id:l})=>({content:e,id:l}))),this.kpiList.forEach(e=>{this.setKpiData(e)})})}setKpiData(e){e.primaryOwner=e.firstname?e.firstname+" "+e.lastname:e.firstName+" "+e.lastName,e.reviewFrequency&&this.reviewItems.map(l=>{l.id===e.reviewFrequency&&(l.selected=!0,e.rf=l.content)})}getUpdatedKpiObj(e){this.kpiList.push(e.text),e.children.length>0&&e.children.forEach(e=>{this.getUpdatedKpiObj(e)})}onDCFSelected(e,l){l.dataCaptureFrequency=e.item.id,l.dcf=e.item.content}onReviewFrquencySelected(e,l){l.reviewFrequency=e.item.id,l.rf=e.item.content}onUOMSelected(e,l){l.unitOfMeasurement=e.item.id,l.uom=e.item.content}onSearchUser(e,l,n){n.searchedUsers=[],e&&e.trim()&&e.trim().length&&this.goalService.getUsers(e,!1,l).subscribe(e=>{n.searchedUsers=e.response.map((e,l)=>(e.content=e.firstname+" "+e.lastname,e.id=e.employeeId,e))},e=>{console.log(e)})}onOpenOwner(e,l){l.dropdownClosed=!1,l.searchedUsers=[{ignore:!0,content:"Search user to select."}]}onSelectedUser(e,l){l.dropdownClosed=!0,l.primaryOwner=e.content,l.selectedUser=e;let n={departmentId:l.selectedUser.departmentId,departmentName:l.selectedUser.departmentName,employeeId:l.selectedUser.employeeId,firstname:l.selectedUser.firstname,isPrimary:!0,lastname:l.selectedUser.lastname};if(l.owners){let e=l.owners.individuals.findIndex(e=>!0===e.isPrimary);l.owners.individuals[e]=n}else l.owners={individuals:[n]}}openEditWindow(e){if(e._id!==this.selectedKpi.deploymentTreeConfig.nodes.text.id){let l=this.parentChildMap.get(e._id);this.kpiDCFMap.get(l),this.kpiOwnerIdMap.get(e._id),this.redirectToEdit(e)}else this.redirectToEdit(e)}redirectToEdit(e){let l=e._id;if(e.KpiTypeEnum==u.c.ORGANISATION_OBJECTIVES){let e=window.location.protocol+"//"+window.location.host+"/org-goal/edit/"+l;window.open(e,"_blank")}else{let e=window.location.protocol+"//"+window.location.host+"/org-kpi/edit/"+l;window.open(e,"_blank")}}filterFinacialYearsitems(e,l){const n=e.findIndex(e=>1==e.isCurrentFY);let t=[];if(null==l||e[n].startUnix<=l)t.push({content:"FY "+e[n].start.split("-")[0]+"-"+e[n].end.split("-")[0],isCurrentFY:e[n].isCurrentFY,start:e[n].start,end:e[n].end,startUnix:e[n].startUnix,endUnix:e[n].endUnix,selected:!!e[n].isCurrentFY}),t.push({content:"FY "+e[n+1].start.split("-")[0]+"-"+e[n+1].end.split("-")[0],isCurrentFY:e[n+1].isCurrentFY,start:e[n+1].start,end:e[n+1].end,startUnix:e[n+1].startUnix,endUnix:e[n+1].endUnix,selected:!!e[n+1].isCurrentFY});else{const n=e.findIndex(e=>e.startUnix==l);t.push({content:"FY "+e[n].start.split("-")[0]+"-"+e[n].end.split("-")[0],isCurrentFY:e[n].isCurrentFY,start:e[n].start,end:e[n].end,startUnix:e[n].startUnix,endUnix:e[n].endUnix,selected:!1})}this.yearList=t}setYearDate(e){const l=["January","February","March","April","May","June","July","August","September","October","November","December"];e.forEach(e=>{if(e.selected){this.yearItems[0].content="FY "+e.start.split("-")[0]+"-"+e.end.split("-")[0],this.yearItems[0].startDate=e.start,this.yearItems[0].endDate=e.end;let n=new Date(0);n.setUTCMilliseconds(e.startUnix),this.selectedStartDate=n,this.minStartDate=this.selectedStartDate,(n=new Date(0)).setUTCMilliseconds(e.endUnix),this.selectedEndDate=n,this.maxEndDate=this.selectedEndDate,this.yearStartDate=e.startUnix,this.yearEndDate=e.endUnix,this.halfYearlyItems[0].content="("+l[new Date(e.start).getMonth()]+"-"+l[new Date(e.start).getMonth()+5]+")",this.halfYearlyItems[0].startDate=a(e.start,"YYYY-MM-DD").format("YYYY-MM-DD"),this.halfYearlyItems[0].endDate=a(e.start,"YYYY-MM-DD").add(5,"months").endOf("month").format("YYYY-MM-DD"),this.halfYearlyItems[1].content="("+l[new Date(e.start).getMonth()+6]+"-"+l[new Date(e.end).getMonth()]+")",this.halfYearlyItems[1].startDate=a(e.start,"YYYY-MM-DD").add(6,"months").format("YYYY-MM-DD"),this.halfYearlyItems[1].endDate=a(e.start,"YYYY-MM-DD").add(11,"months").endOf("month").format("YYYY-MM-DD"),this.financialYearItem={item:e}}})}setFinancialYear(e){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.financialYearItem=e,this.isNextYear=!e.item.isCurrentFY,-1==this.yearList.findIndex(l=>l.startUnix==e.item.startUnix&&l.selected)&&(this.yearList.forEach(l=>{if(l.startUnix==e.item.startUnix){l.selected=!0;let n=new Date(0);n.setUTCMilliseconds(e.item.startUnix),this.selectedStartDate=n,(n=new Date(0)).setUTCMilliseconds(e.item.endUnix),this.selectedEndDate=n}else l.selected=!1}),this.setYearDate(this.yearList))})}valueEndDateChange(e,l,n){if(!n){let n,t;"from"===l?n=e:t=e,t=null==t?this.selectedEndDate:t,n=null==n?this.selectedStartDate:n}}setParentChildMap(e){this.parentChildMap=e}reloadKpis(){this.getNewKPIList()}refreshPagination(){this.paginationModel.currentPage=1,this.paginationModel.totalDataLength=0,this.paginationModel.pageLength=10}selectPage(e){this.paginationModel.currentPage=e,this.getNewKPIList()}onClickNode(e){return Object(t.__awaiter)(this,void 0,void 0,function*(){if(e.text.hasOwnProperty("count")&&e.text.hasOwnProperty("id")&&(++this.setApiLevel,this.selectedKpi.gettingDeploymentTree=!0,this.kpiService.getDeployementTree(e.text.id,"",2).subscribe(e=>{let l=e.response.deploymentTree;if(this.verticalChildData=l[0].children,this.verticalChildData.length>10){l[0].children=this.verticalChildData.slice(0,10);let e=this.verticalChildData.filter(e=>!l[0].children.some(l=>e.text.id===l.text.id));l[0].children.push({text:{count:this.verticalChildData.length-l[0].children.length,id:e[0].text.id,verticalNode:JSON.stringify(e)},children:[]})}this.sanitizeData(this.treeData,l),this.selectedKpi.deploymentTreeConfig={connectorType:"step",orientation:"WEST",nodes:this.treeData},this.selectedKpi.gettingDeploymentTree=!1})),e.text.hasOwnProperty("verticalNode")){let l=JSON.parse(e.text.verticalNode);this.verticalNodeData=JSON.parse(e.text.verticalNode),yield this.updateVerticalCountNode(this.treeData,l)}})}updateVerticalCountNode(e,l){for(let n=0;n<e.children.length;n++)this.verticalNodeData&&e.children[n].text.id===this.verticalNodeData[0].text.id?(e.children.splice(n,1),this.verticalNodeData.forEach(l=>{this.mapTreeKeys(l),e.children.push(l)}),this.verticalNodeData=void 0):e.children.forEach(e=>{this.verticalNodeData&&this.updateVerticalCountNode(e,this.verticalNodeData)})}}},"7Dsa":function(e,l,n){"use strict";var t=n("8Y7J"),i=n("2Fj0"),a=n("4y4f"),o=n("SVse"),r=n("jGGp"),s=n("TXHj"),u=n("mEpm"),d=n("Nkwq"),c=n("itAz"),p=(n("ciZX"),n("fQX0")),m=n.n(p),h=n("XNiG"),g=n("Z725"),b=n("9XGM"),f=n("vGNp");class v{constructor(e,l,n){this.modalService=e,this.confirmationService=l,this.toastrService=n,this.panZoomController=null,this.fullScreen=!1,this.onLoadParent=new t.EventEmitter,this.onClickNode=new t.EventEmitter,this.parentChildMapEmitter=new t.EventEmitter,this.newNodesCounter=0,this.onToggleFullScreen=new t.EventEmitter,this.newCPData=new t.EventEmitter,this.addCPSubject=new h.a}loadParent(){this.onLoadParent.emit()}getRandomId(){return Math.floor(9999999999*Math.random()+1)+""}ngOnInit(){this.zoomLevels=[.1,.25,.5,.75,1,1.25,1.5,1.75,2,2.5,3],this.currentZoomLevel=this.zoomLevels[4]}ngAfterViewInit(){this.graphConfig&&this.renderChart()}renderChart(){$(this.chartConfig.chart.container).length&&(new Treant(this.chartConfig,null,$),this.zoomable.nativeElement.firstElementChild.style="overflow:visible",this.panZoomController||(this.panZoomController=m()(this.zoomable.nativeElement.firstElementChild,{maxZoom:3,minZoom:.1,beforeWheel:function(e){return!e.ctrlKey}})))}zoom(){if(this.graphConfig){const e=!0,l=this.currentZoomLevel;if(l){const n=this.panZoomController.getTransform(),t=l+n.x,i=l+n.y;e?this.panZoomController.zoomAbs(0,0,l):this.panZoomController.zoomTo(t,i,l)}}}zoomToggle(e){if(this.graphConfig){const l=this.zoomLevels.indexOf(this.currentZoomLevel);e?void 0!==this.zoomLevels[l+1]&&(this.currentZoomLevel=this.zoomLevels[l+1]):void 0!==this.zoomLevels[l-1]&&(this.currentZoomLevel=this.zoomLevels[l-1]),1===this.currentZoomLevel?(this.panZoomController.moveTo(0,0),this.panZoomController.zoomAbs(0,0,1)):this.zoom()}}ngOnChanges(e){if(e.graphConfig&&e.graphConfig.currentValue){const e=this.getRandomId(),l=this;this.deploymentTreeContainer.nativeElement.setAttribute("id",e),this.chartConfig={chart:{container:"#"+e,callback:{onTreeLoaded:function(){const n=$("#"+e+".Treant .node");l.$nodes=n,n.unbind("click"),n.on("click",function(e){const n=$(this);l.nodeData=n.data("treenode"),l.onClickNodes(l.nodeData)})}},rootOrientation:this.graphConfig.orientation||"WEST",siblingSeparation:20,subTeeSeparation:60,scrollbar:"none",connectors:{type:this.graphConfig.connectorType||"step",style:{stroke:"#979797"}},node:{HTMLclass:"emp-node"}},nodeStructure:this.graphConfig.nodes},this.renderChart()}e.selectedNodeId&&e.selectedNodeId.currentValue&&$(".node-id"+`:contains(${e.selectedNodeId.currentValue})`).parent().addClass("selected-node")}ngOnDestroy(){this.$nodes&&this.$nodes.unbind("click")}toggleFullScreen(){this.fullScreen=!this.fullScreen,this.onToggleFullScreen.emit(this.fullScreen)}openAddCPDialog(){this.modalService.create({component:f.a,inputs:{data:this.addCPSubject,id:this.newNodesCounter,parentOwnerId:this.selectedNodeUserId}}).onDestroy(()=>{})}openDeleteCPWarning(){this.selectedNodeId===this.graphConfig.nodes.text.id?this.toastrService.error("Cannot delete the MP."):(this.confirmationService.setData(!1),this.disableSub=this.confirmationService.getData().subscribe(e=>{e?this.deleteSelectedCP():this.disableSub&&this.disableSub.unsubscribe()}),this.modalService.create({component:b.a,inputs:{modalText:"Deleting this KPI will aslo remove the entire branch under it. Are you sure you would like to proceed?",confirmText:"Confirm",titleText:"Warning",overlayClose:!1}}).onDestroy(()=>{this.disableSub.unsubscribe()}))}deleteSelectedCP(){this.nodeDeleted=!1,this.deleteParentAndChildNodes(this.graphConfig.nodes),this.selectedNodeId=null,this.selectedNodeUserId=null,this.ngAfterViewInit()}deleteParentAndChildNodes(e){for(var l=0;l<e.children.length;l++)if(e.children[l].text.id===this.selectedNodeId){let n=e.children.splice(l,1);this.deletedNodeSubject.next(n[0].text.id),this.nodeDeleted=!0;break}!1===this.nodeDeleted&&e.children.forEach(e=>{this.deleteParentAndChildNodes(e)})}ngAfterContentInit(){this.addCPSubject.subscribe(e=>{this.newNodesCounter=this.newNodesCounter+1,this.addChildtoParentNode(this.graphConfig.nodes,e),this.ngAfterViewInit();let l=document.getElementsByClassName("node");for(let n=0;n<l.length;n++){let t=l[n].querySelector(".node-id");if(this.createdCPId=e.id.toString(),t.innerHTML==e.id.toString()){l[n].scrollIntoView();break}}this.selectedNodeId=null,this.selectedNodeUserId=null})}addChildtoParentNode(e,l){this.parentChildMap.set(l.id,this.selectedNodeId),e.text.id===this.selectedNodeId?(e.children.push({HTMLClass:"node",children:[],text:l}),e.text.childrenCount=e.text.childrenCount+1,this.parentChildMapEmitter.emit(this.parentChildMap)):e.children.forEach(e=>{this.addChildtoParentNode(e,l)})}onClickNodes(e){this.highlightNode(e),this.onClickNode.emit(e)}highlightNode(e){$(".emp-node").removeClass("selected-node"),this.selectedNodeId=e.text.id,this.selectedNodeUserId=e.text.primaryOwnerEmployeeId,$(e.nodeDOM).addClass("selected-node")}}var x=n("PJ54"),y=n("EApP"),w=t["\u0275crt"]({encapsulation:2,styles:[['@charset "UTF-8";blockquote,body,dd,div,dl,dt,fieldset,form,h1,h2,h3,h4,h5,h6,input,li,ol,p,pre,td,textarea,th,ul{margin:0;padding:0}table{border-collapse:collapse;border-spacing:0}abbr,acronym,fieldset,img{border:0}address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:400}caption,th{text-align:left}q:after,q:before{content:""}.chart{height:100%;width:100%;overflow:auto;border-radius:3px;background-color:#1e1d1d}.chart .chart-c{width:100%;height:100%}.emp-node{padding:8px;border-radius:3px;background-color:#393939;border:1px solid #393939;max-width:300px;min-width:250px;width:350px;font-family:Tahoma;font-size:12px;color:#fff;border-left:5px solid #fb0;min-height:100px;height:auto}.emp-node .node-name{color:#fff;font-size:12px;font-weight:300;line-height:13px}.emp-node .node-title{margin-top:4px;margin-bottom:4px;color:#fff;font-size:14px;font-weight:500;line-height:13px}.emp-node img{margin-right:10px}.Treant>a:link,.Treant>a:visited{color:#fff}.Treant>a:link:hover{color:#636363}.zoom-icon{height:24px;width:80px;box-sizing:border-box;border:1px solid #d7d7d7;border-radius:20px;margin-left:5px;margin-right:5px;display:flex;align-items:center;cursor:pointer}.zoom-in{cursor:pointer;margin-left:6px;fill:#8c8c8c!important}.zoom-out{cursor:pointer;fill:#8c8c8c!important;padding:2px}.zoom-mid-line{width:1px!important;height:100%!important;background-color:#d7d7d7;display:inline-flex;margin:0 5px}.adding-here{background-color:#fb0;color:#fff}.parent-node{border-left:5px solid violet}.sibling-node{border-left:5px solid brown}.mp-node{border-left:5px solid #7598fe}.summary-node-red{border-right:5px solid red}.summary-node-green{border-right:5px solid green}.summary-node-yellow{border-right:5px solid #ff0}.summary-node-grey{border-right:5px solid grey}.summary-node-blue{border-right:5px solid #4559e6}.emp-node.node-length{border:4px solid #4559e6;font-family:Tahoma;font-size:12px;color:#fff;min-height:40px;border-radius:100%;max-width:40px;min-width:40px;text-align:center;width:50px;height:auto;padding:5px}.emp-node.node-length:hover{background-color:#4559e6}.e4-tag{padding:2px;height:auto;color:#fff}.e4-tag .tag-value.green{background-color:violet;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.e4-tag .tag-value.orange{background-color:#f3a600;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.e4-tag .tag-value.blue{background-color:#7598fe;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.e4-tag .tag-value.gray{background-color:brown;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.node-vcs{color:#ffffffa6;font-size:16px!important}.node-more{text-align:right;cursor:pointer!important}.node-more:after{cursor:pointer!important;color:#fff;content:"\u2807";font-size:20px}.node-childrenCount,.node-dataCaptureFrequency,.node-directionOfGoodnessArrowColor,.node-id,.node-isCP,.node-isMP,.node-isParent,.node-isSibling,.node-kpiCumulativeLowerLimit,.node-kpiCumulativeUpperLimit,.node-parentId,.node-primaryOwnerEmployeeId,.node-stage,.node-verticalNode,.node-weightage{display:none}.node-primaryOwnerName{font-size:12px!important}.node-cumulativeActual,.node-kpiCumulativeTarget,.node-unitOfMeasurement{display:none}.node-kpiCumulativeTarget1{width:80px;font-size:12px!important;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:inline-block;margin-right:5px}.node-cumulativeActual1{font-size:12px!important;width:80px;text-overflow:ellipsis;white-space:nowrap;float:right;overflow:hidden;margin-right:5px}.node-cumulativeGap1{font-size:12px!important;width:80px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:inline-block;margin-left:22px}.node-kpiCumulativeTargetTitle1{font-size:12px!important;width:80px;display:inline-block;margin-right:5px}.node-cumulativeActualTitle1{font-size:12px!important;width:80px;float:right;margin-right:5px}.node-cumulativeGapTitle1{font-size:12px!important;width:80px;display:inline-block;margin-left:22px}.node-kpiCumulativeTargetTitle1Label{font-size:11px!important;width:80px;display:inline-block;margin-right:5px}.node-cumulativeActualTitle1Label{font-size:11px!important;width:80px;float:right;margin-right:5px}.node-cumulativeGapTitle1Label{font-size:11px!important;width:80px;display:inline-block;margin-left:22px}.node-indicator1{display:inline-block!important;position:relative;height:20px;width:20px;border-radius:50%}.node-indicator1:after,.node-indicator1:before{position:absolute;display:block;content:"";border:10px solid transparent}.node-indicator1:before{top:0;border-top-color:#fff}.node-indicator1:after{top:-1px;border-top-color:#393939}.node-directionOfGoodness{display:none}.selected-node{background-color:#6236ff}.dep-tree-container{width:100%;height:100%}.dep-tree-header{display:flex;align-items:center}.flex-1{flex:1}.no-nodes-to-show{padding:16px;display:block}.get-parent{will-change:transform;fill:#fff;background:#da1e28;border-radius:50%;margin-left:16px;margin-right:4px;cursor:pointer}.loader-cont{top:35%;left:35%;position:absolute}.gray{fill:#fff;background:gray;cursor:not-allowed}.loadedOnceText{cursor:not-allowed;color:#d3d3d3}.width-64{width:64px}.width-80{width:80px}.dep-tree-header{background-color:#1e1d1d!important}.node-options{cursor:pointer;background-color:#1e1d1d!important;border:none!important;outline:0!important;color:#fff!important}.icon-white-dep{padding-top:8px;margin-right:5px;max-width:15px;fill:#fff!important}::ng-deep .node-_id,::ng-deep .node-departmentId,::ng-deep .node-departmentName,::ng-deep .node-empDBId,::ng-deep .node-firstname,::ng-deep .node-isPrimary,::ng-deep .node-lastname{display:none!important}']],data:{}});function C(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","node-options"]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.openAddCPDialog()&&t),t},null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["class","icon-white-dep"],["ibmIconAddAlt20",""]],null,null,null,null,null)),t["\u0275did"](2,4210688,null,0,i.a,[t.ElementRef],null,null),(e()(),t["\u0275ted"](-1,null,[" Add CP"]))],null,null)}function I(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","node-options"]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.openDeleteCPWarning()&&t),t},null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["class","icon-white-dep"],["ibmIconTrashCan20",""]],null,null,null,null,null)),t["\u0275did"](2,4210688,null,0,a.a,[t.ElementRef],null,null),(e()(),t["\u0275ted"](-1,null,[" Delete KPI"]))],null,null)}function S(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","add-kpi-icon"],["style","float: left; display: flex;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","margin:auto 10px !important"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](3,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](4,0,null,null,2,"div",[["style","float: right; margin:auto 10px !important"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,I)),t["\u0275did"](6,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,l){var n=l.component;e(l,3,0,0==n.isTreeExtended&&null!==n.selectedNodeId),e(l,6,0,0==n.isTreeExtended&&null!==n.selectedNodeId)},null)}function D(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","loader-cont"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["size","sm"],["title","Loading deployment tree "]],[[2,"bx--loading-overlay",null]],null,null,r.b,r.a)),t["\u0275did"](2,49152,null,0,s.a,[u.a],{title:[0,"title"],size:[1,"size"]},null)],function(e,l){e(l,2,0,"Loading deployment tree ","sm")},function(e,l){e(l,1,0,t["\u0275nov"](l,2).overlay)})}function P(e){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{zoomable:0}),t["\u0275qud"](402653184,2,{deploymentTreeContainer:0}),(e()(),t["\u0275eld"](2,0,null,null,19,"div",[["class","dep-tree-container"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,12,"div",[["class","dep-tree-header"]],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,11,"div",[["class","flex-1"],["style"," display: flex; justify-content: flex-end !important; margin: 20px 10px !important"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](6,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](7,0,null,null,8,"div",[["class","zoom-icon"]],null,null,null,null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](9,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](10,{"width-64":0}),(e()(),t["\u0275eld"](11,0,null,null,1,":svg:svg",[["class","zoom-in"],["ibmIconZoomIn16",""]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.zoomToggle(!0)&&t),t},null,null)),t["\u0275did"](12,4210688,null,0,d.a,[t.ElementRef],null,null),(e()(),t["\u0275eld"](13,0,null,null,0,"div",[["class","zoom-mid-line"]],null,null,null,null,null)),(e()(),t["\u0275eld"](14,0,null,null,1,":svg:svg",[["class","zoom-in"],["ibmIconZoomOut16",""]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.zoomToggle(!1)&&t),t},null,null)),t["\u0275did"](15,4210688,null,0,c.a,[t.ElementRef],null,null),(e()(),t["\u0275eld"](16,0,[[1,0],["zoomable",1]],null,3,"div",[["class","chart"]],null,null,null,null,null)),(e()(),t["\u0275eld"](17,0,[[2,0],["deploymentTreeContainer",1]],null,2,"div",[["class","chart-c"],["style","overflow:visible;color: white;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](18,0,null,null,1,"span",[["class","no-nodes-to-show"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["No nodes to show..."])),(e()(),t["\u0275and"](16777216,null,null,1,null,D)),t["\u0275did"](21,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,l){var n=l.component;e(l,6,0,n.nodeData);var t=e(l,10,0,!0);e(l,9,0,"zoom-icon",t),e(l,21,0,n.gettingDeploymentTree)},null)}var O=n("g7AK"),k=n("oljc"),M=n("s7LF"),N=n("+4Gi"),L=n("Jsk+"),A=n("SuBU"),F=n("KeT7"),E=n("noyz"),T=n("1V2r"),R=n("gLoP"),_=n("i3NF"),K=n("FNXg"),U=n("1ZgJ"),Y=n("baZm");n("4U/E"),n("+Kk7"),n("s6ns"),n("PsxR"),n("qHnB"),n("XX5M"),n("iInd"),n.d(l,"a",function(){return V}),n.d(l,"b",function(){return ne});var V=t["\u0275crt"]({encapsulation:0,styles:[['.widget-overflow-menu .bx--overflow-menu{background-color:#f3f3f3!important}  .date-margin-top{margin-top:10px!important}  .tableheadtitle span{font-weight:700}  .bx-pagination{width:1750px!important}.extend-btn[_ngcontent-%COMP%]{margin-top:30px}.choice-btn[_ngcontent-%COMP%]{cursor:pointer!important;margin-top:8px;color:#7598fe;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;text-align:center;margin-bottom:8px}.structure-table[_ngcontent-%COMP%]   .bx--list-box[_ngcontent-%COMP%], .structure-table[_ngcontent-%COMP%]   .bx--text-input[_ngcontent-%COMP%]{border-bottom:none}']],data:{}});function G(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](0,null,null,0))],null,null)}function B(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"app-kpi-extend-dep-tree",[["showGoToParent","true"],["showTags","true"]],null,[[null,"gettingDeploymentTreeChange"],[null,"onLoadParent"],[null,"onClickNode"],[null,"parentChildMapEmitter"],[null,"onToggleFullScreen"],[null,"newCPData"]],function(e,l,n){var t=!0,i=e.component;return"gettingDeploymentTreeChange"===l&&(t=!1!==(i.selectedKpi.gettingDeploymentTree=n)&&t),"onLoadParent"===l&&(t=!1!==i.onLoadParent(n)&&t),"onClickNode"===l&&(t=!1!==i.onClickNode(n)&&t),"parentChildMapEmitter"===l&&(t=!1!==i.setParentChildMap(n)&&t),"onToggleFullScreen"===l&&(t=!1!==i.onToggleFullScreen(n)&&t),"newCPData"===l&&(t=!1!==i.addnewCpToDepTree(n)&&t),t},P,w)),t["\u0275did"](1,6012928,null,0,v,[x.a,g.a,y.j],{fullScreen:[0,"fullScreen"],graphConfig:[1,"graphConfig"],gettingDeploymentTree:[2,"gettingDeploymentTree"],showGoToParent:[3,"showGoToParent"],noParent:[4,"noParent"],loadedOnce:[5,"loadedOnce"],showTags:[6,"showTags"],isTreeExtended:[7,"isTreeExtended"],parentChildMap:[8,"parentChildMap"],deletedNodeSubject:[9,"deletedNodeSubject"],showFullScreen:[10,"showFullScreen"]},{onLoadParent:"onLoadParent",onClickNode:"onClickNode",parentChildMapEmitter:"parentChildMapEmitter",onToggleFullScreen:"onToggleFullScreen",newCPData:"newCPData"})],function(e,l){var n=l.component;e(l,1,1,[n.isFullScreen,n.selectedKpi.deploymentTreeConfig,n.selectedKpi.gettingDeploymentTree,"true",!n.parentId,n.selectedKpi.loadedOnce,"true",n.isTreeExtended,n.parentChildMap,n.deletedNodeSubject,"true"])},null)}function z(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","extend-btn"],["ibmButton","danger"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.openKPIExtendConfirmationModal()&&t),t},null,null)),t["\u0275did"](1,16384,null,0,O.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),t["\u0275ted"](-1,null,["Extend KPIs"]))],function(e,l){e(l,1,0,"danger")},function(e,l){e(l,0,1,[t["\u0275nov"](l,1).baseClass,t["\u0275nov"](l,1).primaryButton,t["\u0275nov"](l,1).secondaryButton,t["\u0275nov"](l,1).tertiaryButton,t["\u0275nov"](l,1).ghostButton,t["\u0275nov"](l,1).dangerButton,t["\u0275nov"](l,1).dangerPrimaryButton,t["\u0275nov"](l,1).skeleton,t["\u0275nov"](l,1).smallSize,t["\u0275nov"](l,1).toolbarAction,t["\u0275nov"](l,1).overflowMenu])})}function q(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","extend-btn"],["ibmButton","danger"],["style","border: none; outline: none;"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.reloadKpis()&&t),t},null,null)),t["\u0275did"](1,16384,null,0,O.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),t["\u0275ted"](-1,null,["Reload KPIs"]))],function(e,l){e(l,1,0,"danger")},function(e,l){e(l,0,1,[t["\u0275nov"](l,1).baseClass,t["\u0275nov"](l,1).primaryButton,t["\u0275nov"](l,1).secondaryButton,t["\u0275nov"](l,1).tertiaryButton,t["\u0275nov"](l,1).ghostButton,t["\u0275nov"](l,1).dangerButton,t["\u0275nov"](l,1).dangerPrimaryButton,t["\u0275nov"](l,1).skeleton,t["\u0275nov"](l,1).smallSize,t["\u0275nov"](l,1).toolbarAction,t["\u0275nov"](l,1).overflowMenu])})}function H(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"div",[["style","margin-top: 10px;    font-size: 0.875rem !important; font-weight: 700;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["","/"," KPIs loaded. "])),(e()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Please click reload to see more."]))],null,function(e,l){var n=l.component;e(l,1,0,n.kpiList.length,n.totalKPICount)})}function j(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[["style","margin-top: 30px;    font-size: 0.875rem !important; font-weight: 700;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,[""," KPIs extended successfully."]))],null,function(e,l){e(l,1,0,l.component.kpiList.length)})}function Q(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dep-tree-window margin-top-20"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,B)),t["\u0275did"](2,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,z)),t["\u0275did"](4,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,q)),t["\u0275did"](6,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,H)),t["\u0275did"](8,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,j)),t["\u0275did"](10,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],function(e,l){var n=l.component;e(l,2,0,n.selectedKpi.deploymentTreeConfig&&!n.selectedKpi.gettingDeploymentTree),e(l,4,0,!n.hideExtendButton),e(l,6,0,n.hideExtendButton&&n.kpiList&&n.kpiList.length>0&&n.kpiList.length!==n.totalKPICount),e(l,8,0,n.hideExtendButton&&n.kpiList&&n.kpiList.length>0&&n.kpiList.length!==n.totalKPICount),e(l,10,0,n.hideExtendButton&&n.kpiList&&n.kpiList.length>0&&n.kpiList.length===n.totalKPICount)},null)}function W(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](0,null,null,0))],null,null)}function Z(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,31,"div",[["class","bx--data-table-container structure-table"],["data-table",""]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,30,"table",[["class","bx--data-table bx--data-table--sort "]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,26,"thead",[],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,25,"tr",[],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,3,"th",[["class","goal-text tableheadtitle"]],null,null,null,null,null)),(e()(),t["\u0275eld"](5,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","KPI Title"]],null,null,null,null,null)),(e()(),t["\u0275eld"](6,0,null,null,1,"span",[["class","bx--table-header-label"],["style","padding-left: 16px;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["KPI Title"])),(e()(),t["\u0275eld"](8,0,null,null,3,"th",[["class","goal-text tableheadtitle"]],null,null,null,null,null)),(e()(),t["\u0275eld"](9,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Owner"]],null,null,null,null,null)),(e()(),t["\u0275eld"](10,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Owner"])),(e()(),t["\u0275eld"](12,0,null,null,3,"th",[["class","goal-text tableheadtitle"]],null,null,null,null,null)),(e()(),t["\u0275eld"](13,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Weightage"]],null,null,null,null,null)),(e()(),t["\u0275eld"](14,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Weightage (%)"])),(e()(),t["\u0275eld"](16,0,null,null,3,"th",[["class","goal-text tableheadtitle"]],null,null,null,null,null)),(e()(),t["\u0275eld"](17,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","DCF"]],null,null,null,null,null)),(e()(),t["\u0275eld"](18,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["DCF"])),(e()(),t["\u0275eld"](20,0,null,null,3,"th",[["class","goal-text tableheadtitle"]],null,null,null,null,null)),(e()(),t["\u0275eld"](21,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Review Frequency"]],null,null,null,null,null)),(e()(),t["\u0275eld"](22,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Review Frequency"])),(e()(),t["\u0275eld"](24,0,null,null,3,"th",[["class","goal-text tableheadtitle"]],null,null,null,null,null)),(e()(),t["\u0275eld"](25,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","UoM"]],null,null,null,null,null)),(e()(),t["\u0275eld"](26,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["UoM"])),(e()(),t["\u0275eld"](28,0,null,null,0,"th",[["class","goal-text tableheadtitle "],["style","background-color: #dcdcdc;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](29,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,W)),t["\u0275did"](31,540672,null,0,o.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(e,l){e(l,31,0,!1===l.component.kpiLoader?t["\u0275nov"](l.parent,6):t["\u0275nov"](l.parent.parent,25))},null)}function J(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,31,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,30,"tr",[["class","form-data-cont"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,7,"td",[["class","elipsis"],["style","min-width: 120px; max-width: 150px; position: relative;"]],[[8,"title",0]],null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,6,"input",[["ibmText",""],["name","title"],["placeholder","KPI Title"],["style","margin-top: 8px;"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,l,n){var i=!0;return"input"===l&&(i=!1!==t["\u0275nov"](e,5)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,5).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,5)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,5)._compositionEnd(n.target.value)&&i),"ngModelChange"===l&&(i=!1!==(e.context.$implicit.title=n)&&i),i},null,null)),t["\u0275did"](4,16384,null,0,k.a,[],null,null),t["\u0275did"](5,16384,null,0,M.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,M.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,M.NG_VALUE_ACCESSOR,function(e){return[e]},[M.DefaultValueAccessor]),t["\u0275did"](7,671744,null,0,M.NgModel,[[8,null],[8,null],[8,null],[6,M.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,M.NgControl,null,[M.NgModel]),t["\u0275did"](9,16384,null,0,M.NgControlStatus,[[4,M.NgControl]],null,null),(e()(),t["\u0275eld"](10,0,null,null,2,"td",[["class","elipsis"],["style","min-width: 120px; max-width: 150px;  position: relative;"]],[[8,"title",0]],null,null,null,null)),(e()(),t["\u0275eld"](11,0,null,null,1,"div",[["style"," position: absolute;top: 40%;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](12,null,[" "," "])),(e()(),t["\u0275eld"](13,0,null,null,2,"td",[["class","elipsis"],["style","width: 150px; position: relative;"]],[[8,"title",0]],null,null,null,null)),(e()(),t["\u0275eld"](14,0,null,null,1,"div",[["style"," position: absolute;top: 40%;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](15,null,[" "," "])),(e()(),t["\u0275eld"](16,0,null,null,2,"td",[["style","width: 200px !important; position: relative;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](17,0,null,null,1,"div",[["style"," position: absolute;top: 40%;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](18,null,[" "," "])),(e()(),t["\u0275eld"](19,0,null,null,2,"td",[["style","width: 200px !important; position: relative;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](20,0,null,null,1,"div",[["style"," position: absolute;top: 40%;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](21,null,[" "," "])),(e()(),t["\u0275eld"](22,0,null,null,2,"td",[["style","width: 200px !important; position: relative;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](23,0,null,null,1,"div",[["style"," position: absolute;top: 40%;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](24,null,[" "," "])),(e()(),t["\u0275eld"](25,0,null,null,6,"td",[["style","text-align: -webkit-right; width: 5%"]],null,null,null,null,null)),(e()(),t["\u0275eld"](26,0,null,null,5,"ibm-overflow-menu",[["appendInline","true"],["class","widget-overflow-menu"],["flip","true"]],null,null,null,N.b,N.a)),t["\u0275did"](27,49152,null,1,L.a,[t.ElementRef,u.a],{flip:[0,"flip"]},null),t["\u0275qud"](335544320,2,{overflowMenuDirective:0}),(e()(),t["\u0275eld"](29,0,null,0,2,"ibm-overflow-menu-option",[["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.openEditWindow(e.context.$implicit)&&t),t},A.b,A.a)),t["\u0275did"](30,4243456,null,0,F.a,[t.ElementRef],{type:[0,"type"]},null),(e()(),t["\u0275ted"](-1,0,[" Edit "]))],function(e,l){e(l,7,0,"title",l.context.$implicit.title),e(l,27,0,"true"),e(l,30,0,"danger")},function(e,l){e(l,2,0,l.context.$implicit.title),e(l,3,1,[t["\u0275nov"](l,4).inputClass,t["\u0275nov"](l,4).invalid,t["\u0275nov"](l,4).skeleton,t["\u0275nov"](l,4).isLightTheme,t["\u0275nov"](l,9).ngClassUntouched,t["\u0275nov"](l,9).ngClassTouched,t["\u0275nov"](l,9).ngClassPristine,t["\u0275nov"](l,9).ngClassDirty,t["\u0275nov"](l,9).ngClassValid,t["\u0275nov"](l,9).ngClassInvalid,t["\u0275nov"](l,9).ngClassPending]),e(l,10,0,l.context.$implicit.primaryOwner),e(l,12,0,l.context.$implicit.primaryOwner?l.context.$implicit.primaryOwner:"--"),e(l,13,0,l.context.$implicit.weightage),e(l,15,0,l.context.$implicit.weightage?l.context.$implicit.weightage:"--"),e(l,18,0,l.context.$implicit.dcfLabel?l.context.$implicit.dcfLabel:"--"),e(l,21,0,l.context.$implicit.rf?l.context.$implicit.rf:"--"),e(l,24,0,l.context.$implicit.uomLabel?l.context.$implicit.uomLabel:"--"),e(l,29,0,t["\u0275nov"](l,30).optionClass,t["\u0275nov"](l,30).role,t["\u0275nov"](l,30).isDanger,t["\u0275nov"](l,30).isDisabled)})}function X(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](16777216,null,null,1,null,J)),t["\u0275did"](1,278528,null,0,o.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),t["\u0275and"](0,null,null,0))],function(e,l){e(l,1,0,l.component.kpiList)},null)}function ee(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","margin-bottom: 15px;margin-top: 20px;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,1,"div",[["style","font-size: 22px; font-weight: 300;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" KPI Structure Details "])),(e()(),t["\u0275and"](16777216,null,null,1,null,Z)),t["\u0275did"](5,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,[["result",2]],null,0,null,X))],function(e,l){var n=l.component;e(l,5,0,!0===n.kpiLoader||n.kpiList.length>0)},null)}function le(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text "]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"],["title","Loading"]],[[2,"bx--loading-overlay",null]],null,null,r.b,r.a)),t["\u0275did"](2,49152,null,0,s.a,[u.a],{title:[0,"title"],size:[1,"size"]},null),(e()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Loading..."]))],function(e,l){e(l,2,0,"Loading","sm")},function(e,l){e(l,1,0,t["\u0275nov"](l,2).overlay)})}function ne(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"div",[["style","margin-bottom: 15px;margin-top: 10px;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"div",[["style","font-size: 22px; font-weight: 300;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Define structure to extend "])),(e()(),t["\u0275eld"](3,0,null,null,16,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,15,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](5,16384,null,0,E.c,[],null,null),(e()(),t["\u0275eld"](6,0,null,null,13,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](7,81920,null,0,E.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](8,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](9,0,null,null,10,"label",[["class","bx--label date-margin-top"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Financial year Extension "])),(e()(),t["\u0275eld"](11,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["*"])),(e()(),t["\u0275eld"](13,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(e,l,n){var i=!0,a=e.component;return"keydown"===l&&(i=!1!==t["\u0275nov"](e,15).onKeyDown(n)&&i),"selected"===l&&(i=!1!==a.setFinancialYear(n)&&i),i},T.b,T.a)),t["\u0275prd"](5120,null,M.NG_VALUE_ACCESSOR,function(e){return[e]},[R.a]),t["\u0275did"](15,1294336,null,1,R.a,[t.ElementRef,u.a,_.a],{placeholder:[0,"placeholder"],size:[1,"size"],type:[2,"type"],disabled:[3,"disabled"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,1,{view:0}),(e()(),t["\u0275eld"](17,0,null,0,2,"ibm-dropdown-list",[],null,null,null,K.b,K.a)),t["\u0275did"](18,4374528,null,0,U.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[1,4]],Y.a,null,[U.a]),(e()(),t["\u0275and"](16777216,null,null,1,null,G)),t["\u0275did"](21,540672,null,0,o.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),t["\u0275and"](0,[["depTree",2]],null,0,null,Q)),(e()(),t["\u0275and"](16777216,null,null,1,null,ee)),t["\u0275did"](24,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,[["loading",2]],null,0,null,le))],function(e,l){var n=l.component,i=e(l,8,0,3,3,12);e(l,7,0,i),e(l,15,0,"Choose","sm","single",n.isTreeExtended,"true"),e(l,18,0,n.yearList),e(l,21,0,t["\u0275nov"](l,n.depTreeLoading?25:22)),e(l,24,0,n.hideExtendButton)},function(e,l){e(l,4,0,t["\u0275nov"](l,5).baseClass),e(l,6,0,t["\u0275nov"](l,7).columnClasses),e(l,13,0,t["\u0275nov"](l,15).hostClass)})}},"7ho3":function(e,l,n){"use strict";var t=n("8Y7J"),i=n("noyz"),a=n("1V2r"),o=n("s7LF"),r=n("gLoP"),s=n("mEpm"),u=n("i3NF"),d=n("FNXg"),c=n("1ZgJ"),p=n("baZm"),m=n("Amkq"),h=n("WeWU"),g=n("oljc"),b=n("SVse"),f=n("XvC9"),v=n("kqF4"),x=n("FS8H"),y=n("QFd6"),w=n("O5lk"),C=n("AkuH"),I=n("wxoE"),S=n("M+tS"),D=n("3yNS"),P=n("IcCv"),O=n("A+V5"),k=n("tKJU"),M=n("uUZD");n("KADP"),n("PsxR"),n("Dnte"),n("EApP"),n("Z3BZ"),n("MqE1"),n("X/pD"),n.d(l,"a",function(){return N}),n.d(l,"b",function(){return G});var N=t["\u0275crt"]({encapsulation:0,styles:[[".goal-add-container[_ngcontent-%COMP%]{padding-left:0;padding-right:0;padding-bottom:32px;background-color:#fff}.center-loader-text[_ngcontent-%COMP%]{display:flex;align-items:center}.inline[_ngcontent-%COMP%]{display:inline-block}.goal-section-title[_ngcontent-%COMP%]{color:#000;font-family:'IBM Plex Sans';font-size:16px}.top-right-text[_ngcontent-%COMP%]{display:flex!important;float:right!important}.bx--btn--secondary[_ngcontent-%COMP%]{background-color:#393939;padding-right:12px}.float-right[_ngcontent-%COMP%]{float:right}.margin-top[_ngcontent-%COMP%]{margin-top:20px}.button-goal[_ngcontent-%COMP%]{width:172px}.date-range[_ngcontent-%COMP%]{font-size:10px;font-weight:400;color:#232323;font-family:'IBM Plex Sans';line-height:15px;text-align:center}[_ngcontent-%COMP%]::-webkit-input-placeholder   [_ngcontent-%COMP%]:-moz-placeholder   [_ngcontent-%COMP%]:-ms-input-placeholder   [_ngcontent-%COMP%]::-moz-placeholder{height:18px;width:428px;color:#171717;font-family:'IBM Plex Sans';font-size:14px;letter-spacing:.16px;line-height:18px}.add-another[_ngcontent-%COMP%]{height:40px!important;width:126px!important;color:#e02020;font-family:'IBM Plex Sans';font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #e02020;background-color:#fff}.consume-right-div[_ngcontent-%COMP%]{height:78px;width:100%;margin-left:0;background-color:#f3d8dd}.text-no[_ngcontent-%COMP%]{height:36px;width:36px;color:#da1e28;font-family:'IBM Plex Sans';font-size:60px;font-weight:600;line-height:36px;text-align:center;margin:21px 18px 21px 16px}.text-inner-data[_ngcontent-%COMP%]{height:36px;width:98px;color:#da1e28;font-family:'IBM Plex Sans';font-size:16px;font-weight:600;line-height:36px;margin:21px 0}.primary-btn.bx--btn[_ngcontent-%COMP%]{padding:0 24px;border-radius:20px}.bx--btn--danger[_ngcontent-%COMP%]{padding:0}.add-another-text[_ngcontent-%COMP%]{height:20px;width:83px;color:#da1e28;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;letter-spacing:.16px;line-height:20px}.btn-pr-width[_ngcontent-%COMP%]{height:100%;width:100%;text-align:center}.make-primary[_ngcontent-%COMP%]{height:20px;width:88px;color:#0091ff;font-family:'IBM Plex Sans';font-size:14px;letter-spacing:.16px;line-height:20px}.make-primary-div[_ngcontent-%COMP%]{height:100%;width:100%;text-align:center;padding-top:14px}.close-icon[_ngcontent-%COMP%]{float:right}.padding-top[_ngcontent-%COMP%]{padding-top:16px}.line-bottom[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;border-bottom:1px solid #979797}.padding-right-0[_ngcontent-%COMP%]{padding-right:0!important}.margin-left-16[_ngcontent-%COMP%]{margin-left:16px}.active-card[_ngcontent-%COMP%]{border:1px solid red}.report-colmn[_ngcontent-%COMP%]{display:flex;flex-direction:row}.report-container[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#f3f3f3;padding:20px;margin-right:10px}.target-card-fill-color[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}#target[_ngcontent-%COMP%]{pointer-events:none;text-align:center;border-bottom:1px solid #8897a2;padding:32px 0 18px!important;width:100%!important;background-color:#f3f3f3!important}.limit-class[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;float:left;margin-right:12px}.text-copy[_ngcontent-%COMP%], .week-text[_ngcontent-%COMP%]{color:#000;font-family:'IBM Plex Sans';font-size:14px;line-height:24px}.bold-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.no-margin-top[_ngcontent-%COMP%]{margin-top:0!important}.week-no[_ngcontent-%COMP%]{font-weight:600}.align-center[_ngcontent-%COMP%], .align-clomn[_ngcontent-%COMP%]{align-items:center}.carousel[_ngcontent-%COMP%]{background:#2f4357;margin-top:20px}.carousel-item[_ngcontent-%COMP%]{text-align:center;min-height:280px}.bs-example[_ngcontent-%COMP%]{margin:20px}.arrow-icon-span[_ngcontent-%COMP%]{box-sizing:border-box;width:97px;border:1px solid #dcdcdc;background-color:#f3f3f3;margin-left:16px}.left-arrow-icon[_ngcontent-%COMP%]{border-right:1px solid #dcdcdc;height:44px;width:49px}.right-arrow-icon[_ngcontent-%COMP%]{width:42px;height:44px}.error-color[_ngcontent-%COMP%]{color:red}.bx--text-input[_ngcontent-%COMP%]:active, .bx--text-input[_ngcontent-%COMP%]:focus{border-bottom:1px solid #da1e28}.record-edit-not-permitted-message-text[_ngcontent-%COMP%]{color:#da1e28;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;letter-spacing:.16px;line-height:20px}.bx--content-switcher--selected[_ngcontent-%COMP%]{background-color:#da1e28!important}.bx--content-switcher-btn[_ngcontent-%COMP%]{min-width:100px}.instruction-for-stratify[_ngcontent-%COMP%]{color:#393939;font-family:'IBM Plex Sans';font-size:14px;letter-spacing:.32px;line-height:16px;margin-top:8px}.copy-btn[_ngcontent-%COMP%]{text-align:center;margin-top:8px;color:#00f;cursor:pointer}.disabled-no-action[_ngcontent-%COMP%]{pointer-events:none;background:#d3d3d3;cursor:not-allowed}.close-icon-center[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;top:-18px;cursor:pointer}.card-fill-color[_ngcontent-%COMP%]{opacity:.5}.bx--accordion__item[_ngcontent-%COMP%]{margin-top:5px}.bx--accordion__arrow[_ngcontent-%COMP%], .bx--accordion__item--active[_ngcontent-%COMP%]   .bx--accordion__arrow[_ngcontent-%COMP%]{fill:#000}//[_ngcontent-%COMP%]   This[_ngcontent-%COMP%]   is[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   fix[_ngcontent-%COMP%]   to[_ngcontent-%COMP%]   attach[_ngcontent-%COMP%]   spaceing[_ngcontent-%COMP%]   around[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .input-aligin[_ngcontent-%COMP%]{margin-top:-2px;margin-bottom:8px}div.sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1;background-color:#fff;padding-bottom:8px;padding-top:8px}.bottom-edge-shadow[_ngcontent-%COMP%]{box-shadow:0 2px 6px -6px #000}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.margin-top-dropdown-label[_ngcontent-%COMP%]   .bx--dropdown[_ngcontent-%COMP%], .margin-top-dropdown-label[_ngcontent-%COMP%]   .bx--list-box[_ngcontent-%COMP%]{margin-top:0!important}.bx--list-box--disabled[_ngcontent-%COMP%]   .bx--list-box__label[_ngcontent-%COMP%], .bx--list-box--disabled.bx--list-box--inline[_ngcontent-%COMP%]   .bx--list-box__label[_ngcontent-%COMP%]{color:#5a6872!important}.bx--grid[_ngcontent-%COMP%]{max-width:100%}.input-aligin[_ngcontent-%COMP%]{margin-top:-2px;margin-bottom:8px}"]],data:{}});function L(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"a",[["ibmLink",""],["inline","true"],["style","cursor: pointer; float: right;"]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.openFormFill()&&t),t},null,null)),(e()(),t["\u0275ted"](-1,null,["Fill Data"]))],null,null)}function A(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,11,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](3,0,null,null,8,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Weightage "])),(e()(),t["\u0275eld"](5,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["placeholder","Select Weightage"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(e,l,n){var i=!0,a=e.component;return"keydown"===l&&(i=!1!==t["\u0275nov"](e,7).onKeyDown(n)&&i),"selected"===l&&(i=!1!==a.selectedWeightage(n)&&i),i},a.b,a.a)),t["\u0275prd"](5120,null,o.NG_VALUE_ACCESSOR,function(e){return[e]},[r.a]),t["\u0275did"](7,1294336,null,1,r.a,[t.ElementRef,s.a,u.a],{placeholder:[0,"placeholder"],size:[1,"size"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,6,{view:0}),(e()(),t["\u0275eld"](9,0,null,0,2,"ibm-dropdown-list",[],null,null,null,d.b,d.a)),t["\u0275did"](10,4374528,null,0,c.a,[t.ElementRef,s.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[6,4]],p.a,null,[c.a])],function(e,l){var n=l.component,t=e(l,2,0,3,3,12);e(l,1,0,t),e(l,7,0,"Select Weightage","sm","single","true"),e(l,10,0,n.weightageItems)},function(e,l){e(l,0,0,t["\u0275nov"](l,1).columnClasses),e(l,5,0,t["\u0275nov"](l,7).hostClass)})}function F(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,14,"div",[["class","margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](3,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](4,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](5,0,null,null,7,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](6,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](7,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](8,0,null,null,4,"ibm-label",[],[[2,"bx--form-item",null]],null,null,m.b,m.a)),t["\u0275did"](9,1097728,null,0,h.a,[],null,null),(e()(),t["\u0275ted"](-1,0,[" User "])),(e()(),t["\u0275eld"](11,0,null,1,1,"input",[["class","input-aligin"],["ibmText",""],["style","background-color: #f3f3f3;margin-top: -2px;"]],[[8,"value",0],[8,"disabled",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null]],null,null,null,null)),t["\u0275did"](12,16384,null,0,g.a,[],null,null),(e()(),t["\u0275and"](16777216,null,null,1,null,A)),t["\u0275did"](14,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,l){var n=l.component,t=e(l,2,0,12,12,12);e(l,1,0,"margin-top-20",t);var i=e(l,7,0,6,6,12);e(l,6,0,i),e(l,14,0,n.assignMeAsOwner)},function(e,l){var n=l.component;e(l,0,0,t["\u0275nov"](l,1).columnClasses),e(l,3,0,t["\u0275nov"](l,4).baseClass),e(l,5,0,t["\u0275nov"](l,6).columnClasses),e(l,8,0,t["\u0275nov"](l,9).labelClass),e(l,11,0,n.currentUserInfo.content,n.assignMeAsOwner?"disabled":null,t["\u0275nov"](l,12).inputClass,t["\u0275nov"](l,12).invalid,t["\u0275nov"](l,12).skeleton,t["\u0275nov"](l,12).isLightTheme)})}function E(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,20,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](2,0,null,null,6,"div",[["class","padding-right-0 user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](5,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" User "])),(e()(),t["\u0275eld"](7,0,null,null,1,"app-e4-combo-box",[["isDependent","true"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(e,l,n){var t=!0,i=e.component;return"onOpen"===l&&(t=!1!==i.onOpenOwner(n)&&t),"onSearch"===l&&(t=!1!==i.onSearchUser(n,"owner",e.context.index)&&t),"onSelect"===l&&(t=!1!==i.onSelectedUser(n,e.context.index)&&t),t},f.b,f.a)),t["\u0275did"](8,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(e()(),t["\u0275eld"](9,0,null,null,11,"div",[["class","weigtage-drop-cnt"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](10,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](11,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](12,0,null,null,8,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Weightage "])),(e()(),t["\u0275eld"](14,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["placeholder","Select Weightage"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(e,l,n){var i=!0,a=e.component;return"keydown"===l&&(i=!1!==t["\u0275nov"](e,16).onKeyDown(n)&&i),"selected"===l&&(i=!1!==a.selectedWeightage(n)&&i),i},a.b,a.a)),t["\u0275prd"](5120,null,o.NG_VALUE_ACCESSOR,function(e){return[e]},[r.a]),t["\u0275did"](16,1294336,null,1,r.a,[t.ElementRef,s.a,u.a],{placeholder:[0,"placeholder"],size:[1,"size"],type:[2,"type"],appendInline:[3,"appendInline"],selectedLabel:[4,"selectedLabel"]},{selected:"selected"}),t["\u0275qud"](335544320,7,{view:0}),(e()(),t["\u0275eld"](18,0,null,0,2,"ibm-dropdown-list",[],null,null,null,d.b,d.a)),t["\u0275did"](19,4374528,null,0,c.a,[t.ElementRef,s.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[7,4]],p.a,null,[c.a])],function(e,l){var n=l.component,t=e(l,4,0,6,6,12);e(l,3,0,"padding-right-0 user-search-combo-box",t),e(l,8,0,n.searchedUsers,"true",l.context.$implicit.userName);var i=e(l,11,0,3,3,12);e(l,10,0,"weigtage-drop-cnt",i),e(l,16,0,"Select Weightage","sm","single","true",n.selectedLabel),e(l,19,0,n.weightageItems)},function(e,l){e(l,0,0,t["\u0275nov"](l,1).baseClass),e(l,2,0,t["\u0275nov"](l,3).columnClasses),e(l,9,0,t["\u0275nov"](l,10).columnClasses),e(l,14,0,t["\u0275nov"](l,16).hostClass)})}function T(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](4,278528,null,0,b.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,l){var n=l.component,t=e(l,2,0,12,12,12);e(l,1,0,"margin-top-20",t),e(l,4,0,n.selectedOwnersArray)},function(e,l){e(l,0,0,t["\u0275nov"](l,1).columnClasses)})}function R(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,8,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](2,0,null,null,6,"div",[["class","user-search-combo-box margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["isDependent","true"],["style","display:inline-flex; width: 95%;"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(e,l,n){var t=!0,i=e.component;return"onOpen"===l&&(t=!1!==i.onOpenViewer(n)&&t),"onSearch"===l&&(t=!1!==i.onSearchUser(n,"viewer",e.context.index)&&t),"onSelect"===l&&(t=!1!==i.onSelectedViewUser(n,e.context.index)&&t),t},f.b,f.a)),t["\u0275did"](6,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(e()(),t["\u0275eld"](7,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""],["style","display:inline-flex; width: 5%;"]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.removeViewer(e.context.index)&&t),t},null,null)),t["\u0275did"](8,4210688,null,0,x.a,[t.ElementRef],null,null)],function(e,l){var n=l.component,t=e(l,4,0,12,12,12);e(l,3,0,"user-search-combo-box margin-top-20",t),e(l,6,0,n.searchedUsers,"true",l.context.$implicit.userName)},function(e,l){e(l,0,0,t["\u0275nov"](l,1).baseClass),e(l,2,0,t["\u0275nov"](l,3).columnClasses)})}function _(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,8,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](2,0,null,null,6,"div",[["class","user-search-combo-box margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["placeholder","Search group"],["style","display:inline-flex; width: 95%;"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(e,l,n){var t=!0,i=e.component;return"onOpen"===l&&(t=!1!==i.onOpenViewer(n)&&t),"onSearch"===l&&(t=!1!==i.onSearchGroup(n,"viewer",e.context.index)&&t),"onSelect"===l&&(t=!1!==i.onSelectedGroup(n,e.context.index)&&t),t},f.b,f.a)),t["\u0275did"](6,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(e()(),t["\u0275eld"](7,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""],["style","display:inline-flex; width: 5%;"]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.removeGroup(e.context.index)&&t),t},null,null)),t["\u0275did"](8,4210688,null,0,x.a,[t.ElementRef],null,null)],function(e,l){var n=l.component,t=e(l,4,0,12,12,12);e(l,3,0,"user-search-combo-box margin-top-20",t),e(l,6,0,n.searchedGroups,l.context.$implicit.groupName,"Search group")},function(e,l){e(l,0,0,t["\u0275nov"](l,1).baseClass),e(l,2,0,t["\u0275nov"](l,3).columnClasses)})}function K(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](2,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](5,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onAddViewUser()&&t),t},null,null))],function(e,l){var n=e(l,4,0,12,12,12);e(l,3,0,n)},function(e,l){e(l,0,0,t["\u0275nov"](l,1).baseClass),e(l,2,0,t["\u0275nov"](l,3).columnClasses)})}function U(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](2,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](5,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onAddGroup()&&t),t},null,null))],function(e,l){var n=e(l,4,0,12,12,12);e(l,3,0,n)},function(e,l){e(l,0,0,t["\u0275nov"](l,1).baseClass),e(l,2,0,t["\u0275nov"](l,3).columnClasses)})}function Y(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),t["\u0275ted"](2,null,[" "," "])),(e()(),t["\u0275eld"](3,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](5,null,["",""])),(e()(),t["\u0275eld"](6,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),t["\u0275ted"](7,null,[" "," "]))],null,function(e,l){var n=l.component;e(l,2,0,l.context.$implicit.key),e(l,5,0,n.getInvolvedPeople(l.context.$implicit.value)),e(l,7,0,l.context.$implicit.value.size)})}function V(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"td",[["colspan","3"],["style","text-align: center;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" No users selected! "]))],null,null)}function G(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,"div",[["style","margin: 1px;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,212,"ibm-accordion",[],null,null,null,y.b,y.a)),t["\u0275did"](2,1097728,null,1,w.a,[],null,null),t["\u0275qud"](603979776,1,{children:1}),(e()(),t["\u0275eld"](4,0,null,0,86,"ibm-accordion-item",[],[[2,"bx--accordion__item",null],[2,"bx--accordion__item--active",null],[4,"display",null],[1,"role",0],[1,"aria-level",0]],null,null,C.b,C.a)),t["\u0275did"](5,49152,[[1,4]],0,I.a,[],{title:[0,"title"],expanded:[1,"expanded"]},null),(e()(),t["\u0275eld"](6,0,null,0,84,"div",[["class","margin-top-20"],["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](7,16384,null,0,i.b,[],null,null),(e()(),t["\u0275eld"](8,0,null,null,82,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](9,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](10,0,null,null,80,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](11,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](12,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](13,0,null,null,77,"ibm-tabs",[],null,null,null,S.b,S.a)),t["\u0275did"](14,1097728,null,2,D.a,[],null,null),t["\u0275qud"](603979776,2,{tabs:1}),t["\u0275qud"](335544320,3,{tabHeaders:0}),(e()(),t["\u0275eld"](17,0,null,0,10,"ibm-tab",[["heading","Computed"]],[[1,"id",0]],null,null,P.b,P.a)),t["\u0275did"](18,114688,[[2,4]],0,O.a,[],{heading:[0,"heading"],active:[1,"active"]},null),(e()(),t["\u0275eld"](19,0,null,0,8,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](20,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](21,0,null,null,6,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](22,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](23,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](24,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Source "])),(e()(),t["\u0275eld"](26,0,null,null,1,"app-e4-combo-box",[["isDependent","true"],["placeholder","Search metric"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(e,l,n){var t=!0,i=e.component;return"onOpen"===l&&(t=!1!==i.onOpenComputed(n)&&t),"onSearch"===l&&(t=!1!==i.onSearchComputed(n)&&t),"onSelect"===l&&(t=!1!==i.onSelectedComputed(n)&&t),t},f.b,f.a)),t["\u0275did"](27,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(e()(),t["\u0275eld"](28,0,null,0,19,"ibm-tab",[["heading","Internal Data"]],[[1,"id",0]],null,null,P.b,P.a)),t["\u0275did"](29,114688,[[2,4]],0,O.a,[],{heading:[0,"heading"],active:[1,"active"]},null),(e()(),t["\u0275eld"](30,0,null,0,17,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](31,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](32,0,null,null,8,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](33,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](34,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](35,0,null,null,5,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Select Form "])),(e()(),t["\u0275and"](16777216,null,null,1,null,L)),t["\u0275did"](38,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](39,0,null,null,1,"app-e4-combo-box",[["isDependent","true"],["placeholder","Search form"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(e,l,n){var t=!0,i=e.component;return"onOpen"===l&&(t=!1!==i.onOpenInternal(n)&&t),"onSearch"===l&&(t=!1!==i.onSearchInternal(n,"INTERNAL")&&t),"onSelect"===l&&(t=!1!==i.onSelectedInternal(n)&&t),t},f.b,f.a)),t["\u0275did"](40,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(e()(),t["\u0275eld"](41,0,null,null,6,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](42,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](43,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](44,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Select Form's Metric Field "])),(e()(),t["\u0275eld"](46,0,null,null,1,"app-e4-combo-box",[["placeholder","Select metric field"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,l,n){var t=!0,i=e.component;return"onSearch"===l&&(t=!1!==i.onSearchInternalFormId(n)&&t),"onSelect"===l&&(t=!1!==i.onSelectedFormField(n)&&t),t},f.b,f.a)),t["\u0275did"](47,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"}),(e()(),t["\u0275eld"](48,0,null,0,17,"ibm-tab",[["heading","External Data"]],[[1,"id",0]],null,null,P.b,P.a)),t["\u0275did"](49,114688,[[2,4]],0,O.a,[],{heading:[0,"heading"],active:[1,"active"]},null),(e()(),t["\u0275eld"](50,0,null,0,15,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](51,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](52,0,null,null,6,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](53,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](54,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](55,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Select Form "])),(e()(),t["\u0275eld"](57,0,null,null,1,"app-e4-combo-box",[["isDependent","true"],["placeholder","Search form"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(e,l,n){var t=!0,i=e.component;return"onOpen"===l&&(t=!1!==i.onOpenInternal(n)&&t),"onSearch"===l&&(t=!1!==i.onSapSearchInternal(n)&&t),"onSelect"===l&&(t=!1!==i.onSapSelectedInternal(n)&&t),t},f.b,f.a)),t["\u0275did"](58,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(e()(),t["\u0275eld"](59,0,null,null,6,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](60,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](61,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](62,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Select Form's Field "])),(e()(),t["\u0275eld"](64,0,null,null,1,"app-e4-combo-box",[["placeholder","Select field"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,l,n){var t=!0,i=e.component;return"onSearch"===l&&(t=!1!==i.onExternalSapSearchInternalFormId(n)&&t),"onSelect"===l&&(t=!1!==i.onSapSelectedFormField(n)&&t),t},f.b,f.a)),t["\u0275did"](65,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"}),(e()(),t["\u0275eld"](66,0,null,0,24,"ibm-tab",[["heading","Apply Filter"]],[[1,"id",0]],null,null,P.b,P.a)),t["\u0275did"](67,114688,[[2,4]],0,O.a,[],{heading:[0,"heading"],active:[1,"active"]},null),(e()(),t["\u0275eld"](68,0,null,0,22,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](69,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](70,0,null,null,6,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](71,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](72,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](73,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Select Form "])),(e()(),t["\u0275eld"](75,0,null,null,1,"app-e4-combo-box",[["isDependent","true"],["placeholder","Search form"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(e,l,n){var t=!0,i=e.component;return"onOpen"===l&&(t=!1!==i.onOpenInternal(n)&&t),"onSearch"===l&&(t=!1!==i.onSearchInternal(n,"ALL")&&t),"onSelect"===l&&(t=!1!==i.onFormSelectForApplyFilter(n)&&t),t},f.b,f.a)),t["\u0275did"](76,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(e()(),t["\u0275eld"](77,0,null,null,6,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](78,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](79,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](80,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Select Filter "])),(e()(),t["\u0275eld"](82,0,null,null,1,"app-e4-combo-box",[["placeholder","Select filter"]],null,[[null,"onSelect"]],function(e,l,n){var t=!0;return"onSelect"===l&&(t=!1!==e.component.onSelectedFormFilter(n)&&t),t},f.b,f.a)),t["\u0275did"](83,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSelect:"onSelect"}),(e()(),t["\u0275eld"](84,0,null,null,6,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](85,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](86,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](87,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Select Field "])),(e()(),t["\u0275eld"](89,0,null,null,1,"app-e4-combo-box",[["placeholder","Select metric field"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,l,n){var t=!0,i=e.component;return"onSearch"===l&&(t=!1!==i.onSearchInternalFormId(n)&&t),"onSelect"===l&&(t=!1!==i.onSelectedFormField(n)&&t),t},f.b,f.a)),t["\u0275did"](90,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"}),(e()(),t["\u0275eld"](91,0,null,0,71,"ibm-accordion-item",[],[[2,"bx--accordion__item",null],[2,"bx--accordion__item--active",null],[4,"display",null],[1,"role",0],[1,"aria-level",0]],null,null,C.b,C.a)),t["\u0275did"](92,49152,[[1,4]],0,I.a,[],{title:[0,"title"],expanded:[1,"expanded"]},null),(e()(),t["\u0275eld"](93,0,null,0,69,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](94,16384,null,0,i.b,[],null,null),(e()(),t["\u0275eld"](95,0,null,null,67,"div",[["ibmRow",""],["id","owner-div"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](96,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](97,0,null,null,35,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](98,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](99,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](100,0,null,null,7,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](101,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](102,0,null,null,5,"div",[["class","goal-section-title"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](103,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](104,{lg:0,md:1,sm:2}),(e()(),t["\u0275ted"](-1,null,[" Assign Owner"])),(e()(),t["\u0275eld"](106,0,null,null,1,"span",[["style","color: red;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["*"])),(e()(),t["\u0275eld"](108,0,null,null,24,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](109,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](110,0,null,null,22,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](111,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](112,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](113,0,null,null,19,"ibm-tabs",[],null,null,null,S.b,S.a)),t["\u0275did"](114,1097728,null,2,D.a,[],null,null),t["\u0275qud"](603979776,4,{tabs:1}),t["\u0275qud"](335544320,5,{tabHeaders:0}),(e()(),t["\u0275eld"](117,0,null,0,15,"ibm-tab",[["class","owner-individuals"],["heading","Individuals"]],[[1,"id",0]],null,null,P.b,P.a)),t["\u0275did"](118,114688,[[4,4]],0,O.a,[],{heading:[0,"heading"]},null),(e()(),t["\u0275eld"](119,0,null,0,5,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](120,16384,null,0,i.c,[],null,null),(e()(),t["\u0275and"](16777216,null,null,1,null,F)),t["\u0275did"](122,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,T)),t["\u0275did"](124,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](125,0,null,0,7,"div",[["class","margin-top-20"]],null,null,null,null,null)),(e()(),t["\u0275eld"](126,0,null,null,6,"ibm-checkbox",[],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,l,n){var t=!0,i=e.component;return"ngModelChange"===l&&(t=!1!==(i.assignMeAsOwner=n)&&t),"ngModelChange"===l&&(t=!1!==i.assignMeOwnerChange()&&t),t},k.b,k.a)),t["\u0275did"](127,4243456,null,0,M.a,[t.ChangeDetectorRef],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(e){return[e]},[M.a]),t["\u0275did"](129,671744,null,0,o.NgModel,[[8,null],[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,o.NgControl,null,[o.NgModel]),t["\u0275did"](131,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(e()(),t["\u0275ted"](-1,0,[" Assign myself as primary owner "])),(e()(),t["\u0275eld"](133,0,null,null,29,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](134,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](135,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](136,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](137,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](138,0,null,null,3,"div",[["class","goal-section-title"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](139,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](140,{lg:0,md:1,sm:2}),(e()(),t["\u0275ted"](-1,null,[" Assign Viewer "])),(e()(),t["\u0275eld"](142,0,null,null,16,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](143,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](144,0,null,null,14,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](145,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](146,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](147,0,null,null,11,"ibm-tabs",[],null,null,null,S.b,S.a)),t["\u0275did"](148,1097728,null,2,D.a,[],null,null),t["\u0275qud"](603979776,8,{tabs:1}),t["\u0275qud"](335544320,9,{tabHeaders:0}),(e()(),t["\u0275eld"](151,0,null,0,3,"ibm-tab",[["class","viewer-individuals"],["heading","Individuals"]],[[1,"id",0]],[[null,"selected"]],function(e,l,n){var t=!0;return"selected"===l&&(t=!1!==e.component.selectTab("individuals")&&t),t},P.b,P.a)),t["\u0275did"](152,114688,[[8,4]],0,O.a,[],{heading:[0,"heading"]},{selected:"selected"}),(e()(),t["\u0275and"](16777216,null,0,1,null,R)),t["\u0275did"](154,278528,null,0,b.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),t["\u0275eld"](155,0,null,0,3,"ibm-tab",[["class","viewer-individuals"],["heading","Groups"]],[[1,"id",0]],[[null,"selected"]],function(e,l,n){var t=!0;return"selected"===l&&(t=!1!==e.component.selectTab("groups")&&t),t},P.b,P.a)),t["\u0275did"](156,114688,[[8,4]],0,O.a,[],{heading:[0,"heading"]},{selected:"selected"}),(e()(),t["\u0275and"](16777216,null,0,1,null,_)),t["\u0275did"](158,278528,null,0,b.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,K)),t["\u0275did"](160,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,U)),t["\u0275did"](162,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](163,0,null,0,50,"ibm-accordion-item",[],[[2,"bx--accordion__item",null],[2,"bx--accordion__item--active",null],[4,"display",null],[1,"role",0],[1,"aria-level",0]],null,null,C.b,C.a)),t["\u0275did"](164,49152,[[1,4]],0,I.a,[],{title:[0,"title"],expanded:[1,"expanded"]},null),(e()(),t["\u0275eld"](165,0,null,0,48,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](166,16384,null,0,i.b,[],null,null),(e()(),t["\u0275eld"](167,0,null,null,46,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](168,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](169,0,null,null,44,"div",[["class","goal-section-title"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](170,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](171,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](172,0,null,null,41,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](173,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](174,0,null,null,14,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](175,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](176,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](177,0,null,null,5,"div",[["class","consume-right-div margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](178,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](179,0,null,null,1,"span",[["class","text-no "]],null,null,null,null,null)),(e()(),t["\u0275ted"](180,null,["",""])),(e()(),t["\u0275eld"](181,0,null,null,1,"span",[["class","text-inner-data"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Departments"])),(e()(),t["\u0275eld"](183,0,null,null,5,"div",[["class","consume-right-div margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](184,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](185,0,null,null,1,"span",[["class","text-no "]],null,null,null,null,null)),(e()(),t["\u0275ted"](186,null,["",""])),(e()(),t["\u0275eld"](187,0,null,null,1,"span",[["class","text-inner-data"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["People"])),(e()(),t["\u0275eld"](189,0,null,null,24,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](190,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](191,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](192,0,null,null,21,"div",[["class","bx--data-table-container margin-top-20"],["data-table",""]],null,null,null,null,null)),(e()(),t["\u0275eld"](193,0,null,null,20,"table",[["class","bx--data-table bx--data-table--sort "]],null,null,null,null,null)),(e()(),t["\u0275eld"](194,0,null,null,13,"thead",[],null,null,null,null,null)),(e()(),t["\u0275eld"](195,0,null,null,12,"tr",[],null,null,null,null,null)),(e()(),t["\u0275eld"](196,0,null,null,3,"th",[],null,null,null,null,null)),(e()(),t["\u0275eld"](197,0,null,null,2,"div",[["class","bx--table-sort"],["data-event","sort"],["title","Name"]],null,null,null,null,null)),(e()(),t["\u0275eld"](198,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Department"])),(e()(),t["\u0275eld"](200,0,null,null,3,"th",[],null,null,null,null,null)),(e()(),t["\u0275eld"](201,0,null,null,2,"div",[["class","bx--table-sort"],["data-event","sort"],["title","Protocol"]],null,null,null,null,null)),(e()(),t["\u0275eld"](202,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["People"])),(e()(),t["\u0275eld"](204,0,null,null,3,"th",[],null,null,null,null,null)),(e()(),t["\u0275eld"](205,0,null,null,2,"div",[["class","bx--table-sort "],["data-event","sort"],["title","Port"]],null,null,null,null,null)),(e()(),t["\u0275eld"](206,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Count"])),(e()(),t["\u0275eld"](208,0,null,null,5,"tbody",[],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,2,null,Y)),t["\u0275did"](210,278528,null,0,b.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](0,b.KeyValuePipe,[t.KeyValueDiffers]),(e()(),t["\u0275and"](16777216,null,null,1,null,V)),t["\u0275did"](213,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,l){var n=l.component;e(l,5,0,t["\u0275inlineInterpolate"](1," ",n.level,". Data Source"),n.expandAccordianItems);var i=e(l,12,0,12,12,12);e(l,11,0,i),e(l,18,0,"Computed","COMPUTED"===n.selectedAchievementTab);var a=e(l,23,0,6,6,12);e(l,22,0,"user-search-combo-box",a),e(l,27,0,n.searchedComputedMetrics,"true",n.computedQuery,"Search metric"),e(l,29,0,"Internal Data","INTERNAL"===n.selectedAchievementTab);var o=e(l,34,0,6,6,12);e(l,33,0,"user-search-combo-box",o),e(l,38,0,n.showFillFormLink),e(l,40,0,n.searchedInternalMetrics,"true",n.internalQuery,"Search form");var r=e(l,43,0,6,6,12);e(l,42,0,"user-search-combo-box",r),e(l,47,0,n.formMetricList,n.selectedFormMetric,"Select metric field"),e(l,49,0,"External Data","SAP"===n.selectedAchievementTab);var s=e(l,54,0,6,6,12);e(l,53,0,"user-search-combo-box",s),e(l,58,0,n.searchedExternalMetrics,"true",n.sapInternalQuery,"Search form");var u=e(l,61,0,6,6,12);e(l,60,0,"user-search-combo-box",u),e(l,65,0,n.sapFormMetricList,n.selectedSapFormMetric,"Select field"),e(l,67,0,"Apply Filter","FILTER"===n.selectedAchievementTab);var d=e(l,72,0,4,4,12);e(l,71,0,"user-search-combo-box",d),e(l,76,0,n.searchedInternalMetrics,"true",n.selectedFilterForm,"Search form");var c=e(l,79,0,4,4,12);e(l,78,0,"user-search-combo-box",c),e(l,83,0,n.formFilterList,n.selectedFilter,"Select filter");var p=e(l,86,0,4,4,12);e(l,85,0,"user-search-combo-box",p),e(l,90,0,n.formMetricList,n.selectedFilterMetric,"Select metric field"),e(l,92,0,t["\u0275inlineInterpolate"](1," ",n.level+1,". Assign Owner & Viewer"),n.expandAccordianItems);var m=e(l,99,0,6,6,12);e(l,98,0,m);var h=e(l,104,0,6,6,12);e(l,103,0,"goal-section-title",h);var g=e(l,112,0,12,12,12);e(l,111,0,g),e(l,118,0,"Individuals"),e(l,122,0,n.assignMeAsOwner),e(l,124,0,!n.assignMeAsOwner),e(l,129,0,n.assignMeAsOwner);var b=e(l,135,0,6,6,12);e(l,134,0,b);var f=e(l,140,0,6,6,12);e(l,139,0,"goal-section-title",f);var v=e(l,146,0,12,12,12);e(l,145,0,v),e(l,152,0,"Individuals"),e(l,154,0,n.selectedViewersArray),e(l,156,0,"Groups"),e(l,158,0,n.selectedGroupsArray),e(l,160,0,"individuals"==n.selectedTab),e(l,162,0,"groups"==n.selectedTab),e(l,164,0,t["\u0275inlineInterpolate"](1,"  ",n.level+2,". Consumed By"),n.expandAccordianItems);var x=e(l,171,0,12,12,12);e(l,170,0,"goal-section-title",x);var y=e(l,176,0,3,3,12);e(l,175,0,y);var w=e(l,191,0,9,9,12);e(l,190,0,w),e(l,210,0,t["\u0275unv"](l,210,0,t["\u0275nov"](l,211).transform(n.involvedDepartments))),e(l,213,0,!n.involvedDepartments.size)},function(e,l){var n=l.component;e(l,4,0,t["\u0275nov"](l,5).itemClass,t["\u0275nov"](l,5).expanded,t["\u0275nov"](l,5).itemType,t["\u0275nov"](l,5).role,t["\u0275nov"](l,5).ariaLevel),e(l,6,0,t["\u0275nov"](l,7).baseClass),e(l,8,0,t["\u0275nov"](l,9).baseClass),e(l,10,0,t["\u0275nov"](l,11).columnClasses),e(l,17,0,t["\u0275nov"](l,18).attrClass),e(l,19,0,t["\u0275nov"](l,20).baseClass),e(l,21,0,t["\u0275nov"](l,22).columnClasses),e(l,28,0,t["\u0275nov"](l,29).attrClass),e(l,30,0,t["\u0275nov"](l,31).baseClass),e(l,32,0,t["\u0275nov"](l,33).columnClasses),e(l,41,0,t["\u0275nov"](l,42).columnClasses),e(l,48,0,t["\u0275nov"](l,49).attrClass),e(l,50,0,t["\u0275nov"](l,51).baseClass),e(l,52,0,t["\u0275nov"](l,53).columnClasses),e(l,59,0,t["\u0275nov"](l,60).columnClasses),e(l,66,0,t["\u0275nov"](l,67).attrClass),e(l,68,0,t["\u0275nov"](l,69).baseClass),e(l,70,0,t["\u0275nov"](l,71).columnClasses),e(l,77,0,t["\u0275nov"](l,78).columnClasses),e(l,84,0,t["\u0275nov"](l,85).columnClasses),e(l,91,0,t["\u0275nov"](l,92).itemClass,t["\u0275nov"](l,92).expanded,t["\u0275nov"](l,92).itemType,t["\u0275nov"](l,92).role,t["\u0275nov"](l,92).ariaLevel),e(l,93,0,t["\u0275nov"](l,94).baseClass),e(l,95,0,t["\u0275nov"](l,96).baseClass),e(l,97,0,t["\u0275nov"](l,98).columnClasses),e(l,100,0,t["\u0275nov"](l,101).baseClass),e(l,102,0,t["\u0275nov"](l,103).columnClasses),e(l,108,0,t["\u0275nov"](l,109).baseClass),e(l,110,0,t["\u0275nov"](l,111).columnClasses),e(l,117,0,t["\u0275nov"](l,118).attrClass),e(l,119,0,t["\u0275nov"](l,120).baseClass),e(l,126,0,t["\u0275nov"](l,127).checkboxWrapperClass,t["\u0275nov"](l,127).formItemClass,t["\u0275nov"](l,131).ngClassUntouched,t["\u0275nov"](l,131).ngClassTouched,t["\u0275nov"](l,131).ngClassPristine,t["\u0275nov"](l,131).ngClassDirty,t["\u0275nov"](l,131).ngClassValid,t["\u0275nov"](l,131).ngClassInvalid,t["\u0275nov"](l,131).ngClassPending),e(l,133,0,t["\u0275nov"](l,134).columnClasses),e(l,136,0,t["\u0275nov"](l,137).baseClass),e(l,138,0,t["\u0275nov"](l,139).columnClasses),e(l,142,0,t["\u0275nov"](l,143).baseClass),e(l,144,0,t["\u0275nov"](l,145).columnClasses),e(l,151,0,t["\u0275nov"](l,152).attrClass),e(l,155,0,t["\u0275nov"](l,156).attrClass),e(l,163,0,t["\u0275nov"](l,164).itemClass,t["\u0275nov"](l,164).expanded,t["\u0275nov"](l,164).itemType,t["\u0275nov"](l,164).role,t["\u0275nov"](l,164).ariaLevel),e(l,165,0,t["\u0275nov"](l,166).baseClass),e(l,167,0,t["\u0275nov"](l,168).baseClass),e(l,169,0,t["\u0275nov"](l,170).columnClasses),e(l,172,0,t["\u0275nov"](l,173).baseClass),e(l,174,0,t["\u0275nov"](l,175).columnClasses),e(l,177,0,t["\u0275nov"](l,178).baseClass),e(l,180,0,n.involvedDepartments.size),e(l,183,0,t["\u0275nov"](l,184).baseClass),e(l,186,0,n.involvedPeople),e(l,189,0,t["\u0275nov"](l,190).columnClasses)})}},B6FV:function(e,l,n){"use strict";n.d(l,"a",function(){return g});var t=n("mrSG"),i=n("cp0P"),a=(n("XX5M"),n("wd/R")),o=(n("+Kk7"),n("lvEG")),r=(n("PsxR"),n("ddZp")),s=(n("ciZX"),n("9XGM")),u=(n("Z725"),n("HTWL")),d=(n("qHnB"),n("LvDl")),c=n.n(d),p=n("wOnQ"),m=n.n(p),h=(n("Dnte"),n("bl9C"));class g{constructor(e,l,n,t,i,a,s,u){this.calenderService=e,this.kpiService=l,this.goalService=n,this.modalService=t,this.confirmationService=i,this.toastService=a,this.settingsService=s,this.peopleService=u,this.PAGE_SIZE=10,this.yearList=[],this.yearListCurrentKPISelection=[],this.kpiItems=[],this.kpiItemBackup=[],this.kpiItemsCurrentKPI=[],this.currentKPIid=null,this.currentKPIDepartmentName="",this.selectedKPItoLink=null,this.modules=[o.a,o.b,o.e,o.k,o.m],this.columnDefs=[{checkboxSelection:!0,headerName:"Financial Year",field:"year",sortable:!0,maxWidth:110,valueFormatter:e=>`${new Date(e.data.financialYearStart).getFullYear()}-${new Date(e.data.financialYearEnd).getFullYear()}`},{headerName:"VCS Ref No.",field:"vcsRefNo",sortable:!0,maxWidth:110,hide:!0},{headerName:"KPI Title",minWidth:180,field:"title",sortable:!0,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.openKPIDetails.bind(this),label:""}},{headerName:"UoM",field:"unitOfMeasurementTitle",sortable:!0},{headerName:"DoG",maxWidth:80,filter:!1,sortable:!0,field:"directionOfGoodness",cellRenderer:e=>"Up"===e.data.directionOfGoodness?'<img alt="Up" src="assets/img/arrow--up.svg" style="width:20px"/>':'<img alt="Down" src="assets/img/arrow--down.svg" style="width:20px"/>',comparator:(e,l,n,t,i)=>e||l?e===l?0:!e&&l?-1:e&&!l?1:e>l?1:-1:0},{headerName:"DCF/DRF",sortable:!0,valueFormatter:e=>`${e.data.dataCaptureFrequencyTitle} / ${e.data.reviewFrequencyTitle}`},{headerName:"Deparment",field:"departmentName",sortable:!0},{headerName:"KPI Owner",sortable:!0,field:"ownerFirstName",valueFormatter:e=>`${e.data.ownerFirstName} ${e.data.ownerLastName}`},{headerName:"CAP-Do",filter:!1,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.openCAPDo.bind(this),label:"",imgUrl:"assets/img/eye.svg"},maxWidth:85,suppressMenu:!0,resizable:!1,pinned:"right"}],this.gridOptions={getRowStyle:e=>{if(e.node.rowIndex%2!=0)return{background:"#F8F8F8"}},defaultColDef:{wrapText:!0,autoHeight:!0,resizable:!0,filter:!0,flex:1,minWidth:120,suppressMenu:!1,menuTabs:["filterMenuTab","generalMenuTab"],filterParams:{buttons:["reset"]},cellStyle:{"word-break":"break-word","white-space":"normal"}},sideBar:{toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivotMode:!0,suppressPivots:!0}}],position:"right",defaultToolPanel:"columns"},pagination:!0,paginationPageSize:this.PAGE_SIZE},this.selectedFinancialYear=null,this.selectedFinancialYearCurrentKPI=null,this.extendedKPIList=[],this.captureFreqItems=[],this.captureFreqItemsOriginal=[],this.unitOfMeasurementMap=new Map,this.captureFrequencyMap=new Map,this.chartLoading=!0,this.otherColours=[],this.lineChartColor={},this.selectedKpis=[],this.objectiveType=null,this.KpiTypes=[],this.showHideUpperLowerLimit=!1,this.showTargetLine=!0,this.showDataPointLabel=!1,this.cumulativeGraph=!1,this.ownerName="",this.ownerId="",this.positionList=[],this.agGridComponents={buttonRenderer:r.a}}ngOnInit(){this.getfinancialYears(),this.loadRequiredData(),this.kpiDataInput&&(this.kpiData=this.kpiDataInput,this.currentKPIid=this.kpiData._id,this.currentKPIDepartmentName=this.kpiData.departmentName,this.getOwnerName(this.kpiData.owners),this.getEmployeInfo(this.ownerId),this.getExtendedKPIs())}ngOnDestroy(){this.getfinancialYearReqSub&&this.getfinancialYearReqSub.unsubscribe(),this.getSubKPIsSub&&this.getSubKPIsSub.unsubscribe(),this.getExtendedKpisSub&&this.getExtendedKpisSub.unsubscribe(),this.getCurrentKpiDetailsByIdSub&&this.getCurrentKpiDetailsByIdSub.unsubscribe(),this.linkOrUnlinkSub&&this.linkOrUnlinkSub.unsubscribe()}openCAPDo(e){let l=window.location.protocol+"//"+window.location.host+"/org-kpi/performance-indicator/"+e.rowData.id;window.open(l,"_blank")}openKPIDetails(e){let l=e.rowData.id;if(e.rowData.type==this.objectiveType){let e=window.location.protocol+"//"+window.location.host+"/org-goal/edit/"+l;window.open(e,"_blank")}else{let e=window.location.protocol+"//"+window.location.host+"/org-kpi/edit/"+l;window.open(e,"_blank")}}onGridReady(e){this.gridApi=e.api,e.api.closeToolPanel()}getfinancialYears(){this.getfinancialYearReqSub=this.calenderService.getfinancialYearList().subscribe(e=>{e&&e.success&&(this.yearListCurrentKPISelection=e.response.map(({isCurrentFY:e,start:l,end:n,startUnix:t,endUnix:i})=>({content:"FY "+l.split("-")[0]+"-"+n.split("-")[0],isCurrentFY:e,start:l,end:n,startUnix:t,endUnix:i,selected:!!e})).sort((e,l)=>e.startUnix<l.startUnix?1:-1),this.selectedFinancialYearCurrentKPI=this.yearListCurrentKPISelection.find(e=>1==e.isCurrentFY),this.yearList=c.a.cloneDeep(this.yearListCurrentKPISelection),this.yearList=this.yearList.map(e=>(e.selected=!1,e)),this.kpiDataInput||this.getKpisByDateRange(this.selectedFinancialYearCurrentKPI.startUnix,this.selectedFinancialYearCurrentKPI.endUnix))})}onFinancialYearSelected(e,l){l?(this.selectedFinancialYearCurrentKPI=e.item,this.kpiDropdownCurrentKPI&&(this.kpiDropdownCurrentKPI.value="",this.kpiDropdownCurrentKPI.selectedValue=""),this.resetKPIItems(),this.currentKPIid=null,this.kpiData=null,this.getKpisByDateRange(this.selectedFinancialYearCurrentKPI.startUnix,this.selectedFinancialYearCurrentKPI.endUnix)):(this.selectedFinancialYear=e.item,this.resetKPIItems())}onCurrentKPISelected(e){this.currentKPIid=e.item.id,this.currentKPIDepartmentName=e.item.departmentName,this.resetKPIItems(),this.getCurrentKpiDetailsById(e.item.id)}getKpisByDateRange(e,l){this.getSubKPIsSub&&this.getSubKPIsSub.unsubscribe(),e=1e3*a(a(e).format("YYYY-MM-DDT00:00:00")).unix(),l=1e3*a(a(l).format("YYYY-MM-DDT23:59:59")).unix(),this.getSubKPIsSub=this.kpiService.getKPIByDate(e,l,!1,!0).subscribe(e=>{e&&e.success?(this.kpiItemsCurrentKPI=[],e.response.forEach(e=>{this.kpiItemsCurrentKPI.push(this.mapKpiItem(e))}),this.kpiItemsCurrentKPI=this.kpiItemsCurrentKPI.filter(e=>this.isApproved(e)),this.kpiItemsCurrentKPI.sort((e,l)=>e.title>l.title?1:-1),this.getSubKPIsSub&&this.getSubKPIsSub.unsubscribe()):this.toastService.error(u.a.PLEASE_TRY_AGAIN,"Failed")},e=>{this.getSubKPIsSub&&this.getSubKPIsSub.unsubscribe(),this.toastService.error(u.a.PLEASE_TRY_AGAIN,"Failed")})}searchKpisByDateRange(e){if(e.length<3)return;this.searchKPIsSub&&this.searchKPIsSub.unsubscribe();let l=1e3*a(a(this.selectedFinancialYear.startUnix).format("YYYY-MM-DDT00:00:00")).unix(),n=1e3*a(a(this.selectedFinancialYear.endUnix).format("YYYY-MM-DDT23:59:59")).unix();this.searchKPIsSub=this.kpiService.searchKpiInGivenDateRange(e,l,n,this.kpiData.type,this.kpiData.departmentId).subscribe(e=>{e&&e.success?(this.kpiItemBackup=e.response,this.filterKPIItems(c.a.cloneDeep(this.kpiItemBackup)),this.searchKPIsSub&&this.searchKPIsSub.unsubscribe()):this.toastService.error(u.a.PLEASE_TRY_AGAIN,"Failed")},e=>{this.searchKPIsSub&&this.searchKPIsSub.unsubscribe(),this.toastService.error(u.a.PLEASE_TRY_AGAIN,"Failed")})}selectKPItoLink(e){this.selectedKPItoLink=e}filterKPIItems(e){this.kpiItems=[],e.forEach(e=>{e._id!=this.kpiData._id&&this.isApproved(e)&&this.notInExtendedList(e)&&this.kpiItems.push(this.mapKpiItem(e))}),this.kpiItems.sort((e,l)=>e.title>l.title?1:-1)}mapKpiItem(e){let l=new Date(e.financialYearStart).getFullYear()+" - "+new Date(e.financialYearEnd).getFullYear();return{id:e._id,dataCaptureFrequency:e.dataCaptureFrequency,content:e.goalTag+" - "+e.title+" (FY "+l+")",title:e.title,unitOfMeasurement:e.unitOfMeasurement,ytdCalculation:e.ytdCalculation,directionOfGoodness:e.directionOfGoodness,financialYearStart:e.financialYearStart,financialYearEnd:e.financialYearEnd,year:l,type:e.type,department:e.departmentId,departmentName:e.departmentName,owner:e.ownerFirstname+" "+e.ownerLastname,extendedFromGoalId:e.extendedFromGoalId,extensionId:e.extensionId,isActive:e.isActive,isApproved:e.isApproved,isDraft:e.isDraft,goalTag:e.goalTag}}getExtendedKPIs(){this.extendedKPIList=null,this.getExtendedKpisSub=this.goalService.getExtendedKPIs(this.kpiData._id,this.kpiData.extensionId).subscribe(e=>{if(e&&e.success){if(e.response){let l=new Date(this.selectedStart).getTime();this.extendedKPIList=e.response.map(e=>{let n=a(l).diff(a(e.financialYearStart),"years");return e.yearsFromCurrentFY=n,e._id=e.id,e}),this.kpiItemBackup&&this.kpiItemBackup.length&&this.filterKPIItems(c.a.cloneDeep(this.kpiItemBackup))}}else this.getExtendedKpisSub&&this.getExtendedKpisSub.unsubscribe(),this.toastService.error(u.a.PLEASE_TRY_AGAIN,"Failed")})}getCurrentKpiDetailsById(e){this.extendedKPIList=null,this.selectedKpis=[],this.getCurrentKpiDetailsByIdSub=this.goalService.getGoalDetails(e).subscribe(e=>{e&&e.success?e.response&&(this.kpiData=e.response,this.getOwnerName(this.kpiData.owners),this.getEmployeInfo(this.ownerId),this.getExtendedKPIs(),this.prepareChart()):(this.getCurrentKpiDetailsByIdSub&&this.getCurrentKpiDetailsByIdSub.unsubscribe(),this.toastService.error(u.a.PLEASE_TRY_AGAIN,"Failed"))})}onClickLinkUnlink(e){e?this.selectedKPItoLink.extensionId?this.goalService.getExtendedKpiListCount(this.selectedKPItoLink.extensionId,this.selectedKPItoLink.id).subscribe(l=>{if(l.success){let n="Are you sure to link selected KPI ?";l.response>=1&&this.kpiData.extensionId&&(n="The KPI you have selected to link is already marked as extended. If you link this KPI , it shall break the existing extension it holds and then link it with current KPI . Are you sure you want to continue?"),this.showConfirmationDialog(e,n)}else this.toastService.error("Failed to perform action, Please Retry","Failed")},e=>{this.toastService.error(u.a.PLEASE_TRY_AGAIN,"Failed")}):this.showConfirmationDialog(e,"Are you sure to link selected KPI ?"):this.showConfirmationDialog(e,"Are you sure to unlink current KPI ?")}showConfirmationDialog(e,l){this.confirmationDialog=this.confirmationService.getData().subscribe(l=>{l?this.linkOrDelink(e):this.confirmationDialog&&(this.confirmationDialog.unsubscribe(),this.confirmationDialog=null)}),this.modalService.create({component:s.a,inputs:{modalText:l}})}linkOrDelink(e){let l={originalKPIId:e?this.selectedKPItoLink.id:null,kpiIdToBeExtended:this.kpiData._id,linkOrDelink:e};this.linkOrUnlinkSub=this.goalService.link(l).subscribe(e=>{e.success?e.response?(this.toastService.success(`KPI ${l.linkOrDelink?"linked":"unlinked"} successfully`,"Success"),this.resetKPIItems(),this.getCurrentKpiDetailsById(this.currentKPIid)):this.toastService.error(`KPI ${l.linkOrDelink?"link":"unlink"} unsuccessful`,"Failed"):(this.toastService.error(e.message),this.linkOrUnlinkSub&&this.linkOrUnlinkSub.unsubscribe()),this.confirmationService.setData(!1)},e=>{this.toastService.error(e&&e.error&&e.error.message&&"string"==typeof e.error.message?e.error.message:e&&e.message&&"string"==typeof e.message?e.message:u.a.PLEASE_TRY_AGAIN),this.confirmationService.setData(!1)})}resetKPIItems(){this.kpiDropdown&&(this.kpiDropdown.value="",this.kpiDropdown.selectedValue="",this.kpiDropdown.searchQuery=""),this.selectedKPItoLink=null,this.kpiItemBackup=[],this.kpiItems=[]}loadRequiredData(){Object(i.a)([this.settingsService.getColorMapping("LINE"),this.goalService.getunitofMsrmnt(),this.goalService.getCapturefrequency(),this.settingsService.getKpiTypes()]).subscribe(e=>{if(e[0]){let l=e[0],n={};if(l.response&&l.success){this.otherColours=[];const e=l.response.colour;for(let l=0;l<e.length;l++)"ACTUAL"==e[l].type?n.Actual=e[l].colour:"TARGET"==e[l].type?n.Target=e[l].colour:"LOWER"==e[l].type?n["Lower Limit"]=e[l].colour:"UPPER"==e[l].type?n["Upper Limit"]=e[l].colour:"OTHER"==e[l].type&&this.otherColours.push(e[l].colour);this.lineChartColor=n}}if(e[1]){let l=e[1];l&&l.success&&l.response.forEach(e=>{this.unitOfMeasurementMap.set(e._id,e.value)})}if(e[2]){let l=e[2];l&&l.success&&(l.response.forEach(e=>{this.captureFrequencyMap.set(e._id,e.value)}),this.captureFreqItemsOriginal=l.response.map(e=>(e.content=e.value,e.value=e._id,e.order=e.order,e.selected=!1,e)))}e[3]&&(this.KpiTypes=e[3].response,this.objectiveType=this.KpiTypes.find(e=>e.KpiTypeEnum==h.c.ORGANISATION_OBJECTIVES)._id),this.kpiDataInput&&this.prepareChart()})}prepareChart(){this.selectedDCF=this.kpiData.dataCaptureFrequency;let e=this.captureFreqItemsOriginal.find(e=>e._id==this.selectedDCF),l=e.order;this.captureFreqItems=c.a.cloneDeep(this.captureFreqItemsOriginal),this.captureFreqItems=this.captureFreqItems.filter(e=>e.order>=l),this.captureFreqItems.map(e=>{e.selected=e._id==this.selectedDCF}),this.showDataPointLabel=l>=5,this.setDefaultDates(e.value),this.chartOptions={captureFreqItems:this.captureFreqItems,start:this.selectedStart,end:this.selectedEnd,compareKPIs:!0,isYaxisEnabled:!0,showTargetLine:this.showTargetLine,showUpperLowerLimit:this.showHideUpperLowerLimit,showDataPointLabel:this.showDataPointLabel,cumulativeGraph:this.cumulativeGraph,maxXEndScaleVal:this.dateToEpochUTC(this.selectedEndDate,!0)},this.chartData={chartOptions:this.chartOptions,kpiRes:[],unitOfMeasurementMap:this.unitOfMeasurementMap,captureFrequencyMap:this.captureFrequencyMap,overrideColors:this.lineChartColor,colorScale:this.otherColours},this.selectedKpis.push(this.kpiData),this.loadKpiChartData()}setDefaultDates(e){this.selectedStart=this.kpiData.financialYearStart,this.selectedEnd=this.kpiData.financialYearEnd,this.selectedStartDate=new Date(this.kpiData.financialYearStart),this.selectedEndDate=new Date(this.kpiData.financialYearEnd)}getOffsetDate(e){var l=new Date;switch(e){case"Hourly":return l.setHours(l.getHours()+1);case"Daily":return l.setDate(l.getDate()+1);case"Weekly":return l.setDate(l.getDate()+7);case"Quarterly":case"Half Yearly":case"Yearly":case"Monthly":return l.setMonth(l.getMonth()+1),new Date(l.getFullYear(),l.getMonth()+1,0);default:return l.setDate(l.getDate()+1)}}loadKpiChartData(){this.loadKpiChartDataSub&&this.loadKpiChartDataSub.unsubscribe(),this.chartLoading=!0,this.chartData.kpiRes=[];let e=[];for(let l=0;l<this.selectedKpis.length;l++)if(l>0){let n,t,i=this.selectedKpis[l];i.financialYearEnd<=this.selectedStart?n=a(this.selectedStart).subtract(i.yearsFromCurrentFY,"years").valueOf():t=a(this.selectedEnd).subtract(i.yearsFromCurrentFY,"years").valueOf(),e.push(this.kpiService.getLineChartActualsDataPerDCFAndDates(i._id,this.selectedDCF,n,t))}else e.push(this.kpiService.getLineChartActualsDataPerDCFAndDates(this.kpiData._id,this.selectedDCF,this.selectedStart,this.selectedEnd));this.loadKpiChartDataSub=Object(i.a)([...e]).subscribe(e=>{let l=[];for(let n=0;n<e.length;n++){if(n>0){let l=this.selectedKpis[n];e[n].response.forEach(e=>{e.endDate=this.dateToEpochUTC(a(e.endDate).add(l.yearsFromCurrentFY,"years").valueOf()),e.startDate=this.dateToEpochUTC(a(e.startDate).add(l.yearsFromCurrentFY,"years").valueOf()),e.yearsFromCurrentFY=this.selectedKpis[n].yearsFromCurrentFY})}l.push(Object.assign({kpi:this.selectedKpis[n]},e[n]))}this.chartData.kpiRes=l,this.chartLoading=!1,this.loadKpiChartDataSub&&this.loadKpiChartDataSub.unsubscribe()},e=>{this.loadKpiChartDataSub&&this.loadKpiChartDataSub.unsubscribe()})}selectedDCFOption(e){this.selectedDCF=e.item.value,this.loadKpiChartData()}dateValueChange(e,l){l?this.selectedStart=this.dateToEpochUTC(e):this.selectedEnd=this.dateToEpochUTC(e),this.loadKpiChartData()}onSelectionChanged(){this.selectedKpis=[this.kpiData,...this.gridApi.getSelectedRows()],this.loadKpiChartData()}dateToEpochUTC(e,l=!1){if("number"==typeof e)return e;var n=e.getFullYear(),t=e.getMonth(),i=e.getDate();return l?Number(new Date(n,t,i,23,59,59)):Number(new Date(n,t,i))}showHideUpperLower(e){this.showHideUpperLowerLimit=!this.showHideUpperLowerLimit,this.chartData.chartOptions.showUpperLowerLimit=this.showHideUpperLowerLimit,this.chartData=Object.assign({},this.chartData)}showHideTargetLine(e){this.showTargetLine=!this.showTargetLine,this.chartData.chartOptions.showTargetLine=this.showTargetLine,this.chartData=Object.assign({},this.chartData)}showHideDataPointLabel(e){this.showDataPointLabel=!this.showDataPointLabel,this.chartData.chartOptions.showDataPointLabel=this.showDataPointLabel,this.chartData=Object.assign({},this.chartData)}showHideCumulative(e){this.cumulativeGraph=!this.cumulativeGraph,this.chartData.chartOptions.cumulativeGraph=this.cumulativeGraph,this.chartData=Object.assign({},this.chartData)}downloadAsImage(e,l){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.logo=yield this.settingsService.getApplicationLogo();let n,t=yield this.blobToDataURLForImage(this.logo),i=(yield this.settingsService.getApplicationSettings().toPromise()).response[0].emailCompanyLogoImg;i&&""!=i&&(n=yield this.get64BaseUrl(i)),$(".img").attr("src",t),i&&""!=i&&n&&$(".img-client").attr("src",n);let o=$($("#"+e)[0]).find(".chart-container")[0],r=this.kpiData.title+"-"+e;var s=(yield m()(o)).toDataURL("image/png",1),u=document.createElement("canvas"),d=u.getContext("2d");d.canvas.height=800,d.canvas.width=1200,d.fillStyle="white",d.fillRect(0,0,1200,800);let c=new Image;c.src=s,c.onload=e=>{d.drawImage(c,u.width/2-c.width/2,20,c.width,c.height);let o=a().format("LL");d.textAlign="left",d.font="bold 24px IBM Plex Sans",d.fillStyle="black";let s=d.measureText(l.title);d.fillText(l.title,u.width/2-s.width/2,720),d.font="20px IBM Plex Sans",s=d.measureText(l.goalTag+" | "+this.ownerName+" | "+this.positionList[0].name),d.fillText(l.goalTag+" | "+this.ownerName+" | "+this.positionList[0].name,u.width/2-s.width/2,750),d.font="15px IBM Plex Sans",d.fillStyle="gray",s=d.measureText(o),d.fillText(o,u.width/2-s.width/2,775);let p=new Image;p.src=t,p.onload=()=>{if(d.drawImage(p,20,720,120,60),i&&""!=i&&n){let e=new Image;e.src=n,e.onload=()=>{d.drawImage(e,1020,720,156.4,60);var l=u.toDataURL("image/png",1);this.download(l,r+".png")}}else{var e=u.toDataURL("image/png",1);this.download(e,r+".png")}}}})}blobToDataURLForImage(e){return new Promise(l=>{var n=new FileReader;n.onload=function(e){l(e.target.result)},n.readAsDataURL(e)})}get64BaseUrl(e){return Object(t.__awaiter)(this,void 0,void 0,function*(){try{const n=yield fetch(e);if(200===n.status){const e=yield n.blob();return new Promise(l=>{const n=new FileReader;n.readAsDataURL(e),n.onloadend=()=>{l(n.result)}})}}catch(l){return}})}download(e,l){var n=document.createElement("a");n.href=e,n.target="_blank",n.setAttribute("download",l),n.click()}getOwnerName(e){e.individuals.forEach(e=>{e.isPrimary&&(this.ownerName=e.firstname+" "+e.lastname,this.ownerId=e.employeeId)})}getEmployeInfo(e){this.positionList=[],this.peopleService.getEmployeeInformation({employeeId:e}).subscribe(e=>{e&&e.success&&(this.positionList=e.response.positions)})}getKPITypeLabel(){return this.kpiData?h.d.getKpiTypeName(this.KpiTypes.find(e=>e._id==this.kpiData.type).KpiTypeEnum):""}getFyDropdownLabel(){return this.selectedFinancialYear?this.selectedFinancialYear.content:""}isApproved(e){return!!e&&e.isApproved&&e.isActive&&!e.isDraft}notInExtendedList(e){return!this.extendedKPIList||!this.extendedKPIList.length||!this.extendedKPIList.find(l=>l._id===e._id)}}},CX5l:function(e,l,n){"use strict";n.d(l,"a",function(){return t});class t{}},Dg3h:function(e,l,n){"use strict";n.d(l,"a",function(){return t});class t{}},FXG2:function(e,l,n){"use strict";n.d(l,"a",function(){return t});class t{}},H6h3:function(e,l,n){"use strict";n.d(l,"a",function(){return t});class t{}},HXlw:function(e,l,n){"use strict";n.d(l,"a",function(){return t});class t{constructor(e,l){this.data=e,this._dialogRef=l,this.confirmationMessage=this.data.confirmationMessage,this.cancelBtnText=this.data.cancelBtnText,this.onOkayText=this.data.onOkayText}ngOnInit(){}onOkay(e){this._dialogRef.close({})}onCancel(){this._dialogRef.close()}}},I0pH:function(e,l,n){"use strict";var t=n("8Y7J"),i=n("cbbC"),a=n("rP3o"),o=n("PJ54"),r=n("cN2v"),s=n("tU3X"),u=n("mEpm"),d=n("uvqg"),c=n("SVse"),p=n("Gv0t"),m=n("J83G"),h=n("9XGM"),g=n("Z725");n.d(l,"a",function(){return y});var b=t["\u0275crt"]({encapsulation:0,styles:[[".modal-msg[_ngcontent-%COMP%]{font-size:16px}.bx--modal-footer[_ngcontent-%COMP%]   button.bx--btn[_ngcontent-%COMP%]{padding-bottom:0!important}  .bx--modal-content{padding-right:16px}"]],data:{}});function f(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"h1",[["class","modal-msg"],["style","margin-top: 10px;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["",""]))],null,function(e,l){e(l,1,0,l.component.modalSubText)})}function v(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,16,"ibm-modal",[["class","confirmation-modal"],["size","xl"]],null,[[null,"overlaySelected"],[null,"keydown"]],function(e,l,n){var i=!0,a=e.component;return"keydown"===l&&(i=!1!==t["\u0275nov"](e,1).handleKeyboardEvent(n)&&i),"overlaySelected"===l&&(i=!1!==(a.overlayClose?a.closeModal():"")&&i),i},i.c,i.b)),t["\u0275did"](1,4440064,null,0,a.a,[o.a],{size:[0,"size"]},{overlaySelected:"overlaySelected"}),(e()(),t["\u0275eld"](2,0,null,0,3,"ibm-modal-header",[],null,[[null,"closeSelect"]],function(e,l,n){var t=!0;return"closeSelect"===l&&(t=!1!==e.component.closeModal()&&t),t},r.c,r.b)),t["\u0275did"](3,49152,null,0,s.a,[u.a,d.a],null,{closeSelect:"closeSelect"}),(e()(),t["\u0275eld"](4,0,null,0,1,"h4",[["style","font-size: 18px;font-weight: 600;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](5,null,["",""])),(e()(),t["\u0275eld"](6,0,null,0,4,"section",[["class","bx--modal-content"]],null,null,null,null,null)),(e()(),t["\u0275eld"](7,0,null,null,1,"h1",[["class","modal-msg"]],null,null,null,null,null)),(e()(),t["\u0275ted"](8,null,["",""])),(e()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](10,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](11,0,null,0,5,"ibm-modal-footer",[],null,null,null,p.c,p.b)),t["\u0275did"](12,49152,null,0,m.a,[],null,null),(e()(),t["\u0275eld"](13,0,null,0,1,"button",[["class","bx--btn bx--btn--primary"],["style","font-size: 18px;text-align: center;"]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.continueClick()&&t),t},null,null)),(e()(),t["\u0275ted"](14,null,[" "," "])),(e()(),t["\u0275eld"](15,0,null,0,1,"button",[["class","bx--btn bx--btn--danger"],["style","font-size: 18px;text-align: center;"]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.closeModal()&&t),t},null,null)),(e()(),t["\u0275ted"](16,null,[" "," "]))],function(e,l){var n=l.component;e(l,1,0,"xl"),e(l,10,0,n.modalSubText)},function(e,l){var n=l.component;e(l,5,0,n.titleText),e(l,8,0,n.modalText),e(l,14,0,n.confirmText?n.confirmText:" Continue"),e(l,16,0,n.cancelText?n.cancelText:" Cancel")})}function x(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"app-confirmation",[],null,null,null,v,b)),t["\u0275did"](1,114688,null,0,h.a,[o.a,t.Injector,g.a],null,null)],function(e,l){e(l,1,0)},null)}var y=t["\u0275ccf"]("app-confirmation",h.a,x,{},{close:"close"},[])},KADP:function(e,l,n){"use strict";n.d(l,"a",function(){return u});var t=n("mrSG"),i=n("8Y7J"),a=(n("PsxR"),n("Dnte"),n("Z3BZ"),n("MqE1"),n("X/pD"),n("HTWL")),o=n("bl9C"),r=n("LvDl"),s=n.n(r);class u{constructor(e,l,n,t,a,o){this.goalService=e,this.peopleService=l,this._toastrService=n,this.metrciService=t,this.formsService=a,this.homeService=o,this.formList=[],this.formMetricList=[],this.formFilterList=[],this.sapFormMetricList=[],this.currentTabOwner="individuals",this.weightageItems=[],this.searchedComputedMetrics=[{content:"Search metric to select."}],this.searchedInternalMetrics=[{content:"Search metric to select."}],this.searchedExternalMetrics=[{content:"Search metric to select."}],this.computedQuery="",this.internalQuery="",this.selectedFilterForm="",this.selectedFilterMetric="",this.sapInternalQuery="",this.selectedFormMetric="",this.selectedFilter="",this.searchedUsers=[{content:"Search user to select."}],this.searchedGroups=[{content:"Search group to select."}],this.sourceItems=[{content:"SAP"}],this.fieldItems=[{content:"SAP"}],this.attachmentFileName="",this.involvedPeople=0,this.sourceItem=new i.EventEmitter,this.fieldItem=new i.EventEmitter,this.ownerEvent=new i.EventEmitter,this.viewerEvent=new i.EventEmitter,this.groupEvent=new i.EventEmitter,this.weighatgeEvent=new i.EventEmitter,this.updateAchievementLevelDataSource=new i.EventEmitter,this.level=2,this.involvedDepartments=new Map,this.selectedOwnersArray=[{employeeId:"",isPrimary:!1,userName:"",departmentName:""}],this.selectedOwnersArrayBackup=[],this.selectedViewersArray=[{employeeId:"",userName:"",departmentName:""}],this.selectedGroupsArray=[{groupId:"",groupName:""}],this.selectedSourceItemForReq={type:"",id:""},this.selectedAchievementTab="COMPUTED",this.expandAccordianItems=!0,this.formPermissions=null,this.showFillFormLink=!1,this.isApproved=!1,this.isActive=!1,this.isDraft=!1}ngOnInit(){return Object(t.__awaiter)(this,void 0,void 0,function*(){yield this.getCurrentUserInfo(),this.selectedOwnersInputArray&&this.selectedOwnersInputArray.length&&(this.selectedOwnersArray=this.selectedOwnersInputArray),this.selectedViewersInputArray&&this.selectedViewersInputArray.length&&(this.selectedViewersArray=this.selectedViewersInputArray),this.selectedGroupsInputArray&&this.selectedGroupsInputArray.length&&(this.selectedGroupsArray=this.selectedGroupsInputArray),yield this.getDetails()})}getDetails(){return Object(t.__awaiter)(this,void 0,void 0,function*(){if(this.selectedSourceItemForReq&&this.selectedSourceItemForReq.type&&this.selectedSourceItemForReq.id)try{if("FORM_FIELD"===this.selectedSourceItemForReq.type){const e=yield this.formsService.getFormDetail(this.selectedSourceItemForReq.formId).toPromise();if(e&&e.success){const l=e.response.form;let n=this.selectedSourceItemForReq.filterId;if("SAP"!=l.formDataSource||n){const e=l.formElements.find(e=>e.uuid===this.selectedSourceItemForReq.id);if(n){this.selectedAchievementTab="FILTER";const t=yield this.formsService.getFormFilterRecord(n).toPromise();this.selectedFilterForm=l.formName,this.selectedFilter=t.response.name,this.selectedFilterMetric=e.label}else this.selectedAchievementTab="INTERNAL",this.internalQuery=l.formName,this.selectedFormMetric=e.label,this.formPermissions=l.permissions,this.isUserHasFillPermission(l);this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,uom:e.unitOfMeasurement})}else{this.selectedAchievementTab="SAP",this.sapInternalQuery=l.formName;const e=l.formElements.find(e=>e.uuid===this.selectedSourceItemForReq.id);this.selectedSapFormMetric=e.label,this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,uom:e.unitOfMeasurement})}}}else{const e=yield this.metrciService.getMetricByMetricId(this.selectedSourceItemForReq.id).toPromise();e&&e.success&&"COMPUTED"===this.selectedSourceItemForReq.type&&(this.computedQuery=e.response.name,this.selectedAchievementTab="COMPUTED")}}catch(e){console.log("ERROR WHILE GETTING METRIC ID DETAILS")}})}getCurrentUserInfo(){return Object(t.__awaiter)(this,void 0,void 0,function*(){const e=yield this.peopleService.getEmployeeInformation({employeeId:localStorage.getItem("E_Id")}).toPromise();e&&e.success&&(this.currentUserInfo={content:e.response.firstname+" "+e.response.lastname,firstname:e.response.firstname,lastname:e.response.lastname,id:e.response.employeeId,departmentName:e.response.departmentName,employeeId:e.response.employeeId,departmentId:e.response.departmentId,_id:e.response._id},this.currentUserInfo&&this.selectedOwnersArray&&1===this.selectedOwnersArray.length&&this.selectedOwnersArray[0].employeeId===this.currentUserInfo.employeeId&&(this.assignMeAsOwner=!0,this.assignMeAsOwner&&(this.currentTabOwner="self")),this.selectedOwnersArray&&this.selectedOwnersArray.length&&this.selectedOwnersArray[0].employeeId&&this.getWeightage(this.selectedOwnersArray[0].employeeId))})}selectedSource(e){this.sourceItem.emit(e)}selectedField(e){this.fieldItem.emit(e)}onSearchUser(e,l,n){this.searchedUsers=[],"owner"===l?(this.selectedOwnersArray[n].employeeId=null,this.selectedOwnersArray[n].isPrimary=!1,this.selectedOwnersArray[n].departmentName=null,this.selectedOwnersArray[n].userName=e,this.evaluateParticipatedDepartments(this.selectedViewersArray,this.selectedOwnersArray),this.ownerEvent.emit(this.selectedOwnersArray)):(this.selectedViewersArray[n].employeeId=null,this.selectedViewersArray[n].departmentName=null,this.selectedViewersArray[n].userName=e,this.evaluateParticipatedDepartments(this.selectedViewersArray,this.selectedOwnersArray),this.viewerEvent.emit(this.selectedViewersArray)),e&&e.trim()&&e.trim().length&&(e=e.split(" ")[0],this.goalService.getUsers(e,this.isFromGoal,l,void 0,this.parentOwnerId).subscribe(e=>{this.searchedUsers=e.response.map((e,l)=>(e.content=e.firstname+" "+e.lastname,e.id=e.employeeId,e))},e=>{console.log(e)}))}onSelectedUser(e,l){e.id&&!this.checkIfAlreadySelected(this.selectedOwnersArray,e.id)?(this.selectedOwnersArray[l].userName=e.content,this.selectedOwnersArray[l].employeeId=e.id,this.selectedOwnersArray[l].departmentName=e.departmentName,this.selectedOwnersArray[l].isPrimary=!0,this.evaluateParticipatedDepartments(this.selectedViewersArray,this.selectedOwnersArray),this.getWeightage(this.selectedOwnersArray[l].employeeId)):alert("User already selected."),this.ownerEvent.emit(this.selectedOwnersArray)}onAddUser(){this.selectedOwnersArray.push({employeeId:"",isPrimary:!1,userName:"",departmentName:""})}onSelectedViewUser(e,l){e.id&&!this.checkIfAlreadySelected(this.selectedViewersArray,e.id)?(this.selectedViewersArray[l].userName=e.content,this.selectedViewersArray[l].employeeId=e.id,this.selectedViewersArray[l].departmentName=e.departmentName,this.evaluateParticipatedDepartments(this.selectedViewersArray,this.selectedOwnersArray)):alert("User already selected."),this.viewerEvent.emit(this.selectedViewersArray)}onAddViewUser(){this.selectedViewersArray.push({employeeId:"",userName:"",departmentName:""})}removeAlreadySelectedUsers(e,l){l.forEach(l=>{if(l.id){const n=e.findIndex(e=>e.id===l.id);n>-1&&e.splice(n,1)}})}removeViewer(e){this.selectedViewersArray.splice(e,1),this.evaluateParticipatedDepartments(this.selectedViewersArray,this.selectedOwnersArray),this.viewerEvent.emit(this.selectedViewersArray)}removeGroup(e){this.selectedGroupsArray.splice(e,1),this.groupEvent.emit(this.selectedGroupsArray)}checkIfAlreadySelected(e,l){return e.findIndex(e=>e.employeeId===l)>-1}resetPrimary(e){e.forEach(e=>{e.isPrimary=!1})}evaluateParticipatedDepartments(e,l){const n=new Map;return this.involvedPeople=0,e.forEach(e=>{e.employeeId&&e.departmentName&&(n.get(e.departmentName)?n.get(e.departmentName).set(e.employeeId,e.userName):(n.set(e.departmentName,new Map),n.get(e.departmentName).set(e.employeeId,e.userName)))}),l.forEach(e=>{e.employeeId&&e.departmentName&&(n.get(e.departmentName)?n.get(e.departmentName).set(e.employeeId,e.userName):(n.set(e.departmentName,new Map),n.get(e.departmentName).set(e.employeeId,e.userName)))}),this.involvedDepartments=n,Array.from(n.values()).forEach(e=>{this.involvedPeople+=e.size}),n}getInvolvedPeople(e){if(e&&e.size)return Array.from(e.values()).join(",")}ngOnChanges(e){return Object(t.__awaiter)(this,void 0,void 0,function*(){let l=-1;e.selectedViewersInputArray&&e.selectedViewersInputArray.currentValue&&(e.selectedViewersInputArray.currentValue!==e.selectedViewersInputArray.previousValue||e.selectedViewersInputArray.currentValue.length!==e.selectedViewersInputArray.previousValue.length)&&(this.selectedViewersArray=e.selectedViewersInputArray.currentValue,l++),e.selectedOwnersInputArray&&e.selectedOwnersInputArray.currentValue&&(e.selectedOwnersInputArray.previousValue!==e.selectedOwnersInputArray.currentValue||e.selectedOwnersInputArray.currentValue.length!==e.selectedOwnersInputArray.previousValue.length)&&(this.selectedOwnersArray=e.selectedOwnersInputArray.currentValue,this.selectedOwnersArray.length&&this.selectedOwnersArray[0].employeeId&&this.getWeightage(this.selectedOwnersArray[0].employeeId),l++),e.selectedGroupsInputArray&&e.selectedGroupsInputArray.currentValue&&(e.selectedGroupsInputArray.previousValue!==e.selectedGroupsInputArray.currentValue||e.selectedGroupsInputArray.currentValue.length!==e.selectedGroupsInputArray.previousValue.length)&&(this.selectedGroupsArray=e.selectedGroupsInputArray.currentValue,l++),e.hasOwnProperty("SelectedKpiType")&&e.SelectedKpiType.previousValue!==e.SelectedKpiType.currentValue&&this.selectedOwnersArray.length&&this.selectedOwnersArray[0].employeeId&&this.getWeightage(this.selectedOwnersArray[0].employeeId),e.yearStartDate&&e.yearStartDate.currentValue&&e.yearStartDate.previousValue!==e.yearStartDate.currentValue&&this.selectedOwnersArray.length&&this.selectedOwnersArray[0].employeeId&&this.getWeightage(this.selectedOwnersArray[0].employeeId),l>-1&&this.evaluateParticipatedDepartments(this.selectedViewersArray,this.selectedOwnersArray),e.selectedSourceItemForReq&&e.selectedSourceItemForReq.previousValue!=e.selectedSourceItemForReq.currentValue&&e.selectedSourceItemForReq.currentValue.type&&e.selectedSourceItemForReq.currentValue.id&&(yield this.getDetails())})}onOpenOwner(e){"o"!==this.currentDropdown&&(this.searchedUsers=[{content:"Search user to select."}]),this.currentDropdown="o"}onOpenViewer(e){"v"!==this.currentDropdown&&(this.searchedUsers=[{content:"Search user to select."}]),this.currentDropdown="v"}assignMeOwnerChange(){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.assignMeAsOwner?(this.selectedOwnersArray=[],this.selectedOwnersArray.push({employeeId:this.currentUserInfo.employeeId,userName:this.currentUserInfo.content,departmentName:this.currentUserInfo.departmentName,isPrimary:!0}),this.ownerEvent.emit(this.selectedOwnersArray),this.evaluateParticipatedDepartments(this.selectedViewersArray,this.selectedOwnersArray),yield this.getWeightage(this.currentUserInfo.employeeId)):(this.selectedOwnersArray=[],this.onAddUser(),this.evaluateParticipatedDepartments(this.selectedViewersArray,this.selectedOwnersArray)),this.fromExtendStructure&&document.getElementById("owner-div").scrollIntoView()})}selectedWeightage(e){this.SelectedKpiType==o.c.PROCESS_KPI?this.weighatgeEvent.emit(0):0===e.item.value?(this._toastrService.error("No Bandwidth available for the user, Please contact supervisor"),e.item.value="Bandwidth not avaialable",this.weighatgeEvent.emit(null)):this.weighatgeEvent.emit(e.item.value)}getWeightage(e){let l=[];this.weightage=this.isAddMode?null:this.weightage,this.SelectedKpiType==o.c.PROCESS_KPI?(l.push({content:"0",value:0,selected:!0}),this.weightageItems=l):this.goalService.getWeightage(e,this.yearStartDate,this.yearEndDate,this.isFromGoal).subscribe(e=>{if(e&&e.success){if(1==e.response.availableWeightageList.length&&0==e.response.availableWeightageList[0])if(this.isAddMode)l.push({content:"No bandwidth available",value:0,selected:!0});else for(let e=1;e<=this.weightage;e++)l.push(e==this.weightage?{content:e+"%",value:e,selected:!0}:{content:e+"%",value:e,selected:!1});else if(e.response.availableWeightageList.forEach(e=>{l.push(null!=this.weightage&&this.weightage==e?{content:e+"%",value:e,selected:!0}:{content:e+"%",value:e,selected:!1})}),this.selectedOwnersArrayBackup.length||this.isAddMode||(this.selectedOwnersArrayBackup=s.a.cloneDeep(this.selectedOwnersArray)),!this.isAddMode&&this.canAddExistingWeightage()&&this.selectedOwnersArray[0].employeeId==this.selectedOwnersArrayBackup[0].employeeId){let e=l.length;for(let n=1;n<=this.weightage;n++)l.push({content:n+e+"%",value:n+e,selected:!1})}this.weightageItems=l}})}canAddExistingWeightage(){return!(!this.isApproved||!this.isActive)}onOpenComputed(e){}onSearchComputed(e){this.computedQuery=e,this.selectedSourceItemForReq={type:this.computedQuery?"COMPUTED":"",id:""},this.internalQuery="",this.selectedFormMetric="",this.selectedFilterForm="",this.selectedFilterMetric="",this.selectedFilter="",this.sapInternalQuery="",this.selectedSapFormMetric="",this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,uom:null}),this.metrciService.getMetricsListForKPI(e,"COMPUTED","10","0","true","true").subscribe(e=>{e&&e.success&&(this.searchedComputedMetrics=(e.response.metrics||[]).map(e=>({id:e._id,content:e.name})))},e=>{this.searchedComputedMetrics=[]})}onSelectedComputed(e){this.computedQuery=e.content,this.selectedSourceItemForReq={type:"COMPUTED",id:e.id},this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,uom:null})}onOpenInternal(e){}onSearchInternal(e,l){this.internalQuery=e,this.selectedSourceItemForReq={type:this.computedQuery?"FORM_FIELD":"",id:"",formId:""},this.selectedFormMetric="",this.selectedFilter="",this.selectedFilterForm="",this.selectedFilterMetric="",this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,uom:null}),this.computedQuery="",this.sapInternalQuery="",this.selectedSapFormMetric="",this.metrciService.getForms(this.internalQuery,l).subscribe(e=>{e&&e.success&&(this.searchedInternalMetrics=(e.response.forms||[]).map(e=>({id:e._id,content:e.formName})))},e=>{this.searchedInternalMetrics=[]})}onFormSelectForApplyFilter(e){this.internalQuery=e.content,this.selectedFilterForm=e.content,this.selectedFormMetric="",this.selectedFilter="",this.selectedFilterMetric="",this.selectedSourceItemForReq={type:"FORM_FIELD",id:"",formId:e.id},this.formMetricList=[],this.formFilterList=[],this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,uom:null}),this.formsService.getFormDetail(e.id).subscribe(e=>{if(e&&e.success){let l=e.response.form;this.formsService.getFormFilterList(l.formId).subscribe(e=>{e&&e.success&&e.response.filtersList.forEach(e=>{e.metricFields.forEach(e=>{e.label=l.formElements.find(l=>l.uuid===e.fieldId).label}),this.formFilterList.push({id:e._id,content:e.name,metricFields:e.metricFields,selected:!1})})},e=>{this.formFilterList=[],this._toastrService.error(a.a.FORM_FILTERS_FETCH_ERROR)})}},e=>{this._toastrService.error(a.a.FORM_RECORD_FETCH_ERROR)})}onSelectedInternal(e){this.internalQuery=e.content,this.selectedFormMetric="",this.selectedFilter="",this.selectedSourceItemForReq={type:"FORM_FIELD",id:"",formId:e.id},this.formMetricList=[],this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,umetricom:null}),this.metrciService.getMetricFieldsForSelectedForm(e.id).subscribe(e=>{e&&e.success&&e.response.forEach(e=>{this.formMetricList.push({id:e.uuid,content:e.label,uom:e.unitOfMeasurement})})},e=>{this.formMetricList=[]})}onSelectedFormField(e){this.selectedFormMetric=e.content,this.selectedFilterMetric=e.content,this.selectedSourceItemForReq.id=e.id,this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,uom:e.uom})}onSelectedFormFilter(e){this.formMetricList=[],e.metricFields.forEach(e=>{this.formMetricList.push({id:e.fieldId,content:e.label,uom:e.unitOfMeasurement})}),this.selectedSourceItemForReq.filterId=e.id,this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,uom:null})}onSearchInternalFormId(e){this.selectedSourceItemForReq.id="",this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,uom:null})}onSearchGroup(e,l,n){this.searchedGroups=[],this.selectedGroupsArray[n].groupId=null,this.selectedGroupsArray[n].groupName=null,this.groupEvent.emit(this.selectedGroupsArray),e&&e.trim()&&e.trim().length&&this.homeService.searchGroups(e).subscribe(e=>{this.searchedGroups=e.response.map((e,l)=>(e.content=e.name,e.id=e.id,e))},e=>{console.log(e)})}onSelectedGroup(e,l){e.id&&!this.checkIfAlreadyGroupSelected(this.selectedGroupsArray,e.id)?(this.selectedGroupsArray[l].groupId=e.id,this.selectedGroupsArray[l].groupName=e.content):alert("Group already selected."),this.groupEvent.emit(this.selectedGroupsArray)}selectTab(e){this.selectedTab=e}onAddGroup(){this.selectedGroupsArray.push({groupId:"",groupName:""})}checkIfAlreadyGroupSelected(e,l){return e.findIndex(e=>e.groupId===l)>-1}onSapSearchInternal(e){this.sapInternalQuery=e,this.selectedSourceItemForReq={type:this.sapInternalQuery?"FORM_FIELD":"",id:"",formId:""},this.selectedAchievementTab="SAP",this.selectedSapFormMetric="",this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,uom:null}),this.computedQuery="",this.internalQuery="",this.selectedFormMetric="",this.selectedFilter="",this.metrciService.getSapForms(this.sapInternalQuery).subscribe(e=>{e&&e.success&&(this.searchedExternalMetrics=(e.response.forms||[]).map(e=>({id:e._id,content:e.formName})))},e=>{this.searchedExternalMetrics=[]})}onSapSelectedInternal(e){this.sapInternalQuery=e.content,this.selectedSapFormMetric="",this.selectedSourceItemForReq={type:"FORM_FIELD",id:"",formId:e.id},this.sapFormMetricList=[],this.metrciService.getMetricFieldsForSelectedForm(e.id).subscribe(e=>{e&&e.success&&e.response.forEach(e=>{this.sapFormMetricList.push({id:e.uuid,content:e.label,uom:e.unitOfMeasurement})})},e=>{this.sapFormMetricList=[]})}onSapSelectedFormField(e){this.selectedSapFormMetric=e.content,this.selectedSourceItemForReq.id=e.id,this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,uom:e.uom})}onExternalSapSearchInternalFormId(e){this.selectedSourceItemForReq.id="",this.updateAchievementLevelDataSource.emit({dataSource:this.selectedSourceItemForReq,uom:null})}isUserHasFillPermission(e){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.isApproved||(this.showFillFormLink=!1);let l=e.permissions;if(l){let n=l.users.find(e=>e.employeeId===this.currentUserInfo.id);if(n&&n.fill){this.showFillFormLink=!0;let l=e;e.userPermissions=n,localStorage.setItem("formId",JSON.stringify(l))}else this.showFillFormLink=!1}})}openFormFill(){let e=window.location.protocol+"//"+window.location.host+"/forms/"+this.selectedSourceItemForReq.formId+"/fill";window.open(e,"_new")}}},L2d0:function(e,l,n){"use strict";n.d(l,"a",function(){return o}),n.d(l,"b",function(){return r});var t=n("8Y7J"),i=n("O9pe"),a=function(){function e(){this.focusable=!1}return e.decorators=[{type:t.Component,args:[{selector:"ibm-icon-help16",template:'\n    <svg\n      ibmIconHelp16\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],e.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],focusable:[{type:t.Input}],innerClass:[{type:t.Input}]},e}(),o=function(){function e(e){this.elementRef=e,this.isFocusable=!1}return e.prototype.ngAfterViewInit=function(){var l=this.elementRef.nativeElement;l.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><path d="M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"></path><circle cx="8" cy="11.8" r=".8"></circle><path d="M8.5 4h-.7C6.5 4 5.5 5 5.5 6.2v.2h1v-.2c0-.6.6-1.2 1.3-1.2h.8c.7 0 1.2.6 1.2 1.2s-.6 1.3-1.3 1.3h-1v2.2h1V8.5c1.2 0 2.2-1 2.2-2.2S9.7 4 8.5 4z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)l.appendChild(l.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var t=Object(i.a)({width:16,height:16,viewBox:"0 0 16 16",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),a=Object.keys(t),o=0;o<a.length;o++){var r=a[o],s=t[r];"title"!==r&&s&&l.setAttribute(r,s)}if(t.title){var u=document.createElement("title");u.textContent=t.title,u.setAttribute("id","help16-"+ ++e.titleIdCounter),l.appendChild(u),l.setAttribute("aria-labelledby","help16-"+e.titleIdCounter)}},e.titleIdCounter=0,e.decorators=[{type:t.Directive,args:[{selector:"[ibmIconHelp16]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],isFocusable:[{type:t.Input}]},e}(),r=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[a,o],exports:[a,o]}]}],e}()},Myuu:function(e,l,n){"use strict";n.d(l,"a",function(){return o}),n.d(l,"b",function(){return r});var t=n("8Y7J"),i=n("O9pe"),a=function(){function e(){this.focusable=!1}return e.decorators=[{type:t.Component,args:[{selector:"ibm-icon-chevron-up32",template:'\n    <svg\n      ibmIconChevronUp32\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],e.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],focusable:[{type:t.Input}],innerClass:[{type:t.Input}]},e}(),o=function(){function e(e){this.elementRef=e,this.isFocusable=!1}return e.prototype.ngAfterViewInit=function(){var l=this.elementRef.nativeElement;l.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><path d="M16 10l10 10-1.4 1.4-8.6-8.6-8.6 8.6L6 20z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)l.appendChild(l.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var t=Object(i.a)({width:32,height:32,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),a=Object.keys(t),o=0;o<a.length;o++){var r=a[o],s=t[r];"title"!==r&&s&&l.setAttribute(r,s)}if(t.title){var u=document.createElement("title");u.textContent=t.title,u.setAttribute("id","chevron-up32-"+ ++e.titleIdCounter),l.appendChild(u),l.setAttribute("aria-labelledby","chevron-up32-"+e.titleIdCounter)}},e.titleIdCounter=0,e.decorators=[{type:t.Directive,args:[{selector:"[ibmIconChevronUp32]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],isFocusable:[{type:t.Input}]},e}(),r=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[a,o],exports:[a,o]}]}],e}()},VMYt:function(e,l,n){"use strict";n.d(l,"a",function(){return o}),n.d(l,"b",function(){return r});var t=n("8Y7J"),i=n("O9pe"),a=function(){function e(){this.focusable=!1}return e.decorators=[{type:t.Component,args:[{selector:"ibm-icon-information16",template:'\n    <svg\n      ibmIconInformation16\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],e.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],focusable:[{type:t.Input}],innerClass:[{type:t.Input}]},e}(),o=function(){function e(e){this.elementRef=e,this.isFocusable=!1}return e.prototype.ngAfterViewInit=function(){var l=this.elementRef.nativeElement;l.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><path d="M8.5 11V6.5h-2v1h1V11H6v1h4v-1zM8 3.5c-.4 0-.8.3-.8.8s.4.7.8.7.8-.3.8-.8-.4-.7-.8-.7z"></path><path d="M8 15c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7zM8 2C4.7 2 2 4.7 2 8s2.7 6 6 6 6-2.7 6-6-2.7-6-6-6z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)l.appendChild(l.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var t=Object(i.a)({width:16,height:16,viewBox:"0 0 16 16",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),a=Object.keys(t),o=0;o<a.length;o++){var r=a[o],s=t[r];"title"!==r&&s&&l.setAttribute(r,s)}if(t.title){var u=document.createElement("title");u.textContent=t.title,u.setAttribute("id","information16-"+ ++e.titleIdCounter),l.appendChild(u),l.setAttribute("aria-labelledby","information16-"+e.titleIdCounter)}},e.titleIdCounter=0,e.decorators=[{type:t.Directive,args:[{selector:"[ibmIconInformation16]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],isFocusable:[{type:t.Input}]},e}(),r=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[a,o],exports:[a,o]}]}],e}()},"X/pD":function(e,l,n){"use strict";n.d(l,"a",function(){return a}),n("pQSL");var t=n("IheW"),i=n("bl9C");class a{constructor(e){this.tqmiHttpService=e,this.apiPath={department:"api/departments",location:"api/locations",user:"api/users",getGroups:"api/groups",searchGroups:"api/groups-search",fullLoad:"api/populate-sap-users"}}getDepartments(e,l,n,a,o){let r=(new t.h).set("startFrom",e).set("sort",n).set("limit",o).set("sortBy",a);return""!=l&&null!=l&&(r=r.set("searchparam",l)),this.tqmiHttpService.get(this.apiPath.department,{apiType:i.a.USERS,params:r})}getLocations(e,l,n,a){let o=(new t.h).set("sort",l).set("sortBy",n).set("limit",a);return""!=e&&null!=e&&(o=o.set("searchparam",e)),this.tqmiHttpService.get(this.apiPath.location,{apiType:i.a.USERS,params:o})}getUsers(e,l,n,a,o,r){let s=(new t.h).set("startFrom",e).set("sort",a).set("limit",r).set("sortBy",o);return n&&(s=s.set("searchparam",n)),s=s.set("invalidUsers",l+""),this.tqmiHttpService.get(this.apiPath.user,{apiType:i.a.USERS,params:s})}getGroups(e,l,n){let a=new t.h;return a=(a=a.set("limit",l.toString())).set("offset",n.toString()),""!=e&&null!=e&&(a=a.set("searchparam",e)),this.tqmiHttpService.get(this.apiPath.getGroups,{apiType:i.a.GROUPS,params:a})}searchGroups(e){return this.tqmiHttpService.get(this.apiPath.searchGroups+"?searchTerm="+e,{apiType:i.a.GROUPS})}getGroupDetails(e){return this.tqmiHttpService.get(this.apiPath.getGroups+"/"+e,{apiType:i.a.GROUPS})}editAction(e,l){return this.tqmiHttpService.patch(this.apiPath.getGroups+"/"+l,e,{apiType:i.a.GROUPS})}createAction(e){return this.tqmiHttpService.post(this.apiPath.getGroups,e,{apiType:i.a.GROUPS})}getFullLoadUsers(){let e=new t.h;return this.tqmiHttpService.get(this.apiPath.fullLoad,{apiType:i.a.USERS,params:e})}getDeltaLoadUsers(){let e=new t.h;return e=e.set("fetchDelta","1"),this.tqmiHttpService.get(this.apiPath.fullLoad,{apiType:i.a.USERS,params:e})}}},Yb6w:function(e,l,n){"use strict";n.d(l,"a",function(){return o}),n.d(l,"b",function(){return r});var t=n("8Y7J"),i=n("O9pe"),a=function(){function e(){this.focusable=!1}return e.decorators=[{type:t.Component,args:[{selector:"ibm-icon-checkmark20",template:'\n    <svg\n      ibmIconCheckmark20\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],e.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],focusable:[{type:t.Input}],innerClass:[{type:t.Input}]},e}(),o=function(){function e(e){this.elementRef=e,this.isFocusable=!1}return e.prototype.ngAfterViewInit=function(){var l=this.elementRef.nativeElement;l.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" aria-hidden="true"><path d="M8 13.2L3.6 8.8l-.9.9 4.4 4.4.9.9 8.5-8.5-.9-.9z"></path><path d="M15.6 5.6L8 13.2 3.6 8.8l-.9.9 4.4 4.4.9.9 8.5-8.5-.9-.9z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)l.appendChild(l.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var t=Object(i.a)({width:20,height:20,viewBox:"0 0 20 20",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),a=Object.keys(t),o=0;o<a.length;o++){var r=a[o],s=t[r];"title"!==r&&s&&l.setAttribute(r,s)}if(t.title){var u=document.createElement("title");u.textContent=t.title,u.setAttribute("id","checkmark20-"+ ++e.titleIdCounter),l.appendChild(u),l.setAttribute("aria-labelledby","checkmark20-"+e.titleIdCounter)}},e.titleIdCounter=0,e.decorators=[{type:t.Directive,args:[{selector:"[ibmIconCheckmark20]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],isFocusable:[{type:t.Input}]},e}(),r=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[a,o],exports:[a,o]}]}],e}()},brgC:function(e,l,n){"use strict";var t=n("8Y7J"),i=n("s6ns"),a=n("g7AK"),o=n("HXlw");n.d(l,"a",function(){return d});var r=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function s(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"h5",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.m,[[2,i.l],t.ElementRef,i.e],null,null),(e()(),t["\u0275ted"](-1,null,["Confirmation"])),(e()(),t["\u0275eld"](3,0,null,null,3,"mat-dialog-content",[["class","mat-typography mat-dialog-content"]],null,null,null,null,null)),t["\u0275did"](4,16384,null,0,i.j,[],null,null),(e()(),t["\u0275eld"](5,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),t["\u0275ted"](6,null,[" "," "])),(e()(),t["\u0275eld"](7,0,null,null,8,"mat-dialog-actions",[["align","end"],["class","mat-dialog-actions"]],null,null,null,null,null)),t["\u0275did"](8,16384,null,0,i.f,[],null,null),(e()(),t["\u0275eld"](9,0,null,null,2,"button",[["cdkFocusInitial",""],["ibmButton","primary"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onOkay(n)&&t),t},null,null)),t["\u0275did"](10,16384,null,0,a.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),t["\u0275ted"](11,null,["",""])),(e()(),t["\u0275eld"](12,0,null,null,3,"button",[["ibmButton","danger"],["mat-dialog-close",""],["style","margin-left: 8px;"]],[[1,"aria-label",0],[1,"type",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,l,n){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](e,13).dialogRef.close(t["\u0275nov"](e,13).dialogResult)&&i),i},null,null)),t["\u0275did"](13,606208,null,0,i.g,[[2,i.l],t.ElementRef,i.e],{dialogResult:[0,"dialogResult"]},null),t["\u0275did"](14,16384,null,0,a.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),t["\u0275ted"](15,null,["",""]))],function(e,l){e(l,1,0),e(l,10,0,"primary"),e(l,13,0,""),e(l,14,0,"danger")},function(e,l){var n=l.component;e(l,0,0,t["\u0275nov"](l,1).id),e(l,6,0,n.confirmationMessage),e(l,9,1,[t["\u0275nov"](l,10).baseClass,t["\u0275nov"](l,10).primaryButton,t["\u0275nov"](l,10).secondaryButton,t["\u0275nov"](l,10).tertiaryButton,t["\u0275nov"](l,10).ghostButton,t["\u0275nov"](l,10).dangerButton,t["\u0275nov"](l,10).dangerPrimaryButton,t["\u0275nov"](l,10).skeleton,t["\u0275nov"](l,10).smallSize,t["\u0275nov"](l,10).toolbarAction,t["\u0275nov"](l,10).overflowMenu]),e(l,11,0,n.onOkayText),e(l,12,1,[t["\u0275nov"](l,13).ariaLabel||null,t["\u0275nov"](l,13).type,t["\u0275nov"](l,14).baseClass,t["\u0275nov"](l,14).primaryButton,t["\u0275nov"](l,14).secondaryButton,t["\u0275nov"](l,14).tertiaryButton,t["\u0275nov"](l,14).ghostButton,t["\u0275nov"](l,14).dangerButton,t["\u0275nov"](l,14).dangerPrimaryButton,t["\u0275nov"](l,14).skeleton,t["\u0275nov"](l,14).smallSize,t["\u0275nov"](l,14).toolbarAction,t["\u0275nov"](l,14).overflowMenu]),e(l,15,0,n.cancelBtnText)})}function u(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"app-mat-confirmation",[],null,null,null,s,r)),t["\u0275did"](1,114688,null,0,o.a,[i.a,i.l],null,null)],function(e,l){e(l,1,0)},null)}var d=t["\u0275ccf"]("app-mat-confirmation",o.a,u,{},{},[])},eJBW:function(e,l,n){"use strict";n.d(l,"a",function(){return i}),n.d(l,"b",function(){return a});var t=n("wd/R");class i{transform(e,l,n,i){let a=t(l).set({hour:0,minute:0,second:0,millisecond:0}).valueOf(),o=t(n).set({hour:23,minute:59,second:59,millisecond:999}).valueOf();return"HALF YEARLY"===i||"QUARTERLY"===i||"YEARLY"===i?e:(e||[]).filter(e=>{if("WEEKLY"===i){if(t(e.value.startDate).format("M")===t(a).format("M"))return!0}else if("HOURLY"===i||"SHIFT WISE"===i||"DAILY"===i){if(t(e.value.startDate).format("M")===t(a).format("M"))return!0}else if(1e3*t(e.value.startDate).unix()>=a&&1e3*t(e.value.endDate).unix()<=o)return!0;return!1})}}class a{}},fMlX:function(e,l,n){"use strict";n.d(l,"a",function(){return o}),n.d(l,"b",function(){return r});var t=n("8Y7J"),i=n("O9pe"),a=function(){function e(){this.focusable=!1}return e.decorators=[{type:t.Component,args:[{selector:"ibm-icon-chevron-down32",template:'\n    <svg\n      ibmIconChevronDown32\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],e.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],focusable:[{type:t.Input}],innerClass:[{type:t.Input}]},e}(),o=function(){function e(e){this.elementRef=e,this.isFocusable=!1}return e.prototype.ngAfterViewInit=function(){var l=this.elementRef.nativeElement;l.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><path d="M16 22L6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)l.appendChild(l.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var t=Object(i.a)({width:32,height:32,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),a=Object.keys(t),o=0;o<a.length;o++){var r=a[o],s=t[r];"title"!==r&&s&&l.setAttribute(r,s)}if(t.title){var u=document.createElement("title");u.textContent=t.title,u.setAttribute("id","chevron-down32-"+ ++e.titleIdCounter),l.appendChild(u),l.setAttribute("aria-labelledby","chevron-down32-"+e.titleIdCounter)}},e.titleIdCounter=0,e.decorators=[{type:t.Directive,args:[{selector:"[ibmIconChevronDown32]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],isFocusable:[{type:t.Input}]},e}(),r=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[a,o],exports:[a,o]}]}],e}()},rlcE:function(e,l,n){"use strict";var t=n("8Y7J"),i=n("cbbC"),a=n("rP3o"),o=n("PJ54"),r=n("cN2v"),s=n("tU3X"),u=n("mEpm"),d=n("uvqg"),c=n("noyz"),p=n("Amkq"),m=n("WeWU"),h=n("oljc"),g=n("s7LF"),b=n("XvC9"),f=n("kqF4"),v=n("Gv0t"),x=n("J83G"),y=n("vGNp"),w=n("PsxR"),C=n("EApP");n.d(l,"a",function(){return P});var I=t["\u0275crt"]({encapsulation:0,styles:[[".cos-rejection-modal .bx--modal.is-visible .bx--modal-container{width:35%}.bx--modal-footer[_ngcontent-%COMP%]   button.bx--btn[_ngcontent-%COMP%]{padding-bottom:0!important}.cos-rejection-modal[_ngcontent-%COMP%]   .rectangle[_ngcontent-%COMP%]{padding:0 16px}.reason-box[_ngcontent-%COMP%]{background-color:#fff!important;border:1px solid #565656!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#9f9f9f!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::-moz-placeholder{color:#9f9f9f!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::-ms-input-placeholder{color:#9f9f9f!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::placeholder{color:#9f9f9f!important}.dialog-btn[_ngcontent-%COMP%]{outline:0;border:none;font-size:20px;justify-content:center;padding:24px 36px!important}.bx--btn[_ngcontent-%COMP%]:disabled{background-color:#3d70b2;color:#fff;outline:0;border:3px solid transparent;font-size:20px;justify-content:center;padding:24px 36px!important}.top-right-text[_ngcontent-%COMP%]{display:flex!important;float:right!important;font-size:10px!important}.center-loader-text[_ngcontent-%COMP%]{display:flex;align-items:center}.metadiv[_ngcontent-%COMP%]{padding:16px;border-left:1px solid #8080804a;border-right:1px solid #8080803b;border-bottom:1px solid #8080803b}.increased-height[_ngcontent-%COMP%]{min-height:300px!important}"]],data:{}});function S(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,43,"ibm-modal",[["class","cos-rejection-modal"],["size","lg"]],null,[[null,"keydown"]],function(e,l,n){var i=!0;return"keydown"===l&&(i=!1!==t["\u0275nov"](e,1).handleKeyboardEvent(n)&&i),i},i.c,i.b)),t["\u0275did"](1,4440064,null,0,a.a,[o.a],{size:[0,"size"]},null),(e()(),t["\u0275eld"](2,0,null,0,3,"ibm-modal-header",[],null,[[null,"closeSelect"]],function(e,l,n){var t=!0;return"closeSelect"===l&&(t=!1!==e.component.closeModal()&&t),t},r.c,r.b)),t["\u0275did"](3,49152,null,0,s.a,[u.a,d.a],null,{closeSelect:"closeSelect"}),(e()(),t["\u0275eld"](4,0,null,0,1,"h4",[["style","font-size: 18px;font-weight: 600;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Add CP"])),(e()(),t["\u0275eld"](6,0,null,0,31,"div",[["class","modal-body rectangle bx--modal-content"],["style","overflow-y: visible; min-height: 300px !important;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](7,0,null,null,17,"div",[["ibmRow",""],["style","margin-bottom: 30px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](8,16384,null,0,c.c,[],null,null),(e()(),t["\u0275eld"](9,0,null,null,15,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](10,81920,null,0,c.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](11,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](12,0,null,null,12,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](13,1097728,null,0,m.a,[],null,null),(e()(),t["\u0275eld"](14,0,null,0,3,"label",[["label",""]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["KPI Title"])),(e()(),t["\u0275eld"](16,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" *"])),(e()(),t["\u0275eld"](18,0,null,1,6,"input",[["appendInline","true"],["ibmText",""],["rows","5"],["style","background-color: #f3f3f3;"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,20)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,20).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,20)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,20)._compositionEnd(n.target.value)&&i),"ngModelChange"===l&&(i=!1!==(a.kpiTitle=n)&&i),i},null,null)),t["\u0275did"](19,16384,null,0,h.a,[],null,null),t["\u0275did"](20,16384,null,0,g.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,g.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,g.NG_VALUE_ACCESSOR,function(e){return[e]},[g.DefaultValueAccessor]),t["\u0275did"](22,671744,null,0,g.NgModel,[[8,null],[8,null],[8,null],[6,g.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,g.NgControl,null,[g.NgModel]),t["\u0275did"](24,16384,null,0,g.NgControlStatus,[[4,g.NgControl]],null,null),(e()(),t["\u0275eld"](25,0,null,null,12,"div",[["ibmRow",""],["style","margin-top: 50px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](26,16384,null,0,c.c,[],null,null),(e()(),t["\u0275eld"](27,0,null,null,10,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](28,81920,null,0,c.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](29,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](30,0,null,null,7,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](31,1097728,null,0,m.a,[],null,null),(e()(),t["\u0275eld"](32,0,null,0,3,"label",[["label",""]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Owner"])),(e()(),t["\u0275eld"](34,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" *"])),(e()(),t["\u0275eld"](36,0,null,0,1,"app-e4-combo-box",[["isDependent","true"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(e,l,n){var t=!0,i=e.component;return"onOpen"===l&&(t=!1!==i.onOpenOwner(n)&&t),"onSearch"===l&&(t=!1!==i.onSearchUser(n,"viewer")&&t),"onSelect"===l&&(t=!1!==i.onSelectedUser(n)&&t),t},b.b,b.a)),t["\u0275did"](37,4964352,null,0,f.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(e()(),t["\u0275eld"](38,0,null,0,5,"ibm-modal-footer",[],null,null,null,v.c,v.b)),t["\u0275did"](39,49152,null,0,x.a,[],null,null),(e()(),t["\u0275eld"](40,0,null,0,1,"button",[["class","bx--btn bx--btn--primary dialog-btn"]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.createCPNode()&&t),t},null,null)),(e()(),t["\u0275ted"](-1,null,[" Confirm "])),(e()(),t["\u0275eld"](42,0,null,0,1,"button",[["class","bx--btn bx--btn--danger dialog-btn"]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.closeModal()&&t),t},null,null)),(e()(),t["\u0275ted"](-1,null,[" Cancel "]))],function(e,l){var n=l.component;e(l,1,0,"lg");var t=e(l,11,0,6,6,12);e(l,10,0,t),e(l,22,0,n.kpiTitle);var i=e(l,29,0,6,6,12);e(l,28,0,i),e(l,37,0,n.searchedUsers,"true",n.username)},function(e,l){e(l,7,0,t["\u0275nov"](l,8).baseClass),e(l,9,0,t["\u0275nov"](l,10).columnClasses),e(l,12,0,t["\u0275nov"](l,13).labelClass),e(l,18,1,[t["\u0275nov"](l,19).inputClass,t["\u0275nov"](l,19).invalid,t["\u0275nov"](l,19).skeleton,t["\u0275nov"](l,19).isLightTheme,t["\u0275nov"](l,24).ngClassUntouched,t["\u0275nov"](l,24).ngClassTouched,t["\u0275nov"](l,24).ngClassPristine,t["\u0275nov"](l,24).ngClassDirty,t["\u0275nov"](l,24).ngClassValid,t["\u0275nov"](l,24).ngClassInvalid,t["\u0275nov"](l,24).ngClassPending]),e(l,25,0,t["\u0275nov"](l,26).baseClass),e(l,27,0,t["\u0275nov"](l,28).columnClasses),e(l,30,0,t["\u0275nov"](l,31).labelClass)})}function D(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"app-create-cp",[],null,null,null,S,I)),t["\u0275did"](1,114688,null,0,y.a,[o.a,t.Injector,w.a,C.j],null,null)],function(e,l){e(l,1,0)},null)}var P=t["\u0275ccf"]("app-create-cp",y.a,D,{},{close:"close"},[])},vGNp:function(e,l,n){"use strict";n.d(l,"a",function(){return i});var t=n("ciZX");n("PsxR");class i extends t.a{constructor(e,l,n,t){super(),this.modalService=e,this.injector=l,this.goalService=n,this.toasterService=t,this.searchedUsers=[],this.username="",this.dropdownClosed=!0,this.data=this.injector.get("data"),this.id=this.injector.get("id"),this.parentOwnerId=this.injector.get("parentOwnerId")}ngOnInit(){}closeModal(){this.modalService.destroy()}createCPNode(){null==this.kpiTitle||""===this.kpiTitle?this.toasterService.error("Please add a KPI title."):this.selectedUser?(this.data.next({vcs:this.selectedUser.firstname+" "+this.selectedUser.lastname,title:this.kpiTitle,primaryOwnerEmployeeId:this.selectedUser.employeeId,id:this.id,_id:this.id,departmentId:this.selectedUser.departmentId,departmentName:this.selectedUser.departmentName,empDBId:this.selectedUser._id,firstname:this.selectedUser.firstname,isPrimary:!0,lastname:this.selectedUser.lastname}),this.closeModal()):this.toasterService.error("Please select a KPI owner.")}onSearchUser(e,l){this.searchedUsers=[],e&&e.trim()&&e.trim().length&&this.goalService.getUsers(e,!1,l,void 0,this.parentOwnerId).subscribe(e=>{this.searchedUsers=e.response.map((e,l)=>(e.content=e.firstname+" "+e.lastname,e.id=e.employeeId,e))},e=>{console.log(e)})}onOpenOwner(e){this.dropdownClosed=!1,this.searchedUsers=[{ignore:!0,content:"Search user to select."}]}onSelectedUser(e){this.dropdownClosed=!0,this.username=e.content,this.selectedUser=e}}},w95c:function(e,l,n){"use strict";var t=n("8Y7J"),i=n("noyz"),a=n("1V2r"),o=n("s7LF"),r=n("gLoP"),s=n("mEpm"),u=n("i3NF"),d=n("FNXg"),c=n("1ZgJ"),p=n("baZm"),m=n("uO/F"),h=n("ldNd"),g=n("VMYt"),b=n("SuBU"),f=n("KeT7"),v=n("+4Gi"),x=n("Jsk+"),y=n("SVse"),w=n("K8sf"),C=n("/tQ4"),I=n("PJ54"),S=n("qDrF"),D=n("/4G1"),P=n("5Pgy"),O=n("iInd"),k=n("oljc"),M=n("BTng"),N=n("+jrW"),L=n("QQfA"),A=n("Lb5T"),F=n("XvC9"),E=n("kqF4"),T=n("g7AK"),R=n("fF59"),_=n("BJWQ"),K=n("PybA"),U=n("B6FV"),Y=n("XX5M"),V=n("+Kk7"),G=n("PsxR"),B=n("Z725"),z=n("EApP"),q=n("qHnB"),H=n("Dnte");n.d(l,"b",function(){return j}),n.d(l,"c",function(){return ue}),n.d(l,"a",function(){return ce});var j=t["\u0275crt"]({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{padding:32px}.button-goal[_ngcontent-%COMP%]{width:100%;margin-top:16px}.c-ag-grid[_ngcontent-%COMP%]{width:100%;height:548px}.bx--table-header-label[_ngcontent-%COMP%]{white-space:normal!important}.bx--grid[_ngcontent-%COMP%]{padding:unset;margin:unset;max-width:100%}.widget-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.widget-info[_ngcontent-%COMP%]   .widget-actions[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px}.chart-dim[_ngcontent-%COMP%]{height:548px;border:1px solid #babfc7;flex:2}.chart-dim[_ngcontent-%COMP%]:nth-child(1){flex:1;margin-right:20px}.chart-cont[_ngcontent-%COMP%]{height:100%!important}.d3-chart[_ngcontent-%COMP%]{max-height:100%!important;width:100%!important;margin:8px 8px -36px}.header[_ngcontent-%COMP%]{font-size:24px;margin-top:12px;margin-left:32px}.date-picker-new-cont[_ngcontent-%COMP%]   .cal-icon[_ngcontent-%COMP%]{top:32px}"]],data:{}});function Q(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"h1",[["class","header"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Link KPI Extensions"]))],null,null)}function W(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,25,"div",[["class","margin-bottom-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](2,0,null,null,11,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](5,0,null,null,8,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Financial year "])),(e()(),t["\u0275eld"](7,0,null,null,6,"ibm-dropdown",[["class","margin-top-dropdown-label"],["placeholder","Select Year"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(e,l,n){var i=!0,a=e.component;return"keydown"===l&&(i=!1!==t["\u0275nov"](e,9).onKeyDown(n)&&i),"selected"===l&&(i=!1!==a.onFinancialYearSelected(n,!0)&&i),i},a.b,a.a)),t["\u0275prd"](5120,null,o.NG_VALUE_ACCESSOR,function(e){return[e]},[r.a]),t["\u0275did"](9,1294336,null,1,r.a,[t.ElementRef,s.a,u.a],{placeholder:[0,"placeholder"]},{selected:"selected"}),t["\u0275qud"](335544320,3,{view:0}),(e()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,d.b,d.a)),t["\u0275did"](12,4374528,null,0,c.a,[t.ElementRef,s.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[3,4]],p.a,null,[c.a]),(e()(),t["\u0275eld"](14,0,null,null,11,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](15,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](16,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](17,0,null,null,8,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" My KPIs "])),(e()(),t["\u0275eld"](19,0,null,null,6,"ibm-combo-box",[["class","margin-top-dropdown-label"],["placeholder","Select KPI"],["size","sm"],["type","single"]],[[1,"aria-disabled",0],[2,"bx--list-box__wrapper",null],[1,"role",0],[4,"display",null]],[[null,"selected"],[null,"keydown"]],function(e,l,n){var i=!0,a=e.component;return"keydown"===l&&(i=!1!==t["\u0275nov"](e,21).hostkeys(n)&&i),"selected"===l&&(i=!1!==a.onCurrentKPISelected(n)&&i),i},m.b,m.a)),t["\u0275prd"](5120,null,o.NG_VALUE_ACCESSOR,function(e){return[e]},[h.a]),t["\u0275did"](21,5816320,[[2,4],["kpiDropdownCurrentKPI",4]],1,h.a,[t.ElementRef],{placeholder:[0,"placeholder"],type:[1,"type"],size:[2,"size"]},{selected:"selected"}),t["\u0275qud"](335544320,4,{view:0}),(e()(),t["\u0275eld"](23,0,null,0,2,"ibm-dropdown-list",[],null,null,null,d.b,d.a)),t["\u0275did"](24,4374528,null,0,c.a,[t.ElementRef,s.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[4,4]],p.a,null,[c.a])],function(e,l){var n=l.component,t=e(l,4,0,2,2,12);e(l,3,0,t),e(l,9,0,"Select Year"),e(l,12,0,n.yearListCurrentKPISelection);var i=e(l,16,0,6,6,12);e(l,15,0,i),e(l,21,0,"Select KPI","single","sm"),e(l,24,0,n.kpiItemsCurrentKPI)},function(e,l){e(l,0,0,t["\u0275nov"](l,1).baseClass),e(l,2,0,t["\u0275nov"](l,3).columnClasses),e(l,7,0,t["\u0275nov"](l,9).hostClass),e(l,14,0,t["\u0275nov"](l,15).columnClasses),e(l,19,0,t["\u0275nov"](l,21).disabled,t["\u0275nov"](l,21).hostClass,t["\u0275nov"](l,21).role,t["\u0275nov"](l,21).display)})}function $(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,"span",[["class","tooltip"],["style","margin-left: 4px;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["ibmIconInformation16",""]],null,null,null,null,null)),t["\u0275did"](2,4210688,null,0,g.a,[t.ElementRef],null,null),(e()(),t["\u0275eld"](3,0,null,null,1,"span",[["class","tooltiptext"]],null,null,null,null,null)),(e()(),t["\u0275ted"](4,null,["Showing "," "," in "," department for ",""]))],null,function(e,l){var n=l.component;e(l,4,0,n.kpiItems?null==n.kpiItems?null:n.kpiItems.length:0,n.getKPITypeLabel(),n.currentKPIDepartmentName,n.getFyDropdownLabel())})}function Z(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.showHideUpperLower(n)&&t),t},b.b,b.a)),t["\u0275did"](1,4243456,null,0,f.a,[t.ElementRef],{type:[0,"type"]},null),(e()(),t["\u0275ted"](-1,0,["Show UL & LL "]))],function(e,l){e(l,1,0,"danger")},function(e,l){e(l,0,0,t["\u0275nov"](l,1).optionClass,t["\u0275nov"](l,1).role,t["\u0275nov"](l,1).isDanger,t["\u0275nov"](l,1).isDisabled)})}function J(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.showHideUpperLower(n)&&t),t},b.b,b.a)),t["\u0275did"](1,4243456,null,0,f.a,[t.ElementRef],{type:[0,"type"]},null),(e()(),t["\u0275ted"](-1,0,["Hide UL & LL "]))],function(e,l){e(l,1,0,"danger")},function(e,l){e(l,0,0,t["\u0275nov"](l,1).optionClass,t["\u0275nov"](l,1).role,t["\u0275nov"](l,1).isDanger,t["\u0275nov"](l,1).isDisabled)})}function X(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.showHideTargetLine(n)&&t),t},b.b,b.a)),t["\u0275did"](1,4243456,null,0,f.a,[t.ElementRef],{type:[0,"type"]},null),(e()(),t["\u0275ted"](-1,0,["Show Target "]))],function(e,l){e(l,1,0,"danger")},function(e,l){e(l,0,0,t["\u0275nov"](l,1).optionClass,t["\u0275nov"](l,1).role,t["\u0275nov"](l,1).isDanger,t["\u0275nov"](l,1).isDisabled)})}function ee(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.showHideTargetLine(n)&&t),t},b.b,b.a)),t["\u0275did"](1,4243456,null,0,f.a,[t.ElementRef],{type:[0,"type"]},null),(e()(),t["\u0275ted"](-1,0,["Hide Target "]))],function(e,l){e(l,1,0,"danger")},function(e,l){e(l,0,0,t["\u0275nov"](l,1).optionClass,t["\u0275nov"](l,1).role,t["\u0275nov"](l,1).isDanger,t["\u0275nov"](l,1).isDisabled)})}function le(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.showHideDataPointLabel(n)&&t),t},b.b,b.a)),t["\u0275did"](1,4243456,null,0,f.a,[t.ElementRef],{type:[0,"type"]},null),(e()(),t["\u0275ted"](-1,0,["Show Data Labels "]))],function(e,l){e(l,1,0,"danger")},function(e,l){e(l,0,0,t["\u0275nov"](l,1).optionClass,t["\u0275nov"](l,1).role,t["\u0275nov"](l,1).isDanger,t["\u0275nov"](l,1).isDisabled)})}function ne(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.showHideDataPointLabel(n)&&t),t},b.b,b.a)),t["\u0275did"](1,4243456,null,0,f.a,[t.ElementRef],{type:[0,"type"]},null),(e()(),t["\u0275ted"](-1,0,["Hide Data Labels "]))],function(e,l){e(l,1,0,"danger")},function(e,l){e(l,0,0,t["\u0275nov"](l,1).optionClass,t["\u0275nov"](l,1).role,t["\u0275nov"](l,1).isDanger,t["\u0275nov"](l,1).isDisabled)})}function te(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(e,l,n){var t=!0,i=e.component;return"click"===l&&(t=!1!==i.showHideCumulative(i.kpiData)&&t),t},b.b,b.a)),t["\u0275did"](1,4243456,null,0,f.a,[t.ElementRef],{type:[0,"type"]},null),(e()(),t["\u0275ted"](-1,0,["Show Cumulative Data "]))],function(e,l){e(l,1,0,"danger")},function(e,l){e(l,0,0,t["\u0275nov"](l,1).optionClass,t["\u0275nov"](l,1).role,t["\u0275nov"](l,1).isDanger,t["\u0275nov"](l,1).isDisabled)})}function ie(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(e,l,n){var t=!0,i=e.component;return"click"===l&&(t=!1!==i.showHideCumulative(i.kpiData)&&t),t},b.b,b.a)),t["\u0275did"](1,4243456,null,0,f.a,[t.ElementRef],{type:[0,"type"]},null),(e()(),t["\u0275ted"](-1,0,["Hide Cumulative Data "]))],function(e,l){e(l,1,0,"danger")},function(e,l){e(l,0,0,t["\u0275nov"](l,1).optionClass,t["\u0275nov"](l,1).role,t["\u0275nov"](l,1).isDanger,t["\u0275nov"](l,1).isDisabled)})}function ae(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,21,"ibm-overflow-menu",[["class","widget-overflow-menu"],["flip","true"]],null,null,null,v.b,v.a)),t["\u0275did"](1,49152,null,1,x.a,[t.ElementRef,s.a],{flip:[0,"flip"]},null),t["\u0275qud"](335544320,8,{overflowMenuDirective:0}),(e()(),t["\u0275and"](16777216,null,0,1,null,Z)),t["\u0275did"](4,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,J)),t["\u0275did"](6,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,X)),t["\u0275did"](8,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,ee)),t["\u0275did"](10,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,le)),t["\u0275did"](12,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,ne)),t["\u0275did"](14,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](15,0,null,0,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(e,l,n){var t=!0,i=e.component;return"click"===l&&(t=!1!==i.downloadAsImage("line-chart",i.kpiData)&&t),t},b.b,b.a)),t["\u0275did"](16,4243456,null,0,f.a,[t.ElementRef],{type:[0,"type"]},null),(e()(),t["\u0275ted"](-1,0,["Save As Image "])),(e()(),t["\u0275and"](16777216,null,0,1,null,te)),t["\u0275did"](19,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,ie)),t["\u0275did"](21,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,l){var n=l.component;e(l,1,0,"true"),e(l,4,0,!n.showHideUpperLowerLimit),e(l,6,0,n.showHideUpperLowerLimit),e(l,8,0,!n.showTargetLine),e(l,10,0,n.showTargetLine),e(l,12,0,!n.showDataPointLabel),e(l,14,0,n.showDataPointLabel),e(l,16,0,"danger"),e(l,19,0,!1===n.cumulativeGraph),e(l,21,0,!0===n.cumulativeGraph)},function(e,l){e(l,15,0,t["\u0275nov"](l,16).optionClass,t["\u0275nov"](l,16).role,t["\u0275nov"](l,16).isDanger,t["\u0275nov"](l,16).isDisabled)})}function oe(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","chart-container"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"grouped-line-chart",[["class","d3-chart"]],null,null,null,w.b,w.a)),t["\u0275did"](2,4440064,null,0,C.a,[t.ElementRef,I.a,S.a,D.a,P.a,t.ChangeDetectorRef,O.o],{loading:[0,"loading"],data:[1,"data"],displayLegend:[2,"displayLegend"]},null)],function(e,l){var n=l.component;e(l,2,0,n.chartLoading,n.chartLoading?null:n.chartData,!0)},null)}function re(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,53,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,49,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,48,"div",[["class","widget-info"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,44,"div",[["class","widget-actions"],["style"," justify-content: space-between;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,9,"label",[["class","date-picker-new-cont padding-left-5"],["style","width: 150px;margin-right: 10px;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Display frequency"])),(e()(),t["\u0275eld"](7,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["type","single"],["value","content"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(e,l,n){var i=!0,a=e.component;return"keydown"===l&&(i=!1!==t["\u0275nov"](e,9).onKeyDown(n)&&i),"selected"===l&&(i=!1!==a.selectedDCFOption(n)&&i),i},a.b,a.a)),t["\u0275prd"](5120,null,o.NG_VALUE_ACCESSOR,function(e){return[e]},[r.a]),t["\u0275did"](9,1294336,null,1,r.a,[t.ElementRef,s.a,u.a],{placeholder:[0,"placeholder"],type:[1,"type"],disabled:[2,"disabled"],appendInline:[3,"appendInline"],value:[4,"value"]},{selected:"selected"}),t["\u0275qud"](335544320,7,{view:0}),(e()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,d.b,d.a)),t["\u0275did"](12,4374528,null,0,c.a,[t.ElementRef,s.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[7,4]],p.a,null,[c.a]),(e()(),t["\u0275eld"](14,0,null,null,16,"label",[["class","date-picker-new-cont padding-left-5"],["style","max-width: 120px;margin-right: 10px;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](15,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Start Date"])),(e()(),t["\u0275eld"](17,0,null,null,9,"input",[["ibmText",""],["placeholder","mm/dd/yyyy"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"owl-dt-trigger-disabled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"change"],[null,"click"]],function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,19)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,19).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,19)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,19)._compositionEnd(n.target.value)&&i),"keydown"===l&&(i=!1!==t["\u0275nov"](e,20).handleKeydownOnHost(n)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,20).handleBlurOnHost(n)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,20).handleInputOnHost(n)&&i),"change"===l&&(i=!1!==t["\u0275nov"](e,20).handleChangeOnHost(n)&&i),"click"===l&&(i=!1!==t["\u0275nov"](e,26).handleClickOnHost(n)&&i),"ngModelChange"===l&&(i=!1!==(a.selectedStartDate=n)&&i),"ngModelChange"===l&&(i=!1!==a.dateValueChange(n,!0)&&i),i},null,null)),t["\u0275did"](18,16384,null,0,k.a,[],null,null),t["\u0275did"](19,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](20,1261568,null,0,M.z,[t.ElementRef,t.Renderer2,[2,M.a],[2,M.b]],{owlDateTime:[0,"owlDateTime"]},null),t["\u0275prd"](1024,null,o.NG_VALIDATORS,function(e){return[e]},[M.z]),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(e,l){return[e,l]},[o.DefaultValueAccessor,M.z]),t["\u0275did"](23,671744,null,0,o.NgModel,[[8,null],[6,o.NG_VALIDATORS],[8,null],[6,o.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,o.NgControl,null,[o.NgModel]),t["\u0275did"](25,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),t["\u0275did"](26,1785856,null,0,M.y,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"],disabled:[1,"disabled"]},null),(e()(),t["\u0275eld"](27,16777216,null,null,1,"owl-date-time",[],null,null,null,N.b,N.a)),t["\u0275did"](28,245760,[["dt6",4]],0,M.d,[L.b,t.ViewContainerRef,M.v,t.NgZone,t.ChangeDetectorRef,[2,M.a],M.o,[2,M.b],[2,y.DOCUMENT]],{pickerType:[0,"pickerType"]},null),(e()(),t["\u0275eld"](29,0,null,null,1,":svg:svg",[["class","cal-icon"],["ibmIconCalendar20",""]],null,null,null,null,null)),t["\u0275did"](30,4210688,null,0,A.a,[t.ElementRef],null,null),(e()(),t["\u0275eld"](31,0,null,null,16,"label",[["class","date-picker-new-cont padding-left-1"],["style","max-width: 120px;margin-right: 10px;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](32,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["End Date"])),(e()(),t["\u0275eld"](34,0,null,null,9,"input",[["ibmText",""],["placeholder","mm/dd/yyyy"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"owl-dt-trigger-disabled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"],[null,"change"],[null,"click"]],function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,36)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,36).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,36)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,36)._compositionEnd(n.target.value)&&i),"keydown"===l&&(i=!1!==t["\u0275nov"](e,37).handleKeydownOnHost(n)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,37).handleBlurOnHost(n)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,37).handleInputOnHost(n)&&i),"change"===l&&(i=!1!==t["\u0275nov"](e,37).handleChangeOnHost(n)&&i),"click"===l&&(i=!1!==t["\u0275nov"](e,43).handleClickOnHost(n)&&i),"ngModelChange"===l&&(i=!1!==a.dateValueChange(n,!1)&&i),"ngModelChange"===l&&(i=!1!==(a.selectedEndDate=n)&&i),i},null,null)),t["\u0275did"](35,16384,null,0,k.a,[],null,null),t["\u0275did"](36,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](37,1261568,null,0,M.z,[t.ElementRef,t.Renderer2,[2,M.a],[2,M.b]],{owlDateTime:[0,"owlDateTime"]},null),t["\u0275prd"](1024,null,o.NG_VALIDATORS,function(e){return[e]},[M.z]),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(e,l){return[e,l]},[o.DefaultValueAccessor,M.z]),t["\u0275did"](40,671744,null,0,o.NgModel,[[8,null],[6,o.NG_VALIDATORS],[8,null],[6,o.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,o.NgControl,null,[o.NgModel]),t["\u0275did"](42,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),t["\u0275did"](43,1785856,null,0,M.y,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"],disabled:[1,"disabled"]},null),(e()(),t["\u0275eld"](44,16777216,null,null,1,"owl-date-time",[],null,null,null,N.b,N.a)),t["\u0275did"](45,245760,[["dt5",4]],0,M.d,[L.b,t.ViewContainerRef,M.v,t.NgZone,t.ChangeDetectorRef,[2,M.a],M.o,[2,M.b],[2,y.DOCUMENT]],{pickerType:[0,"pickerType"]},null),(e()(),t["\u0275eld"](46,0,null,null,1,":svg:svg",[["class","cal-icon"],["ibmIconCalendar20",""]],null,null,null,null,null)),t["\u0275did"](47,4210688,null,0,A.a,[t.ElementRef],null,null),(e()(),t["\u0275eld"](48,0,null,null,2,"div",[["style","align-self:flex-start;"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,ae)),t["\u0275did"](50,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](51,0,null,null,2,"div",[["class","chart-cont grouped-line-chart"],["id","line-chart"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,oe)),t["\u0275did"](53,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,l){var n=l.component;e(l,9,0,t["\u0275inlineInterpolate"](1,"","Choose",""),"single",!n.kpiData,"true","content"),e(l,12,0,n.captureFreqItems),e(l,20,0,t["\u0275nov"](l,28)),e(l,23,0,!n.kpiData,n.selectedStartDate),e(l,26,0,t["\u0275nov"](l,28),!n.kpiData),e(l,28,0,"calendar"),e(l,37,0,t["\u0275nov"](l,45)),e(l,40,0,!n.kpiData,n.selectedEndDate),e(l,43,0,t["\u0275nov"](l,45),!n.kpiData),e(l,45,0,"calendar"),e(l,50,0,n.kpiData),e(l,53,0,n.kpiData)},function(e,l){e(l,7,0,t["\u0275nov"](l,9).hostClass),e(l,17,1,[t["\u0275nov"](l,18).inputClass,t["\u0275nov"](l,18).invalid,t["\u0275nov"](l,18).skeleton,t["\u0275nov"](l,18).isLightTheme,t["\u0275nov"](l,20).owlDateTimeInputAriaHaspopup,t["\u0275nov"](l,20).owlDateTimeInputAriaOwns,t["\u0275nov"](l,20).minIso8601,t["\u0275nov"](l,20).maxIso8601,t["\u0275nov"](l,20).owlDateTimeInputDisabled,t["\u0275nov"](l,25).ngClassUntouched,t["\u0275nov"](l,25).ngClassTouched,t["\u0275nov"](l,25).ngClassPristine,t["\u0275nov"](l,25).ngClassDirty,t["\u0275nov"](l,25).ngClassValid,t["\u0275nov"](l,25).ngClassInvalid,t["\u0275nov"](l,25).ngClassPending,t["\u0275nov"](l,26).owlDTTriggerDisabledClass]),e(l,34,1,[t["\u0275nov"](l,35).inputClass,t["\u0275nov"](l,35).invalid,t["\u0275nov"](l,35).skeleton,t["\u0275nov"](l,35).isLightTheme,t["\u0275nov"](l,37).owlDateTimeInputAriaHaspopup,t["\u0275nov"](l,37).owlDateTimeInputAriaOwns,t["\u0275nov"](l,37).minIso8601,t["\u0275nov"](l,37).maxIso8601,t["\u0275nov"](l,37).owlDateTimeInputDisabled,t["\u0275nov"](l,42).ngClassUntouched,t["\u0275nov"](l,42).ngClassTouched,t["\u0275nov"](l,42).ngClassPristine,t["\u0275nov"](l,42).ngClassDirty,t["\u0275nov"](l,42).ngClassValid,t["\u0275nov"](l,42).ngClassInvalid,t["\u0275nov"](l,42).ngClassPending,t["\u0275nov"](l,43).owlDTTriggerDisabledClass])})}function se(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"div",[["style","display: flex; height: 100%;"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"span",[["style","margin: auto;"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Nothing to display"]))],null,null)}function ue(e){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{kpiDropdown:0}),t["\u0275qud"](671088640,2,{kpiDropdownCurrentKPI:0}),(e()(),t["\u0275and"](16777216,null,null,1,null,Q)),t["\u0275did"](3,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](4,0,null,null,58,"div",[["class","container"]],null,null,null,null,null)),(e()(),t["\u0275eld"](5,0,null,null,57,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](6,16384,null,0,i.b,[],null,null),(e()(),t["\u0275and"](16777216,null,null,1,null,W)),t["\u0275did"](8,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](9,0,null,null,36,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](10,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](11,0,null,null,11,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](12,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](13,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](14,0,null,null,8,"label",[["class","bx--label"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["Financial year "])),(e()(),t["\u0275eld"](16,0,null,null,6,"ibm-dropdown",[["class","margin-top-dropdown-label"],["placeholder","Select Year"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(e,l,n){var i=!0,a=e.component;return"keydown"===l&&(i=!1!==t["\u0275nov"](e,18).onKeyDown(n)&&i),"selected"===l&&(i=!1!==a.onFinancialYearSelected(n)&&i),i},a.b,a.a)),t["\u0275prd"](5120,null,o.NG_VALUE_ACCESSOR,function(e){return[e]},[r.a]),t["\u0275did"](18,1294336,null,1,r.a,[t.ElementRef,s.a,u.a],{placeholder:[0,"placeholder"],type:[1,"type"],disabled:[2,"disabled"]},{selected:"selected"}),t["\u0275qud"](335544320,5,{view:0}),(e()(),t["\u0275eld"](20,0,null,0,2,"ibm-dropdown-list",[],null,null,null,d.b,d.a)),t["\u0275did"](21,4374528,null,0,c.a,[t.ElementRef,s.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[5,4]],p.a,null,[c.a]),(e()(),t["\u0275eld"](23,0,null,null,8,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](24,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](25,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](26,0,null,null,5,"label",[["class","user-search-combo-box"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" Select KPI to link extension "])),(e()(),t["\u0275and"](16777216,null,null,1,null,$)),t["\u0275did"](29,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](30,0,null,null,1,"app-e4-combo-box",[["placeholder","Search KPIs"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,l,n){var t=!0,i=e.component;return"onSearch"===l&&(t=!1!==i.searchKpisByDateRange(n)&&t),"onSelect"===l&&(t=!1!==i.selectKPItoLink(n)&&t),t},F.b,F.a)),t["\u0275did"](31,4964352,[[1,4],["kpiDropdown",4]],0,E.a,[t.ElementRef],{items:[0,"items"],isDisable:[1,"isDisable"],placeholder:[2,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"}),(e()(),t["\u0275eld"](32,0,null,null,7,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](33,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](34,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](35,0,null,null,4,"button",[["class","button-goal"],["ibmButton","danger"],["type","button"]],[[8,"disabled",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onClickLinkUnlink(!0)&&t),t},null,null)),t["\u0275did"](36,16384,null,0,T.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),t["\u0275ted"](-1,null,[" Link KPI "])),(e()(),t["\u0275eld"](38,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),t["\u0275did"](39,4210688,null,0,R.a,[t.ElementRef],null,null),(e()(),t["\u0275eld"](40,0,null,null,5,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](41,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](42,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](43,0,null,null,2,"button",[["class","button-goal"],["ibmButton","secondary"],["type","button"]],[[8,"disabled",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onClickLinkUnlink(!1)&&t),t},null,null)),t["\u0275did"](44,16384,null,0,T.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),t["\u0275ted"](-1,null,[" Unlink Current KPI "])),(e()(),t["\u0275eld"](46,0,null,null,16,"div",[["class","margin-top-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](47,16384,null,0,i.c,[],null,null),(e()(),t["\u0275eld"](48,0,null,null,7,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](49,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](50,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](51,16777216,null,null,4,"ag-grid-angular",[["class","ag-theme-alpine c-ag-grid"],["rowSelection","multiple"]],null,[[null,"gridReady"],[null,"selectionChanged"]],function(e,l,n){var t=!0,i=e.component;return"gridReady"===l&&(t=!1!==i.onGridReady(n)&&t),"selectionChanged"===l&&(t=!1!==i.onSelectionChanged()&&t),t},_.b,_.a)),t["\u0275prd"](512,null,K.e,K.e,[t.NgZone]),t["\u0275prd"](512,null,K.d,K.d,[]),t["\u0275did"](54,4898816,null,1,K.a,[t.ElementRef,t.ViewContainerRef,K.e,K.d,t.ComponentFactoryResolver],{gridOptions:[0,"gridOptions"],modules:[1,"modules"],columnDefs:[2,"columnDefs"],components:[3,"components"],rowData:[4,"rowData"],rowSelection:[5,"rowSelection"]},{gridReady:"gridReady",selectionChanged:"selectionChanged"}),t["\u0275qud"](603979776,6,{columns:1}),(e()(),t["\u0275eld"](56,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](57,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](58,{lg:0,md:1,sm:2}),(e()(),t["\u0275eld"](59,0,null,null,3,"div",[["class","chart-dim padding-16"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,re)),t["\u0275did"](61,16384,null,0,y.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),t["\u0275and"](0,[["placeholder",2]],null,0,null,se))],function(e,l){var n=l.component;e(l,3,0,!n.kpiDataInput),e(l,8,0,!n.kpiDataInput);var i=e(l,13,0,2,2,12);e(l,12,0,i),e(l,18,0,"Select Year","single",!n.kpiData),e(l,21,0,n.yearList);var a=e(l,25,0,6,6,12);e(l,24,0,a),e(l,29,0,n.kpiData&&n.selectedFinancialYear),e(l,31,0,n.kpiItems,!n.selectedFinancialYearCurrentKPI||!n.selectedFinancialYear||!n.kpiData,"Search KPIs");var o=e(l,34,0,2,2,12);e(l,33,0,o),e(l,36,0,"danger");var r=e(l,42,0,2,2,12);e(l,41,0,r),e(l,44,0,"secondary");var s=e(l,50,0,6,6,12);e(l,49,0,s),e(l,54,0,n.gridOptions,n.modules,n.columnDefs,n.agGridComponents,n.extendedKPIList,"multiple");var u=e(l,58,0,6,6,12);e(l,57,0,u),e(l,61,0,n.kpiData,t["\u0275nov"](l,62))},function(e,l){var n=l.component;e(l,5,0,t["\u0275nov"](l,6).baseClass),e(l,9,0,t["\u0275nov"](l,10).baseClass),e(l,11,0,t["\u0275nov"](l,12).columnClasses),e(l,16,0,t["\u0275nov"](l,18).hostClass),e(l,23,0,t["\u0275nov"](l,24).columnClasses),e(l,32,0,t["\u0275nov"](l,33).columnClasses),e(l,35,1,[!n.isApproved(n.kpiData)||!n.selectedKPItoLink,t["\u0275nov"](l,36).baseClass,t["\u0275nov"](l,36).primaryButton,t["\u0275nov"](l,36).secondaryButton,t["\u0275nov"](l,36).tertiaryButton,t["\u0275nov"](l,36).ghostButton,t["\u0275nov"](l,36).dangerButton,t["\u0275nov"](l,36).dangerPrimaryButton,t["\u0275nov"](l,36).skeleton,t["\u0275nov"](l,36).smallSize,t["\u0275nov"](l,36).toolbarAction,t["\u0275nov"](l,36).overflowMenu]),e(l,40,0,t["\u0275nov"](l,41).columnClasses),e(l,43,1,[!n.isApproved(n.kpiData)||!(null!=n.extendedKPIList&&n.extendedKPIList.length),t["\u0275nov"](l,44).baseClass,t["\u0275nov"](l,44).primaryButton,t["\u0275nov"](l,44).secondaryButton,t["\u0275nov"](l,44).tertiaryButton,t["\u0275nov"](l,44).ghostButton,t["\u0275nov"](l,44).dangerButton,t["\u0275nov"](l,44).dangerPrimaryButton,t["\u0275nov"](l,44).skeleton,t["\u0275nov"](l,44).smallSize,t["\u0275nov"](l,44).toolbarAction,t["\u0275nov"](l,44).overflowMenu]),e(l,46,0,t["\u0275nov"](l,47).baseClass),e(l,48,0,t["\u0275nov"](l,49).columnClasses),e(l,56,0,t["\u0275nov"](l,57).columnClasses)})}function de(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"app-link-kpi-yoy",[],null,null,null,ue,j)),t["\u0275did"](1,245760,null,0,U.a,[Y.a,V.a,G.a,I.a,B.a,z.j,q.a,H.a],null,null)],function(e,l){e(l,1,0)},null)}var ce=t["\u0275ccf"]("app-link-kpi-yoy",U.a,de,{kpiDataInput:"kpiDataInput"},{},[])},yztW:function(e,l,n){"use strict";n.d(l,"a",function(){return t});class t{}},zopQ:function(e,l,n){"use strict";n.d(l,"a",function(){return t});class t{}}}]);