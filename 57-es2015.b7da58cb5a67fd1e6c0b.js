(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{OJuz:function(e,t,n){"use strict";n.r(t);var r,o,i=n("8Y7J"),a=n("Y7sv"),s=n("sspt"),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.parentCache=n,o.params=r,o.startRow=t*r.blockSize,o.endRow=o.startRow+r.blockSize,o}return l(t,e),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,t,n){a.mb.exists(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,t=this.createLoadParams();a.mb.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(t)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},t.prototype.forEachNode=function(e,t,n){var r=this;this.rowNodes.forEach(function(o,i){r.startRow+i<n&&e(o,t.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,t){return void 0===t&&(t=!1),t||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var t=this.startRow+e,n=this.getContext().createBean(new a.Z);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(t),n.setRowTop(this.params.rowHeight*t),this.rowNodes.push(n)}},t.prototype.processServerResult=function(e){var t=this;this.rowNodes.forEach(function(n,r){t.setDataAndId(n,e.rowData?e.rowData[r]:void 0,t.startRow+r)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},u([a.S],t.prototype,"postConstruct",null),u([a.U],t.prototype,"destroyRowNodes",null),t}(a.ab),p=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=function(e){function t(t){var n=e.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=t.initialRowCount,n.params=t,n}return p(t,e),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,t){void 0===t&&(t=!1);var n=Math.floor(e/this.params.blockSize),r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)},t.prototype.createBlock=function(e){var t=this.createBean(new c(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(e){return e.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(t){return e.destroyBlock(t)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,t){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+t),this.checkRowCount(e,t),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,r=this.getBlocksInOrder().filter(function(t){return t!=e});r.sort(function(e,t){return t.getLastAccessed()-e.getLastAccessed()});var o=this.params.maxBlocksInCache>0,i=o?this.params.maxBlocksInCache-1:null,a=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach(function(e,t){if(e.getState()===c.STATE_WAITING_TO_LOAD&&t>=a||o&&t>=i){if(n.isBlockCurrentlyDisplayed(e))return;if(n.isBlockFocused(e))return;n.removeBlockFromCache(e)}})},t.prototype.isBlockFocused=function(e){var t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;var n=e.getStartRow(),r=e.getEndRow();return t.rowIndex>=n&&t.rowIndex<r},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=e.getStartRow(),n=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,n)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,t){if("number"==typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}},t.prototype.setRowCount=function(e,t){this.rowCount=e,a.mb.exists(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var t=this,n=new a.N;this.getBlocksInOrder().forEach(function(r){return r.forEachNode(e,n,t.rowCount)})},t.prototype.getBlocksInOrder=function(){return a.mb.getAllValuesInObject(this.blocks).sort(function(e,t){return e.getId()-t.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:a.C.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.getBlocksInOrder().forEach(function(n){n.getId()*e.params.blockSize>=e.rowCount&&t.push(n)}),t.length>0&&t.forEach(function(t){return e.destroyBlock(t)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(t){return e.removeBlockFromCache(t)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,t){var n=this,r=[],o=-1,i=!1,s=new a.N;a.mb.missing(e)&&(i=!0);var l=!1;return this.getBlocksInOrder().forEach(function(a){l||(i&&o+1!==a.getId()?l=!0:(o=a.getId(),a.forEachNode(function(n){var o=n===e||n===t;(i||o)&&r.push(n),o&&(i=!i)},s,n.rowCount)))}),l||i?[]:r},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,d([Object(a.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),d([Object(a.k)("focusService")],t.prototype,"focusService",void 0),d([(0,n=Object(a.W)("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),d([a.U],t.prototype,"destroyAllBlocks",null),t;var n}(a.n),f=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,t,n,r){return!1},t.prototype.init=function(){var e=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&a.mb.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.DefaultGroupOrderComparator")},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,a.C.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!a.mb.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return a.x.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]},t.prototype.reset=function(){if(this.datasource){a.mb.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionService.reset(),this.resetCache();var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}},t.prototype.createModelUpdatedEvent=function(){return{type:a.C.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache();var e=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:this.defaultIfInvalid(e,2),initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new a.N},this.infiniteCache=this.createBean(new h(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,t){return e>0?e:t},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var t=void 0;return this.forEachNode(function(n){n.id===e&&(t=n)}),t},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)},g([Object(a.k)("filterManager")],t.prototype,"filterManager",void 0),g([Object(a.k)("sortController")],t.prototype,"sortController",void 0),g([Object(a.k)("selectionService")],t.prototype,"selectionService",void 0),g([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),g([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),g([Object(a.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),g([Object(a.k)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),g([a.S],t.prototype,"init",null),g([a.U],t.prototype,"destroyDatasource",null),g([Object(a.m)("rowModel")],t)}(a.n),y={moduleName:a.L.InfiniteRowModelModule,rowModels:{infinite:m}},v=function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?e+"."+t:e},e.prototype.getMergedParamsAndData=function(e){var t=this.mergeDefaultParams(e);return{mergedParams:t,data:this.beans.gridSerializer.serialize(this.createSerializingSession(t),t)}},e.prototype.mergeDefaultParams=function(e){var t=this.getDefaultExportParams(),n={};return a.mb.assign(n,t),a.mb.assign(n,e),n},e}(),b=function(){function e(e){this.groupColumns=[];var t=e.valueService,n=e.gridOptionsWrapper,r=e.processCellCallback,o=e.processHeaderCallback,i=e.processGroupHeaderCallback,a=e.processRowGroupCallback;this.columnModel=e.columnModel,this.valueService=t,this.gridOptionsWrapper=n,this.processCellCallback=r,this.processHeaderCallback=o,this.processGroupHeaderCallback=i,this.processRowGroupCallback=a}return e.prototype.prepare=function(e){this.groupColumns=a.mb.filter(e,function(e){return!!e.getColDef().showRowGroup})},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,n,r,o){var i,a=this.gridOptionsWrapper.isGroupMultiAutoColumn()?o.rowGroupIndex:0;i=o&&o.group&&(t===a&&-1!==this.groupColumns.indexOf(e)||0===t&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(o):this.valueService.getValue(e,o);var s=this.processCell(n,o,e,i,this.processCellCallback,r);return null!=s?s:""},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var t=[e.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;e.parent;)t.push((e=e.parent).key);return t.reverse().join(" -> ")},e.prototype.processCell=function(e,t,n,r,o,i){return o?o({accumulatedRowIndex:e,column:n,node:t,value:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:i}):null!=r?r:""},e}(),C=function(){function e(){}return e.download=function(e,t){var n=document.defaultView||window;if(n)if(n.navigator.msSaveOrOpenBlob)n.navigator.msSaveOrOpenBlob(t,e);else{var r=document.createElement("a"),o=n.URL.createObjectURL(t);r.setAttribute("href",o),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(r),n.setTimeout(function(){n.URL.revokeObjectURL(o)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},e}(),w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(e){function t(t){var n=e.call(this,t)||this;n.isFirstLine=!0,n.result="";var r=t.columnSeparator;return n.suppressQuotes=t.suppressQuotes,n.columnSeparator=r,n}return w(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(e){t.beginNewLine(),e.forEach(function(e,n){0!==n&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(n)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,t,a.x.EXPORT_TYPE_CSV,n))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"');var t},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(b),x=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getDefaultExportParams=function(){return this.gridOptionsWrapper.getDefaultExportParams("csv")},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParamsAndData(e),n=t.mergedParams,r=t.data,o=new Blob(["\ufeff",r],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"});return C.download(this.getFileName(n.fileName),o),r},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){return this.getMergedParamsAndData(e).data},t.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){return new O({columnModel:this.columnModel,valueService:this.valueService,gridOptionsWrapper:this.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},S([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),S([Object(a.k)("valueService")],t.prototype,"valueService",void 0),S([Object(a.k)("gridSerializer")],t.prototype,"gridSerializer",void 0),S([Object(a.k)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),S([a.S],t.prototype,"postConstruct",null),S([Object(a.m)("csvCreator")],t)}(v),_=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(o||(o={}));var T,A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var n=this.getColumnsToExport(t.allColumns,t.columnKeys);return a.mb.compose(this.prepareSession(n),this.prependContent(t),this.exportColumnGroups(t,n),this.exportHeaders(t,n),this.processPinnedTopRows(t,n),this.processRows(t,n),this.processPinnedBottomRows(t,n),this.appendContent(t))(e).parse()},t.prototype.processRow=function(e,t,n,r){var o=t.shouldRowBeSkipped||function(){return!1},i=this.gridOptionsWrapper,s=i.getContext(),l=i.getApi(),u=i.getColumnApi(),c=i.isGroupRemoveSingleChildren(),p=i.isGroupHideOpenParents(),d=i.isGroupRemoveLowestSingleChildren(),h=this.columnModel.isPivotMode()?r.leafGroup:!r.group,f=1===r.allChildrenCount&&(c||d&&r.leafGroup);if((t.skipGroups||t.skipRowGroups)&&t.skipGroups&&a.mb.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!h&&(t.skipRowGroups||f||p)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&"top"===r.rowPinned||t.skipPinnedBottom&&"bottom"===r.rowPinned)&&(-1!==r.level||r.leafGroup)&&!o({node:r,api:l,context:s})){var g=e.onNewBodyRow();if(n.forEach(function(e,t){g.onColumn(e,t,r)}),t.getCustomContentBelowRow){var m=t.getCustomContentBelowRow({node:r,api:l,columnApi:u,context:s});m&&e.addCustomContent(m)}}},t.prototype.appendContent=function(e){return function(t){var n=e.customFooter||e.appendContent;return n&&(e.customFooter&&a.mb.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),t.addCustomContent(n)),t}},t.prototype.prependContent=function(e){return function(t){var n=e.customHeader||e.prependContent;return n&&(e.customHeader&&a.mb.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),t.addCustomContent(n)),t}},t.prototype.prepareSession=function(e){return function(t){return t.prepare(e),t}},t.prototype.exportColumnGroups=function(e,t){var n=this;return function(r){if(e.skipColumnGroupHeaders)e.columnGroups&&a.mb.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var o=new a.H,i=n.displayedGroupCreator.createDisplayedGroups(t,n.columnModel.getGridBalancedTree(),o,null);n.recursivelyAddHeaderGroups(i,r,e.processGroupHeaderCallback)}return r}},t.prototype.exportHeaders=function(e,t){return function(n){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&a.mb.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var r=n.onNewHeaderRow();t.forEach(function(e,t){r.onColumn(e,t,void 0)})}return n}},t.prototype.processPinnedTopRows=function(e,t){var n=this;return function(r){var o=n.processRow.bind(n,r,e,t);return n.pinnedRowModel.forEachPinnedTopRow(o),r}},t.prototype.processRows=function(e,t){var n=this;return function(r){var o=n.rowModel,i=o.getType(),s=i===a.x.ROW_MODEL_TYPE_CLIENT_SIDE,l=i===a.x.ROW_MODEL_TYPE_SERVER_SIDE,u=!s&&e.onlySelected,c=n.processRow.bind(n,r,e,t);return n.columnModel.isPivotMode()?s?o.forEachPivotNode(c):o.forEachNode(c):e.onlySelectedAllPages||u?n.selectionService.getSelectedNodes().forEach(c):s?o.forEachNodeAfterFilterAndSort(c):l?o.forEachNodeAfterFilterAndSort(c):o.forEachNode(c),r}},t.prototype.processPinnedBottomRows=function(e,t){var n=this;return function(r){var o=n.processRow.bind(n,r,e,t);return n.pinnedRowModel.forEachPinnedBottomRow(o),r}},t.prototype.getColumnsToExport=function(e,t){void 0===e&&(e=!1);var n=this.columnModel.isPivotMode();return t&&t.length?this.columnModel.getGridColumns(t):e&&!n?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([a.x.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,t,n){var r=[];e.forEach(function(e){e.getChildren&&e.getChildren().forEach(function(e){return r.push(e)})}),e.length>0&&e[0]instanceof a.u&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)},t.prototype.doAddHeaderHeader=function(e,t,n){var r=this,o=e.onNewHeaderGroupingRow(),i=0;t.forEach(function(e){var t,a=e;t=n?n({columnGroup:a,api:r.gridOptionsWrapper.getApi(),columnApi:r.gridOptionsWrapper.getColumnApi(),context:r.gridOptionsWrapper.getContext()}):r.columnModel.getDisplayNameForColumnGroup(a,"header"),o.onColumn(t||"",i++,a.getLeafColumns().length-1)})},E([Object(a.k)("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),E([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),E([Object(a.k)("rowModel")],t.prototype,"rowModel",void 0),E([Object(a.k)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),E([Object(a.k)("selectionService")],t.prototype,"selectionService",void 0),E([Object(a.m)("gridSerializer")],t)}(a.n),M={moduleName:a.L.CsvExportModule,beans:[P,A]},D=function(){function e(){}return e.createHeader=function(e){void 0===e&&(e={});var t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),"<?xml "+t.map(function(t){return t+'="'+e[t]+'"'}).join(" ")+" ?>"},e.createXml=function(e,t){var n=this,r="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(e){Object.keys(e.map).forEach(function(o){r+=n.returnAttributeIfPopulated(e.prefix+o,e.map[o],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(o){r+=n.returnAttributeIfPopulated(o,e.properties.rawMap[o],t)}));var o="<"+e.name+r;return e.children||null!=e.textNode?null!=e.textNode?o+">"+e.textNode+"</"+e.name+">\r\n":(o+=">\r\n",e.children&&e.children.forEach(function(e){o+=n.createXml(e,t)}),o+"</"+e.name+">\r\n"):o+"/>\r\n"},e.returnAttributeIfPopulated=function(e,t,n){if(!t&&""!==t&&0!==t)return"";var r=t;return"boolean"==typeof t&&n&&(r=n(t))," "+e+'="'+r+'"'},e}(),k=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),R=function(){function e(){}return e.addFolders=function(e){e.forEach(this.addFolder.bind(this))},e.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1})},e.addFile=function(e,t,n){void 0===n&&(n=!1),this.files.push({path:e,created:new Date,content:t,isBase64:n})},e.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),n=this.buildUint8Array(t);return this.clearStream(),new Blob([n],{type:e})},e.clearStream=function(){this.folders=[],this.files=[]},e.buildFileStream=function(e){void 0===e&&(e="");for(var t=this.folders.concat(this.files),n=t.length,r="",o=0,i=0,a=0,s=t;a<s.length;a++){var l=this.getHeader(s[a],o),u=l.fileHeader,c=l.folderHeader,p=l.content;o+=u.length+p.length,i+=c.length,e+=u+p,r+=c}return e+r+this.buildFolderEnd(n,i,o)},e.getHeader=function(e,t){var n=e.content,r=e.path,o=e.created,i=e.isBase64,s=a.mb.decToHex,l=(0,a.mb.utf8_encode)(r),u=l!==r,c=this.convertTime(o),p=this.convertDate(o),d="";if(u){var h=s(1,1)+s(this.getFromCrc32Table(l),4)+l;d="up"+s(h.length,2)+h}var f=n?this.getConvertedContent(n,i):{size:0,content:""},g=f.size,m=f.content,y="\n\0"+(u?"\0\b":"\0\0")+"\0\0"+s(c,2)+s(p,2)+s(g?this.getFromCrc32Table(m):0,4)+s(g,4)+s(g,4)+s(l.length,2)+s(d.length,2);return{fileHeader:"PK\x03\x04"+y+l+d,folderHeader:"PK\x01\x02\x14\0"+y+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+s(t,4)+l+d,content:m||""}},e.getConvertedContent=function(e,t){return void 0===t&&(t=!1),t&&(e=e.split(";base64,")[1]),{size:(e=t?atob(e):e).length,content:e}},e.buildFolderEnd=function(e,t,n){var r=a.mb.decToHex;return"PK\x05\x06\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+"\0\0"},e.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t},e.getFromCrc32Table=function(e){if(!e.length)return 0;for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);var o=-1;for(r=0;r<t;r++)o=o>>>8^k[255&(o^n[r])];return-1^o},e.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),(t<<=5)|e.getSeconds()/2},e.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,(t<<=5)|e.getDate()},e.folders=[],e.files=[],e}(),I=[s.a,y,M],N=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.watermarkMessage=void 0,t}var n;return N(t,e),n=t,t.prototype.validateLicense=function(){if(a.mb.missingOrEmpty(n.licenseKey))this.outputMissingLicenseKey();else if(n.licenseKey.length>32){var e=n.extractLicenseComponents(n.licenseKey),t=e.license,r=e.version,o=e.isTrial;e.md5===this.md5.md5(t)?a.mb.exists(r)&&r?this.validateLicenseKeyForVersion(r,!!o,t):this.validateLegacyKey(t):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(e){var t=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(n.decode(t),10))},t.extractLicenseComponents=function(e){var t=e.replace(/[\u200B-\u200D\uFEFF]/g,""),r=(t=t.replace(/\r?\n|\r/g,"")).length-32,o=t.substring(r),i=t.substring(0,r),a=n.extractBracketedInformation(t);return{md5:o,license:i,version:a[0],isTrial:a[1]}},t.prototype.getLicenseDetails=function(e){var t=n.extractLicenseComponents(e),r=t.license,o=t.version,i=t.isTrial,a=t.md5===this.md5.md5(r),s=null;return a&&(s=n.extractExpiry(r),a=!isNaN(s.getTime())),{licenseKey:e,valid:a,expiry:a?n.formatDate(s):null,version:o||"legacy",isTrial:i}},t.prototype.isDisplayWatermark=function(){return!a.mb.missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.formatDate=function(e){var t=e.getDate(),n=e.getMonth(),r=e.getFullYear();return t+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+r},t.getGridReleaseDate=function(){return new Date(parseInt(n.decode(n.RELEASE_INFORMATION),10))},t.decode=function(e){for(var t,r,o,i,a,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0,p=e.replace(/[^A-Za-z0-9+/=]/g,"");c<p.length;)o=l.indexOf(p.charAt(c++)),t=(15&(i=l.indexOf(p.charAt(c++))))<<4|(a=l.indexOf(p.charAt(c++)))>>2,r=(3&a)<<6|(s=l.indexOf(p.charAt(c++))),u+=String.fromCharCode(o<<2|i>>4),64!=a&&(u+=String.fromCharCode(t)),64!=s&&(u+=String.fromCharCode(r));return n.utf8_decode(u)},t.utf8_decode=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},t.setLicenseKey=function(e){n.licenseKey=e},t.extractBracketedInformation=function(e){var t=e.split("[").filter(function(e){return e.indexOf("]")>-1}).map(function(e){return e.split("]")[0]});if(!t||0===t.length)return[null,null];var n=1===t.filter(function(e){return"TRIAL"===e}).length;return[t.filter(function(e){return 0===e.indexOf("v")}).map(function(e){return e.replace(/^v/,"")})[0],n]},t.prototype.validateLicenseKeyForVersion=function(e,t,n){"2"===e&&(t?this.validateForTrial(n):this.validateLegacyKey(n))},t.prototype.validateLegacyKey=function(e){var t=n.getGridReleaseDate(),r=n.extractExpiry(e),o=!1,i=!1;if(isNaN(r.getTime())||(o=!0,i=t<r),o){if(!i){var a=n.formatDate(r),s=n.formatDate(t);this.outputIncompatibleVersion(a,s)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(e){var t=n.extractExpiry(e),r=new Date,o=!1,i=!1;if(isNaN(t.getTime())||(o=!0,i=t>r),o){if(!i){var a=n.formatDate(t);this.outputExpiredTrialKey(a)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(e){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+e+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(e,t){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+e+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+t+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTYyODc2NTk1NDkwMA==",F([Object(a.k)("md5")],t.prototype,"md5",void 0),F([a.T],t.prototype,"validateLicense",null),n=F([Object(a.m)("licenseManager")],t)}(a.n),j=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ieCompatibility=!1,t}return j(t,e),t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];n=this.ff(n,r,o,i,t[0],7,-680876936),i=this.ff(i,n,r,o,t[1],12,-389564586),o=this.ff(o,i,n,r,t[2],17,606105819),r=this.ff(r,o,i,n,t[3],22,-1044525330),n=this.ff(n,r,o,i,t[4],7,-176418897),i=this.ff(i,n,r,o,t[5],12,1200080426),o=this.ff(o,i,n,r,t[6],17,-1473231341),r=this.ff(r,o,i,n,t[7],22,-45705983),n=this.ff(n,r,o,i,t[8],7,1770035416),i=this.ff(i,n,r,o,t[9],12,-1958414417),o=this.ff(o,i,n,r,t[10],17,-42063),r=this.ff(r,o,i,n,t[11],22,-1990404162),n=this.ff(n,r,o,i,t[12],7,1804603682),i=this.ff(i,n,r,o,t[13],12,-40341101),o=this.ff(o,i,n,r,t[14],17,-1502002290),r=this.ff(r,o,i,n,t[15],22,1236535329),n=this.gg(n,r,o,i,t[1],5,-165796510),i=this.gg(i,n,r,o,t[6],9,-1069501632),o=this.gg(o,i,n,r,t[11],14,643717713),r=this.gg(r,o,i,n,t[0],20,-373897302),n=this.gg(n,r,o,i,t[5],5,-701558691),i=this.gg(i,n,r,o,t[10],9,38016083),o=this.gg(o,i,n,r,t[15],14,-660478335),r=this.gg(r,o,i,n,t[4],20,-405537848),n=this.gg(n,r,o,i,t[9],5,568446438),i=this.gg(i,n,r,o,t[14],9,-1019803690),o=this.gg(o,i,n,r,t[3],14,-187363961),r=this.gg(r,o,i,n,t[8],20,1163531501),n=this.gg(n,r,o,i,t[13],5,-1444681467),i=this.gg(i,n,r,o,t[2],9,-51403784),o=this.gg(o,i,n,r,t[7],14,1735328473),r=this.gg(r,o,i,n,t[12],20,-1926607734),n=this.hh(n,r,o,i,t[5],4,-378558),i=this.hh(i,n,r,o,t[8],11,-2022574463),o=this.hh(o,i,n,r,t[11],16,1839030562),r=this.hh(r,o,i,n,t[14],23,-35309556),n=this.hh(n,r,o,i,t[1],4,-1530992060),i=this.hh(i,n,r,o,t[4],11,1272893353),o=this.hh(o,i,n,r,t[7],16,-155497632),r=this.hh(r,o,i,n,t[10],23,-1094730640),n=this.hh(n,r,o,i,t[13],4,681279174),i=this.hh(i,n,r,o,t[0],11,-358537222),o=this.hh(o,i,n,r,t[3],16,-722521979),r=this.hh(r,o,i,n,t[6],23,76029189),n=this.hh(n,r,o,i,t[9],4,-640364487),i=this.hh(i,n,r,o,t[12],11,-421815835),o=this.hh(o,i,n,r,t[15],16,530742520),r=this.hh(r,o,i,n,t[2],23,-995338651),n=this.ii(n,r,o,i,t[0],6,-198630844),i=this.ii(i,n,r,o,t[7],10,1126891415),o=this.ii(o,i,n,r,t[14],15,-1416354905),r=this.ii(r,o,i,n,t[5],21,-57434055),n=this.ii(n,r,o,i,t[12],6,1700485571),i=this.ii(i,n,r,o,t[3],10,-1894986606),o=this.ii(o,i,n,r,t[10],15,-1051523),r=this.ii(r,o,i,n,t[1],21,-2054922799),n=this.ii(n,r,o,i,t[8],6,1873313359),i=this.ii(i,n,r,o,t[15],10,-30611744),o=this.ii(o,i,n,r,t[6],15,-1560198380),r=this.ii(r,o,i,n,t[13],21,1309151649),n=this.ii(n,r,o,i,t[4],6,-145523070),i=this.ii(i,n,r,o,t[11],10,-1120210379),o=this.ii(o,i,n,r,t[2],15,718787259),r=this.ii(r,o,i,n,t[9],21,-343485551),e[0]=this.add32(n,e[0]),e[1]=this.add32(r,e[1]),e[2]=this.add32(o,e[2]),e[3]=this.add32(i,e[3])},t.prototype.cmn=function(e,t,n,r,o,i){return t=this.add32(this.add32(t,e),this.add32(r,i)),this.add32(t<<o|t>>>32-o,n)},t.prototype.ff=function(e,t,n,r,o,i,a){return this.cmn(t&n|~t&r,e,t,o,i,a)},t.prototype.gg=function(e,t,n,r,o,i,a){return this.cmn(t&r|n&~r,e,t,o,i,a)},t.prototype.hh=function(e,t,n,r,o,i,a){return this.cmn(t^n^r,e,t,o,i,a)},t.prototype.ii=function(e,t,n,r,o,i,a){return this.cmn(n^(t|~r),e,t,o,i,a)},t.prototype.md51=function(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)this.md5cycle(r,this.md5blk(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(this.md5cycle(r,o),t=0;t<16;t++)o[t]=0;return o[14]=8*n,this.md5cycle(r,o),r},t.prototype.md5blk=function(e){for(var t=[],n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t},t.prototype.rhex=function(e){for(var t="0123456789abcdef".split(""),n="",r=0;r<4;r++)n+=t[e>>8*r+4&15]+t[e>>8*r&15];return n},t.prototype.hex=function(e){for(var t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")},t.prototype.md5=function(e){return this.hex(this.md51(e))},t.prototype.add32=function(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)},t.prototype.add32Std=function(e,t){return e+t&4294967295},t.prototype.add32Compat=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},G([a.S],t.prototype,"init",null),G([Object(a.m)("md5")],t)}(a.n),B=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},z=function(e){function t(){return e.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return B(t,e),t.prototype.postConstruct=function(){var e=this,t=this.shouldDisplayWatermark();a.mb.addOrRemoveCssClass(this.getGui(),"ag-hidden",!t),t&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.addCssClass("ag-hidden")},5e3))},t.prototype.shouldDisplayWatermark=function(){var e=this.licenseManager.isDisplayWatermark(),t=null!=location.hostname.match("^127.0.0.1|localhost|www.ag-grid.com$");return!!location.pathname&&-1!==location.pathname.indexOf("forceWatermark")||e&&!t},W([Object(a.k)("licenseManager")],t.prototype,"licenseManager",void 0),W([Object(a.X)("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),W([a.S],t.prototype,"postConstruct",null),t}(a.v),U={moduleName:a.L.EnterpriseCoreModule,beans:[L,V],agStackComponents:[{componentName:"AgWatermark",componentClass:z}]},H=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.navigatorApiFailed=!1,t}return H(t,e),t.prototype.init=function(){var e=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===a.x.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(t){e.gridCtrl=t.gridCtrl})},t.prototype.pasteFromClipboard=function(){var e=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsWrapper.isSuppressClipboardApi()&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(t){a.mb.doOnce(function(){console.warn(t),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")},"clipboardApiError"),e.navigatorApiFailed=!0,e.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var e=this;this.executeOnTempElement(function(e){return e.focus({preventScroll:!0})},function(t){e.processClipboardData(t.value)})},t.prototype.processClipboardData=function(e){var t=this;if(null!=e){var n=a.mb.stringToArray(e,this.gridOptionsWrapper.getClipboardDeliminator()),r=this.gridOptionsWrapper.getProcessDataFromClipboardFunc();r&&(n=r({data:n})),null!=n&&(this.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&this.removeLastLineIfBlank(n),this.doPasteOperation(function(e,r,o,i){t.rangeService&&t.rangeService.isMoreThanOneCell()&&!t.hasOnlyOneValueToPaste(n)?t.pasteIntoActiveRange(n,e,r,i):t.pasteStartingFromFocusedCell(n,e,r,o,i)}))}},t.prototype.doPasteOperation=function(e){var t,n=this.gridOptionsWrapper.getApi(),r=this.gridOptionsWrapper.getColumnApi();if(this.eventService.dispatchEvent({type:a.C.EVENT_PASTE_START,api:n,columnApi:r,source:"clipboard"}),this.clientSideRowModel){var o=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();t=new a.p(o,this.clientSideRowModel.getRootNode())}var i={},s=[],l=this.focusService.getFocusedCell();e(i,s,l,t),t&&this.clientSideRowModel.doAggregate(t),this.rowRenderer.refreshCells(),this.dispatchFlashCells(i),this.fireRowChanged(s),l&&this.focusService.setFocusedCell(l.rowIndex,l.column,l.rowPinned,!0),this.eventService.dispatchEvent({type:a.C.EVENT_PASTE_END,api:n,columnApi:r,source:"clipboard"})},t.prototype.pasteIntoActiveRange=function(e,t,n,r){var o=this,i=this.getRangeSize()%e.length!=0,s=0,l=0;this.iterateActiveRanges(!1,function(u,c,p,d){if(d-s>=e.length){if(i)return;s+=l,l=0}var h=e[d-s];n.push(c);var f=o.gridOptionsWrapper.getProcessCellFromClipboardFunc();p.forEach(function(e,n){if(e.isCellEditable(c)&&!e.isSuppressPaste(c)){n>=h.length&&(n%=h.length);var i=o.processCell(c,e,h[n],a.x.EXPORT_TYPE_DRAG_COPY,f);o.valueService.setValue(c,e,i,a.x.SOURCE_PASTE),r&&r.addParentNode(c.parent,[e]);var s=o.cellPositionUtils.createIdFromValues(u.rowIndex,e,u.rowPinned);t[s]=!0}}),l++})},t.prototype.pasteStartingFromFocusedCell=function(e,t,n,r,o){if(r){var i={rowIndex:r.rowIndex,rowPinned:r.rowPinned},s=this.columnModel.getDisplayedColumnsStartingAt(r.column);this.isPasteSingleValueIntoRange(e)?this.pasteSingleValueIntoRange(e,n,t,o):this.pasteMultipleValues(e,i,n,s,t,a.x.EXPORT_TYPE_CLIPBOARD,o)}},t.prototype.isPasteSingleValueIntoRange=function(e){return this.hasOnlyOneValueToPaste(e)&&null!=this.rangeService&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(e,t,n,r){var o=this,i=e[0][0];this.iterateActiveRanges(!1,function(e,s,l){t.push(s),l.forEach(function(e){return o.updateCellValue(s,e,i,n,a.x.EXPORT_TYPE_CLIPBOARD,r)})})},t.prototype.hasOnlyOneValueToPaste=function(e){return 1===e.length&&1===e[0].length},t.prototype.copyRangeDown=function(){var e=this;if(this.rangeService&&!this.rangeService.isEmpty()){var t=[];this.doPasteOperation(function(n,r,o,i){var s=e.gridOptionsWrapper.getProcessCellForClipboardFunc(),l=e.gridOptionsWrapper.getProcessCellFromClipboardFunc();e.iterateActiveRanges(!0,function(o,u,c){t.length?(r.push(u),c.forEach(function(r,s){if(r.isCellEditable(u)&&!r.isSuppressPaste(u)){var c=e.processCell(u,r,t[s],a.x.EXPORT_TYPE_DRAG_COPY,l);e.valueService.setValue(u,r,c,a.x.SOURCE_PASTE),i&&i.addParentNode(u.parent,[r]);var p=e.cellPositionUtils.createIdFromValues(o.rowIndex,r,o.rowPinned);n[p]=!0}})):c.forEach(function(n){var r=e.processCell(u,n,e.valueService.getValue(n,u),a.x.EXPORT_TYPE_DRAG_COPY,s);t.push(r)})})})}},t.prototype.removeLastLineIfBlank=function(e){var t=a.mb.last(e);t&&1===t.length&&""===t[0]&&a.mb.removeFromArray(e,t)},t.prototype.fireRowChanged=function(e){var t=this;this.gridOptionsWrapper.isFullRowEdit()&&e.forEach(function(e){var n={type:a.C.EVENT_ROW_VALUE_CHANGED,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned,context:t.gridOptionsWrapper.getContext(),api:t.gridOptionsWrapper.getApi(),columnApi:t.gridOptionsWrapper.getColumnApi()};t.eventService.dispatchEvent(n)})},t.prototype.pasteMultipleValues=function(e,t,n,r,o,i,a){var s=this,l=t,u=null!=this.clientSideRowModel&&!this.gridOptionsWrapper.isTreeData();e.forEach(function(e){var t=function(){for(;;){if(!l)return null;var e=s.rowPositionUtils.getRowNode(l);if(l=s.cellNavigationService.getRowBelow({rowPinned:l.rowPinned,rowIndex:l.rowIndex}),null==e)return null;if(!(e.detail||e.footer||u&&e.group))return e}}();t&&(e.forEach(function(e,n){return s.updateCellValue(t,r[n],e,o,i,a)}),n.push(t))})},t.prototype.updateCellValue=function(e,t,n,r,o,i){if(e&&t&&t.isCellEditable(e)&&!t.isSuppressPaste(e)){var s=this.processCell(e,t,n,o,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());this.valueService.setValue(e,t,s,a.x.SOURCE_PASTE),r[this.cellPositionUtils.createIdFromValues(e.rowIndex,t,e.rowPinned)]=!0,i&&i.addParentNode(e.parent,[t])}},t.prototype.copyToClipboard=function(e){this.logger.log("copyToClipboard: includeHeaders = "+e),null==e&&(e=this.gridOptionsWrapper.isCopyHeadersToClipboard());var t=!this.selectionService.isEmpty()&&!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();this.rangeService&&this.rangeService.isMoreThanOneCell()?this.copySelectedRangeToClipboard(e):t?this.copySelectedRowsToClipboard(e):this.focusService.isAnyCellFocused()?this.copyFocusedCellToClipboard(e):this.copySelectedRangeToClipboard(e)},t.prototype.iterateActiveRanges=function(e,t,n){var r=this;if(this.rangeService&&!this.rangeService.isEmpty()){var o=this.rangeService.getCellRanges();e?this.iterateActiveRange(o[0],t,n,!0):o.forEach(function(e,i){return r.iterateActiveRange(e,t,n,i===o.length-1)})}},t.prototype.iterateActiveRange=function(e,t,n,r){if(this.rangeService){var o=this.rangeService.getRangeStartRow(e),i=this.rangeService.getRangeEndRow(e);n&&e.columns&&n(e.columns);for(var a=0,s=!1;!s&&null!=o;){var l=this.rowPositionUtils.getRowNode(o);s=this.rowPositionUtils.sameRow(o,i),t(o,l,e.columns,a++,s&&r),o=this.cellNavigationService.getRowBelow(o)}}},t.prototype.copySelectedRangeToClipboard=function(e){var t=this;if(void 0===e&&(e=!1),this.rangeService&&!this.rangeService.isEmpty()){var n=this.gridOptionsWrapper.getClipboardDeliminator(),r="",o={};this.iterateActiveRanges(!1,function(e,i,s,l,u){var c=t.gridOptionsWrapper.getProcessCellForClipboardFunc();s.forEach(function(s,l){var u=t.valueService.getValue(s,i),p=t.processCell(i,s,u,a.x.EXPORT_TYPE_CLIPBOARD,c);0!=l&&(r+=n),a.mb.exists(p)&&(r+=p);var d=t.cellPositionUtils.createIdFromValues(e.rowIndex,s,e.rowPinned);o[d]=!0}),u||(r+="\r\n")},function(o){if(e){var i=t.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),a=o.map(function(e){var n=t.columnModel.getDisplayNameForColumn(e,"clipboard",!0);return t.processHeader(e,n,i)||""});r+=a.join(n)+"\r\n"}}),this.copyDataToClipboard(r),this.dispatchFlashCells(o)}},t.prototype.copyFocusedCellToClipboard=function(e){var t;void 0===e&&(e=!1);var n=this.focusService.getFocusedCell();if(null!=n){var r,o=this.cellPositionUtils.createId(n),i=this.rowPositionUtils.getRowNode({rowPinned:n.rowPinned,rowIndex:n.rowIndex}),s=n.column,l=this.valueService.getValue(s,i),u=this.processCell(i,s,l,a.x.EXPORT_TYPE_CLIPBOARD,this.gridOptionsWrapper.getProcessCellForClipboardFunc());if(u=a.mb.missing(u)?"":u.toString(),e){var c=this.columnModel.getDisplayNameForColumn(s,"clipboard",!0);r=this.processHeader(s,c,this.gridOptionsWrapper.getProcessHeaderForClipboardFunc())+"\r\n"+u}else r=u;this.copyDataToClipboard(r),this.dispatchFlashCells(((t={})[o]=!0,t))}},t.prototype.dispatchFlashCells=function(e){var t=this;window.setTimeout(function(){t.eventService.dispatchEvent({type:a.C.EVENT_FLASH_CELLS,cells:e,api:t.gridApi,columnApi:t.columnApi})},0)},t.prototype.processCell=function(e,t,n,r,o){return o?o({column:t,node:e,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:r}):n},t.prototype.processHeader=function(e,t,n){return n?n({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):t},t.prototype.copySelectedRowsToClipboard=function(e,t){void 0===e&&(e=!1);var n={columnKeys:t,skipColumnHeaders:!e,suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDeliminator(),onlySelected:!0,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc()},r=this.csvCreator.getDataAsCsv(n);this.copyDataToClipboard(r)},t.prototype.copyDataToClipboard=function(e){var t=this,n=this.gridOptionsWrapper.getSendToClipboardFunc();n?n({data:e}):!this.gridOptionsWrapper.isSuppressClipboardApi()&&navigator.clipboard?navigator.clipboard.writeText(e).catch(function(n){a.mb.doOnce(function(){console.warn(n),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")},"clipboardApiError"),t.copyDataToClipboardLegacy(e)}):this.copyDataToClipboardLegacy(e)},t.prototype.copyDataToClipboardLegacy=function(e){var t=this;this.executeOnTempElement(function(n){var r=t.gridOptionsWrapper.getDocument().activeElement;n.value=e||" ",n.select(),n.focus({preventScroll:!0}),document.execCommand("copy")||console.warn("ag-grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=r&&null!=r.focus&&r.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(e,t){var n=this.gridOptionsWrapper.getDocument(),r=n.createElement("textarea");r.style.width="1px",r.style.height="1px",r.style.top=n.documentElement.scrollTop+"px",r.style.left=n.documentElement.scrollLeft+"px",r.style.position="absolute",r.style.opacity="0";var o=this.gridCtrl.getGui();o.appendChild(r);try{e(r)}catch(i){console.warn("ag-grid: Browser does not support document.execCommand('copy') for clipboard operations")}t?window.setTimeout(function(){t(r),o.removeChild(r)},100):o.removeChild(r)},t.prototype.getRangeSize=function(){var e=this.rangeService.getCellRanges(),t=0,n=0;return e.length>0&&(t=this.rangeService.getRangeStartRow(e[0]).rowIndex,n=this.rangeService.getRangeEndRow(e[0]).rowIndex),t-n+1},K([Object(a.k)("csvCreator")],t.prototype,"csvCreator",void 0),K([Object(a.k)("loggerFactory")],t.prototype,"loggerFactory",void 0),K([Object(a.k)("selectionService")],t.prototype,"selectionService",void 0),K([Object(a.O)("rangeService")],t.prototype,"rangeService",void 0),K([Object(a.k)("rowModel")],t.prototype,"rowModel",void 0),K([Object(a.k)("ctrlsService")],t.prototype,"ctrlsService",void 0),K([Object(a.k)("valueService")],t.prototype,"valueService",void 0),K([Object(a.k)("focusService")],t.prototype,"focusService",void 0),K([Object(a.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),K([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),K([Object(a.k)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),K([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),K([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),K([Object(a.k)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),K([Object(a.k)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),K([a.S],t.prototype,"init",null),K([Object(a.m)("clipboardService")],t)}(a.n),q={moduleName:a.L.ClipboardModule,beans:[X],dependantModules:[U,M]},Y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.INDETERMINATE=2]="INDETERMINATE"}(T||(T={}));var Q=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Y(t,e),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(t){t.keyCode===a.J.SPACE&&e.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(t("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(t("ariaFilterColumnsInput","Filter Columns Input"))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=a.mb.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=a.mb.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=a.mb.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(T.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,t=!this.params.suppressColumnSelectAll,n=!this.params.suppressColumnExpandAll,r=this.columnModel.isPrimaryColumnGroupsPresent(),o=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(o("searchOoo","Search...")),a.mb.setDisplayed(this.eFilterTextField.getGui(),e),a.mb.setDisplayed(this.eSelect.getGui(),t),a.mb.setDisplayed(this.eExpand,n&&r)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=a.mb.debounce(function(){var t=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:t})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){var n=this;a.mb.isKeyPressed(e,a.J.ENTER)&&setTimeout(function(){return n.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===T.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,a.mb.setDisplayed(this.eExpandChecked,this.expandState===T.EXPANDED),a.mb.setDisplayed(this.eExpandUnchecked,this.expandState===T.COLLAPSED),a.mb.setDisplayed(this.eExpandIndeterminate,this.expandState===T.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',J([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),J([Object(a.X)("eExpand")],t.prototype,"eExpand",void 0),J([Object(a.X)("eSelect")],t.prototype,"eSelect",void 0),J([Object(a.X)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),J([a.S],t.prototype,"postConstruct",null),t}(a.v),Z=function(){function e(e,t,n,r,o){void 0===r&&(r=!1),this.eventService=new a.B,this.displayName=e,this.dept=n,this.group=r,r?(this.columnGroup=t,this.expanded=o,this.children=[]):this.column=t}return e.prototype.isGroup=function(){return this.group},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.getColumnGroup=function(){return this.columnGroup},e.prototype.getColumn=function(){return this.column},e.prototype.getDept=function(){return this.dept},e.prototype.isExpanded=function(){return!!this.expanded},e.prototype.getChildren=function(){return this.children},e.prototype.isPassesFilter=function(){return this.passesFilter},e.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:e.EVENT_EXPANDED_CHANGED}))},e.prototype.setPassesFilter=function(e){this.passesFilter=e},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e}(),$=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},te=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.modelItem=t,i.allowDragging=n,i.eventType=r,i.focusWrapper=o,i.processingColumnStateChange=!1,i.modelItem=t,i.columnGroup=t.getColumnGroup(),i.columnDept=t.getDept(),i.allowDragging=n,i}return $(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.eDragHandle=a.mb.createIconNoSpan("columnDrag",this.gridOptionsWrapper),a.mb.addCssClass(this.eDragHandle,"ag-drag-handle"),a.mb.addCssClass(this.eDragHandle,"ag-column-select-column-group-drag-handle"),this.cbSelect.getGui().insertAdjacentElement("afterend",this.eDragHandle),this.displayName=this.columnModel.getDisplayNameForOriginalColumnGroup(null,this.columnGroup,this.eventType),a.mb.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,a.c.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,Z.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),a.y.addToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.getGui(),this.gridOptionsWrapper,null,this.columnGroup)},t.prototype.setupTooltip=function(){var e=this,t=this.columnGroup.getColGroupDef();if(t){var n=function(){e.setTooltip(t.headerTooltip)};n(),this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,n)}},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="columnToolPanelColumnGroup",t},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case a.J.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case a.J.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case a.J.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(t){e.addManagedListener(t,a.t.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,a.t.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,a.t.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,a.t.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var t={type:a.A.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(t)})}else a.mb.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(t){e[t.getId()]=t.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(a.mb.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(a.mb.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new a.ib(this.eColumnGroupIcons,!0);this.addManagedListener(e,a.ib.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],t=function(n){n.forEach(function(n){n.isPassesFilter()&&(n.isGroup()?t(n.getChildren()):e.push(n.getColumn()))})};return t(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),n=e("ariaColumnGroupToggleVisibility","column group toggle visibility");a.mb.setAriaLabel(this.focusWrapper,this.displayName+" "+n+" ("+t+")")},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),t=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(t),a.mb.addOrRemoveCssClass(this.getGui(),"ag-column-select-column-group-readonly",t),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,t=this.columnModel.isPivotMode(),n=this.getVisibleLeafColumns(),r=0,o=0;return n.forEach(function(n){!t&&n.getColDef().lockVisible||(e.isColumnChecked(n,t)?r++:o++)}),r>0&&o>0?void 0:r>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),t=0;return this.columnGroup.getLeafColumns().forEach(function(n){e?n.isAnyFunctionAllowed()&&t++:n.getColDef().lockVisible||t++}),0===t},t.prototype.isColumnChecked=function(e,t){if(t){var n=e.isPivotActive(),r=e.isRowGroupActive(),o=e.isValueActive();return n||r||o}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();a.mb.setDisplayed(this.eGroupClosedIcon,!e),a.mb.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){a.mb.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var t=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!t||!e&&t)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',ee([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),ee([Object(a.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ee([Object(a.k)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),ee([Object(a.X)("cbSelect")],t.prototype,"cbSelect",void 0),ee([Object(a.X)("eLabel")],t.prototype,"eLabel",void 0),ee([Object(a.X)("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),ee([Object(a.X)("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),ee([Object(a.X)("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),ee([a.S],t.prototype,"init",null),t}(a.v),ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},oe=function(e){function t(t,n,r,o,i){var a=e.call(this)||this;return a.column=t,a.columnDept=n,a.allowDragging=r,a.groupsExist=o,a.focusWrapper=i,a.processingColumnStateChange=!1,a}return ne(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.eDragHandle=a.mb.createIconNoSpan("columnDrag",this.gridOptionsWrapper),a.mb.addCssClass(this.eDragHandle,"ag-drag-handle"),a.mb.addCssClass(this.eDragHandle,"ag-column-select-column-drag-handle"),this.cbSelect.getGui().insertAdjacentElement("afterend",this.eDragHandle),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var e=a.mb.escapeString(this.displayName);this.eLabel.innerHTML=e;var n=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+n),this.setupDragging(),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,a.t.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,a.t.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,a.t.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,a.t.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,a.c.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),a.y.addToolPanelClassesFromColDef(this.column.getColDef(),this.getGui(),this.gridOptionsWrapper,this.column,null)},t.prototype.setupTooltip=function(){var e=this,t=function(){var t=e.column.getColDef().headerTooltip;e.setTooltip(t)};t(),this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,t)},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="columnToolPanelColumn",t.colDef=this.column.getColDef(),t},t.prototype.handleKeyDown=function(e){e.keyCode===a.J.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),n=e("ariaColumnToggleVisibility","column toggle visibility");a.mb.setAriaLabel(this.focusWrapper,this.displayName+" "+n+" ("+t+")")},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var t={type:a.A.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(t)})}else a.mb.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e,t=this.columnModel.isPivotMode();if(t){var n=this.column.isAnyFunctionActive();this.cbSelect.setValue(n)}else this.cbSelect.setValue(this.column.isVisible());if(t){var r=this.gridOptionsWrapper.isFunctionsReadOnly(),o=!this.column.isAnyFunctionAllowed();e=r||o}else e=!!this.column.getColDef().lockVisible;this.cbSelect.setReadOnly(e),a.mb.addOrRemoveCssClass(this.getGui(),"ag-column-select-column-readonly",e);var i=t&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(i),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("ag-grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',re([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),re([Object(a.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),re([Object(a.k)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),re([Object(a.X)("eLabel")],t.prototype,"eLabel",void 0),re([Object(a.X)("cbSelect")],t.prototype,"cbSelect",void 0),re([a.S],t.prototype,"init",null),t}(a.v),ie=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ae=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},se=function(){function e(e){this.items=e}return e.prototype.getRowCount=function(){return this.items.length},e.prototype.getRow=function(e){return this.items[e]},e}(),le=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.destroyColumnItemFuncs=[],n}return ie(t,e),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,t,n){var r=this;this.params=e,this.allowDragging=t,this.eventType=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[a.C.EVENT_COLUMN_PIVOT_CHANGED,a.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,a.C.EVENT_COLUMN_ROW_GROUP_CHANGED,a.C.EVENT_COLUMN_VALUE_CHANGED,a.C.EVENT_COLUMN_VISIBLE,a.C.EVENT_NEW_COLUMNS_LOADED].forEach(function(e){r.addManagedListener(r.eventService,e,r.fireSelectionChangedEvent.bind(r))}),this.expandGroupsByDefault=!this.params.contractColumnSelection,this.virtualList=this.createManagedBean(new a.lb("column-select","tree")),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(e,t){return r.createComponentFromItem(e,t)}),this.columnModel.isReady()&&this.onColumnsChanged()},t.prototype.createComponentFromItem=function(e,t){if(e.isGroup()){var n=new te(e,this.allowDragging,this.eventType,t);return this.getContext().createBean(n),n}var r=new oe(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,t);return this.getContext().createBean(r),r},t.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),t=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||t?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem(function(t){if(t.isGroup()){var n=t.getColumnGroup();n&&(e[n.getId()]=t.isExpanded())}}),e},t.prototype.setExpandedStates=function(e){this.allColsTree&&this.forEachItem(function(t){if(t.isGroup()){var n=t.getColumnGroup();if(n){var r=e[n.getId()];null!=r&&t.setExpanded(r)}}})},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var t=this.colDefService.createColumnTree(e);this.buildListModel(t),this.groupsExist=e.some(function(e){return e&&void 0!==e.children}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var t=this,n=this.onColumnExpanded.bind(this),r=function(e,t,n){e.forEach(function(e){e instanceof a.P?o(e,t,n):i(e,t,n)})},o=function(e,o,i){var a=e.getColGroupDef();if(!a||!a.suppressColumnsToolPanel)if(e.isPadding())r(e.getChildren(),o,i);else{var s=t.columnModel.getDisplayNameForOriginalColumnGroup(null,e,t.eventType),l=new Z(s,e,o,!0,t.expandGroupsByDefault);i.push(l),function(e){e.addEventListener(Z.EVENT_EXPANDED_CHANGED,n);var r=e.removeEventListener.bind(e,Z.EVENT_EXPANDED_CHANGED,n);t.destroyColumnItemFuncs.push(r)}(l),r(e.getChildren(),o+1,l.getChildren())}},i=function(e,n,r){if(!e.getColDef()||!e.getColDef().suppressColumnsToolPanel){var o=t.columnModel.getDisplayNameForColumn(e,"columnToolPanel");r.push(new Z(o,e,n))}};this.destroyColumnTree(),r(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var t=function(n){n.isPassesFilter()&&(e.displayedColsList.push(n),n.isGroup()&&n.isExpanded()&&n.getChildren().forEach(t))};this.allColsTree.forEach(t),this.virtualList.setModel(new se(this.displayedColsList));var n=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=n&&this.focusRowIfAlive(n),this.notifyListeners()},t.prototype.focusRowIfAlive=function(e){var t=this;window.setTimeout(function(){t.isAlive()&&t.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var t=function(n){n.forEach(function(n){e(n),n.isGroup()&&t(n.getChildren())})};t(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(t){t.isGroup()&&t.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,t){if(t){var n=[];this.forEachItem(function(r){if(r.isGroup()){var o=r.getColumnGroup().getId();t.indexOf(o)>=0&&(r.setExpanded(e),n.push(o))}});var r=t.filter(function(e){return!a.mb.includes(n,e)});r.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",r)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,t=0;return this.forEachItem(function(n){n.isGroup()&&(n.isExpanded()?e++:t++)}),e>0&&t>0?T.INDETERMINATE:t>0?T.COLLAPSED:T.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,t=0,n=this.columnModel.isPivotMode();if(this.forEachItem(function(r){if(!r.isGroup()&&r.isPassesFilter()){var o,i=r.getColumn(),a=i.getColDef();if(n){if(!i.isAllowPivot()&&!i.isAllowRowGroup()&&!i.isAllowValue())return;o=i.isValueActive()||i.isPivotActive()||i.isRowGroupActive()}else{if(a.lockVisible)return;o=i.isVisible()}o?e++:t++}}),!(e>0&&t>0))return!(0===e||t>0)},t.prototype.setFilterText=function(e){this.filterText=a.mb.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,t=function(t){if(!a.mb.exists(e.filterText))return!0;var n=t.getDisplayName();return null==n||-1!==n.toLowerCase().indexOf(e.filterText)},n=function(e,r){var o=!1;if(e.isGroup()){var i=t(e);e.getChildren().forEach(function(e){var t=n(e,i||r);t&&(o=t)})}var a=!(!r&&!o)||t(e);return e.setPassesFilter(a),a};this.allColsTree.forEach(function(e){return n(e,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.TEMPLATE='<div class="ag-column-select-list" role="tree"></div>',ae([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),ae([Object(a.k)("toolPanelColDefService")],t.prototype,"colDefService",void 0),ae([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),ae([Object(a.k)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),ae([a.U],t.prototype,"destroyColumnTree",null),t}(a.v),ue=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ce=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ue(t,e),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,a.c.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var t=this.gridOptionsWrapper.getApi();t&&t.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},ce([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),ce([Object(a.X)("cbPivotMode")],t.prototype,"cbPivotMode",void 0),ce([a.T],t.prototype,"init",null),t}(a.v),de=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),he=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.execute=function(e){var t=a.mb.missingOrEmpty(this.columnModel.getValueColumns()),n=!this.gridOptionsWrapper.getGroupRowAggNodesFunc(),r=e.changedPath&&e.changedPath.isActive();if(!(t&&n&&r)){var o=this.createAggDetails(e);this.recursivelyCreateAggData(o)}},t.prototype.createAggDetails=function(e){var t=this.columnModel.isPivotActive(),n=this.columnModel.getValueColumns(),r=t?this.columnModel.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:n,pivotColumns:r}},t.prototype.recursivelyCreateAggData=function(e){var t=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly(),e.changedPath.forEachChangedNodeDepthFirst(function(n){if(n.hasChildren()){if(-1===n.level){var r=!t.columnModel.isPivotMode();if(t.gridOptionsWrapper.isSuppressAggAtRootLevel()&&r)return}t.aggregateRowNode(n,e)}else n.aggData&&n.setAggData(null)},!0)},t.prototype.aggregateRowNode=function(e,t){var n,r=0===t.valueColumns.length,o=0===t.pivotColumns.length,i=this.gridOptionsWrapper.getGroupRowAggNodesFunc();n=i?i(e.childrenAfterFilter):r?null:o?this.aggregateRowNodeUsingValuesOnly(e,t):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(n),e.sibling&&e.sibling.setAggData(n)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var t=this,n={},r=this.pivotStage.getPivotColumnDefs();return r.filter(function(e){return!a.mb.exists(e.pivotTotalColumnIds)}).forEach(function(r){var o,i=r.pivotValueColumn,a=r.colId;o=e.leafGroup?t.getValuesFromMappedSet(e.childrenMapped,r.pivotKeys||[],i):t.getValuesPivotNonLeaf(e,a),n[a]=t.aggregateValues(o,i.getAggFunc(),i,e)}),r.filter(function(e){return a.mb.exists(e.pivotTotalColumnIds)}).forEach(function(r){var o=[],i=r.pivotValueColumn,a=r.pivotTotalColumnIds,s=r.colId;a&&a.length&&(a.forEach(function(e){o.push(n[e])}),n[s]=t.aggregateValues(o,i.getAggFunc(),i,e))}),n},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,t){var n=this,r={},o=t.changedPath.isActive()?t.changedPath.getValueColumnsForNode(e,t.valueColumns):t.valueColumns,i=t.changedPath.isActive()?t.changedPath.getNotValueColumnsForNode(e,t.valueColumns):null,a=this.getValuesNormal(e,o),s=e.aggData;return o.forEach(function(t,o){r[t.getId()]=n.aggregateValues(a[o],t.getAggFunc(),t,e)}),i&&s&&i.forEach(function(e){r[e.getId()]=s[e.getId()]}),r},t.prototype.getValuesPivotNonLeaf=function(e,t){var n=[];return e.childrenAfterFilter.forEach(function(e){n.push(e.aggData[t])}),n},t.prototype.getValuesFromMappedSet=function(e,t,n){var r=this,o=e;if(t.forEach(function(e){return o=o?o[e]:null}),!o)return[];var i=[];return o.forEach(function(e){var t=r.valueService.getValue(n,e);i.push(t)}),i},t.prototype.getValuesNormal=function(e,t){var n=[];t.forEach(function(){return n.push([])});for(var r=t.length,o=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,i=o.length,a=0;a<i;a++)for(var s=o[a],l=0;l<r;l++){var u=this.valueService.getValue(t[l],s);n[l].push(u)}return n},t.prototype.aggregateValues=function(e,t,n,r){var o="string"==typeof t?this.aggFuncService.getAggFunc(t):t;if("function"!=typeof o)return console.error("AG Grid: unrecognised aggregation function "+t),null;var i=function(){a.mb.doOnce(function(){console.warn("AG Grid: since v24.0, custom aggregation functions take a params object. Please alter your aggregation function to use params.values")},"aggregationStage.aggregateValues Deprecation")};return o({values:e,column:n,colDef:n?n.getColDef():void 0,rowNode:r,data:r?r.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),forEach:function(t,n){return i(),e.forEach(t,n)},get length(){return i(),e.length},set length(t){i(),e.length=t}})},he([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),he([Object(a.k)("valueService")],t.prototype,"valueService",void 0),he([Object(a.k)("pivotStage")],t.prototype,"pivotStage",void 0),he([Object(a.k)("aggFuncService")],t.prototype,"aggFuncService",void 0),he([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),he([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),he([Object(a.m)("aggregationStage")],t)}(a.n),ge=function(){function e(){this.allSets={},this.allParents=[]}return e.prototype.removeFromChildrenAfterGroup=function(e,t){this.getSet(e).removeFromChildrenAfterGroup[t.id]=!0},e.prototype.removeFromAllLeafChildren=function(e,t){this.getSet(e).removeFromAllLeafChildren[t.id]=!0},e.prototype.getSet=function(e){return this.allSets[e.id]||(this.allSets[e.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(e)),this.allSets[e.id]},e.prototype.getAllParents=function(){return this.allParents},e.prototype.flush=function(){var e=this;this.allParents.forEach(function(t){var n=e.allSets[t.id];t.childrenAfterGroup=t.childrenAfterGroup.filter(function(e){return!n.removeFromChildrenAfterGroup[e.id]}),t.allLeafChildren=t.allLeafChildren.filter(function(e){return!n.removeFromAllLeafChildren[e.id]}),t.updateHasChildren()}),this.allSets={},this.allParents.length=0},e}(),me=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ye=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.groupIdSequence=new a.N,t}return me(t,e),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},t.prototype.execute=function(e){var t=this.createGroupingDetails(e);t.transactions?this.handleTransaction(t):this.shotgunResetEverything(t,!0===e.afterColumnsChanged),this.sortGroupsWithComparator(t.rootNode),this.selectableService.updateSelectableAfterGrouping(t.rootNode)},t.prototype.createGroupingDetails=function(e){var t=e.rowNode,n=e.changedPath,r=e.rowNodeTransactions,o=e.rowNodeOrder,i=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:i,rootNode:t,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!i?0:i.length,rowNodeOrder:o,transactions:r,changedPath:n}},t.prototype.handleTransaction=function(e){var t=this;e.transactions.forEach(function(n){var r=t.usingTreeData?void 0:new ge;if(a.mb.existsAndNotEmpty(n.remove)&&t.removeNodes(n.remove,e,r),a.mb.existsAndNotEmpty(n.update)&&t.moveNodesInWrongPath(n.update,e,r),a.mb.existsAndNotEmpty(n.add)&&t.insertNodes(n.add,e,!1),r){var o=r.getAllParents().slice();r.flush(),t.removeEmptyGroups(o,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(t){a.mb.sortRowNodesByOrder(t.childrenAfterGroup,e.rowNodeOrder)})},t.prototype.sortGroupsWithComparator=function(e){if(!this.usingTreeData){var t=this.gridOptionsWrapper.getDefaultGroupOrderComparator();a.mb.exists(t)&&function e(n){a.mb.exists(n.childrenAfterGroup)&&!n.leafGroup&&(n.childrenAfterGroup.sort(t),n.childrenAfterGroup.forEach(function(t){return e(t)}))}(e)}},t.prototype.getExistingPathForNode=function(e,t){for(var n=[],r=this.usingTreeData?e:e.parent;r&&r!==t.rootNode;)n.push({key:r.key,rowGroupColumn:r.rowGroupColumn,field:r.field}),r=r.parent;return n.reverse(),n},t.prototype.moveNodesInWrongPath=function(e,t,n){var r=this;e.forEach(function(e){t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent);var o=function(e){return e.key},i=r.getExistingPathForNode(e,t).map(o),s=r.getGroupInfo(e,t).map(o);a.mb.areEqual(i,s)||r.moveNode(e,t,n)})},t.prototype.moveNode=function(e,t,n){this.removeNodesInStages([e],t,n),this.insertOneNode(e,t,!0),e.setData(e.data),t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent)},t.prototype.removeNodes=function(e,t,n){this.removeNodesInStages(e,t,n),t.changedPath.isActive()&&e.forEach(function(e){return t.changedPath.addParentNode(e.parent)})},t.prototype.removeNodesInStages=function(e,t,n){if(this.removeNodesFromParents(e,t,n),this.usingTreeData){this.postRemoveCreateFillerNodes(e,t);var r=e.map(function(e){return e.parent});this.removeEmptyGroups(r,t)}},t.prototype.forEachParentGroup=function(e,t,n){for(var r=t;r&&r!==e.rootNode;)n(r),r=r.parent},t.prototype.removeNodesFromParents=function(e,t,n){var r=this,o=null==n,i=n||new ge;e.forEach(function(e){r.removeFromParent(e,i),r.forEachParentGroup(t,e.parent,function(t){i.removeFromAllLeafChildren(t,e)})}),o&&i.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,t){var n=this;e.forEach(function(e){if(e.hasChildren()){var r=n.getExistingPathForNode(e,t),o=n.findParentForNode(e,r,t);o.expanded=e.expanded,o.allLeafChildren=e.allLeafChildren,o.childrenAfterGroup=e.childrenAfterGroup,o.childrenMapped=e.childrenMapped,o.updateHasChildren(),o.childrenAfterGroup.forEach(function(e){return e.parent=o})}})},t.prototype.removeEmptyGroups=function(e,t){for(var n=this,r=!0,o=function(){r=!1;var o=new ge;e.forEach(function(e){n.forEachParentGroup(t,e,function(e){(function(e){var t=n.getChildrenMappedKey(e.key,e.rowGroupColumn),r=e.parent;return!!(r&&r.childrenMapped&&r.childrenMapped[t]&&e.isEmptyRowGroupNode())})(e)&&(r=!0,n.removeFromParent(e,o),e.setSelected(!1))})}),o.flush()};r;)o()},t.prototype.removeFromParent=function(e,t){e.parent&&(t?t.removeFromChildrenAfterGroup(e.parent,e):(a.mb.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[n]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,t){var n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);t&&(t.childrenMapped&&(t.childrenMapped[n]=e),t.childrenAfterGroup.push(e),t.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,t){return null!=e&&null!=t&&e.pivotMode===t.pivotMode&&a.mb.areEqual(e.groupedCols,t.groupedCols)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var t=this,n=function(e){e&&e.forEach(function(e){!t.usingTreeData&&!e.group||(t.setGroupData(e,{field:e.field,key:e.key,rowGroupColumn:e.rowGroupColumn}),n(e.childrenAfterGroup))})};n(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,t){this.processAfterColumnsChanged(e,t)||(e.rootNode.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,e.rootNode.childrenAfterGroup=[],e.rootNode.childrenMapped={},e.rootNode.updateHasChildren(),this.insertNodes(e.rootNode.allLeafChildren,e,!1))},t.prototype.processAfterColumnsChanged=function(e,t){var n=!1,r=this.columnModel.getGroupDisplayColumns(),o=r?r.map(function(e){return e.getId()}).join("-"):"";return t&&(n=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==o&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=o,n},t.prototype.insertNodes=function(e,t,n){var r=this;e.forEach(function(e){r.insertOneNode(e,t,n),t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent)})},t.prototype.insertOneNode=function(e,t,n){var r=this.getGroupInfo(e,t),o=this.findParentForNode(e,r,t);o.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[o.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(o,e,n):(e.parent=o,e.level=r.length,o.childrenAfterGroup.push(e),o.updateHasChildren())},t.prototype.findParentForNode=function(e,t,n){var r=this,o=n.rootNode;return t.forEach(function(t,i){(o=r.getOrCreateNextNode(o,t,i,n)).allLeafChildren.push(e)}),o},t.prototype.swapGroupWithUserNode=function(e,t,n){t.parent=e.parent,t.key=e.key,t.field=e.field,t.groupData=e.groupData,t.level=e.level,n||(t.expanded=e.expanded),t.leafGroup=e.leafGroup,t.rowGroupIndex=e.rowGroupIndex,t.allLeafChildren=e.allLeafChildren,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenMapped=e.childrenMapped,t.updateHasChildren(),this.removeFromParent(e),t.childrenAfterGroup.forEach(function(e){return e.parent=t}),this.addToParent(t,e.parent)},t.prototype.getOrCreateNextNode=function(e,t,n,r){var o=this.getChildrenMappedKey(t.key,t.rowGroupColumn),i=e.childrenMapped,a=i&&i.hasOwnProperty(o)?i[o]:void 0;return a||(a=this.createGroup(t,e,n,r),this.addToParent(a,e)),a},t.prototype.createGroup=function(e,t,n,r){var o=new a.Z;return this.context.createBean(o),o.group=!0,o.field=e.field,o.rowGroupColumn=e.rowGroupColumn,this.setGroupData(o,e),o.id=a.Z.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),o.key=e.key,o.level=n,o.leafGroup=!this.usingTreeData&&n===r.groupedColCount-1,o.allLeafChildren=[],o.setAllChildrenCount(0),o.rowGroupIndex=this.usingTreeData?null:n,o.childrenAfterGroup=[],o.childrenMapped={},o.updateHasChildren(),o.parent=r.includeParents?t:null,this.setExpandedInitialValue(r,o),o},t.prototype.setGroupData=function(e,t){var n=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(r){(n.usingTreeData||e.rowGroupColumn&&r.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&(e.groupData[r.getColId()]=t.key)})},t.prototype.getChildrenMappedKey=function(e,t){return t?t.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,t){if(e.pivotMode&&t.leafGroup)t.expanded=!1;else{var n=this.gridOptionsWrapper.getIsGroupOpenByDefaultFunc();t.expanded=n?1==n({rowNode:t,field:t.field,key:t.key,level:t.level,rowGroupColumn:t.rowGroupColumn}):-1===e.expandByDefault||t.level<e.expandByDefault}},t.prototype.getGroupInfo=function(e,t){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,t)},t.prototype.getGroupInfoFromCallback=function(e){var t=this.getDataPath?this.getDataPath(e.data):null;return null!=t&&0!==t.length||a.mb.doOnce(function(){return console.warn("getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback"),t?t.map(function(e){return{key:e,field:null,rowGroupColumn:null}}):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,t){var n=this,r=[];return t.groupedCols.forEach(function(o){var i=n.valueService.getKeyForNode(o,e),a=null!=i;if(t.pivotMode&&!a&&(i=" ",a=!0),a){var s={key:i,field:o.getColDef().field,rowGroupColumn:o};r.push(s)}}),r},ye([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),ye([Object(a.k)("selectableService")],t.prototype,"selectableService",void 0),ye([Object(a.k)("valueService")],t.prototype,"valueService",void 0),ye([a.S],t.prototype,"postConstruct",null),ye([Object(a.m)("groupStage")],t)}(a.n),be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ce=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},we=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return be(t,e),n=t,t.prototype.createPivotColumnDefs=function(e){var t=[],n=[],r=this.columnModel.getPivotColumns(),o=this.columnModel.getValueColumns(),i=r.length,s=new a.N;return this.recursivelyAddGroup(t,n,1,e,[],s,i,r),this.addRowGroupTotals(t,n,o,s),this.addExpandablePivotGroups(t,n,s),this.addPivotTotalsToGroups(t,n,s),{pivotColumnGroupDefs:t,pivotColumnDefs:n.map(function(e){return a.mb.cloneObject(e)})}},t.prototype.recursivelyAddGroup=function(e,t,n,r,o,i,s,l){var u=this;a.mb.iterateObject(r,function(r,a){var c=we(o,[r]);if(n!==s){var p={children:[],headerName:r,pivotKeys:c,columnGroupShow:"open",groupId:"pivot"+i.next()};e.push(p),u.recursivelyAddGroup(p.children,t,n+1,a,c,i,s,l)}else{var d=u.columnModel.getValueColumns(),h={children:[],headerName:r,pivotKeys:c,columnGroupShow:"open",groupId:"pivot"+i.next()};if(0===d.length){var f=u.createColDef(null,"-",c,i);h.children.push(f),t.push(f)}else d.forEach(function(e){var n=u.columnModel.getDisplayNameForColumn(e,"header"),r=u.createColDef(e,n,c,i);r.columnGroupShow="open",h.children.push(r),t.push(r)});e.push(h)}});var c=l[n-1].getColDef(),p=this.headerNameComparator.bind(this,c.pivotComparator);e.sort(p)},t.prototype.addExpandablePivotGroups=function(e,t,n){var r=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){var o=function(e,t,n,i){var a=e;if(a.children){var s=new Map;a.children.forEach(function(e){o(e,t,n,s)});var l=!a.children.some(function(e){return e.children});r.columnModel.getValueColumns().forEach(function(o){var i=r.columnModel.getDisplayNameForColumn(o,"header"),a=r.createColDef(o,i,e.pivotKeys,n);a.pivotTotalColumnIds=s.get(o.getColId()),a.columnGroupShow="closed",a.aggFunc=o.getAggFunc(),l||(e.children.push(a),t.push(a))}),r.merge(i,s)}else{var u=e;if(!u.pivotValueColumn)return;var c=u.pivotValueColumn.getColId(),p=i.has(c)?i.get(c):[];p.push(u.colId),i.set(c,p)}};e.forEach(function(e){o(e,t,n,new Map)})}},t.prototype.addPivotTotalsToGroups=function(e,t,n){var r=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var o="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),i=this.columnModel.getValueColumns(),a=i.map(function(e){return e.getAggFunc()});if(a&&!(a.length<1)&&this.sameAggFuncs(a)){var s=i[0];e.forEach(function(e){r.recursivelyAddPivotTotal(e,t,n,s,o)})}}},t.prototype.recursivelyAddPivotTotal=function(e,t,n,r,o){var i=this,a=e;if(!a.children)return e.colId?[e.colId]:null;var s=[];if(a.children.forEach(function(e){var a=i.recursivelyAddPivotTotal(e,t,n,r,o);a&&(s=s.concat(a))}),a.children.length>1){var l=this.gridOptionsWrapper.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),u=this.createColDef(r,l,e.pivotKeys,n);u.pivotTotalColumnIds=s,u.aggFunc=r.getAggFunc();var c=e.children;o?c.push(u):c.unshift(u),t.push(u)}return s},t.prototype.addRowGroupTotals=function(e,t,n,r){var o=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var i="after"===this.gridOptionsWrapper.getPivotRowTotals(),a=i?n.slice():n.slice().reverse(),s=function(n){var s=a[n],u=[];e.forEach(function(e){u=u.concat(o.extractColIdsForValueColumn(e,s))}),l.createRowGroupTotal(e,t,[],r,s,u,i)},l=this,u=0;u<a.length;u++)s(u)},t.prototype.extractColIdsForValueColumn=function(e,t){var n=this;if(!e.children)return e.pivotValueColumn===t&&e.colId?[e.colId]:[];var r=[];return e.children.forEach(function(e){n.extractColIdsForValueColumn(e,t);var o=n.extractColIdsForValueColumn(e,t);r=r.concat(o)}),r},t.prototype.createRowGroupTotal=function(e,t,r,o,i,a,s){var l=r.slice(0),u=this.columnModel.getValueColumns(),c={children:[],pivotKeys:l,groupId:n.PIVOT_ROW_TOTAL_PREFIX+o.next()};if(0===u.length){var p=this.createColDef(null,"-",l,o);c.children.push(p),t.push(p)}else{var d=this.columnModel.getDisplayNameForColumn(i,"header");(p=this.createColDef(i,d,l,o)).pivotTotalColumnIds=a,c.children.push(p),t.push(p)}s?e.push(c):e.unshift(c)},t.prototype.createColDef=function(e,t,n,r){var o={};if(e){var i=e.getColDef();a.mb.assign(o,i),o.hide=!1}return o.headerName=t,o.colId="pivot_"+r.next(),o.field=o.colId,o.pivotKeys=n,o.pivotValueColumn=e,o.filter=!1,o},t.prototype.sameAggFuncs=function(e){if(1==e.length)return!0;for(var t=1;t<e.length;t++)if(e[t]!==e[0])return!1;return!0},t.prototype.headerNameComparator=function(e,t,n){return e?e(t.headerName,n.headerName):t.headerName&&!n.headerName?1:!t.headerName&&n.headerName?-1:t.headerName&&n.headerName?t.headerName<n.headerName?-1:t.headerName>n.headerName?1:0:0},t.prototype.merge=function(e,t){t.forEach(function(t,n,r){var o=e.has(n)?e.get(n):[],i=we(o,t);e.set(n,i)})},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",Ce([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),n=Ce([Object(a.m)("pivotColDefService")],t)}(a.n),xe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Se=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uniqueValues={},t}return xe(t,e),t.prototype.execute=function(e){var t=e.rowNode,n=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(t,n):this.executePivotOff(n)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e,t){var n=this.bucketUpRowNodes(e),r=this.setUniqueValues(n),o=this.columnModel.getValueColumns(),i=o.map(function(e){return e.getId()}).join("#"),a=o.map(function(e){return e.getAggFunc().toString()}).join("#"),s=this.aggregationColumnsHashLastTime!==i,l=this.aggregationFuncsHashLastTime!==a;if(this.aggregationColumnsHashLastTime=i,this.aggregationFuncsHashLastTime=a,r||s||l){var u=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),c=u.pivotColumnGroupDefs;this.pivotColumnDefs=u.pivotColumnDefs,this.columnModel.setSecondaryColumns(c,"rowModelUpdated"),t&&t.setInactive()}},t.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},t.prototype.bucketUpRowNodes=function(e){var t=this,n={},r=function(e){e.leafGroup?t.bucketRowNode(e,n):e.childrenAfterFilter.forEach(function(e){r(e)})};return r(e),n},t.prototype.bucketRowNode=function(e,t){var n=this.columnModel.getPivotColumns();e.childrenMapped=0!==n.length?this.bucketChildren(e.childrenAfterFilter,n,0,t):null},t.prototype.bucketChildren=function(e,t,n,r){var o=this,i={},s=t[n];if(e.forEach(function(e){var t=o.valueService.getKeyForNode(s,e);a.mb.missing(t)&&(t=""),r[t]||(r[t]={}),i[t]||(i[t]=[]),i[t].push(e)}),n===t.length-1)return i;var l={};return a.mb.iterateObject(i,function(e,i){l[e]=o.bucketChildren(i,t,n+1,r[e])}),l},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},Se([Object(a.k)("valueService")],t.prototype,"valueService",void 0),Se([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),Se([Object(a.k)("pivotColDefService")],t.prototype,"pivotColDefService",void 0),Se([Object(a.m)("pivotStage")],t)}(a.n),_e=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Te="undefined"==typeof BigInt?null:BigInt,Ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aggFuncsMap={},t.initialised=!1,t}var n;return _e(t,e),n=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[n.AGG_SUM]=Me,this.aggFuncsMap[n.AGG_FIRST]=De,this.aggFuncsMap[n.AGG_LAST]=ke,this.aggFuncsMap[n.AGG_MIN]=Re,this.aggFuncsMap[n.AGG_MAX]=Ie,this.aggFuncsMap[n.AGG_COUNT]=Ne,this.aggFuncsMap[n.AGG_AVG]=Fe,this.initialised=!0},t.prototype.getDefaultAggFunc=function(e){var t=this.getFuncNames(e),r=a.mb.includes(t,n.AGG_SUM),o=a.mb.exists(this.aggFuncsMap[n.AGG_SUM]);return r&&o?n.AGG_SUM:a.mb.existsAndNotEmpty(t)?t[0]:null},t.prototype.addAggFuncs=function(e){a.mb.iterateObject(e,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(e,t){this.init(),this.aggFuncsMap[e]=t},t.prototype.getAggFunc=function(e){return this.init(),this.aggFuncsMap[e]},t.prototype.getFuncNames=function(e){var t=e.getColDef().allowedAggFuncs;return null==t?Object.keys(this.aggFuncsMap).sort():t},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",Ee([a.S],t.prototype,"init",null),n=Ee([Object(a.m)("aggFuncService")],t)}(a.n);function Me(e){for(var t=e.values,n=null,r=0;r<t.length;r++){var o=t[r];"number"==typeof o?null===n?n=o:n+=Te?"number"==typeof n?o:Te(o):o:"bigint"==typeof o&&(n=null===n?o:("bigint"==typeof n?n:Te(n))+o)}return n}function De(e){return e.values.length>0?e.values[0]:null}function ke(e){return e.values.length>0?a.mb.last(e.values):null}function Re(e){for(var t=e.values,n=null,r=0;r<t.length;r++){var o=t[r];"number"!=typeof o&&"bigint"!=typeof o||!(null===n||n>o)||(n=o)}return n}function Ie(e){for(var t=e.values,n=null,r=0;r<t.length;r++){var o=t[r];"number"!=typeof o&&"bigint"!=typeof o||!(null===n||n<o)||(n=o)}return n}function Ne(e){for(var t=e.values,n=0,r=0;r<t.length;r++){var o=t[r];n+=null!=o&&"number"==typeof o.value?o.value:1}return{value:n,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function Fe(e){for(var t=e.values,n=0,r=0,o=0;o<t.length;o++){var i=t[o],a=null;"number"==typeof i||"bigint"==typeof i?(a=i,r++):null==i||"number"!=typeof i.value&&"bigint"!=typeof i.value||"number"!=typeof i.count||(a=Te?i.value*("number"==typeof i.value?i.count:Te(i.count)):i.value*i.count,r+=i.count),"number"==typeof a?n+=Te?"number"==typeof n?a:Te(a):a:"bigint"==typeof a&&(n=("bigint"==typeof n?n:Te(n))+a)}var s=null;return r>0&&(s=Te?n/("number"==typeof n?r:Te(r)):n/r),{count:r,value:s,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var Le,je,Ge,Ve,Be,We,ze,Ue,He,Ke,Xe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ye=function(e){function t(t,n,r,o,i){var a=e.call(this)||this;return a.column=t,a.dragSourceDropTarget=n,a.ghost=r,a.valueColumn=o,a.horizontal=i,a.popupShowing=!1,a}return Xe(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.addElementClasses(this.getGui()),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(a.mb.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(a.mb.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),this.ghost||this.gridOptionsWrapper.isFunctionsReadOnly()||this.addDragSource(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this,t=function(){var t=e.column.getColDef().headerTooltip;e.setTooltip(t)};t(),this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,t)},t.prototype.addDragSource=function(){var e=this,t={type:a.A.ToolPanel,eElement:this.eDragHandle,defaultIconName:a.z.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(t)})},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&a.mb.addCssClass(this.getGui(),"ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;a.mb.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly()),this.addManagedListener(this.eButton,"click",function(n){e.dispatchEvent({type:t.EVENT_COLUMN_REMOVE}),n.stopPropagation()});var n=new a.ib(this.eButton);this.addManagedListener(n,a.ib.EVENT_TAP,function(n){e.dispatchEvent({type:t.EVENT_COLUMN_REMOVE})}),this.addDestroyFunc(n.destroy.bind(n))},t.prototype.setTextValue=function(){var e;if(this.valueColumn){var t=this.column.getAggFunc(),n="string"==typeof t?t:"agg";e=this.gridOptionsWrapper.getLocaleTextFunc()(n,n)+"("+this.displayName+")"}else e=this.displayName;var r=a.mb.escapeString(e);this.eText.innerHTML=r},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var t=new a.lb("select-agg-func"),n=this.aggFuncService.getFuncNames(this.column);t.setModel({getRow:function(e){return n[e]},getRowCount:function(){return n.length}}),this.getContext().createBean(t);var r=a.mb.loadTemplate('<div class="ag-select-agg-func-popup"></div>');r.style.top="0px",r.style.left="0px",r.appendChild(t.getGui()),r.style.width=this.getGui().clientWidth+"px";var o=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:function(){e.destroyBean(t),e.popupShowing=!1}});o&&t.setComponentCreator(this.createAggSelect.bind(this,o.hideFunc)),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:this.getGui(),ePopup:r,keepWithinBounds:!0,column:this.column}),t.refresh()}},t.prototype.createAggSelect=function(e,t){var n=this,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=t.toString(),i=r(o,o);return new Je(function(){e(),n.gridOptionsWrapper.isFunctionsPassive()?n.eventService.dispatchEvent({type:a.C.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[n.column],aggFunc:t,api:n.gridApi,columnApi:n.columnApi}):n.columnModel.setColumnAggFunc(n.column,t,"toolPanelDragAndDrop")},i)},t.prototype.addElementClasses=function(e,t){a.mb.addCssClass(e,"ag-column-drop-cell"+(t=t?"-"+t:"")),a.mb.addCssClass(e,"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+t)},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span>\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle"></span>\n          <span ref="eText" class="ag-column-drop-cell-text"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button"></span>\n        </span>',qe([Object(a.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),qe([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),qe([Object(a.k)("popupService")],t.prototype,"popupService",void 0),qe([Object(a.O)("aggFuncService")],t.prototype,"aggFuncService",void 0),qe([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),qe([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),qe([Object(a.X)("eText")],t.prototype,"eText",void 0),qe([Object(a.X)("eDragHandle")],t.prototype,"eDragHandle",void 0),qe([Object(a.X)("eButton")],t.prototype,"eButton",void 0),qe([a.S],t.prototype,"init",null),t}(a.v),Je=function(e){function t(t,n){var r=e.call(this,'<div class="ag-select-agg-func-item"/>')||this;return r.getGui().innerText=n,r.value=n,r.addGuiEventListener("click",t),r}return Xe(t,e),t}(a.v),Qe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ze=function(e){function t(n,r){var o=e.call(this,'<div class="ag-unselectable"></div>')||this;return o.horizontal=n,o.valueColumn=r,o.state=t.STATE_NOT_DRAGGING,o.guiDestroyFunctions=[],o.childColumnComponents=[],o.resizeEnabled=!1,o.addElementClasses(o.getGui()),o.eColumnDropList=document.createElement("div"),o.addElementClasses(o.eColumnDropList,"list"),o}return Qe(t,e),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),e.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,a.mb.clearElement(this.getGui()),a.mb.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.addManagedListener(this.beans.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new a.R(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui()},t.prototype.addElementClasses=function(e,t){a.mb.addCssClass(e,"ag-column-drop"+(t=t?"-"+t:"")),a.mb.addCssClass(e,"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+t)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===a.A.HeaderCell||e===a.A.ToolPanel},t.prototype.checkInsertIndex=function(e){var t=this.horizontal?this.getNewHorizontalInsertIndex(e):this.getNewVerticalInsertIndex(e);if(t<0)return!1;var n=t!==this.insertIndex;return n&&(this.insertIndex=t),n},t.prototype.getNewHorizontalInsertIndex=function(e){if(a.mb.missing(e.hDirection))return-1;var t=0,n=e.event,r=this.beans.gridOptionsWrapper.isEnableRtl(),o=e.hDirection===a.I.Left,i=n.clientX;return this.childColumnComponents.forEach(function(e){var n=e.getGui().getBoundingClientRect(),a=o?n.right:n.left;(r?i<=a:i>=a)&&t++}),t},t.prototype.getNewVerticalInsertIndex=function(e){if(a.mb.missing(e.vDirection))return-1;var t=0,n=e.event;return this.childColumnComponents.forEach(function(r){var o=r.getGui().getBoundingClientRect();n.clientY>=(e.vDirection===a.kb.Down?o.top:o.bottom)&&t++}),t},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var n=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var r=n.filter(this.isColumnDroppable.bind(this));r.length>0&&(this.potentialDndColumns=r,this.checkInsertIndex(e),this.refreshGui())},t.prototype.isPotentialDndColumns=function(){return a.mb.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var n=e.dragSource.getDragItem().columns||[];this.removeColumns(n)}this.isPotentialDndColumns()&&(this.potentialDndColumns=[],this.refreshGui()),this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],this.beans.gridOptionsWrapper.isFunctionsPassive()&&e||this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var t=this.getExistingColumns().filter(function(t){return!a.mb.includes(e,t)});this.updateColumns(t)},t.prototype.addColumns=function(e){if(e){var t=this.getExistingColumns().slice(),n=e.filter(function(e){return t.indexOf(e)<0});a.mb.insertArrayIntoArray(t,n,this.insertIndex),this.updateColumns(t)}},t.prototype.rearrangeColumns=function(e){var t=this.getNonGhostColumns().slice();return a.mb.insertArrayIntoArray(t,e,this.insertIndex),!a.mb.areEqual(t,this.getExistingColumns())&&(this.updateColumns(t),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,t=this.resizeEnabled;this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),t&&this.toggleResizable(t)},t.prototype.getNonGhostColumns=function(){var e=this,t=this.getExistingColumns();return this.isPotentialDndColumns()?t.filter(function(t){return!a.mb.includes(e.potentialDndColumns,t)}):t},t.prototype.addColumnsToGui=function(){var e=this,t=this.getNonGhostColumns(),n=this.isPotentialDndColumns(),r=[];t.forEach(function(t,o){if(!(n&&o>=e.insertIndex)){var i=e.createColumnComponent(t,!1);r.push(i)}}),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach(function(t){var n=e.createColumnComponent(t,!0);r.push(n)}),t.forEach(function(t,n){if(!(n<e.insertIndex)){var o=e.createColumnComponent(t,!1);r.push(o)}})),this.getGui().appendChild(this.eColumnDropList),r.forEach(function(t,n){n>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(t.getGui())})},t.prototype.createColumnComponent=function(e,t){var n=this,r=new Ye(e,this.dropTarget,t,this.valueColumn,this.horizontal);return r.addEventListener(Ye.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(r),this.guiDestroyFunctions.push(function(){return n.destroyBean(r)}),t||this.childColumnComponents.push(r),r},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,t=document.createElement("div");if(this.addElementClasses(t,"title-bar"),this.addElementClasses(e,"icon"),a.mb.addOrRemoveCssClass(this.getGui(),"ag-column-drop-empty",this.isExistingColumnsEmpty()),t.appendChild(e),!this.horizontal){var n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=this.params.title,t.appendChild(n)}this.getGui().appendChild(t)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var t=this.beans.gridOptionsWrapper.isEnableRtl(),n=a.mb.createIconNoSpan(t?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(n,"cell-separator"),e.appendChild(n)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",t}(a.v),$e=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},tt=function(e){function t(t){return e.call(this,t,!1)||this}return $e(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),n=t("rowGroupColumnsEmptyMessage","Drag here to set row groups"),r=t("groups","Row Groups");e.prototype.init.call(this,{dragAndDropIcon:a.z.ICON_GROUP,icon:a.mb.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:r}),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="rowGroupColumnsList",t},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowRowGroup()&&!e.isRowGroupActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:a.C.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?a.z.ICON_GROUP:a.z.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},et([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),et([Object(a.k)("loggerFactory")],t.prototype,"loggerFactory",void 0),et([Object(a.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),et([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),et([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),et([a.S],t.prototype,"passBeansUp",null),t}(Ze),nt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ot=function(e){function t(t){return e.call(this,t,!1)||this}return nt(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),n=t("pivotColumnsEmptyMessage","Drag here to set column labels"),r=t("pivots","Column Labels");e.prototype.init.call(this,{dragAndDropIcon:a.z.ICON_GROUP,icon:a.mb.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:r}),this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="pivotColumnsList",t},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var t=this.columnModel.isPivotActive();this.setDisplayed(e&&t);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowPivot()&&!e.isPivotActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:a.C.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?a.z.ICON_PIVOT:a.z.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},rt([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),rt([Object(a.k)("loggerFactory")],t.prototype,"loggerFactory",void 0),rt([Object(a.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),rt([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),rt([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),rt([a.S],t.prototype,"passBeansUp",null),t}(Ze),it=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},st=function(e){function t(){return e.call(this)||this}return it(t,e),t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=document.createElement("div"),t=this.onDropPanelVisible.bind(this);return a.mb.addCssClass(e,"ag-column-drop-wrapper"),this.rowGroupComp=new tt(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new ot(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,a.v.EVENT_DISPLAYED_CHANGED,t),this.addManagedListener(this.pivotComp,a.v.EVENT_DISPLAYED_CHANGED,t),this.onDropPanelVisible(),e},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===a.x.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===a.x.ONLY_WHEN_GROUPING){var t=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(t)}else this.rowGroupComp.setDisplayed(!1)}},at([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),at([a.S],t.prototype,"postConstruct",null),t}(a.v),lt={moduleName:a.L.RowGroupingModule,beans:[fe,ve,Oe,Pe,Ae],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:st}],dependantModules:[U]},ut=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ct=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pt=function(e){function t(t){return e.call(this,t,!0)||this}return ut(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),n=t("valueColumnsEmptyMessage","Drag here to aggregate"),r=t("values","Values");e.prototype.init.call(this,{dragAndDropIcon:a.z.ICON_AGGREGATE,icon:a.mb.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:n,title:r}),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="valueColumnsList",t},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?a.z.ICON_AGGREGATE:a.z.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowValue()&&!e.isValueActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:a.C.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},ct([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),ct([Object(a.k)("loggerFactory")],t.prototype,"loggerFactory",void 0),ct([Object(a.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ct([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),ct([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),ct([a.S],t.prototype,"passBeansUp",null),t}(Ze),dt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ht=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ft=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return dt(t,e),t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e,t,n){this.allowDragging=e,this.params=t,this.eventType=n,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new a.R(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',ht([Object(a.X)("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),ht([Object(a.X)("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),ht([a.S],t.prototype,"postConstruct",null),t}(a.eb),gt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},yt=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.initialised=!1,n.childDestroyFuncs=[],n}return gt(t,e),t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var t=this,n={suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};if(a.mb.mergeDeep(n,e),this.params=n,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new pe),this.childDestroyFuncs.push(function(){return t.destroyBean(t.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new ft),this.childDestroyFuncs.push(function(){return t.destroyBean(t.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),a.mb.addCssClass(this.primaryColsPanel.getGui(),"ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new tt(!1)),this.childDestroyFuncs.push(function(){return t.destroyBean(t.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new pt(!1)),this.childDestroyFuncs.push(function(){return t.destroyBean(t.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new ot(!1)),this.childDestroyFuncs.push(function(){return t.destroyBean(t.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var r=this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){t.resetChildrenHeight(),t.setLastVisible()});this.childDestroyFuncs.push(function(){return r()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var t=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new pe),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return t.destroyBean(t.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new tt(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new pt(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new ot(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var t=e.getGui();e.toggleResizable(!a.mb.containsClass(t,"ag-last-column-drop")&&!a.mb.containsClass(t,"ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(e){return a.mb.removeCssClass(e,"ag-last-column-drop")});var t=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),n=a.mb.last(t);n&&a.mb.addCssClass(n,"ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var e=this.getGui().children,t=0;t<e.length;t++){var n=e[t];n.style.removeProperty("height"),n.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return a.M.assertRegistered(a.L.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,a.mb.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',mt([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),mt([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),t}(a.v),vt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ct=function(e){function t(){var t=e.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return t.minWidth=100,t.maxWidth=null,t}return vt(t,e),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},t.prototype.onResizing=function(e){var t=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(t=Math.min(this.maxWidth,t)),this.elementToResize.style.width=t+"px"},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},bt([Object(a.k)("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),bt([a.S],t.prototype,"postConstruct",null),t}(a.v),wt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ot=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},xt=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.buttonComps=[],n}return wt(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.keyCode===a.J.TAB&&e.shiftKey&&!this.focusService.findNextFocusableElement(this.getFocusableElement(),null,!0)){var t=this.headerPositionUtils.findColAtEdgeForHeaderRow(0,"start");if(!t)return;e.preventDefault(),this.focusService.focusHeaderPosition(t)}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(t){t.setSelected(e===t.getToolPanelId())})},t.prototype.addButtonComp=function(e){var n=this,r=this.createBean(new St(e));this.buttonComps.push(r),this.appendChild(r),r.addEventListener(St.EVENT_TOGGLE_BUTTON_CLICKED,function(){n.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),a.mb.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons"></div>',Ot([Object(a.k)("focusService")],t.prototype,"focusService",void 0),Ot([Object(a.k)("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),Ot([a.S],t.prototype,"postConstruct",null),Ot([a.U],t.prototype,"clearButtons",null),t}(a.v),St=function(e){function t(t){var n=e.call(this)||this;return n.toolPanelDef=t,n}return wt(t,e),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",a.mb.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.toolPanelDef;return'<div class="ag-side-button">\n                <button type="button" ref="eToggleButton" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper"></div>\n                    <span class="ag-side-button-label">'+e(t.labelKey,t.labelDefault)+"</span>\n                </button>\n            </div>"},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",Ot([Object(a.X)("eToggleButton")],t.prototype,"eToggleButton",void 0),Ot([Object(a.X)("eIconWrapper")],t.prototype,"eIconWrapper",void 0),Ot([a.S],t.prototype,"postConstruct",null),t}(a.v),Pt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Et=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Pt(t,e),t.prototype.setupResize=function(){var e=this.getGui(),t=this.resizeBar=new Ct;this.getContext().createBean(t),t.setElementToResize(e),this.appendChild(t)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){var t=e.id,n=e.minWidth,r=e.maxWidth,o=e.width;this.toolPanelId=t,this.width=o;var i={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()},a=this.userComponentFactory.newToolPanelComponent(e,i);null!=a?(a.then(this.setToolPanelComponent.bind(this)),null!=n&&this.resizeBar.setMinWidth(n),null!=r&&this.resizeBar.setMaxWidth(r)):console.warn("ag-grid: error processing tool panel component "+t+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},t.prototype.setToolPanelComponent=function(e){var t=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){t.destroyBean(e)}),this.width&&(this.getGui().style.width=this.width+"px")},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var t=this.gridOptionsWrapper.isEnableRtl(),n="left"===e;this.resizeBar.setInverted(t?n:!n)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',_t([Object(a.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),_t([a.S],t.prototype,"setupResize",null),t}(a.v),Tt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),At=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Mt=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.toolPanelWrappers=[],n}return Tt(t,e),t.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(xt.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.gridOptionsWrapper.addEventListener("sideBar",function(){e.clearDownUi(),e.setSideBarDef()}),this.gridApi.registerSideBarComp(this)},t.prototype.onToolPanelButtonClicked=function(e){var t=e.toolPanelId,n=this.openedItem();this.openToolPanel(n===t?void 0:t)},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),t=!!e&&!!e.toolPanels;if(t){this.setDisplayed(t&&!e.hiddenByDefault);var n=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(n),this.setupToolPanels(n),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},t.prototype.setSideBarPosition=function(e){e||(e="right");var t="left"===e,n=t?"right":"left",r=this.getGui();return a.mb.addOrRemoveCssClass(r,"ag-side-bar-left",t),a.mb.addOrRemoveCssClass(r,"ag-side-bar-right",!t),this.toolPanelWrappers.forEach(function(e){e.setResizerSizerSide(n)}),this},t.prototype.setupToolPanels=function(e){var t=this;e.forEach(function(e){if(null!=e.id){if("agColumnsToolPanel"===e.toolPanel&&!a.M.assertRegistered(a.L.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===e.toolPanel&&!a.M.assertRegistered(a.L.FiltersToolPanelModule,"Filters Tool Panel"))return;var n=new Et;t.getContext().createBean(n),n.setToolPanelDef(e),n.setDisplayed(!1),t.getGui().appendChild(n.getGui()),t.toolPanelWrappers.push(n)}else console.warn("ag-grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e){var t=this.openedItem();t!==e&&(this.toolPanelWrappers.forEach(function(t){var n=e===t.getToolPanelId();t.setDisplayed(n)}),t!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e)))},t.prototype.getToolPanelInstance=function(e){var t=this.toolPanelWrappers.filter(function(t){return t.getToolPanelId()===e})[0];if(t)return t.getToolPanelInstance();console.warn("ag-grid: unable to lookup Tool Panel as invalid key supplied: "+e)},t.prototype.raiseToolPanelVisibleEvent=function(e){var t={type:a.C.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(t)},t.prototype.close=function(){this.openToolPanel(void 0)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(t){t.isDisplayed()&&(e=t.getToolPanelId())}),e},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',At([Object(a.X)("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),At([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),At([a.S],t.prototype,"postConstruct",null),t}(a.v),Dt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isColGroupDef=function(e){return e&&void 0!==e.children},t.getId=function(e){return t.isColGroupDef(e)?e.groupId:e.colId},t}return Dt(t,e),t.prototype.createColumnTree=function(e){var t=this,n=[],r=function(e,o){if(t.isColGroupDef(e)){var i=e,s=new a.P(i,void 0!==i.groupId?i.groupId:i.headerName,!1,o),l=[];return i.children.forEach(function(e){var t=r(e,o+1);t&&l.push(t)}),s.setChildren(l),s}var u=e,c=t.columnModel.getPrimaryColumn(u.colId?u.colId:u.field);return c||n.push(u),c},o=[];return e.forEach(function(e){var t=r(e,0);t&&o.push(t)}),n.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",n),o},t.prototype.syncLayoutWithGrid=function(e){var t=this.getLeafPathTrees();e(this.mergeLeafPathTrees(t))},t.prototype.getLeafPathTrees=function(){var e=function(t,n){var r;if(t instanceof a.P)if(t.isPadding())r=n;else{var o=a.mb.assign({},t.getColGroupDef());o.groupId=t.getGroupId(),o.children=[n],r=o}else{var i=a.mb.assign({},t.getColDef());i.colId=t.getColId(),r=i}var s=t.getOriginalParent();return s?e(s,r):r};return this.columnModel.getAllGridColumns().filter(function(e){var t=e.getColDef();return e.isPrimary()&&!t.showRowGroup}).map(function(t){return e(t,t.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var t,n,r=this,o=function(e,t){if(!r.isColGroupDef(t))return e;var n=e,i=t;return i.children&&i.groupId&&r.addChildrenToGroup(n,i.groupId,i.children[0])?n:(i.children.forEach(function(e){return o(n,e)}),n)},i=[],a=1;a<=e.length;a++){var s=e[a-1],l=e[a];n=l,r.isColGroupDef(t=s)&&r.isColGroupDef(n)&&r.getId(t)===r.getId(n)?e[a]=o(s,l):i.push(s)}return i},t.prototype.addChildrenToGroup=function(e,t,n){var r=this;if(!this.isColGroupDef(e))return!0;var o=e,i=n;if(function(e,t){var n=e.children.map(r.getId),o=a.mb.includes(n,r.getId(t)),i=a.mb.last(e.children),s=i&&r.getId(i)!==r.getId(t);return o&&s}(o,i))return o.children.push(i),!0;if(o.groupId===t){var s=o.children.map(this.getId);if(!a.mb.includes(s,this.getId(i)))return o.children.push(i),!0}return o.children.forEach(function(e){return r.addChildrenToGroup(e,t,n)}),!1},kt([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),kt([Object(a.m)("toolPanelColDefService")],t)}(a.n),It={moduleName:a.L.SideBarModule,beans:[Rt],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:Ct},{componentName:"AgSideBar",componentClass:Mt},{componentName:"AgSideBarButtons",componentClass:xt}],dependantModules:[U]},Nt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ft=function(){function e(){}return e.prototype.selectAllChildren=function(e,t,n){var r=this.extractAllLeafColumns(e);this.setAllColumns(r,t,n)},e.prototype.setColumn=function(e,t,n){this.setAllColumns([e],t,n)},e.prototype.setAllColumns=function(e,t,n){this.columnModel.isPivotMode()?this.setAllPivot(e,t,n):this.setAllVisible(e,t,n)},e.prototype.extractAllLeafColumns=function(e){var t=[],n=function(e){e.forEach(function(e){e.isPassesFilter()&&(e.isGroup()?n(e.getChildren()):t.push(e.getColumn()))})};return n(e),t},e.prototype.setAllVisible=function(e,t,n){var r=[];e.forEach(function(e){e.getColDef().lockVisible||e.isVisible()!=t&&r.push({colId:e.getId(),hide:!t})}),r.length>0&&this.columnModel.applyColumnState({state:r},n)},e.prototype.setAllPivot=function(e,t,n){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(e,t):this.setAllPivotActive(e,t,n)},e.prototype.setAllPivotPassive=function(e,t){var n=this.columnModel.getPivotColumns().slice(),r=this.columnModel.getValueColumns().slice(),o=this.columnModel.getRowGroupColumns().slice(),i=!1,s=!1,l=!1;e.forEach(t?function(e){e.isAnyFunctionActive()||(e.isAllowValue()?(r.push(e),s=!0):e.isAllowRowGroup()?(o.push(e),i=!0):e.isAllowPivot()&&(n.push(e),l=!0))}:function(e){e.isAnyFunctionActive()&&(n.indexOf(e)>=0&&(a.mb.removeFromArray(n,e),i=!0),r.indexOf(e)>=0&&(a.mb.removeFromArray(r,e),s=!0),o.indexOf(e)>=0&&(a.mb.removeFromArray(o,e),l=!0))}),i&&this.eventService.dispatchEvent({type:a.C.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n,api:this.gridApi,columnApi:this.columnApi}),l&&this.eventService.dispatchEvent({type:a.C.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:o,api:this.gridApi,columnApi:this.columnApi}),s&&this.eventService.dispatchEvent({type:a.C.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:o,api:this.gridApi,columnApi:this.columnApi})},e.prototype.setAllPivotActive=function(e,t,n){var r=this,o=[];e.forEach(t?function(e){if(!e.isAnyFunctionActive())if(e.isAllowValue()){var t="string"==typeof e.getAggFunc()?e.getAggFunc():r.aggFuncService.getDefaultAggFunc(e);o.push({colId:e.getId(),aggFunc:t})}else e.isAllowRowGroup()?o.push({colId:e.getId(),rowGroup:!0}):e.isAllowPivot()&&o.push({colId:e.getId(),pivot:!0})}:function(e){(e.isPivotActive()||e.isRowGroupActive()||e.isValueActive())&&o.push({colId:e.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),o.length>0&&this.columnModel.applyColumnState({state:o},n)},Nt([Object(a.k)("aggFuncService")],e.prototype,"aggFuncService",void 0),Nt([Object(a.k)("columnModel")],e.prototype,"columnModel",void 0),Nt([Object(a.k)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Nt([Object(a.k)("columnApi")],e.prototype,"columnApi",void 0),Nt([Object(a.k)("gridApi")],e.prototype,"gridApi",void 0),Nt([Object(a.k)("eventService")],e.prototype,"eventService",void 0),Nt([Object(a.m)("modelItemUtils")],e)}(),Lt={moduleName:a.L.ColumnToolPanelModule,beans:[Ft],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:Q},{componentName:"AgPrimaryColsList",componentClass:le},{componentName:"AgPrimaryCols",componentClass:ft}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:yt}],dependantModules:[U,lt,It]},jt=function(e){return{name:"Row",children:e.cells.map(function(e){return r=(t=e).styleId,o=t.data,i={},(n=t.mergeAcross)&&(i.MergeAcross=n),r&&(i.StyleID=r),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:i}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:o.type}}]},textNode:o.value}]};var t,n,r,o,i})}},Gt={getTemplate:function(e){var t=e.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:t.vertical,Horizontal:t.horizontal,Indent:t.indent,ReadingOrder:t.readingOrder,Rotate:t.rotate,ShrinkToFit:t.shrinkToFit,VerticalText:t.verticalText,WrapText:t.wrapText}}]}}}},Vt={getTemplate:function(e){var t=e.borders;return{name:"Borders",children:[t.borderBottom,t.borderLeft,t.borderRight,t.borderTop].map(function(e,t){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==t?"Bottom":1==t?"Left":2==t?"Right":"Top",LineStyle:e.lineStyle,Weight:e.weight,Color:e.color}}]}}})}}},Bt={getTemplate:function(e){var t=e.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:t.bold,FontName:t.fontName,Italic:t.italic,Color:t.color,Outline:t.outline,Shadow:t.shadow,Size:t.size,StrikeThrough:t.strikeThrough,Underline:t.underline,VerticalAlign:t.verticalAlign}},{prefix:"x:",map:{CharSet:t.charSet,Family:t.family}}]}}}},Wt={getTemplate:function(e){var t=e.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:t.color,Pattern:t.pattern,PatternColor:t.patternColor}}]}}}},zt={getTemplate:function(e){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:e.protection.protected,HideFormula:e.protection.hideFormula}}]}}}},Ut={getTemplate:function(e){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:e.numberFormat.format}}]}}}},Ht=function(){function e(){}return e.createExcel=function(e,t){var n=this.excelXmlHeader(),r=this.workbook({name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]},{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]},e,t);return""+n+D.createXml(r,function(e){return e?"1":"0"})},e.workbook=function(e,t,n,r){var o,i,s,l,u,c,p=[e,t,this.stylesXmlElement(n)].concat((s=(o=r).name,l=(i=o.table).rows,u=i.columns.map(function(e){return function(e){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:e.width}}]}}}(e)}),c=l.map(function(e){return jt(e)}),{name:"Worksheet",children:[{name:"Table",children:u.concat(c)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:s}}]}}));return a.mb.assign({},{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}},{children:p})},e.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},e.stylesXmlElement=function(e){var t=this;return{name:"Styles",children:e?e.map(function(e){return t.styleXmlElement(e)}):[]}},e.styleXmlElement=function(e){var t=a.mb.compose(this.addProperty("alignment",e),this.addProperty("borders",e),this.addProperty("font",e),this.addProperty("interior",e),this.addProperty("protection",e),this.addProperty("numberFormat",e))([]);return a.mb.assign({},function(e){var t=e.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:e.name||t}}]}}}(e),{children:t})},e.addProperty=function(e,t){return function(n){return t[e]?n.concat({alignment:Gt,borders:Vt,font:Bt,interior:Wt,numberFormat:Ut,protection:zt}[e].getTemplate(t)):n}},e.factoryMode=a.D.SINGLE_SHEET,e}(),Kt={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},Xt=function(e){return Math.ceil(9525*e)},qt=function(e,t){var n;if(t)return n="number"==typeof t?t:t({rowIndex:e}),Math.round(72*n/96)},Yt=function(e){return""+D.createHeader({encoding:"UTF-8",standalone:"yes"})+D.createXml(e)},Jt=function(e){var t=String.fromCharCode,n=Math.floor(e/26),r=e%26;return n&&26!==e?r?n<26?t(65+n-1)+t(65+r-1):Jt(n)+t(65+r-1):Jt(n-1)+"Z":t(65+e-1)},Qt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zt=function(){return(Zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},$t=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},en=function(e){function t(t){var n=e.call(this,t)||this;return n.mixedStyles={},n.mixedStyleCounter=0,n.rows=[],n.config=a.mb.assign({},t),n.stylesByIds={},n.config.baseExcelStyles.forEach(function(e){n.stylesByIds[e.id]=e}),n.excelStyles=$t(n.config.baseExcelStyles),n}return Qt(t,e),t.prototype.addCustomContent=function(e){var t=this;e.forEach(function(e){var n=t.rows.length+1;t.rows.push({height:qt(n,t.config.rowHeight),cells:e.map(function(e,r){var o=t.addImage(n,t.columnsToExport[r],e.data.value),i=Zt({},e);return o&&(i.data={},null!=o.value?i.data.value=o.value:(i.data.type="e",i.data.value=null)),i})})})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,t=[];return this.rows.push({cells:t,height:qt(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(n,r,i){var a=e.config.styleLinker(o.HEADER_GROUPING,1,"grouping-"+n,void 0,void 0);t.push(e.createMergedCell(e.getStyleId(a),e.getDataTypeForValue("string"),n,i))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.prepare=function(t){var n=this;e.prototype.prepare.call(this,t),this.columnsToExport=$t(t),this.cols=t.map(function(e,t){return n.convertColumnToExcel(e,t)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(e,t){return Math.max(e,t.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},t.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&a.mb.startsWith(e.toString(),"=")},t.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},t.prototype.convertColumnToExcel=function(e,t){var n=this.config.columnWidth;return n?"number"==typeof n?{width:n}:{width:n({column:e,index:t})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},t.prototype.onNewHeaderColumn=function(e,t){var n=this;return function(r,i){var a=n.extractHeaderValue(r),s=n.config.styleLinker(o.HEADER,e,a,r,void 0);t.push(n.createCell(n.getStyleId(s),n.getDataTypeForValue("string"),a))}},t.prototype.onNewRow=function(e,t){var n=[];return this.rows.push({cells:n,height:qt(this.rows.length+1,t)}),{onColumn:e.bind(this,this.rows.length,n)()}},t.prototype.onNewBodyColumn=function(e,t){var n=this,r=0;return function(i,s,l){if(r>0)r-=1;else{var u=n.extractRowCellValue(i,s,e,a.x.EXPORT_TYPE_EXCEL,l),c=n.config.styleLinker(o.BODY,e,u,i,l),p=n.getStyleId(c),d=i.getColSpan(l),h=n.addImage(e,i,u);h?t.push(n.createCell(p,n.getDataTypeForValue(h.value),null==h.value?"":h.value)):d>1?(r=d-1,t.push(n.createMergedCell(p,n.getDataTypeForValue(u),u,d-1))):t.push(n.createCell(p,n.getDataTypeForValue(u),u))}}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var t=e.join("-");return this.mixedStyles[t]||this.addNewMixedStyle(e),this.mixedStyles[t].excelID},t.prototype.addNewMixedStyle=function(e){var t=this;this.mixedStyleCounter+=1;var n="mixedStyle"+this.mixedStyleCounter,r={};e.forEach(function(e){t.excelStyles.forEach(function(t){t.id===e&&a.mb.mergeDeep(r,a.mb.deepCloneObject(t))})}),r.id=n,r.name=n;var o=e.join("-");this.mixedStyles[o]={excelID:n,key:o,result:r},this.excelStyles.push(r),this.stylesByIds[n]=r},t}(b),tn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tn(t,e),t.prototype.createExcel=function(e){return Ht.createExcel(this.excelStyles,e)},t.prototype.getDataTypeForValue=function(e){return a.mb.isNumeric(e)?"Number":"String"},t.prototype.getType=function(e,t,n){if(this.isFormula(n))return"Formula";if(t&&t.dataType)switch(t.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("ag-grid: Unrecognized data type for excel export ["+t.id+".dataType="+t.dataType+"]")}return e},t.prototype.addImage=function(){},t.prototype.createCell=function(e,t,n){var r=this.getStyleById(e),o=this.getType(t,r,n)||t;return{styleId:r?e:void 0,data:{type:o,value:this.getValueTransformed(o,n)}}},t.prototype.getValueTransformed=function(e,t){var n,r=this;switch(e){case"String":return function(e){if(r.config.suppressTextAsCDATA)return a.mb.escapeString(e);var t=new RegExp("]]>","g");return"<![CDATA["+String(e).replace(t,"]]]]><![CDATA[>")+"]]>"}(t);case"Number":return Number(t).valueOf()+"";case"Boolean":return(n=t)&&"0"!==n&&"false"!==n?"1":"0";default:return t}},t.prototype.createMergedCell=function(e,t,n,r){return{styleId:this.getStyleById(e)?e:void 0,data:{type:t,value:n},mergeAcross:r}},t}(en),rn=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},on=function(e,t){return{name:"xdr:"+e,children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},an=function(e){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(e.recolor&&e.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},sn=function(e,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:e.id,descr:null!=e.altText?e.altText:void 0}},children:[an(e)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},ln=function(e){if(e.saturation||e.tint){var t=[];return e.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*e.saturation}}}),e.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*e.tint}}}),t}},un=function(e,t){var n,r,o;if(e.transparency){var i=Math.min(Math.max(e.transparency,0),100);n=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*i)}}}]}if(e.recolor)switch(n||(n=[]),e.recolor.toLocaleLowerCase()){case"grayscale":n.push({name:"a:grayscl"});break;case"sepia":n.push((o={color:"D9C3A5",tint:50,saturation:180},{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:(r={color:"black"}).color}},children:ln(r)},{name:"a:srgbClr",properties:{rawMap:{val:o.color}},children:ln(o)}]}));break;case"washout":n.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+t,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:n},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},cn=function(e,t){var n={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};return e.rotation&&(n.properties={rawMap:{rot:6e4*Math.min(Math.max(e.rotation,0),360)}}),{name:"xdr:spPr",children:[n,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},pn=function(e,t,n,r){return{name:"xdr:pic",children:[sn(e,t+1),un(e,n+1),cn(e,r)]}},dn=function(e){return{name:"a:"+e[0],children:[{name:"a:"+e[1],properties:{rawMap:{val:e[2],lastClr:e[3]}}}]}},hn=function(e){return{name:"a:"+e[0],properties:{rawMap:{script:e[2],typeface:e[1],panose:e[3]}}}},fn=function(e,t,n){return{name:"a:"+e,properties:{rawMap:{val:t}},children:n}},gn=function(e){var t=e[0],n=e[1],r=e[3],o=e[4],i=e[5],a=[];return a.push(fn("satMod",e[2])),r&&a.push(fn("lumMod",r)),o&&a.push(fn("tint",o)),i&&a.push(fn("shade",i)),{name:"a:gs",properties:{rawMap:{pos:t}},children:[{name:"a:schemeClr",properties:{rawMap:{val:n}},children:a}]}},mn=function(e,t){return{name:"a:solidFill",children:[fn("schemeClr",e,t)]}},yn=function(e){var t=e[2],n=e[3],r=e[4],o=r[0],i=r[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e[0]}},children:[{name:"a:gsLst",children:[gn(e[1]),gn(t),gn(n)]},{name:"a:lin",properties:{rawMap:{ang:o,scaled:i}}}]}},vn=function(e){return{name:"a:ln",properties:{rawMap:{w:e[0],cap:e[1],cmpd:e[2],algn:e[3]}},children:[mn("phClr"),fn("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},bn=function(e){var t=[];return e&&t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[fn("srgbClr","000000",[fn("alpha","63000")])]}),{name:"a:effectStyle",children:[a.mb.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},Cn={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},wn=["Dashed","DashDot","DashDotDot"],On={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},xn={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},Sn={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},Pn=function(e){return null==e?e:("#"===e.charAt(0)&&(e=e.substr(1)),6===e.length?"FF"+e:e)},_n=function(e,t){if(!e)return"thin";var n=function(e){switch(t){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}}(),r=Cn[e];return"Continuous"===e?n:"medium"===n&&-1!==wn.indexOf(r)?"medium"+r:r.charAt(0).toLowerCase()+r.substr(1)},En=function(e){return xn[e]||"general"},Tn=function(e){return Sn[e]||void 0},An=function(e){return{name:"color",properties:{rawMap:{rgb:Pn(e||"#000000")}}}},Mn=function(e){return{name:"borders",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){var t=e.left,n=e.right,r=e.top,o=e.bottom,i=e.diagonal,a=t?[An(t.color)]:void 0,s=n?[An(n.color)]:void 0,l=r?[An(r.color)]:void 0,u=o?[An(o.color)]:void 0,c=i?[An(i.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:a},{name:"right",properties:{rawMap:{style:n&&n.style}},children:s},{name:"top",properties:{rawMap:{style:r&&r.style}},children:l},{name:"bottom",properties:{rawMap:{style:o&&o.style}},children:u},{name:"diagonal",properties:{rawMap:{style:i&&i.style}},children:c}]}}(e)})}},Dn=function(e){var t=["Context","LeftToRight","RightToLeft"].indexOf(e);return Math.max(t,0)},kn=function(e){var t=e.alignment,n=e.borderId,r=e.fillId,o=e.fontId,i=e.numFmtId,a=e.protection,s=e.xfId,l=[];return t&&l.push(function(e){var t=e.horizontal,n=e.indent,r=e.readingOrder,o=e.rotate,i=e.shrinkToFit,a=e.vertical,s=e.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&En(t),indent:n,readingOrder:r&&Dn(r),textRotation:o,shrinkToFit:i,vertical:a&&Tn(a),wrapText:s}}}}(t)),a&&l.push(function(e){return{name:"protection",properties:{rawMap:{hidden:!0===e.hideFormula?1:0,locked:!1===e.protected?0:1}}}}(a)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:a?1:void 0,applyBorder:n?1:void 0,applyFill:r?1:void 0,borderId:n,fillId:r,applyFont:o?1:void 0,fontId:o,applyNumberFormat:i?1:void 0,numFmtId:i,xfId:s}},children:l.length?l:void 0}},Rn=function(){return(Rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},In=function(e,t){return-1!==e.indexOf("mixedStyle")&&t>1&&(e+="_"+t),e},Nn=function(){Le={base:0},je=[],Ge=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],Ve=[{patternType:"none"},{patternType:"gray125"}],Be=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],We=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],ze=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],Ue=[{builtinId:0,name:"Normal",xfId:0}]},Fn=function(e){var t,n,r,o,i,s,l=e.alignment,u=e.borders,c=e.font,p=e.interior,d=e.numberFormat,h=e.protection,f=e.id,g=0,m=0,y=0,v=0;f&&(f=In(f,He),null==Le[f]&&(p&&(r=(n=(t=p).pattern)?On[n]||n:"none",o=Pn(t.color),i=Pn(t.patternColor),-1===(s=a.mb.findIndex(Ve,function(e){return e.patternType==r&&e.fgRgb==o&&e.bgRgb==i}))&&(s=Ve.length,Ve.push({patternType:r,fgRgb:o,bgRgb:i})),g=s),u&&(m=function(e){var t,n,r,o,i,s,l,u,c=e.borderBottom,p=e.borderTop,d=e.borderLeft,h=e.borderRight;d&&(r=_n(d.lineStyle,d.weight),l=Pn(d.color)),h&&(o=_n(h.lineStyle,h.weight),u=Pn(h.color)),c&&(t=_n(c.lineStyle,c.weight),i=Pn(c.color)),p&&(n=_n(p.lineStyle,p.weight),s=Pn(p.color));var f=a.mb.findIndex(Be,function(e){var a=e.left,c=e.right,p=e.top,d=e.bottom;if(!a&&(r||l))return!1;if(!c&&(o||u))return!1;if(!p&&(n||s))return!1;if(!d&&(t||i))return!1;var h=a||{},f=c||{},g=p||{},m=d||{};return h.style==r&&h.color==l&&f.style==o&&f.color==u&&g.style==n&&g.color==s&&m.style==t&&m.color==i});return-1===f&&(f=Be.length,Be.push({left:{style:r,color:l},right:{style:o,color:u},top:{style:n,color:s},bottom:{style:t,color:i},diagonal:{style:void 0,color:void 0}})),f}(u)),c&&(y=function(e){var t=e.fontName,n=void 0===t?"Calibri":t,r=e.color,o=e.size,i=e.bold,s=e.italic,l=e.outline,u=e.shadow,c=e.strikeThrough,p=e.underline,d=e.family,h=e.verticalAlign,f=n?a.mb.utf8_encode(n):n,g=Pn(r),m=function(e){if(void 0!==d){var t=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(d||"Automatic");return Math.max(t,0)}}(),y=p?p.toLocaleLowerCase():void 0,v=h?h.toLocaleLowerCase():void 0,b=a.mb.findIndex(Ge,function(e){return e.fontName==f&&e.color==g&&e.size==o&&e.bold==i&&e.italic==s&&e.outline==l&&e.shadow==u&&e.strikeThrough==c&&e.underline==y&&e.verticalAlign==v&&e.family==m});return-1===b&&(b=Ge.length,Ge.push({fontName:f,color:g,size:o,bold:i,italic:s,outline:l,shadow:u,strikeThrough:c,underline:y,verticalAlign:v,family:null!=m?m.toString():void 0})),b}(c)),d&&(v=function(e){if(e=a.mb.utf8_encode(e),Kt[e])return Kt[e];var t=a.mb.findIndex(je,function(t){return t.formatCode===e});return-1===t?je.push({formatCode:e,numFmtId:t=je.length+164}):t=je[t].numFmtId,t}(d.format)),Le[f]=ze.length,ze.push({alignment:l,borderId:m||0,fillId:g||0,fontId:y||0,numFmtId:v||0,protection:h,xfId:0})))},Ln=function(e,t){return Le[In(e,t)]||0},jn=function(e){var t,n=function(e){return{name:"numFmts",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){return{name:"numFmt",properties:{rawMap:{formatCode:e.formatCode,numFmtId:e.numFmtId}}}}(e)})}}(je),r=function(e){return{name:"fonts",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){var t=e.color,n=e.fontName,r=e.family,o=e.scheme,i=e.italic,a=e.bold,s=e.strikeThrough,l=e.outline,u=e.shadow,c=e.underline,p=e.verticalAlign,d=[{name:"sz",properties:{rawMap:{val:e.size}}},{name:"color",properties:{rawMap:{theme:e.colorTheme,rgb:void 0===t?"FF000000":t}}},{name:"name",properties:{rawMap:{val:void 0===n?"Calibri":n}}}];return r&&d.push({name:"family",properties:{rawMap:{val:r}}}),o&&d.push({name:"scheme",properties:{rawMap:{val:o}}}),i&&d.push({name:"i"}),a&&d.push({name:"b"}),s&&d.push({name:"strike"}),l&&d.push({name:"outline"}),u&&d.push({name:"shadow"}),c&&d.push({name:"u",properties:{rawMap:{val:c}}}),p&&d.push({name:"vertAlign",properties:{rawMap:{val:p}}}),{name:"font",children:d}}(e)})}}(Ge.map(function(t){return Rn(Rn({},t),{size:null!=t.size?t.size:e})})),o=function(e){return{name:"fills",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){var t=e.fgTheme,n=e.fgTint,r=e.fgRgb,o=e.bgRgb,i=e.bgIndexed,a={name:"patternFill",properties:{rawMap:{patternType:e.patternType}}};return(t||n||r)&&(a.children=[{name:"fgColor",properties:{rawMap:{theme:t,tint:n,rgb:r}}}]),i&&(a.children||(a.children=[]),a.children.push({name:"bgColor",properties:{rawMap:{indexed:i,rgb:o}}})),{name:"fill",children:[a]}}(e)})}}(Ve),i=Mn(Be),a={name:"cellStyleXfs",properties:{rawMap:{count:(t=We).length}},children:t.map(function(e){return kn(e)})},s=function(e){return{name:"cellXfs",properties:{rawMap:{count:e.length}},children:e.map(function(e){return kn(e)})}}(ze),l=function(e){return{name:"cellStyles",properties:{rawMap:{count:e.length}},children:e.map(function(e){return function(e){return{name:"cellStyle",properties:{rawMap:{builtinId:e.builtinId,name:e.name,xfId:e.xfId}}}}(e)})}}(Ue);return Nn(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[n,r,o,i,a,s,l,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}},Gn=function(e){return{name:"sheets",children:e.map(function(e,t){return function(e,t){var n=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:e,sheetId:n,"r:id":"rId"+n}}}}(e,t)})}},Vn=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},Bn=function(e){return""!==e.data.value||void 0!==e.styleId},Wn=function(e,t,n){var r=e.index,o=e.collapsed,i=e.hidden,s=e.height,l=e.s,u=e.cells,c=void 0===u?[]:u;return function(e,t){for(var n=[],r=0,o=0;o<e.length;o++)(a=e[o]).mergeAcross&&(n.push({pos:o,excelPos:r}),r+=a.mergeAcross),r++;if(n.length)for(o=n.length-1;o>=0;o--){for(var i=[],a=e[n[o].pos],s=1;s<=a.mergeAcross;s++)i.push({ref:""+Jt(n[o].excelPos+1+s)+(t+1),styleId:a.styleId,data:{type:"empty",value:null}});i.length&&e.splice.apply(e,Vn([n[o].pos+1,0],i))}}(c,t),{name:"row",properties:{rawMap:{r,collapsed:o,hidden:i?"1":"0",ht:s,customHeight:null!=s?"1":"0",s:l,customFormat:null!=l?"1":"0"}},children:c.filter(Bn).map(function(e,t){return function(e,t,n){var r=e.ref,o=e.data,i=e.styleId,s=o.type,l=o.value,u=s;"f"===s?u="str":s.charAt(0)===s.charAt(0).toUpperCase()&&(u=function(e){var t=e.charAt(0).toLowerCase();return"s"===t?"inlineStr":t}(s));var c,p={name:"c",properties:{rawMap:{r,t:"empty"===u?void 0:u,s:i?Ln(i,n):void 0}}};return"empty"===u?p:(c="str"===u&&"f"===s?[{name:"f",textNode:a.mb.escapeString(a.mb.utf8_encode(l))}]:"inlineStr"===u?[{name:"is",children:[{name:"t",textNode:a.mb.escapeString(a.mb.utf8_encode(l))}]}]:[{name:"v",textNode:l}],a.mb.assign({},p,{children:c}))}(e,0,n)})}},zn=function(e){if(null==e)return 1;var t=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(e);return-1===t?1:t+1},Un=function(e){var t=[];return["all","first","even"].forEach(function(n){var r=e[n],o="all"===n?"odd":n;r&&(r.header||r.footer)&&a.mb.iterateObject(r,function(e,n){var r,i=""+e.charAt(0).toUpperCase()+e.slice(1);n&&t.push({name:""+o+i,properties:{rawMap:{"xml:space":"preserve"}},textNode:(r=n,r.reduce(function(e,t){var n,r,o,i;return""+(r=e+"&amp;"+("Center"===(n=t.position)?"C":"Right"===n?"R":"L"),(o=t.font)?(r+="&amp;&quot;",r+=o.fontName||"Calibri",r+=o.bold!==o.italic?o.bold?",Bold":",Italic":o.bold?",Bold Italic":",Regular",r+="&quot;",o.size&&(r+="&amp;"+o.size),o.strikeThrough&&(r+="&amp;S"),o.underline&&(r+="&amp;"+("Double"===o.underline?"E":"U")),o.color&&(r+="&amp;K"+o.color.replace("#","").toUpperCase()),r):r)+a.mb.escapeString((i=t.value,a.mb.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,t){i=i.replace(e,t)}),i))},""))})})}),t},Hn=function(e){var t,n=e.currentSheet,r=e.margins,o=void 0===r?{}:r,i=e.pageSetup,s=e.headerFooterConfig,l=e.worksheet.table,u=l.rows,c=l.columns,p=c&&c.length?function(e,t){var n=[];return e.forEach(function(e,r){var o,i=e.cells,a=0;e.index=r+1,i.forEach(function(e,i){var s=i+a+1,l=Jt(s),u=r+1;if(e.mergeAcross){var c=Jt(i+(a+=e.mergeAcross)+1);n.push(""+l+u+":"+c+u)}t[s-1]||(t[s-1]={}),function(e,t,n,r){if(!e.min)return e.min=t,void(e.max=t+n);var o=t;r&&(o=Math.max(o,r.min)),e.min=Math.max(e.min,o),e.max=Math.max(e.max,o+n)}(t[s-1],s,a,o),o=t[s-1],e.ref=""+l+u})}),n}(u,c):[];return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:a.mb.compose(function(e){return function(t){return e.length&&t.push({name:"cols",children:e.map(function(e){return n=(t=e).min,r=t.max,o=t.s,a=t.hidden,s=t.bestFit,l=1,u="0",(i=t.width)>1&&(l=function(e){return Math.ceil((e-12)/7+1)}(i),u="1"),{name:"col",properties:{rawMap:{min:n,max:r,width:l,style:o,hidden:a?"1":"0",bestFit:s?"1":"0",customWidth:u}}};var t,n,r,o,i,a,s,l,u})}),t}}(c),function(e,t){return function(n){return e.length&&n.push({name:"sheetData",children:e.map(function(e,n){return Wn(e,n,t)})}),n}}(u,n+1),(t=p,function(e){return t.length&&e.push({name:"mergeCells",properties:{rawMap:{count:t.length}},children:t.map(function(e){return{name:"mergeCell",properties:{rawMap:{ref:e}}}})}),e}),function(e){return function(t){var n=e.top,r=e.right,o=e.bottom,i=e.left,a=e.header,s=e.footer;return t.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===o?.75:o,footer:void 0===s?.3:s,header:void 0===a?.3:a,left:void 0===i?.7:i,right:void 0===r?.7:r,top:void 0===n?.75:n}}}),t}}(o),function(e){return function(t){var n;return e&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:(n=e.orientation,!n||"Portrait"!==n&&"Landscape"!==n?"portrait":n.toLocaleLowerCase()),paperSize:zn(e.pageSize)}}}),t}}(i),function(e){return function(t){return e?(t.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=e.first?1:0,differentOddEven:null!=e.even?1:0}},children:Un(e)}),t):t}}(s),function(e){return function(t){return Xn.worksheetImages.get(e)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}}(n))([])}},Kn=function(e){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:e.map(function(e){return{name:"Relationship",properties:{rawMap:{Id:(t=e).Id,Type:t.Type,Target:t.Target}}};var t})}},Xn=function(){function e(){}return e.createExcel=function(e,t,n,r,o){return this.addSheetName(t),function(e,t){1===(He=t)&&Nn(),e.forEach(Fn)}(e,this.sheetNames.length),this.createWorksheet(t,n,r,o)},e.buildImageMap=function(e,t,n,r,o){var i=this.sheetNames.length,s=this.images.get(e.id);e.position&&e.position.row&&e.position.column||(e.position||(e.position={}),e.position=a.mb.assign({},e.position,{row:t,column:r.indexOf(n)+1}));var l=e;if(function(e,t){var n=e.position,r=n.colSpan,o=n.column;if(e.width)if(r)for(var i=t.slice(o-1,o+r-1),a=0,s=0;s<i.length;s++){var l=i[s].getActualWidth();if(e.width<a+l){e.position.colSpan=s+1,e.totalWidth=e.width,e.width=e.totalWidth-a;break}a+=l}else e.totalWidth=e.width}(l,r),function(e,t){var n,r=e.position,o=r.rowSpan,i=r.row;if(e.height)if(o)for(var a=0,s=0,l=i;l<i+o;l++){var u=(n=qt(l,t)||20,Math.round(96*n/72));if(e.height<a+u){e.position.rowSpan=s+1,e.totalHeight=e.height,e.height=e.totalHeight-a;break}a+=u,s++}else e.totalHeight=e.height}(l,o),s){var u=a.mb.find(s,function(e){return e.sheetId===i});u?u.image.push(l):s.push({sheetId:i,image:[l]})}else this.images.set(l.id,[{sheetId:i,image:[l]}]),this.workbookImageIds.set(l.id,{type:l.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(i,l)},e.buildSheetImageMap=function(e,t){var n=this.worksheetImageIds.get(e);n||(n=new Map,this.worksheetImageIds.set(e,n));var r=this.worksheetImages.get(e);r?(r.push(t),n.get(t.id)||n.set(t.id,{index:n.size,type:t.imageType})):(this.worksheetImages.set(e,[t]),n.set(t.id,{index:0,type:t.imageType}))},e.addSheetName=function(e){for(var t=e.name,n="";-1!==this.sheetNames.indexOf(t+n);)if(""===n)n="_1";else{var r=parseInt(n.slice(1),10);n="_"+(r+1)}e.name+=n,this.sheetNames.push(e.name)},e.getStringPosition=function(e){return this.sharedStrings.has(e)?this.sharedStrings.get(e):(this.sharedStrings.set(e,this.sharedStrings.size),this.sharedStrings.size-1)},e.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=a.D.SINGLE_SHEET},e.createWorkbook=function(){return Yt({name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[Gn(this.sheetNames)]})},e.createStylesheet=function(e){return Yt(jn(e))},e.createSharedStrings=function(){return Yt({name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:(e=this.sharedStrings).size,uniqueCount:e.size}},children:(t=e,n=[],t.forEach(function(e,t){var r=t.toString(),o={name:"t",textNode:a.mb.utf8_encode(a.mb.escapeString(r))};r.replace(/^\s*|\s*$/g,"").length!==r.length&&(o.properties={rawMap:{"xml:space":"preserve"}}),n.push({name:"si",children:[o]})}),n)});var e,t,n},e.createCore=function(e){return Yt(function(e){var t=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:e},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t}]}}(e))},e.createContentTypes=function(e){return Yt(function(e){var t=a.mb.fill(new Array(e),void 0).map(function(e,t){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(t+1)+".xml"}}),n=Xn.worksheetImages.size,r={};Xn.workbookImageIds.forEach(function(e){r[e.type]=!0});var o=a.mb.fill(new Array(n),void 0).map(function(e,t){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(t+1)+".xml"}}),i=Object.keys(r).map(function(e){return{name:"Default",ContentType:"image/"+e,Extension:e}});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:rn(i,[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],t,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],o,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(e){return{name:(t=e).name,properties:{rawMap:{Extension:t.Extension,PartName:t.PartName,ContentType:t.ContentType}}};var t})}}(e))},e.createRels=function(){var e=Kn([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return Yt(e)},e.createTheme=function(){return Yt({name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[{name:"a:themeElements",children:[{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[dn(["dk1","sysClr","windowText","000000"]),dn(["lt1","sysClr","window","FFFFFF"]),dn(["dk2","srgbClr","44546A"]),dn(["lt2","srgbClr","E7E6E6"]),dn(["accent1","srgbClr","4472C4"]),dn(["accent2","srgbClr","ED7D31"]),dn(["accent3","srgbClr","A5A5A5"]),dn(["accent4","srgbClr","FFC000"]),dn(["accent5","srgbClr","5B9BD5"]),dn(["accent6","srgbClr","70AD47"]),dn(["hlink","srgbClr","0563C1"]),dn(["folHlink","srgbClr","954F72"])]},(e=a.mb.utf8_encode,{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[hn(["latin","Calibri Light",void 0,"020F0302020204030204"]),hn(["ea",""]),hn(["cs",""]),hn(["font",e("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),hn(["font",e("\ub9d1\uc740 \uace0\ub515"),"Hang"]),hn(["font",e("\u7b49\u7ebf Light"),"Hans"]),hn(["font",e("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),hn(["font","Times New Roman","Arab"]),hn(["font","Times New Roman","Hebr"]),hn(["font","Tahoma","Thai"]),hn(["font","Nyala","Ethi"]),hn(["font","Vrinda","Beng"]),hn(["font","Shruti","Gujr"]),hn(["font","MoolBoran","Khmr"]),hn(["font","Tunga","Knda"]),hn(["font","Raavi","Guru"]),hn(["font","Euphemia","Cans"]),hn(["font","Plantagenet Cherokee","Cher"]),hn(["font","Microsoft Yi Baiti","Yiii"]),hn(["font","Microsoft Himalaya","Tibt"]),hn(["font","MV Boli","Thaa"]),hn(["font","Mangal","Deva"]),hn(["font","Gautami","Telu"]),hn(["font","Latha","Taml"]),hn(["font","Estrangelo Edessa","Syrc"]),hn(["font","Kalinga","Orya"]),hn(["font","Kartika","Mlym"]),hn(["font","DokChampa","Laoo"]),hn(["font","Iskoola Pota","Sinh"]),hn(["font","Mongolian Baiti","Mong"]),hn(["font","Times New Roman","Viet"]),hn(["font","Microsoft Uighur","Uigh"]),hn(["font","Sylfaen","Geor"]),hn(["font","Arial","Armn"]),hn(["font","Leelawadee UI","Bugi"]),hn(["font","Microsoft JhengHei","Bopo"]),hn(["font","Javanese Text","Java"]),hn(["font","Segoe UI","Lisu"]),hn(["font","Myanmar Text","Mymr"]),hn(["font","Ebrima","Nkoo"]),hn(["font","Nirmala UI","Olck"]),hn(["font","Ebrima","Osma"]),hn(["font","Phagspa","Phag"]),hn(["font","Estrangelo Edessa","Syrn"]),hn(["font","Estrangelo Edessa","Syrj"]),hn(["font","Estrangelo Edessa","Syre"]),hn(["font","Nirmala UI","Sora"]),hn(["font","Microsoft Tai Le","Tale"]),hn(["font","Microsoft New Tai Lue","Talu"]),hn(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[hn(["latin","Calibri",void 0,"020F0502020204030204"]),hn(["ea",""]),hn(["cs",""]),hn(["font",e("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),hn(["font",e("\ub9d1\uc740 \uace0\ub515"),"Hang"]),hn(["font",e("\u7b49\u7ebf"),"Hans"]),hn(["font",e("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),hn(["font","Arial","Arab"]),hn(["font","Arial","Hebr"]),hn(["font","Tahoma","Thai"]),hn(["font","Nyala","Ethi"]),hn(["font","Vrinda","Beng"]),hn(["font","Shruti","Gujr"]),hn(["font","DaunPenh","Khmr"]),hn(["font","Tunga","Knda"]),hn(["font","Raavi","Guru"]),hn(["font","Euphemia","Cans"]),hn(["font","Plantagenet Cherokee","Cher"]),hn(["font","Microsoft Yi Baiti","Yiii"]),hn(["font","Microsoft Himalaya","Tibt"]),hn(["font","MV Boli","Thaa"]),hn(["font","Mangal","Deva"]),hn(["font","Gautami","Telu"]),hn(["font","Latha","Taml"]),hn(["font","Estrangelo Edessa","Syrc"]),hn(["font","Kalinga","Orya"]),hn(["font","Kartika","Mlym"]),hn(["font","DokChampa","Laoo"]),hn(["font","Iskoola Pota","Sinh"]),hn(["font","Mongolian Baiti","Mong"]),hn(["font","Arial","Viet"]),hn(["font","Microsoft Uighur","Uigh"]),hn(["font","Sylfaen","Geor"]),hn(["font","Arial","Armn"]),hn(["font","Leelawadee UI","Bugi"]),hn(["font","Microsoft JhengHei","Bopo"]),hn(["font","Javanese Text","Java"]),hn(["font","Segoe UI","Lisu"]),hn(["font","Myanmar Text","Mymr"]),hn(["font","Ebrima","Nkoo"]),hn(["font","Nirmala UI","Olck"]),hn(["font","Ebrima","Osma"]),hn(["font","Phagspa","Phag"]),hn(["font","Estrangelo Edessa","Syrn"]),hn(["font","Estrangelo Edessa","Syrj"]),hn(["font","Estrangelo Edessa","Syre"]),hn(["font","Nirmala UI","Sora"]),hn(["font","Microsoft Tai Le","Tale"]),hn(["font","Microsoft New Tai Lue","Talu"]),hn(["font","Ebrima","Tfng"])]}]}),{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[mn("phClr"),yn(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),yn(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[vn(["6350","flat","sng","ctr"]),vn(["12700","flat","sng","ctr"]),vn(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[bn(),bn(),bn(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[mn("phClr"),mn("phClr",[fn("tint","95000"),fn("satMod","170000")]),yn(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}]},{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]});var e},e.createWorkbookRels=function(e){var t=a.mb.fill(new Array(e),void 0).map(function(e,t){return{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(t+1)+".xml"}}),n=Kn(function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}(t,[{Id:"rId"+(e+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(e+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(e+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return Yt(n)},e.createDrawing=function(e){return Yt(function(e){var t=e.sheetIndex,n=Xn.worksheetImages.get(t),r=Xn.worksheetImageIds.get(t);return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:n.map(function(e,t){var n=function(e){e.fitCell=!!e.fitCell||!e.width||!e.height;var t=e.position,n=void 0===t?{}:t,r=e.fitCell,o=e.width,i=void 0===o?0:o,a=e.height,s=void 0===a?0:a,l=e.totalHeight,u=e.totalWidth,c=n.offsetX,p=void 0===c?0:c,d=n.offsetY,h=void 0===d?0:d,f=n.row,g=void 0===f?1:f,m=n.rowSpan,y=void 0===m?1:m,v=n.column,b=void 0===v?1:v,C=n.colSpan,w=void 0===C?1:C;return{from:{row:g-1,col:b-1,offsetX:Xt(p),offsetY:Xt(h)},to:{row:g-1+(r?1:y-1),col:b-1+(r?1:w-1),offsetX:Xt(i+p),offsetY:Xt(s+h)},height:Xt(l||s),width:Xt(u||i)}}(e);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[on("from",n.from),on("to",n.to),pn(e,t,r.get(e.id).index,n),{name:"xdr:clientData"}]}})}}({sheetIndex:e}))},e.createDrawingRel=function(e){var t=this,n=this.worksheetImageIds.get(e),r=[];return n.forEach(function(e,n){r.push({Id:"rId"+(e.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(t.workbookImageIds.get(n).index+1)+"."+e.type})}),Yt(Kn(r))},e.createWorksheetDrawingRel=function(e){var t=Kn([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(e+1)+".xml"}]);return Yt(t)},e.createWorksheet=function(e,t,n,r){return Yt(Hn({worksheet:e,currentSheet:this.sheetNames.length-1,margins:t,pageSetup:n,headerFooterConfig:r}))},e.sharedStrings=new Map,e.sheetNames=[],e.images=new Map,e.worksheetImages=new Map,e.workbookImageIds=new Map,e.worksheetImageIds=new Map,e.factoryMode=a.D.SINGLE_SHEET,e}(),qn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qn(t,e),t.prototype.createExcel=function(e){var t=this.config;return Xn.createExcel(this.excelStyles,e,t.margins,t.pageSetup,t.headerFooterConfig)},t.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":a.mb.isNumeric(e)?"n":"s"},t.prototype.getType=function(e,t,n){if(this.isFormula(n))return"f";if(t&&t.dataType)switch(t.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("ag-grid: Unrecognized data type for excel export ["+t.id+".dataType="+t.dataType+"]")}return e},t.prototype.addImage=function(e,t,n){if(this.config.addImageToCell){var r=this.config.addImageToCell(e,t,n);if(r)return Xn.buildImageMap(r.image,e,t,this.columnsToExport,this.config.rowHeight),r}},t.prototype.createCell=function(e,t,n){var r=this.getStyleById(e),o=this.getType(t,r,n)||t;return{styleId:r?e:void 0,data:{type:o,value:this.getCellValue(o,n)}}},t.prototype.createMergedCell=function(e,t,n,r){var o=null==n?"":n;return{styleId:this.getStyleById(e)?e:void 0,data:{type:t,value:"s"===t?Xn.getStringPosition(o).toString():n},mergeAcross:r}},t.prototype.getCellValue=function(e,t){if(null==t)return Xn.getStringPosition("").toString();switch(e){case"s":return""===t?"":Xn.getStringPosition(t).toString();case"f":return t.slice(1);case"n":return Number(t).toString();default:return t}},t}(en),Jn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qn=function(){return(Qn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Zn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},$n=function(e){var t=e.data,n=e.fontSize,r=void 0===n?11:n,o=e.author,i=void 0===o?"AG Grid":o,a=Xn.images.size>0;if(R.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),a){R.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var s=0;Xn.images.forEach(function(e){var t=e[0].image[0];R.addFile("xl/media/image"+ ++s+"."+t.imageType,t.base64,!0)})}if(!t||0===t.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void Xn.resetFactory();var l=t.length,u=0;return t.forEach(function(e,t){R.addFile("xl/worksheets/sheet"+(t+1)+".xml",e),a&&Xn.worksheetImages.get(t)&&er(t,u++)}),R.addFile("xl/workbook.xml",Xn.createWorkbook()),R.addFile("xl/styles.xml",Xn.createStylesheet(r)),R.addFile("xl/sharedStrings.xml",Xn.createSharedStrings()),R.addFile("xl/theme/theme1.xml",Xn.createTheme()),R.addFile("xl/_rels/workbook.xml.rels",Xn.createWorkbookRels(l)),R.addFile("docProps/core.xml",Xn.createCore(i)),R.addFile("[Content_Types].xml",Xn.createContentTypes(l)),R.addFile("_rels/.rels",Xn.createRels()),Xn.resetFactory(),R.getContent("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},er=function(e,t){var n="xl/drawings/drawing"+(t+1)+".xml",r="xl/worksheets/_rels/sheet"+(e+1)+".xml.rels";R.addFile("xl/drawings/_rels/drawing"+(t+1)+".xml.rels",Xn.createDrawingRel(e)),R.addFile(n,Xn.createDrawing(e)),R.addFile(r,Xn.createWorksheetDrawingRel(t))},tr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.exportMode="xlsx",t}return Jn(t,e),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getDefaultExportParams=function(){return this.gridOptionsWrapper.getDefaultExportParams("excel")},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParamsAndData(e),n=t.mergedParams,r=t.data,o=this.packageFile({data:[r],fontSize:n.fontSize,author:n.author});return o&&C.download(this.getFileName(n.fileName),o),r},t.prototype.exportDataAsExcel=function(e){var t="xlsx";return e&&e.exportMode&&(t=e.exportMode),this.setExportMode(t),this.export(e)},t.prototype.getDataAsExcel=function(e){var t=this.getMergedParamsAndData(e),n=t.mergedParams,r=t.data;return e&&"xml"===e.exportMode?r:this.packageFile({data:[r],fontSize:n.fontSize,author:n.author})},t.prototype.setFactoryMode=function(e,t){void 0===t&&(t="xlsx"),("xlsx"===t?Xn:Ht).factoryMode=e},t.prototype.getFactoryMode=function(e){return("xlsx"===e?Xn:Ht).factoryMode},t.prototype.getSheetDataForExcel=function(e){return this.getMergedParamsAndData(e).data},t.prototype.getMultipleSheetsAsExcel=function(e){return $n(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){return function(e){var t=e.fileName,n=void 0===t?"export.xlsx":t,r=$n(e);r&&C.download(n,r)}(e)},t.prototype.getMimeType=function(){return"xml"===this.getExportMode()?"application/vnd.ms-excel":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var t=this.columnModel,n=this.valueService,r=this.gridOptionsWrapper,o="xlsx"===this.getExportMode(),i="ag-grid";null!=e.sheetName&&(i=a.mb.utf8_encode(e.sheetName.toString().substr(0,31)));var s=Qn(Qn({},e),{sheetName:i,columnModel:t,valueService:n,gridOptionsWrapper:r,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(o?Yn:nn)(s)},t.prototype.styleLinker=function(e,t,n,r,i){if(e===o.HEADER)return["header"];if(e===o.HEADER_GROUPING)return["header","headerGroup"];var a=this.gridOptions.excelStyles,s=["cell"];if(!a||!a.length)return s;var l=a.map(function(e){return e.id});return this.stylingService.processAllCellClasses(r.getColDef(),{value:n,data:i.data,node:i,colDef:r.getColDef(),rowIndex:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:null,context:this.gridOptionsWrapper.getContext()},function(e){l.indexOf(e)>-1&&s.push(e)}),s.sort(function(e,t){return l.indexOf(e)<l.indexOf(t)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode},t.prototype.packageFile=function(e){return"xml"===this.getExportMode()?new Blob(["\ufeff",e.data[0]],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"}):$n(e)},Zn([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),Zn([Object(a.k)("valueService")],t.prototype,"valueService",void 0),Zn([Object(a.k)("gridOptions")],t.prototype,"gridOptions",void 0),Zn([Object(a.k)("stylingService")],t.prototype,"stylingService",void 0),Zn([Object(a.k)("gridSerializer")],t.prototype,"gridSerializer",void 0),Zn([Object(a.k)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Zn([a.S],t.prototype,"postConstruct",null),Zn([Object(a.m)("excelCreator")],t)}(v),nr={moduleName:a.L.ExcelExportModule,beans:[tr,A,P],dependantModules:[M,U]},rr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),or=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.INDETERMINATE=2]="INDETERMINATE"}(Ke||(Ke={}));var ir,ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rr(t,e),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(e("ariaSearch","Search")),this.createExpandIcons(),this.setExpandState(Ke.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=a.mb.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=a.mb.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=a.mb.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,t=!this.params.suppressExpandAll,n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(n("searchOoo","Search..."));var r=this.columnModel.getAllGridColumns().some(function(e){return e.getOriginalParent()&&e.isFilterAllowed()});a.mb.setDisplayed(this.eFilterTextField.getGui(),e),a.mb.setDisplayed(this.eExpand,t&&r)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=a.mb.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===Ke.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},t.prototype.setExpandState=function(e){this.currentExpandState=e,a.mb.setDisplayed(this.eExpandChecked,this.currentExpandState===Ke.EXPANDED),a.mb.setDisplayed(this.eExpandUnchecked,this.currentExpandState===Ke.COLLAPSED),a.mb.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===Ke.INDETERMINATE)},or([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),or([Object(a.X)("eExpand")],t.prototype,"eExpand",void 0),or([Object(a.X)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),or([a.T],t.prototype,"preConstruct",null),or([a.S],t.prototype,"postConstruct",null),t}(a.v),sr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ur=function(e){function t(n){void 0===n&&(n=!1);var r=e.call(this,t.TEMPLATE)||this;return r.expanded=!1,r.hideHeader=n,r}return sr(t,e),t.prototype.postConstruct=function(){this.eExpandChecked=a.mb.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=a.mb.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var t=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(e){e.keyCode===a.J.ENTER&&t.toggleExpanded()}),this.addManagedListener(this.eventService,a.C.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),a.mb.addOrRemoveCssClass(this.eFilterIcon,"ag-hidden",!this.isFilterActive()),a.mb.addCssClass(this.eExpandChecked,"ag-hidden"),this.hideHeader?(a.mb.addOrRemoveCssClass(this.eFilterToolPanelHeader,"ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,a.t.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){a.mb.addCssClass(this.eFilterToolPanelHeader,e)},t.prototype.addInIcon=function(e,t,n){if(null!=t){var r=a.mb.createIconNoSpan(e,this.gridOptionsWrapper,n);t.appendChild(r)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){a.mb.addOrRemoveCssClass(this.eFilterIcon,"ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:a.t.EVENT_FILTER_CHANGED})},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){var e=this;if(!this.expanded){this.expanded=!0;var t=a.mb.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),n=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR").filterPromise;n&&n.then(function(n){e.underlyingFilter=n,n&&(t.appendChild(n.getGui()),e.agFilterToolPanelBody.appendChild(t),n.afterGuiAttached&&n.afterGuiAttached({container:"toolPanel"}))}),a.mb.setDisplayed(this.eExpandChecked,!0),a.mb.setDisplayed(this.eExpandUnchecked,!1)}},t.prototype.collapse=function(){this.expanded&&(this.expanded=!1,this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),a.mb.setDisplayed(this.eExpandChecked,!1),a.mb.setDisplayed(this.eExpandUnchecked,!0))},t.prototype.refreshFilter=function(){if(this.expanded){var e=this.underlyingFilter;e&&"function"==typeof e.refreshVirtualList&&e.refreshVirtualList()}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&this.expanded&&this.collapse()},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',lr([Object(a.X)("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),lr([Object(a.X)("eFilterName")],t.prototype,"eFilterName",void 0),lr([Object(a.X)("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),lr([Object(a.X)("eFilterIcon")],t.prototype,"eFilterIcon",void 0),lr([Object(a.X)("eExpand")],t.prototype,"eExpand",void 0),lr([Object(a.k)("filterManager")],t.prototype,"filterManager",void 0),lr([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),lr([a.S],t.prototype,"postConstruct",null),t}(a.v),cr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},dr=function(e){function t(t,n,r,o,i){var a=e.call(this)||this;return a.columnGroup=t,a.childFilterComps=n,a.depth=o,a.expandedCallback=r,a.showingColumn=i,a}return cr(t,e),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),a.mb.addCssClass(this.filterGroupComp.getGui(),"ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(t){e.filterGroupComp.addItem(t),t.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")}),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var t=function(){var t=e.columnGroup.getColDef().headerTooltip;e.setTooltip(t)};t(),this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,t)}},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="filterToolPanelColumnGroup",t},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(){this.childFilterComps.forEach(function(e){e instanceof t?e.refreshFilters():e.refreshFilter()})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof a.P},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,t){this.filterGroupComp.hideItem(e,t)},t.prototype.hideGroup=function(e){a.mb.addOrRemoveCssClass(this.getGui(),"ag-hidden",e)},t.prototype.forEachToolPanelFilterChild=function(e){a.mb.forEach(this.childFilterComps,function(t){t instanceof ur&&e(t)})},t.prototype.addExpandCollapseListeners=function(){var e=this,t=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(e){return e.expand()})},n=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(e){return e.collapse()})};this.addManagedListener(this.filterGroupComp,a.e.EVENT_EXPANDED,t),this.addManagedListener(this.filterGroupComp,a.e.EVENT_COLLAPSED,n)},t.prototype.addFilterChangedListeners=function(){var e=this;if(this.columnGroup instanceof a.P){var t=this.columnGroup;t.getLeafColumns().forEach(function(n){e.addManagedListener(n,a.t.EVENT_FILTER_CHANGED,function(){a.mb.addOrRemoveCssClass(e.filterGroupComp.getGui(),"ag-has-filter",t.getLeafColumns().some(function(e){return e.isFilterActive()}))})})}else{var n=this.columnGroup;this.addManagedListener(this.eventService,a.C.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addManagedListener(n,a.t.EVENT_FILTER_CHANGED,function(){a.mb.addOrRemoveCssClass(e.filterGroupComp.getGui(),"ag-has-filter",n.isFilterActive())})}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof a.P?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForOriginalColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),a.mb.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',pr([Object(a.X)("filterGroupComp")],t.prototype,"filterGroupComp",void 0),pr([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),pr([a.T],t.prototype,"preConstruct",null),pr([a.S],t.prototype,"init",null),t}(a.v),hr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},gr=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.initialised=!1,n.filterGroupComps=[],n}return hr(t,e),t.prototype.init=function(e){var t=this;this.initialised=!0;var n={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};a.mb.mergeDeep(n,e),this.params=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_MOVED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,a.C.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(e){"filters"===e.source&&t.refreshFilters()}),this.columnModel.isReady()&&this.onColumnsChanged()},t.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var t=this.columnModel.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(t,0);var n=this.filterGroupComps.length;n&&(this.filterGroupComps.forEach(function(t){return e.appendChild(t)}),this.setFirstAndLastVisible(0,n-1)),a.mb.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.setFiltersLayout=function(e){var t=this;this.destroyFilters();var n=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(n,0);var r=this.filterGroupComps.length;r&&(this.filterGroupComps.forEach(function(e){return t.appendChild(e)}),this.setFirstAndLastVisible(0,r-1)),a.mb.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.recursivelyAddComps=function(e,t){var n=this;return a.mb.flatten(e.map(function(e){if(e instanceof a.P)return a.mb.flatten(n.recursivelyAddFilterGroupComps(e,t));var r=e;if(!n.shouldDisplayFilter(r))return[];var o=new ur(0===t);if(n.getContext().createBean(o),o.setColumn(r),t>0)return o;var i=n.createBean(new dr(r,[o],n.onGroupExpanded.bind(n),t,!0));return i.addCssClassToTitleBar("ag-filter-toolpanel-header"),i.collapse(),i}))},t.prototype.recursivelyAddFilterGroupComps=function(e,t){if(this.filtersExistInChildren(e.getChildren())){var n=e.getColGroupDef();if(n&&n.suppressFiltersToolPanel)return[];var r=e.isPadding()?t:t+1,o=a.mb.flatten(this.recursivelyAddComps(e.getChildren(),r));if(e.isPadding())return o;var i=new dr(e,o,this.onGroupExpanded.bind(this),t,!1);return this.getContext().createBean(i),i.addCssClassToTitleBar("ag-filter-toolpanel-header"),[i]}},t.prototype.filtersExistInChildren=function(e){var t=this;return e.some(function(e){return e instanceof a.P?t.filtersExistInChildren(e.getChildren()):t.shouldDisplayFilter(e)})},t.prototype.shouldDisplayFilter=function(e){var t=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!t},t.prototype.refresh=function(){},t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,t){var n=[],r=function(o){var i=o.getFilterGroupId();(!t||a.mb.includes(t,i))&&(e&&o.isColumnGroup()?o.expand():o.collapse(),n.push(i)),o.getChildren().forEach(function(e){e instanceof dr&&r(e)})};if(this.filterGroupComps.forEach(r),this.onGroupExpanded(),t){var o=t.filter(function(e){return n.indexOf(e)<0});o.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",o)}},t.prototype.expandFilters=function(e,t){var n=[],r=function(o){if(o instanceof dr){var i=!1;return o.getChildren().forEach(function(t){r(t)&&(e?(o.expand(),i=!0):o.isColumnGroup()||o.collapse())}),i}var s=o.getColumn().getColId(),l=!t||a.mb.includes(t,s);return l&&(e?o.expand():o.collapse(),n.push(s)),l};if(this.filterGroupComps.forEach(r),this.onGroupExpanded(),t){var o=t.filter(function(e){return n.indexOf(e)<0});o.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",o)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.fireExpandedEvent=function(){var e=0,t=0,n=function(r){r.isColumnGroup()&&(r.isExpanded()?e++:t++,r.getChildren().forEach(function(e){e instanceof dr&&n(e)}))};this.filterGroupComps.forEach(n),this.dispatchEvent({type:"groupExpanded",state:e>0&&t>0?Ke.INDETERMINATE:t>0?Ke.COLLAPSED:Ke.EXPANDED})},t.prototype.performFilterSearch=function(e){this.searchFilterText=a.mb.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var t,n,r=function(t){return!a.mb.exists(e)||-1!==t.toLowerCase().indexOf(e)},o=function(e,t){if(!(e instanceof dr))return r(e.getColumnFilterName()||"");var n=e.getChildren(),i=r(e.getFilterGroupName()),a=t||i;if(a){e.hideGroup(!1);for(var s=0;s<n.length;s++)o(n[s],a),e.hideGroupItem(!1,s);return!0}var l=!1;return n.forEach(function(n,r){var i=o(n,t);e.hideGroupItem(!i,r),i&&(l=!0)}),e.hideGroup(!l),l};this.filterGroupComps.forEach(function(e,r){o(e,!1),void 0===t?a.mb.containsClass(e.getGui(),"ag-hidden")||(t=r,n=r):a.mb.containsClass(e.getGui(),"ag-hidden")||n===r||(n=r)}),this.setFirstAndLastVisible(t,n)},t.prototype.setFirstAndLastVisible=function(e,t){this.filterGroupComps.forEach(function(n,r){a.mb.removeCssClass(n.getGui(),"ag-first-group-visible"),a.mb.removeCssClass(n.getGui(),"ag-last-group-visible"),r===e&&a.mb.addCssClass(n.getGui(),"ag-first-group-visible"),r===t&&a.mb.addCssClass(n.getGui(),"ag-last-group-visible")})},t.prototype.refreshFilters=function(){this.filterGroupComps.forEach(function(e){return e.refreshFilters()})},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),a.mb.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',fr([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),fr([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),fr([Object(a.k)("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),fr([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),t}(a.v),mr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},vr=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.initialised=!1,n.listenerDestroyFuncs=[],n}return mr(t,e),t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(e){return e()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var t={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};a.mb.mergeDeep(t,e),this.params=t,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(){this.init(this.params)},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',yr([Object(a.X)("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),yr([Object(a.X)("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),yr([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),yr([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),t}(a.v),br={moduleName:a.L.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:ar},{componentName:"AgFiltersToolPanelList",componentClass:gr}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:vr}],dependantModules:[It,U]},Cr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cr(t,e),t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("ag-grid: crossing filtering with row grouping is not supported."),{data:[],columnNames:{}};if(!this.gridOptionsWrapper.isRowModelDefault())return console.warn("ag-grid: crossing filtering is only supported in the client side row model."),{data:[],columnNames:{}}}this.gridOptionsWrapper.isRowModelServerSide()&&e.pivoting&&this.updatePivotKeysForSSRM();var t=this.extractRowsFromGridRowModel(e);return t.data=this.aggregateRowsByDimension(e,t.data),t},t.prototype.extractRowsFromGridRowModel=function(e){var n,r=this,o=[],i={},s={},l={},u={},c=[];if(e.crossFiltering)u=this.getFilteredRowNodes(),n=(c=this.getAllRowNodes()).length;else{var p=this.gridRowModel.getRowCount()-1;n=(e.endRow>=0?Math.min(e.endRow,p):p)-e.startRow+1}for(var d=function(n){var a={},p=e.crossFiltering?c[n]:h.gridRowModel.getRow(n+e.startRow);e.dimensionCols.forEach(function(o){var i=o.colId,u=r.columnModel.getGridColumn(i);if(u){var c=r.valueService.getValue(u,p);if(e.grouping){var d=c&&c.toString?String(c.toString()):"",h=t.getGroupLabels(p,d);a[i]={labels:h,toString:function(){return this.labels.filter(function(e){return!!e}).reverse().join(" - ")}},p.group&&(s[h.toString()]=n);var f=h.slice(1,h.length).toString();f&&(l[f]=s[f])}else a[i]=c}else a[_r.DEFAULT_CATEGORY]=n+1}),e.valueCols.forEach(function(t){var n=[],o=t.getColDef().pivotKeys;o&&(n=o.slice());var s=t.getColDef().headerName;s&&n.push(s),n.length>0&&(i[t.getId()]=n);var l=t.getColId();if(e.crossFiltering){var c=l+"-filtered-out",d=null!=(h=r.valueService.getValue(t,p))&&"function"==typeof h.toNumber?h.toNumber():h;u[p.id]?(a[l]=d,a[c]=e.aggFunc||e.isScatter?void 0:0):(a[l]=e.aggFunc||e.isScatter?void 0:0,a[c]=d)}else{var h=r.valueService.getValue(t,p);a[l]=null!=h&&"function"==typeof h.toNumber?h.toNumber():h}}),o.push(a)},h=this,f=0;f<n;f++)d(f);if(e.grouping){var g=a.mb.values(l);o=o.filter(function(e,t){return!a.mb.includes(g,t)})}return{data:o,columnNames:i}},t.prototype.aggregateRowsByDimension=function(e,t){var n=this,r=e.dimensionCols;if(!e.aggFunc||0===r.length)return t;var o=a.mb.last(r),i=o&&o.colId,s={},l=[];return t.forEach(function(e){var t=s;r.forEach(function(n){var o=n.colId,a=e[o];if(o===i){var s=t[a];s||(s={__children:[]},r.forEach(function(t){var n=t.colId;s[n]=e[n]}),t[a]=s,l.push(s)),s.__children.push(e)}else t[a]||(t[a]={}),t=t[a]})}),a.M.assertRegistered(a.L.RowGroupingModule,"Charting Aggregation")&&l.forEach(function(t){return e.valueCols.forEach(function(r){if(e.crossFiltering)e.valueCols.forEach(function(r){var o=t.__children.filter(function(e){return void 0!==e[r.getColId()]}).map(function(e){return e[r.getColId()]}),i=n.aggregationStage.aggregateValues(o,e.aggFunc);t[r.getId()]=i&&void 0!==i.value?i.value:i;var a=r.getId()+"-filtered-out",s=t.__children.filter(function(e){return void 0!==e[a]}).map(function(e){return e[a]}),l=n.aggregationStage.aggregateValues(s,e.aggFunc);t[a]=l&&void 0!==l.value?l.value:l});else{var o=t.__children.map(function(e){return e[r.getId()]}),i=0;a.M.assertRegistered(a.L.RowGroupingModule,"Charting Aggregation")&&(i=n.aggregationStage.aggregateValues(o,e.aggFunc)),t[r.getId()]=i&&void 0!==i.value?i.value:i}})}),l},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var t=this.extractPivotKeySeparator(e);e.forEach(function(e){var n=e.getColId().split(t);e.getColDef().pivotKeys=n.slice(0,n.length-1)})}},t.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var t=function(e,n){var r=e.getGroupId();return e.getParent()?t(e.getParent(),r):n.split(r)[1][0]},n=e[0];return t(n.getParent(),n.getColId())},t.getGroupLabels=function(e,t){for(var n=[t];e&&0!==e.level;)(e=e.parent)&&n.push(e.key);return n},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(t){e[t.id]=t}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(t){e.push(t)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var t=this.sortController.getSortOptions();return t&&0!=t.length?this.rowNodeSorter.doFullSort(e,t):e},wr([Object(a.k)("rowModel")],t.prototype,"gridRowModel",void 0),wr([Object(a.k)("valueService")],t.prototype,"valueService",void 0),wr([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),wr([Object(a.k)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),wr([Object(a.k)("sortController")],t.prototype,"sortController",void 0),wr([Object(a.O)("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(a.n),xr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Pr=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},_r=function(e){function t(t){var n=e.call(this)||this;return n.dimensionColState=[],n.valueColState=[],n.unlinked=!1,n.grouping=!1,n.crossFiltering=!1,n.columnNames={},n.pivotChart=t.pivotChart,n.chartType=t.chartType,n.chartThemeName=t.chartThemeName,n.aggFunc=t.aggFunc,n.referenceCellRange=t.cellRange,n.suppliedCellRange=t.cellRange,n.suppressChartRanges=t.suppressChartRanges,n.unlinked=!!t.unlinkChart,n.crossFiltering=!!t.crossFiltering,n.chartId=n.generateId(),n}return xr(t,e),t.prototype.init=function(){this.datasource=this.createManagedBean(new Or),this.updateCellRanges()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var t=this.getAllChartColumns(),n=t.dimensionCols,r=t.valueCols,o=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(n,o,e),this.setValueCellRange(r,o,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateData()},t.prototype.getData=function(){return this.chartData},t.prototype.isGroupActive=function(){var e=this.gridOptionsWrapper.isTreeData(),t=e?null:this.columnModel.getRowGroupColumns();return e||t&&t.length>0},t.prototype.isGrouping=function(){var e=this.getSelectedDimension().colId,t=this.columnModel.getGroupDisplayColumns().map(function(e){return e.getColId()}).some(function(t){return t===e});return!!this.isGroupActive()&&t},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotChart=function(){return this.pivotChart},t.prototype.getChartId=function(){return this.chartId},t.prototype.getValueColState=function(){return this.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getDimensionColState=function(){return this.dimensionColState},t.prototype.getCellRanges=function(){return[this.dimensionCellRange,this.valueCellRange].filter(function(e){return e})},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),t=e[0],n=t&&t.startRow||null,r=t&&t.endRow||null;return{rowStartIndex:n&&n.rowIndex,rowStartPinned:n&&n.rowPinned,rowEndIndex:r&&r.rowIndex,rowEndPinned:r&&r.rowPinned,columns:e.reduce(function(e,t){return e.concat(t.columns.map(function(e){return e.getId()}))},[])}},t.prototype.setChartType=function(e){this.chartType=e},t.prototype.getChartType=function(){return this.chartType},t.prototype.setChartThemeName=function(e){this.chartThemeName=e},t.prototype.getChartThemeName=function(){return this.chartThemeName},t.prototype.isSuppressChartRanges=function(){return this.suppressChartRanges},t.prototype.isUnlinked=function(){return this.unlinked},t.prototype.toggleUnlinked=function(){this.unlinked=!this.unlinked},t.prototype.getAggFunc=function(){return this.aggFunc},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(e){return e.selected})[0]},t.prototype.createCellRange=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:t,startColumn:e===a.o.DIMENSION?t[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return a.mb.convertToSet(this.columnModel.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,this.dimensionCellRange.columns),this.valueCellRange&&e.push.apply(e,this.valueCellRange.columns),a.mb.convertToSet(e)},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.getRowIndexes=function(){var e=0,t=0,n=this.rangeService,r=this.valueCellRange;return n&&r&&(e=n.getRangeStartRow(r).rowIndex,t=n.getRangeEndRow(r).rowIndex),{startRow:e,endRow:t}},t.prototype.getAllChartColumns=function(){var e=this,t=this.columnModel.getAllDisplayedColumns(),n=new Set,r=new Set;return t.forEach(function(t){var o=t.getColDef(),i=o.chartDataType;if(i)switch(i){case"category":case"time":return void n.add(t);case"series":return void r.add(t);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+i+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==o.colId?t.isPrimary()?(e.isNumberCol(t)?r:n).add(t):r.add(t):n.add(t)}),{dimensionCols:n,valueCols:r}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var t=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!t)return!1;var n=this.valueService.getValue(e,t);return null==n&&(n=this.extractLeafData(t,e)),null!=n&&"function"==typeof n.toNumber&&(n=n.toNumber()),"number"==typeof n},t.prototype.extractLeafData=function(e,t){if(!e.allLeafChildren)return null;for(var n=0;n<e.allLeafChildren.length;n++){var r=this.valueService.getValue(t,e.allLeafChildren[n]);if(null!=r)return r}return null},t.prototype.displayNameMapper=function(e){var t=this.columnNames[e.colId];return e.displayName=t?t.join(" - "):this.getColDisplayName(e.column),e},t.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},t.prototype.updateData=function(){var e=this.getRowIndexes(),t=e.startRow,n=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var r={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:t,endRow:n,isScatter:a.mb.includes([a.q.Scatter,a.q.Bubble],this.chartType)},o=this.datasource.getData(r);this.chartData=o.data,this.columnNames=o.columnNames},t.prototype.resetColumnState=function(){var e=this,n=this.getAllChartColumns(),r=n.dimensionCols,o=n.valueCols,i=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var l=!1,u=1,c=this.suppliedCellRange.columns[0];r.forEach(function(t){var n="ag-Grid-AutoColumn"===t.getColId(),r=!1;e.crossFiltering&&e.aggFunc?c.getColId()===t.getColId()&&(r=!0):r=!!n||!l&&i.has(t),e.dimensionColState.push({column:t,colId:t.getColId(),displayName:e.getColDisplayName(t),selected:r,order:u++}),r&&(l=!0)});var p={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslator.translate("defaultCategory"),selected:!l,order:0};this.dimensionColState.unshift(p);var d=this.referenceCellRange.columns.filter(function(e){return o.has(e)});o.forEach(function(t){s&&a.mb.includes(e.referenceCellRange.columns,t)&&(t=d.shift()),e.valueColState.push({column:t,colId:t.getColId(),displayName:e.getColDisplayName(t),selected:i.has(t),order:u++})})},t.prototype.updateColumnState=function(e){var t=function(t){return t.colId===e.colId},n=this.dimensionColState,r=this.valueColState;n.filter(t).length>0?n.forEach(function(e){return e.selected=t(e)}):r.filter(t).forEach(function(t){return t.selected=e.selected});var o=Pr(n,r),i=[];o.forEach(function(t,n){n===e.order&&i.push(e.colId),t.colId!==e.colId&&i.push(t.colId)}),o.forEach(function(e){var t=i.indexOf(e.colId);e.order=t>=0?i.indexOf(e.colId):o.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=this.valueColState;this.dimensionColState.sort(function(e,t){return e.order-t.order}),e.sort(function(e,t){return e.order-t.order})},t.prototype.setDimensionCellRange=function(e,n,r){var o=this;if(this.dimensionCellRange=void 0,r||this.dimensionColState.length){var i=r;if(this.crossFiltering&&this.aggFunc){var s=this.suppliedCellRange.columns[0];i=this.dimensionColState.filter(function(e){return e.colId===s.getColId()})[0]}else i&&e.has(i.column)||(i=this.dimensionColState.filter(function(e){return e.selected})[0]);i&&i.colId!==t.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(a.o.DIMENSION,i.column))}else e.forEach(function(e){!o.dimensionCellRange&&n.has(e)&&(o.dimensionCellRange=o.createCellRange(a.o.DIMENSION,e))})},t.prototype.setValueCellRange=function(e,t,n){this.valueCellRange=void 0;var r=[];if(e.forEach(function(e){n&&n.colId===e.getColId()?n.selected&&r.push(n.column):t.has(e)&&r.push(e)}),r.length>0){var o=[];this.valueColState.length>0?o=this.valueColState.map(function(e){return e.colId}):t.forEach(function(e){return o.push(e.getColId())}),r.sort(function(e,t){return o.indexOf(e.getColId())-o.indexOf(t.getColId())}),this.valueCellRange=this.createCellRange.apply(this,Pr([a.o.VALUE],r))}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(a.o.DIMENSION,e.column))},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",Sr([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),Sr([Object(a.k)("valueService")],t.prototype,"valueService",void 0),Sr([Object(a.k)("rangeService")],t.prototype,"rangeService",void 0),Sr([Object(a.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),Sr([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Sr([a.S],t.prototype,"init",null),t}(a.n),Er=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=e),void 0===n&&(n=e),void 0===r&&(r=t),this.top=e,this.right=t,this.bottom=n,this.left=r}return e.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},e}(),Tr=function(){function e(e,t,n,r){this.x=e,this.y=t,this.width=n,this.height=r}return e.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.dilate=function(e){this.x-=e,this.y-=e,this.width+=2*e,this.height+=2*e},e.prototype.containsPoint=function(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height},e.prototype.render=function(t,n){void 0===n&&(n=e.noParams),t.save(),n.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=n.strokeStyle||"cyan",t.lineWidth=n.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),n.label&&(t.fillStyle=n.fillStyle||"black",t.textBaseline="bottom",t.fillText(n.label,this.x,this.y)),t.restore()},e.noParams={},e}(),Ar=function(){function e(e){void 0===e&&(e=[1,0,0,1,0,0]),this.elements=e}return e.prototype.setElements=function(e){var t=this.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this},e.prototype.setIdentityElements=function(){var e=this.elements;return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this},Object.defineProperty(e.prototype,"identity",{get:function(){var e=this.elements;return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.elements[0]},set:function(e){this.elements[0]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.elements[1]},set:function(e){this.elements[1]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c",{get:function(){return this.elements[2]},set:function(e){this.elements[2]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"d",{get:function(){return this.elements[3]},set:function(e){this.elements[3]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"e",{get:function(){return this.elements[4]},set:function(e){this.elements[4]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f",{get:function(){return this.elements[5]},set:function(e){this.elements[5]=e},enumerable:!0,configurable:!0}),e.prototype.AxB=function(e,t,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=t[0],c=t[1],p=t[2],d=t[3],h=t[4],f=t[5];(n=n||e)[0]=r*u+i*c,n[1]=o*u+a*c,n[2]=r*p+i*d,n[3]=o*p+a*d,n[4]=r*h+i*f+s,n[5]=o*h+a*f+l},e.prototype.multiplySelf=function(e){return this.AxB(this.elements,e.elements),this},e.prototype.multiply=function(t){var n=new Array(6);return this.AxB(this.elements,t.elements,n),new e(n)},e.prototype.preMultiplySelf=function(e){return this.AxB(e.elements,this.elements,this.elements),this},e.prototype.inverse=function(){var t=this.elements,n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=1/(n*i-r*o);return new e([i*=l,-(r*=l),-(o*=l),n*=l,o*s-i*a,r*a-n*s])},e.prototype.inverseTo=function(e){var t=this.elements,n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=1/(n*i-r*o);return e.setElements([i*=l,-(r*=l),-(o*=l),n*=l,o*s-i*a,r*a-n*s]),this},e.prototype.invertSelf=function(){var e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=1/(t*o-n*r);return t*=s,n*=s,r*=s,e[0]=o*=s,e[1]=-n,e[2]=-r,e[3]=t,e[4]=r*a-o*i,e[5]=n*i-t*a,this},e.prototype.clone=function(){return new e(this.elements.slice())},e.prototype.transformPoint=function(e,t){var n=this.elements;return{x:e*n[0]+t*n[2]+n[4],y:e*n[1]+t*n[3]+n[5]}},e.prototype.transformBBox=function(e,t,n){void 0===t&&(t=0);var r,o,i=this.elements,a=i[0],s=i[1],l=i[2],u=i[3],c=.5*e.width,p=.5*e.height,d=e.x+c,h=e.y+p;if(t){c-=t,p-=t;var f=Math.sqrt(a*a+l*l),g=Math.sqrt(s*s+u*u);r=Math.abs(c*a)+Math.abs(p*l)+Math.abs(f*t),o=Math.abs(c*s)+Math.abs(p*u)+Math.abs(g*t)}else r=Math.abs(c*a)+Math.abs(p*l),o=Math.abs(c*s)+Math.abs(p*u);return n||(n=new Tr(0,0,0,0)),n.x=d*a+h*l+i[4]-r,n.y=d*s+h*u+i[5]-o,n.width=r+r,n.height=o+o,n},e.prototype.toContext=function(e){if(!this.identity){var t=this.elements;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}},e.flyweight=function(t){return t?e.matrix.setElements(t instanceof e?t.elements:t):e.matrix.setIdentityElements(),e.matrix},e.matrix=new e,e}();function Mr(e){var t=e.constructor,n=t.className;if(!n)throw new Error("The "+t+" is missing the 'className' property.");return n+"-"+(t.id=(t.id||0)+1)}!function(e){e[e.All=0]="All",e[e.None=1]="None"}(ir||(ir={}));var Dr=function(){function e(){this.id=Mr(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new Ar,this.inverseMatrix=new Ar,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=ir.All}return e.isNode=function(e){return!!e&&void 0!==e.matrix},e.prototype._setScene=function(e){this._scene=e;for(var t=this.children,n=t.length,r=0;r<n;r++)t[r]._setScene(e)},Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),e.prototype._setParent=function(e){this._parent=e},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.countChildren=function(t){if(void 0===t&&(t=e.MAX_SAFE_INTEGER),t<=0)return 0;for(var n=this.children,r=n.length,o=r,i=0;i<r;i++)o+=n[i].countChildren(t-1);return o},e.prototype.append=function(t){e.isNode(t)&&(t=[t]);for(var n=t.length,r=0;r<n;r++){var o=t[r];if(o.parent)throw new Error(o+" already belongs to another parent: "+o.parent+".");if(o.scene)throw new Error(o+" already belongs a scene: "+o.scene+".");if(this.childSet[o.id])throw new Error("Duplicate "+o.constructor.name+" node: "+o);this._children.push(o),this.childSet[o.id]=!0,o._setParent(this),o._setScene(this.scene)}this.dirty=!0},e.prototype.appendChild=function(e){if(e.parent)throw new Error(e+" already belongs to another parent: "+e.parent+".");if(e.scene)throw new Error(e+" already belongs to a scene: "+e.scene+".");if(this.childSet[e.id])throw new Error("Duplicate "+e.constructor.name+" node: "+e);return this._children.push(e),this.childSet[e.id]=!0,e._setParent(this),e._setScene(this.scene),this.dirty=!0,e},e.prototype.removeChild=function(e){if(e.parent===this){var t=this.children.indexOf(e);if(t>=0)return this._children.splice(t,1),delete this.childSet[e.id],e._setParent(),e._setScene(),this.dirty=!0,e}throw new Error("The node to be removed is not a child of this node.")},e.prototype.insertBefore=function(e,t){var n=e.parent;if(e.parent&&e.parent.removeChild(e),t&&t.parent===this){var r=this.children.indexOf(t);if(!(r>=0))throw new Error(t+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(r,0,e),this.childSet[e.id]=!0,e._setParent(this),e._setScene(this.scene),this.dirty=!0}else this.append(e);return e},Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e=this.parent;if(e){var t=e.children,n=t.indexOf(this);if(n>=0&&n<=t.length-1)return t[n+1]}},enumerable:!0,configurable:!0}),e.prototype.transformPoint=function(e,t){for(var n=Ar.flyweight(this.matrix),r=this.parent;r;)n.preMultiplySelf(r.matrix),r=r.parent;return n.invertSelf().transformPoint(e,t)},e.prototype.inverseTransformPoint=function(e,t){for(var n=Ar.flyweight(this.matrix),r=this.parent;r;)n.preMultiplySelf(r.matrix),r=r.parent;return n.transformPoint(e,t)},Object.defineProperty(e.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(e){this._dirtyTransform=e,e&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingX",{get:function(){return this._scalingX},set:function(e){this._scalingX!==e&&(this._scalingX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingY",{get:function(){return this._scalingY},set:function(e){this._scalingY!==e&&(this._scalingY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(e){this._scalingCenterX!==e&&(this._scalingCenterX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(e){this._scalingCenterY!==e&&(this._scalingCenterY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(e){this._rotationCenterX!==e&&(this._rotationCenterX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(e){this._rotationCenterY!==e&&(this._rotationCenterY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(e){this.rotation=e/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translationX",{get:function(){return this._translationX},set:function(e){this._translationX!==e&&(this._translationX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translationY",{get:function(){return this._translationY},set:function(e){this._translationY!==e&&(this._translationY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),e.prototype.containsPoint=function(e,t){return!1},e.prototype.pickNode=function(e,t){if(this.visible&&this.pointerEvents!==ir.None&&this.containsPoint(e,t)){var n=this.children;if(n.length)for(var r=n.length-1;r>=0;r--){var o=n[r].pickNode(e,t);if(o)return o}else if(!this.isContainerNode)return this}},e.prototype.computeBBox=function(){},e.prototype.computeBBoxCenter=function(){var e=this.computeBBox&&this.computeBBox();return e?[e.x+.5*e.width,e.y+.5*e.height]:[0,0]},e.prototype.computeTransformMatrix=function(){var e,t,n=[0,0],r=n[0],o=n[1],i=this.scalingX,a=this.scalingY;1===i&&1===a?(e=0,t=0):(e=null===this.scalingCenterX?r:this.scalingCenterX,t=null===this.scalingCenterY?o:this.scalingCenterY);var s,l,u=this.rotation,c=Math.cos(u),p=Math.sin(u);0===u?(s=0,l=0):(s=null===this.rotationCenterX?r:this.rotationCenterX,l=null===this.rotationCenterY?o:this.rotationCenterY);var d=this.translationX,h=this.translationY,f=e*(1-i)-s,g=t*(1-a)-l;this.dirtyTransform=!1,this.matrix.setElements([c*i,p*i,-p*a,c*a,c*f-p*g+s+d,p*f+c*g+l+h]).inverseTo(this.inverseMatrix)},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},set:function(e){this._dirty=e,e&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,this.dirty=!0)},enumerable:!0,configurable:!0}),e.MAX_SAFE_INTEGER=Math.pow(2,53)-1,e}();function kr(e,t){var n=Object.create(e);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function Rr(e,t,n){var r=Array.isArray(t)?t:t.split("."),o=e;try{r.forEach(function(e){o=o[e]})}catch(i){if(3!==arguments.length)throw i;o=n}return o}function Ir(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Gr(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function Nr(e,t,n){return e.concat(t).map(function(e){return Ir(e,n)})}function Fr(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function Lr(e,t){try{return t in e}catch(n){return!1}}function jr(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t}(e)}function Gr(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||Nr,n.isMergeableObject=n.isMergeableObject||jr,n.cloneUnlessOtherwiseSpecified=Ir;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Fr(e).forEach(function(t){r[t]=Ir(e[t],n)}),Fr(t).forEach(function(o){(function(e,t){return Lr(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(r[o]=Lr(e,o)&&n.isMergeableObject(t[o])?function(e,t){if(!t.customMerge)return Gr;var n=t.customMerge(e);return"function"==typeof n?n:Gr}(o,n)(e[o],t[o],n):Ir(t[o],n))}),r}(e,t,n):Ir(t,n)}function Vr(e){return"object"==typeof e&&!Array.isArray(e)}var Br=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.lastInstanceId=0,n._fillOpacity=1,n._strokeOpacity=1,n._fill=t.defaultStyles.fill,n._stroke=t.defaultStyles.stroke,n._strokeWidth=t.defaultStyles.strokeWidth,n._lineDash=t.defaultStyles.lineDash,n._lineDashOffset=t.defaultStyles.lineDashOffset,n._lineCap=t.defaultStyles.lineCap,n._lineJoin=t.defaultStyles.lineJoin,n._opacity=t.defaultStyles.opacity,n.onShadowChange=function(){n.dirty=!0},n._fillShadow=t.defaultStyles.fillShadow,n._strokeShadow=t.defaultStyles.strokeShadow,n}return Br(t,e),t.createInstance=function(e){var t=Object.create(e);return t._setParent(void 0),t.id=e.id+"-Instance-"+String(++e.lastInstanceId),t},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,t=Object.getOwnPropertyNames(e),n=0,r=t.length;n<r;n++){var o=t[n];this[o]=e[o]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var t in e)this[t]=e[t]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,t=Object.getPrototypeOf(e);for(var n in e)e.hasOwnProperty(n)&&t.hasOwnProperty(n)&&(this[n]=e[n])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,t,n){return null!=n?Math.floor(n)+Math.floor(t%1+n%1):Math.floor(t)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var t=this._lineDash;if(t!==e){if(t&&e&&t.length===e.length){for(var n=!0,r=e.length,o=0;o<r;o++)if(t[o]!==e[o]){n=!1;break}if(n)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var t=this._fillShadow;t!==e&&(t&&t.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var t=this._strokeShadow;t!==e&&(t&&t.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var t=this.scene.canvas.pixelRatio||1,n=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=n*this.opacity*this.fillOpacity;var r=this.fillShadow;r&&r.enabled&&(e.shadowColor=r.color,e.shadowOffsetX=r.xOffset*t,e.shadowOffsetY=r.yOffset*t,e.shadowBlur=r.blur*t),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=n*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var o=this.strokeShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*t,e.shadowOffsetY=o.yOffset*t,e.shadowBlur=o.blur*t),e.stroke()}}},t.prototype.containsPoint=function(e,t){return this.isPointInPath(e,t)},t.defaultStyles=kr({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(Dr),zr=function(){function e(e,t,n){void 0===e&&(e=window.document),void 0===t&&(t=600),void 0===n&&(n=300),this._container=void 0,this._pixelRatio=NaN,this.document=e,this.element=e.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(t,n)}return Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(e){this._container!==e&&(this.remove(),e&&e.appendChild(this.element),this._container=e)},enumerable:!0,configurable:!0}),e.prototype.remove=function(){var e=this.element.parentNode;null!=e&&e.removeChild(this.element)},e.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},e.prototype.toImage=function(){var e=this.document.createElement("img");return e.src=this.getDataURL(),e},e.prototype.getDataURL=function(e){return this.element.toDataURL(e)},e.prototype.download=function(e){e=((e||"").trim()||"image")+".png";var t=this.getDataURL("image/png"),n=this.document;if(navigator.msSaveOrOpenBlob){for(var r=atob(t.split(",")[1]),o=[],i=0,a=r.length;i<a;i++)o.push(r.charCodeAt(i));var s=new Blob([new Uint8Array(o)],{type:"image/png"});navigator.msSaveOrOpenBlob(s,e)}else{var l=n.createElement("a");l.href=t,l.download=e,l.style.display="none",n.body.appendChild(l),l.click(),n.body.removeChild(l)}},Object.defineProperty(e.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),e.prototype.setPixelRatio=function(t){var n=t||window.devicePixelRatio;n!==this.pixelRatio&&(e.overrideScale(this.context,n),this._pixelRatio=n,this.resize(this.width,this.height))},Object.defineProperty(e.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(e){this.element.style.imageRendering=e?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){if(e>0&&t>0){var n=this.element,r=this.context,o=this.pixelRatio;n.width=Math.round(e*o),n.height=Math.round(t*o),n.style.width=e+"px",n.style.height=t+"px",r.resetTransform(),this._width=e,this._height=t}},Object.defineProperty(e,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var e=document.createElement("canvas");return this._textMeasuringContext=e.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"svgText",{get:function(){if(this._svgText)return this._svgText;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");t.setAttribute("width","100"),t.setAttribute("height","100"),t.classList?t.classList.add("text-measuring-svg"):t.setAttribute("class","text-measuring-svg"),t.style.position="absolute",t.style.top="-1000px",t.style.visibility="hidden";var n=document.createElementNS(e,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),t.appendChild(n),document.body.appendChild(t),this._svgText=n,n},enumerable:!0,configurable:!0}),Object.defineProperty(e,"has",{get:function(){if(this._has)return this._has;var e=navigator.userAgent.indexOf("Chrome")>-1,t=navigator.userAgent.indexOf("Firefox")>-1,n=!e&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!t&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),e.measureText=function(e,t,n,r){var o=this.textMeasuringContext;return o.font=t,o.textBaseline=n,o.textAlign=r,o.measureText(e)},e.getTextSize=function(e,t){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=t;var r=n.measureText(e);return{width:r.width,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}return this.measureSvgText(e,t)},e.measureSvgText=function(e,t){var n=this.textSizeCache,r=n[t];if(r){var o=r[e];if(o)return o}else n[t]={};var i=this.svgText;i.style.font=t,i.textContent=e;var a=i.getBBox(),s={width:a.width,height:a.height};return n[t][e]=s,s},e.overrideScale=function(e,t){var n=0,r={save:function(){this.$save(),n++},restore:function(){n>0&&(this.$restore(),n--)},setTransform:function(e,n,r,o,i,a){this.$setTransform(e*t,n*t,r*t,o*t,i*t,a*t)},resetTransform:function(){this.$setTransform(t,0,0,t,0,0),this.save(),n=0}};for(var o in r)r.hasOwnProperty(o)&&(e["$"+o]||(e["$"+o]=e[o]),e[o]=r[o])},e.textSizeCache={},e}(),Ur=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._x=0,n._y=0,n.lineBreakRegex=/\r?\n/g,n.lines=[],n._text="",n._dirtyFont=!0,n._fontSize=10,n._fontFamily="sans-serif",n._textAlign=t.defaultStyles.textAlign,n._textBaseline=t.defaultStyles.textBaseline,n._lineHeight=14,n}return Ur(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var t=String(e);this._text!==t&&(this._text=t,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=Kr(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return zr.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=zr.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new Tr(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=zr.getTextSize(this.text,this.font),t=this.x,n=this.y;switch(this.textAlign){case"end":case"right":t-=e.width;break;case"center":t-=e.width/2}switch(this.textBaseline){case"alphabetic":n-=.7*e.height;break;case"middle":n-=.45*e.height;break;case"ideographic":n-=e.height;break;case"hanging":n-=.2*e.height;break;case"bottom":n-=e.height}return new Tr(t,n,e.width,e.height)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t),r=this.computeBBox();return!!r&&r.containsPoint(n.x,n.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this.fill,n=this.stroke,r=this.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var o=this.scene.canvas.pixelRatio||1,i=e.globalAlpha;if(t){e.fillStyle=t,e.globalAlpha=i*this.opacity*this.fillOpacity;var a=this.fillShadow,s=this.text,l=this.x,u=this.y;a&&a.enabled&&(e.shadowColor=a.color,e.shadowOffsetX=a.xOffset*o,e.shadowOffsetY=a.yOffset*o,e.shadowBlur=a.blur*o),e.fillText(s,l,u)}if(n&&r){e.strokeStyle=n,e.lineWidth=r,e.globalAlpha=i*this.opacity*this.strokeOpacity;var c=this,p=c.lineDash,d=c.lineDashOffset,h=c.lineCap,f=c.lineJoin,g=c.strokeShadow;s=c.text,l=c.x,u=c.y,p&&e.setLineDash(p),d&&(e.lineDashOffset=d),h&&(e.lineCap=h),f&&(e.lineJoin=f),g&&g.enabled&&(e.shadowColor=g.color,e.shadowOffsetX=g.xOffset*o,e.shadowOffsetY=g.yOffset*o,e.shadowBlur=g.blur*o),e.strokeText(s,l,u)}this.dirty=!1}},t.className="Text",t.defaultStyles=kr(Wr.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(Wr);function Kr(e,t,n,r){return[n||"",r||"",e+"px",t].join(" ").trim()}var Xr=function(){return(Xr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},qr=function(){function e(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return e.prototype.addPropertyListener=function(e,t,n){void 0===n&&(n=this);var r=this.allPropertyListeners,o=r.get(e);if(o||(o=new Map,r.set(e,o)),!o.has(t)){var i=new Set;o.set(t,i)}var a=o.get(t);a&&a.add(n)},e.prototype.removePropertyListener=function(e,t,n){void 0===n&&(n=this);var r=this.allPropertyListeners.get(e);if(r)if(t){var o=r.get(t);o&&(o.delete(n),o.size||r.delete(t))}else r.clear()},e.prototype.notifyPropertyListeners=function(e,t,n){var r=this,o=this.allPropertyListeners.get(e);o&&o.forEach(function(o,i){o.forEach(function(o){return i.call(o,{type:e,source:r,value:n,oldValue:t})})})},e.prototype.addEventListener=function(e,t,n){void 0===n&&(n=this);var r=this.allEventListeners,o=r.get(e);if(o||(o=new Map,r.set(e,o)),!o.has(t)){var i=new Set;o.set(t,i)}var a=o.get(t);a&&a.add(n)},e.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=this);var r=this.allEventListeners.get(e);if(r)if(t){var o=r.get(t);o&&(o.delete(n),o.size||r.delete(t))}else r.clear()},e.prototype.notifyEventListeners=function(e){var t=this,n=this.allEventListeners;e.forEach(function(e){var r=n.get(e);r&&r.forEach(function(n,r){n.forEach(function(n){return r.call(n,{type:e,source:t})})})})},e.prototype.fireEvent=function(e){var t=this,n=this.allEventListeners.get(e.type);n&&n.forEach(function(n,r){n.forEach(function(n){return r.call(n,Xr(Xr({},e),{source:t}))})})},e.privateKeyPrefix="_",e}();function Yr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.indexOf("debugger"),function(t,n){var r=qr.privateKeyPrefix+n,o=r+"Events";t[n]||(e&&(t[o]=e),Object.defineProperty(t,n,{set:function(e){var t=this[r];if(e!==t||"object"==typeof e&&null!==e){this[r]=e,this.notifyPropertyListeners(n,t,e);var i=this[o];i&&this.notifyEventListeners(i)}},get:function(){return this[r]},enumerable:!0,configurable:!0}))}}var Jr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Zr=function(e){function t(){var t=e.call(this)||this;t.node=new Hr,t.enabled=!1,t.padding=new Er(10);var n=t.node;return n.textAlign="center",n.textBaseline="top",n.pointerEvents=ir.None,t}return Jr(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text!==e&&(this.node.text=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(e){this.node.fontStyle!==e&&(this.node.fontStyle=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(e){this.node.fontWeight!==e&&(this.node.fontWeight=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(e){this.node.fontSize!==e&&(this.node.fontSize=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(e){this.node.fontFamily!==e&&(this.node.fontFamily=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.node.fill},set:function(e){this.node.fill!==e&&(this.node.fill=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Qr([Yr("change")],t.prototype,"enabled",void 0),Qr([Yr("change")],t.prototype,"padding",void 0),t}(qr),$r=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},eo=function(){function e(e,t,n,r){void 0===r&&(r=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,r||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var n=e.nameToHex[t];if(n)return e.fromHexString(n);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.fromHexString=function(t){var n=t.match(e.hexRe);if(n)return new e((r=parseInt(n[1],16))/255,(o=parseInt(n[2],16))/255,(i=parseInt(n[3],16))/255,(a=void 0!==n[4]?parseInt(n[4],16):255)/255);if(n=t.match(e.shortHexRe)){var r=parseInt(n[1],16),o=parseInt(n[2],16),i=parseInt(n[3],16),a=void 0!==n[4]?parseInt(n[4],16):15;return new e((r+=16*r)/255,(o+=16*o)/255,(i+=16*i)/255,(a+=16*a)/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.fromRgbaString=function(t){var n=t.match(e.rgbRe);if(n)return new e(+n[1]/255,+n[2]/255,+n[3]/255);if(n=t.match(e.rgbaRe))return new e(+n[1]/255,+n[2]/255,+n[3]/255,+n[4]);throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,n,r,o){void 0===o&&(o=1);var i=e.HSBtoRGB(t,n,r);return new e(i[0],i[1],i[2],o)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*n)/n),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,n){var r=Math.min(e,t,n),o=Math.max(e,t,n),i=NaN;if(r!==o){var a=o-r,s=(o-e)/a,l=(o-t)/a,u=(o-n)/a;i=e===o?u-l:t===o?2+s-u:4+l-s,(i/=6)<0&&(i+=1)}return[360*i,0!==o?(o-r)/o:0,o]},e.HSBtoRGB=function(e,t,n){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var r=0,o=0,i=0;if(0===t)r=o=i=n;else{var a=6*(e-Math.floor(e)),s=a-Math.floor(a),l=n*(1-t),u=n*(1-t*s),c=n*(1-t*(1-s));switch(a>>0){case 0:r=n,o=c,i=l;break;case 1:r=u,o=n,i=l;break;case 2:r=l,o=n,i=c;break;case 3:r=l,o=u,i=n;break;case 4:r=c,o=l,i=n;break;case 5:r=n,o=l,i=u}}return[r,o,i]},e.prototype.derive=function(t,n,r,o){var i=e.RGBtoHSB(this.r,this.g,this.b),a=i[2];0==a&&r>1&&(a=.05);var s=((i[0]+t)%360+360)%360,l=Math.max(Math.min(i[1]*n,1),0);a=Math.max(Math.min(a*r,1),0);var u=Math.max(Math.min(this.a*o,1),0),c=e.HSBtoRGB(s,l,a);return c.push(u),e.fromArray(c)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,e.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,e.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,e.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}(),to=function(e,t){if("string"==typeof e)try{e=eo.fromString(e)}catch(a){e=eo.fromArray([0,0,0])}if("string"==typeof t)try{t=eo.fromString(t)}catch(a){t=eo.fromArray([0,0,0])}var n=$r(e.r,t.r),r=$r(e.g,t.g),o=$r(e.b,t.b),i=$r(e.a,t.a);return function(e){return eo.fromArray([n(e),r(e),o(e),i(e)]).toRgbaString()}},no=function(e,t){var n,r,o=typeof t;if(null==t||"boolean"===o)return r=t,function(){return r};if("number"===o)return $r(e,t);if("string"===o)try{return n=eo.fromString(t),to(e,t=n)}catch(i){}return t instanceof eo?to(e,t):t instanceof Date?function(e,t){var n=new Date,r=+e,o=+t;return function(e){return n.setTime(r*(1-e)+o*e),n}}(e,t):Array.isArray(t)?function(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=no(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}(e,t):"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=no(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}(e,t):$r(e,t)};function ro(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var oo=function(e){return e};function io(e){var t,n=e[0],r=e[e.length-1];return n>r&&(n=(t=[r,n])[0],r=t[1]),function(e){return Math.max(n,Math.min(r,e))}}var ao=function(){function e(){this.unknown=void 0,this._clamp=oo,this._domain=[0,1],this._range=[0,1],this.transform=oo,this.untransform=oo,this._interpolate=no,this.rescale()}return Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp!==oo},set:function(e){this._clamp=e?io(this.domain):oo},enumerable:!0,configurable:!0}),e.prototype.setDomain=function(e){this._domain=Array.prototype.map.call(e,function(e){return+e}),this._clamp!==oo&&(this._clamp=io(this.domain)),this.rescale()},e.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(e.prototype,"domain",{get:function(){return this.getDomain()},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range.slice()},set:function(e){this._range=Array.prototype.slice.call(e),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interpolate",{get:function(){return this._interpolate},set:function(e){this._interpolate=e,this.rescale()},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){this.piecewise=Math.min(this.domain.length,this.range.length)>2?this.polymap:this.bimap,this.output=void 0,this.input=void 0},e.prototype.normalize=function(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n},e.prototype.bimap=function(e,t,n){var r,o,i=e[0],a=e[1],s=t[0],l=t[1];return a<i?(r=this.normalize(a,i),o=n(l,s)):(r=this.normalize(i,a),o=n(s,l)),function(e){return o(r(e))}},e.prototype.polymap=function(e,t,n){var r=this,o=Math.min(e.length,t.length)-1;e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());var i=Array.from({length:o},function(t,n){return r.normalize(e[n],e[n+1])}),a=Array.from({length:o},function(e,r){return n(t[r],t[r+1])});return function(t){var n=function(e,t,n,r,o){for(void 0===r&&(r=0),void 0===o&&(o=e.length);r<o;){var i=r+o>>>1;n(e[i],t)>0?o=i:r=i+1}return r}(e,t,ro,1,o)-1;return a[n](i[n](t))}},e.prototype.convert=function(e){return e=+e,isNaN(e)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(e))))},e.prototype.invert=function(e){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),$r)),this._clamp(this.untransform(this.input(e)))},e}(),so=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lo=function(e,t,n){var r=ho(e,t,n);return function(e,t,n){void 0===n&&(n=1);for(var r=Math.abs(n),o=r>0&&r<1?Math.abs(Math.floor(Math.log(r)/Math.LN10)):0,i=Math.pow(10,o),a=Math.max(0,Math.ceil((t-e)/n))||0,s=new bo(o),l=0;l<a;l++)s[l]=Math.round((e+n*l)*i)/i;return s}(e=Math.ceil(e/r)*r,t=Math.floor(t/r)*r+r/2,r)},uo=Math.sqrt(50),co=Math.sqrt(10),po=Math.sqrt(2);function ho(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=uo?o*=10:i>=co?o*=5:i>=po&&(o*=2),t<e?-o:o}function fo(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=uo?10:i>=co?5:i>=po?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=uo?10:i>=co?5:i>=po?2:1)}var go,mo,yo,vo,bo=function(e){function t(t,n){var r=e.call(this)||this;if(n)for(var o=0,i=n.length;o<i;o++)r[o]=n[o];return r.fractionDigits=t,r}return so(t,e),t}(Array),Co={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return String(e)},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return _o(100*e,t)},r:_o,s:function(e,t){var n=Eo(e,t);if(!n)return String(e);var r=n[0],o=n[1],i=o-(go=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;if(i===a)return r;if(i>a)return r+new Array(i-a+1).join("0");if(i>0)return r.slice(0,i)+"."+r.slice(i);var s=Eo(e,Math.max(0,t+i-1));return"0."+new Array(1-i).join("0")+s[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},wo=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Oo=function e(t){t instanceof e?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=void 0===t.fill?" ":String(t.fill),this.align=void 0===t.align?">":String(t.align),this.sign=void 0===t.sign?"-":String(t.sign),this.symbol=void 0===t.symbol?"":String(t.symbol),this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":String(t.type),this.string=t.string)},xo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,So=/(#\{(.*?)\})/g;function Po(e){if(e instanceof Oo)return new Oo(e);var t=!1,n=e.replace(So,function(){return t||(e=arguments[2],t=!0),"#{}"}),r=xo.exec(e);if(!r)throw new Error("Invalid format: "+e);return new Oo({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10],string:t?n:void 0})}function _o(e,t){var n=Eo(e,t);if(!n)return String(e);var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}function Eo(e,t){var n=t?e.toExponential(t-1):e.toExponential(),r=n.indexOf("e");if(!(r<0)){var o=n.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+n.slice(r+1)]}}function To(e){return e}function Ao(e){var t=Eo(Math.abs(e));return t?t[1]:NaN}mo=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?To:(t=Array.prototype.map.call(e.grouping,Number),n=String(e.thousands),function(e,r){for(var o=[],i=e.length,a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),o=void 0===e.currency?"":String(e.currency[0]),i=void 0===e.currency?"":String(e.currency[1]),a=void 0===e.decimal?".":String(e.decimal),s=void 0===e.numerals?To:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Array.prototype.map.call(e.numerals,String)),l=void 0===e.percent?"%":String(e.percent),u=void 0===e.minus?"\u2212":String(e.minus),c=void 0===e.nan?"NaN":String(e.nan);function p(e){var t=Po(e),n=t.fill,p=t.align,d=t.sign,h=t.symbol,f=t.zero,g=t.width,m=t.comma,y=t.precision,v=t.trim,b=t.type;"n"===b?(m=!0,b="g"):b&&Co[b]||(void 0===y&&(y=12),v=!0,b="g"),(f||"0"===n&&"="===p)&&(f=!0,n="0",p="=");var C="$"===h?o:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===h?i:/[%p]/.test(b)?l:"",O=Co[b],x=/[defgprs%]/.test(b);return y=void 0===y?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),function(e){var o,i=C,l=w;if("c"===b)l=O(e)+l,o="";else{var h=(e=+e)<0||1/e<0;if(o=isNaN(e)?c:O(Math.abs(e),y),v&&(o=function(e){var t=e.length,n=1,r=-1,o=NaN;e:for(;n<t;n++)switch(e[n]){case".":r=o=n;break;case"0":0===r&&(r=n,o=n);break;default:if(!+e[n])break e;if(r>0){r=0;break}}return r>0?e.slice(0,r)+e.slice(o+1):e}(o)),h&&0==+o&&"+"!==d&&(h=!1),i=(h?"("===d?d:u:"-"===d||"("===d?"":d)+i,l=("s"===b?wo[8+go/3]:"")+l+(h&&"("===d?")":""),x)for(var S=0,P=o.length;S<P;S++){var _=o.charCodeAt(S);if(48>_||_>57){l=(46===_?a+o.slice(S+1):o.slice(S))+l,o=o.slice(0,S);break}}}m&&!f&&(o=r(o,1/0));var E=i.length+o.length+l.length,T=E<g?new Array(g-E+1).join(n):"";switch(m&&f&&(o=r(T+o,T.length?g-l.length:1/0),T=""),p){case"<":o=i+o+l+T;break;case"=":o=i+T+o+l;break;case"^":o=T.slice(0,E=T.length>>1)+i+o+l+T.slice(E);break;default:o=T+i+o+l}var A=t.string;return A?A.replace(So,function(){return s(o)}):s(o)}}return{format:p,formatPrefix:function(e,t){var n=Po(e);n.type="f";var r=p(n),o=3*Math.max(-8,Math.min(8,Math.floor(Ao(t)/3))),i=Math.pow(10,-o),a=wo[8+o/3];return function(e){return r(i*e)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),yo=mo.format,vo=mo.formatPrefix;var Mo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Do=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="linear",t}return Mo(t,e),t.prototype.ticks=function(e){void 0===e&&(e=10);var t=this._domain;return lo(t[0],t[t.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var t,n=this.domain,r=0,o=n.length-1,i=n[r],a=n[o];a<i&&(t=i,i=a,a=t,t=r,r=o,o=t),(t=fo(i,a,e))>0?t=fo(i=Math.floor(i/t)*t,a=Math.ceil(a/t)*t,e):t<0&&(t=fo(i=Math.ceil(i*t)/t,a=Math.floor(a*t)/t,e)),t>0?(n[r]=Math.floor(i/t)*t,n[o]=Math.ceil(a/t)*t,this.domain=n):t<0&&(n[r]=Math.ceil(i*t)/t,n[o]=Math.floor(a*t)/t,this.domain=n)},t.prototype.tickFormat=function(e,t){var n=this.domain;return function(e,t,n,r){var o=ho(e,t,n),i=Po(null==r?",f":r);switch(i.type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));if(null==i.precision){var s=function(e,t){var n=Math.floor(Ao(t)/3);return n=Math.min(8,n),n=Math.max(-8,n),Math.max(0,3*n-Ao(Math.abs(e)))}(o,a);isNaN(s)||(i.precision=s)}return vo(i,a);case"":case"e":case"g":case"p":case"r":null==i.precision&&(s=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ao(t)-Ao(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))),isNaN(s)||(i.precision=s-Number("e"===i.type)));break;case"f":case"%":null==i.precision&&(s=function(e){return Math.max(0,-Ao(Math.abs(e)))}(o),isNaN(s)||(i.precision=s-2*Number("%"===i.type)))}return yo(i)}(n[0],n[n.length-1],null==e?10:e,t)},t}(ao);function ko(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r,n,e))return r}}function Ro(e){for(var t,n,r,o=e.length,i=-1;++i<o;)if(null!=(t=e[i])&&t>=t&&isFinite(t))for(n=r=t;++i<o;)null!=(t=e[i])&&isFinite(t)&&(n>t&&(n=t),r<t&&(r=t));return void 0===n||void 0===r?void 0:[n,r]}function Io(e){var t=Ro(e);if(void 0!==t){var n=t[0],r=t[1],o=n instanceof Date?n.getTime():n,i=r instanceof Date?r.getTime():r;return"number"==typeof o&&isFinite(o)&&"number"==typeof i&&isFinite(i)?[o,i]:void 0}}function No(e){for(var t=0,n=0,r=0,o=e;r<o.length;r++){var i=o[r];i<0?t+=i:n+=i}return{min:t,max:n}}function Fo(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);var r=[],o=e.length;if(o)for(var i=0;i<n;i++)r.push(e[(t+i)%o]);return r}var Lo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContainerNode=!0,t._opacity=1,t}return Lo(t,e),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,t){return!0},t.prototype.computeBBox=function(){var e=1/0,n=-1/0,r=1/0,o=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(i){if(i.visible){var a=i.computeBBox();if(a){if(!(i instanceof t)){i.dirtyTransform&&i.computeTransformMatrix();for(var s=Ar.flyweight(i.matrix),l=i.parent;l;)s.preMultiplySelf(l.matrix),l=l.parent;s.transformBBox(a,0,a)}var u=a.x,c=a.y;u<e&&(e=u),c<r&&(r=c),u+a.width>n&&(n=u+a.width),c+a.height>o&&(o=c+a.height)}}}),new Tr(e,r,n-e,o-r)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this.children,n=t.length;e.globalAlpha*=this.opacity;for(var r=0;r<n;r++){var o=t[r];o.visible&&(e.save(),o.render(e),e.restore())}},t.className="Group",t}(Dr),Go=function(){function e(e,t){this.next=null,this.scene=e.scene,this.parent=e,this.datum=t}return e.prototype.appendChild=function(e){if(null===this.next)return this.parent.insertBefore(e,null);if(!Dr.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(e,this.next)},e.prototype.insertBefore=function(e,t){return this.parent.insertBefore(e,t)},e}(),Vo=function(){function e(e,t){this.groups=e,this.parents=t}return e.select=function(t){return new e([["function"==typeof t?t():t]],[void 0])},e.selectAll=function(t){return new e([null==t?[]:t],[void 0])},e.prototype.append=function(e){return this.select(function(t){return t.appendChild(new e)})},e.prototype.appendFn=function(e){return this.select(function(t,n,r,o){return t.appendChild(e(t,n,r,o))})},e.prototype.select=function(t){for(var n=this.groups,r=n.length,o=[],i=0;i<r;i++)for(var a=n[i],s=a.length,l=o[i]=new Array(s),u=0;u<s;u++){var c=a[u];if(c){var p=t(c,c.datum,u,a);p&&(p.datum=c.datum),l[u]=p}}return new e(o,this.parents)},e.prototype.selectByClass=function(e){return this.select(function(t){if(Dr.isNode(t))for(var n=t.children,r=n.length,o=0;o<r;o++){var i=n[o];if(i instanceof e)return i}})},e.prototype.selectByTag=function(e){return this.select(function(t){if(Dr.isNode(t))for(var n=t.children,r=n.length,o=0;o<r;o++){var i=n[o];if(i.tag===e)return i}})},e.prototype.selectAllByClass=function(e){return this.selectAll(function(t){var n=[];if(Dr.isNode(t))for(var r=t.children,o=r.length,i=0;i<o;i++){var a=r[i];a instanceof e&&n.push(a)}return n})},e.prototype.selectAllByTag=function(e){return this.selectAll(function(t){var n=[];if(Dr.isNode(t))for(var r=t.children,o=r.length,i=0;i<o;i++){var a=r[i];a.tag===e&&n.push(a)}return n})},e.prototype.selectNone=function(){return[]},e.prototype.selectAll=function(t){t||(t=this.selectNone);for(var n=[],r=[],o=this.groups,i=o.length,a=0;a<i;a++)for(var s=o[a],l=s.length,u=0;u<l;u++){var c=s[u];c&&(n.push(t(c,c.datum,u,s)),r.push(c))}return new e(n,r)},e.prototype.each=function(e){for(var t=this.groups,n=t.length,r=0;r<n;r++)for(var o=t[r],i=o.length,a=0;a<i;a++){var s=o[a];s&&e(s,s.datum,a,o)}return this},e.prototype.remove=function(){return this.each(function(e){if(Dr.isNode(e)){var t=e.parent;t&&t.removeChild(e)}})},e.prototype.merge=function(t){for(var n=this.groups,r=t.groups,o=n.length,i=Math.min(o,r.length),a=new Array(o),s=0;s<i;s++)for(var l=n[s],u=r[s],c=l.length,p=a[s]=new Array(c),d=0;d<c;d++)p[d]=l[d]||u[d]||void 0;for(;s<o;s++)a[s]=n[s];return new e(a,this.parents)},e.prototype.node=function(){for(var e=this.groups,t=e.length,n=0;n<t;n++)for(var r=e[n],o=r.length,i=0;i<o;i++){var a=r[i];if(a)return a}return null},e.prototype.attr=function(e,t){return this.each(function(n){n[e]=t}),this},e.prototype.attrFn=function(e,t){return this.each(function(n,r,o,i){n[e]=t(n,r,o,i)}),this},e.prototype.call=function(e){return e(this),this},Object.defineProperty(e.prototype,"size",{get:function(){var e=0;return this.each(function(){return e++}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){var e=[];return this.each(function(t,n){return e.push(n)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enter",{get:function(){return new e(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exit",{get:function(){return new e(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),e.prototype.setDatum=function(e){return this.each(function(t){t.datum=e})},Object.defineProperty(e.prototype,"datum",{get:function(){var e=this.node();return e?e.datum:null},enumerable:!0,configurable:!0}),e.prototype.setData=function(t,n){if("function"!=typeof t){var r=t;t=function(){return r}}for(var o=this.groups,i=this.parents,a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;c++){var p=o[c],d=i[c];if(!d)throw new Error("Group #"+c+" has no parent: "+p);var h=p.length,f=t(d,d.datum,c,i),g=f.length,m=l[c]=new Array(g),y=s[c]=new Array(g),v=u[c]=new Array(h);n?this.bindKey(d,p,m,y,v,f,n):this.bindIndex(d,p,m,y,v,f);for(var b=0,C=0;b<g;b++){var w=m[b];if(w){b>=C&&(C=b+1);for(var O=void 0;!(O=y[C])&&C<g;)C++;w.next=O||null}}}var x=new e(s,i);return x.enterGroups=l,x.exitGroups=u,x},e.prototype.bindIndex=function(e,t,n,r,o,i){for(var a=t.length,s=i.length,l=0;l<s;l++)(u=t[l])?(u.datum=i[l],r[l]=u):n[l]=new Go(e,i[l]);for(;l<a;l++){var u;(u=t[l])&&(o[l]=u)}},e.prototype.bindKey=function(t,n,r,o,i,a,s){for(var l=n.length,u=a.length,c=new Array(l),p={},d=0;d<l;d++)(f=n[d])&&((h=c[d]=e.keyPrefix+s(f,f.datum,d,n))in p?i[d]=f:p[h]=f);for(d=0;d<u;d++){var h;(f=p[h=e.keyPrefix+s(t,a[d],d,a)])?(o[d]=f,f.datum=a[d],p[h]=void 0):r[d]=new Go(t,a[d])}for(d=0;d<l;d++){var f;(f=n[d])&&p[c[d]]===f&&(i[d]=f)}},e.keyPrefix="$",e}(),Bo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wo=function(e){function t(){var t=e.call(this)||this;return t._x1=0,t._y1=0,t._x2=0,t._y2=0,t.restoreOwnStyles(),t}return Bo(t,e),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new Tr(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,t){return!1},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this.x1,n=this.y1,r=this.x2,o=this.y2;if(t===r){var i=Math.round(t)+Math.floor(this.strokeWidth)%2/2;t=i,r=i}else if(n===o){var a=Math.round(n)+Math.floor(this.strokeWidth)%2/2;n=a,o=a}e.beginPath(),e.moveTo(t,n),e.lineTo(r,o),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=kr(Wr.defaultStyles,{fill:void 0,strokeWidth:1}),t}(Wr),zo=Math.sign?Math.sign:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1};function Uo(e,t,n,r,o,i,a,s){var l=(n-e)*(s-i)-(r-t)*(a-o);if(0===l)return null;var u=((a-o)*(t-i)-(e-o)*(s-i))/l,c=((n-e)*(t-i)-(r-t)*(e-o))/l;return u>=0&&u<=1&&c>=0&&c<=1?{x:e+u*(n-e),y:t+u*(r-t)}:null}function Ho(e,t,n,r,o,i,a,s,l,u,c,p){for(var d=[],h=u-p,f=c-l,g=l*(p-u)-u*(c-l),m=Ko(e,n,o,a),y=Ko(t,r,i,s),v=function(e,t,n,r){if(0===e)return function(e,t,n){if(0===e)return function(e,t){var r=-n/e;return 0!==e&&r>=0&&r<=1?[r]:[]}(t);var r=t*t-4*e*n,o=[];if(0===r){var i=-t/(2*e);i>=0&&i<=1&&o.push(i)}else if(r>0){var a=Math.sqrt(r),s=(-t-a)/(2*e),l=(-t+a)/(2*e);s>=0&&s<=1&&o.push(s),l>=0&&l<=1&&o.push(l)}return o}(t,n,r);var o=t/e,i=n/e,a=(3*i-o*o)/9,s=(9*o*i-r/e*27-2*o*o*o)/54,l=a*a*a+s*s,u=[];if(l>=0){var c=Math.sqrt(l),p=zo(s+c)*Math.pow(Math.abs(s+c),1/3),d=zo(s-c)*Math.pow(Math.abs(s-c),1/3),h=Math.abs(Math.sqrt(3)*(p-d)/2),f=-1/3*o+(p+d);if(f>=0&&f<=1&&u.push(f),0===h){var g=-1/3*o-(p+d)/2;g>=0&&g<=1&&u.push(g)}}else{var m=Math.acos(s/Math.sqrt(-a*a*a)),y=1/3*o,v=2*Math.sqrt(-a),b=v*Math.cos(1/3*m)-y,C=v*Math.cos(1/3*(m+2*Math.PI))-y,w=v*Math.cos(1/3*(m+4*Math.PI))-y;b>=0&&b<=1&&u.push(b),C>=0&&C<=1&&u.push(C),w>=0&&w<=1&&u.push(w)}return u}(h*m[0]+f*y[0],h*m[1]+f*y[1],h*m[2]+f*y[2],h*m[3]+f*y[3]+g),b=0;b<v.length;b++){var C,w=v[b],O=w*w,x=w*O,S=m[0]*x+m[1]*O+m[2]*w+m[3],P=y[0]*x+y[1]*O+y[2]*w+y[3];(C=l!==c?(S-l)/(c-l):(P-u)/(p-u))>=0&&C<=1&&d.push({x:S,y:P})}return d}function Ko(e,t,n,r){return[3*t-e-3*n+r,3*e-6*t+3*n,-3*e+3*t,e]}var Xo=function(){function e(){this.commands=[],this.params=[],this._closedPath=!1}return e.prototype.moveTo=function(e,t){this.xy?(this.xy[0]=e,this.xy[1]=t):this.xy=[e,t],this.commands.push("M"),this.params.push(e,t)},e.prototype.lineTo=function(e,t){this.xy?(this.commands.push("L"),this.params.push(e,t),this.xy[0]=e,this.xy[1]=t):this.moveTo(e,t)},e.prototype.rect=function(e,t,n,r){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.closePath()},e.prototype.arcTo=function(e,t,n,r,o,i,a){var s=this.xy;if(s){e<0&&(e=-e),t<0&&(t=-t);var l=s[0],u=s[1],c=(l-i)/2,p=(u-a)/2,d=Math.sin(n),h=Math.cos(n),f=h*c+d*p,g=-d*c+h*p,m=f/e,y=g/t,v=m*m+y*y,b=(l+i)/2,C=(u+a)/2,w=0,O=0;v>=1?(e*=v=Math.sqrt(v),t*=v):(v=Math.sqrt(1/v-1),r===o&&(v=-v),b+=h*(w=v*e*y)-d*(O=-v*t*m),C+=d*w+h*O);var x=Math.atan2((g-O)/t,(f-w)/e),S=Math.atan2((-g-O)/t,(-f-w)/e)-x;this.cubicArc(b,C,e,t,n,x,x+S,1-o)}},e.cubicArc=function(e,t,n,r,o,i,a,s,l,u){if(u){var c=s;s=l,l=c}var p=t.length,d=.5522847498307935,h=Math.sin(s),f=Math.cos(s),g=Math.sin(a),m=Math.cos(a),y=Math.PI/2,v=m*f*o-g*h*i,b=g*f*o+m*h*i,C=-m*h*o-g*f*i,w=-g*h*o+m*f*i;for((l-=s)<0&&(l+=2*Math.PI),e.push("M"),t.push(v+n,b+r);l>=y;){l-=y,e.push("C");var O=C+n;t.push(v+C*d+n,b+w*d+r,v*d+C+n,b*d+w+r,Math.abs(O)<1e-8?0:O,w+r),c=v,v=C,C=-c,c=b,b=w,w=-c}if(l){var x=4/3*Math.tan(l/4),S=Math.sin(l),P=Math.cos(l),_=P+x*S,E=S-x*P;e.push("C"),O=v*P+C*S+n,t.push(v+C*x+n,b+w*x+r,v*_+C*E+n,b*_+w*E+r,Math.abs(O)<1e-8?0:O,b*P+w*S+r)}if(u)for(var T=p,A=t.length-2;T<A;T+=2,A-=2)c=t[T],t[T]=t[A],t[A]=c,c=t[T+1],t[T+1]=t[A+1],t[A+1]=c},e.prototype.cubicArc=function(t,n,r,o,i,a,s,l){var u=this.commands,c=this.params,p=u.length;e.cubicArc(u,c,t,n,r,o,i,a,s,l);var d=c[c.length-2],h=c[c.length-1];this.xy?(u[p]="L",this.xy[0]=d,this.xy[1]=h):this.xy=[d,h]},e.prototype.deCasteljau=function(e,t){var n=e.length;if(n<2||n%2==1)throw new Error("Fewer than two points or not an even count.");if(2===n||0===t)return e.slice(0,2);if(1===t)return e.slice(-2);for(var r=[],o=n-2,i=0;i<o;i+=2)r.push((1-t)*e[i]+t*e[i+2],(1-t)*e[i+1]+t*e[i+3]);return this.deCasteljau(r,t)},e.prototype.approximateCurve=function(e,t){var n=this.deCasteljau(e,0);this.moveTo(n[0],n[1]);for(var r=1/t,o=r;o<=1;o+=r){var i=this.deCasteljau(e,o);this.lineTo(i[0],i[1])}},e.prototype.quadraticCurveTo=function(e,t,n,r){this.xy||this.moveTo(e,t),this.cubicCurveTo((this.xy[0]+2*e)/3,(this.xy[1]+2*t)/3,(2*e+n)/3,(2*t+r)/3,n,r)},e.prototype.cubicCurveTo=function(e,t,n,r,o,i){this.xy||this.moveTo(e,t),this.commands.push("C"),this.params.push(e,t,n,r,o,i),this.xy[0]=o,this.xy[1]=i},Object.defineProperty(e.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),e.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},e.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},e.prototype.isPointInPath=function(e,t){for(var n=this.commands,r=this.params,o=n.length,i=NaN,a=NaN,s=0,l=0,u=0,c=0,p=0;c<o;c++)switch(n[c]){case"M":isNaN(i)||Uo(i,a,s,l,-1e4,-1e4,e,t)&&u++,i=s=r[p++],a=l=r[p++];break;case"L":Uo(s,l,s=r[p++],l=r[p++],-1e4,-1e4,e,t)&&u++;break;case"C":u+=Ho(s,l,r[p++],r[p++],r[p++],r[p++],s=r[p++],l=r[p++],-1e4,-1e4,e,t).length;break;case"Z":isNaN(i)||Uo(i,a,s,l,-1e4,-1e4,e,t)&&u++}return u%2==1},e.fromString=function(t){var n=new e;return n.setFromString(t),n},e.parseSvgPath=function(t){return t.trim().split(e.splitCommandsRe).map(function(t){var n=t.match(e.matchParamsRe);return{command:t.substr(0,1),params:n?n.map(parseFloat):[]}})},e.prettifySvgPath=function(t){return e.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join("\n")},e.prototype.setFromString=function(t){var n,r,o,i,a,s=this;function l(){a.match(e.quadraticCommandRe)||(o=n,i=r)}function u(){a.match(e.cubicCommandRe)||(o=n,i=r)}this.clear(),e.parseSvgPath(t).forEach(function(e){var t=e.params,c=t.length,p=0;switch(e.command){case"M":for(s.moveTo(n=t[p++],r=t[p++]);p<c;)s.lineTo(n=t[p++],r=t[p++]);break;case"m":for(s.moveTo(n+=t[p++],r+=t[p++]);p<c;)s.lineTo(n+=t[p++],r+=t[p++]);break;case"L":for(;p<c;)s.lineTo(n=t[p++],r=t[p++]);break;case"l":for(;p<c;)s.lineTo(n+=t[p++],r+=t[p++]);break;case"C":for(;p<c;)s.cubicCurveTo(t[p++],t[p++],o=t[p++],i=t[p++],n=t[p++],r=t[p++]);break;case"c":for(;p<c;)s.cubicCurveTo(n+t[p++],r+t[p++],o=n+t[p++],i=r+t[p++],n+=t[p++],r+=t[p++]);break;case"S":for(u();p<c;)s.cubicCurveTo(n+n-o,r+r-i,o=t[p++],i=t[p++],n=t[p++],r=t[p++]);break;case"s":for(u();p<c;)s.cubicCurveTo(n+n-o,r+r-i,o=n+t[p++],i=r+t[p++],n+=t[p++],r+=t[p++]);break;case"Q":for(;p<c;)s.quadraticCurveTo(o=t[p++],i=t[p++],n=t[p++],r=t[p++]);break;case"q":for(;p<c;)s.quadraticCurveTo(o=n+t[p++],i=r+t[p++],n+=t[p++],r+=t[p++]);break;case"T":for(l();p<c;)s.quadraticCurveTo(o=n+n-o,i=r+r-i,n=t[p++],r=t[p++]);break;case"t":for(l();p<c;)s.quadraticCurveTo(o=n+n-o,i=r+r-i,n+=t[p++],r+=t[p++]);break;case"A":for(;p<c;)s.arcTo(t[p++],t[p++],t[p++]*Math.PI/180,t[p++],t[p++],n=t[p++],r=t[p++]);break;case"a":for(;p<c;)s.arcTo(t[p++],t[p++],t[p++]*Math.PI/180,t[p++],t[p++],n+=t[p++],r+=t[p++]);break;case"Z":case"z":s.closePath();break;case"H":for(;p<c;)s.lineTo(n=t[p++],r);break;case"h":for(;p<c;)s.lineTo(n+=t[p++],r);break;case"V":for(;p<c;)s.lineTo(n,r=t[p++]);break;case"v":for(;p<c;)s.lineTo(n,r+=t[p++])}a=e.command})},e.prototype.toString=function(){for(var e=this.commands,t=this.params,n=e.length,r=[],o=0,i=0;o<n;o++)switch(e[o]){case"M":r.push("M"+t[i++]+","+t[i++]);break;case"L":r.push("L"+t[i++]+","+t[i++]);break;case"C":r.push("C"+t[i++]+","+t[i++]+" "+t[i++]+","+t[i++]+" "+t[i++]+","+t[i++]);break;case"Z":r.push("Z")}return r.join("")},e.prototype.toPrettyString=function(){return e.prettifySvgPath(this.toString())},e.prototype.toSvg=function(){return e.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+e.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},e.prototype.toDebugSvg=function(){var t=e.prettifySvgPath(this.toString());return e.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+e.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},e.prototype.toCubicPaths=function(){var e,t,n,r,o,i=[],a=this.params,s=0;return this.commands.forEach(function(l){switch(l){case"M":e=[t=r=a[s++],n=o=a[s++]],i.push(e);break;case"L":var u=a[s++],c=a[s++];e.push((r+r+u)/3,(o+o+c)/3,(r+u+u)/3,(o+c+c)/3,r=u,o=c);break;case"C":e.push(a[s++],a[s++],a[s++],a[s++],r=a[s++],o=a[s++]);break;case"Z":e.push((r+r+t)/3,(o+o+n)/3,(r+t+t)/3,(o+n+n)/3,r=t,o=n)}}),i},e.cubicPathToString=function(e){var t=e.length;if(!(t%2==0&&(t/2-1)/2>=1))throw new Error("Invalid path.");return"M"+e.slice(0,2).join(",")+"C"+e.slice(2).join(",")},e.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,e.matchParamsRe=/-?[0-9]*\.?\d+/g,e.quadraticCommandRe=/[QqTt]/,e.cubicCommandRe=/[CcSs]/,e.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',e.xmlns="http://www.w3.org/2000/svg",e}(),qo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.path=new Xo,t._dirtyPath=!0,t._svgPath="",t}return qo(t,e),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){var t=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),t.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(Wr),Jo=2*Math.PI;function Qo(e){return e%=Jo,(e+=Jo)%Jo}function Zo(e){return e/180*Math.PI}function $o(e){var t=typeof e;return"string"!==t&&"number"===t&&e-e<1}function ei(e,t,n){return void 0===n&&(n=1e-10),Math.abs(e-t)<n}function ti(e,t){void 0===t&&(t=2);var n=Math.floor(Math.log(Math.abs(e))/Math.LN10);return n>=0||!isFinite(n)?e.toFixed(t):e.toFixed(Math.abs(n)-1+t)}Number.EPSILON||Math.pow(2,-52);var ni,ri=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e[e.Open=0]="Open",e[e.Chord=1]="Chord",e[e.Round=2]="Round"}(ni||(ni={}));var oi,ii=function(e){function t(){var t=e.call(this)||this;return t._centerX=0,t._centerY=0,t._radiusX=10,t._radiusY=10,t._startAngle=0,t._endAngle=2*Math.PI,t._counterClockwise=!1,t._type=ni.Open,t.restoreOwnStyles(),t}return ri(t,e),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusX",{get:function(){return this._radiusX},set:function(e){this._radiusX!==e&&(this._radiusX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){return this._radiusY},set:function(e){this._radiusY!==e&&(this._radiusY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPie",{get:function(){return ei(Qo(this.startAngle),Qo(this.endAngle))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"counterClockwise",{get:function(){return this._counterClockwise},set:function(e){this._counterClockwise!==e&&(this._counterClockwise=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===ni.Chord?e.closePath():this.type!==ni.Round||this.fullPie||(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new Tr(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t),r=this.computeBBox();return this.type!==ni.Open&&r.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)},t.className="Arc",t.defaultStyles=kr(Wr.defaultStyles,{lineWidth:1,fillStyle:null}),t}(Yo);!function(e){e[e.Tick=0]="Tick",e[e.GridLine=1]="GridLine"}(oi||(oi={}));var ai,si,li=function(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=10},ui=function(){function e(){this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=0,this.mirrored=!1,this.parallel=!1}return Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(e){this._format!==e&&(this._format=e,this.onFormatChange&&this.onFormatChange(e))},enumerable:!0,configurable:!0}),e}(),ci=function(){function e(){this.id=Mr(this),this.lineNode=new Wo,this.group=new jo,this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new li,this.label=new ui,this.translation={x:0,y:0},this.rotation=0,this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.thickness=0,this.groupSelection=Vo.select(this.group).selectAll(),this.label.onFormatChange=this.onLabelFormatChange.bind(this),this.group.append(this.lineNode)}return Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e,this.requestedRange=e.range.slice(),this.onLabelFormatChange()},enumerable:!0,configurable:!0}),e.prototype.getMeta=function(){},e.prototype.updateRange=function(){var e=this.requestedRange,t=this.visibleRange,n=(e[1]-e[0])/(t[1]-t[0]),r=e[0]-n*t[0];this.scale.range=[r,r+n]},e.prototype.inRange=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),0===this.inRangeEx(e,t,n)},e.prototype.inRangeEx=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var r=this.range,o=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return e+t<o-n?-1:e>i+n?1:0},Object.defineProperty(e.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(e){if(e&&2===e.length){var t=e[0],n=e[1];t=Math.max(0,t),n=Math.min(1,n),t=Math.min(t,n),n=Math.max(t,n),this._visibleRange=[t,n],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.slice()},enumerable:!0,configurable:!0}),e.prototype.onLabelFormatChange=function(e){e?this.scale&&this.scale.tickFormat&&(this.labelFormatter=this.scale.tickFormat(this.tick.count,e)):this.labelFormatter=void 0},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){var t=this._title;t!==e&&(t&&this.group.removeChild(t.node),e&&(e.node.rotation=-Math.PI/2,this.group.appendChild(e.node)),this._title=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.groupSelection=this.groupSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(e){this._radialGrid!==e&&(this._radialGrid=e,this.groupSelection=this.groupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),e.prototype.update=function(){var e=this,t=this,n=t.group,r=t.scale,o=t.tick,i=t.label,a=t.gridStyle,s=t.requestedRange,l=Math.min(s[0],s[1]),u=Math.max(s[0],s[1]),c=Zo(this.rotation),p=i.parallel,d=Qo(Zo(i.rotation));n.translationX=this.translation.x,n.translationY=this.translation.y,n.rotation=c;var h=(r.bandwidth||0)/2,f=i.mirrored?1:-1,g=Qo(c),m=!d&&g>=0&&g<=Math.PI?-1:1,y=Qo(c-Math.PI/2),v=!d&&y>=0&&y<=Math.PI?-1:1,b=d>=0&&d<=Math.PI?-1:1,C=r.ticks(this.tick.count),w=this.groupSelection.setData(C);w.exit.remove();var O=w.enter.append(jo);O.append(Wo).each(function(e){return e.tag=oi.Tick}),this.gridLength&&(this.radialGrid?O.append(ii).each(function(e){return e.tag=oi.GridLine}):O.append(Wo).each(function(e){return e.tag=oi.GridLine})),O.append(Hr);var x,S=w.merge(O);if(S.attrFn("translationY",function(e,t){return Math.round(r.convert(t)+h)}).attrFn("visible",function(e){return e.translationY>=l&&e.translationY<=u}),S.selectByTag(oi.Tick).each(function(e){e.strokeWidth=o.width,e.stroke=o.color}).attr("x1",f*o.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&a.length){var P=a.length,_=void 0;if(this.radialGrid){var E=(x=Zo(this.gridLength),x%=Jo,(x+=Jo)!==Jo&&(x%=Jo),x);_=S.selectByTag(oi.GridLine).each(function(e,t){var n=Math.round(r.convert(t)+h);e.centerX=0,e.centerY=r.range[0]-n,e.endAngle=E,e.radiusX=n,e.radiusY=n})}else _=S.selectByTag(oi.GridLine).each(function(t){t.x1=0,t.x2=-f*e.gridLength,t.y1=0,t.y2=0,t.visible=Math.abs(t.parent.translationY-r.range[0])>1});_.each(function(e,t,n){var r=a[n%P];e.stroke=r.stroke,e.strokeWidth=o.width,e.lineDash=r.lineDash,e.fill=void 0})}this.fractionDigits=C.fractionDigits>=0?C.fractionDigits:0;var T=S.selectByClass(Hr).each(function(t,n,r){t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.color,t.textBaseline=p&&!d?f*m==-1?"hanging":"bottom":"middle",t.text=e.formatTickDatum(n,r),t.textAlign=p?d?f*b==-1?"end":"start":"center":f*v==-1?"end":"start"}),A=f*(o.size+i.padding),M=p?m*Math.PI/2:-1===v?Math.PI:0;T.each(function(e){e.x=A,e.rotationCenterX=A,e.rotation=M+d}),this.groupSelection=S;var D=this.lineNode;D.x1=0,D.x2=0,D.y1=s[0],D.y2=s[1],D.strokeWidth=this.line.width,D.stroke=this.line.color,D.visible=C.length>0;var k=this.title,R=!1;if(k&&k.enabled){R=!0;var I=k.padding.bottom,N=k.node,F=this.computeBBox({excludeTitle:!0}),L=-1===f&&g>Math.PI&&g<2*Math.PI?-1:1;N.rotation=L*f*Math.PI/2,N.x=L*f*(D.y1+D.y2)/2,N.x=L*f*(s[0]+s[1])/2,N.y=-1===f?L*(-I-F.width+Math.max(F.x+F.width,0)):-I-F.width-Math.min(F.x,0),N.textBaseline=1===L?"bottom":"top"}k&&(k.node.visible=R)},e.prototype.formatTickDatum=function(e,t){var n=this.label,r=this.labelFormatter,o=this.fractionDigits,i=this.getMeta();return n.formatter?n.formatter({value:o>=0?e:String(e),index:t,fractionDigits:o,formatter:r,axis:i}):r?r(e):"number"==typeof e&&o>=0?e.toFixed(o):String(e)},e.prototype.formatDatum=function(e){return String(e)},e.prototype.computeBBox=function(e){var t=this.title,n=this.lineNode,r=this.groupSelection.selectByClass(Hr),o=1/0,i=-1/0,a=1/0,s=-1/0;if(r.each(function(e){e.computeTransformMatrix();var t=Ar.flyweight(e.matrix),n=e.parent;n.computeTransformMatrix(),t.preMultiplySelf(n.matrix);var r=e.computeBBox();if(r){var l=t.transformBBox(r);o=Math.min(o,l.x),i=Math.max(i,l.x+l.width),a=Math.min(a,l.y),s=Math.max(s,l.y+l.height)}}),t&&t.enabled&&(!e||!e.excludeTitle)){var l=t.node;l.computeTransformMatrix();var u=Ar.flyweight(l.matrix),c=l.computeBBox();if(c){var p=u.transformBBox(c);o=Math.min(o,p.x),i=Math.max(i,p.x+p.width),a=Math.min(a,p.y),s=Math.max(s,p.y+p.height)}}return o=Math.min(o,0),i=Math.max(i,0),a=Math.min(a,n.y1,n.y2),s=Math.max(s,n.y1,n.y2),new Tr(o,a,i-o,s-a)},e}(),pi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function di(e){return e===ai.X?ai.Y:ai.X}!function(e){e.X="x",e.Y="y"}(ai||(ai={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.Angle="angle",e.Radius="radius"}(si||(si={}));var hi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keys=[],t.boundSeries=[],t}return pi(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),t.prototype.getMeta=function(){return{id:this.id,direction:this.direction,boundSeries:this.boundSeries}},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case si.Top:this.direction=ai.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case si.Right:this.direction=ai.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case si.Bottom:this.direction=ai.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case si.Left:this.direction=ai.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),t}(ci),fi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gi=function(e){function t(){var t=e.call(this)||this;return t._nice=!0,t._min=NaN,t._max=NaN,t.scale=new Do,t}return fi(t,e),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(this.tick.count))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){e.length>2&&(e=Io(e)||[0,1]);var t=this.scale,n=this.min,r=this.max;e=[isNaN(n)?e[0]:n,isNaN(r)?e[1]:r],t.domain=e,t.clamp=!0,this.nice&&this.scale.nice&&this.scale.nice(this.tick.count)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,isNaN(e)||(this.scale.domain=[e,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,isNaN(e)||(this.scale.domain=[this.scale.domain[0],e]))},enumerable:!0,configurable:!0}),t.prototype.formatDatum=function(e){return e.toFixed(2)},t.className="NumberAxis",t.type="number",t}(hi),mi=function(){function e(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(e.prototype,"domain",{get:function(){return this._domain},set:function(e){var t=this._domain;t.length=0,this.index=new Map;var n=this.index;e.forEach(function(e){void 0===n.get(e)&&n.set(e,t.push(e)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range[0]=e[0],this._range[1]=e[1],this.rescale()},enumerable:!0,configurable:!0}),e.prototype.ticks=function(){return this._domain},e.prototype.convert=function(e){var t=this.index.get(e);if(void 0===t)return NaN;var n=this.ordinalRange[t];return void 0===n?NaN:n},Object.defineProperty(e.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._paddingInner},set:function(e){e=Math.max(0,Math.min(1,e)),this._paddingInner=e,this._paddingOuter=e,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(e){this._paddingInner=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(e){this._paddingOuter=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"round",{get:function(){return this._round},set:function(e){this._round=e,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){var e,t=this._domain.length;if(t){var n=this._range,r=n[0],o=n[1],i=o<r;i&&(r=(e=[o,r])[0],o=e[1]);var a=(o-r)/Math.max(1,t-this._paddingInner+2*this._paddingOuter);this._round&&(a=Math.floor(a)),r+=(o-r-a*(t-this._paddingInner))*this._align,this._bandwidth=a*(1-this._paddingInner),this._round&&(r=Math.round(r),this._bandwidth=Math.round(this._bandwidth));for(var s=[],l=0;l<t;l++)s.push(r+a*l);this.ordinalRange=i?s.reverse():s}},e}(),yi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vi=function(e){function t(){var t=e.call(this)||this,n=new mi;return n.paddingInner=.2,n.paddingOuter=.3,t.scale=n,t}return yi(t,e),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this.scale.paddingInner},set:function(e){this.scale.paddingInner=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.filter(function(e,t,n){return n.indexOf(e)===t})},enumerable:!0,configurable:!0}),t.className="CategoryAxis",t.type="category",t}(hi),bi=function(){function e(e,t,n){void 0===e&&(e=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=n}return e.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},e.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},e.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},e.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},e.prototype.getSiblings=function(){var e=this;return this.parent?this.parent.children.filter(function(t,n){return n!==e.number}):[]},e}();function Ci(e,t,n){var r=n/(t.number-e.number);t.change-=r,t.shift+=n,e.change+=r,t.prelim+=n,t.mod+=n}function wi(e,t,n){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:n}var Oi=function(){function e(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return e.prototype.update=function(e,t){var n=t(e),r=n.x,o=n.y;r>this.right&&(this.right=r),r<this.left&&(this.left=r),o>this.bottom&&(this.bottom=o),o<this.top&&(this.top=o)},e}();var xi=function(){function e(){this.dimensions=new Oi,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return e.prototype.update=function(e){this.dimensions.update(e,function(e){return{x:e.x,y:e.y}}),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)},e.prototype.resize=function(e,t,n,r,o){void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=!1);var i=this.leafCount-1,a=this.depth,s=this.dimensions,l=1,u=1;e>0&&i&&(l=e/i/((s.right-s.left)/i),o&&(l=-l)),t>0&&a&&(u=t/a/((s.bottom-s.top)/a));var c=new Oi;this.nodes.forEach(function(e){e.screenX=e.x*l,e.screenY=e.y*u,c.update(e,function(e){return{x:e.screenX,y:e.screenY}})});var p=-c.left,d=-c.top;this.nodes.forEach(function(e){e.screenX+=p+n,e.screenY+=d+r})},e}(),Si=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.grid=!1,t}return Si(t,e),t}(ui),_i=function(e){function t(){var t=e.call(this)||this;t.tickScale=new mi,t.longestSeparatorLength=0,t.translation={x:0,y:0},t.rotation=0,t.line={width:1,color:"rgba(195, 195, 195, 1)"},t.label=new Pi,t.labelColor="rgba(87, 87, 87, 1)";var n=t.group,r=t.tickScale,o=new mi;return o.paddingOuter=.1,o.paddingInner=2*o.paddingOuter,t.requestedRange=o.range.slice(),t.scale=o,r.paddingInner=1,r.paddingOuter=0,t.gridLineSelection=Vo.select(n).selectAll(),t.axisLineSelection=Vo.select(n).selectAll(),t.separatorSelection=Vo.select(n).selectAll(),t.labelSelection=Vo.select(n).selectAll(),t}return Si(t,e),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.scale.domain=e;var t,n,r=function(e,t){void 0===t&&(t=!0);var n=new bi,r=0;return t&&e.forEach(function(e){return r=Math.max(r,e.labels.length)}),e.forEach(function(e){if(t)for(;e.labels.length<r;)e.labels.unshift("");!function(e,t){var n=t.labels.slice().reverse(),r=n.length-1;n.forEach(function(t,n){var o=e.children,i=ko(o,function(e){return e.label===t}),a=n!==r;if(i&&a)e=i;else{var s=new bi(t,e);s.number=o.length,o.push(s),a&&(e=s)}})}(n,e)}),n}(e);this.tickTreeLayout=(t=r,n=new xi,function e(t,n){var r=t.children;if(r.length){var o=r[0];r.forEach(function(t){e(t,n),o=function(e,t,n){var r=e.getLeftSibling();if(r){for(var o=e,i=e,a=r,s=i.getLeftmostSibling(),l=i.mod,u=o.mod,c=a.mod,p=s.mod;a.nextRight()&&i.nextLeft();){a=a.nextRight(),i=i.nextLeft(),s=s.nextLeft(),(o=o.nextRight()).ancestor=e;var d=a.prelim+c-(i.prelim+l)+n;d>0&&(Ci(wi(a,e,t),e,d),l+=d,u+=d),c+=a.mod,l+=i.mod,p+=s.mod,u+=o.mod}a.nextRight()&&!o.nextRight()?(o.thread=a.nextRight(),o.mod+=c-u):(i.nextLeft()&&!s.nextLeft()&&(s.thread=i.nextLeft(),s.mod+=l-p),t=e)}return t}(t,o,n)}),function(e){var n=t.children;if(n)for(var r=0,o=0,i=n.length-1;i>=0;i--){var a=n[i];a.prelim+=r,a.mod+=r,r+=a.shift+(o+=a.change)}}();var i=(r[0].prelim+r[r.length-1].prelim)/2;(a=t.getLeftSibling())?(t.prelim=a.prelim+n,t.mod=t.prelim-i):t.prelim=i}else{var a=t.getLeftSibling();t.prelim=a?a.prelim+n:0}}(t,1),function e(t,n,r){t.x=t.prelim+n,t.y=t.depth,r.update(t),t.children.forEach(function(o){return e(o,n+t.mod,r)})}(t,-t.prelim,n),function e(t){var n=t.children,r=0;n.forEach(function(t){e(t),t.children.length?r+=t.leafCount:r++}),t.leafCount=r,n.length?(t.subtreeLeft=n[0].subtreeLeft,t.subtreeRight=n[t.children.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}(t),n);var o=e.slice();o.push(""),this.tickScale.domain=o,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),t.prototype.updateRange=function(){var e=this.requestedRange,t=this.visibleRange,n=(e[1]-e[0])/(t[1]-t[0]),r=e[0]-n*t[0];this.tickScale.range=this.scale.range=[r,r+n],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,t=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,n=this.tickTreeLayout,r=this.lineHeight;n&&n.resize(Math.abs(t[1]-t[0]),n.depth*r,(Math.min(t[0],t[1])||0)+(e.bandwidth||0)/2,-n.depth*r,t[1]-t[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this,t=this,n=t.group,r=t.scale,o=t.label,i=t.tickScale,a=t.requestedRange,s=r.range[0],l=r.range[1],u=Math.abs(l-s)/r.domain.length||0,c=o.parallel,p=Zo(this.rotation),d=Math.abs(Math.cos(p))<1e-8,h=Qo(Zo(this.label.rotation));n.translationX=this.translation.x,n.translationY=this.translation.y,n.rotation=p;var f=this.title;f&&(f.node.visible=!1);var g=this.lineHeight,m=this.tickTreeLayout,y=r.ticks(),v=m?m.nodes:[],b=!!m&&m.depth>1,C=i.ticks(),w=o.mirrored?1:-1,O=Qo(p),x=!h&&O>=0&&O<=Math.PI?-1:1,S=Qo(p-Math.PI/2),P=!h&&S>=0&&S<=Math.PI?-1:1,_=this.gridLineSelection.setData(this.gridLength?C:[]);_.exit.remove();var E=_.enter.append(Wo),T=_.merge(E),A=this.labelSelection.setData(v);A.exit.remove();var M=A.enter.append(Hr),D=A.merge(M),k=o.formatter,R=0;D.each(function(e,t,n){e.fontStyle=o.fontStyle,e.fontWeight=o.fontWeight,e.fontSize=o.fontSize,e.fontFamily=o.fontFamily,e.fill=o.color,e.textBaseline=-1===x?"bottom":"hanging",e.textAlign="center",e.translationX=t.screenY-.25*o.fontSize,e.translationY=t.screenX,0===n?f&&f.enabled&&y.length>0?(e.visible=!0,e.text=f.text,e.fontSize=f.fontSize,e.fontStyle=f.fontStyle,e.fontWeight=f.fontWeight,e.fontFamily=f.fontFamily,e.textBaseline="hanging"):e.visible=!1:(e.text=k?k({value:String(t.label),index:n}):String(t.label),e.visible=t.screenX>=a[0]&&t.screenX<=a[1]);var r=e.computeBBox();r&&r.width>R&&(R=r.width)});var I=w*o.padding,N=c?x*Math.PI/2:-1===P?Math.PI:0,F=this.label.grid,L=[];D.each(function(t,n,r){if(t.x=I,t.rotationCenterX=I,n.children.length?(t.translationX-=R-g+e.label.padding,t.rotation=d?N:-Math.PI/2):(t.rotation=h,t.textAlign="end",t.textBaseline="middle"),n.parent&&b){var o=n.children.length?n.screenX-n.leafCount*u/2:n.screenX-u/2;if(n.children.length){var i=-R-2*e.label.padding+n.screenY;L.push({y:o,x1:i+g,x2:i,toString:function(){return String(r)}})}else(n.number!==n.children.length-1||F)&&L.push({y:o,x1:0,x2:-R-2*e.label.padding,toString:function(){return String(r)}})}});var j=0;L.forEach(function(e){return j=Math.min(j,e.x2)}),this.longestSeparatorLength=Math.abs(j),L.push({y:Math.max(s,l),x1:0,x2:j,toString:function(){return String(L.length)}});var G=this.separatorSelection.setData(L);G.exit.remove();var V=G.enter.append(Wo),B=G.merge(V);this.separatorSelection=B,B.each(function(t,n,r){t.x1=n.x1,t.x2=n.x2,t.y1=n.y,t.y2=n.y,t.visible=n.y>=a[0]-1e-7&&n.y<=a[1]+1e-7,t.stroke=e.tick.color,t.fill=void 0,t.strokeWidth=1}),this.gridLineSelection=T,this.labelSelection=D;for(var W=m?m.depth+1:1,z=[],U=0;U<W;U++)z.push(U);var H=this.axisLineSelection.setData(z);H.exit.remove();var K=H.enter.append(Wo),X=H.merge(K);if(this.axisLineSelection=X,X.each(function(t,n,r){var o=r>0?-R-2*e.label.padding-(r-1)*g:0;t.x1=o,t.x2=o,t.y1=a[0],t.y2=a[1],t.strokeWidth=e.line.width,t.stroke=e.line.color,t.visible=y.length>0&&(0===r||F&&b)}),this.gridLength){var q=this.gridStyle,Y=q.length;T.each(function(t,n,r){var o=Math.round(i.convert(n));t.x1=0,t.x2=-w*e.gridLength,t.y1=o,t.y2=o,t.visible=o>=a[0]&&o<=a[1]&&Math.abs(t.parent.translationY-s)>1;var l=q[r%Y];t.stroke=l.stroke,t.strokeWidth=e.tick.width,t.lineDash=l.lineDash,t.fill=void 0})}},t.prototype.computeBBox=function(e){var t=!e||!e.excludeTitle,n=1/0,r=-1/0,o=1/0,i=-1/0;return this.labelSelection.each(function(e,a,s){if(s>0||t){e.computeTransformMatrix();var l=Ar.flyweight(e.matrix),u=e.computeBBox();if(u){var c=l.transformBBox(u);n=Math.min(n,c.x),r=Math.max(r,c.x+c.width),o=Math.min(o,c.y),i=Math.max(i,c.y+c.height)}}}),new Tr(n,o,Math.max(r-n,this.longestSeparatorLength),i-o)},t.className="GroupedCategoryAxis",t.type="groupedCategory",t}(hi),Ei=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ti=new Date,Ai=new Date,Mi=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i._count=r,i._field=o,i}return Ei(t,e),t.prototype.count=function(e,t){return Ti.setTime(+e),Ai.setTime(+t),this._floor(Ti),this._floor(Ai),Math.floor(this._count(Ti,Ai))},t.prototype.every=function(e){var t,n=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var r=this._field;t=this.filter(r?function(t){return r(t)%e==0}:function(t){return n.count(0,t)%e==0})}else t=this;return t},t}(function(){function e(e,t){this._floor=e,this._offset=t}return e.prototype.floor=function(e){return e=new Date(+e),this._floor(e),e},e.prototype.ceil=function(e){return e=new Date(+e-1),this._floor(e),this._offset(e,1),this._floor(e),e},e.prototype.round=function(e){var t=this.floor(e),n=this.ceil(e),r=+e;return r-t.getTime()<n.getTime()-r?t:n},e.prototype.offset=function(e,t){return void 0===t&&(t=1),e=new Date(+e),this._offset(e,Math.floor(t)),e},e.prototype.range=function(e,t,n){void 0===n&&(n=1);var r,o=[];if(e=this.ceil(e),n=Math.floor(n),e>t||n<=0)return o;do{r=new Date(+e),o.push(r),this._offset(e,n),this._floor(e)}while(r<e&&e<t);return o},e.prototype.filter=function(t){var n=this;return new e(function(e){if(e>=e)for(;n._floor(e),!t(e);)e.setTime(e.getTime()-1);return e},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)do{n._offset(e,-1)}while(!t(e));else for(;--r>=0;)do{n._offset(e,1)}while(!t(e));return e})},e}()),Di=new Mi(function(e){return e},function(e,t){e.setTime(e.getTime()+t)},function(e,t){return t.getTime()-e.getTime()}),ki=1e3,Ri=60*ki,Ii=60*Ri,Ni=24*Ii,Fi=7*Ni,Li=30*Ni,ji=365*Ni,Gi=new Mi(function(e){e.setTime(e.getTime()-e.getMilliseconds())},function(e,t){e.setTime(e.getTime()+t*ki)},function(e,t){return(t.getTime()-e.getTime())/ki}),Vi=new Mi(function(e){e.setTime(e.getTime()-e.getMilliseconds()-e.getSeconds()*ki)},function(e,t){e.setTime(e.getTime()+t*Ri)},function(e,t){return(t.getTime()-e.getTime())/Ri},function(e){return e.getMinutes()}),Bi=new Mi(function(e){e.setTime(e.getTime()-e.getMilliseconds()-e.getSeconds()*ki-e.getMinutes()*Ri)},function(e,t){e.setTime(e.getTime()+t*Ii)},function(e,t){return(t.getTime()-e.getTime())/Ii},function(e){return e.getHours()}),Wi=new Mi(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){var n=t.getTimezoneOffset()-e.getTimezoneOffset();return(t.getTime()-e.getTime()-n*Ri)/Ni},function(e){return e.getDate()-1});function zi(e){return new Mi(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t.getTime()-e.getTime()-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ri)/Fi})}var Ui=zi(0),Hi=zi(1),Ki=(zi(2),zi(3),zi(4)),Xi=(zi(5),zi(6),Ui),qi=new Mi(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),Yi=new Mi(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}),Ji=new Mi(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/Ni},function(e){return e.getUTCDate()-1}),Qi=new Mi(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});function Zi(e){return new Mi(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t.getTime()-e.getTime())/Fi})}var $i=Zi(0),ea=Zi(1),ta=(Zi(2),Zi(3),Zi(4)),na=(Zi(5),Zi(6),$i);function ra(e){if(e.y>=0&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function oa(e){if(e.y>=0&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ia(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].toLowerCase()]=n;return t}function aa(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}var sa,la=37,ua=/^\s*\d+/,ca=/^%/,pa=/[\\^$*+?|[\]().{}]/g,da=function(e){return e.replace(pa,"\\$&")},ha=function(e){return new RegExp("^(?:"+e.map(da).join("|")+")","i")},fa={"-":"",_:" ",0:"0"};function ga(e,t,n){var r=e<0?"-":"",o=String(r?-e:e),i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}!function(e){sa=function(t){var n=e.dateTime,r=e.date,o=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,c=ha(i),p=ia(i),d=ha(a),h=ia(a),f=ha(s),g=ia(s),m=ha(l),y=ia(l),v=ha(u),b=ia(u),C={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:void 0,d:E,e:E,f:function(e,t){return _(e,t)+"000"},H:function(e,t){return ga(e.getHours(),t,2)},I:function(e,t){return ga(e.getHours()%12||12,t,2)},j:function(e,t){return ga(1+Wi.count(Yi.floor(e),e),t,3)},L:_,m:function(e,t){return ga(e.getMonth()+1,t,2)},M:function(e,t){return ga(e.getMinutes(),t,2)},p:function(e){return i[e.getHours()>=12?1:0]},Q:D,s:k,S:function(e,t){return ga(e.getSeconds(),t,2)},u:function(e){var t=e.getDay();return 0===t?7:t},U:function(e,t){return ga(Ui.count(Yi.floor(e),e),t,2)},V:function(e,t){var n=e.getDay();e=n>=4||0===n?Ki.floor(e):Ki.ceil(e);var r=Yi.floor(e);return ga(Ki.count(r,e)+(4===r.getDay()?1:0),t,2)},w:function(e){return e.getDay()},W:function(e,t){return ga(Hi.count(Yi.floor(e),e),t,2)},x:void 0,X:void 0,y:function(e,t){return ga(e.getFullYear()%100,t,2)},Y:function(e,t){return ga(e.getFullYear()%1e4,t,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ga(Math.floor(t/60),"0",2)+ga(t%60,"0",2)},"%":M},w={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:void 0,d:A,e:A,f:function(e,t){return T(e,t)+"000"},H:function(e,t){return ga(e.getUTCHours(),t,2)},I:function(e,t){return ga(e.getUTCHours()%12||12,t,2)},j:function(e,t){return ga(1+Ji.count(Qi.floor(e),e),t,3)},L:T,m:function(e,t){return ga(e.getUTCMonth()+1,t,2)},M:function(e,t){return ga(e.getUTCMinutes(),t,2)},p:function(e){return i[e.getUTCHours()>=12?1:0]},Q:D,s:k,S:function(e,t){return ga(e.getUTCSeconds(),t,2)},u:function(e){var t=e.getUTCDay();return 0===t?7:t},U:function(e,t){return ga(na.count(Qi.floor(e),e),t,2)},V:function(e,t){var n=e.getUTCDay();e=n>=4||0===n?ta.floor(e):ta.ceil(e);var r=Qi.floor(e);return ga(ta.count(r,e)+(4===r.getUTCDay()?1:0),t,4)},w:function(e){return e.getUTCDay()},W:function(e,t){return ga(ea.count(Qi.floor(e),e),t,2)},x:void 0,X:void 0,y:function(e,t){return ga(e.getUTCFullYear()%100,t,2)},Y:function(e,t){return ga(e.getUTCFullYear()%1e4,t,4)},Z:function(){return"+0000"},"%":M},O={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=g[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=b[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,t,r){return P(e,n,t,r)},d:I,e:I,f:function(e,t,n){var r=ua.exec(t.slice(n,n+6));return r?(e.L=Math.floor(parseFloat(r[0])/1e3),n+r[0].length):-1},H:R,I:R,j:function(e,t,n){var r=ua.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1},L:function(e,t,n){var r=ua.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1},m:function(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.m=parseFloat(r[0])-1,n+r[0].length):-1},M:function(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1},p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=p[r[0].toLowerCase()],n+r[0].length):-1},Q:function(e,t,n){var r=ua.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1},s:function(e,t,n){var r=ua.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1},S:function(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1},u:function(e,t,n){var r=ua.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1},U:function(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1},V:function(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1},w:function(e,t,n){var r=ua.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1},W:function(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1},x:function(e,t,n){return P(e,r,t,n)},X:function(e,t,n){return P(e,o,t,n)},y:function(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1},Y:function(e,t,n){var r=ua.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1},Z:function(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1},"%":function(e,t,n){var r=ca.exec(t.slice(n,n+1));return r?n+r[0].length:-1}};function x(e,t){return function(n){var r=aa(1900);if(P(r,e,n+="",0)==n.length){if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||r.V>53)return;if("w"in r||(r.w=1),"Z"in r){var o=(i=oa(aa(r.y))).getUTCDay();i=o>4||0===o?ea.ceil(i):ea.floor(i),i=Ji.offset(i,7*(r.V-1)),r.y=i.getUTCFullYear(),r.m=i.getUTCMonth(),r.d=i.getUTCDate()+(r.w+6)%7}else{var i;o=(i=t(aa(r.y))).getDay(),i=o>4||0===o?Hi.ceil(i):Hi.floor(i),i=Wi.offset(i,7*(r.V-1)),r.y=i.getFullYear(),r.m=i.getMonth(),r.d=i.getDate()+(r.w+6)%7}}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),o="Z"in r?oa(aa(r.y)).getUTCDay():t(aa(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(o+5)%7:r.w+7*r.U-(o+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,oa(r)):t(r)}}}function S(e,t){return function(n){var r=[],o=e.length,i=-1,a=0;for(n instanceof Date||(n=new Date(+n));++i<o;)if(e.charCodeAt(i)===la){r.push(e.slice(a,i));var s=e.charAt(++i),l=fa[s];null!=l?s=e.charAt(++i):l="e"===s?" ":"0";var u=t[s];u&&(s=u(n,l)),r.push(s),a=i+1}return r.push(e.slice(a,i)),r.join("")}}function P(e,t,n,r){for(var o=0,i=t.length,a=n.length;o<i;){if(r>=a)return-1;var s=t.charCodeAt(o++);if(s===la){var l=t.charAt(o++),u=O[l in fa?t.charAt(o++):l];if(!u||(r=u(e,n,r))<0)return-1}else if(s!=n.charCodeAt(r++))return-1}return r}function _(e,t){return ga(e.getMilliseconds(),t,3)}function E(e,t){return ga(e.getDate(),t,2)}function T(e,t){return ga(e.getUTCMilliseconds(),t,3)}function A(e,t){return ga(e.getUTCDate(),t,2)}function M(e){return"%"}function D(e){return e.getTime()}function k(e){return Math.floor(e.getTime()/1e3)}function R(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function I(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}return C.x=S(r,C),C.X=S(o,C),C.c=S(n,C),w.x=S(r,w),w.X=S(o,w),w.c=S(n,w),{format:function(e){var t=S(e,C);return t.toString=function(){return e},t},parse:function(e){var t=x(e,ra);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e,w);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e,oa);return t.toString=function(){return e},t}}}()}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ma,ya=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),va=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="time",t.year=Yi,t.month=qi,t.week=Xi,t.day=Wi,t.hour=Bi,t.minute=Vi,t.second=Gi,t.millisecond=Di,t.format=sa.format,t.tickIntervals=[[t.second,1,ki],[t.second,5,5*ki],[t.second,15,15*ki],[t.second,30,30*ki],[t.minute,1,Ri],[t.minute,5,5*Ri],[t.minute,15,15*Ri],[t.minute,30,30*Ri],[t.hour,1,Ii],[t.hour,3,3*Ii],[t.hour,6,6*Ii],[t.hour,12,12*Ii],[t.day,1,Ni],[t.day,2,2*Ni],[t.week,1,Fi],[t.month,1,Li],[t.month,3,3*Li],[t.year,1,ji]],t.formatMillisecond=t.format(".%L"),t.formatSecond=t.format(":%S"),t.formatMinute=t.format("%I:%M"),t.formatHour=t.format("%I %p"),t.formatDay=t.format("%a %d"),t.formatWeek=t.format("%b %d"),t.formatMonth=t.format("%B"),t.formatYear=t.format("%Y"),t._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],t}return ya(t,e),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,t,n,r){var o;if("number"==typeof e){var i=e,a=this.tickIntervals,s=Math.abs(n-t)/i,l=function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=e.length);for(var i=function(e,t){return ro(function(e){return e[2]}(e),t)};r<o;){var a=r+o>>>1;i(e[a],t)<0?r=a+1:o=a}return r}(a,s);l===a.length?(r=ho(t/ji,n/ji,i),e=this.year):l?(e=(o=a[s/a[l-1][2]<a[l][2]/s?l-1:l])[0],r=o[1]):(r=Math.max(ho(t,n,e),1),e=this.millisecond)}return null==r?e:e.every(r)},Object.defineProperty(t.prototype,"domain",{get:function(){return e.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(t){e.prototype.setDomain.call(this,Array.prototype.map.call(t,function(e){return e instanceof Date?+e:+new Date(+e)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(t){return new Date(e.prototype.invert.call(this,t))},t.prototype.ticks=function(t){void 0===t&&(t=10);var n=e.prototype.getDomain.call(this),r=n[0],o=n[n.length-1],i=o<r;if(i){var a=r;r=o,o=a}var s=this.tickInterval(t,r,o),l=s?s.range(r,o+1):[];return i?l.reverse():l},t.prototype.tickFormat=function(e,t){return null==t?this.defaultTickFormat.bind(this):this.format(t)},t.prototype.nice=function(t){void 0===t&&(t=10);var n=e.prototype.getDomain.call(this),r=this.tickInterval(t,n[0],n[n.length-1]);r&&(this.domain=this._nice(n,r))},t.prototype._nice=function(e,t){var n,r,o=0,i=(e=e.slice()).length-1,a=e[o],s=e[i];return s<a&&(o=(n=[i,o])[0],i=n[1],a=(r=[s,a])[0],s=r[1]),e[o]=t.floor(a),e[i]=t.ceil(s),e},t}(ao),ba=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ca=function(e){function t(){var t=e.call(this)||this;t.datumFormat="%m/%d/%y, %H:%M:%S",t._nice=!0;var n=new va;return n.clamp=!0,t.scale=n,t.datumFormatter=n.tickFormat(t.tick.count,t.datumFormat),t}return ba(t,e),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){e.length>2&&(e=(Io(e)||[0,1e3]).map(function(e){return new Date(e)})),this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),t.prototype.onLabelFormatChange=function(t){t?e.prototype.onLabelFormatChange.call(this,t):this.labelFormatter=this.scale.tickFormat(this.tick.count,void 0)},t.prototype.formatDatum=function(e){return this.datumFormatter(e)},t.className="TimeAxis",t.type="time",t}(hi),wa=function(){function e(e,t,n){var r=this;void 0===e&&(e=window.document),this.id=Mr(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var e,t=r.ctx,n=r.root,o=r.pendingSize;r.animationFrameId=0,o&&((e=r.canvas).resize.apply(e,o),r.pendingSize=void 0),!n||n.visible?(t.clearRect(0,0,r.width,r.height),n&&(t.save(),n.visible&&n.render(t),t.restore()),r._frameIndex++,r.debug.renderFrameIndex&&(t.fillStyle="white",t.fillRect(0,0,40,15),t.fillStyle="black",t.fillText(r.frameIndex.toString(),2,10)),r.dirty=!1):r.dirty=!1},this.canvas=new zr(e,t,n),this.ctx=this.canvas.context}return Object.defineProperty(e.prototype,"container",{get:function(){return this.canvas.container},set:function(e){this.canvas.container=e},enumerable:!0,configurable:!0}),e.prototype.download=function(e){this.canvas.download(e)},e.prototype.getDataURL=function(e){return this.canvas.getDataURL(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){e=Math.round(e),t=Math.round(t),e===this.width&&t===this.height||(this.pendingSize=[e,t],this.dirty=!0)},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},set:function(e){e&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=e},enumerable:!0,configurable:!0}),e.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(e.prototype,"root",{get:function(){return this._root},set:function(e){e!==this._root&&(this._root&&this._root._setScene(),this._root=e,e&&(null===e.parent&&e.scene&&e.scene!==this&&(e.scene.root=null),e._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.appendPath=function(e){var t=this.ctx,n=e.commands,r=e.params,o=n.length,i=0;t.beginPath();for(var a=0;a<o;a++)switch(n[a]){case"M":t.moveTo(r[i++],r[i++]);break;case"L":t.lineTo(r[i++],r[i++]);break;case"C":t.bezierCurveTo(r[i++],r[i++],r[i++],r[i++],r[i++],r[i++]);break;case"Z":t.closePath()}},Object.defineProperty(e.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),e.className="Scene",e}(),Oa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.angle=0,t}return Oa(t,e),t.prototype.generateGradient=function(e,t){var n=this.stops,r=this.angle%360*Math.PI/180,o=Math.cos(r),i=Math.sin(r),a=t.width,s=t.height,l=t.x+.5*a,u=t.y+.5*s;if(a>0&&s>0){var c=Math.sqrt(s*s+a*a)*Math.abs(Math.cos(r-Math.atan(s/a)))/2,p=e.createLinearGradient(l+o*c,u+i*c,l-o*c,u-i*c);return n.forEach(function(e){p.addColorStop(e.offset,e.color)}),p}return"black"},t}(function(){this.stops=[]}),Sa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e[e.Content=0]="Content",e[e.Border=1]="Border"}(ma||(ma={}));var Pa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._x=0,t._y=0,t._width=10,t._height=10,t._radius=0,t._crisp=!1,t._gradient=!1,t.effectiveStrokeWidth=Wr.defaultStyles.strokeWidth,t._sizing=ma.Content,t}return Sa(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius!==e&&(this._radius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient},set:function(e){this._gradient!==e&&(this._gradient=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.updateGradientInstance=function(){if(this.gradient){var e=this.fill;if(e){var t=new xa;t.angle=270,t.stops=[{offset:0,color:eo.fromString(e).brighter().toString()},{offset:1,color:eo.fromString(e).darker().toString()}],this.gradientInstance=t}}else this.gradientInstance=void 0},Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.crisp||this.sizing===ma.Border?this.dirtyPath=!0:(this.effectiveStrokeWidth=e,this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},set:function(e){this._sizing!==e&&(this._sizing=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.sizing===ma.Border,t=this.path;t.clear();var n,r=this.x,o=this.y,i=this.width,a=this.height;if(e){var s=i/2,l=a/2;n=Math.min(this.strokeWidth,s,l),r=Math.min(r+n/2,r+s),o=Math.min(o+n/2,o+l),i=Math.max(i-n,0),a=Math.max(a-n,0)}else n=this.strokeWidth;if(this.effectiveStrokeWidth=n,this.crisp&&!e){var u=this.alignment,c=this.align;t.rect(c(u,r),c(u,o),c(u,r,i),c(u,o,a))}else t.rect(r,o,i,a)},t.prototype.computeBBox=function(){return new Tr(this.x,this.y,this.width,this.height)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t);return this.computeBBox().containsPoint(n.x,n.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.fillStroke=function(e){if(this.scene){var t=this.scene.canvas.pixelRatio||1;if(this.fill){e.fillStyle=this.gradientInstance?this.gradientInstance.generateGradient(e,this.computeBBox()):this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var n=this.fillShadow;n&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.effectiveStrokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var r=this.strokeShadow;r&&r.enabled&&(e.shadowColor=r.color,e.shadowOffsetX=r.xOffset*t,e.shadowOffsetY=r.yOffset*t,e.shadowBlur=r.blur*t),e.stroke()}}},t.className="Rect",t}(Yo),_a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ea=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._x=0,t._y=0,t._size=12,t}return _a(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=Math.abs(e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.size,t=e/2;return new Tr(this.x-t,this.y-t,e,e)},t}(Yo),Ta=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Aa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ta(t,e),t.prototype.updatePath=function(){var e=this.path,t=this.x,n=this.y,r=this.size/2,o=this.alignment,i=this.align;e.clear(),e.moveTo(i(o,t-r),i(o,n-r)),e.lineTo(i(o,t+r),i(o,n-r)),e.lineTo(i(o,t+r),i(o,n+r)),e.lineTo(i(o,t-r),i(o,n+r)),e.closePath()},t.className="Square",t}(Ea),Ma=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Da=function(e){function t(){var t=e.call(this)||this;t.label=new Hr,t._marker=new Aa,t._markerSize=15,t._spacing=8;var n=t.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=zr.has.textMetrics?1:0,t.append([t.marker,n]),t.update(),t}return Ma(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.marker.opacity},set:function(e){this.marker.opacity=e,this.label.opacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this.markerSize;this.marker.size=e,this.label.x=e/2+this.spacing},t.className="MarkerLabel",t}(jo),ka=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ra=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,r=this.size/2;n.clear(),n.cubicArc(e,t,r,r,0,0,2*Math.PI,0),n.closePath()},t.className="Circle",t}(Ea),Ia=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Na=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ia(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,r=this.size/4.2;n.clear(),n.moveTo(e-=r,t),n.lineTo(e-=r,t-=r),n.lineTo(e+=r,t-=r),n.lineTo(e+=r,t+=r),n.lineTo(e+=r,t-=r),n.lineTo(e+=r,t+=r),n.lineTo(e-=r,t+=r),n.lineTo(e+=r,t+=r),n.lineTo(e-=r,t+=r),n.lineTo(e-=r,t-=r),n.lineTo(e-=r,t+=r),n.lineTo(e-=r,t-=r),n.closePath()},t.className="Cross",t}(Ea),Fa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),La=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fa(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,r=this.size/2;n.clear(),n.moveTo(e,t-=r),n.lineTo(e+=r,t+=r),n.lineTo(e-=r,t+=r),n.lineTo(e-=r,t-=r),n.lineTo(e+=r,t-=r),n.closePath()},t.className="Diamond",t}(Ea),ja=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ga=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ja(t,e),t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this.x,t=this.path,n=this.rad,r=this.size/4,o=this.y+r/2;t.clear(),t.cubicArc(e-r,o-r,r,r,0,n(130),n(330),0),t.cubicArc(e+r,o-r,r,r,0,n(220),n(50),0),t.lineTo(e,o+r),t.closePath()},t.className="Heart",t}(Ea),Va=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ba=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Va(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,r=this.size/3,o=r/2;n.clear(),n.moveTo(e-=o,t-=o),n.lineTo(e,t-=r),n.lineTo(e+=r,t),n.lineTo(e,t+=r),n.lineTo(e+=r,t),n.lineTo(e,t+=r),n.lineTo(e-=r,t),n.lineTo(e,t+=r),n.lineTo(e-=r,t),n.lineTo(e,t-=r),n.lineTo(e-=r,t),n.lineTo(e,t-=r),n.closePath()},t.className="Plus",t}(Ea),Wa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wa(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,r=1.1*this.size;n.clear(),n.moveTo(e,t-=.48*r),n.lineTo(e+=.5*r,t+=.87*r),n.lineTo(e-=r,t),n.closePath()},t.className="Triangle",t}(Ea);function Ua(e){if(void 0===e&&(e=Aa),"string"==typeof e)switch(e){case"circle":return Ra;case"cross":return Na;case"diamond":return La;case"heart":return Ga;case"plus":return Ba;case"triangle":return za;default:return Aa}return"function"==typeof e?e:Aa}var Ha,Ka,Xa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qa=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(Ha||(Ha={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left"}(Ka||(Ka={}));var Ya=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.color="black",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t}return Xa(t,e),qa([Yr("change")],t.prototype,"color",void 0),qa([Yr("layoutChange")],t.prototype,"fontStyle",void 0),qa([Yr("layoutChange")],t.prototype,"fontWeight",void 0),qa([Yr("layoutChange")],t.prototype,"fontSize",void 0),qa([Yr("layoutChange")],t.prototype,"fontFamily",void 0),qa([Yr()],t.prototype,"formatter",void 0),t}(qr),Ja=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.size=15,t.padding=8,t.strokeWidth=1,t}return Xa(t,e),qa([Yr("layoutChange")],t.prototype,"size",void 0),qa([Yr("layoutChange")],t.prototype,"shape",void 0),qa([Yr("layoutChange")],t.prototype,"padding",void 0),qa([Yr("change")],t.prototype,"strokeWidth",void 0),t}(qr),Qa=function(e){function t(){var t=e.call(this)||this;t.marker=new Ja,t.label=new Ya,t.paddingX=16,t.paddingY=8;var n=function(){return t.fireEvent({type:"change"})};t.marker.addEventListener("change",n),t.label.addEventListener("change",n);var r=function(){return t.fireEvent({type:"layoutChange"})};return t.marker.addEventListener("layoutChange",r),t.label.addEventListener("layoutChange",r),t}return Xa(t,e),qa([Yr("layoutChange")],t.prototype,"paddingX",void 0),qa([Yr("layoutChange")],t.prototype,"paddingY",void 0),t}(qr),Za=function(e){function t(){var t=e.call(this)||this;return t.id=Mr(t),t.group=new jo,t.itemSelection=Vo.select(t.group).selectAll(),t.oldSize=[0,0],t.item=new Qa,t.data=[],t.enabled=!0,t.orientation=Ha.Vertical,t.position=Ka.Right,t.spacing=20,t._size=[0,0],t.addPropertyListener("data",t.onDataChange),t.addPropertyListener("enabled",t.onEnabledChange),t.addPropertyListener("position",t.onPositionChange),t.item.marker.addPropertyListener("shape",t.onMarkerShapeChange,t),t.addEventListener("change",t.update),t.item.addEventListener("change",function(){return t.fireEvent({type:"change"})}),t.item.addEventListener("layoutChange",function(){return t.fireEvent({type:"layoutChange"})}),t}return Xa(t,e),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.onDataChange=function(e){this.group.visible=e.value.length>0&&this.enabled},t.prototype.onEnabledChange=function(e){this.group.visible=e.value&&this.data.length>0},t.prototype.onPositionChange=function(e){switch(e.value){case"right":case"left":this.orientation=Ha.Vertical;break;case"bottom":case"top":this.orientation=Ha.Horizontal}},t.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove(),this.group.scene&&this.group.scene.cancelRender()},t.prototype.performLayout=function(e,t){var n=this.item,r=n.marker,o=n.paddingX,i=n.paddingY,a=this.itemSelection.setData(this.data,function(e,t){var n=Ua(r.shape||t.marker.shape);return t.id+"-"+t.itemId+"-"+n.name});a.exit.remove();var s=a.enter.append(Da).each(function(e,t){var n=Ua(r.shape||t.marker.shape);e.marker=new n}),l=this.itemSelection=a.merge(s),u=l.size,c=[],p=this.item.marker,d=this.item.label;l.each(function(e,t){e.markerSize=p.size,e.spacing=p.padding,e.fontStyle=d.fontStyle,e.fontWeight=d.fontWeight,e.fontSize=d.fontSize,e.fontFamily=d.fontFamily,e.text=t.label.text,c.push(e.computeBBox())});var h=c.length&&c[0].height,f=0,g=0,m=0,y=0;switch(this.orientation){case Ha.Horizontal:if(!(isFinite(e)&&e>0))return!1;f=0;var v=0;do{var b=0;v=0,g=0,f++;for(var C=0;C<u;)(x=c[C]).width>g&&(g=x.width),++C%f==0&&(b+=g,g=0,v++);C%f!=0&&(b+=g,v++),m=b+(v-1)*o}while(m>e&&v>1);y=h*f+(f-1)*i;break;case Ha.Vertical:if(!(isFinite(t)&&t>0))return!1;f=2*u;do{f=(f>>1)+f%2,g=0,b=0;var w=0,O=0;for(C=0;C<u;){var x=c[C];O||(w+=x.height),x.width>g&&(g=x.width),++C%f==0&&(b+=g,g=0,O++)}C%f!=0&&(b+=g,O++),m=b+(O-1)*o,y=w+(f-1)*i}while(y>t&&f>1)}var S=(e-m)/2,P=(t-y)/2,_=0,E=0;g=0,l.each(function(e,t,n){e.translationX=Math.floor(S+_),e.translationY=Math.floor(P+E);var r=c[n];r.width>g&&(g=r.width),(n+1)%f==0?(_+=g+o,E=0,g=0):E+=r.height+i}),this.update();var T=this._size,A=this.oldSize;T[0]=m,T[1]=y,T[0]===A[0]&&T[1]===A[1]||(A[0]=T[0],A[1]=T[1])},t.prototype.update=function(){var e=this;this.itemSelection.each(function(t,n){var r=n.marker;t.markerFill=r.fill,t.markerStroke=r.stroke,t.markerStrokeWidth=e.item.marker.strokeWidth,t.markerFillOpacity=r.fillOpacity,t.markerStrokeOpacity=r.strokeOpacity,t.opacity=n.enabled?1:.5,t.color=e.item.label.color})},t.prototype.getDatumForPoint=function(e,t){var n=this.group.pickNode(e,t);if(n&&n.parent)return n.parent.datum},t.className="Legend",qa([Yr("layoutChange")],t.prototype,"data",void 0),qa([Yr("layoutChange")],t.prototype,"enabled",void 0),qa([Yr("layoutChange")],t.prototype,"orientation",void 0),qa([Yr("layoutChange")],t.prototype,"position",void 0),qa([Yr("layoutChange")],t.prototype,"spacing",void 0),t}(qr),$a=function(){function e(){}return e.init=function(){var e=this,t=window.ResizeObserver;t?this.resizeObserver=new t(function(t){for(var n=0,r=t;n<r.length;n++){var o=r[n],i=o.contentRect,a=i.width,s=i.height;e.checkSize(e.elements.get(o.target),o.target,a,s)}}):window.setInterval(function(){e.elements.forEach(function(t,n){e.checkSize(t,n,n.clientWidth?n.clientWidth:0,n.clientHeight?n.clientHeight:0)})},100),this.ready=!0},e.checkSize=function(e,t,n,r){e&&(e.size&&n===e.size.width&&r===e.size.height||(e.size={width:n,height:r},e.cb(e.size,t)))},e.observe=function(e,t){this.ready||this.init(),this.unobserve(e),this.resizeObserver&&this.resizeObserver.observe(e),this.elements.set(e,{cb:t})},e.unobserve=function(e){this.resizeObserver&&this.resizeObserver.unobserve(e),this.elements.delete(e)},e.elements=new Map,e.requestAnimationFrameId=0,e.ready=!1,e}();function es(e,t,n,r,o,i,a){var s=e-(e<r?r:e>r+i?r+i:e),l=t-(t<o?o:t>o+a?o+a:t);return Math.sqrt(s*s+l*l)<=n}var ts=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ns=function(){return(ns=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},rs=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},os='\n.ag-chart-tooltip {\n    display: table;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-hidden {\n    top: -10000px !important;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n';function is(e,t){if("string"==typeof e)return e;t=t||{};var n=e.content,r=e.title,o=void 0===r?t.title||void 0:r,i=e.color,a=e.backgroundColor;return(o?'<div class="'+ls.defaultTooltipClass+'-title"\n        style="color: '+(void 0===i?t.color||"white":i)+"; background-color: "+(void 0===a?t.backgroundColor||"#888":a)+'">'+o+"</div>":"")+'<div class="'+ls.defaultTooltipClass+'-content">'+(void 0===n?t.content||"":n)+"</div>"}var as,ss=function(e){function t(t){var n=e.call(this)||this;n.element=document.createElement("div"),n.enabled=!0,n.class=ls.defaultTooltipClass,n.delay=0,n.tracking=!0,n.showTimeout=0,n.constrained=!1,n.chart=t,n.class="";var r=document.body;if(r.appendChild(n.element),window.IntersectionObserver){var o=n.chart.scene.canvas.element,i=new IntersectionObserver(function(e){for(var t=0,r=e;t<r.length;t++){var i=r[t];i.target===o&&0===i.intersectionRatio&&n.toggle(!1)}},{root:r});i.observe(o),n.observer=i}return n}return ts(t,e),t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(ls.defaultTooltipClass+"-hidden");var t=e.getAttribute("class");return!!t&&t.split(" ").indexOf(ls.defaultTooltipClass+"-hidden")<0},t.prototype.updateClass=function(e,t){var n=[ls.defaultTooltipClass,this.class];!0!==e&&n.push(ls.defaultTooltipClass+"-hidden"),!0!==t&&n.push(ls.defaultTooltipClass+"-arrow"),this.element.setAttribute("class",n.join(" "))},t.prototype.show=function(e,t,n){var r=this;void 0===n&&(n=!1);var o=this.element;if(void 0!==t)o.innerHTML=t;else if(!o.innerHTML)return;var i=e.pageX-o.clientWidth/2,a=e.pageY-o.clientHeight-8;if(this.constrained=!1,this.chart.container){var s=o.getBoundingClientRect(),l=window.innerWidth-s.width;i<0?(i=0,this.updateClass(!0,this.constrained=!0)):i>l&&(i=l,this.updateClass(!0,this.constrained=!0)),a<window.pageYOffset&&(a=e.pageY+20,this.updateClass(!0,this.constrained=!0))}if(o.style.left=Math.round(i)+"px",o.style.top=Math.round(a)+"px",this.delay>0&&!n)return this.toggle(!1),void(this.showTimeout=window.setTimeout(function(){r.toggle(!0)},this.delay));this.toggle(!0)},t.prototype.toggle=function(e){e||(window.clearTimeout(this.showTimeout),this.chart.lastPick&&!this.delay&&(this.chart.dehighlightDatum(),this.chart.lastPick=void 0)),this.updateClass(e,this.constrained)},t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element),this.observer&&this.observer.unobserve(this.chart.scene.canvas.element)},rs([Yr()],t.prototype,"enabled",void 0),rs([Yr()],t.prototype,"class",void 0),rs([Yr()],t.prototype,"delay",void 0),rs([Yr()],t.prototype,"tracking",void 0),t}(qr),ls=function(e){function t(n){void 0===n&&(n=window.document);var r=e.call(this)||this;r.id=Mr(r),r.background=new Pa,r.legend=new Za,r.legendAutoPadding=new Er,r.captionAutoPadding=0,r._container=void 0,r._data=[],r._autoSize=!1,r.padding=new Er(20),r._axes=[],r._series=[],r._axesChanged=!1,r._seriesChanged=!1,r.layoutCallbackId=0,r._performLayout=function(){r.layoutCallbackId=0,r.background.width=r.width,r.background.height=r.height,r.performLayout(),r.layoutPending||r.fireEvent({type:"layoutDone"})},r.dataCallbackId=0,r.nodeData=new Map,r.legendBBox=new Tr(0,0,0,0),r._onMouseDown=r.onMouseDown.bind(r),r._onMouseMove=r.onMouseMove.bind(r),r._onMouseUp=r.onMouseUp.bind(r),r._onMouseOut=r.onMouseOut.bind(r),r._onClick=r.onClick.bind(r),r.pointerInsideLegend=!1;var o=new jo,i=r.background;i.fill="white",o.appendChild(i);var a=r._element=n.createElement("div");a.setAttribute("class","ag-chart-wrapper");var s=new wa(n);r.scene=s,s.root=o,s.container=a,r.autoSize=!0;var l=r.legend;if(l.addEventListener("layoutChange",r.onLayoutChange,r),l.item.label.addPropertyListener("formatter",r.updateLegend,r),l.addPropertyListener("position",r.onLegendPositionChange,r),r.tooltip=new ss(r),r.tooltip.addPropertyListener("class",function(){return r.tooltip.toggle()}),t.tooltipDocuments.indexOf(n)<0){var u=n.createElement("style");u.innerHTML=os,n.head.insertBefore(u,n.head.querySelector("style")),t.tooltipDocuments.push(n)}return r.setupDomListeners(s.canvas.element),r.addPropertyListener("title",r.onCaptionChange),r.addPropertyListener("subtitle",r.onCaptionChange),r.addEventListener("layoutChange",function(){return r.layoutPending=!0}),r}return ts(t,e),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var t=this.element.parentNode;null!=t&&t.removeChild(this.element),e&&e.appendChild(this.element),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach(function(t){return t.data=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&(this.scene.resize(e,this.height),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&(this.scene.resize(this.width,e),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e){this._autoSize=e;var t=this.element.style;if(e){var n=this;$a.observe(this.element,function(e){e.width===n.width&&e.height===n.height||(n.scene.resize(e.width,e.height),n.fireEvent({type:"layoutChange"}))}),t.display="block",t.width="100%",t.height="100%"}else $a.unobserve(this.element),t.display="inline-block",t.width="auto",t.height="auto"}},enumerable:!0,configurable:!0}),t.prototype.download=function(e){this.scene.download(e)},t.prototype.destroy=function(){this.tooltip.destroy(),$a.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},t.prototype.onLayoutChange=function(){this.layoutPending=!0},t.prototype.onLegendPositionChange=function(){this.legendAutoPadding.clear(),this.layoutPending=!0},t.prototype.onCaptionChange=function(e){var t=e.value,n=e.oldValue;n&&(n.removeEventListener("change",this.onLayoutChange,this),this.scene.root.removeChild(n.node)),t&&(t.addEventListener("change",this.onLayoutChange,this),this.scene.root.appendChild(t.node))},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var t=this;this._axes.forEach(function(e){return t.detachAxis(e)}),this._axes=e.filter(function(e){return!e.linkedTo}).concat(e.filter(function(e){return e.linkedTo})),this._axes.forEach(function(e){return t.attachAxis(e)}),this.axesChanged=!0},enumerable:!0,configurable:!0}),t.prototype.attachAxis=function(e){this.scene.root.insertBefore(e.group,this.seriesRoot)},t.prototype.detachAxis=function(e){this.scene.root.removeChild(e.group)},Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var t=this;this.removeAllSeries(),e.forEach(function(e){return t.addSeries(e)})},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){this.layoutPending=!0},t.prototype.scheduleData=function(){this.dehighlightDatum(),this.dataPending=!0},t.prototype.addSeries=function(e,t){var n=this.series,r=this.seriesRoot;if(n.indexOf(e)<0){var o=t?n.indexOf(t):-1;return o>=0?(n.splice(o,0,e),r.insertBefore(e.group,t.group)):(n.push(e),r.append(e.group)),this.initSeries(e),this.seriesChanged=!0,this.axesChanged=!0,!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.data||(e.data=this.data),e.addEventListener("layoutChange",this.scheduleLayout,this),e.addEventListener("dataChange",this.scheduleData,this),e.addEventListener("legendChange",this.updateLegend,this),e.addEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("layoutChange",this.scheduleLayout,this),e.removeEventListener("dataChange",this.scheduleData,this),e.removeEventListener("legendChange",this.updateLegend,this),e.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.addSeriesAfter=function(e,t){var n=this.series,r=this.seriesRoot;if(n.indexOf(e)<0){var o=t?this.series.indexOf(t):-1;o>=0?(o+1<n.length?r.insertBefore(e.group,n[o+1].group):r.append(e.group),this.initSeries(e),n.splice(o+1,0,e)):(n.length>0?r.insertBefore(e.group,n[0].group):r.append(e.group),this.initSeries(e),n.unshift(e)),this.seriesChanged=!0,this.axesChanged=!0}return!1},t.prototype.removeSeries=function(e){var t=this.series.indexOf(e);return t>=0&&(this.series.splice(t,1),this.freeSeries(e),this.seriesRoot.removeChild(e.group),this.seriesChanged=!0,!0)},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(t){e.freeSeries(t),e.seriesRoot.removeChild(t.group)}),this._series=[],this.seriesChanged=!0},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(t){var n=t.direction+"Axis",r=[];e.series.forEach(function(e){e[n]===t&&r.push(e)}),t.boundSeries=r}),this.seriesChanged=!1},t.prototype.assignAxesToSeries=function(e){var t=this;void 0===e&&(e=!1);var n={};this.axes.forEach(function(e){var t=e.direction;(n[t]||(n[t]=[])).push(e)}),this.series.forEach(function(r){r.directions.forEach(function(o){var i=o+"Axis";if(!r[i]||e){var a=n[o];if(a){var s=t.findMatchingAxis(a,r.getKeys(o));s&&(r[i]=s)}}})}),this.axesChanged=!1},t.prototype.findMatchingAxis=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.keys;if(!o.length)return r;if(t)for(var i=0;i<t.length;i++)if(o.indexOf(t[i])>=0)return r}},Object.defineProperty(t.prototype,"axesChanged",{get:function(){return this._axesChanged},set:function(e){this._axesChanged=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seriesChanged",{get:function(){return this._seriesChanged},set:function(e){this._seriesChanged=e,e&&(this.dataPending=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutPending",{get:function(){return!!this.layoutCallbackId},set:function(e){e?this.layoutCallbackId||this.dataPending||(this.layoutCallbackId=requestAnimationFrame(this._performLayout)):this.layoutCallbackId&&(cancelAnimationFrame(this.layoutCallbackId),this.layoutCallbackId=0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataPending",{get:function(){return!!this.dataCallbackId},set:function(e){var t=this;this.dataCallbackId&&(clearTimeout(this.dataCallbackId),this.dataCallbackId=0),e&&(this.dataCallbackId=window.setTimeout(function(){t.dataPending=!1,t.processData()},0))},enumerable:!0,configurable:!0}),t.prototype.processData=function(){this.layoutPending=!1,this.axesChanged&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.seriesChanged&&this.assignSeriesToAxes(),this.series.forEach(function(e){return e.processData()}),this.updateLegend(),this.layoutPending=!0},t.prototype.generateNodeData=function(){var e=this;this.nodeData.clear(),this.series.forEach(function(t){var n=t.visible?t.generateNodeData():[];e.nodeData.set(t,n)})},t.prototype.placeLabels=function(){var e=[],t=[];this.nodeData.forEach(function(n,r){r.visible&&r.label.enabled&&(e.push(r),t.push(r.getLabelData()))});var n=this.seriesRect,r=n?function(e,t,n){void 0===n&&(n=5);var r=[];e=e.map(function(e){return e.slice().sort(function(e,t){return t.size-e.size})});for(var o=0;o<e.length;o++){var i=r[o]=[],a=e[o];if(a&&a[0].label)for(var s=function(o,s){var l,u,c,p,d=a[o],h=d.label,f=d.point.x-.5*h.width,g=d.point.y-.5*d.size-h.height-n,m=h.width,y=h.height;return!t||(u=t.y,p=g,(c=f)+m<(l=t.x)+t.width&&c>l&&p>u&&p+y<u+t.height)?e.some(function(e){return e.some(function(e){return es(e.point.x,e.point.y,.5*e.size,f,g,m,y)})})?"continue":r.some(function(e){return e.some(function(e){return n=e.y,o=g,(t=e.x)+e.width>(r=f)&&t<r+m&&n+e.height>o&&n<o+y;var t,n,r,o})})?"continue":void i.push({index:o,text:h.text,x:f,y:g,width:m,height:y}):"continue"},l=0,u=a.length;l<u;l++)s(l)}return r}(t,{x:0,y:0,width:n.width,height:n.height}):[];return new Map(r.map(function(t,n){return[e[n],t]}))},t.prototype.updateLegend=function(){var e=[];this.series.filter(function(e){return e.showInLegend}).forEach(function(t){return t.listSeriesItems(e)});var t=this.legend.item.label.formatter;t&&e.forEach(function(e){return e.label.text=t({id:e.id,itemId:e.itemId,value:e.label.text})}),this.legend.data=e},t.prototype.positionCaptions=function(){var e=this.title,t=this.subtitle,n=!1,r=!1,o=10;if(e&&e.enabled){e.node.x=this.width/2,e.node.y=o,n=!0;var i=e.node.computeBBox();if(i&&(o=i.y+i.height),t&&t.enabled){t.node.x=this.width/2,t.node.y=o+10,r=!0;var a=t.node.computeBBox();a&&(o=a.y+a.height)}}e&&(e.node.visible=n),t&&(t.node.visible=r),this.captionAutoPadding=Math.floor(o)},t.prototype.positionLegend=function(){if(this.legend.enabled&&this.legend.data.length){var e,t=this.legend,n=this.captionAutoPadding,r=this.legendAutoPadding,o=this.width,i=this.height-n,a=t.group,s=t.spacing,l=0,u=0;switch(t.position){case"bottom":t.performLayout(o-2*s,0),l=(o-(e=a.computeBBox()).width)/2-e.x,u=n+i-e.height-e.y-s,r.bottom=e.height;break;case"top":t.performLayout(o-2*s,0),l=(o-(e=a.computeBBox()).width)/2-e.x,u=n+s-e.y,r.top=e.height;break;case"left":t.performLayout(0,i-2*s),l=s-(e=a.computeBBox()).x,u=n+(i-e.height)/2-e.y,r.left=e.width;break;default:t.performLayout(0,i-2*s),l=o-(e=a.computeBBox()).width-e.x-s,u=n+(i-e.height)/2-e.y,r.right=e.width}a.translationX=Math.floor(l+a.translationX),a.translationY=Math.floor(u+a.translationY),this.legendBBox=a.computeBBox()}},t.prototype.setupDomListeners=function(e){e.addEventListener("mousedown",this._onMouseDown),e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseup",this._onMouseUp),e.addEventListener("mouseout",this._onMouseOut),e.addEventListener("click",this._onClick)},t.prototype.cleanupDomListeners=function(e){e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("mouseout",this._onMouseOut),e.removeEventListener("click",this._onClick)},t.prototype.getSeriesRect=function(){return this.seriesRect},t.prototype.pickSeriesNode=function(e,t){if(this.seriesRect&&this.seriesRect.containsPoint(e,t))for(var n=this.series,r=void 0,o=n.length-1;o>=0;o--){var i=n[o];if(i.visible&&(r=i.pickGroup.pickNode(e,t)))return{series:i,node:r}}},t.prototype.pickClosestSeriesNodeDatum=function(e,t){if(this.seriesRect&&this.seriesRect.containsPoint(e,t)){for(var n,r=this.series,o=1/0,i=function(i){var a=r[i];if(!a.visible)return"continue";var s=a.group.transformPoint(e,t);a.getNodeData().forEach(function(e){if(e.point){var t,r,i=(t=s,r=e.point,Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)));i<o&&(o=i,n=e)}})},a=r.length-1;a>=0;a--)i(a);return n||void 0}},t.prototype.onMouseMove=function(e){this.handleLegendMouseMove(e),this.tooltip.enabled&&(this.tooltip.delay>0&&this.tooltip.toggle(!1),this.handleTooltip(e))},t.prototype.handleTooltip=function(e){var t,n=this.lastPick,r=this.tooltip.tracking,o=e.offsetX,i=e.offsetY,a=this.pickSeriesNode(o,i);if(a&&a.node instanceof Wr){var s=a.node;if(t=s.datum,n&&n.datum===t&&(n.node=s,n.event=e),!s.datum.point||!r)return void(n&&n.node===s?a.series.tooltip.enabled&&this.tooltip.show(e):this.onSeriesDatumPick(e,s.datum,s,e))}var l=!1;if(r){var u=this.pickClosestSeriesNodeDatum(o,i);if(u&&u.point){var c=u.point,p=this.scene.canvas,d=u.series.group.inverseTransformPoint(c.x,c.y),h=p.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(h.left+window.pageXOffset+d.x),pageY:Math.round(h.top+window.pageYOffset+d.y)},u,t===u&&a?a.node:void 0,e)}else l=!0}!n||!l&&r||(this.dehighlightDatum(),this.tooltip.toggle(!1),this.lastPick=void 0)},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseOut=function(e){this.tooltip.toggle(!1)},t.prototype.onClick=function(e){this.checkSeriesNodeClick()||this.checkLegendClick(e)||this.fireEvent({type:"click",event:e})},t.prototype.checkSeriesNodeClick=function(){var e=this.lastPick;if(e&&e.event&&e.node){var t=e.datum;return t.series.fireNodeClickEvent(e.event,t),!0}return!1},t.prototype.onSeriesNodeClick=function(e){this.fireEvent(ns(ns({},e),{type:"seriesNodeClick"}))},t.prototype.checkLegendClick=function(e){var t=this.legend.getDatumForPoint(e.offsetX,e.offsetY);if(t){var n=t.id,r=t.itemId,o=t.enabled,i=ko(this.series,function(e){return e.id===n});if(i)return i.toggleSeriesItem(r,!o),o&&this.tooltip.toggle(!1),this.legend.fireEvent({type:"click",event:e,itemId:r,enabled:!o}),!0}return!1},t.prototype.handleLegendMouseMove=function(e){if(this.legend.enabled){var t=e.offsetX,n=e.offsetY,r=this.legend.getDatumForPoint(t,n);if(this.legendBBox.containsPoint(t,n))this.pointerInsideLegend||(this.pointerInsideLegend=!0);else if(this.pointerInsideLegend)return this.pointerInsideLegend=!1,void this.series.forEach(function(e){e.highlightStyle.series.enabled&&(e.undim(),e.dehighlight())});if(r){var o=r.id,i=r.itemId,a=ko(this.series,function(e){return e.id===o});a&&a.highlightStyle.series.enabled&&this.series.forEach(function(e){return e===a?e.highlight(i):e.dim()})}}},t.prototype.onSeriesDatumPick=function(e,t,n,r){this.lastPick&&this.dehighlightDatum(),this.lastPick={datum:t,node:n,event:r},this.highlightDatum(t,n);var o=t.series.tooltip.enabled&&t.series.getTooltipHtml(t);o&&this.tooltip.show(e,o)},t.prototype.highlightDatum=function(e,t){var n=this.scene.canvas.element.style;this.highlightedDatum=e,this.series.forEach(function(r){t&&(n.cursor=r.cursor),r.highlightStyle.series.enabled&&(r===e.series?r.highlight(e.itemId):r.dim()),r.onHighlightChange()})},t.prototype.dehighlightDatum=function(){this.highlightedDatum&&(this.scene.canvas.element.style.cursor="default",this.highlightedDatum=void 0,this.series.forEach(function(e){e.onHighlightChange(),e.highlightStyle.series.enabled&&(e.undim(),e.dehighlight())}))},t.defaultTooltipClass="ag-chart-tooltip",t.tooltipDocuments=[],rs([Yr("layoutChange")],t.prototype,"padding",void 0),rs([Yr("layoutChange")],t.prototype,"title",void 0),rs([Yr("layoutChange")],t.prototype,"subtitle",void 0),t}(qr),us=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContainerNode=!0,t.path=new Xo,t._enabled=!0,t._dirtyPath=!0,t._x=0,t._y=0,t._width=10,t._height=10,t}return us(t,e),t.prototype.containsPoint=function(e,t){var n=this.transformPoint(e,t);return n.x>=this.x&&n.x<=this.x+this.width&&n.y>=this.y&&n.y<=this.y+this.height},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.rect(this.x,this.y,this.width,this.height),this.dirtyPath=!1},t.prototype.computeBBox=function(){return new Tr(this.x,this.y,this.width,this.height)},t.prototype.render=function(e){this.enabled&&(this.dirtyPath&&this.updatePath(),this.scene.appendPath(this.path),e.clip());for(var t=this.children,n=t.length,r=0;r<n;r++){e.save();var o=t[r];o.visible&&o.render(e),e.restore()}},t.className="ClipRect",t}(Dr),ps=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ds=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._fill="#f2f2f2",t._stroke="#999999",t._strokeWidth=1,t._lineCap="square",t._centerX=0,t._centerY=0,t._width=8,t._gripLineGap=2,t._gripLineLength=8,t._height=16,t}return ps(t,e),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.width,t=this.height;return new Tr(this.centerX-e/2,this.centerY-t/2,e,t)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t);return this.computeBBox().containsPoint(n.x,n.y)},t.prototype.updatePath=function(){var e=this,t=e.path,n=e.centerX,r=e.centerY,o=e.width,i=e.height,a=this.alignment,s=this.align;t.clear();var l=n-o/2,u=r-i/2,c=s(a,l),p=s(a,u),d=c+s(a,l,o),h=p+s(a,u,i);t.moveTo(c,p),t.lineTo(d,p),t.lineTo(d,h),t.lineTo(c,h),t.lineTo(c,p);var f=this.gripLineGap/2,g=this.gripLineLength/2;t.moveTo(s(a,n-f),s(a,r-g)),t.lineTo(s(a,n-f),s(a,r+g)),t.moveTo(s(a,n+f),s(a,r-g)),t.lineTo(s(a,n+f),s(a,r+g))},t.className="RangeHandle",t}(Yo),hs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stroke="#999999",t._strokeWidth=1,t._fill="#999999",t._fillOpacity=.2,t._lineCap="square",t._x=0,t._y=0,t._width=200,t._height=30,t.minRange=.05,t._min=0,t._max=1,t}return hs(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e=Math.min(Math.max(e,0),this.max-this.minRange),isNaN(e)||this._min!==e&&(this._min=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(e,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e=Math.max(Math.min(e,1),this.min+this.minRange),isNaN(e)||this._max!==e&&(this._max=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,e))},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new Tr(this.x,this.y,this.width,this.height)},t.prototype.computeVisibleRangeBBox=function(){var e=this,t=e.x,n=e.width,r=t+n*e.min;return new Tr(r,e.y,t+n*e.max-r,e.height)},t.prototype.updatePath=function(){var e=this,t=e.path,n=e.x,r=e.y,o=e.width,i=e.height,a=e.min,s=e.max,l=this.alignment,u=this.align;t.clear();var c=u(l,n),p=u(l,r),d=c+u(l,n,o),h=p+u(l,r,i);t.moveTo(c,p),t.lineTo(d,p),t.lineTo(d,h),t.lineTo(c,h),t.lineTo(c,p);var f=u(l,n+o*a),g=u(l,n+o*s);t.moveTo(f,p),t.lineTo(f,h),t.lineTo(g,h),t.lineTo(g,p),t.lineTo(f,p)},t.className="RangeMask",t}(Yo),gs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ms=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isContainerNode=!0,n.minHandle=new ds,n.maxHandle=new ds,n.mask=function(){var e=t.defaults,r=e.x,o=e.y,i=e.width,a=e.height,s=e.min,l=e.max,u=new fs;u.x=r,u.y=o,u.width=i,u.height=a,u.min=s,u.max=l;var c=n.minHandle,p=n.maxHandle;return c.centerX=r,p.centerX=r+i,c.centerY=p.centerY=o+a/2,n.append([u,c,p]),u.onRangeChange=function(e,t){n.updateHandles(),n.onRangeChange&&n.onRangeChange(e,t)},u}(),n._x=t.defaults.x,n._y=t.defaults.y,n._width=t.defaults.width,n._height=t.defaults.height,n._min=t.defaults.min,n._max=t.defaults.max,n}return gs(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!0,configurable:!0}),t.prototype.updateHandles=function(){var e=this,t=e.minHandle,n=e.maxHandle,r=e.x,o=e.y,i=e.width,a=e.height,s=e.mask;t.centerX=r+i*s.min,n.centerX=r+i*s.max,t.centerY=n.centerY=o+a/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),[this.mask,this.minHandle,this.maxHandle].forEach(function(t){e.save(),t.visible&&t.render(e),e.restore()})},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(jo),ys=function(){function e(e){this.rm=e}return Object.defineProperty(e.prototype,"fill",{get:function(){return this.rm.fill},set:function(e){this.rm.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(e){this.rm.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(e){this.rm.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(e){this.rm.fillOpacity=e},enumerable:!0,configurable:!0}),e}(),vs=function(){function e(e){this.rh=e}return Object.defineProperty(e.prototype,"fill",{get:function(){return this.rh.fill},set:function(e){this.rh.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(e){this.rh.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(e){this.rh.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rh.width},set:function(e){this.rh.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rh.height},set:function(e){this.rh.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(e){this.rh.gripLineGap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(e){this.rh.gripLineLength=e},enumerable:!0,configurable:!0}),e}(),bs=function(){function e(e){var t=this;this.rs=new ms,this.mask=new ys(this.rs.mask),this.minHandle=new vs(this.rs.minHandle),this.maxHandle=new vs(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this._margin=10,this.chart=e,e.scene.root.append(this.rs),this.rs.onRangeChange=function(e,n){return t.updateAxes(e,n)}}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this.rs.visible},set:function(e){this.rs.visible=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.rs.x},set:function(e){this.rs.x=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.rs.y},set:function(e){this.rs.y=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rs.width},set:function(e){this.rs.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rs.height},set:function(e){this.rs.height=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"margin",{get:function(){return this._margin},set:function(e){this._margin=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.rs.min},set:function(e){this.rs.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.rs.max},set:function(e){this.rs.max=e},enumerable:!0,configurable:!0}),e.prototype.updateAxes=function(e,t){var n=this.chart,r=!1;n.axes.forEach(function(n){n.direction===ai.X&&(!r&&(e>0||t<1)&&(r=!0),n.visibleRange=[e,t],n.update())}),n.seriesRoot.enabled=r,n.series.forEach(function(e){return e.update()})},e.prototype.onDragStart=function(e){if(this.enabled){var t=e.offsetX,n=e.offsetY,r=this.rs,o=r.minHandle,i=r.maxHandle,a=r.x,s=r.width,l=r.min,u=r.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(o.containsPoint(t,n)?this.minHandleDragging=!0:i.containsPoint(t,n)?this.maxHandleDragging=!0:u.containsPoint(t,n)&&(this.panHandleOffset=(t-a)/s-l))}},e.prototype.onDrag=function(e){if(this.enabled){var t=this.rs,n=this.panHandleOffset,r=t.x,o=t.width,i=t.minHandle,a=t.maxHandle,s=this.chart.element.style,l=e.offsetX,u=e.offsetY,c=r+o*t.min,p=new Tr(c,t.y,r+o*t.max-c,t.height);if(s.cursor=i.containsPoint(l,u)?"ew-resize":a.containsPoint(l,u)?"ew-resize":p.containsPoint(l,u)?"grab":"default",this.minHandleDragging)t.min=f();else if(this.maxHandleDragging)t.max=f();else if(!isNaN(n)){var d=t.max-t.min,h=Math.min(f()-n,1-d);h<=t.min?(t.min=h,t.max=t.min+d):(t.max=h+d,t.min=t.max-d)}}function f(){return Math.min(Math.max((l-r)/o,0),1)}},e.prototype.onDragStop=function(){this.stopHandleDragging()},e.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},e}(),Cs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ws=function(e){function t(t){void 0===t&&(t=window.document);var n=e.call(this,t)||this;n._seriesRoot=new cs,n.navigator=new bs(n),n.scene.root.visible=!1;var r=n.scene.root;return r.append(n.seriesRoot),r.append(n.legend.group),n.navigator.enabled=!1,n}return Cs(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,t=e.axes,n=e.legend,r=e.navigator,o=new Tr(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),n.enabled&&n.data.length){var i=this.legendAutoPadding,a=this.legend.spacing;switch(o.x+=i.left,o.y+=i.top,o.width-=i.left+i.right,o.height-=i.top+i.bottom,this.legend.position){case"right":o.width-=a;break;case"bottom":o.height-=a;break;case"left":o.x+=a,o.width-=a;break;case"top":o.y+=a,o.height-=a}}var s=this.captionAutoPadding,l=this.padding;this.updateAxes(),o.x+=l.left,o.width-=l.left+l.right,o.y+=l.top+s,o.height-=l.top+s+l.bottom,r.enabled&&(o.height-=r.height+r.margin);var u=0;t.forEach(function(e){e.group.visible=!0;var t=Math.floor(e.thickness||e.computeBBox().width);switch(e.position){case si.Top:o.y+=t,o.height-=t,e.translation.y=Math.floor(o.y+1),e.label.mirrored=!0;break;case si.Right:o.width-=t,e.translation.x=Math.floor(o.x+o.width),e.label.mirrored=!0;break;case si.Bottom:o.height-=t,u+=t,e.translation.y=Math.floor(o.y+o.height+1);break;case si.Left:o.x+=t,o.width-=t,e.translation.x=Math.floor(o.x)}}),t.forEach(function(e){switch(e.position){case si.Top:case si.Bottom:e.translation.x=Math.floor(o.x),e.range=[0,o.width],e.gridLength=o.height;break;case si.Left:case si.Right:e.translation.y=Math.floor(o.y),e.range=e instanceof vi||e instanceof _i?[0,o.height]:[o.height,0],e.gridLength=o.width}}),this.generateNodeData(),this.seriesRect=o,this.series.forEach(function(e){e.group.translationX=Math.floor(o.x),e.group.translationY=Math.floor(o.y),e.update()});var c=this.seriesRoot;c.x=o.x,c.y=o.y,c.width=o.width,c.height=o.height,r.enabled&&(r.x=o.x,r.y=o.y+o.height+u+r.margin,r.width=o.width),this.axes.forEach(function(e){return e.update()})}},t.prototype.initSeries=function(t){e.prototype.initSeries.call(this,t),t.addEventListener("dataProcessed",this.updateAxes,this)},t.prototype.freeSeries=function(t){e.prototype.freeSeries.call(this,t),t.removeEventListener("dataProcessed",this.updateAxes,this)},t.prototype.setupDomListeners=function(t){e.prototype.setupDomListeners.call(this,t),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onTouchCancel=this.onTouchCancel.bind(this),t.addEventListener("touchstart",this._onTouchStart),t.addEventListener("touchmove",this._onTouchMove),t.addEventListener("touchend",this._onTouchEnd),t.addEventListener("touchcancel",this._onTouchCancel)},t.prototype.cleanupDomListeners=function(t){e.prototype.cleanupDomListeners.call(this,t),t.removeEventListener("touchstart",this._onTouchStart),t.removeEventListener("touchmove",this._onTouchMove),t.removeEventListener("touchend",this._onTouchEnd),t.removeEventListener("touchcancel",this._onTouchCancel)},t.prototype.getTouchOffset=function(e){var t=this.scene.canvas.element.getBoundingClientRect(),n=e.touches[0];return n?{offsetX:n.clientX-t.left,offsetY:n.clientY-t.top}:void 0},t.prototype.onTouchStart=function(e){var t=this.getTouchOffset(e);t&&this.navigator.onDragStart(t)},t.prototype.onTouchMove=function(e){var t=this.getTouchOffset(e);t&&this.navigator.onDrag(t)},t.prototype.onTouchEnd=function(e){this.navigator.onDragStop()},t.prototype.onTouchCancel=function(e){this.navigator.onDragStop()},t.prototype.onMouseDown=function(t){e.prototype.onMouseDown.call(this,t),this.navigator.onDragStart(t)},t.prototype.onMouseMove=function(t){e.prototype.onMouseMove.call(this,t),this.navigator.onDrag(t)},t.prototype.onMouseUp=function(t){e.prototype.onMouseUp.call(this,t),this.navigator.onDragStop()},t.prototype.onMouseOut=function(t){e.prototype.onMouseOut.call(this,t),this.navigator.onDragStop()},t.prototype.assignAxesToSeries=function(t){void 0===t&&(t=!1),e.prototype.assignAxesToSeries.call(this,t),this.series.forEach(function(e){e.xAxis||console.warn("Could not find a matching xAxis for the "+e.id+" series."),e.yAxis||console.warn("Could not find a matching yAxis for the "+e.id+" series.")})},t.prototype.updateAxes=function(){var e=this.navigator,t=!1;this.axes.forEach(function(n){var r,o=n.direction,i=n.boundSeries;if(n.linkedTo)n.domain=n.linkedTo.domain;else{var a=[];i.filter(function(e){return e.visible}).forEach(function(e){a.push(e.getDomain(o))}),n.domain=(r=new Array).concat.apply(r,a)}n.direction===ai.X&&(n.visibleRange=[e.min,e.max]),!t&&(n.visibleRange[0]>0||n.visibleRange[1]<1)&&(t=!0),n.update()}),this.seriesRoot.enabled=t},t.className="CartesianChart",t.type="cartesian",t}(ls),Os=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xs=function(e){function t(t){void 0===t&&(t=window.document);var n=e.call(this,t)||this;n._data={},n._seriesRoot=new cs,n.scene.root.visible=!1;var r=n.scene.root;return r.append(n.seriesRoot),r.append(n.legend.group),n}return Os(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this.legend,t=new Tr(0,0,this.width,this.height);if(this.positionCaptions(),this.positionLegend(),e.enabled&&e.data.length){var n=this.legendAutoPadding,r=this.legend.spacing;switch(t.x+=n.left,t.y+=n.top,t.width-=n.left+n.right,t.height-=n.top+n.bottom,this.legend.position){case"right":t.width-=r;break;case"bottom":t.height-=r;break;case"left":t.x+=r,t.width-=r;break;case"top":t.y+=r,t.height-=r}}var o=this.captionAutoPadding,i=this.padding;t.x+=i.left,t.width-=i.left+i.right,t.y+=i.top+o,t.height-=i.top+o+i.bottom,this.seriesRect=t,this.series.forEach(function(e){e.group.translationX=Math.floor(t.x),e.group.translationY=Math.floor(t.y),e.update()});var a=this.seriesRoot;a.x=t.x,a.y=t.y,a.width=t.width,a.height=t.height}},t.className="HierarchyChart",t.type="hierarchy",t}(ls),Ss=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ps=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ss(t,e),t.prototype.updateAxes=function(){this.axes.forEach(function(e){var t,n=e.direction,r=[],o=void 0;e.boundSeries.filter(function(e){return e.visible}).forEach(function(e){if(n===ai.X)if(void 0===o){var t=e.getDomain(n);r.push(t),o="number"==typeof t[0]}else o&&r.push(e.getDomain(n));else r.push(e.getDomain(n))});var i=(t=new Array).concat.apply(t,r);e.domain=Io(i)||i,e.update()})},t.className="GroupedCategoryChart",t.type="groupedCategory",t}(ws),_s=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Es=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ts=function(e){function t(){var t=e.call(this)||this;return t.enabled=!0,t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.color="rgba(70, 70, 70, 1)",t}return _s(t,e),t.prototype.getFont=function(){return Kr(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},Es([Yr("change","dataChange")],t.prototype,"enabled",void 0),Es([Yr("change")],t.prototype,"fontSize",void 0),Es([Yr("change")],t.prototype,"fontFamily",void 0),Es([Yr("change")],t.prototype,"fontStyle",void 0),Es([Yr("change")],t.prototype,"fontWeight",void 0),Es([Yr("change")],t.prototype,"color",void 0),t}(qr),As=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ms=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ds=function(){function e(){this.enabled=!0,this._dimOpacity=1}return Object.defineProperty(e.prototype,"dimOpacity",{get:function(){return this._dimOpacity},set:function(t){this._dimOpacity=t>=0&&t<=1?t:e.defaultDimOpacity},enumerable:!0,configurable:!0}),e.defaultDimOpacity=.3,e}(),ks=function(){this.fill="yellow",this.series=new Ds},Rs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t}return As(t,e),Ms([Yr("change")],t.prototype,"enabled",void 0),t}(qr),Is=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id=Mr(t),t.group=new jo,t.pickGroup=t.group.appendChild(new jo),t.directions=[ai.X,ai.Y],t.label=new Ts,t.data=void 0,t.visible=!0,t.showInLegend=!0,t.cursor="default",t.highlightStyle=new ks,t.scheduleLayout=function(){t.fireEvent({type:"layoutChange"})},t.scheduleData=function(){t.fireEvent({type:"dataChange"})},t}return As(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,t){},t.prototype.highlight=function(e){this.undim(e)},t.prototype.dehighlight=function(){},t.prototype.dim=function(){this.group.opacity=this.highlightStyle.series.dimOpacity},t.prototype.undim=function(e){this.group.opacity=1},t.prototype.getKeys=function(e){var t=this,n=this.directionKeys,r=n&&n[e],o=[];return r&&r.forEach(function(e){var n=t[e];n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n))}),o},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.getLabelData=function(){return[]},t.prototype.fireNodeClickEvent=function(e,t){},t.prototype.toggleSeriesItem=function(e,t){this.visible=t},t.prototype.onHighlightChange=function(){},t.prototype.fixNumericExtent=function(e,t){if(!e)return[0,1];var n=e[0],r=e[1];if(n instanceof Date&&(n=n.getTime()),r instanceof Date&&(r=r.getTime()),n===r){var o=Math.abs(.01*n);n-=o,r+=o}return isFinite(n)&&isFinite(r)||(n=0,r=1),[n,r]},Ms([Yr("dataChange")],t.prototype,"data",void 0),Ms([Yr("dataChange")],t.prototype,"visible",void 0),Ms([Yr("layoutChange")],t.prototype,"showInLegend",void 0),t}(qr),Ns=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fs=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ls=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t.shape=Ra,t.size=6,t.maxSize=30,t.strokeWidth=1,t}return Ns(t,e),Fs([Yr("change")],t.prototype,"enabled",void 0),Fs([Yr("change")],t.prototype,"shape",void 0),Fs([Yr("change")],t.prototype,"size",void 0),Fs([Yr("change")],t.prototype,"maxSize",void 0),Fs([Yr("change")],t.prototype,"domain",void 0),Fs([Yr("change")],t.prototype,"fill",void 0),Fs([Yr("change")],t.prototype,"stroke",void 0),Fs([Yr("change")],t.prototype,"strokeWidth",void 0),t}(qr),js=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gs=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.directionKeys=((t={})[ai.X]=["angleKey"],t[ai.Y]=["radiusKey"],t),n.centerX=0,n.centerY=0,n.radius=0,n}return js(t,e),t}(Is),Vs=(js(function(){return null!==as&&as.apply(this,arguments)||this},as=Ls),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Bs=function(e){function t(t){void 0===t&&(t=window.document);var n=e.call(this,t)||this;return n.padding=new Er(40),n.scene.root.append(n.legend.group),n}return Vs(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){var e=new Tr(0,0,this.width,this.height);this.positionCaptions(),this.positionLegend();var t=this.captionAutoPadding;if(e.y+=t,e.height-=t,this.legend.enabled&&this.legend.data.length){var n=this.legendAutoPadding;e.x+=n.left,e.y+=n.top,e.width-=n.left+n.right,e.height-=n.top+n.bottom;var r=this.legend.spacing;switch(this.legend.position){case"right":e.width-=r;break;case"bottom":e.height-=r;break;case"left":e.x+=r,e.width-=r;break;case"top":e.y+=r,e.height-=r}}var o=this.padding;e.x+=o.left,e.y+=o.top,e.width-=o.left+o.right,e.height-=o.top+o.bottom,this.seriesRect=e;var i=e.x+e.width/2,a=e.y+e.height/2,s=Math.min(e.width,e.height)/2;this.series.forEach(function(e){e instanceof Gs&&(e.centerX=i,e.centerY=a,e.radius=s,e.update())})},t.className="PolarChart",t.type="polar",function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Yr("layoutChange")],t.prototype,"padding",void 0),t}(ls),Ws=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zs=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.directionKeys=((t={})[ai.X]=["xKey"],t[ai.Y]=["yKey"],t),n}return Ws(t,e),t}(Is),Us=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ws(t,e),t}(Ls);function Hs(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r=void 0;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!Hs(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var o=Object.keys(e);if((n=o.length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){var i=o[r];if(!Hs(e[i],t[i]))return!1}return!0}return e!=e&&t!=t}var Ks=/(#\{(.*?)\})/g;function Xs(e,t,n){return e.replace(Ks,function(){var e=arguments[2],r=e.split(":"),o=r[0],i=r[1],a=t[o];if("number"==typeof a){if(c=i&&n&&n[i]){var s=c,l=s.locales,u=s.options;return a.toLocaleString(l,u)}return String(a)}if(a instanceof Date){var c;if("string"==typeof(c=i&&n&&n[i])){var p=sa.format(c);return p(a)}return a.toDateString()}return"string"==typeof a||a&&a.toString?String(a):""})}var qs=null;function Ys(e){return qs=qs||document.createElement("div"),e?(qs.innerText=e,qs.innerHTML):""}var Js,Qs,Zs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$s=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},el=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zs(t,e),$s([Yr("change")],t.prototype,"formatter",void 0),t}(Ts),tl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zs(t,e),$s([Yr("change")],t.prototype,"renderer",void 0),$s([Yr("change")],t.prototype,"format",void 0),t}(Rs),nl=function(e){function t(){var t=e.call(this)||this;t.tooltip=new tl,t.areaGroup=t.group.insertBefore(new jo,t.pickGroup),t.strokeGroup=t.group.insertBefore(new jo,t.pickGroup),t.markerGroup=t.pickGroup.appendChild(new jo),t.labelGroup=t.group.appendChild(new jo),t.fillSelection=Vo.select(t.areaGroup).selectAll(),t.strokeSelection=Vo.select(t.strokeGroup).selectAll(),t.markerSelection=Vo.select(t.markerGroup).selectAll(),t.labelSelection=Vo.select(t.labelGroup).selectAll(),t.seriesItemEnabled=new Map,t.xData=[],t.yData=[],t.markerSelectionData=[],t.yDomain=[],t.directionKeys={x:["xKey"],y:["yKeys"]},t.marker=new Us,t.label=new el,t.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],t.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],t.fillOpacity=1,t.strokeOpacity=1,t.lineDash=void 0,t.lineDashOffset=0,t._xKey="",t.xName="",t._yKeys=[],t.yNames=[],t.strokeWidth=2,t.addEventListener("update",t.update);var n=t.marker,r=t.label;return n.enabled=!1,n.addPropertyListener("shape",t.onMarkerShapeChange,t),n.addEventListener("change",t.update,t),r.enabled=!1,r.addEventListener("change",t.update,t),t}return Zs(t,e),t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!Hs(this._yKeys,e)){this._yKeys=e,this.yData=[];var t=this.seriesItemEnabled;t.clear(),e.forEach(function(e){return t.set(e,!0)}),this.scheduleData()}},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,t){this.fills=e,this.strokes=t},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var t=e?Math.abs(e):void 0;this._normalizedTo!==t&&(this._normalizedTo=t,this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateMarkerNodes()},t.prototype.processData=function(){var e=this.xKey,t=this.yKeys,n=this.seriesItemEnabled,r=e&&t.length&&this.data?this.data:[],o=!0;this.xData=r.map(function(t){return!o||e in t||(o=!1,console.warn("The key '"+e+"' was not found in the data: ",t)),t[e]}),this.yData=r.map(function(e){return t.map(function(t){!o||t in e||(o=!1,console.warn("The key '"+t+"' was not found in the data: ",e));var r=e[t];return isFinite(r)&&n.get(t)?r:0})});var i,a,s=this.yData,l=this.normalizedTo,u=s.map(function(e){return No(e)}),c=this.findLargestMinMax(u);return l&&isFinite(l)?(i=c.min<0?-l:0,a=l,s.forEach(function(e,t){return e.forEach(function(n,r){e[r]=n<0?-n/u[t].min*l:n/u[t].max*l})})):(i=c.min,a=c.max),0===i&&0===a&&(a=1),this.yDomain=this.fixNumericExtent([i,a],"y"),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){for(var t=0,n=0,r=0,o=e;r<o.length;r++){var i=o[r];i.min<t&&(t=i.min),i.max>n&&(n=i.max)}return{min:t,max:n}},t.prototype.getDomain=function(e){return e===ai.X?this.xData:this.yDomain},t.prototype.highlight=function(t){var n=this;e.prototype.highlight.call(this,t);var r=this.highlightStyle.series.strokeWidth;this.strokeSelection.each(function(e,o){return e.strokeWidth=t===o.itemId&&void 0!==r?r:n.strokeWidth})},t.prototype.dehighlight=function(){var e=this;this.strokeSelection.each(function(t,n){return t.strokeWidth=e.strokeWidth})},t.prototype.undim=function(t){this.yKeys.length>1?this.updateDim(t):e.prototype.undim.call(this)},t.prototype.updateDim=function(e){var t=this.highlightStyle.series.dimOpacity,n=function(n,r){return n.opacity=e&&e!==r.itemId?t:1};this.fillSelection.each(n),this.strokeSelection.each(n),this.markerSelection.each(n),this.labelSelection.each(n)},t.prototype.dim=function(){this.yKeys.length>1?this.updateDim():e.prototype.dim.call(this)},t.prototype.update=function(){var e=this,t=e.visible,n=e.chart,r=e.xAxis,o=e.yAxis,i=e.xData,a=e.yData;if(this.group.visible=t&&!(!i.length||!a.length),n&&!n.layoutPending&&!n.dataPending&&t&&r&&o&&i.length&&a.length){var s=this.generateSelectionData();if(s){var l=s.areaSelectionData,u=s.markerSelectionData,c=s.labelSelectionData;this.updateFillSelection(l),this.updateStrokeSelection(l),this.updateMarkerSelection(u),this.updateLabelSelection(c),this.updateSelectionNodes(),this.markerSelectionData=u}}},t.prototype.updateSelectionNodes=function(){this.updateFillNodes(),this.updateStrokeNodes(),this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.generateSelectionData=function(){var e=this;if(this.data){var t=this,n=t.yKeys,r=t.data,o=t.xData,i=t.yData,a=t.marker,s=t.label,l=t.fills,u=t.strokes,c=t.xAxis.scale,p=t.yAxis.scale,d=(c.bandwidth||0)/2,h=(p.bandwidth||0)/2,f=[],g=[],m=[],y=2*o.length-1;return o.forEach(function(t,o){var v=i[o],b=r[o],C=c.convert(t)+d,w=0,O=0;v.forEach(function(t,r){var i,c=t<0?w:O,d=p.convert(c+t)+h,v=n[r],x=b[v];a&&g.push({index:o,series:e,itemId:v,seriesDatum:b,yValue:x,yKey:v,point:{x:C,y:d},fill:l[r%l.length],stroke:u[r%u.length]}),i=s.formatter?s.formatter({value:x}):$o(x)?x.toFixed(2):String(x),s&&m.push({index:o,itemId:v,point:{x:C,y:d},label:i?{text:i,fontStyle:s.fontStyle,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFamily:s.fontFamily,textAlign:"center",textBaseline:"bottom",fill:s.color}:void 0});var S=(f[r]||(f[r]={itemId:v,points:[]})).points;S[o]={x:C,y:d},S[y-o]={x:C,y:p.convert(c)+h},t<0?w+=t:O+=t})}),{areaSelectionData:f,markerSelectionData:g,labelSelectionData:m}}},t.prototype.updateFillSelection=function(e){var t=this.fillSelection.setData(e);t.exit.remove();var n=t.enter.append(Yo).each(function(e){e.lineJoin="round",e.stroke=void 0,e.pointerEvents=ir.None});this.fillSelection=t.merge(n)},t.prototype.updateFillNodes=function(){var e=this,t=this,n=t.fills,r=t.fillOpacity,o=t.strokes,i=t.strokeOpacity,a=t.strokeWidth,s=t.shadow,l=t.seriesItemEnabled;this.fillSelection.each(function(t,u,c){var p=t.path;t.fill=n[c%n.length],t.fillOpacity=r,t.stroke=o[c%o.length],t.strokeOpacity=i,t.strokeWidth=a,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=s,t.visible=!!l.get(u.itemId),p.clear(),u.points.forEach(function(e,t){var n=e.x,r=e.y;t>0?p.lineTo(n,r):p.moveTo(n,r)}),p.closePath()})},t.prototype.updateStrokeSelection=function(e){var t=this.strokeSelection.setData(e);t.exit.remove();var n=t.enter.append(Yo).each(function(e){e.fill=void 0,e.lineJoin=e.lineCap="round",e.pointerEvents=ir.None});this.strokeSelection=t.merge(n)},t.prototype.updateStrokeNodes=function(){var e=this;if(this.data){var t=this,n=t.data,r=t.strokes,o=t.strokeWidth,i=t.strokeOpacity,a=t.seriesItemEnabled;this.strokeSelection.each(function(t,s,l){var u=t.path;t.stroke=r[l%r.length],t.strokeWidth=o,t.visible=!!a.get(s.itemId),t.strokeOpacity=i,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,u.clear();for(var c=s.points,p=0;p<n.length;p++){var d=c[p],h=d.x,f=d.y;p>0?u.lineTo(h,f):u.moveTo(h,f)}})}},t.prototype.updateMarkerSelection=function(e){var t=Ua(this.marker.shape),n=this.markerSelection.setData(this.marker.enabled&&t?e:[]);n.exit.remove();var r=n.enter.append(t);this.markerSelection=n.merge(r)},t.prototype.updateMarkerNodes=function(){if(this.chart){var e=this.marker,t=e.formatter,n=void 0!==e.strokeWidth?e.strokeWidth:this.strokeWidth,r=e.size,o=this.xKey,i=this.seriesItemEnabled,a=this.chart.highlightedDatum,s=this.highlightStyle,l=s.fill,u=s.stroke;this.markerSelection.each(function(s,c){var p=c===a,d=p&&void 0!==l?l:e.fill||c.fill,h=p&&void 0!==u?u:e.stroke||c.stroke,f=void 0;t&&(f=t({datum:c.seriesDatum,xKey:o,yKey:c.yKey,fill:d,stroke:h,strokeWidth:n,size:r,highlighted:p})),s.fill=f&&f.fill||d,s.stroke=f&&f.stroke||h,s.strokeWidth=f&&void 0!==f.strokeWidth?f.strokeWidth:n,s.size=f&&void 0!==f.size?f.size:r,s.translationX=c.point.x,s.translationY=c.point.y,s.visible=e.enabled&&s.size>0&&!!i.get(c.yKey)})}},t.prototype.updateLabelSelection=function(e){var t=this.labelSelection.setData(this.label.enabled?e:[]);t.exit.remove();var n=t.enter.append(Hr);this.labelSelection=t.merge(n)},t.prototype.updateLabelNodes=function(){if(this.chart){var e=this.label.enabled;this.labelSelection.each(function(t,n){var r=n.point,o=n.label;o&&e?(t.fontStyle=o.fontStyle,t.fontWeight=o.fontWeight,t.fontSize=o.fontSize,t.fontFamily=o.fontFamily,t.textAlign=o.textAlign,t.textBaseline=o.textBaseline,t.text=o.text,t.x=r.x,t.y=r.y-10,t.fill=o.fill,t.visible=!0):t.visible=!1})}},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.seriesDatum,xKey:this.xKey,yKey:t.yKey})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.xAxis,r=this.yAxis,o=e.yKey;if(!t||!o)return"";var i=this,a=i.xName,s=i.yKeys,l=i.yNames,u=i.fills,c=i.tooltip,p=i.yData[e.index],d=c.renderer,h=c.format,f=e.seriesDatum,g=f[t],m=f[o];if(!$o(m))return"";var y=n.formatDatum(g),v=r.formatDatum(m),b=s.indexOf(o),C=p[b],w=l[b],O=u[b%u.length],x={title:Ys(w),backgroundColor:O,content:Ys(y+": "+v)};if(h||d){var S={datum:f,xKey:t,xName:a,xValue:g,yKey:o,yValue:m,processedYValue:C,yName:w,color:O};if(h)return is({content:Xs(h,S)},x);if(d)return is(d(S),x)}return is(x)},t.prototype.listSeriesItems=function(e){var t=this,n=t.data,r=t.id,o=t.yKeys,i=t.yNames,a=t.seriesItemEnabled,s=t.marker,l=t.fills,u=t.strokes,c=t.fillOpacity,p=t.strokeOpacity;n&&n.length&&t.xKey&&o.length&&o.forEach(function(t,n){e.push({id:r,itemId:t,enabled:a.get(t)||!1,label:{text:i[n]||o[n]},marker:{shape:s.shape,fill:s.fill||l[n%l.length],stroke:s.stroke||u[n%u.length],fillOpacity:c,strokeOpacity:p}})})},t.prototype.toggleSeriesItem=function(e,t){this.seriesItemEnabled.set(e,t),this.scheduleData()},t.className="AreaSeries",t.type="area",$s([Yr("dataChange")],t.prototype,"fills",void 0),$s([Yr("dataChange")],t.prototype,"strokes",void 0),$s([Yr("update")],t.prototype,"fillOpacity",void 0),$s([Yr("update")],t.prototype,"strokeOpacity",void 0),$s([Yr("update")],t.prototype,"lineDash",void 0),$s([Yr("update")],t.prototype,"lineDashOffset",void 0),$s([Yr("update")],t.prototype,"xName",void 0),$s([Yr("update")],t.prototype,"yNames",void 0),$s([Yr("update")],t.prototype,"strokeWidth",void 0),$s([Yr("update")],t.prototype,"shadow",void 0),t}(zs),rl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ol=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.Bar=0]="Bar",e[e.Label=1]="Label"}(Js||(Js={})),function(e){e.Inside="inside",e.Outside="outside"}(Qs||(Qs={}));var il,al=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.placement=Qs.Inside,t}return rl(t,e),ol([Yr("change")],t.prototype,"formatter",void 0),ol([Yr("change")],t.prototype,"placement",void 0),t}(Ts),sl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rl(t,e),ol([Yr("change")],t.prototype,"renderer",void 0),t}(Rs),ll=function(e){function t(){var t,n=e.call(this)||this;return n.rectGroup=n.pickGroup.appendChild(new jo),n.labelGroup=n.group.appendChild(new jo),n.rectSelection=Vo.select(n.rectGroup).selectAll(),n.labelSelection=Vo.select(n.labelGroup).selectAll(),n.xData=[],n.yData=[],n.yDomain=[],n.label=new al,n.seriesItemEnabled=new Map,n.tooltip=new sl,n.flipXY=!1,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=void 0,n.lineDashOffset=0,n.groupScale=new mi,n.directionKeys=((t={})[ai.X]=["xKey"],t[ai.Y]=["yKeys"],t),n._xKey="",n._xName="",n.cumYKeyCount=[],n.flatYKeys=void 0,n.hideInLegend=[],n._yKeys=[],n._grouped=!1,n._yNames={},n._strokeWidth=1,n.addEventListener("update",n.update),n.label.enabled=!1,n.label.addEventListener("change",n.update,n),n}return rl(t,e),t.prototype.getKeys=function(e){var t=this,n=this.directionKeys,r=n&&n[this.flipXY?di(e):e],o=[];return r&&r.forEach(function(e){var n=t[e];n&&(Array.isArray(n)?o=o.concat(function e(t,n){return void 0===n&&(n=[]),t.forEach(function(t){Array.isArray(t)?e(t,n):n.push(t)}),n}(n)):o.push(n))}),o},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){var t=this,n=void 0;if(e.length&&!Array.isArray(e[0])&&(n=e,e=this.grouped?n.map(function(e){return[e]}):[n]),!Hs(this._yKeys,e)){this.flatYKeys=n||void 0,this._yKeys=e;var r=0;this.cumYKeyCount=[];var o=[];e.forEach(function(e,n){e.length>0&&o.push(String(n)),t.cumYKeyCount.push(r),r+=e.length}),this.yData=[];var i=this.seriesItemEnabled;i.clear(),e.forEach(function(e){e.forEach(function(e){return i.set(e,!0)})});var a=this.groupScale;a.domain=o,a.padding=.1,a.round=!0,this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped!==e&&(this._grouped=e,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yNames",{get:function(){return this._yNames},set:function(e){if(Array.isArray(e)&&this.flatYKeys){var t={};this.flatYKeys.forEach(function(n,r){t[n]=e[r]}),e=t}this._yNames=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,t){this.fills=e,this.strokes=t},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var t=e?Math.abs(e):void 0;this._normalizedTo!==t&&(this._normalizedTo=t,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.processData=function(){var e=this.xKey,t=this.yKeys,n=this.seriesItemEnabled,r=e&&t.length&&this.data?this.data:[],o=!0;this.xData=r.map(function(t){return!o||e in t||(o=!1,console.warn("The key '"+e+"' was not found in the data: ",t)),t[e]}),this.yData=r.map(function(e){return t.map(function(t){return t.map(function(t){!o||t in e||(o=!1,console.warn("The key '"+t+"' was not found in the data: ",e));var r=e[t];return isFinite(r)&&n.get(t)?r:0})})});var i,a,s=this.yData.map(function(e){return e.map(function(e){return No(e)})}),l=this.yData,u=this.normalizedTo,c=this.findLargestMinMax(s);return u&&isFinite(u)?(i=c.min<0?-u:0,a=u,l.forEach(function(e,t){e.forEach(function(e,n){e.forEach(function(r,o){e[o]=r<0?-r/s[t][n].min*u:r/s[t][n].max*u})})})):(i=c.min,a=c.max),this.yDomain=this.fixNumericExtent([i,a],"y"),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){for(var t=0,n=0,r=0,o=e;r<o.length;r++)for(var i=0,a=o[r];i<a.length;i++){var s=a[i];s.min<t&&(t=s.min),s.max>n&&(n=s.max)}return{min:t,max:n}},t.prototype.getDomain=function(e){return this.flipXY&&(e=di(e)),e===ai.X?this.xData:this.yDomain},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.seriesDatum,xKey:this.xKey,yKey:t.yKey})},t.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},t.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},t.prototype.highlight=function(t){e.prototype.highlight.call(this,t),this.highlightedItemId=t,this.updateRectNodes()},t.prototype.dehighlight=function(){this.highlightedItemId=void 0,this.updateRectNodes()},t.prototype.undim=function(e){this.updateDim(e)},t.prototype.dim=function(){this.updateDim()},t.prototype.updateDim=function(e){var t=this.highlightStyle.series.dimOpacity,n=function(n,r){return n.opacity=e&&e!==r.itemId?t:1};this.rectSelection.each(n),this.labelSelection.each(n)},t.prototype.generateNodeData=function(){var e=this;if(!this.data)return[];var t=this.flipXY,n=this.getCategoryAxis(),r=this.getValueAxis(),o=n.scale,i=r.scale,a=this,s=a.groupScale,l=a.yKeys,u=a.cumYKeyCount,c=a.fills,p=a.strokes,d=a.strokeWidth,h=a.seriesItemEnabled,f=a.data,g=a.xData,m=a.yData,y=a.label,v=y.fontStyle,b=y.fontWeight,C=y.fontSize,w=y.fontFamily,O=y.color,x=y.formatter,S=y.placement;s.range=[0,o.bandwidth];var P=s.bandwidth,_=[];return g.forEach(function(r,a){for(var g=f[a],y=o.convert(r),E=m[a],T=0;T<E.length;T++)for(var A=E[T],M=0,D=0,k=0;k<A.length;k++){var R=A[k],I=l[T][k],N=y+s.convert(String(T));if(n.inRange(N,P)){var F,L=R<0?M:D,j=i.convert(L+R),G=i.convert(L),V=g[I],B="number"==typeof V;F=x?x({value:B?V:void 0}):B&&isFinite(V)?V.toFixed(2):"";var W=void 0,z=void 0;t?(z=N+P/2,W=S===Qs.Inside?j+(V>=0?-1:1)*Math.abs(G-j)/2:j+4*(V>=0?1:-1)):(W=N+P/2,z=S===Qs.Inside?j+(V>=0?1:-1)*Math.abs(G-j)/2:j+(V>=0?-3:4));var U=void 0,H=void 0;S===Qs.Inside?(U="center",H="middle"):(U=t?V>=0?"start":"end":"center",H=t?"middle":V>=0?"bottom":"top");var K=u[T]+k;_.push({index:a,series:e,itemId:I,seriesDatum:g,yValue:V,yKey:I,x:t?Math.min(j,G):N,y:t?N:Math.min(j,G),width:t?Math.abs(G-j):P,height:t?P:Math.abs(G-j),fill:c[K%c.length],stroke:p[K%p.length],strokeWidth:d,label:h.get(I)&&F?{text:F,fontStyle:v,fontWeight:b,fontSize:C,fontFamily:w,textAlign:U,textBaseline:H,fill:O,x:W,y:z}:void 0}),R<0?M+=R:D+=R}}}),_},t.prototype.update=function(){var e=this,t=e.visible,n=e.chart,r=e.xAxis,o=e.yAxis,i=e.xData,a=e.yData;if(this.group.visible=t,n&&!n.layoutPending&&!n.dataPending&&r&&o&&t&&i.length&&a.length){var s=this.generateNodeData();this.updateRectSelection(s),this.updateRectNodes(),this.updateLabelSelection(s),this.updateLabelNodes()}},t.prototype.updateRectSelection=function(e){var t=this.rectSelection.setData(e);t.exit.remove();var n=t.enter.append(Pa).each(function(e){e.tag=Js.Bar,e.crisp=!0});this.rectSelection=t.merge(n)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var t=this,n=t.fillOpacity,r=t.strokeOpacity,o=t.shadow,i=t.formatter,a=t.xKey,s=t.flipXY,l=t.chart.highlightedDatum,u=t.highlightedItemId,c=t.highlightStyle,p=c.fill,d=c.stroke,h=c.strokeWidth,f=c.series,g=f.enabled,m=f.strokeWidth;this.rectSelection.each(function(t,c){var f=c===l,y=f&&void 0!==p?p:c.fill,v=f&&void 0!==d?d:c.stroke,b=void 0,C=f&&void 0!==h?h:g&&u===c.itemId&&void 0!==m?m:c.strokeWidth;i&&(b=i({datum:c.seriesDatum,fill:y,stroke:v,strokeWidth:C,highlighted:f,xKey:a,yKey:c.yKey})),t.x=c.x,t.y=c.y,t.width=c.width,t.height=c.height,t.fill=b&&b.fill||y,t.stroke=b&&b.stroke||v,t.strokeWidth=b&&void 0!==b.strokeWidth?b.strokeWidth:C,t.fillOpacity=n,t.strokeOpacity=r,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=o,t.visible=s?c.width>0:c.height>0})}},t.prototype.updateLabelSelection=function(e){var t=this.labelSelection.setData(e);t.exit.remove();var n=t.enter.append(Hr).each(function(e){e.tag=Js.Label,e.pointerEvents=ir.None});this.labelSelection=t.merge(n)},t.prototype.updateLabelNodes=function(){var e=this.label.enabled;this.labelSelection.each(function(t,n){var r=n.label;r&&e?(t.fontStyle=r.fontStyle,t.fontWeight=r.fontWeight,t.fontSize=r.fontSize,t.fontFamily=r.fontFamily,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline,t.text=r.text,t.x=r.x,t.y=r.y,t.fill=r.fill,t.visible=!0):t.visible=!1})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.yKeys,r=this.yData,o=this.getCategoryAxis(),i=this.getValueAxis(),a=e.yKey;if(!t||!a||!r.length)return"";for(var s=r[e.index],l=0,u=0,c=0;c<n.length;c++){var p=n[c];if((u=p.indexOf(a))>=0){l+=u;break}l+=p.length}var d=this.xName,h=this.fills,f=this.tooltip.renderer,g=e.seriesDatum,m=this.yNames[a],y=h[l%h.length],v=g[t],b=g[a],C=s[c][u],w=Ys(o.formatDatum(v)),O=Ys(i.formatDatum(b)),x={title:Ys(m),backgroundColor:y,content:w+": "+O};return f?is(f({datum:g,xKey:t,xValue:v,xName:d,yKey:a,yValue:b,processedYValue:C,yName:m,color:y}),x):is(x)},t.prototype.listSeriesItems=function(e){var t=this,n=t.id,r=t.data,o=t.yNames,i=t.cumYKeyCount,a=t.seriesItemEnabled,s=t.hideInLegend,l=t.fills,u=t.strokes,c=t.fillOpacity,p=t.strokeOpacity;r&&r.length&&t.xKey&&t.yKeys.length&&this.yKeys.forEach(function(t,r){t.forEach(function(t,d){if(s.indexOf(t)<0){var h=i[r]+d;e.push({id:n,itemId:t,enabled:a.get(t)||!1,label:{text:o[t]||t},marker:{fill:l[h%l.length],stroke:u[h%u.length],fillOpacity:c,strokeOpacity:p}})}})})},t.prototype.toggleSeriesItem=function(e,t){var n=this.seriesItemEnabled;n.set(e,t);var r=this.yKeys.map(function(e){return e.slice()});n.forEach(function(e,t){e||r.forEach(function(e){var n=e.indexOf(t);n>=0&&e.splice(n,1)})});var o=[];r.forEach(function(e,t){e.length>0&&o.push(String(t))}),this.groupScale.domain=o,this.scheduleData()},t.className="BarSeries",t.type="bar",ol([Yr("dataChange")],t.prototype,"flipXY",void 0),ol([Yr("dataChange")],t.prototype,"fills",void 0),ol([Yr("dataChange")],t.prototype,"strokes",void 0),ol([Yr("layoutChange")],t.prototype,"fillOpacity",void 0),ol([Yr("layoutChange")],t.prototype,"strokeOpacity",void 0),ol([Yr("update")],t.prototype,"lineDash",void 0),ol([Yr("update")],t.prototype,"lineDashOffset",void 0),ol([Yr("update")],t.prototype,"formatter",void 0),ol([Yr("layoutChange")],t.prototype,"hideInLegend",void 0),t}(zs),ul=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cl=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ul(t,e),cl([Yr("change")],t.prototype,"formatter",void 0),t}(Ts),dl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ul(t,e),cl([Yr("change")],t.prototype,"renderer",void 0),cl([Yr("change")],t.prototype,"format",void 0),t}(Rs),hl=function(e){function t(){var t=e.call(this)||this;t.xDomain=[],t.yDomain=[],t.xData=[],t.yData=[],t.lineNode=new Yo,t.nodeSelection=Vo.select(t.pickGroup).selectAll(),t.nodeData=[],t.marker=new Us,t.label=new pl,t.stroke="#874349",t.lineDash=void 0,t.lineDashOffset=0,t.strokeWidth=2,t.strokeOpacity=1,t.tooltip=new dl,t._xKey="",t.xName="",t._yKey="",t.yName="";var n=t.lineNode;n.fill=void 0,n.lineJoin="round",n.pointerEvents=ir.None,t.group.insertBefore(n,t.pickGroup),t.addEventListener("update",t.update);var r=t.marker,o=t.label;return r.fill="#c16068",r.stroke="#874349",r.addPropertyListener("shape",t.onMarkerShapeChange,t),r.addPropertyListener("enabled",t.onMarkerEnabledChange,t),r.addEventListener("change",t.update,t),o.enabled=!1,o.addEventListener("change",t.update,t),t}return ul(t,e),t.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},t.prototype.onMarkerEnabledChange=function(e){e.value||(this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove())},t.prototype.setColors=function(e,t){this.stroke=e[0],this.marker.stroke=t[0],this.marker.fill=e[0]},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey!==e&&(this._yKey=e,this.yData=[],this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,t=e.xAxis,n=e.xKey,r=e.yKey,o=e.xData,i=e.yData,a=n&&r&&this.data?this.data:[];if(!t)return!1;var s=t.scale instanceof ao,l=e.yAxis.scale instanceof ao;o.length=0,i.length=0;for(var u=0,c=a.length;u<c;u++){var p=a[u],d=p[r];o.push(p[n]),i.push(d)}return this.xDomain=s?this.fixNumericExtent(Io(o),"x"):o,this.yDomain=l?this.fixNumericExtent(Io(i),"y"):i,!0},t.prototype.getDomain=function(e){return e===ai.X?this.xDomain:this.yDomain},t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.highlight=function(){e.prototype.highlight.call(this);var t=this.highlightStyle.series.strokeWidth;this.lineNode.strokeWidth=void 0!==t?t:this.strokeWidth},t.prototype.dehighlight=function(){this.lineNode.strokeWidth=this.strokeWidth},t.prototype.resetHighlight=function(){this.lineNode.strokeWidth=this.strokeWidth},t.prototype.update=function(){this.group.visible=this.visible;var e=this.chart;e&&!e.layoutPending&&!e.dataPending&&this.xAxis&&this.yAxis&&(this.updateLinePath(),this.updateNodeSelection(),this.updateNodes())},t.prototype.getXYDatums=function(e,t,n,r,o){var i=r instanceof ao,a=t[e],s=n[e];return null==s||o instanceof ao&&(isNaN(s)||!isFinite(s))||null==a||i&&(isNaN(a)||!isFinite(a))?void 0:[a,s]},t.prototype.updateLinePath=function(){if(this.data){var e=this,t=e.xAxis,n=e.data,r=e.xData,o=e.yData,i=e.lineNode,a=e.label,s=t.scale,l=e.yAxis.scale,u=(s.bandwidth||0)/2,c=(l.bandwidth||0)/2,p=i.path,d=[];p.clear();for(var h=!0,f=void 0,g=void 0,m=0;m<r.length;m++){var y=g||this.getXYDatums(m,r,o,s,l);if(y){var v=y[1],b=s.convert(y[0])+u,C=(s.bandwidth||.5*this.marker.size+(this.marker.strokeWidth||0))+1;g=this.getXYDatums(m+1,r,o,s,l);var w=t.inRangeEx(b,0,C),O=g&&t.inRangeEx(s.convert(g[0])+u,0,C);if(-1===w&&-1===O){h=!0;continue}if(1===w&&1===f){h=!0;continue}f=w;var x,S=l.convert(v)+c;h?(p.moveTo(b,S),h=!1):p.lineTo(b,S),x=a.formatter?a.formatter({value:v}):"number"==typeof v&&isFinite(v)?v.toFixed(2):v?String(v):"",d.push({series:this,seriesDatum:n[m],point:{x:b,y:S},label:x?{text:x,fontStyle:a.fontStyle,fontWeight:a.fontWeight,fontSize:a.fontSize,fontFamily:a.fontFamily,textAlign:"center",textBaseline:"bottom",fill:a.color}:void 0})}else f=void 0,h=!0}i.stroke=this.stroke,i.strokeWidth=this.strokeWidth,i.lineDash=this.lineDash,i.lineDashOffset=this.lineDashOffset,i.strokeOpacity=this.strokeOpacity,this.nodeData=d}},t.prototype.updateNodeSelection=function(){var e=this.marker,t=e.shape?this.nodeData:[],n=Ua(e.shape),r=this.nodeSelection.setData(t);r.exit.remove();var o=r.enter.append(jo);o.append(n),o.append(Hr),this.nodeSelection=r.merge(o)},t.prototype.updateNodes=function(){this.updateMarkerNodes(),this.updateTextNodes()},t.prototype.updateMarkerNodes=function(){if(this.chart){var e=this.chart.highlightedDatum,t=this,n=t.marker,r=t.xKey,o=t.yKey,i=t.stroke,a=this.highlightStyle,s=a.fill,l=a.stroke,u=n.formatter,c=n.size,p=void 0!==n.strokeWidth?n.strokeWidth:t.strokeWidth,d=Ua(n.shape);this.nodeSelection.selectByClass(d).each(function(t,a){var d=a===e,h=d&&void 0!==s?s:n.fill,f=d&&void 0!==l?l:n.stroke||i,g=void 0;u&&(g=u({datum:a.seriesDatum,xKey:r,yKey:o,fill:h,stroke:f,strokeWidth:p,size:c,highlighted:d})),t.fill=g&&g.fill||h,t.stroke=g&&g.stroke||f,t.strokeWidth=g&&void 0!==g.strokeWidth?g.strokeWidth:p,t.size=g&&void 0!==g.size?g.size:c,t.translationX=a.point.x,t.translationY=a.point.y,t.visible=n.enabled&&t.size>0})}},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.nodeSelection.selectByClass(Hr).each(function(t,n){var r=n.point,o=n.label;o&&e?(t.fontStyle=o.fontStyle,t.fontWeight=o.fontWeight,t.fontSize=o.fontSize,t.fontFamily=o.fontFamily,t.textAlign=o.textAlign,t.textBaseline=o.textBaseline,t.text=o.text,t.x=r.x,t.y=r.y-10,t.fill=o.fill,t.visible=!0):t.visible=!1})},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.seriesDatum,xKey:this.xKey,yKey:this.yKey})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.yKey,r=this.yAxis;if(!t||!n)return"";var o=this.xName,i=this.yName,a=this.stroke,s=this.tooltip,l=s.renderer,u=s.format,c=e.seriesDatum,p=c[t],d=c[n],h=this.xAxis.formatDatum(p),f=r.formatDatum(d),g=Ys(this.title||i),m={title:g,backgroundColor:a,content:Ys(h+": "+f)};if(u||l){var y={datum:c,xKey:t,xValue:p,xName:o,yKey:n,yValue:d,yName:i,title:g,color:a};if(u)return is({content:Xs(u,y)},m);if(l)return is(l(y),m)}return is(m)},t.prototype.listSeriesItems=function(e){var t=this,n=t.data,r=t.yKey,o=t.marker;n&&n.length&&t.xKey&&r&&e.push({id:t.id,itemId:void 0,enabled:t.visible,label:{text:t.title||t.yName||r},marker:{shape:o.shape,fill:o.fill||"rgba(0, 0, 0, 0)",stroke:o.stroke||t.stroke||"rgba(0, 0, 0, 0)",fillOpacity:1,strokeOpacity:t.strokeOpacity}})},t.className="LineSeries",t.type="line",cl([Yr("layoutChange")],t.prototype,"title",void 0),cl([Yr("update")],t.prototype,"stroke",void 0),cl([Yr("update")],t.prototype,"lineDash",void 0),cl([Yr("update")],t.prototype,"lineDashOffset",void 0),cl([Yr("update")],t.prototype,"strokeWidth",void 0),cl([Yr("update")],t.prototype,"strokeOpacity",void 0),cl([Yr("update")],t.prototype,"xName",void 0),cl([Yr("update")],t.prototype,"yName",void 0),t}(zs),fl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gl=function(){return(gl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ml=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},yl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fl(t,e),ml([Yr("change")],t.prototype,"renderer",void 0),t}(Rs),vl=function(e){function t(){var t=e.call(this)||this;t.xDomain=[],t.yDomain=[],t.xData=[],t.yData=[],t.sizeData=[],t.sizeScale=new Do,t.nodeData=[],t.markerSelection=Vo.select(t.pickGroup).selectAll(),t.labelData=[],t.labelSelection=Vo.select(t.group).selectAll(),t.marker=new Us,t.label=new Ts,t._fill="#c16068",t._stroke="#874349",t._strokeWidth=2,t._fillOpacity=1,t._strokeOpacity=1,t.xKey="",t.yKey="",t.xName="",t.yName="",t.sizeName="Size",t.labelName="Label",t.tooltip=new yl;var n=t.marker,r=t.label;return n.addPropertyListener("shape",t.onMarkerShapeChange,t),n.addEventListener("change",t.update,t),t.addPropertyListener("xKey",function(){return t.xData=[]}),t.addPropertyListener("yKey",function(){return t.yData=[]}),t.addPropertyListener("sizeKey",function(){return t.sizeData=[]}),r.enabled=!1,r.addEventListener("change",t.update,t),r.addEventListener("dataChange",t.scheduleData,t),r.addPropertyListener("fontSize",t.scheduleData,t),t}return fl(t,e),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.scheduleLayout())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateMarkerNodes()},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,t){this.fill=e[0],this.stroke=t[0],this.marker.fill=e[0],this.marker.stroke=t[0]},t.prototype.processData=function(){var e=this,t=e.xKey,n=e.yKey,r=e.sizeKey,o=e.labelKey,i=e.xAxis,a=e.yAxis,s=e.marker,l=e.label,u=t&&n&&this.data?this.data:[];this.xData=u.map(function(e){return e[t]}),this.yData=u.map(function(e){return e[n]}),this.sizeData=r?u.map(function(e){return e[r]}):[];var c=l.getFont();return this.labelData=o?u.map(function(e){var t=String(e[o]),n=zr.getTextSize(t,c);return gl({text:t},n)}):[],this.sizeScale.domain=s.domain?s.domain:Ro(this.sizeData)||[1,1],this.xDomain=i.scale instanceof ao?this.fixNumericExtent(Ro(this.xData),"x"):this.xData,this.yDomain=a.scale instanceof ao?this.fixNumericExtent(Ro(this.yData),"y"):this.yData,!0},t.prototype.getDomain=function(e){return e===ai.X?this.xDomain:this.yDomain},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.getLabelData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.seriesDatum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},t.prototype.generateNodeData=function(){if(!this.data)return[];var e=this.xAxis,t=this.yAxis,n=e.scale,r=t.scale,o=n instanceof ao,i=r instanceof ao,a=(n.bandwidth||0)/2,s=(r.bandwidth||0)/2,l=this,u=l.data,c=l.xData,p=l.yData,d=l.sizeData,h=l.sizeScale,f=l.marker,g=[];h.range=[f.size,f.maxSize];for(var m=0;m<c.length;m++){var y=c[m],v=p[m];if(null!=v&&(!i||!isNaN(v)&&isFinite(v))&&null!=y&&(!o||!isNaN(y)&&isFinite(y))){var b=n.convert(y)+a,C=r.convert(v)+s;e.inRange(b)&&t.inRange(C)&&g.push({series:this,seriesDatum:u[m],point:{x:b,y:C},size:d.length?h.convert(d[m]):f.size,label:this.labelData[m]})}}return this.nodeData=g},t.prototype.update=function(){var e=this.visible,t=this.chart,n=this.xAxis,r=this.yAxis;this.group.visible=e,e&&t&&!t.layoutPending&&!t.dataPending&&n&&r&&(this.generateNodeData(),this.updateMarkerSelection(this.nodeData),this.updateLabelSelection(this.nodeData),this.updateMarkerNodes(),this.updateLabelNodes())},t.prototype.updateLabelSelection=function(e){var t=this.chart&&this.chart.placeLabels().get(this)||[],n=this.labelSelection.setData(t);n.exit.remove();var r=n.enter.append(Hr);this.labelSelection=n.merge(r)},t.prototype.updateMarkerSelection=function(e){var t=Ua(this.marker.shape),n=this.markerSelection.setData(e);n.exit.remove();var r=n.enter.append(t);this.markerSelection=n.merge(r)},t.prototype.updateLabelNodes=function(){var e=this.label;this.labelSelection.each(function(t,n){t.text=n.text,t.fill=e.color,t.x=n.x,t.y=n.y,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.textAlign="left",t.textBaseline="top"})},t.prototype.updateMarkerNodes=function(){if(this.chart){var e=this.chart.highlightedDatum,t=this,n=t.marker,r=t.xKey,o=t.yKey,i=t.fill,a=t.stroke,s=t.fillOpacity,l=t.strokeOpacity,u=this.highlightStyle,c=u.fill,p=u.stroke,d=void 0!==n.strokeWidth?n.strokeWidth:t.strokeWidth,h=n.formatter;this.markerSelection.each(function(t,u){var f=u===e,g=f&&void 0!==c?c:n.fill||i,m=f&&void 0!==p?p:n.stroke||a,y=void 0;h&&(y=h({datum:u.seriesDatum,xKey:r,yKey:o,fill:g,stroke:m,strokeWidth:d,size:u.size,highlighted:f})),t.fill=y&&y.fill||g,t.stroke=y&&y.stroke||m,t.strokeWidth=y&&void 0!==y.strokeWidth?y.strokeWidth:d,t.size=y&&void 0!==y.size?y.size:u.size,t.fillOpacity=s,t.strokeOpacity=l,t.translationX=u.point.x,t.translationY=u.point.y,t.visible=n.enabled&&t.size>0})}},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.yKey,r=this.yAxis;if(!t||!n)return"";var o=this,i=o.xName,a=o.yName,s=o.sizeKey,l=o.sizeName,u=o.labelKey,c=o.labelName,p=o.tooltip.renderer,d=this.marker.fill||this.fill||"gray",h=this.title||a,f=e.seriesDatum,g=f[t],m=f[n],y=Ys(this.xAxis.formatDatum(g)),v=Ys(r.formatDatum(m)),b="<b>"+Ys(i||t)+"</b>: "+y+"<br><b>"+Ys(a||n)+"</b>: "+v;s&&(b+="<br><b>"+Ys(l||s)+"</b>: "+Ys(f[s])),u&&(b="<b>"+Ys(c||u)+"</b>: "+Ys(f[u])+"<br>"+b);var C={title:h,backgroundColor:d,content:b};return p?is(p({datum:f,xKey:t,xValue:g,xName:i,yKey:n,yValue:m,yName:a,sizeKey:s,sizeName:l,labelKey:u,labelName:c,title:h,color:d}),C):is(C)},t.prototype.listSeriesItems=function(e){var t=this,n=t.data,r=t.yKey,o=t.marker;n&&n.length&&t.xKey&&r&&e.push({id:t.id,itemId:void 0,enabled:t.visible,label:{text:t.title||t.yName||r},marker:{shape:o.shape,fill:o.fill||t.fill||"rgba(0, 0, 0, 0)",stroke:o.stroke||t.stroke||"rgba(0, 0, 0, 0)",fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}})},t.className="ScatterSeries",t.type="scatter",ml([Yr("layoutChange")],t.prototype,"title",void 0),ml([Yr("dataChange")],t.prototype,"xKey",void 0),ml([Yr("dataChange")],t.prototype,"yKey",void 0),ml([Yr("dataChange")],t.prototype,"sizeKey",void 0),ml([Yr("dataChange")],t.prototype,"labelKey",void 0),t}(zs),bl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cl=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.Bin=0]="Bin",e[e.Label=1]="Label"}(il||(il={}));var wl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),Cl([Yr("change")],t.prototype,"formatter",void 0),t}(Ts),Ol={count:function(e){return e.data.length},sum:function(e,t){return e.data.reduce(function(e,n){return e+n[t]},0)},mean:function(e,t){return Ol.sum(e,t)/Ol.count(e,t)}},xl=function(){function e(e){var t=e[0],n=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[t,n]}return e.prototype.addDatum=function(e){this.data.push(e),this.frequency++},Object.defineProperty(e.prototype,"domainWidth",{get:function(){var e=this.domain;return e[1]-e[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),e.prototype.calculateAggregatedValue=function(e,t){t||(e="count"),this.aggregatedValue=(0,Ol[e])(this,t)},e.prototype.getY=function(e){return e?this.relativeHeight:this.aggregatedValue},e}(),Sl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),Cl([Yr("change")],t.prototype,"renderer",void 0),t}(Rs),Pl=function(e){function t(){var t,n=e.call(this)||this;return n.rectGroup=n.pickGroup.appendChild(new jo),n.textGroup=n.group.appendChild(new jo),n.rectSelection=Vo.select(n.rectGroup).selectAll(),n.textSelection=Vo.select(n.textGroup).selectAll(),n.binnedData=[],n.xDomain=[],n.yDomain=[],n.label=new wl,n.seriesItemEnabled=!0,n.tooltip=new Sl,n.fill=void 0,n.stroke=void 0,n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=void 0,n.lineDashOffset=0,n.directionKeys=((t={})[ai.X]=["xKey"],t[ai.Y]=["yKey"],t),n._xKey="",n._areaPlot=!1,n._bins=void 0,n._aggregation="count",n._binCount=void 0,n._xName="",n._yKey="",n._yName="",n._strokeWidth=1,n.label.enabled=!1,n.label.addEventListener("change",n.update,n),n}return bl(t,e),t.prototype.getKeys=function(e){var t=this,n=this.directionKeys,r=n&&n[e],o=[];return r&&r.forEach(function(e){var n=t[e];n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n))}),o},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaPlot",{get:function(){return this._areaPlot},set:function(e){this._areaPlot=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bins",{get:function(){return this._bins},set:function(e){this._bins=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregation",{get:function(){return this._aggregation},set:function(e){this._aggregation=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binCount",{get:function(){return this._binCount},set:function(e){this._binCount=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.seriesItemEnabled=!0,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yName",{get:function(){return this._yName},set:function(e){this._yName=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.setColors=function(e,t){this.fill=e[0],this.stroke=t[0]},t.prototype.deriveBins=function(){var e=this,t=this.bins;if(!this.data)return[];if(t)return t;var n=this.data.map(function(t){return t[e.xKey]}),r=this.fixNumericExtent(Ro(n),"x"),o=lo(r[0],r[1],this.binCount||10),i=ho(r[0],r[1],this.binCount||10),a=o[0];return function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}([[a-i,a]],o.map(function(e){return[e,e+i]}))},t.prototype.placeDataInBins=function(e){var t=this,n=this.xKey,r=this.deriveBins(),o=e.slice().sort(function(e,t){return e[n]<t[n]?-1:e[n]>t[n]?1:0}),i=0,a=[new xl(r[0])];e:for(var s=0,l=o.length;s<l;s++){for(var u=o[s];u[n]>r[i][1];){var c=r[++i];if(!c)break e;a.push(new xl(c))}a[i].addDatum(u)}return a.forEach(function(e){return e.calculateAggregatedValue(t._aggregation,t.yKey)}),a},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(t,n){return Math.max(t,n[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,t=this.data;this.binnedData=this.placeDataInBins(this.xKey&&t?t:[]);var n=Io(this.binnedData.map(function(t){return t.getY(e.areaPlot)}));return this.yDomain=this.fixNumericExtent([0,n?n[1]:1],"y"),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return e===ai.X?this.xDomain:this.yDomain},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.seriesDatum,xKey:this.xKey})},t.prototype.update=function(){var e=this.visible,t=this.chart,n=this.xAxis,r=this.yAxis;if(this.group.visible=e,n&&r&&e&&t&&!t.layoutPending&&!t.dataPending){var o=this.generateNodeData();this.updateRectSelection(o),this.updateRectNodes(),this.updateTextSelection(o),this.updateTextNodes()}},t.prototype.generateNodeData=function(){var e=this;if(!this.seriesItemEnabled)return[];var t=this,n=t.xAxis.scale,r=t.yAxis.scale,o=t.fill,i=t.stroke,a=t.strokeWidth,s=[],l=this.label,u=l.formatter,c=void 0===u?function(e){return String(e.value)}:u,p=l.fontStyle,d=l.fontWeight,h=l.fontSize,f=l.fontFamily,g=l.color;return this.binnedData.forEach(function(t){var l=t.aggregatedValue,u=t.frequency,m=t.domain,y=m[1],v=t.relativeHeight,b=n.convert(m[0]),C=n.convert(y),w=e.areaPlot?v:e.yKey?l:u,O=r.convert(0),x=r.convert(w),S=C-b,P=Math.abs(x-O),_=0!==w?{text:c({value:t.aggregatedValue}),fontStyle:p,fontWeight:d,fontSize:h,fontFamily:f,fill:g,x:b+S/2,y:x+P/2}:void 0;s.push({series:e,seriesDatum:t,x:b,y:x,width:S,height:P,fill:o,stroke:i,strokeWidth:a,label:_})}),s},t.prototype.updateRectSelection=function(e){var t=this.rectSelection.setData(e);t.exit.remove();var n=t.enter.append(Pa).each(function(e){e.tag=il.Bin,e.crisp=!0});this.rectSelection=t.merge(n)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var t=this.chart.highlightedDatum,n=this.fillOpacity,r=this.strokeOpacity,o=this.shadow,i=this.highlightStyle,a=i.fill,s=i.stroke;this.rectSelection.each(function(i,l){var u=l===t;i.x=l.x,i.y=l.y,i.width=l.width,i.height=l.height,i.fill=u&&void 0!==a?a:l.fill,i.stroke=u&&void 0!==s?s:l.stroke,i.fillOpacity=n,i.strokeOpacity=r,i.strokeWidth=l.strokeWidth,i.lineDash=e.lineDash,i.lineDashOffset=e.lineDashOffset,i.fillShadow=o,i.visible=l.height>0})}},t.prototype.updateTextSelection=function(e){var t=this.textSelection.setData(e);t.exit.remove();var n=t.enter.append(Hr).each(function(e){e.tag=il.Label,e.pointerEvents=ir.None,e.textAlign="center",e.textBaseline="middle"});this.textSelection=t.merge(n)},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each(function(t,n){var r=n.label;r&&e?(t.text=r.text,t.x=r.x,t.y=r.y,t.fontStyle=r.fontStyle,t.fontWeight=r.fontWeight,t.fontSize=r.fontSize,t.fontFamily=r.fontFamily,t.fill=r.fill,t.visible=!0):t.visible=!1})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.yKey,r=this.xAxis,o=this.yAxis;if(!t)return"";var i=this,a=i.xName,s=i.yName,l=i.fill,u=i.aggregation,c=i.tooltip.renderer,p=e.seriesDatum,d=p.aggregatedValue,h=p.frequency,f=p.domain,g=f[0],m=f[1],y=Ys(a||t)+": "+r.formatDatum(g)+" - "+r.formatDatum(m),v=n?"<b>"+Ys(s||n)+" ("+u+")</b>: "+o.formatDatum(d)+"<br>":"",b={title:y,backgroundColor:l,content:v+="<b>Frequency</b>: "+h};return c?is(c({datum:p,xKey:t,xValue:p.domain,xName:a,yKey:n,yValue:p.aggregatedValue,yName:s,color:l}),b):is(b)},t.prototype.listSeriesItems=function(e){var t=this,n=t.data,r=t.yKey;n&&n.length&&e.push({id:t.id,itemId:r,enabled:t.seriesItemEnabled,label:{text:t.yName||r||"Frequency"},marker:{fill:t.fill||"rgba(0, 0, 0, 0)",stroke:t.stroke||"rgba(0, 0, 0, 0)",fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}})},t.prototype.toggleSeriesItem=function(e,t){e===this.yKey&&(this.seriesItemEnabled=t),this.scheduleData()},t.className="HistogramSeries",t.type="histogram",Cl([Yr("dataChange")],t.prototype,"fill",void 0),Cl([Yr("dataChange")],t.prototype,"stroke",void 0),Cl([Yr("layoutChange")],t.prototype,"fillOpacity",void 0),Cl([Yr("layoutChange")],t.prototype,"strokeOpacity",void 0),Cl([Yr("update")],t.prototype,"lineDash",void 0),Cl([Yr("update")],t.prototype,"lineDashOffset",void 0),t}(zs),_l=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),El=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t}return _l(t,e),function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Yr("dataChange")],t.prototype,"data",void 0),t}(Is),Tl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Al=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ml=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t.color="rgba(0, 0, 0, 0.5)",t.xOffset=0,t.yOffset=0,t.blur=5,t}return Tl(t,e),Al([Yr("change")],t.prototype,"enabled",void 0),Al([Yr("change")],t.prototype,"color",void 0),Al([Yr("change")],t.prototype,"xOffset",void 0),Al([Yr("change")],t.prototype,"yOffset",void 0),Al([Yr("change")],t.prototype,"blur",void 0),t}(qr);function Dl(e,t,n,r,o){var i=e.value&&(o-n)/e.value;e.children.forEach(function(e){e.x0=t,e.x1=r,e.y0=n,e.y1=n+=e.value*i})}function kl(e,t,n,r,o){var i=e.value&&(r-t)/e.value;e.children.forEach(function(e){e.x0=t,e.x1=t+=e.value*i,e.y0=n,e.y1=o})}function Rl(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}var Il=function e(t){function n(e,n,r,o,i){!function(e,t,n,r,o,i){for(var a,s,l,u,c,p,d,h,f,g,m=[],y=t.children,v=y.length,b=t.value,C=0,w=0;C<v;){a=o-n,s=i-r;do{u=y[w++].value}while(!u&&w<v);for(c=p=u,g=u*u*(f=Math.max(s/a,a/s)/(b*e)),h=Math.max(p/g,g/c);w<v;++w){if((l=y[w].value)<c&&(c=l),l>p&&(p=l),g=(u+=l)*u*f,(d=Math.max(p/g,g/c))>h){u-=l;break}h=d}var O={value:u,dice:a<s,children:y.slice(C,w)};m.push(O),O.dice?kl(O,n,r,o,b?r+=s*u/b:i):Dl(O,n,r,b?n+=a*u/b:o,i),b-=u,C=w}}(t,e,n,r,o,i)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}((1+Math.sqrt(5))/2),Nl=function(){function e(){this.paddingStack=[0],this.dx=1,this.dy=1,this.round=!0,this.tile=Il,this.paddingInner=function(e){return 0},this.paddingTop=function(e){return 0},this.paddingRight=function(e){return 0},this.paddingBottom=function(e){return 0},this.paddingLeft=function(e){return 0}}return Object.defineProperty(e.prototype,"size",{get:function(){return[this.dx,this.dy]},set:function(e){this.dx=e[0],this.dy=e[1]},enumerable:!0,configurable:!0}),e.prototype.processData=function(e){return e.x0=0,e.y0=0,e.x1=this.dx,e.y1=this.dy,e.eachBefore(this.positionNode.bind(this)),this.paddingStack=[0],this.round&&e.eachBefore(Rl),e},e.prototype.positionNode=function(e){var t=this.paddingStack[e.depth],n=e.x0+t,r=e.y0+t,o=e.x1-t,i=e.y1-t;o<n&&(n=o=(n+o)/2),i<r&&(r=i=(r+i)/2),e.x0=n,e.y0=r,e.x1=o,e.y1=i,e.children&&(t=this.paddingStack[e.depth+1]=this.paddingInner(e)/2,n+=this.paddingLeft(e)-t,r+=this.paddingTop(e)-t,(o-=this.paddingRight(e)-t)<n&&(n=o=(n+o)/2),(i-=this.paddingBottom(e)-t)<r&&(r=i=(r+i)/2),this.tile(e,n,r,o,i))},e}(),Fl=function(){function e(e){this.value=0,this.depth=0,this.height=0,this.parent=void 0,this.children=void 0,this.data=e}return e.prototype.countFn=function(e){var t=0,n=e.children;if(n&&n.length)for(var r=n.length;--r>=0;)t+=n[r].value;else t=1;e.value=t},e.prototype.count=function(){return this.eachAfter(this.countFn)},e.prototype.each=function(e,t){var n=this,r=-1;return this.iterator(function(o){e.call(t,o,++r,n)}),this},e.prototype.eachAfter=function(e,t){for(var n=this,r=[n],o=[];n=r.pop();){o.push(n);var i=n.children;if(i)for(var a=0,s=i.length;a<s;++a)r.push(i[a])}for(var l=-1;n=o.pop();)e.call(t,n,++l,this);return this},e.prototype.eachBefore=function(e,t){for(var n=this,r=[n],o=-1;n=r.pop();){e.call(t,n,++o,this);var i=n.children;if(i)for(var a=i.length-1;a>=0;--a)r.push(i[a])}return this},e.prototype.find=function(e,t){var n,r=this,o=-1;return this.iterator(function(i){if(e.call(t,i,++o,r))return n=i,!1}),n},e.prototype.sum=function(e){return this.eachAfter(function(t){var n=+e(t.data)||0,r=t.children;if(r)for(var o=r.length;--o>=0;)n+=r[o].value;t.value=n})},e.prototype.sort=function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},e.prototype.path=function(e){for(var t=this,n=function(e,t){if(e&&t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=void 0;for(e=n.pop(),t=r.pop();e===t;)o=e,e=n.pop(),t=r.pop();return o}}(t,e),r=[t];t!==n;)r.push(t=t.parent);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r},e.prototype.ancestors=function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},e.prototype.descendants=function(){var e=[];return this.iterator(function(t){return e.push(t)}),e},e.prototype.leaves=function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},e.prototype.links=function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},e.prototype.copy=function(){},e.prototype.iterator=function(e){var t,n=this,r=[n];e:do{for(t=r.reverse(),r=[];n=t.pop();){if(!1===e(n))break e;var o=n.children;if(o)for(var i=0,a=o.length;i<a;++i)r.push(o[i])}}while(r.length)},e}();function Ll(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=Gl)):void 0===t&&(t=Vl);for(var n,r,o,i,a,s=new Fl(e),l=[s];n=l.pop();)if((o=t(n.data))&&(a=(o=Array.from(o)).length))for(n.children=o,i=a-1;i>=0;--i)l.push(r=o[i]=new Fl(o[i])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(jl)}function jl(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Gl(e){return Array.isArray(e)?e[1]:void 0}function Vl(e){return e.children}var Bl,Wl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zl=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ul=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wl(t,e),zl([Yr("change")],t.prototype,"renderer",void 0),t}(Rs),Hl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.padding=10,t}return Wl(t,e),zl([Yr("change")],t.prototype,"padding",void 0),t}(Ts);!function(e){e[e.Name=0]="Name",e[e.Value=1]="Value"}(Bl||(Bl={}));var Kl,Xl=function(e){function t(){var t,n,r=e.call(this)||this;return r.groupSelection=Vo.select(r.pickGroup).selectAll(),r.labelMap=new Map,r.layout=new Nl,r.title=((t=new Hl).color="white",t.fontWeight="bold",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.padding=15,t),r.subtitle=function(){var e=new Hl;return e.color="white",e.fontSize=9,e.fontFamily="Verdana, sans-serif",e.padding=13,e}(),r.labels={large:function(){var e=new Ts;return e.color="white",e.fontWeight="bold",e.fontSize=18,e}(),medium:function(){var e=new Ts;return e.color="white",e.fontWeight="bold",e.fontSize=14,e}(),small:function(){var e=new Ts;return e.color="white",e.fontWeight="bold",e.fontSize=10,e}(),color:function(){var e=new Ts;return e.color="white",e}()},r._nodePadding=2,r.labelKey="label",r.sizeKey="size",r.colorKey="color",r.colorDomain=[-5,5],r.colorRange=["#cb4b3f","#6acb64"],r.colorParents=!1,r.gradient=!0,r.colorName="Change",r.rootName="Root",r._shadow=((n=new Ml).color="rgba(0, 0, 0, 0.4)",n.xOffset=1.5,n.yOffset=1.5,n),r.tooltip=new Ul,r.shadow.addEventListener("change",r.update,r),r.title.addEventListener("change",r.update,r),r.subtitle.addEventListener("change",r.update,r),r.labels.small.addEventListener("change",r.update,r),r.labels.medium.addEventListener("change",r.update,r),r.labels.large.addEventListener("change",r.update,r),r.labels.color.addEventListener("change",r.update,r),r}return Wl(t,e),Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this._nodePadding},set:function(e){this._nodePadding!==e&&(this._nodePadding=e,this.updateLayoutPadding(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.updateLayoutPadding=function(){var e=this.title,t=this.subtitle,n=this.nodePadding,r=this.labelKey;this.layout.paddingRight=function(e){return n},this.layout.paddingBottom=function(e){return n},this.layout.paddingLeft=function(e){return n},this.layout.paddingTop=function(o){var i=o.data[r]||"";o.children&&(i=i.toUpperCase());var a=o.depth>1?t:e,s=zr.getTextSize(i,[a.fontWeight,a.fontSize+"px",a.fontFamily].join(" ").trim()),l=o.depth>0&&o.children&&s.width<=o.x1-o.x0-2*n;return o.hasTitle=l,l?s.height+2*n:n}},t.prototype.processData=function(){if(!this.data)return!1;var e,t=this,n=t.data,r=t.sizeKey,o=t.labelKey,i=t.colorKey,a=t.colorDomain,s=t.colorRange,l=t.colorParents;e=r?Ll(n).sum(function(e){return e.children?1:e[r]}):Ll(n).sum(function(e){return e.children?0:1}),this.dataRoot=e;var u=new Do;u.domain=a,u.range=s;var c=this;return function e(t,n){void 0===n&&(n=0);var r=t.children,a=t.data,s=a[o],p=i?a[i]:n;t.series=c,t.fill=!r||l?u.convert(p):"#272931",t.colorValue=p,t.label=s?r?s.toUpperCase():s:"",r&&r.forEach(function(t){return e(t,n+1)})}(this.dataRoot),!0},t.prototype.getLabelCenterX=function(e){return(e.x0+e.x1)/2},t.prototype.getLabelCenterY=function(e){return(e.y0+e.y1)/2+2},t.prototype.update=function(){var e=this.chart,t=this.dataRoot;if(e&&t){var n=e.getSeriesRect();if(n){this.layout.size=[n.width,n.height],this.updateLayoutPadding();var r=this.layout.processData(t).descendants(),o=this.groupSelection.setData(r);o.exit.remove();var i=o.enter.append(jo);i.append(Pa),i.append(Hr).each(function(e){return e.tag=Bl.Name}),i.append(Hr).each(function(e){return e.tag=Bl.Value}),this.groupSelection=o.merge(i),this.updateNodes()}}},t.prototype.updateNodes=function(){var e=this,t=this.chart;if(t){var n=t.highlightedDatum,r=this.highlightStyle,o=r.fill,i=r.stroke,a=this,s=a.colorKey,l=a.labelMap,u=a.nodePadding,c=a.title,p=a.subtitle,d=a.labels,h=a.shadow,f=a.gradient;this.groupSelection.selectByClass(Pa).each(function(e,t){var r=t===n,a=r&&void 0!==i?i:t.depth<2?void 0:"black";e.fill=r&&void 0!==o?o:t.fill,e.stroke=a,e.strokeWidth=1,e.crisp=!0,e.gradient=f,e.x=t.x0,e.y=t.y0,e.width=t.x1-t.x0,e.height=t.y1-t.y0}),this.groupSelection.selectByTag(Bl.Name).each(function(t,r,o){var i,a=!r.children,s=r.x1-r.x0-2*u,f=r.y1-r.y0-2*u,g=r.hasTitle,m=r===n;t.fontWeight=(i=a?s>40&&f>40?d.large:s>20&&f>20?d.medium:d.small:r.depth>1?p:c).fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.textBaseline=a?"bottom":g?"top":"middle",t.textAlign=g?"left":"center",t.text=r.label;var y=t.computeBBox(),v=a&&!!y&&y.width<=s&&2*y.height+8<=f;l.set(o,t),t.fill=m?"black":i.color,t.fillShadow=v&&!m?h:void 0,t.visible=g||v,g?(t.x=r.x0+u,t.y=r.y0+u):(t.x=e.getLabelCenterX(r),t.y=e.getLabelCenterY(r))}),this.groupSelection.selectByTag(Bl.Value).each(function(t,r,o){var i=!r.children,a=r.x1-r.x0-2*u,c=r===n,p=r.colorValue,f=d.color;t.fontSize=f.fontSize,t.fontFamily=f.fontFamily,t.fontStyle=f.fontStyle,t.fontWeight=f.fontWeight,t.textBaseline="top",t.textAlign="center",t.text="number"==typeof p&&isFinite(p)?String(ti(r.colorValue))+"%":"";var g=t.computeBBox(),m=l.get(o),y=i&&!!s&&!!m&&m.visible&&!!g&&g.width<a;t.fill=c?"black":f.color,t.fillShadow=c?void 0:h,t.visible=y,y?(t.x=e.getLabelCenterX(r),t.y=e.getLabelCenterY(r)):!m||r.children&&r.children.length||(m.textBaseline="middle",m.y=e.getLabelCenterY(r))})}},t.prototype.getDomain=function(e){return[0,1]},t.prototype.getTooltipHtml=function(e){var t=this,n=t.sizeKey,r=t.labelKey,o=t.colorKey,i=t.colorName,a=e.data,s=t.tooltip.renderer,l=e.depth?a[r]:t.rootName||a[r],u=void 0,c=e.fill||"gray";if(o&&i){var p=a[o];"number"==typeof p&&isFinite(p)&&(u="<b>"+i+"</b>: "+ti(a[o]))}var d={title:l,backgroundColor:c,content:u};return s?is(s({datum:e,sizeKey:n,labelKey:r,colorKey:o,title:l,color:c}),d):is(d)},t.prototype.listSeriesItems=function(e){},t.className="TreemapSeries",t.type="treemap",zl([Yr("dataChange")],t.prototype,"labelKey",void 0),zl([Yr("dataChange")],t.prototype,"sizeKey",void 0),zl([Yr("dataChange")],t.prototype,"colorKey",void 0),zl([Yr("dataChange")],t.prototype,"colorDomain",void 0),zl([Yr("dataChange")],t.prototype,"colorRange",void 0),zl([Yr("dataChange")],t.prototype,"colorParents",void 0),zl([Yr("update")],t.prototype,"gradient",void 0),t}(El),ql=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.path=new Xo,t._dirtyPath=!0,t._centerX=0,t._centerY=0,t._centerOffset=0,t._innerRadius=10,t._outerRadius=20,t._startAngle=0,t._endAngle=2*Math.PI,t._angleOffset=0,t}return ql(t,e),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerOffset",{get:function(){return this._centerOffset},set:function(e){this._centerOffset!==e&&(this._centerOffset=Math.max(0,e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){this._innerRadius!==e&&(this._innerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerRadius",{get:function(){return this._outerRadius},set:function(e){this._outerRadius!==e&&(this._outerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angleOffset",{get:function(){return this._angleOffset},set:function(e){this._angleOffset!==e&&(this._angleOffset=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.outerRadius;return new Tr(this.centerX-e,this.centerY-e,2*e,2*e)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t);return this.path.isPointInPath(n.x,n.y)},t.prototype.isPointInStroke=function(e,t){return!1},Object.defineProperty(t.prototype,"fullPie",{get:function(){return ei(Qo(this.startAngle),Qo(this.endAngle))},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){if(this.dirtyPath){var e=this.path,t=this.angleOffset,n=Math.min(this.startAngle,this.endAngle)+t,r=Math.max(this.startAngle,this.endAngle)+t,o=.5*(n+r),i=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),s=this.centerOffset,l=this.fullPie,u=this.centerX,c=this.centerY;if(e.clear(),s&&(u+=s*Math.cos(o),c+=s*Math.sin(o)),l||(e.moveTo(u+i*Math.cos(n),c+i*Math.sin(n)),e.lineTo(u+a*Math.cos(n),c+a*Math.sin(n))),e.cubicArc(u,c,a,a,0,n,r,0),l)e.moveTo(u+i*Math.cos(r),c+i*Math.sin(r));else{var p=u+i*Math.cos(r);e.lineTo(Math.abs(p)<1e-8?0:p,c+i*Math.sin(r))}e.cubicArc(u,c,i,i,0,r,n,1),e.closePath(),this.dirtyPath=!1}},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.updatePath(),this.scene.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Sector",t}(Wr),Jl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ql=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Zl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jl(t,e),t}(ks);!function(e){e[e.Sector=0]="Sector",e[e.Callout=1]="Callout",e[e.Label=2]="Label"}(Kl||(Kl={}));var $l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.offset=3,t.minAngle=20,t}return Jl(t,e),Ql([Yr("change")],t.prototype,"offset",void 0),Ql([Yr("dataChange")],t.prototype,"minAngle",void 0),Ql([Yr("dataChange")],t.prototype,"formatter",void 0),t}(Ts),eu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.colors=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],t.length=10,t.strokeWidth=1,t}return Jl(t,e),Ql([Yr("change")],t.prototype,"colors",void 0),Ql([Yr("change")],t.prototype,"length",void 0),Ql([Yr("change")],t.prototype,"strokeWidth",void 0),t}(qr),tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jl(t,e),Ql([Yr("change")],t.prototype,"renderer",void 0),t}(Rs),nu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showInLegend=!1,t}return Jl(t,e),Ql([Yr()],t.prototype,"showInLegend",void 0),t}(Zr),ru=function(e){function t(){var t,n=e.call(this)||this;return n.radiusScale=new Do,n.groupSelection=Vo.select(n.pickGroup).selectAll(),n.groupSelectionData=[],n.angleScale=((t=new Do).domain=[0,1],t.range=[-Math.PI,Math.PI].map(function(e){return e+Math.PI/2}),t),n.seriesItemEnabled=[],n.label=new $l,n.callout=new eu,n.tooltip=new tu,n.angleKey="",n.angleName="",n._fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n._strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=void 0,n.lineDashOffset=0,n.rotation=0,n.outerRadiusOffset=0,n.innerRadiusOffset=0,n.strokeWidth=1,n.highlightStyle=new Zl,n.addEventListener("update",n.update,n),n.label.addEventListener("change",n.scheduleLayout,n),n.label.addEventListener("dataChange",n.scheduleData,n),n.callout.addEventListener("change",n.scheduleLayout,n),n.addPropertyListener("data",function(e){e.value&&(e.source.seriesItemEnabled=e.value.map(function(){return!0}))}),n}return Jl(t,e),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var t=this._title;function n(){this.fireEvent({type:"legendChange"})}t!==e&&(t&&(t.removeEventListener("change",this.update,this),t.addPropertyListener("showInLegend",n,this),this.group.removeChild(t.node)),e&&(e.node.textBaseline="bottom",e.addEventListener("change",this.update,this),e.addPropertyListener("showInLegend",n,this),this.group.appendChild(e.node)),this._title=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fills",{get:function(){return this._fills},set:function(e){this._fills=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokes",{get:function(){return this._strokes},set:function(e){this._strokes=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.setColors=function(e,t){this.fills=e,this.strokes=t,this.callout.colors=t},t.prototype.getDomain=function(e){return e===ai.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){var e,t=this,n=this,r=n.angleKey,o=n.radiusKey,i=n.seriesItemEnabled,a=n.angleScale,s=n.groupSelectionData,l=n.label,u=r&&this.data?this.data:[],c=u.map(function(e,t){return i[t]&&Math.abs(+e[r])||0}),p=c.reduce(function(e,t){return e+t},0),d=(e=0,c.map(function(t){return e+=t/p})),h=l.formatter,f=l.enabled&&this.labelKey,g=[],m=[];if(f&&(g=u.map(h?function(e){return h({value:e[f]})}:function(e){return String(e[f])})),o){var y=this.radiusMin,v=this.radiusMax,b=u.map(function(e){return Math.abs(e[o])}),C=void 0!==y?y:Math.min.apply(Math,b),w=(void 0!==v?v:Math.max.apply(Math,b))-C;m=b.map(function(e){return w?(e-C)/w:1})}s.length=0;var O=Zo(this.rotation),x=Math.PI/2,S=0;return d.reduce(function(e,n){var r,i,c,p=o?m[S]:1,d=a.convert(e)+O,h=a.convert(n)+O,y=(d+h)/2,v=Math.abs(h-d),b=Math.cos(y),C=Math.sin(y),w=Zo(l.minAngle),P=(r=y,(r%=Jo)<-Math.PI?r+=Jo:r>=Math.PI&&(r-=Jo),r),_=-3*Math.PI/4;return P>=_&&P<(_+=x)?(i="center",c="bottom"):P>=_&&P<(_+=x)?(i="left",c="middle"):P>=_&&P<(_+=x)?(i="center",c="hanging"):(i="right",c="middle"),s.push({series:t,seriesDatum:u[S],itemId:S,index:S,radius:p,startAngle:d,endAngle:h,midAngle:y,midCos:b,midSin:C,label:f&&v>w?{text:g[S],textAlign:i,textBaseline:c}:void 0}),S++,n},0),!0},t.prototype.undim=function(t){e.prototype.undim.call(this,t),this.highlightedItemId=t,this.updateNodes()},t.prototype.dim=function(){e.prototype.dim.call(this),this.highlightedItemId=void 0,this.updateNodes()},t.prototype.update=function(){var e=this.chart;if((this.group.visible=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0)&&e&&!e.dataPending&&!e.layoutPending){var t=this.radius,n=this.innerRadiusOffset,r=this.outerRadiusOffset,o=this.title;this.radiusScale.range=[n?t+n:0,t+(r||0)],this.group.translationX=this.centerX,this.group.translationY=this.centerY,o&&(o.node.translationY=-t-r-2,o.node.visible=o.enabled),this.updateGroupSelection(),this.updateNodes()}},t.prototype.updateGroupSelection=function(){var e=this.groupSelection.setData(this.groupSelectionData);e.exit.remove();var t=e.enter.append(jo);t.append(Yl).each(function(e){return e.tag=Kl.Sector}),t.append(Wo).each(function(e){e.tag=Kl.Callout,e.pointerEvents=ir.None}),t.append(Hr).each(function(e){e.tag=Kl.Label,e.pointerEvents=ir.None}),this.groupSelection=e.merge(t)},t.prototype.updateNodes=function(){var e=this;if(this.chart){var t=this,n=t.fills,r=t.strokes,o=t.fillOpacity,i=t.strokeOpacity,a=t.radiusScale,s=t.callout,l=t.shadow,u=t.highlightStyle,c=u.fill,p=u.stroke,d=u.centerOffset,h=u.strokeWidth,f=u.series.strokeWidth,g=t.angleKey,m=t.radiusKey,y=t.formatter,v=this.chart.highlightedDatum,b=[],C=a.convert(0);this.groupSelection.selectByTag(Kl.Sector).each(function(t,s,u){var w=a.convert(s.radius),O=s===v||s.itemId===e.highlightedItemId,x=s!==v&&s.itemId!==e.highlightedItemId||void 0===h?void 0!==e.highlightedItemId&&void 0!==f?f:e.strokeWidth:h,S=O&&void 0!==c?c:n[u%n.length],P=O&&void 0!==p?p:r[u%r.length],_=void 0;y&&(_=y({datum:s.seriesDatum,fill:S,stroke:P,strokeWidth:x,highlighted:O,angleKey:g,radiusKey:m}));var E=t.parent&&t.parent.parent;O&&E&&(E.removeChild(t.parent),E.appendChild(t.parent)),t.innerRadius=C,t.outerRadius=w,t.startAngle=s.startAngle,t.endAngle=s.endAngle,t.fill=_&&_.fill||S,t.stroke=_&&_.stroke||P,t.strokeWidth=_&&void 0!==_.strokeWidth?_.strokeWidth:x,t.fillOpacity=o,t.strokeOpacity=i,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.centerOffset=O&&void 0!==d?d:0,t.fillShadow=l,t.lineJoin="round",b.push(t.centerOffset)});var w=s.colors,O=s.length,x=s.strokeWidth;this.groupSelection.selectByTag(Kl.Callout).each(function(e,t,n){if(t.label){var r=a.convert(t.radius);e.strokeWidth=x,e.stroke=w[n%w.length],e.x1=t.midCos*r,e.y1=t.midSin*r,e.x2=t.midCos*(r+O),e.y2=t.midSin*(r+O)}else e.stroke=void 0});var S=this.label,P=S.offset,_=S.fontStyle,E=S.fontWeight,T=S.fontSize,A=S.fontFamily,M=S.color;this.groupSelection.selectByTag(Kl.Label).each(function(e,t,n){var r=t.label;if(r){var o=a.convert(t.radius),i=b[n]+o+O+P;e.fontStyle=_,e.fontWeight=E,e.fontSize=T,e.fontFamily=A,e.text=r.text,e.x=t.midCos*i,e.y=t.midSin*i,e.fill=M,e.textAlign=r.textAlign,e.textBaseline=r.textBaseline}else e.fill=void 0})}},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.seriesDatum,angleKey:this.angleKey,labelKey:this.labelKey,radiusKey:this.radiusKey})},t.prototype.getTooltipHtml=function(e){var t=this.angleKey;if(!t)return"";var n=this,r=n.fills,o=n.angleName,i=n.radiusKey,a=n.radiusName,s=n.labelKey,l=n.labelName,u=n.tooltip.renderer,c=r[e.index%r.length],p=e.seriesDatum,d=s?p[s]+": ":"",h=p[t],f="number"==typeof h?ti(h):h.toString(),g=this.title?this.title.text:void 0,m={title:g,backgroundColor:c,content:d+f};return u?is(u({datum:p,angleKey:t,angleValue:h,angleName:o,radiusKey:i,radiusValue:i?p[i]:void 0,radiusName:a,labelKey:s,labelName:l,title:g,color:c}),m):is(m)},t.prototype.listSeriesItems=function(e){var t=this,n=this.labelKey,r=this.data;if(r&&r.length&&n){var o=this.fills,i=this.strokes,a=this.id,s=this.title&&this.title.showInLegend&&this.title.text;r.forEach(function(r,l){var u=[];s&&u.push(s),u.push(String(r[n])),e.push({id:a,itemId:l,enabled:t.seriesItemEnabled[l],label:{text:u.join(" - ")},marker:{fill:o[l%o.length],stroke:i[l%i.length],fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}})})}},t.prototype.toggleSeriesItem=function(e,t){this.seriesItemEnabled[e]=t,this.scheduleData()},t.className="PieSeries",t.type="pie",Ql([Yr("dataChange")],t.prototype,"angleKey",void 0),Ql([Yr("update")],t.prototype,"angleName",void 0),Ql([Yr("dataChange")],t.prototype,"radiusKey",void 0),Ql([Yr("update")],t.prototype,"radiusName",void 0),Ql([Yr("dataChange")],t.prototype,"radiusMin",void 0),Ql([Yr("dataChange")],t.prototype,"radiusMax",void 0),Ql([Yr("dataChange")],t.prototype,"labelKey",void 0),Ql([Yr("update")],t.prototype,"labelName",void 0),Ql([Yr("layoutChange")],t.prototype,"fillOpacity",void 0),Ql([Yr("layoutChange")],t.prototype,"strokeOpacity",void 0),Ql([Yr("update")],t.prototype,"lineDash",void 0),Ql([Yr("update")],t.prototype,"lineDashOffset",void 0),Ql([Yr("update")],t.prototype,"formatter",void 0),Ql([Yr("dataChange")],t.prototype,"rotation",void 0),Ql([Yr("layoutChange")],t.prototype,"outerRadiusOffset",void 0),Ql([Yr("dataChange")],t.prototype,"innerRadiusOffset",void 0),Ql([Yr("layoutChange")],t.prototype,"strokeWidth",void 0),Ql([Yr("layoutChange")],t.prototype,"shadow",void 0),t}(Gs);new Mi(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(e.getTime()+t*Ri)},function(e,t){return(t.getTime()-e.getTime())/Ri},function(e){return e.getUTCMinutes()}),new Mi(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(e.getTime()+t*Ii)},function(e,t){return(t.getTime()-e.getTime())/Ii},function(e){return e.getUTCHours()}),new Mi(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});var ou=function(){return(ou=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},iu={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},au=function(){function e(t){var n=this.createChartConfigPerSeries(this.getDefaults());if(Vr(t)){var r={arrayMerge:su},o=(t=Gr({},t,r)).overrides;o&&(Vr(o.common)&&e.seriesTypes.concat(["cartesian","polar","hierarchy"]).forEach(function(e){n[e]=Gr(n[e],o.common,r)}),o.cartesian&&(n.cartesian=Gr(n.cartesian,o.cartesian,r),e.cartesianSeriesTypes.forEach(function(e){n[e]=Gr(n[e],o.cartesian,r)})),o.polar&&(n.polar=Gr(n.polar,o.polar,r),e.polarSeriesTypes.forEach(function(e){n[e]=Gr(n[e],o.polar,r)})),o.hierarchy&&(n.hierarchy=Gr(n.hierarchy,o.hierarchy,r),e.hierarchySeriesTypes.forEach(function(e){n[e]=Gr(n[e],o.hierarchy,r)})),e.seriesTypes.forEach(function(e){var t,i=o[e];i&&(i.series&&(i.series=((t={})[e]=i.series,t)),n[e]=Gr(n[e],i,r))}))}this.palette=t&&t.palette?t.palette:this.getPalette(),this.config=Object.freeze(n)}return e.prototype.getPalette=function(){return iu},e.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)",count:10},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},e.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0,format:void 0},visible:!0,showInLegend:!0,cursor:"default",highlightStyle:{fill:"yellow",series:{enabled:!1,dimOpacity:.3}}}},e.getBarSeriesDefaults=function(){return ou(ou({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,tooltipRenderer:void 0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},e.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},e.getChartDefaults=function(){return{width:600,height:300,autoSize:!0,background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:"right",spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}}},tooltip:{enabled:!0,tracking:!0,delay:0,class:ls.defaultTooltipClass}}},e.prototype.createChartConfigPerSeries=function(t){var n={cartesian:e.cartesianSeriesTypes,polar:e.polarSeriesTypes},r=function(e){n[e].forEach(function(n){t[n]||(t[n]=Gr({},t[e],{arrayMerge:su}))})};for(var o in n)r(o);return t},e.prototype.getConfig=function(e,t){var n=Rr(this.config,e,t);return Array.isArray(n)?Gr([],n,{arrayMerge:su}):Vr(n)?Gr({},n,{arrayMerge:su}):n},e.prototype.getDefaults=function(){return Gr({},e.defaults,{arrayMerge:su})},e.prototype.mergeWithParentDefaults=function(t){var n={arrayMerge:su},r=Object.getPrototypeOf(Object.getPrototypeOf(this));if(r===Object.prototype){var o=Gr({},e.defaults,n);return Gr(o,t,n)}return Gr(r.getDefaults(),t,n)},e.prototype.setSeriesColors=function(e,t,n){var r=this.palette,o=this.getSeriesColorCount(t);if(o===1/0)e.setColors(r.fills,r.strokes);else{var i=Fo(r.fills,n,o),a=Fo(r.strokes,n,o);e.setColors(i,a),n+=o}return n},e.prototype.getSeriesColorCount=function(e){switch(e.type){case"bar":case"column":case"area":return e.yKeys?e.yKeys.length:0;case"pie":return 1/0;default:return 1}},e.fontFamily="Verdana, sans-serif",e.cartesianDefaults=ou(ou({},e.getChartDefaults()),{axes:{number:ou({},e.getAxisDefaults()),log:ou(ou({},e.getAxisDefaults()),{base:10}),category:ou({},e.getAxisDefaults()),groupedCategory:ou({},e.getAxisDefaults()),time:ou({},e.getAxisDefaults())},series:{column:ou(ou({},e.getBarSeriesDefaults()),{flipXY:!1}),bar:ou(ou({},e.getBarSeriesDefaults()),{flipXY:!0}),line:ou(ou({},e.getSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,tooltipRenderer:void 0,marker:ou({},e.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:ou(ou({},e.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,tooltipRenderer:void 0,marker:ou({},e.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)"}}),area:ou(ou({},e.getSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:void 0,lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},tooltipRenderer:void 0,marker:ou(ou({},e.getCartesianSeriesMarkerDefaults()),{enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:ou(ou({},e.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,areaPlot:!1,binCount:10,bins:void 0,aggregation:"sum",tooltipRenderer:void 0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}})},navigator:{enabled:!1,height:30,min:0,max:1,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),e.defaults={cartesian:e.cartesianDefaults,groupedCategory:e.cartesianDefaults,polar:ou(ou({},e.getChartDefaults()),{series:{pie:ou(ou({},e.getSeriesDefaults()),{title:{enabled:!0,showInLegend:!1,padding:new Er(0),text:"",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:void 0,lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}}),hierarchy:ou(ou({},e.getChartDefaults()),{series:{treemap:ou(ou({},e.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}})}})},e.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],e.polarSeriesTypes=["pie"],e.hierarchySeriesTypes=["treemap"],e.seriesTypes=e.cartesianSeriesTypes.concat(e.polarSeriesTypes),e}();function su(e,t,n){return t}var lu,uu,cu,pu,du,hu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fu=function(){return(fu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},gu=function(e){function t(t){return e.call(this,t)||this}return hu(t,e),t.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",t={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},n={label:{color:e}},r={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:"rgb(150, 150, 150)"},axes:{number:fu({},t),category:fu({},t),time:fu({},t)},legend:{item:{label:{color:e}}}};return this.mergeWithParentDefaults({cartesian:fu(fu({},r),{series:{bar:fu({},n),column:fu({},n),histogram:fu({},n)}}),polar:fu(fu({},r),{series:{pie:fu(fu({},n),{title:{color:e}})}})})},t}(au),mu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yu={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},vu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mu(t,e),t.prototype.getPalette=function(){return yu},t}(au),bu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cu={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},wu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bu(t,e),t.prototype.getPalette=function(){return Cu},t}(gu),Ou=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xu={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},Su=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ou(t,e),t.prototype.getPalette=function(){return xu},t}(au),Pu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_u={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},Eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pu(t,e),t.prototype.getPalette=function(){return _u},t}(gu),Tu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Au={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Mu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tu(t,e),t.prototype.getPalette=function(){return Au},t}(au),Du=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ku={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Ru=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Du(t,e),t.prototype.getPalette=function(){return ku},t}(gu),Iu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nu={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Fu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Iu(t,e),t.prototype.getPalette=function(){return Nu},t}(au),Lu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ju={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Gu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lu(t,e),t.prototype.getPalette=function(){return ju},t}(gu),Vu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t._domain=[1,10],t.baseLog=oo,t.basePow=oo,t._base=10,t}return Vu(t,e),t.prototype.setDomain=function(t){var n=t[0],r=t[t.length-1];(0===n||0===r||n<0&&r>0||n>0&&r<0)&&(console.warn("Log scale domain should not start at, end at or cross zero."),0===n&&r>0?n=Number.EPSILON:0===r&&n<0?r=-Number.EPSILON:n<0&&r>0?Math.abs(r)>=Math.abs(n)?n=Number.EPSILON:r=-Number.EPSILON:n>0&&r<0&&(Math.abs(r)>=Math.abs(n)?n=-Number.EPSILON:r=Number.EPSILON),(t=t.slice())[0]=n,t[t.length-1]=r),e.prototype.setDomain.call(this,t)},t.prototype.getDomain=function(){return e.prototype.getDomain.call(this)},Object.defineProperty(t.prototype,"base",{get:function(){return this._base},set:function(e){this._base!==e&&(this._base=e,this.rescale())},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){var n=this.base,r=t.makeLogFn(n),o=t.makePowFn(n);this.domain[0]<0?(r=this.reflect(r),o=this.reflect(o),this.transform=function(e){return-Math.log(-e)},this.untransform=function(e){return-Math.exp(-e)}):(this.transform=function(e){return Math.log(e)},this.untransform=function(e){return Math.exp(e)}),this.baseLog=r,this.basePow=o,e.prototype.rescale.call(this)},t.prototype.reflect=function(e){return function(t){return-e(-t)}},t.prototype.nice=function(){var e,t,n=this.domain,r=0,o=n.length-1,i=n[r],a=n[o];a<i&&(r=(e=[o,r])[0],o=e[1],i=(t=[a,i])[0],a=t[1]),n[r]=this.basePow(Math.floor(this.baseLog(i))),n[o]=this.basePow(Math.ceil(this.baseLog(a))),this.domain=n},t.pow10=function(e){return isFinite(e)?+("1e"+e):e<0?0:e},t.makePowFn=function(e){return 10===e?t.pow10:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}},t.makeLogFn=function(e){if(e===Math.E)return Math.log;if(10===e)return Math.log10;if(2===e)return Math.log2;var t=Math.log(e);return function(e){return Math.log(e)/t}},t.prototype.ticks=function(e){var t;void 0===e&&(e=10);var n=null==e?10:+e,r=this.base,o=this.domain,i=o[0],a=o[o.length-1],s=a<i;s&&(i=(t=[a,i])[0],a=t[1]);var l=this.baseLog(i),u=this.baseLog(a),c=[];if(!(r%1)&&u-l<n){if(l=Math.round(l)-1,u=Math.round(u)+1,i>0){for(;l<u;++l)for(var p=1,d=this.basePow(l);p<r;++p)if(!((h=d*p)<i)){if(h>a)break;c.push(h)}}else for(;l<u;++l)for(p=r-1,d=this.basePow(l);p>=1;--p){var h;if(!((h=d*p)<i)){if(h>a)break;c.push(h)}}2*c.length<n&&(c=lo(i,a,n))}else c=lo(l,u,Math.min(u-l,n)).map(this.basePow);return s?c.reverse():c},t.prototype.tickFormat=function(e,t){var n=this,r=this.base;if(null==t&&(t=10===r?".0e":","),"function"!=typeof t&&(t=yo(t)),e===1/0)return t;null==e&&(e=10);var o=Math.max(1,r*e/this.ticks().length);return function(e){var i=e/n.basePow(Math.round(n.baseLog(e)));return i*r<r-.5&&(i*=r),i<=o?t(e):""}},t}(ao),Wu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zu=function(e){function t(){var t=e.call(this)||this;return t.scale=new Bu,t}return Wu(t,e),Object.defineProperty(t.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!0,configurable:!0}),t.className="LogAxis",t.type="log",t}(gi),Uu=function(){return(Uu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Hu={background:{meta:{defaults:{visible:!0,fill:"white"}}},padding:{meta:{constructor:Er,defaults:{top:20,right:20,bottom:20,left:20}}},tooltip:{meta:{defaults:{enabled:!0,tracking:!0,delay:0,class:ls.defaultTooltipClass}}},title:{meta:{constructor:Zr,defaults:{enabled:!1,padding:{meta:{constructor:Er,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"}}},subtitle:{meta:{constructor:Zr,defaults:{enabled:!1,padding:{meta:{constructor:Er,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(140, 140, 140)"}}},legend:{meta:{constructor:Za,defaults:{enabled:!0,position:Ka.Right,spacing:20}},item:{meta:{constructor:Qa,defaults:{paddingX:16,paddingY:8}},marker:{meta:{constructor:Ja,defaults:{shape:void 0,size:15,strokeWidth:1,padding:8}}},label:{meta:{constructor:Ya,defaults:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",formatter:void 0}}}}}},Ku={container:void 0,autoSize:!0,width:600,height:300,data:[],title:void 0,subtitle:void 0,padding:{},background:{},legend:{item:{marker:{},label:{}}},navigator:{mask:{},minHandle:{},maxHandle:{}},listeners:void 0},Xu={constructorParams:["document"],setAsIs:["container","data","tooltipOffset"],nonSerializable:["container","data"]},qu={defaults:{visibleRange:[0,1],thickness:0,label:{},tick:{},title:{},line:{},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},Yu={visible:!0,showInLegend:!0,cursor:"default",listeners:void 0},Ju={highlightStyle:{fill:"yellow",series:{enabled:!1,dimOpacity:.3}}},Qu=Uu({fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:{},grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,shadow:void 0},Ju),Zu={shadow:{meta:{constructor:Ml,defaults:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}}}},$u={enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"},ec={label:{meta:{defaults:Uu(Uu({},$u),{formatter:void 0,placement:"inside"})}}},tc={tooltip:{meta:{defaults:{enabled:!0,renderer:void 0,format:void 0}}}},nc={line:{meta:{defaults:{width:1,color:"rgb(195, 195, 195)"}}},title:{meta:{constructor:Zr,defaults:{padding:{meta:{constructor:Er,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"}}},label:{meta:{constructor:ui,defaults:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0}}},tick:{meta:{constructor:li,setAsIs:["count"],defaults:{width:1,size:6,color:"rgb(195, 195, 195)",count:10}}}},rc=((lu={})[ws.type]=Uu(Uu({meta:Uu(Uu({constructor:ws},Xu),{defaults:Uu(Uu({},Ku),{axes:[{type:gi.type,position:"left"},{type:vi.type,position:"bottom"}]})})},Hu),{axes:(uu={},uu[gi.type]=Uu({meta:Uu({constructor:gi,setAsIs:["gridStyle","visibleRange"]},qu)},nc),uu[zu.type]=Uu({meta:Uu(Uu({constructor:zu,setAsIs:["gridStyle","visibleRange"]},qu),{base:10})},nc),uu[vi.type]=Uu({meta:Uu({constructor:vi,setAsIs:["gridStyle","visibleRange"]},qu)},nc),uu[_i.type]=Uu({meta:Uu({constructor:_i,setAsIs:["gridStyle","visibleRange"]},qu)},nc),uu[Ca.type]=Uu({meta:Uu({constructor:Ca,setAsIs:["gridStyle","visibleRange"]},qu)},nc),uu),series:(cu={column:Uu(Uu(Uu({meta:{constructor:ll,setAsIs:["lineDash","yNames"],defaults:Uu(Uu({flipXY:!1},Yu),Qu)},highlightStyle:{}},tc),ec),Zu)},cu[ll.type]=Uu(Uu(Uu({meta:{constructor:ll,setAsIs:["lineDash","yNames"],defaults:Uu(Uu({flipXY:!0},Yu),Qu)},highlightStyle:{}},tc),ec),Zu),cu[hl.type]=Uu(Uu({meta:{constructor:hl,setAsIs:["lineDash"],defaults:Uu(Uu(Uu({},Yu),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:void 0,lineDashOffset:0}),Ju)}},tc),{highlightStyle:{},label:{meta:{defaults:Uu(Uu({},$u),{formatter:void 0})}},marker:{meta:{constructor:Us,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}}}),cu[vl.type]=Uu(Uu({meta:{constructor:vl,defaults:Uu(Uu(Uu({},Yu),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1}),Ju)}},tc),{highlightStyle:{},marker:{meta:{constructor:Us,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}},label:{meta:{defaults:Uu({},$u)}}}),cu[nl.type]=Uu(Uu(Uu({meta:{constructor:nl,setAsIs:["lineDash"],defaults:Uu(Uu(Uu({},Yu),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:1,strokeOpacity:1,strokeWidth:2,lineDash:void 0,lineDashOffset:0,shadow:void 0}),Ju)}},tc),{highlightStyle:{},label:{meta:{defaults:Uu(Uu({},$u),{formatter:void 0})}},marker:{meta:{constructor:Us,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}}}),Zu),cu[Pl.type]=Uu(Uu(Uu({meta:{constructor:Pl,setAsIs:["lineDash"],defaults:Uu(Uu(Uu({},Yu),{title:void 0,xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,areaPlot:!1,binCount:void 0,bins:void 0,aggregation:"sum"}),Ju)}},tc),{highlightStyle:{},label:{meta:{defaults:Uu(Uu({},$u),{formatter:void 0})}}}),Zu),cu),navigator:{meta:{constructor:bs,defaults:{enabled:!1,height:30,min:0,max:1}},mask:{meta:{constructor:ys,defaults:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2}}},minHandle:{meta:{constructor:vs,defaults:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}},maxHandle:{meta:{constructor:vs,defaults:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}}}),lu[Bs.type]=Uu(Uu({meta:Uu(Uu({constructor:Bs},Xu),{defaults:Uu(Uu({},Ku),{padding:{meta:{constructor:Er,defaults:{top:40,right:40,bottom:40,left:40}}}})})},Hu),{series:(pu={},pu[ru.type]=Uu(Uu(Uu({meta:{constructor:ru,setAsIs:["lineDash"],defaults:Uu(Uu(Uu({},Yu),{title:void 0,angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,callout:{},fillOpacity:1,strokeOpacity:1,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,shadow:void 0}),Ju)}},tc),{highlightStyle:{},title:{meta:{constructor:nu,defaults:{enabled:!0,showInLegend:!1,padding:{meta:{constructor:Er,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Series Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"black"}}},label:{meta:{defaults:Uu(Uu({},$u),{offset:3,minAngle:20})}},callout:{meta:{defaults:{length:10,strokeWidth:1}}}}),Zu),pu)}),lu[xs.type]=Uu(Uu({meta:Uu(Uu({constructor:xs},Xu),{defaults:Uu({},Ku)})},Hu),{series:(du={},du[Xl.type]=Uu(Uu({meta:{constructor:Xl,defaults:Uu(Uu({},Yu),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{},subtitle:{},labels:{large:{},medium:{},small:{},color:{}}})}},tc),{title:{meta:{defaults:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15}}},subtitle:{meta:{defaults:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13}}},labels:{meta:{defaults:{large:{},medium:{},small:{},color:{}}},large:{meta:{constructor:Ts,defaults:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"}}},medium:{meta:{constructor:Ts,defaults:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"}}},small:{meta:{constructor:Ts,defaults:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"}}},color:{meta:{constructor:Ts,defaults:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}}}),du)}),lu),oc={cartesian:["line","area","bar","column"],polar:["pie"],hierarchy:["treemap"]},ic=function(e){oc[e].forEach(function(t){rc[t]=rc[e]})};for(var ac in oc)ic(ac);rc.scatter=rc.histogram=Uu(Uu({},rc.cartesian),{meta:Uu(Uu({},rc.cartesian.meta),{defaults:Uu(Uu({},Ku),{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]})})});var sc=Object.create(rc[ws.type]),lc=Object.create(sc.meta);lc.constructor=Ps,sc.meta=lc,rc[Ps.type]=sc;var uc=rc,cc=function(){return(cc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},pc=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},dc=new au,hc=new gu,fc={undefined:dc,null:dc,"ag-default":dc,"ag-material":new vu,"ag-pastel":new Su,"ag-solar":new Mu,"ag-vivid":new Fu},gc={undefined:hc,null:hc,"ag-default-dark":hc,"ag-material-dark":new wu,"ag-pastel-dark":new Eu,"ag-solar-dark":new Ru,"ag-vivid-dark":new Gu},mc=cc(cc({},gc),fc);function yc(e){return e instanceof au?e:mc[e]||((e=e).baseTheme||e.overrides||e.palette?new(yc(e.baseTheme).constructor)(e):dc)}var vc,bc=0,Cc=function(){function e(){}return e.create=function(e,t,n){e=Object.create(e),t&&(e.container=t),n&&(e.data=n);var r=e&&!1!==e.autoSize,o=yc(e.theme);bc=0;var i=xc(e,void 0,void 0,o);return i&&r&&(i.autoSize=!0),i},e.update=function(e,t,n,r){if(e&&t){t=Object.create(t),n&&(t.container=n),r&&(t.data=r);var o=t&&!1!==t.autoSize,i=yc(t.theme);bc=0,Sc(e,t,void 0,i),o&&(e.autoSize=!0)}},e.save=function(e){var t={};return function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=uc),e.constructor&&e.constructor.type&&!n.meta&&(n=n[e.constructor.type]),Object.keys(n&&n.meta&&n.meta.defaults).forEach(function(r){var o=e[r];Vr(o)&&(!n.meta.nonSerializable||n.meta.nonSerializable.indexOf(r)<0)?t[r]={}:Array.isArray(o)||(t[r]=e[r])})}(e,t),t},e.createComponent=xc,e}(),wc={"cartesian.series":"line","line.series":"line","area.series":"area","bar.series":"bar","column.series":"column","histogram.series":"histogram","scatter.series":"scatter","polar.series":"pie","pie.series":"pie"},Oc=(vc={},["area","bar","histogram","line","pie","scatter"].forEach(function(e){return vc[e]=e}),vc.column="bar",vc);function xc(e,t,n,r){var o;if(e=Object.create(e),n instanceof Ja?e.type&&(e.shape=e.type):(e=Ec(e,t),t?e.type&&(t=t+"."+e.type):t=e.type),t){var i=Rr(uc,t);if(i){e=Mc(t,e,i,r);var a=i.meta||{},s=a.constructorParams||[],l=["type","listeners"].concat(s),u=s.map(function(t){return e[t]}).filter(function(e){return void 0!==e});n||(n=new((o=a.constructor).bind.apply(o,pc([void 0],u))),r&&n instanceof Is&&(bc=r.setSeriesColors(n,e,bc)));var c=function(o){if(l.indexOf(o)<0){var s=e[o];if(s&&o in i&&!(a.setAsIs&&a.setAsIs.indexOf(o)>=0))if(Array.isArray(s)){var u=s.map(function(e){var n=xc(e,t+"."+o,void 0,r);if(r&&"axes"===o){var i={getConfig:function(e){var t=e.split("."),o=t.slice(0,3).join(".")+"."+n.position,i=t.slice(3);i.length&&(o+="."+i.join("."));var a=r.getConfig(e),s=r.getConfig(o);return Vr(r.getConfig(o)),Vr(a)&&Vr(s)?Gr(a,s):s}};Sc(n,e,t+"."+o,i)}return n}).filter(function(e){return!!e});n[o]=u}else if(i[o]&&n[o])xc(s,t+"."+o,n[o],r);else{var c=xc(s,s.type?t:t+"."+o,void 0,r);c&&(n[o]=c)}else n[o]=s}};for(var p in e)c(p);var d=e.listeners;if(n&&n.addEventListener&&d)for(var p in d)if(d.hasOwnProperty(p)){var h=d[p];"function"==typeof h&&n.addEventListener(p,h)}return n}}}function Sc(e,t,n,r){if(t&&Vr(t)&&(e instanceof Ja?t.type&&(t.shape=t.type):(t=Ec(t,n),n?t.type&&(n=n+"."+t.type):n=t.type),n)){var o=n in uc?e:void 0,i=Rr(uc,n);if(i){t=Mc(n,t,i,r);var a=i.meta||{},s=["type"].concat(a&&a.constructorParams||[]);for(var l in t)if(s.indexOf(l)<0){var u=t[l],c=n+"."+l;if(a.setAsIs&&a.setAsIs.indexOf(l)>=0)e[l]=u;else{var p=e[l];if(Array.isArray(p)&&Array.isArray(u))o?"series"===l?Pc(e,u,c,r):"axes"===l&&_c(e,u,c,r):e[l]=u;else if(Vr(p))u?Sc(p,u,u.type?n:c,r):l in t&&(e[l]=u);else{var d=Vr(u)&&xc(u,u.type?n:c,void 0,r);if(d)e[l]=d;else{if(o&&t.autoSize&&("width"===l||"height"===l))continue;e[l]=u}}}}}o&&(o.layoutPending=!0)}}function Pc(e,t,n,r){for(var o,i=e.series.slice(),a=0;a<t.length;a++){var s=t[a];if(u=i[a])if(s=Ec(s,n),u.type===Oc[s.type])r&&(bc=r.setSeriesColors(u,s,bc)),Sc(u,s,n,r);else{var l=xc(s,n,void 0,r);e.removeSeries(u),e.addSeriesAfter(l,o),u=l}else l=xc(s,n,void 0,r),e.addSeries(l);o=u}for(;a<i.length;a++){var u;(u=i[a])&&e.removeSeries(u)}}function _c(e,t,n,r){for(var o=e.axes,i=[],a=[],s=function(e){var t=ko(o,function(t){return t.type===e.type&&t.position===e.position});if(t)a.push(t),Sc(t,e,n,r);else{var s=xc(e,n,void 0,r);s&&i.push(s)}},l=0,u=t;l<u.length;l++)s(u[l]);e.axes=a.concat(i)}function Ec(e,t){if(t||(t="",e=function(e){if(e.type)return e;var t=e.series&&e.series[0];if(t&&t.type)e:for(var n in uc)for(var r in uc[n].series)if(t.type===r){(e=Object.create(e)).type=n;break e}return e.type||((e=Object.create(e)).type="cartesian"),e}(e)),!e.type){var n=wc[t];n&&((e=Object.create(e)).type=n)}return e}function Tc(e){return["axes","series"].indexOf(e)>=0}var Ac="enabled";function Mc(e,t,n,r){var o=e.indexOf(".")<0,i=r&&r.getConfig(e),a=n&&n.meta&&n.meta.defaults,s=!1===t.enabled;for(var l in(a||i)&&(t=Object.create(t)),i)o&&Tc(l)||l in t||(t[l]=i[l]);for(var l in a)i&&l in i&&!Tc(l)||l in t||(t[l]=a[l]);return(i&&Ac in i||a&&Ac in a)&&!s&&(t[Ac]=!0),t}var Dc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kc=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Rc=function(e){function t(t){var n=e.call(this)||this;return n.model=t,n}return Dc(t,e),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,a.C.EVENT_RANGE_SELECTION_CHANGED,function(t){t.id&&t.id===e.model.getChartId()&&e.updateForRangeChange()}),this.model.isUnlinked()&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.updateForGridChange=function(){this.model.isUnlinked()||(this.model.updateCellRanges(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.isUnlinked()||(this.model.updateData(),this.raiseChartUpdatedEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartModel=function(){return{modelType:this.model.isPivotChart()?"pivot":"range",chartId:this.model.getChartId(),chartType:this.model.getChartType(),chartThemeName:this.getThemeName(),chartOptions:this.chartProxy.getChartOptions(),cellRange:this.model.getCellRangeParams(),suppressChartRanges:this.model.isSuppressChartRanges(),aggFunc:this.model.getAggFunc(),unlinkChart:this.model.isUnlinked()}},t.prototype.getChartType=function(){return this.model.getChartType()},t.prototype.isPivotChart=function(){return this.model.isPivotChart()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.getThemeName=function(){return this.model.getChartThemeName()},t.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},t.prototype.getPalettes=function(){var e=this,t=this.chartProxy.getCustomPalette();return t?[t]:this.gridOptionsWrapper.getChartThemes().map(function(t){return yc(e.chartProxy.isStockTheme(t)?t:e.chartProxy.lookupCustomChartTheme(t)).palette})},t.prototype.setChartType=function(e){this.model.setChartType(e),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e){this.model.setChartThemeName(e),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.getDimensionColState(),valueCols:this.model.getValueColState()}},t.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===_r.DEFAULT_CATEGORY},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),!this.rangeService||this.model.isSuppressChartRanges()||this.model.isUnlinked()||this.rangeService.setCellRanges(this.model.getCellRanges()),e||this.raiseChartUpdatedEvent()},t.prototype.detachChartRange=function(){this.model.toggleUnlinked(),this.model.isUnlinked()?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return a.mb.includes([a.q.Scatter,a.q.Bubble],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.isUnlinked()},t.prototype.raiseChartUpdatedEvent=function(){var e=Object.freeze({type:t.EVENT_CHART_UPDATED});this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){this.chartProxy.raiseChartOptionsChangedEvent()},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e=Object.freeze({type:a.C.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.getChartId(),chartId:this.model.getChartId(),cellRange:this.model.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",kc([Object(a.k)("rangeService")],t.prototype,"rangeService",void 0),kc([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),kc([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),kc([a.S],t.prototype,"init",null),t}(a.n),Ic=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nc=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Fc=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},Lc=function(e){function t(n){var r=e.call(this,t.TEMPLATE)||this;return r.columnComps=new Map,r.chartController=n,r}return Ic(t,e),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,Rc.EVENT_CHART_UPDATED,this.updatePanels.bind(this))},t.prototype.destroy=function(){this.clearComponents(),e.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,t=this.chartType,n=this.chartController.getColStateForMenu(),r=n.dimensionCols,o=n.valueCols,i=r.map(function(e){return e.colId}).concat(o.map(function(e){return e.colId}));if(this.chartType=this.chartController.getChartType(),a.mb.areEqual(a.mb.keys(this.columnComps),i)&&this.chartType===t){if(Fc(r,o).forEach(function(t){e.columnComps.get(t.colId).setValue(t.selected,!0)}),this.chartController.isActiveXYChart()){var s=this.generateGetSeriesLabel();o.forEach(function(t){e.columnComps.get(t.colId).setLabel(s(t))})}}else this.clearComponents(),this.createCategoriesGroupComponent(r),this.createSeriesGroupComponent(o)},t.prototype.addComponent=function(e,t){var n=document.createElement("div");n.className="ag-chart-data-section",n.appendChild(t.getGui()),e.appendChild(n)},t.prototype.addChangeListener=function(e,t){var n=this;this.addManagedListener(e,a.a.EVENT_CHANGED,function(){t.selected=e.getValue(),n.chartController.updateForPanelChange(t)})},t.prototype.createCategoriesGroupComponent=function(e){var t=this;this.categoriesGroupComp=this.createBean(new a.e({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var n="chartDimension"+this.getCompId();e.forEach(function(e){var r=t.categoriesGroupComp.createManagedBean(new a.h);r.setLabel(a.mb.escapeString(e.displayName)),r.setValue(e.selected),r.setInputName(n),t.addChangeListener(r,e),t.categoriesGroupComp.addItem(r),t.columnComps.set(e.colId,r)}),this.addComponent(this.getGui(),this.categoriesGroupComp)},t.prototype.createSeriesGroupComponent=function(e){var t=this;if(this.seriesGroupComp=this.createManagedBean(new a.e({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var n=this.seriesGroupComp.createManagedBean(new a.j),r=this.chartController.getChartProxy();n.setLabel(this.chartTranslator.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(r.getSeriesOption("paired")||!1).onValueChange(function(e){r.setSeriesOption("paired",e),t.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(n)}var o=this.generateGetSeriesLabel();e.forEach(function(e){var n=t.seriesGroupComp.createManagedBean(new a.c);n.addCssClass("ag-data-select-checkbox");var r=o(e);n.setLabel(r),n.setValue(e.selected),t.addChangeListener(n,e),t.seriesGroupComp.addItem(n),t.columnComps.set(e.colId,n),t.addDragHandle(n,e)}),this.addComponent(this.getGui(),this.seriesGroupComp);var i={getContainer:this.getGui.bind(this),onDragging:this.onDragging.bind(this),isInterestedIn:this.isInterestedIn.bind(this)};this.dragAndDropService.addDropTarget(i)},t.prototype.addDragHandle=function(e,t){var n=this,r=a.mb.createIconNoSpan("columnDrag",this.gridOptionsWrapper);a.mb.addCssClass(r,"ag-drag-handle"),a.mb.addCssClass(r,"ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",r);var o={type:a.A.ChartPanel,eElement:r,dragItemName:t.displayName,defaultIconName:a.z.ICON_MOVE,getDragItem:function(){return{columns:[t.column]}},onDragStopped:function(){n.insertIndex=void 0}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return n.dragAndDropService.removeDragSource(o)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(e){return a.mb.escapeString(e.displayName)};var e=this.chartType===a.q.Bubble,t=this.isInPairedMode(),n=0,r=new Map;return r.set(0,"X"),r.set(1,"Y"),r.set(2,"size"),function(o){var i,s=a.mb.escapeString(o.displayName);return o.selected?(i=t?r.get(n%(e?3:2)):0===n?"X":e&&n%2==0?"size":"Y",n++,s+" ("+i+")"):s}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslator.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslator.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartController.getChartProxy().getSeriesOption("paired")},t.prototype.clearComponents=function(){a.mb.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var t=this;if(this.checkInsertIndex(e)){var n=e.dragItem.columns[0],r=this.chartController.getColStateForMenu();Fc(r.dimensionCols,r.valueCols).filter(function(e){return e.column===n}).forEach(function(e){e.order=t.insertIndex,t.chartController.updateForPanelChange(e)})}},t.prototype.checkInsertIndex=function(e){if(a.mb.missing(e.vDirection))return!1;var t=0,n=e.event;this.columnComps.forEach(function(r){var o=r.getGui().getBoundingClientRect();n.clientY>=(e.vDirection===a.kb.Down?o.top:o.bottom)&&t++});var r=void 0!==this.insertIndex&&t!==this.insertIndex;return this.insertIndex=t,r},t.prototype.isInterestedIn=function(e){return e===a.A.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper"></div>',Nc([Object(a.k)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Nc([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Nc([a.S],t.prototype,"init",null),t}(a.v),jc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gc=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Vc=function(e){function t(t){var n=e.call(this)||this;return n.activeComps=[],n.params=t,n}return jc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslator.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(t){e.params.setEnabled&&e.params.setEnabled(t)})},t.prototype.initFontFamilySelect=function(){var e=this,t=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],n=this.params.initialFont.family,r=t[0];if(n){var o=t.map(function(e){return e.toLowerCase()}).indexOf(n.toLowerCase());if(o>=0)r=t[o];else{var i=a.mb.capitalise(n);t.push(i),r=i}}var s=t.sort().map(function(e){return{value:e,text:e}});this.familySelect.addOptions(s).setInputWidth("flex").setValue(""+r).onValueChange(function(t){return e.params.setFont({family:t})})},t.prototype.initFontSizeSelect=function(){var e=this,t=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],n=this.params.initialFont.size;a.mb.includes(t,n)||t.push(n);var r=t.sort(function(e,t){return e-t}).map(function(e){return{value:""+e,text:""+e}});this.sizeSelect.addOptions(r).setInputWidth("flex").setValue(""+n).onValueChange(function(t){return e.params.setFont({size:parseInt(t,10)})}),this.sizeSelect.setLabel(this.chartTranslator.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,t=this.params.initialFont,n=t.weight,r=void 0===n?"normal":n,o=t.style,i=void 0===o?"normal":o,s=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],l=a.mb.find(s,function(e){return e.weight===r&&e.style===i});l||s.unshift(l={name:"predefined",weight:r,style:i});var u=s.map(function(t){return{value:t.name,text:e.chartTranslator.translate(t.name)}});this.weightStyleSelect.addOptions(u).setInputWidth("flex").setValue(l.name).onValueChange(function(t){var n=a.mb.find(s,function(e){return e.name===t});e.params.setFont({weight:n.weight,style:n.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslator.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(t){return e.params.setFont({color:t})})},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyActiveComps(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',Gc([Object(a.X)("fontGroup")],t.prototype,"fontGroup",void 0),Gc([Object(a.X)("familySelect")],t.prototype,"familySelect",void 0),Gc([Object(a.X)("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),Gc([Object(a.X)("sizeSelect")],t.prototype,"sizeSelect",void 0),Gc([Object(a.X)("colorPicker")],t.prototype,"colorPicker",void 0),Gc([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Gc([a.S],t.prototype,"init",null),t}(a.v),Bc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wc=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},zc=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return Bc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslator.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartController.getChartProxy().getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange(function(t){e.chartController.getChartProxy().setChartOption("legend.enabled",t),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,t=[a.K.Top,a.K.Right,a.K.Bottom,a.K.Left];this.legendPositionSelect.setLabel(this.chartTranslator.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(t.map(function(t){return{value:t,text:e.chartTranslator.translate(t)}})).setValue(this.chartController.getChartProxy().getChartOption("legend.position")).onValueChange(function(t){return e.chartController.getChartProxy().setChartOption("legend.position",t)})},t.prototype.initLegendPadding=function(){var e=this;this.legendPaddingSlider.setLabel(this.chartTranslator.translate("spacing")).setValue(this.chartController.getChartProxy().getChartOption("legend.spacing")).setTextFieldWidth(45).setMaxValue(200).onValueChange(function(t){return e.chartController.getChartProxy().setChartOption("legend.spacing",t)})},t.prototype.initLegendItems=function(){var e=this,t=function(t,n,r,o){r.setLabel(e.chartTranslator.translate(n)).setValue(e.chartController.getChartProxy().getChartOption("legend."+t)).setMaxValue(o).setTextFieldWidth(45).onValueChange(function(n){return e.chartController.getChartProxy().setChartOption("legend."+t,n)})};t("item.marker.size","markerSize",this.markerSizeSlider,40),t("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),t("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),t("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),t("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,t=this.chartController.getChartProxy(),n={family:t.getChartOption("legend.item.label.fontFamily"),style:t.getChartOption("legend.item.label.fontStyle"),weight:t.getChartOption("legend.item.label.fontWeight"),size:t.getChartOption("legend.item.label.fontSize"),color:t.getChartOption("legend.item.label.color")},r=this.createBean(new Vc({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(t){var n=e.chartController.getChartProxy();t.family&&n.setChartOption("legend.item.label.fontFamily",t.family),t.weight&&n.setChartOption("legend.item.label.fontWeight",t.weight),t.style&&n.setChartOption("legend.item.label.fontStyle",t.style),t.size&&n.setChartOption("legend.item.label.fontSize",t.size),t.color&&n.setChartOption("legend.item.label.color",t.color)}}));this.legendGroup.addItem(r),this.activePanels.push(r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Wc([Object(a.X)("legendGroup")],t.prototype,"legendGroup",void 0),Wc([Object(a.X)("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),Wc([Object(a.X)("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),Wc([Object(a.X)("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),Wc([Object(a.X)("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),Wc([Object(a.X)("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),Wc([Object(a.X)("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),Wc([Object(a.X)("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),Wc([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Wc([a.S],t.prototype,"init",null),t}(a.v),Uc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hc=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Kc=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return Uc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslator.translate("shadow")).setEnabled(this.chartController.getChartProxy().getShadowEnabled()).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(t){return e.chartController.getChartProxy().setShadowProperty("enabled",t)}),this.shadowColorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue("rgba(0,0,0,0.5)").onValueChange(function(t){return e.chartController.getChartProxy().setShadowProperty("color",t)});var t=function(t,n,r,o){t.setLabel(e.chartTranslator.translate(n)).setValue(e.chartController.getChartProxy().getShadowProperty(n)).setMinValue(r).setMaxValue(o).onValueChange(function(t){return e.chartController.getChartProxy().setShadowProperty(n,t)})};t(this.shadowBlurSlider,"blur",0,20),t(this.shadowXOffsetSlider,"xOffset",-10,10),t(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Hc([Object(a.X)("shadowGroup")],t.prototype,"shadowGroup",void 0),Hc([Object(a.X)("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),Hc([Object(a.X)("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),Hc([Object(a.X)("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),Hc([Object(a.X)("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),Hc([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Hc([a.S],t.prototype,"init",null),t}(a.v);function Xc(e,t,n){e.setLabel(t.translate("strokeOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(n.getSeriesOption("stroke.opacity")||"1").onValueChange(function(e){return n.setSeriesOption("stroke.opacity",e)})}function qc(e,t,n){e.setLabel(t.translate("fillOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(n.getSeriesOption("fill.opacity")||"1").onValueChange(function(e){return n.setSeriesOption("fill.opacity",e)})}function Yc(e,t){var n={family:t.getSeriesOption("label.fontFamily"),style:t.getSeriesOption("label.fontStyle"),weight:t.getSeriesOption("label.fontWeight"),size:t.getSeriesOption("label.fontSize"),color:t.getSeriesOption("label.color")};return{name:e.translate("labels"),enabled:t.getSeriesOption("label.enabled")||!1,setEnabled:function(e){return t.setSeriesOption("label.enabled",e)},suppressEnabledCheckbox:!1,initialFont:n,setFont:function(e){e.family&&t.setSeriesOption("label.fontFamily",e.family),e.weight&&t.setSeriesOption("label.fontWeight",e.weight),e.style&&t.setSeriesOption("label.fontStyle",e.style),e.size&&t.setSeriesOption("label.fontSize",e.size),e.color&&t.setSeriesOption("label.color",e.color)}}}var Jc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qc=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Zc=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return Jc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initSeriesLineDash(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel()},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesStrokeWidth=function(){var e=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initSeriesLineDash=function(){var e=this;this.seriesLineDashSlider.setLabel(this.chartTranslator.translate("lineDash")).setMaxValue(30).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("lineDash")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("lineDash",[t])})},t.prototype.initOpacity=function(){Xc(this.seriesLineOpacitySlider,this.chartTranslator,this.getChartProxy()),qc(this.seriesFillOpacitySlider,this.chartTranslator,this.getChartProxy())},t.prototype.initLabelPanel=function(){var e=Yc(this.chartTranslator,this.getChartProxy()),t=this.createBean(new Vc(e));this.activePanels.push(t),this.seriesGroup.addItem(t)},t.prototype.initShadowPanel=function(){var e=this.createBean(new Kc(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineDashSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',Qc([Object(a.X)("seriesGroup")],t.prototype,"seriesGroup",void 0),Qc([Object(a.X)("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),Qc([Object(a.X)("seriesStrokeWidthSlider")],t.prototype,"seriesStrokeWidthSlider",void 0),Qc([Object(a.X)("seriesLineDashSlider")],t.prototype,"seriesLineDashSlider",void 0),Qc([Object(a.X)("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),Qc([Object(a.X)("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),Qc([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Qc([a.S],t.prototype,"init",null),t}(a.v),$c=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ep=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},tp=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return $c(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslator.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getAxisProperty("tick.color")).onValueChange(function(t){return e.getChartProxy().setAxisProperty("tick.color",t)});var t=function(t,n,r,o){n.setLabel(r).setValue(e.getChartProxy().getAxisProperty(t)).setMaxValue(o).setTextFieldWidth(45).onValueChange(function(n){return e.getChartProxy().setAxisProperty(t,n)})};t("tick.width",this.axisTicksWidthSlider,this.chartTranslator.translate("width"),10),t("tick.size",this.axisTicksSizeSlider,this.chartTranslator.translate("length"),30)},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',ep([Object(a.X)("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),ep([Object(a.X)("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),ep([Object(a.X)("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),ep([Object(a.X)("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),ep([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),ep([a.S],t.prototype,"init",null),t}(a.v),np=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rp=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},op=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.axisLabelUpdateFuncs=[],n.chartController=t,n}return np(t,e),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,Rc.EVENT_CHART_UPDATED,function(){return e.axisLabelUpdateFuncs.forEach(function(e){return e()})})},t.prototype.initAxis=function(){var e=this,t=this.chartTranslator;if(this.axisGroup.setTitle(t.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(t.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getAxisProperty("line.color")).onValueChange(function(t){return e.getChartProxy().setAxisProperty("line.color",t)}),this.axisLineWidthSlider.setLabel(t.translate("thickness")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getAxisProperty("line.width")).onValueChange(function(t){return e.getChartProxy().setAxisProperty("line.width",t)}),a.mb.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var n=[{value:"",text:t.translate("automatic")}];["category","time","number"].forEach(function(e){n.push({value:e,text:t.translate(e)})}),this.xAxisTypeSelect.setLabel(t.translate("xType")).setLabelWidth("flex").addOptions(n).setValue(this.getChartProxy().getChartOption("xAxis.type")||"").onValueChange(function(t){e.getChartProxy().setChartOption("xAxis.type","string"==typeof t&&t.length&&t),e.chartController.updateForDataChange()})}else this.xAxisTypeSelect.setDisplayed(!1)},t.prototype.initAxisTicks=function(){var e=this.createBean(new tp(this.chartController));this.axisGroup.addItem(e),this.activePanels.push(e)},t.prototype.initAxisLabels=function(){var e=this,t=this.getChartProxy(),n={family:t.getAxisProperty("label.fontFamily"),style:t.getAxisProperty("label.fontStyle"),weight:t.getAxisProperty("label.fontWeight"),size:t.getAxisProperty("label.fontSize"),color:t.getAxisProperty("label.color")},r=this.createBean(new Vc({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(t){var n=e.getChartProxy();t.family&&n.setAxisProperty("label.fontFamily",t.family),t.weight&&n.setAxisProperty("label.fontWeight",t.weight),t.style&&n.setAxisProperty("label.fontStyle",t.style),t.size&&n.setAxisProperty("label.fontSize",t.size),t.color&&n.setAxisProperty("label.color",t.color),n.getChart().performLayout()}}));this.axisGroup.addItem(r),this.activePanels.push(r),this.addAdditionalLabelComps(r)},t.prototype.addAdditionalLabelComps=function(e){var t=this,n=function(n,r,o){var i=t.getChartProxy().getChartOption(r),s=(new a.b).setLabel(n).setLabelWidth("flex").setValue(i||0).onValueChange(o);t.axisLabelUpdateFuncs.push(function(){var e=t.getChartProxy().getChartOption(r);s.setValue(e)});var l=t.createBean(s);e.addCompToPanel(l)},r=String.fromCharCode(176),o=function(e){return function(n){var r=t.getChartProxy(),o=r.getChart(),i=ko(o.axes,function(t){return t.position===e});i&&(i.label.rotation=n,i.position===si.Bottom?a.mb.set(r.getChartOptions().xAxis,"label.rotation",n):i.position===si.Left&&a.mb.set(r.getChartOptions().yAxis,"label.rotation",n),o.performLayout())}},i=this.chartTranslator.translate("xRotation")+" "+r,s=this.chartTranslator.translate("yRotation")+" "+r;n(i,"xAxis.label.rotation",o(si.Bottom)),n(s,"yAxis.label.rotation",o(si.Left));var l=this.createBean(new a.i);l.setLabel(this.chartTranslator.translate("padding")).setValue(this.getChartProxy().getAxisProperty("label.padding")).setMaxValue(30).setTextFieldWidth(45).onValueChange(function(e){return t.getChartProxy().setAxisProperty("label.padding",e)}),e.addCompToPanel(l)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',rp([Object(a.X)("axisGroup")],t.prototype,"axisGroup",void 0),rp([Object(a.X)("axisColorInput")],t.prototype,"axisColorInput",void 0),rp([Object(a.X)("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),rp([Object(a.X)("xAxisTypeSelect")],t.prototype,"xAxisTypeSelect",void 0),rp([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),rp([a.S],t.prototype,"init",null),t}(a.v),ip=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ap=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},sp=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return ip(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,t=this.chartTranslator;this.navigatorGroup.setTitle(t.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.getChartProxy().getChartOption("navigator.enabled")||!1).onEnableChange(function(t){e.getChartProxy().setChartOption("navigator.enabled",t),e.navigatorGroup.toggleGroupExpand(!0)}),this.navigatorHeightSlider.setLabel(t.translate("height")).setMinValue(10).setMaxValue(60).setTextFieldWidth(45).setValue(String(this.getChartProxy().getChartOption("navigator.height")||"30")).onValueChange(function(t){return e.getChartProxy().setChartOption("navigator.height",t)})},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',ap([Object(a.X)("navigatorGroup")],t.prototype,"navigatorGroup",void 0),ap([Object(a.X)("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),ap([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),ap([a.S],t.prototype,"init",null),t}(a.v);function lp(e,t){return!1!==t.clone&&t.isMergeableObject(e)?hp(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function up(e,t,n){return e.concat(t).map(function(e){return lp(e,n)})}function cp(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function pp(e,t){try{return t in e}catch(n){return!1}}function dp(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t}(e)}function hp(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||up,n.isMergeableObject=n.isMergeableObject||dp,n.cloneUnlessOtherwiseSpecified=lp;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&cp(e).forEach(function(t){r[t]=lp(e[t],n)}),cp(t).forEach(function(o){(function(e,t){return pp(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(r[o]=pp(e,o)&&n.isMergeableObject(t[o])?function(e,t){if(!t.customMerge)return hp;var n=t.customMerge(e);return"function"==typeof n?n:hp}(o,n)(e[o],t[o],n):lp(t[o],n))}),r}(e,t,n):lp(t,n)}var fp,gp=function(){return(gp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},mp=function(){function e(e){var t=this;this.chartProxyParams=e,this.isDarkTheme=function(){return t.chartProxyParams.isDarkTheme()},this.getFontColor=function(){return t.isDarkTheme()?"rgb(221, 221, 221)":"rgb(87, 87, 87)"},this.getAxisGridColor=function(){return t.isDarkTheme()?"rgb(100, 100, 100)":"rgb(219, 219, 219)"},this.getBackgroundColor=function(){return t.isDarkTheme()?"#2d3436":"white"},this.getChartPaddingOption=function(e){return t.iChartOptions.padding?""+t.iChartOptions.padding[e]:""},this.getShadowEnabled=function(){return!!t.getShadowProperty("enabled")},this.chartId=e.chartId,this.chartType=e.chartType,this.eventService=e.eventService,this.gridApi=e.gridApi,this.columnApi=e.columnApi,this.crossFiltering=e.crossFiltering,this.crossFilterCallback=e.crossFilterCallback}return e.prototype.recreateChart=function(){var e=this;this.chart&&this.destroyChart(),this.chart=this.createChart(),this.crossFiltering&&this.chart.addEventListener("click",function(t){return e.crossFilterCallback(t,!0)})},e.prototype.getChart=function(){return this.chart},e.prototype.downloadChart=function(){var e=this.chart;e.scene.download(e.title?e.title.text:"chart")},e.prototype.getChartImageDataURL=function(e){return this.chart.scene.getDataURL(e)},e.prototype.initChartOptions=function(){this.mergedThemeOverrides=this.getMergedThemeOverrides(),this.chartTheme=yc(this.mergedThemeOverrides),this.iChartOptions=this.extractIChartOptionsFromTheme(this.chartTheme);var e=this.chartProxyParams,t=e.processChartOptions;if(t){if(!e.allowProcessChartOptions&&!this.chartProxyParams.restoringChart)return void console.warn("AG Grid: since v26.0, 'processChartOptions()' has been removed (deprecated in v24.0), see https://www.ag-grid.com/javascript-grid/integrated-charts-customisation/");var n=hp({},this.iChartOptions),r=t({type:this.chartType,options:this.iChartOptions}),o=this.getDefaultOptions();a.mb.mergeDeep(o,r,!1),this.overridePalette(n,o),this.iChartOptions=o}},e.prototype.paletteOverridden=function(e,t){return!a.mb.areEqual(e.seriesDefaults.fill.colors,t.seriesDefaults.fill.colors)||!a.mb.areEqual(e.seriesDefaults.stroke.colors,t.seriesDefaults.stroke.colors)},e.prototype.getMergedThemeOverrides=function(){var e,t=this.getSelectedTheme(),n=this.chartProxyParams.getGridOptionsChartThemeOverrides(),r=this.chartProxyParams.apiChartThemeOverrides;if(n||r){var o={overrides:this.mergeThemeOverrides(n,r)};e=this.isStockTheme(t)?gp({baseTheme:t},o):hp(this.lookupCustomChartTheme(t),o)}else e=this.isStockTheme(t)?t:this.lookupCustomChartTheme(t);return e},e.prototype.lookupCustomChartTheme=function(e){var t=this.chartProxyParams.customChartThemes,n=t&&t[e];return n||console.warn("AG Grid: no stock theme exists with the name '"+e+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),n},e.prototype.isStockTheme=function(e){return a.mb.includes(Object.keys(mc),e)},e.prototype.mergeThemeOverrides=function(e,t){return e?t?hp(e,t):e:t},e.prototype.overridePalette=function(e,t){if(this.chartProxyParams.allowPaletteOverride&&this.paletteOverridden(e,t)){var n=t.seriesDefaults,r=n.fill.colors,o=n.stroke.colors;if(r||o){var i=a.mb.includes(r,void 0),s=a.mb.includes(o,void 0);if(i||s)return;this.customPalette={fills:r,strokes:o}}}},e.prototype.getStandaloneChartType=function(){switch(this.chartType){case a.q.GroupedBar:case a.q.StackedBar:case a.q.NormalizedBar:return"bar";case a.q.GroupedColumn:case a.q.StackedColumn:case a.q.NormalizedColumn:return"column";case a.q.Line:return"line";case a.q.Area:case a.q.StackedArea:case a.q.NormalizedArea:return"area";case a.q.Scatter:case a.q.Bubble:return"scatter";case a.q.Histogram:return"histogram";case a.q.Pie:case a.q.Doughnut:return"pie";default:return"cartesian"}},e.prototype.extractIChartOptionsFromTheme=function(e){var t={},n=this.getStandaloneChartType();return t.title=e.getConfig(n+".title"),t.subtitle=e.getConfig(n+".subtitle"),t.background=e.getConfig(n+".background"),t.legend=e.getConfig(n+".legend"),t.navigator=e.getConfig(n+".navigator"),t.tooltip={enabled:e.getConfig(n+".tooltip.enabled"),tracking:e.getConfig(n+".tooltip.tracking"),class:e.getConfig(n+".tooltip.class"),delay:e.getConfig(n+".tooltip.delay")},t.listeners=e.getConfig(n+".listeners"),t.padding=e.getConfig(n+".padding"),t},e.prototype.getSelectedTheme=function(){var e=this.chartProxyParams.getChartThemeName(),t=this.chartProxyParams.getChartThemes();return a.mb.includes(t,e)||(e=t[0]),e},e.prototype.getChartOptions=function(){return this.iChartOptions},e.prototype.getCustomPalette=function(){return this.customPalette},e.prototype.getChartOption=function(e){return a.mb.get(this.iChartOptions,e,void 0)},e.prototype.setChartOption=function(e,t){a.mb.get(this.iChartOptions,e,void 0)!==t&&(a.mb.set(this.iChartOptions,e,t),a.mb.set(this.chart,{"legend.item.marker.strokeWidth":"legend.strokeWidth","legend.item.marker.size":"legend.markerSize","legend.item.marker.padding":"legend.itemSpacing","legend.item.label.fontFamily":"legend.fontFamily","legend.item.label.fontStyle":"legend.fontStyle","legend.item.label.fontWeight":"legend.fontWeight","legend.item.label.fontSize":"legend.fontSize","legend.item.label.color":"legend.color","legend.item.paddingX":"legend.layoutHorizontalSpacing","legend.item.paddingY":"legend.layoutVerticalSpacing"}[e]||e,t),this.raiseChartOptionsChangedEvent())},e.prototype.getSeriesOption=function(e){return a.mb.get(this.iChartOptions.seriesDefaults,e,void 0)},e.prototype.setSeriesOption=function(e,t){if(a.mb.get(this.iChartOptions.seriesDefaults,e,void 0)!==t){a.mb.set(this.iChartOptions.seriesDefaults,e,t);var n={"stroke.width":"strokeWidth","stroke.opacity":"strokeOpacity","fill.opacity":"fillOpacity","callout.colors":"calloutColors"};this.chart.series.forEach(function(r){return a.mb.set(r,n[e]||e,t)}),this.raiseChartOptionsChangedEvent()}},e.prototype.setTitleOption=function(e,t){a.mb.get(this.iChartOptions.title,e,void 0)!==t&&(this.iChartOptions.title[e]=t,this.chart.title||(this.chart.title={}),this.chart.title[e]=t,"text"===e&&this.setTitleOption("enabled",a.mb.exists(t)),this.raiseChartOptionsChangedEvent())},e.prototype.getTitleOption=function(e){return this.iChartOptions.title[e]},e.prototype.setChartPaddingOption=function(e,t){var n=this.iChartOptions.padding;a.mb.get(n,e,void 0)!==t&&(n||(n=this.iChartOptions.padding={top:0,right:0,bottom:0,left:0},this.chart.padding=new Er(0)),n[e]=t,this.chart.padding[e]=t,this.chart.performLayout(),this.raiseChartOptionsChangedEvent())},e.prototype.getShadowProperty=function(e){var t=this.iChartOptions.seriesDefaults;return t.shadow?t.shadow[e]:""},e.prototype.setShadowProperty=function(e,t){var n=this.iChartOptions.seriesDefaults;a.mb.get(n.shadow,e,void 0)!==t&&(n.shadow||(n.shadow={enabled:!1,blur:0,xOffset:0,yOffset:0,color:"rgba(0,0,0,0.5)"}),n.shadow[e]=t,this.getChart().series.forEach(function(n){if(!n.shadow){var r=new Ml;r.enabled=!1,r.blur=0,r.xOffset=0,r.yOffset=0,r.color="rgba(0,0,0,0.5)",n.shadow=r}n.shadow[e]=t}),this.raiseChartOptionsChangedEvent())},e.prototype.raiseChartOptionsChangedEvent=function(){var e=Object.freeze({type:a.C.EVENT_CHART_OPTIONS_CHANGED,chartId:this.chartId,chartType:this.chartType,chartThemeName:this.chartProxyParams.getChartThemeName(),chartOptions:this.iChartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},e.prototype.getDefaultFontOptions=function(){return{fontStyle:"normal",fontWeight:"normal",fontSize:12,fontFamily:"Verdana, sans-serif",color:this.getFontColor()}},e.prototype.getDefaultDropShadowOptions=function(){return{enabled:!1,blur:5,xOffset:3,yOffset:3,color:"rgba(0, 0, 0, 0.5)"}},e.prototype.getPredefinedPalette=function(){return this.chartTheme.palette},e.prototype.getPalette=function(){return this.customPalette||this.chartTheme.palette},e.prototype.getDefaultChartOptions=function(){return{background:{},padding:{},title:{},subtitle:{},legend:{},navigator:{},seriesDefaults:{},listeners:{}}},e.prototype.transformData=function(e,t){return this.chart.axes.filter(function(e){return e instanceof vi}).length<1?e:e.map(function(e,n){var r=e[t],o=r&&r.toString?r.toString():"",i=gp({},e);return i[t]={id:n,value:r,toString:function(){return o}},i})},e.prototype.hexToRGBA=function(e,t){var n=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return t?"rgba("+n+", "+r+", "+o+", "+t+")":"rgba("+n+", "+r+", "+o+")"},e.prototype.changeOpacity=function(e,t){return e.map(function(e){var n=a.s.fromString(e);return new a.s(n.r,n.g,n.b,t).toHexString()})},e.prototype.destroy=function(){this.destroyChart()},e.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},e}(),yp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vp=function(){return(vp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!function(e){e[e.REGULAR=0]="REGULAR",e[e.SPECIAL=1]="SPECIAL"}(fp||(fp={}));var bp,Cp=function(e){function t(t){var n=e.call(this,t)||this;return n.prevAxisLabelRotation=0,n.axisTypeToClassMap={number:gi,category:vi,groupedCategory:_i,time:Ca},n}return yp(t,e),t.prototype.extractIChartOptionsFromTheme=function(t){var n,r=e.prototype.extractIChartOptionsFromTheme.call(this,t),o=this.getStandaloneChartType(),i="scatter"===o||"histogram"===o?"number":"category",a="number";"bar"===o&&(i=(n=[a,i])[0],a=n[1]);var s={},l={};return s=hp(s,t.getConfig(o+".axes."+i)),s=hp(s,t.getConfig(o+".axes."+i+".bottom")),l=hp(l,t.getConfig(o+".axes."+a)),l=hp(l,t.getConfig(o+".axes."+a+".left")),r.xAxis=s,r.yAxis=l,r},t.prototype.getAxisProperty=function(e){return a.mb.get(this.iChartOptions.xAxis,e,void 0)},t.prototype.setAxisProperty=function(e,t){a.mb.set(this.iChartOptions.xAxis,e,t),a.mb.set(this.iChartOptions.yAxis,e,t);var n=this.chart;this.chart.axes.forEach(function(n){return a.mb.set(n,e,t)}),n.performLayout(),this.raiseChartOptionsChangedEvent()},t.prototype.updateLabelRotation=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n="category");var r=t?si.Left:si.Bottom,o=ko(this.chart.axes,function(e){return e.position===r}),i=e===_r.DEFAULT_CATEGORY||this.chartProxyParams.grouping;i&&this.prevCategory===fp.REGULAR&&o&&(this.prevAxisLabelRotation=o.label.rotation);var s=0;if(!i){if(this.prevCategory===fp.REGULAR)return;if(a.mb.exists(this.prevCategory))s=this.prevAxisLabelRotation;else{var l=this.getUserThemeOverrideRotation(t,n);s=void 0!==l?l:335}}o&&(o.label.rotation=s,a.mb.set(this.iChartOptions.xAxis,"label.rotation",s));var u=Object.freeze({type:Rc.EVENT_CHART_UPDATED});this.chartProxyParams.eventService.dispatchEvent(u),this.prevCategory=i?fp.SPECIAL:fp.REGULAR},t.prototype.getUserThemeOverrideRotation=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t="category"),this.mergedThemeOverrides&&this.mergedThemeOverrides.overrides){var n=this.getStandaloneChartType(),r=this.mergedThemeOverrides.overrides,o=e?si.Left:si.Bottom,i=a.mb.get(r,n+".axes."+t+"."+o+".label.rotation",void 0);if("number"==typeof i&&isFinite(i))return i;var s=a.mb.get(r,n+".axes."+t+".label.rotation",void 0);if("number"==typeof s&&isFinite(s))return s;var l=a.mb.get(r,"cartesian.axes."+t+"."+o+".label.rotation",void 0);if("number"==typeof l&&isFinite(l))return l;var u=a.mb.get(r,"cartesian.axes."+t+".label.rotation",void 0);return"number"==typeof u&&isFinite(u)?u:void 0}},t.prototype.getDefaultAxisOptions=function(){var e=this.getDefaultFontOptions(),t=this.getAxisGridColor();return{title:vp(vp({},e),{enabled:!1,fontSize:14}),line:{color:"rgba(195, 195, 195, 1)",width:1},tick:{color:"rgba(195, 195, 195, 1)",size:6,width:1},label:vp(vp({},e),{padding:5,rotation:0}),gridStyle:[{stroke:t,lineDash:[4,2]}]}},t.prototype.getDefaultCartesianChartOptions=function(){var e=this.getDefaultChartOptions();return e.xAxis=this.getDefaultAxisOptions(),e.yAxis=this.getDefaultAxisOptions(),e},t.prototype.updateAxes=function(e,t){void 0===e&&(e="category"),void 0===t&&(t=!1);var n=t?this.getYAxis():this.getXAxis();n&&(this.chartProxyParams.grouping?n instanceof _i||this.recreateChart():!(n instanceof this.axisTypeToClassMap[e])&&((t?this.iChartOptions.yAxis:this.iChartOptions.xAxis).type=e,this.recreateChart()))},t.prototype.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return"time"===e.category.chartDataType;var t=e.data[0];return(t&&t[e.category.id])instanceof Date},t.prototype.getXAxisDefaults=function(e,t){if("time"===e){var n={},r=this.getStandaloneChartType();return n=hp(n,this.chartTheme.getConfig(r+".axes.time")),hp(n,this.chartTheme.getConfig(r+".axes.time.bottom"))}return t.xAxis},t.prototype.getXAxis=function(){return ko(this.chart.axes,function(e){return e.position===si.Bottom})},t.prototype.getYAxis=function(){return ko(this.chart.axes,function(e){return e.position===si.Left})},t.prototype.processDataForCrossFiltering=function(e,t,n){var r=t,o=!1;return this.crossFiltering&&(e.forEach(function(e){e[t+"-total"]=e[t]+e[t+"-filtered-out"],e[t+"-filtered-out"]>0&&(o=!0)}),n.getCrossFilteringContext().lastSelectedChartId===n.chartId&&(r=t+"-total")),{yKey:r,atLeastOneSelectedPoint:o}},t.prototype.updateSeriesForCrossFiltering=function(e,t,n,r,o){if(this.crossFiltering){e.marker.enabled=!0,e.marker.formatter=function(e){return{fill:e.highlighted?"yellow":e.fill,size:e.highlighted?12:e.datum[t]>0?8:0}},n.tooltip.delay=500;var i=r.getCrossFilteringContext().lastSelectedChartId===r.chartId&&o;e instanceof nl&&(e.fillOpacity=i?.3:1),e instanceof hl&&(e.strokeOpacity=i?.3:1),e.addEventListener("nodeClick",this.crossFilterCallback)}},t}(mp),wp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Op=function(){return(Op=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},xp=function(e){function t(t){var n=e.call(this,t)||this;return n.getMarkersEnabled=function(){return!0},n.initChartOptions(),n.recreateChart(),n}return wp(t,e),t.prototype.createChart=function(){var e=this.iChartOptions,t=e;return t.autoSize=!0,t.axes=[Op({type:"number",position:"bottom"},e.xAxis),Op({type:"number",position:"left"},e.yAxis)],Cc.create(t,this.chartProxyParams.parentElement)},t.prototype.update=function(e){var t=this;if(e.fields.length<2)this.chart.removeAllSeries();else{var n=e.fields;this.crossFiltering&&n.forEach(function(e){var t=Op({},e);t.colId=e.colId+"-filtered-out",n.push(t)});var r,o=this.iChartOptions.seriesDefaults,i=this.getSeriesDefinitions(n,o.paired);this.crossFiltering&&(r=this.getCrossFilteringDataDomain(i,e));var s=this.chart,l=s.series.reduceRight(function(e,t,n){return a.mb.findIndex(i,function(e){return e.xField.colId===t.xKey&&e.yField.colId===t.yKey&&(!e.sizeField&&!t.sizeKey||e.sizeField&&e.sizeField.colId===t.sizeKey)})===n?e.set(t.yKey,t):s.removeSeries(t),e},new Map),u=this.getPalette(),c=u.fills,p=u.strokes;if(this.crossFiltering){var d=[];c.forEach(function(e){d.push(e),d.push(t.hexToRGBA(e,"0.3"))}),c=d;var h=[];p.forEach(function(e){h.push(e),h.push(t.hexToRGBA(e,"0.3"))}),p=h}var f,g=e.category.id===_r.DEFAULT_CATEGORY?void 0:e.category;i.forEach(function(n,i){var a=l.get(n.yField.colId),u=Op({},o.marker);u.type&&(u.shape=u.type,delete u.type);var d=a||Cc.createComponent(Op(Op({},o),{type:"scatter",fillOpacity:o.fill.opacity,strokeOpacity:o.stroke.opacity,strokeWidth:o.stroke.width,marker:u,tooltip:{enabled:o.tooltip&&o.tooltip.enabled,renderer:o.tooltip&&o.tooltip.enabled&&o.tooltip.renderer}}),"scatter.series");if(d){var h=n.xField,m=n.yField,y=n.sizeField;d.title=m.displayName+" vs "+h.displayName,d.xKey=h.colId,d.xName=h.displayName,d.yKey=m.colId,d.yName=m.displayName,d.data=e.data,d.fill=c[i%c.length],d.stroke=p[i%p.length],y?(d.sizeKey=y.colId,d.sizeName=y.displayName):d.sizeKey=void 0,g?(d.labelKey=g.id,d.labelName=g.name):d.labelKey=d.yKey;var v=m.colId.indexOf("-filtered-out")>-1;t.crossFiltering&&(v||s.legend.addEventListener("click",function(e){d.toggleSeriesItem(e.itemId+"-filtered-out",e.enabled)}),r&&(d.marker.domain=r),s.tooltip.delay=500,v&&(d.showInLegend=!1),d.addEventListener("nodeClick",t.crossFilterCallback)),a||s.addSeriesAfter(d,f),f=d}})}},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),r=t.getConfig("scatter.series.scatter");return n.seriesDefaults={tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},fill:{colors:r.fill&&[r.fill]||t.palette.fills,opacity:r.fillOpacity},stroke:{colors:r.stroke&&[r.stroke]||t.palette.strokes,opacity:r.strokeOpacity,width:r.strokeWidth},label:r.label,marker:{enabled:r.marker.enabled,shape:r.marker.shape,size:r.marker.size,strokeWidth:r.marker.strokeWidth},highlightStyle:r.highlightStyle,listeners:r.listeners,paired:!0},n},t.prototype.getTooltipsEnabled=function(){return null!=this.iChartOptions.seriesDefaults.tooltip&&!!this.iChartOptions.seriesDefaults.tooltip.enabled},t.prototype.getDefaultOptions=function(){var e=this.chartType===a.q.Bubble,t=this.getDefaultCartesianChartOptions();return t.seriesDefaults=Op(Op({},t.seriesDefaults),{fill:Op(Op({},t.seriesDefaults.fill),{opacity:e?.7:1}),stroke:Op(Op({},t.seriesDefaults.stroke),{width:3}),marker:{shape:"circle",enabled:!0,size:6,maxSize:30,strokeWidth:1},tooltip:{enabled:!0},paired:!0}),t},t.prototype.getSeriesDefinitions=function(e,t){if(e.length<2)return[];var n=this.chartType===a.q.Bubble;if(t)return n?e.map(function(t,n){return n%3==0?{xField:t,yField:e[n+1],sizeField:e[n+2]}:null}).filter(function(e){return e&&e.yField&&e.sizeField}):e.map(function(t,n){return n%2==0?{xField:t,yField:e[n+1]}:null}).filter(function(e){return e&&e.yField});var r=e[0];return n?e.map(function(t,n){return n%2==1?{xField:r,yField:t,sizeField:e[n+1]}:null}).filter(function(e){return e&&e.sizeField}):e.filter(function(e,t){return t>0}).map(function(e){return{xField:r,yField:e}})},t.prototype.getCrossFilteringDataDomain=function(e,t){var n;if(e[0]&&e[0].sizeField){var r=e[0].sizeField.colId,o=[];t.data.forEach(function(e){void 0!==e[r]&&o.push(e[r]),void 0!==e[r+"-filtered-out"]&&o.push(e[r+"-filtered-out"])}),o.length>0&&(n=[Math.min.apply(Math,o),Math.max.apply(Math,o)])}return n},t}(Cp),Sp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pp=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_p=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return Sp(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this,t=this.chartController.getChartProxy()instanceof xp;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslator.translate("shape")).setValue(this.chartController.getChartProxy().getSeriesOption("marker.shape")).onValueChange(function(t){return e.chartController.getChartProxy().setSeriesOption("marker.shape",t)}),this.seriesMarkersGroup.setTitle(this.chartTranslator.translate("markers")).hideEnabledCheckbox(t).setEnabled(this.chartController.getChartProxy().getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(t){return e.chartController.getChartProxy().setSeriesOption("marker.enabled",t)});var n=function(t,n,r,o){n.setLabel(e.chartTranslator.translate(r)).setValue(e.chartController.getChartProxy().getSeriesOption(t)).setMaxValue(o).setTextFieldWidth(45).onValueChange(function(n){return e.chartController.getChartProxy().setSeriesOption(t,n)})};this.chartController.getChartType()===a.q.Bubble?(n("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),n("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),n("marker.size",this.seriesMarkerSizeSlider,"size",60)),n("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Pp([Object(a.X)("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),Pp([Object(a.X)("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),Pp([Object(a.X)("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),Pp([Object(a.X)("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),Pp([Object(a.X)("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),Pp([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Pp([a.S],t.prototype,"init",null),t}(a.v),Ep=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tp=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ap=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return Ep(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initSeriesLineWidth(),this.initSeriesLineDash(),this.initMarkersPanel(),this.initLabelPanel()},t.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesLineWidth=function(){var e=this;this.seriesLineWidthSlider.setLabel(this.chartTranslator.translate("lineWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initSeriesLineDash=function(){var e=this;this.seriesLineDashSlider.setLabel(this.chartTranslator.translate("lineDash")).setMaxValue(30).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("lineDash")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("lineDash",[t])})},t.prototype.initMarkersPanel=function(){var e=this.createBean(new _p(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.initLabelPanel=function(){var e=Yc(this.chartTranslator,this.getChartProxy()),t=this.createBean(new Vc(e));this.activePanels.push(t),this.seriesGroup.addItem(t)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesLineWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineDashSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Tp([Object(a.X)("seriesGroup")],t.prototype,"seriesGroup",void 0),Tp([Object(a.X)("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),Tp([Object(a.X)("seriesLineWidthSlider")],t.prototype,"seriesLineWidthSlider",void 0),Tp([Object(a.X)("seriesLineDashSlider")],t.prototype,"seriesLineDashSlider",void 0),Tp([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Tp([a.S],t.prototype,"init",null),t}(a.v),Mp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dp=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},kp=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return Mp(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslator.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var t=function(t,n,r,o){n.setLabel(e.chartTranslator.translate(r)).setValue(e.chartController.getChartProxy().getSeriesOption(t)).setMaxValue(o).setTextFieldWidth(45).onValueChange(function(n){return e.chartController.getChartProxy().setSeriesOption(t,n)})};t("callout.length",this.calloutLengthSlider,"length",40),t("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),t("label.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Dp([Object(a.X)("calloutGroup")],t.prototype,"calloutGroup",void 0),Dp([Object(a.X)("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),Dp([Object(a.X)("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),Dp([Object(a.X)("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),Dp([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Dp([a.S],t.prototype,"init",null),t}(a.v),Rp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ip=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Np=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return Rp(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel()},t.prototype.initGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesStrokeWidth=function(){var e=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initOpacity=function(){var e=this;this.seriesLineOpacitySlider.setLabel(this.chartTranslator.translate("strokeOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.opacity")||"1").onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.opacity",t)}),this.seriesFillOpacitySlider.setLabel(this.chartTranslator.translate("fillOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("fillOpacity")||"1").onValueChange(function(t){return e.getChartProxy().setSeriesOption("fillOpacity",t)})},t.prototype.initLabelPanel=function(){var e=this,t=this.getChartProxy(),n={family:t.getSeriesOption("label.fontFamily"),style:t.getSeriesOption("label.fontStyle"),weight:t.getSeriesOption("label.fontWeight"),size:t.getSeriesOption("label.fontSize"),color:t.getSeriesOption("label.color")},r={name:this.chartTranslator.translate("labels"),enabled:t.getSeriesOption("label.enabled")||!1,setEnabled:function(t){return e.getChartProxy().setSeriesOption("label.enabled",t)},suppressEnabledCheckbox:!1,initialFont:n,setFont:function(t){var n=e.getChartProxy();t.family&&n.setSeriesOption("label.fontFamily",t.family),t.weight&&n.setSeriesOption("label.fontWeight",t.weight),t.style&&n.setSeriesOption("label.fontStyle",t.style),t.size&&n.setSeriesOption("label.fontSize",t.size),t.color&&n.setSeriesOption("label.color",t.color)}},o=this.createBean(new Vc(r));this.activePanels.push(o);var i=this.createBean(new kp(this.chartController));o.addCompToPanel(i),this.activePanels.push(i),this.seriesGroup.addItem(o)},t.prototype.initShadowPanel=function(){var e=this.createBean(new Kc(this.chartController));this.seriesGroup.getGui().appendChild(e.getGui()),this.seriesGroup.addItem(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',Ip([Object(a.X)("seriesGroup")],t.prototype,"seriesGroup",void 0),Ip([Object(a.X)("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),Ip([Object(a.X)("seriesStrokeWidthSlider")],t.prototype,"seriesStrokeWidthSlider",void 0),Ip([Object(a.X)("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),Ip([Object(a.X)("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),Ip([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Ip([a.S],t.prototype,"init",null),t}(a.v),Fp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lp=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},jp=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return Fp(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslator.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,t=function(t,n){n.setLabel(e.chartTranslator.translate(t)).setValue(e.chartController.getChartProxy().getChartPaddingOption(t)).setMaxValue(200).setTextFieldWidth(45).onValueChange(function(n){return e.chartController.getChartProxy().setChartPaddingOption(t,n)})};t("top",this.paddingTopSlider),t("right",this.paddingRightSlider),t("bottom",this.paddingBottomSlider),t("left",this.paddingLeftSlider)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',Lp([Object(a.X)("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),Lp([Object(a.X)("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),Lp([Object(a.X)("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),Lp([Object(a.X)("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),Lp([Object(a.X)("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),Lp([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Lp([a.S],t.prototype,"init",null),t}(a.v),Gp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vp=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Bp=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return Gp(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslator.translate("background")).setEnabled(this.chartController.getChartProxy().getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(t){return e.chartController.getChartProxy().setChartOption("background.visible",t)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartController.getChartProxy().getChartOption("background.fill")).onValueChange(function(t){return e.chartController.getChartProxy().setChartOption("background.fill",t)})},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',Vp([Object(a.X)("chartBackgroundGroup")],t.prototype,"group",void 0),Vp([Object(a.X)("colorPicker")],t.prototype,"colorPicker",void 0),Vp([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Vp([a.S],t.prototype,"init",null),t}(a.v),Wp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zp=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Up=function(e){function t(n){var r=e.call(this,t.TEMPLATE)||this;return r.activePanels=[],r.chartController=n,r}return Wp(t,e),t.prototype.init=function(){this.initFontPanel()},t.prototype.hasTitle=function(){var e=this.chartController.getChartProxy().getChartOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,t=this.chartController.getChartProxy(),n=this.hasTitle,r=function(t){var n=e.chartController.getChartProxy();t.family&&n.setTitleOption("fontFamily",t.family),t.weight&&n.setTitleOption("fontWeight",t.weight),t.style&&n.setTitleOption("fontStyle",t.style),t.size&&n.setTitleOption("fontSize",t.size),t.color&&n.setTitleOption("color",t.color)},o={family:t.getChartOption("title.fontFamily"),style:t.getChartOption("title.fontStyle"),weight:t.getChartOption("title.fontWeight"),size:t.getChartOption("title.fontSize"),color:t.getChartOption("title.color")};n||r(o);var i={name:this.chartTranslator.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:o,setFont:r,setEnabled:function(t){var n=e.chartController.getChartProxy();if(t){var r=e.disabledTitle||e.chartTranslator.translate("titlePlaceholder");n.setTitleOption("text",r),e.disabledTitle=""}else e.disabledTitle=n.getTitleOption("text"),n.setTitleOption("text","")}},a=this.createBean(new Vc(i));this.getGui().appendChild(a.getGui()),this.activePanels.push(a),this.addManagedListener(this.eventService,"chartTitleEdit",function(){a.setEnabled(e.hasTitle())})},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",zp([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),zp([a.S],t.prototype,"init",null),t}(a.v),Hp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kp=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Xp=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return Hp(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslator.translate("chart")).toggleGroupExpand(!0).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new Up(this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new jp(this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new Bp(this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',Kp([Object(a.X)("chartGroup")],t.prototype,"chartGroup",void 0),Kp([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Kp([a.S],t.prototype,"init",null),t}(a.v),qp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yp=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Jp=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return qp(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initSeriesLineWidth(),this.initSeriesLineDash(),this.initOpacity(),this.initMarkersPanel(),this.initLabelPanel(),this.initShadowPanel()},t.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesLineWidth=function(){var e=this;this.seriesLineWidthSlider.setLabel(this.chartTranslator.translate("lineWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initSeriesLineDash=function(){var e=this;this.seriesLineDashSlider.setLabel(this.chartTranslator.translate("lineDash")).setMaxValue(30).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("lineDash")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("lineDash",[t])})},t.prototype.initOpacity=function(){Xc(this.seriesLineOpacitySlider,this.chartTranslator,this.getChartProxy()),qc(this.seriesFillOpacitySlider,this.chartTranslator,this.getChartProxy())},t.prototype.initLabelPanel=function(){var e=Yc(this.chartTranslator,this.getChartProxy()),t=this.createBean(new Vc(e));this.activePanels.push(t),this.seriesGroup.addItem(t)},t.prototype.initMarkersPanel=function(){var e=this.createBean(new _p(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.initShadowPanel=function(){var e=this.createBean(new Kc(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesLineWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineDashSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',Yp([Object(a.X)("seriesGroup")],t.prototype,"seriesGroup",void 0),Yp([Object(a.X)("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),Yp([Object(a.X)("seriesLineWidthSlider")],t.prototype,"seriesLineWidthSlider",void 0),Yp([Object(a.X)("seriesLineDashSlider")],t.prototype,"seriesLineDashSlider",void 0),Yp([Object(a.X)("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),Yp([Object(a.X)("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),Yp([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Yp([a.S],t.prototype,"init",null),t}(a.v),Qp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zp=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},$p=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return Qp(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initMarkersPanel(),this.initLabelPanel()},t.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initMarkersPanel=function(){var e=this.createBean(new _p(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.initLabelPanel=function(){var e=Yc(this.chartTranslator,this.getChartProxy()),t=this.createBean(new Vc(e));this.activePanels.push(t),this.seriesGroup.addItem(t)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n            </ag-group-component>\n        </div>',Zp([Object(a.X)("seriesGroup")],t.prototype,"seriesGroup",void 0),Zp([Object(a.X)("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),Zp([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Zp([a.S],t.prototype,"init",null),t}(a.v),ed=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),td=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},nd=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return ed(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.initSeriesTooltips(),this.initBins(),this.initSeriesStrokeWidth(),this.initSeriesLineDash(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel()},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initBins=function(){var e=this;this.seriesBinCountSlider.setLabel(this.chartTranslator.translate("histogramBinCount")).setMinValue(4).setMaxValue(100).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("binCount")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("binCount",t)})},t.prototype.initSeriesStrokeWidth=function(){var e=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initSeriesLineDash=function(){var e=this;this.seriesLineDashSlider.setLabel(this.chartTranslator.translate("lineDash")).setMaxValue(30).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("lineDash")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("lineDash",[t])})},t.prototype.initOpacity=function(){Xc(this.seriesLineOpacitySlider,this.chartTranslator,this.getChartProxy()),qc(this.seriesFillOpacitySlider,this.chartTranslator,this.getChartProxy())},t.prototype.initLabelPanel=function(){var e=Yc(this.chartTranslator,this.getChartProxy()),t=this.createBean(new Vc(e));this.activePanels.push(t),this.seriesGroup.addItem(t)},t.prototype.initShadowPanel=function(){var e=this.createBean(new Kc(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="binCountSlider"></ag-slider>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineDashSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',td([Object(a.X)("seriesGroup")],t.prototype,"seriesGroup",void 0),td([Object(a.X)("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),td([Object(a.X)("binCountSlider")],t.prototype,"seriesBinCountSlider",void 0),td([Object(a.X)("seriesStrokeWidthSlider")],t.prototype,"seriesStrokeWidthSlider",void 0),td([Object(a.X)("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),td([Object(a.X)("seriesLineDashSlider")],t.prototype,"seriesLineDashSlider",void 0),td([Object(a.X)("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),td([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),td([a.S],t.prototype,"init",null),t}(a.v),rd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),od=function(e){function t(n){var r=e.call(this,t.TEMPLATE)||this;return r.panels=[],r.chartController=n,r}return rd(t,e),t.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,Rc.EVENT_CHART_UPDATED,this.createPanels.bind(this))},t.prototype.createPanels=function(){var e=this.chartController.getChartType(),t=this.chartController.isGrouping();if(e!==this.chartType||t!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new Xp(this.chartController)),this.addComponent(new zc(this.chartController)),e){case a.q.GroupedColumn:case a.q.StackedColumn:case a.q.NormalizedColumn:case a.q.GroupedBar:case a.q.StackedBar:case a.q.NormalizedBar:this.addComponent(new op(this.chartController)),this.addComponent(new Zc(this.chartController)),this.addComponent(new sp(this.chartController));break;case a.q.Pie:case a.q.Doughnut:this.addComponent(new Np(this.chartController));break;case a.q.Line:this.addComponent(new op(this.chartController)),this.addComponent(new Ap(this.chartController)),this.addComponent(new sp(this.chartController));break;case a.q.Scatter:case a.q.Bubble:this.addComponent(new op(this.chartController)),this.addComponent(new $p(this.chartController)),this.addComponent(new sp(this.chartController));break;case a.q.Area:case a.q.StackedArea:case a.q.NormalizedArea:this.addComponent(new op(this.chartController)),this.addComponent(new Jp(this.chartController)),this.addComponent(new sp(this.chartController));break;case a.q.Histogram:this.addComponent(new op(this.chartController)),this.addComponent(new nd(this.chartController)),this.addComponent(new sp(this.chartController));break;default:console.warn("AG Grid: ChartFormattingPanel - unexpected chart type index: "+e+" supplied")}this.chartType=e,this.isGrouping=t}},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),a.mb.addCssClass(e.getGui(),"ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(t){a.mb.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyPanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([a.S],t.prototype,"init",null),t}(a.v),id=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ad=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},sd=function(e){function t(t,n){var r=e.call(this)||this;r.size=58,r.padding=5,r.root=new jo;var o=new wa(window.document,r.size,r.size);return a.mb.addCssClass(o.canvas.element,"ag-chart-mini-thumbnail-canvas"),o.root=r.root,o.container=t,r.scene=o,r.tooltipName=n,r}return id(t,e),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslator.translate(this.tooltipName)},ad([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),ad([a.S],t.prototype,"init",null),t}(a.v),ld=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ud=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.stroke="gray",r.axisOvershoot=3,r}return ld(t,e),t.prototype.addAxes=function(){var e=this.size,t=this.padding,n=new Wo;n.x1=t,n.y1=t,n.x2=t,n.y2=e-t+this.axisOvershoot,n.stroke=this.stroke;var r=new Wo;r.x1=t-this.axisOvershoot+1,r.y1=e-t,r.x2=e-t+1,r.y2=e-t,r.stroke=this.stroke;var o=this.root;o.append(n),o.append(r)},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([a.S],t.prototype,"addAxes",null),t}(sd),cd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pd=function(e){function t(t,n,r){var o=e.call(this,t,"groupedColumnTooltip")||this,i=o.padding,a=o.size,s=new mi;s.domain=[0,1,2],s.range=[i,a-i],s.paddingInner=.3,s.paddingOuter=.3;var l=new Do;l.domain=[0,4],l.range=[a-i,i];var u=l.convert(0),c=s.bandwidth;return o.bars=[2,3,4].map(function(e,t){var n=l.convert(e),r=new Pa;return r.x=s.convert(t),r.y=n,r.width=c,r.height=u-n,r.strokeWidth=1,r.crisp=!0,r}),o.updateColors(n,r),o.root.append(o.bars),o}return cd(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach(function(n,r){n.fill=e[r],n.stroke=t[r]})},t.chartType=a.q.GroupedColumn,t}(ud),dd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hd=function(e){function t(n,r,o,i,a,s){void 0===i&&(i=t.data),void 0===a&&(a=[0,16]),void 0===s&&(s="stackedColumnTooltip");var l=e.call(this,n,s)||this,u=l.padding,c=l.size,p=new mi;p.domain=[0,1,2],p.range=[u,c-u],p.paddingInner=.3,p.paddingOuter=.3;var d=new Do;d.domain=a,d.range=[c-u,u];var h=d.convert(0),f=p.bandwidth;return l.bars=i.map(function(e){return e.map(function(e,t){var n=d.convert(e),r=new Pa;return r.x=p.convert(t),r.y=n,r.width=f,r.height=h-n,r.strokeWidth=1,r.crisp=!0,r})}),l.updateColors(r,o),l.root.append([].concat.apply([],l.bars)),l}return dd(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach(function(n,r){return n.forEach(function(n){n.fill=e[r],n.stroke=t[r]})})},t.chartType=a.q.StackedColumn,t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(ud),fd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gd=function(e){function t(n,r,o){return e.call(this,n,r,o,t.data,[0,10],"normalizedColumnTooltip")||this}return fd(t,e),t.chartType=a.q.NormalizedColumn,t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(hd),md=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yd=function(e){function t(t,n,r){var o=e.call(this,t,"groupedBarTooltip")||this,i=o.padding,a=o.size,s=new mi;s.domain=[0,1,2],s.range=[i,a-i],s.paddingInner=.3,s.paddingOuter=.3;var l=new Do;l.domain=[0,4],l.range=[a-i,i];var u=l.convert(0),c=s.bandwidth;return o.bars=[2,3,4].map(function(e,t){var n=new Pa;return n.x=i,n.y=s.convert(t),n.width=u-l.convert(e),n.height=c,n.strokeWidth=1,n.crisp=!0,n}),o.updateColors(n,r),o.root.append(o.bars),o}return md(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach(function(n,r){n.fill=e[r],n.stroke=t[r]})},t.chartType=a.q.GroupedBar,t}(ud),vd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bd=function(e){function t(n,r,o,i,a,s){void 0===i&&(i=t.data),void 0===a&&(a=[0,16]),void 0===s&&(s="stackedBarTooltip");var l=e.call(this,n,s)||this,u=l.size,c=l.padding,p=new mi;p.domain=[0,1,2],p.range=[c,u-c],p.paddingInner=.3,p.paddingOuter=.3;var d=new Do;d.domain=a,d.range=[u-c,c];var h=d.convert(0),f=p.bandwidth;return l.bars=i.map(function(e){return e.map(function(e,t){var n=new Pa;return n.x=c,n.y=p.convert(t),n.width=h-d.convert(e),n.height=f,n.strokeWidth=1,n.crisp=!0,n})}),l.updateColors(r,o),l.root.append([].concat.apply([],l.bars)),l}return vd(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach(function(n,r){return n.forEach(function(n){n.fill=e[r],n.stroke=t[r]})})},t.chartType=a.q.StackedBar,t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(ud),Cd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wd=function(e){function t(n,r,o){return e.call(this,n,r,o,t.data,[0,10],"normalizedBarTooltip")||this}return Cd(t,e),t.chartType=a.q.NormalizedBar,t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(bd),Od=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xd=function(e){function t(t,n,r,o,i){void 0===o&&(o=.6),void 0===i&&(i="doughnutTooltip");var a=e.call(this,t,i)||this,s=(a.size-2*a.padding)/2,l=s+a.padding,u=[[Zo(-90),Zo(30)],[Zo(30),Zo(120)],[Zo(120),Zo(180)],[Zo(180),Zo(210)],[Zo(210),Zo(240)],[Zo(240),Zo(270)]];return a.sectors=u.map(function(e){var t=e[0],n=e[1],r=new Yl;return r.centerX=l,r.centerY=l,r.innerRadius=s*o,r.outerRadius=s,r.startAngle=t,r.endAngle=n,r.stroke=void 0,r.strokeWidth=1,r}),a.updateColors(n,r),a.root.append(a.sectors),a}return Od(t,e),t.prototype.updateColors=function(e,t){this.sectors.forEach(function(n,r){n.fill=e[r%e.length],n.stroke=t[r%t.length]})},t.chartType=a.q.Doughnut,t}(sd),Sd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pd=function(e){function t(t,n,r){return e.call(this,t,n,r,0,"pieTooltip")||this}return Sd(t,e),t.chartType=a.q.Pie,t}(xd),_d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ed=function(e){function t(t,n,r){var o=e.call(this,t,"lineTooltip")||this,i=o.size,a=o.padding,s=new Do;s.domain=[0,4],s.range=[a,i-a];var l=new Do;l.domain=[0,10],l.range=[i-a,a],o.lines=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]].map(function(e){var t=new Yo;return t.strokeWidth=3,t.lineCap="round",t.fill=void 0,e.forEach(function(e,n){t.path[n>0?"lineTo":"moveTo"](s.convert(n),l.convert(e))}),t}),o.updateColors(n,r);var u=new cs;return u.x=u.y=a,u.width=u.height=i-2*a,u.append(o.lines),o.root.append(u),o}return _d(t,e),t.prototype.updateColors=function(e,t){this.lines.forEach(function(t,n){t.stroke=e[n]})},t.chartType=a.q.Line,t}(ud),Td=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ad=function(e){function t(t,n,r){var o=e.call(this,t,"scatterTooltip")||this,i=o.size,a=o.padding,s=new Do;s.domain=[-.5,4],s.range=[2*a,i-a];var l=new Do;l.domain=[-.5,3.5],l.range=[i-a,a];var u=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(e){e.forEach(function(e){var t=e[0],n=e[1],r=new ii;r.strokeWidth=1,r.centerX=s.convert(t),r.centerY=l.convert(n),r.radiusX=r.radiusY=2.5,u.push(r)})}),o.points=u,o.updateColors(n,r);var c=new cs;return c.x=c.y=a,c.width=c.height=i-2*a,c.append(o.points),o.root.append(c),o}return Td(t,e),t.prototype.updateColors=function(e,t){this.points.forEach(function(n,r){n.stroke=t[r%t.length],n.fill=e[r%e.length]})},t.chartType=a.q.Scatter,t}(ud),Md=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dd=function(e){function t(t,n,r){var o=e.call(this,t,"bubbleTooltip")||this,i=o.size,a=o.padding,s=new Do;s.domain=[0,1],s.range=[2*a,i-a];var l=new Do;l.domain=[0,1],l.range=[i-a,a];var u=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(e){e.forEach(function(e){var t=e[0],n=e[1],r=e[2],o=new ii;o.strokeWidth=1,o.centerX=s.convert(t),o.centerY=l.convert(n),o.radiusX=o.radiusY=r,o.fillOpacity=.7,u.push(o)})}),o.points=u,o.updateColors(n,r);var c=new cs;return c.x=a,c.y=a,c.width=i-2*a,c.height=i-2*a,c.append(o.points),o.root.append(c),o}return Md(t,e),t.prototype.updateColors=function(e,t){this.points.forEach(function(n,r){n.stroke=t[r%t.length],n.fill=e[r%e.length]})},t.chartType=a.q.Bubble,t}(ud),kd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rd=function(e){function t(n,r,o,i){void 0===i&&(i=t.data);var a=e.call(this,n,"groupedAreaTooltip")||this,s=a.size,l=a.padding,u=new mi;u.domain=[0,1,2],u.paddingInner=1,u.paddingOuter=0,u.range=[l+.5,s-l-.5];var c=new Do;c.domain=[0,6],c.range=[s-l+.5,l];var p=2*i.length-1,d=[],h=c.convert(0);return i.forEach(function(e,t){var n=u.convert(t);e.forEach(function(e,r){var o=c.convert(e),i=d[r]||(d[r]=[]);i[t]={x:n,y:o},i[p-t]={x:n,y:h}})}),a.areas=d.reverse().map(function(e){var t=new Yo;t.strokeWidth=1,t.fillOpacity=.7;var n=t.path;return n.clear(),e.forEach(function(e,t){return n[t>0?"lineTo":"moveTo"](e.x,e.y)}),n.closePath(),t}),a.updateColors(r,o),a.root.append(a.areas),a}return kd(t,e),t.prototype.updateColors=function(e,t){this.areas.forEach(function(n,r){n.fill=e[r],n.stroke=t[r]})},t.chartType=a.q.Area,t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(ud),Id=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nd=function(e){function t(n,r,o,i,a){void 0===i&&(i=t.data),void 0===a&&(a="stackedAreaTooltip");var s=e.call(this,n,a)||this,l=s.size,u=s.padding,c=new mi;c.domain=[0,1,2],c.paddingInner=1,c.paddingOuter=0,c.range=[u+.5,l-u-.5];var p=new Do;p.domain=[0,16],p.range=[l-u+.5,u+.5];var d=2*i.length-1,h=[];return i.forEach(function(e,t){var n=c.convert(t),r=0;e.forEach(function(e,o){var i=p.convert(r+e),a=h[o]||(h[o]=[]);a[t]={x:n,y:i},a[d-t]={x:n,y:p.convert(r)},r+=e})}),s.areas=h.map(function(e){var t=new Yo;t.strokeWidth=1;var n=t.path;return n.clear(),e.forEach(function(e,t){return n[t>0?"lineTo":"moveTo"](e.x,e.y)}),n.closePath(),t}),s.updateColors(r,o),s.root.append(s.areas),s}return Id(t,e),t.prototype.updateColors=function(e,t){this.areas.forEach(function(n,r){n.fill=e[r],n.stroke=t[r]})},t.chartType=a.q.StackedArea,t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(ud),Fd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ld=function(e){function t(n,r,o,i){return void 0===i&&(i=t.data),e.call(this,n,r,o,i,"normalizedAreaTooltip")||this}return Fd(t,e),t.chartType=a.q.NormalizedArea,t.data=Nd.data.map(function(e){var t=e.reduce(function(e,t){return e+t},0);return e.map(function(e){return e/t*16})}),t}(Nd),jd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gd=function(e){function t(t,n,r){var o=e.call(this,t,"histogramTooltip")||this,i=o.padding,a=o.size,s=[2,5,11,13,10,6,1],l=new Do;l.domain=[0,s.length],l.range=[i,a-i];var u=new Do;u.domain=[0,s.reduce(function(e,t){return Math.max(e,t)},0)],u.range=[a-i,i];var c=u.convert(0);return o.bars=s.map(function(e,t){var n=u.convert(e),r=l.convert(t),o=l.convert(t+1),i=new Pa;return i.x=r,i.y=n,i.width=o-r,i.height=c-n,i.strokeWidth=1,i.crisp=!0,i}),o.updateColors(n,r),o.root.append(o.bars),o}return jd(t,e),t.prototype.updateColors=function(e,t){var n=e[0],r=t[0];this.bars.forEach(function(e){e.fill=n,e.stroke=r})},t.chartType=a.q.Histogram,t}(ud),Vd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bd=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Wd=function(e){function t(n,r,o){var i=e.call(this,t.TEMPLATE)||this;return i.wrappers={},i.chartController=n,i.fills=r,i.strokes=o,i}return Vd(t,e),t.prototype.init=function(){var e=this,t={columnGroup:[pd,hd,gd],barGroup:[yd,bd,wd],pieGroup:[Pd,xd],lineGroup:[Ed],scatterGroup:[Ad,Dd],areaGroup:[Rd,Nd,Ld],histogramGroup:[Gd]},n=this.getGui();Object.keys(t).forEach(function(r){var o=t[r],i=e.createBean(new a.e({title:e.chartTranslator.translate(r),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));o.forEach(function(t){var n=document.createElement("div");a.mb.addCssClass(n,"ag-chart-mini-thumbnail"),e.addManagedListener(n,"click",function(){e.chartController.setChartType(t.chartType),e.refreshSelected()}),e.wrappers[t.chartType]=n,e.createBean(new t(n,e.fills,e.strokes)),i.addItem(n)}),n.appendChild(i.getGui())}),this.refreshSelected()},t.prototype.refreshSelected=function(){var e=this.chartController.getChartType();for(var t in this.wrappers)a.mb.addOrRemoveCssClass(this.wrappers[t],"ag-selected",t===e)},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',Bd([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Bd([a.S],t.prototype,"init",null),t}(a.v),zd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ud=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Hd=function(e){function t(n){var r=e.call(this,t.TEMPLATE)||this;return r.miniCharts=[],r.cardItems=[],r.activePaletteIndex=0,r.palettes=[],r.themes=[],r.chartController=n,r}return zd(t,e),t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",a.mb.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",a.mb.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,Rc.EVENT_CHART_UPDATED,this.resetPalettes.bind(this))},t.prototype.resetPalettes=function(){var e=this,t=this.chartController.getPalettes();a.mb.shallowCompare(t,this.palettes)||(this.palettes=t,this.themes=this.chartController.getThemes(),this.activePaletteIndex=a.mb.findIndex(this.themes,function(t){return t===e.chartController.getThemeName()}),this.cardItems=[],a.mb.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(t,n){var r=e.activePaletteIndex===n,o=e.createBean(new Wd(e.chartController,t.fills,t.strokes));e.miniCharts.push(o),e.eMiniChartsContainer.appendChild(o.getGui()),e.addCardLink(n),r?o.refreshSelected():a.mb.addCssClass(o.getGui(),"ag-hidden")}),a.mb.addOrRemoveCssClass(this.eNavBar,"ag-hidden",this.palettes.length<=1),a.mb.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},t.prototype.addCardLink=function(e){var t=this,n=document.createElement("div");a.mb.addCssClass(n,"ag-chart-settings-card-item"),this.addManagedListener(n,"click",function(){t.setActivePalette(e,e<t.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(n),this.cardItems.push(n)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,t){var n=this;if(!this.isAnimating&&this.activePaletteIndex!==e){a.mb.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var r=this.miniCharts[this.activePaletteIndex],o=r.getGui(),i=this.miniCharts[e],s=i.getGui();r.refreshSelected(),i.refreshSelected();var l="left"===t?-1:1,u=s.style.left=a.mb.getAbsoluteWidth(this.getGui())*l+"px";a.mb.removeCssClass(s,"ag-hidden"),a.mb.addCssClass(o,"ag-animating"),a.mb.addCssClass(s,"ag-animating"),this.activePaletteIndex=e,this.chartController.setChartThemeName(this.themes[e]),this.isAnimating=!0,window.setTimeout(function(){o.style.left=-parseFloat(u)+"px",s.style.left="0px"},0),window.setTimeout(function(){n.isAnimating=!1,a.mb.removeCssClass(o,"ag-animating"),a.mb.removeCssClass(s,"ag-animating"),a.mb.addCssClass(o,"ag-hidden")},300)}},t.prototype.destroyMiniCharts=function(){a.mb.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},t.prototype.destroy=function(){this.destroyMiniCharts(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',Ud([Object(a.X)("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),Ud([Object(a.X)("eNavBar")],t.prototype,"eNavBar",void 0),Ud([Object(a.X)("eCardSelector")],t.prototype,"eCardSelector",void 0),Ud([Object(a.X)("ePrevBtn")],t.prototype,"ePrevBtn",void 0),Ud([Object(a.X)("eNextBtn")],t.prototype,"eNextBtn",void 0),Ud([a.S],t.prototype,"postConstruct",null),t}(a.v),Kd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xd=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},qd=function(e){function t(t){var n=e.call(this)||this;n.tabs=[],n.chartIcons={};var r=t.type,o=t.panels;return n.chartController=t.controller,n.currentChartType=r,n.panels=o,n}return Kd(t,e),t.prototype.init=function(){var e=this;this.panels.forEach(function(t){var n=t.replace("chart","").toLowerCase(),r=e.createTab(t,n,e.getPanelClass(n)),o=r.comp;e.tabs.push(r.tab),e.addDestroyFunc(function(){return e.destroyBean(o)})}),this.tabbedLayout=new a.fb({items:this.tabs,cssClass:"ag-chart-tabbed-menu"}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,t,n){var r=document.createElement("div");a.mb.addCssClass(r,"ag-chart-tab"),a.mb.addCssClass(r,"ag-chart-"+t);var o=new n(this.chartController);this.getContext().createBean(o),r.appendChild(o.getGui());var i=document.createElement("div"),s=this.chartTranslator.translate(t);return i.innerText=s,{comp:o,tab:{title:i,titleLabel:s,bodyPromise:a.g.resolve(r),name:e}}},t.prototype.updateCurrentChartType=function(e){a.mb.removeCssClass(this.chartIcons[this.currentChartType],"ag-selected"),this.currentChartType=e,a.mb.addCssClass(this.chartIcons[e],"ag-selected")},t.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),e.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return Lc;case t.TAB_FORMAT:return od;default:return Hd}},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_MAIN="settings",t.TAB_DATA="data",t.TAB_FORMAT="format",Xd([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Xd([a.S],t.prototype,"init",null),t}(a.v),Yd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jd=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Qd=function(e){function t(n,r,o){var i=e.call(this,t.TEMPLATE)||this;return i.eChartContainer=n,i.eMenuPanelContainer=r,i.chartController=o,i.buttons={chartSettings:["menu",function(){return i.showMenu("chartSettings")}],chartData:["menu",function(){return i.showMenu("chartData")}],chartFormat:["menu",function(){return i.showMenu("chartFormat")}],chartLink:["linked",function(e){return i.toggleDetached(e)}],chartUnlink:["unlinked",function(e){return i.toggleDetached(e)}],chartDownload:["save",function(){return i.saveChart()}]},i.tabs=[],i.menuVisible=!1,i}return Yd(t,e),t.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getToolbarOptions=function(){var e=this,t=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],n=this.gridOptionsWrapper.getChartToolbarItemsFunc();n&&(t=n({api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),defaultItems:t}).filter(function(t){return!!e.buttons[t]||(console.warn("AG Grid: '"+t+" is not a valid Chart Toolbar Option"),!1)})),this.chartController.isPivotChart()&&(t=t.filter(function(e){return"chartData"!==e}));var r=["chartUnlink","chartLink","chartDownload"];return this.tabs=t.filter(function(e){return-1===r.indexOf(e)}),t.filter(function(t){return-1!==r.indexOf(t)||e.tabs.length&&t===e.tabs[0]})},t.prototype.toggleDetached=function(e){var t=e.target,n=a.mb.containsClass(t,"ag-icon-linked");a.mb.addOrRemoveCssClass(t,"ag-icon-linked",!n),a.mb.addOrRemoveCssClass(t,"ag-icon-unlinked",n);var r=this.chartTranslator.translate(n?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");r&&(t.title=r),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this,t=this.getToolbarOptions(),n=this.getGui();t.forEach(function(t){var r=e.buttons[t],o=r[1],i=a.mb.createIconNoSpan(r[0],e.gridOptionsWrapper,void 0,!0);a.mb.addCssClass(i,"ag-chart-menu-icon");var s=e.chartTranslator.translate(t+"ToolbarTooltip");s&&(i.title=s),e.addManagedListener(i,"click",o),n.appendChild(i)})},t.prototype.saveChart=function(){this.dispatchEvent({type:t.EVENT_DOWNLOAD_CHART})},t.prototype.createMenuPanel=function(e){var t=this,n=this.gridOptionsWrapper.chartMenuPanelWidth(),r=this.menuPanel=this.createBean(new a.f({minWidth:n,width:n,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return r.setParentComponent(this),this.eMenuPanelContainer.appendChild(r.getGui()),this.tabbedMenu=this.createBean(new qd({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs})),this.addManagedListener(r,a.v.EVENT_DESTROYED,function(){return t.destroyBean(t.tabbedMenu)}),new a.g(function(n){window.setTimeout(function(){r.setBodyComponent(t.tabbedMenu),t.tabbedMenu.showTab(e),t.addManagedListener(t.eChartContainer,"click",function(e){t.getGui().contains(e.target)||t.menuVisible&&t.hideMenu()}),n(r)},100)})},t.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.showMenu=function(e){var t=this.tabs.indexOf(e);this.menuPanel?this.showContainer():this.createMenuPanel(t).then(this.showContainer.bind(this))},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){a.mb.addOrRemoveCssClass(this.eChartContainer,"ag-chart-menu-visible",this.menuVisible),a.mb.addOrRemoveCssClass(this.eChartContainer,"ag-chart-menu-hidden",!this.menuVisible)},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div class="ag-chart-menu"></div>',Jd([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),Jd([a.S],t.prototype,"postConstruct",null),t}(a.v),Zd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$d=function(){return($d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},eh=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},th=function(e){function t(n){var r=e.call(this,t.TEMPLATE)||this;return r.chartMenu=n,r}return Zd(t,e),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",function(t){"Enter"===t.key&&e.endEditing()}),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},t.prototype.setChartProxy=function(e){var t=this;if(this.chartProxy){for(var n=0;n++;n<this.destroyableChartListeners.length)this.destroyableChartListeners[n]();this.destroyableChartListeners=[]}this.chartProxy=e;var r=this.chartProxy.getChart(),o=r.scene.canvas.element,i=this.addManagedListener(o,"dblclick",function(e){var n=r.title;if(n&&n.node.containsPoint(e.offsetX,e.offsetY)){var o=n.node.computeBBox(),i=n.node.inverseTransformPoint(o.x,o.y);t.startEditing($d($d({},o),i))}}),a=this.addManagedListener(o,"mousemove",function(e){var t=r.title,n=t&&t.enabled&&t.node.containsPoint(e.offsetX,e.offsetY);o.style.cursor=n?"pointer":""});this.destroyableChartListeners=[i,a]},t.prototype.startEditing=function(e){if(!this.chartMenu||!this.chartMenu.isVisible()){var t=this.chartProxy.getChart().width,n=Math.max(Math.min(e.width+20,t),300),r=this.getGui();a.mb.addCssClass(r,"currently-editing");var o=r.style;o.fontFamily=this.chartProxy.getTitleOption("fontFamily"),o.fontWeight=this.chartProxy.getTitleOption("fontWeight"),o.fontStyle=this.chartProxy.getTitleOption("fontStyle"),o.fontSize=this.chartProxy.getTitleOption("fontSize")+"px",o.color=this.chartProxy.getTitleOption("color");var i=this.chartProxy.getTitleOption("text"),s=i===this.chartTranslator.translate("titlePlaceholder")?"":i;r.value=s;var l=r.getBoundingClientRect();o.left=Math.round(e.x+e.width/2-n/2)+"px",o.top=Math.round(e.y+e.height/2-l.height/2)+"px",o.width=Math.round(n)+"px",r.focus()}},t.prototype.endEditing=function(){var e=this.getGui().value;this.chartProxy.setTitleOption("text",e),this.eventService.dispatchEvent({type:"chartTitleEdit"}),a.mb.removeCssClass(this.getGui(),"currently-editing")},t.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',eh([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),eh([a.S],t.prototype,"init",null),t}(a.v),nh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rh=function(){return(rh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},oh=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return nh(t,e),t.prototype.createChart=function(){var e=this.chartProxyParams.grouping,t=this.isColumnChart(),n=this.iChartOptions,r=n;e&&(r.type="groupedCategory"),r.autoSize=!0,r.axes=[rh(rh({},t?n.xAxis:n.yAxis),{position:t?"bottom":"left",type:e?"groupedCategory":"category"}),rh(rh({},t?n.yAxis:n.xAxis),{position:t?"left":"bottom",type:"number"})];var o=this.chartType,i=this.iChartOptions.seriesDefaults;return r.series=[rh(rh({type:t?"column":"bar",grouped:!this.crossFiltering&&(o===a.q.GroupedColumn||o===a.q.GroupedBar),normalizedTo:this.crossFiltering||o!==a.q.NormalizedColumn&&o!==a.q.NormalizedBar?void 0:100},i),{fills:i.fill.colors,fillOpacity:i.fill.opacity,strokes:i.stroke.colors,strokeOpacity:i.stroke.opacity,strokeWidth:i.stroke.width})],r.container=this.chartProxyParams.parentElement,Cc.create(r)},t.prototype.update=function(e){var t=this;this.chartProxyParams.grouping=e.grouping,this.updateAxes("category",!this.isColumnChart());var n=this.chart,r=n.series[0],o=this.getPalette(),i=e.fields;if(this.crossFiltering){i.forEach(function(e){var t=rh({},e);t.colId=e.colId+"-filtered-out",i.push(t)});var a=[];o.fills.forEach(function(e){a.push(e),a.push(t.hexToRGBA(e,"0.3"))}),r.fills=a,o.strokes.forEach(function(e){a.push(e),a.push(t.hexToRGBA(e,"0.3"))}),r.strokes=[],r.highlightStyle.fill=void 0;var s=e.fields.map(function(e){return e.colId});r.hideInLegend=s.filter(function(e){return-1!==e.indexOf("-filtered-out")}),n.legend.addEventListener("click",function(e){r.toggleSeriesItem(e.itemId+"-filtered-out",e.enabled)}),n.tooltip.delay=500,r.addEventListener("nodeClick",this.crossFilterCallback)}else r.fills=o.fills,r.strokes=o.strokes;r.data=this.transformData(e.data,e.category.id),r.xKey=e.category.id,r.xName=e.category.name,r.yKeys=e.fields.map(function(e){return e.colId}),r.yNames=e.fields.map(function(e){return e.displayName}),this.updateLabelRotation(e.category.id,!this.isColumnChart())},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),r=this.chartType,o=this.getStandaloneChartType(),i=t.getConfig(o+".series."+(r===a.q.GroupedBar||r===a.q.StackedBar||r===a.q.NormalizedBar?"bar":"column"));return n.seriesDefaults={shadow:i.shadow,label:i.label,tooltip:{enabled:i.tooltip&&i.tooltip.enabled,renderer:i.tooltip&&i.tooltip.renderer},fill:{colors:i.fills||t.palette.fills,opacity:i.fillOpacity},stroke:{colors:i.strokes||t.palette.strokes,opacity:i.strokeOpacity,width:i.strokeWidth},lineDash:i.lineDash?i.lineDash:[0],lineDashOffset:i.lineDashOffset,highlightStyle:i.highlightStyle,listeners:i.listeners},n},t.prototype.isColumnChart=function(){return a.mb.includes([a.q.Column,a.q.GroupedColumn,a.q.StackedColumn,a.q.NormalizedColumn],this.chartType)},t.prototype.getDefaultOptions=function(){var e=this.getDefaultFontOptions(),t=this.getDefaultCartesianChartOptions();return t.seriesDefaults=rh(rh({},t.seriesDefaults),{tooltip:{enabled:!0},label:rh(rh({},e),{enabled:!1}),shadow:this.getDefaultDropShadowOptions()}),t},t}(Cp),ih=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ah=function(){return(ah=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},sh=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return ih(t,e),t.prototype.createChart=function(){var e=this.chartProxyParams,t=e.grouping,n=e.parentElement,r=this.getSeriesDefaults(),o=ah({},r.marker);o.type&&(o.shape=o.type,delete o.type);var i=this.iChartOptions,a=i,s=i.xAxis.type?i.xAxis.type:"category";return t&&(a.type="groupedCategory"),a.autoSize=!0,a.axes=[ah({type:t?"groupedCategory":s,position:"bottom",paddingInner:1,paddingOuter:0},this.getXAxisDefaults(s,i)),ah({type:"number",position:"left"},i.yAxis)],a.series=[ah(ah({},r),{type:"area",fills:r.fill.colors,fillOpacity:r.fill.opacity,strokes:r.stroke.colors,strokeOpacity:r.stroke.opacity,strokeWidth:r.stroke.width,tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},marker:o})],Cc.create(a,n)},t.prototype.update=function(e){this.chartProxyParams.grouping=e.grouping;var t=this.isTimeAxis(e)?"time":"category";if(this.updateAxes(t),this.chartType===a.q.Area)this.updateAreaChart(e);else{var n=this.chart.series[0];if(!n){var r=this.getSeriesDefaults(),o=ah({},r.marker);if(o.type&&(o.shape=o.type,delete o.type),!(n=Cc.createComponent(ah(ah({},r),{fills:r.fill.colors,fillOpacity:r.fill.opacity,strokes:r.stroke.colors,strokeOpacity:r.stroke.opacity,strokeWidth:r.stroke.width,marker:o}),"area.series")))return;this.chart.addSeries(n)}var i=this.getPalette(),s=i.fills,l=i.strokes;n.data=this.transformData(e.data,e.category.id),n.xKey=e.category.id,n.xName=e.category.name,n.yKeys=e.fields.map(function(e){return e.colId}),n.yNames=e.fields.map(function(e){return e.displayName}),n.fills=s,n.strokes=l}this.updateLabelRotation(e.category.id,!1,t)},t.prototype.updateAreaChart=function(e){var t=this,n=this.chart;if(0!==e.fields.length){var r,o=e.fields.map(function(e){return e.colId}),i=n.series.reduceRight(function(e,t,r){var i=t.yKeys[0];return o.indexOf(i)===r?e.set(i,t):n.removeSeries(t),e},new Map),a=this.transformData(e.data,e.category.id),s=this.getPalette(),l=s.fills,u=s.strokes;e.fields.forEach(function(o,s){var c=t.processDataForCrossFiltering(a,o.colId,e),p=c.yKey,d=c.atLeastOneSelectedPoint,h=i.get(o.colId),f=l[s%l.length],g=u[s%u.length];if(h)h.data=a,h.xKey=e.category.id,h.xName=e.category.name,h.yKeys=[p],h.yNames=[o.displayName],h.fills=[f],h.strokes=[g];else{var m=t.getSeriesDefaults(),y=ah({},m.marker);y.type&&(y.shape=y.type,delete y.type);var v=ah(ah({},m),{data:a,xKey:e.category.id,xName:e.category.name,yKeys:[p],yNames:[o.displayName],fills:[f],strokes:[g],fillOpacity:m.fill.opacity,strokeOpacity:m.stroke.opacity,strokeWidth:m.stroke.width,marker:y});h=Cc.createComponent(v,"area.series"),n.addSeriesAfter(h,r)}t.updateSeriesForCrossFiltering(h,o.colId,n,e,d),r=h})}else n.removeAllSeries()},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),r=t.getConfig("area.series.area");return n.seriesDefaults={shadow:r.shadow,tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},fill:{colors:r.fills||t.palette.fills,opacity:r.fillOpacity},stroke:{colors:r.strokes||t.palette.strokes,opacity:r.strokeOpacity,width:r.strokeWidth},label:r.label,marker:{enabled:r.marker.enabled,shape:r.marker.shape,size:r.marker.size,strokeWidth:r.marker.strokeWidth,formatter:r.marker.formatter},lineDash:r.lineDash?r.lineDash:[0],lineDashOffset:r.lineDashOffset,highlightStyle:r.highlightStyle,listeners:r.listeners},n},t.prototype.getDefaultOptions=function(){var e=this.getDefaultCartesianChartOptions();return e.xAxis.label.rotation=335,e.seriesDefaults=ah(ah({},e.seriesDefaults),{fill:ah(ah({},e.seriesDefaults.fill),{opacity:this.chartType===a.q.Area?.7:1}),stroke:ah(ah({},e.seriesDefaults.stroke),{width:3}),marker:{shape:"circle",enabled:!0,size:6,strokeWidth:1},tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),e},t.prototype.getSeriesDefaults=function(){return ah(ah({},this.iChartOptions.seriesDefaults),{type:"area",normalizedTo:this.chartType===a.q.NormalizedArea?100:void 0})},t}(Cp),lh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uh=function(){return(uh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ch=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return lh(t,e),t.prototype.createChart=function(){var e=this.chartProxyParams,t=e.grouping,n=e.parentElement,r=this.iChartOptions,o=r;o.autoSize=!0;var i=r.xAxis.type?r.xAxis.type:"category";return t&&(o.type="groupedCategory"),o.axes=[uh({type:t?"groupedCategory":i,position:"bottom"},this.getXAxisDefaults(i,r)),uh({type:"number",position:"left"},r.yAxis)],Cc.create(o,n)},t.prototype.update=function(e){var t=this;if(this.chartProxyParams.grouping=e.grouping,0!==e.fields.length){var n=this.isTimeAxis(e)?"time":"category";this.updateAxes(n);var r,o=this.chart,i=e.fields,a=i.map(function(e){return e.colId}),s=this.transformData(e.data,e.category.id),l=o.series.reduceRight(function(e,t,n){var r=t.yKey;return a.indexOf(r)===n?e.set(r,t):o.removeSeries(t),e},new Map),u=this.getPalette(),c=u.fills,p=u.strokes;i.forEach(function(n,i){var a=t.processDataForCrossFiltering(s,n.colId,e),u=a.yKey,d=a.atLeastOneSelectedPoint,h=l.get(n.colId),f=c[i%c.length],g=p[i%p.length];if(h)h.title=n.displayName,h.data=s,h.xKey=e.category.id,h.xName=e.category.name,h.yKey=u,h.yName=n.displayName,h.marker.fill=f,h.marker.stroke=g,h.stroke=f;else{var m=t.iChartOptions.seriesDefaults,y=uh(uh({},m.marker),{fill:f,stroke:g});y.type&&(y.shape=y.type,delete y.type);var v=uh(uh({},m),{type:"line",title:n.displayName,data:s,xKey:e.category.id,xName:e.category.name,yKey:u,yName:n.displayName,fill:f,stroke:f,fillOpacity:m.fill.opacity,strokeOpacity:m.stroke.opacity,strokeWidth:m.stroke.width,tooltip:{enabled:m.tooltip&&m.tooltip.enabled,renderer:m.tooltip&&m.tooltip.enabled&&m.tooltip.renderer},marker:y});h=Cc.createComponent(v,"line.series"),o.addSeriesAfter(h,r)}t.updateSeriesForCrossFiltering(h,n.colId,o,e,d),r=h}),this.updateLabelRotation(e.category.id,!1,n)}else this.chart.removeAllSeries()},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),r=t.getConfig("line.series.line");return n.seriesDefaults={tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},fill:{colors:[],opacity:1},stroke:{colors:r.stroke&&[r.stroke]||t.palette.strokes,opacity:r.strokeOpacity,width:r.strokeWidth},label:r.label,marker:{enabled:r.marker.enabled,shape:r.marker.shape,size:r.marker.size,strokeWidth:r.marker.strokeWidth,formatter:r.marker.formatter},lineDash:r.lineDash?r.lineDash:[0],lineDashOffset:r.lineDashOffset,highlightStyle:r.highlightStyle,listeners:r.listeners},n},t.prototype.getDefaultOptions=function(){var e=this.getDefaultCartesianChartOptions();return e.xAxis.label.rotation=335,e.seriesDefaults=uh(uh({},e.seriesDefaults),{stroke:uh(uh({},e.seriesDefaults.stroke),{width:3}),marker:{enabled:!0,shape:"circle",size:6,strokeWidth:1},tooltip:{enabled:!0}}),e},t}(Cp),ph=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dh=function(e){function t(t){return e.call(this,t)||this}return ph(t,e),t.prototype.addCrossFilteringTooltipRenderer=function(e){e.tooltip.renderer=function(e){return{content:e.datum[e.labelKey]+": "+e.angleValue*e.datum[e.radiusKey]}}},t}(mp),hh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fh=function(){return(fh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},gh=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return hh(t,e),t.prototype.createChart=function(){var e=this.iChartOptions,t=e.seriesDefaults,n=e;return n.autoSize=!0,n.series=[fh(fh({},t),{fills:t.fill.colors,fillOpacity:t.fill.opacity,strokes:t.stroke.colors,strokeOpacity:t.stroke.opacity,strokeWidth:t.stroke.width,type:"pie"})],Cc.create(n,this.chartProxyParams.parentElement)},t.prototype.update=function(e){var t=this.chart;if(0!==e.fields.length){var n=e.fields[0],r=n;if(this.crossFiltering){var o=e.fields;o.forEach(function(e){var t=fh({},e);t.colId=e.colId+"-filtered-out",o.push(t)});var i=o[1];e.data.forEach(function(e){e[n.colId+"-total"]=e[n.colId]+e[i.colId],e[n.colId]=e[n.colId]/e[n.colId+"-total"],e[i.colId]=1});var a=t.series[1],s=i;a=this.updateSeries(t,a,r,s,e,void 0),this.updateSeries(t,t.series[0],r,s=r,e,a)}else this.updateSeries(t,t.series[0],r,r,e,void 0)}else t.removeAllSeries()},t.prototype.updateSeries=function(e,t,n,r,o,i){var a=this.iChartOptions.seriesDefaults,s=t;if((t&&t.angleKey)!==r.colId){e.removeSeries(t);var l=fh(fh({},a),{type:"pie",angleKey:this.crossFiltering?n.colId+"-total":n.colId,radiusKey:this.crossFiltering?r.colId:void 0,title:fh(fh({},a.title),{text:a.title.text||o.fields[0].displayName}),fills:a.fill.colors,fillOpacity:a.fill.opacity,strokes:a.stroke.colors,strokeOpacity:a.stroke.opacity,strokeWidth:a.stroke.width,tooltip:{enabled:a.tooltip&&a.tooltip.enabled,renderer:a.tooltip&&a.tooltip.enabled&&a.tooltip.renderer}});s=Cc.createComponent(l,"pie.series"),this.crossFiltering&&s&&!s.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(s)}return s.angleName=r.displayName,s.labelKey=o.category.id,s.labelName=o.category.name,s.data=o.data,this.crossFiltering&&(s.radiusMin=0,s.radiusMax=1,i?e.legend.addEventListener("click",function(e){i&&i.toggleSeriesItem(e.itemId,e.enabled)}):(s.fills=this.changeOpacity(s.fills,.3),s.strokes=this.changeOpacity(s.strokes,.3),s.showInLegend=!1),e.tooltip.delay=500,s.highlightStyle.fill=void 0,s.addEventListener("nodeClick",this.crossFilterCallback)),e.addSeries(s),s},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),r=t.getConfig("pie.series.pie");n.seriesDefaults={title:r.title,label:r.label,callout:r.callout,shadow:r.shadow,tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},fill:{colors:r.fills||t.palette.fills,opacity:r.fillOpacity},stroke:{colors:r.strokes||t.palette.strokes,opacity:r.strokeOpacity,width:r.strokeWidth},lineDash:r.lineDash,lineDashOffset:r.lineDashOffset,highlightStyle:r.highlightStyle,listeners:r.listeners};var o=n.seriesDefaults.callout;return o&&!o.colors&&(o.colors=n.seriesDefaults.fill.colors),n},t.prototype.getDefaultOptions=function(){var e=this.getPredefinedPalette().strokes,t=this.getDefaultChartOptions(),n=this.getDefaultFontOptions();return t.seriesDefaults=fh(fh({},t.seriesDefaults),{title:fh(fh({},n),{enabled:!1,fontSize:12,fontWeight:"bold"}),callout:{colors:e,length:10,strokeWidth:2},label:fh(fh({},n),{enabled:!1,offset:3,minAngle:0}),tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),t},t}(dh),mh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yh=function(){return(yh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},vh=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return mh(t,e),t.prototype.createChart=function(){var e=this.iChartOptions;return e.type="pie",e.autoSize=!0,e.series=[],Cc.create(e,this.chartProxyParams.parentElement)},t.prototype.update=function(e){var t=this;if(0!==e.fields.length){var n=this.chart,r=e.fields.map(function(e){return e.colId}),o={};n.series.forEach(function(e){var t=e,n=t.angleKey;a.mb.includes(r,n)&&(o[n]=t)});var i=this.iChartOptions.seriesDefaults,s=i.fill.colors,l=i.stroke.colors,u=e.fields.length,c=0;e.fields.forEach(this.crossFiltering?function(r,a){var p=yh({},r);p.colId=r.colId+"-filtered-out",e.data.forEach(function(e){e[r.colId+"-total"]=e[r.colId]+e[p.colId],e[r.colId]=e[r.colId]/e[r.colId+"-total"],e[p.colId]=1});var d=t.updateSeries({seriesMap:o,angleField:r,field:p,seriesDefaults:i,index:a,params:e,fills:s,strokes:l,doughnutChart:n,offset:c,numFields:u,opaqueSeries:void 0}),h=d.updatedOffset;t.updateSeries({seriesMap:o,angleField:r,field:r,seriesDefaults:i,index:a,params:e,fills:s,strokes:l,doughnutChart:n,offset:c,numFields:u,opaqueSeries:d.pieSeries}),c=h}:function(r,a){var p=t.updateSeries({seriesMap:o,angleField:r,field:r,seriesDefaults:i,index:a,params:e,fills:s,strokes:l,doughnutChart:n,offset:c,numFields:u,opaqueSeries:void 0}).updatedOffset;c=p}),n.series=a.mb.values(o)}else this.chart.removeAllSeries()},t.prototype.updateSeries=function(e){var t=this,n=e.seriesMap[e.field.colId],r=yh(yh({},e.seriesDefaults),{type:"pie",angleKey:this.crossFiltering?e.angleField.colId+"-total":e.angleField.colId,radiusKey:this.crossFiltering?e.field.colId:void 0,title:yh(yh({},e.seriesDefaults.title),{text:e.seriesDefaults.title.text||e.field.displayName,showInLegend:e.numFields>1}),fills:e.seriesDefaults.fill.colors,fillOpacity:e.seriesDefaults.fill.opacity,strokes:e.seriesDefaults.stroke.colors,strokeOpacity:e.seriesDefaults.stroke.opacity,strokeWidth:e.seriesDefaults.stroke.width,tooltip:{enabled:e.seriesDefaults.tooltip&&e.seriesDefaults.tooltip.enabled,renderer:e.seriesDefaults.tooltip&&e.seriesDefaults.tooltip.enabled&&e.seriesDefaults.tooltip.renderer||void 0}}),o=r.callout&&r.callout.colors||r.strokes||[],i=n||Cc.createComponent(r,"pie.series");i.title&&(i.title.showInLegend=e.numFields>1),n||this.crossFiltering&&!i.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(i),i.angleName=e.field.displayName,i.labelKey=e.params.category.id,i.labelName=e.params.category.name,i.data=e.params.data,0===e.index&&(i.toggleSeriesItem=function(t,n){e.doughnutChart&&e.doughnutChart.series.forEach(function(e){e.seriesItemEnabled[t]=n}),i.scheduleData()}),this.crossFiltering?(i.radiusMin=0,i.radiusMax=1,e.opaqueSeries?(e.doughnutChart.legend.addEventListener("click",function(t){e.opaqueSeries&&e.opaqueSeries.toggleSeriesItem(t.itemId,t.enabled)}),i.fills=e.fills,i.strokes=e.strokes,i.callout.colors=o):(i.fills=e.fills.map(function(e){return t.hexToRGBA(e,"0.3")}),i.strokes=e.strokes.map(function(e){return t.hexToRGBA(e,"0.3")}),i.showInLegend=!1),i.highlightStyle.fill=void 0,i.addEventListener("nodeClick",this.crossFilterCallback),e.doughnutChart.tooltip.delay=500):(i.fills=e.fills,i.strokes=e.strokes,i.callout.colors=o);var a=e.numFields>1?20:40;return i.outerRadiusOffset=e.offset,e.offset-=a,i.innerRadiusOffset=e.offset,e.offset-=a,n||(e.seriesMap[e.field.colId]=i),{updatedOffset:e.offset,pieSeries:i}},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),r=t.getConfig("pie.series.pie");return n.seriesDefaults={title:r.title,label:r.label,callout:r.callout,shadow:r.shadow,tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},fill:{colors:r.fills||t.palette.fills,opacity:r.fillOpacity},stroke:{colors:r.strokes||t.palette.strokes,opacity:r.strokeOpacity,width:r.strokeWidth},lineDash:r.lineDash,lineDashOffset:r.lineDashOffset,highlightStyle:r.highlightStyle,listeners:r.listeners},n},t.prototype.getDefaultOptions=function(){var e=this.getPredefinedPalette().strokes,t=this.getDefaultChartOptions(),n=this.getDefaultFontOptions();return t.seriesDefaults=yh(yh({},t.seriesDefaults),{title:yh(yh({},n),{enabled:!0,fontSize:12,fontWeight:"bold"}),callout:{colors:e,length:10,strokeWidth:2},label:yh(yh({},n),{enabled:!1,offset:3,minAngle:0}),tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),t},t}(dh),bh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ch=function(){return(Ch=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},wh=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return bh(t,e),t.prototype.createChart=function(){var e=this.chartProxyParams.parentElement,t=this.getSeriesDefaults(),n=this.iChartOptions,r=n;return r.autoSize=!0,r.axes=[Ch({type:"number",position:"bottom"},n.xAxis),Ch({type:"number",position:"left"},n.yAxis)],r.series=[Ch(Ch({},t),{fill:t.fill.colors[0],fillOpacity:t.fill.opacity,stroke:t.stroke.colors[0],strokeOpacity:t.stroke.opacity,strokeWidth:t.stroke.width,tooltip:{enabled:t.tooltip&&t.tooltip.enabled,renderer:t.tooltip&&t.tooltip.enabled&&t.tooltip.renderer||void 0},type:"histogram"})],Cc.create(r,e)},t.prototype.update=function(e){var t=e.fields[0],n=this.chart.series[0];n.data=e.data,n.xKey=t.colId,n.xName=t.displayName,n.areaPlot=!1;var r=this.getPalette(),o=r.strokes;n.fill=r.fills[0],n.stroke=o[0]},t.prototype.extractIChartOptionsFromTheme=function(t){var n=e.prototype.extractIChartOptionsFromTheme.call(this,t),r=t.getConfig("histogram.series.histogram");return n.seriesDefaults={shadow:this.getDefaultDropShadowOptions(),label:r.label,tooltip:{enabled:r.tooltip&&r.tooltip.enabled,renderer:r.tooltip&&r.tooltip.renderer},fill:{colors:r.fill&&[r.fill]||t.palette.fills,opacity:r.fillOpacity},stroke:{colors:r.stroke&&[r.stroke]||t.palette.strokes,opacity:r.strokeOpacity,width:r.strokeWidth},lineDash:r.lineDash?r.lineDash:[0],lineDashOffset:r.lineDashOffset,highlightStyle:r.highlightStyle,listeners:r.listeners,binCount:r.binCount,bins:r.bins},n},t.prototype.getSeriesDefaults=function(){return Ch({},this.iChartOptions.seriesDefaults)},t.prototype.getDefaultOptions=function(){var e=this.getDefaultFontOptions(),t=this.getDefaultCartesianChartOptions();return t.xAxis.label.rotation=0,t.yAxis.label.rotation=0,t.seriesDefaults=Ch(Ch({},t.seriesDefaults),{tooltip:{enabled:!0},label:Ch(Ch({},e),{enabled:!1}),shadow:this.getDefaultDropShadowOptions(),binCount:10}),t},t}(Cp),Oh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xh=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Sh=function(e){function t(n){var r=e.call(this,t.TEMPLATE)||this;return r.params=n,r}return Oh(t,e),t.prototype.init=function(){var e=this.gridOptionsWrapper.getChartThemes();if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var t=this.params.chartThemeName;a.mb.includes(e,t)||(t=e[0]);var n={pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:t,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering},r=this.gridOptionsWrapper.isEnableRtl();a.mb.addCssClass(this.getGui(),r?"ag-rtl":"ag-ltr"),this.model=this.createBean(new _r(n)),this.chartController=this.createManagedBean(new Rc(this.model)),this.validateCustomThemes(),this.createChart(),this.params.processChartOptions=void 0,this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,Rc.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,Qd.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},t.prototype.validateCustomThemes=function(){var e=this.gridOptionsWrapper.getChartThemes(),t=this.gridOptionsWrapper.getCustomChartThemes();t&&a.mb.getAllKeysInObjects([t]).forEach(function(t){a.mb.includes(e,t)||console.warn("AG Grid: a custom chart theme with the name '"+t+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.createChart=function(){var e,n,r=this;if(this.chartProxy){var o=this.chartProxy.getChart();o&&(e=o.width,n=o.height),this.chartProxy.destroy()}var i=this.gridOptionsWrapper.getAllowProcessChartOptions(),s=this.params.processChartOptions||this.gridOptionsWrapper.getProcessChartOptionsFunc(),l=this.gridOptionsWrapper.getCustomChartThemes(),u=this.model.getChartType(),c=this.model.isGrouping(),p={chartId:this.getChartId(),chartType:u,chartThemeName:this.model.getChartThemeName(),allowProcessChartOptions:i,processChartOptions:s,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:l,getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,allowPaletteOverride:!this.params.chartThemeName,isDarkTheme:this.environment.isThemeDark.bind(this.environment),crossFiltering:this.params.crossFiltering,crossFilterCallback:function(e,t){r.params.crossFilteringContext.lastSelectedChartId=t?"":r.getChartId(),r.crossFilter.filter(e,t)},parentElement:this.eChart,width:e,height:n,grouping:c,document:this.gridOptionsWrapper.getDocument(),eventService:this.eventService,gridApi:this.gridApi,columnApi:this.columnApi,restoringChart:this.params.restoringChart};if(this.chartType=u,this.chartThemeName=this.model.getChartThemeName(),this.chartProxy=t.createChartProxy(p),this.chartProxy){this.titleEdit&&this.titleEdit.setChartProxy(this.chartProxy);var d=this.eChart.querySelector("canvas");d&&a.mb.addCssClass(d,"ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy)}else console.warn("AG Grid: invalid chart type supplied: ",p.chartType)},t.prototype.getChartThemeName=function(){return this.chartController.getThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemes()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},t.createChartProxy=function(e){switch(e.chartType){case a.q.Column:case a.q.Bar:case a.q.GroupedColumn:case a.q.StackedColumn:case a.q.NormalizedColumn:case a.q.GroupedBar:case a.q.StackedBar:case a.q.NormalizedBar:return new oh(e);case a.q.Pie:return new gh(e);case a.q.Doughnut:return new vh(e);case a.q.Area:case a.q.StackedArea:case a.q.NormalizedArea:return new sh(e);case a.q.Line:return new ch(e);case a.q.Scatter:case a.q.Bubble:return new xp(e);case a.q.Histogram:return new wh(e)}},t.prototype.addDialog=function(){var e=this,t=this.chartTranslator.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),n=this.getBestDialogSize();this.chartDialog=new a.d({resizable:!0,movable:!0,maximizable:!0,title:t,width:n.width,height:n.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(a.d.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),t=.75*a.mb.getAbsoluteWidth(e),n=.75*a.mb.getAbsoluteHeight(e),r=this.chartProxy.getChartOptions(),o=r.width,i=r.height;if(o&&i)return{width:o,height:i};var s=this.chartProxy.getChart();return i=this.params.insideDialog?470:s.height,((o=this.params.insideDialog?850:s.width)>t||i>n)&&(o=Math.min(o,t),(i=Math.round(.553*o))>n&&(i=n,o=Math.min(o,Math.round(i/.553)))),{width:o,height:i}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new Qd(this.eChartContainer,this.eMenuContainer,this.chartController)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new th(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.setChartProxy(this.chartProxy)},t.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},t.prototype.shouldRecreateChart=function(){return this.chartType!==this.model.getChartType()||this.chartThemeName!==this.model.getChartThemeName()},t.prototype.getCurrentChartType=function(){return this.chartType},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartId=function(){return this.model.getChartId()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.updateChart=function(){var e=this,t=this.model,n=this.chartProxy,r=t.getSelectedValueColState().map(function(e){return{colId:e.colId,displayName:e.displayName}}),o=t.getData();if(!this.handleEmptyChart(o,r)){var i=t.getSelectedDimension(),a={data:o,grouping:t.isGrouping(),category:{id:i.colId,name:i.displayName,chartDataType:this.getChartDataType(i.colId)},fields:r,chartId:this.getChartId(),getCrossFilteringContext:function(){return e.params.crossFilteringContext}};n.update(a),this.titleEdit.setChartProxy(this.chartProxy)}},t.prototype.getChartDataType=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef().chartDataType:void 0},t.prototype.handleEmptyChart=function(e,t){var n=this.chartProxy.getChart().container,r=this.model.isPivotChart()&&!this.model.isPivotMode(),o=1;this.chartController.isActiveXYChart()&&(o=this.model.getChartType()===a.q.Bubble?3:2);var i=t.length<o||0===e.length;if(n){var s=r||i;a.mb.setDisplayed(this.eChart,!s),a.mb.setDisplayed(this.eEmpty,s)}return r?(this.eEmpty.innerText=this.chartTranslator.translate("pivotChartRequiresPivotMode"),!0):!!i&&(this.eEmpty.innerText=this.chartTranslator.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(){this.chartProxy.downloadChart()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},t.prototype.refreshCanvasSize=function(){if(this.params.insideDialog){var e=this.chartProxy,t=this.eChart;if(this.chartMenu.isVisible()){var n=this.chartProxy.getChart();n.height=a.mb.getInnerHeight(t),n.width=a.mb.getInnerWidth(t)}else e.setChartOption("width",a.mb.getInnerWidth(t)),e.setChartOption("height",a.mb.getInnerHeight(t))}},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.raiseChartCreatedEvent=function(){var e=Object.freeze({type:a.C.EVENT_CHART_CREATED,chartId:this.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.raiseChartDestroyedEvent=function(){var e=Object.freeze({type:a.C.EVENT_CHART_DESTROYED,chartId:this.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var t=this.getGui();a.mb.clearElement(t),a.mb.removeFromParent(t),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',xh([Object(a.X)("eChart")],t.prototype,"eChart",void 0),xh([Object(a.X)("eChartContainer")],t.prototype,"eChartContainer",void 0),xh([Object(a.X)("eMenuContainer")],t.prototype,"eMenuContainer",void 0),xh([Object(a.X)("eEmpty")],t.prototype,"eEmpty",void 0),xh([Object(a.X)("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),xh([Object(a.k)("environment")],t.prototype,"environment",void 0),xh([Object(a.k)("chartTranslator")],t.prototype,"chartTranslator",void 0),xh([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),xh([Object(a.k)("chartCrossFilter")],t.prototype,"crossFilter",void 0),xh([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),xh([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),xh([Object(a.k)("popupService")],t.prototype,"popupService",void 0),xh([a.S],t.prototype,"init",null),t}(a.v),Ph=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_h=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Eh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeCharts=new Set,t.activeChartComps=new Set,t.crossFilteringContext={lastSelectedChartId:""},t}return Ph(t,e),t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(t){return e.push(t.getChartModel())}),e},t.prototype.getChartRef=function(e){var t;return this.activeCharts.forEach(function(n){n.chartId===e&&(t=n)}),t},t.prototype.getChartImageDataURL=function(e){var t;return this.activeChartComps.forEach(function(n){n.getChartId()===e.chartId&&(t=n.getChartImageDataURL(e.fileFormat))}),t},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e=a.q.GroupedColumn);var t=this.getSelectedRange();return this.createChart(t,e)},t.prototype.restoreChart=function(e,t){var n=this;if(e){var r=this.mapToRangeParam(e,t),o=function(e){return n.rangeService?n.rangeService.createCellRangeFromCellRangeParams(e):void 0};if(e.modelType&&"pivot"===e.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var i=o({rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(e){return e.getColId()})});return i?this.createChart(i,r.chartType,r.chartThemeName,!0,!0,r.chartContainer,void 0,r.chartThemeOverrides,r.unlinkChart,r.processChartOptions,!1,!0):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var a=o(r.cellRange);if(a)return this.createChart(a,r.chartType,r.chartThemeName,!1,r.suppressChartRanges,r.chartContainer,r.aggFunc,r.chartThemeOverrides,r.unlinkChart,r.processChartOptions,!1,!0);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},t.prototype.createRangeChart=function(e){var t=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(t)return this.createChart(t,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,e.processChartOptions);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var t={rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(e){return e.getColId()})},n=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(t):void 0;if(n)return this.createChart(n,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart,e.processChartOptions);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createCrossFilterChart=function(e){var t=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(t)return this.createChart(t,e.chartType,e.chartThemeName,!1,!(null!=e.suppressChartRanges)||e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,!0);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createChart=function(e,t,n,r,o,i,s,l,u,c,p,d){var h=this;void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===u&&(u=!1),void 0===p&&(p=!1),void 0===d&&(d=!1);var f=this.gridOptionsWrapper.getCreateChartContainerFunc(),g=new Sh({pivotChart:r,cellRange:e,chartType:t,chartThemeName:n,insideDialog:!(i||f),suppressChartRanges:o,aggFunc:s,chartThemeOverrides:l,processChartOptions:c,unlinkChart:u,crossFiltering:p,crossFilteringContext:this.crossFilteringContext,restoringChart:d});this.context.createBean(g);var m=this.createChartRef(g);if(i){i.appendChild(g.getGui());var y=this.environment.getTheme();y.el&&!y.el.contains(i)&&a.mb.addCssClass(i,y.theme)}else f?f(m):g.addEventListener(Sh.EVENT_DESTROYED,function(){h.activeChartComps.delete(g),h.activeCharts.delete(m)});return m},t.prototype.createChartRef=function(e){var t=this,n={destroyChart:function(){t.activeCharts.has(n)&&(t.context.destroyBean(e),t.activeChartComps.delete(e),t.activeCharts.delete(n))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(n),this.activeChartComps.add(e),n},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.mapToRangeParam=function(e,t){return{cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:t,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,processChartOptions:function(){return e.chartOptions}}},t.prototype.mapToPivotParams=function(e,t){return{chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:t,unlinkChart:e.unlinkChart,processChartOptions:function(){return e.chartOptions}}},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},_h([Object(a.O)("rangeService")],t.prototype,"rangeService",void 0),_h([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),_h([Object(a.k)("environment")],t.prototype,"environment",void 0),_h([a.U],t.prototype,"destroyAllActiveCharts",null),_h([Object(a.m)("chartService")],t)}(a.n),Th=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ah=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return Th(t,e),n=t,t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,n.DEFAULT_TRANSLATIONS[e])},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart"},n=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([Object(a.m)("chartTranslator")],t)}(a.n),Mh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dh=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},kh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return Mh(t,e),n=t,t.prototype.filter=function(e,t){void 0===t&&(t=!1);var r=this.gridApi.getFilterModel();if(t)this.resetFilters(r);else{var o=n.extractFilterColId(e);this.isValidColumnFilter(o)?this.updateFilters(r,e):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+o+"'")}},t.prototype.resetFilters=function(e){Object.keys(e).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(e,t){var r,o=n.extractFilterColId(t),i=t.datum[o];if(void 0!==i){var s=i.toString(),l=o.replace("-filtered-out","");if(t.event.metaKey||t.event.ctrlKey){var u=this.getCurrentGridValuesForCategory(l),c=void 0;a.mb.includes(u,s)?c=u.filter(function(e){return e!==s}):(c=u).push(s),e[l]=this.getUpdatedFilterModel(l,c)}else(r={})[l]=this.getUpdatedFilterModel(l,c=[s]),e=r;this.gridApi.setFilterModel(e)}},t.prototype.getUpdatedFilterModel=function(e,t){return"agMultiColumnFilter"===this.getColumnFilterType(e)?{filterType:"multi",filterModels:[null,{filterType:"set",values:t}]}:{filterType:"set",values:t}},t.prototype.getCurrentGridValuesForCategory=function(e){var t=[],n=a.mb.includes;return this.gridApi.forEachNodeAfterFilter(function(r){if(!r.group){var o=r.data[e]+"";n(t,o)||t.push(o)}}),t},t.extractFilterColId=function(e){return e.xKey?e.xKey:e.labelKey},t.prototype.isValidColumnFilter=function(e){e.indexOf("-filtered-out")&&(e=e.replace("-filtered-out",""));var t=this.getColumnFilterType(e);return"boolean"==typeof t?t:a.mb.includes(["agSetColumnFilter","agMultiColumnFilter"],t)},t.prototype.getColumnFilterType=function(e){var t=this.columnModel.getGridColumn(e);return t?t.getColDef().filter:void 0},Dh([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),Dh([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),n=Dh([Object(a.m)("chartCrossFilter")],t)}(a.n),Rh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ih=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Nh=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},Fh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellRanges=[],t.bodyScrollListener=t.onBodyScroll.bind(t),t.dragging=!1,t}return Rh(t,e),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_VISIBLE,this.onColumnVisibleChange.bind(this)),this.ctrlsService.whenReady(function(){var t=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new Lh(t,e.gridOptionsWrapper)})},t.prototype.onColumnVisibleChange=function(){var e=this;this.refreshLastRangeStart(),this.cellRanges.forEach(function(t){var n=t.columns;t.columns=t.columns.filter(function(e){return e.isVisible()}),!a.mb.areEqual(n,t.columns)&&e.dispatchChangedEvent(!1,!0,t.id)})},t.prototype.refreshLastRangeStart=function(){var e=a.mb.last(this.cellRanges);e&&this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var t=e.columns;if(!t.length)return!1;var n=this.columnModel.getAllDisplayedColumns(),r=t.map(function(e){return n.indexOf(e)}).sort(function(e,t){return e-t});return a.mb.last(r)-r[0]+1===t.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?a.x.PINNED_TOP:null}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var t=this.pinnedRowModel.getPinnedBottomRowCount();return t>0?{rowIndex:t-1,rowPinned:a.x.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,t){if(void 0===t&&(t=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var n=this.calculateColumnsBetween(e.column,e.column);if(n){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!t||a.mb.missing(this.cellRanges))&&this.removeAllCellRanges(!0);for(var r,o={rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=0;i<this.cellRanges.length;i++){var s=this.cellRanges[i];if(s.columns&&1===s.columns.length&&s.columns[0]===e.column&&this.rowPositionUtils.sameRow(o,s.startRow)&&this.rowPositionUtils.sameRow(o,s.endRow)){r=s;break}}r?a.mb.last(this.cellRanges)!==r&&(a.mb.removeFromArray(this.cellRanges,r),this.cellRanges.push(r)):this.cellRanges.push(r={startRow:o,endRow:o,columns:n,startColumn:e.column}),this.newestRangeStartCell=e,this.onDragStop(),this.dispatchChangedEvent(!0,!0,r.id)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var t=a.mb.last(this.cellRanges);this.updateRangeEnd(t,e)}},t.prototype.updateRangeEnd=function(e,t,n){void 0===n&&(n=!1);var r=this.calculateColumnsBetween(e.startColumn,t.column);r&&!this.isLastCellOfRange(e,t)&&(e.columns=r,e.endRow={rowIndex:t.rowIndex,rowPinned:t.rowPinned},n||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var t=e.startColumn,n=e.columns,r=function(t,n){var r=e.columns.filter(function(e){return e!==t});t?(e.startColumn=t,e.columns=n?Nh([t],r):Nh(r,[t])):e.columns=r},o=this.getRangeEdgeColumns(e),i=o.left,s=o.right;t===n[0]&&t!==i?r(i,!0):t===a.mb.last(n)&&t===s&&r(s,!1)},t.prototype.getRangeEdgeColumns=function(e){var t=this.columnModel.getAllDisplayedColumns(),n=e.columns.map(function(e){return t.indexOf(e)}).filter(function(e){return e>-1}).sort(function(e,t){return e-t});return{left:t[n[0]],right:t[a.mb.last(n)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var t=a.mb.last(this.cellRanges),n=this.newestRangeStartCell,r=t.columns[0],o=a.mb.last(t.columns),i=this.cellNavigationService.getNextCellToFocus(e,{column:n.column===r?o:r,rowIndex:t.endRow.rowIndex,rowPinned:t.endRow.rowPinned});if(i)return this.setCellRange({rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:i.rowIndex,rowEndPinned:i.rowPinned,columnStart:n.column,columnEnd:i.column}),i}},t.prototype.setCellRange=function(e){this.gridOptionsWrapper.isEnableRangeSelection()&&(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var t=this;a.mb.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(e){e.columns&&e.startRow&&(t.newestRangeStartCell={rowIndex:e.startRow.rowIndex,rowPinned:e.startRow.rowPinned,column:e.columns[0]}),t.cellRanges.push(e)}),this.dispatchChangedEvent(!1,!0))},t.prototype.createCellRangeFromCellRangeParams=function(e){var t,n=this;if(e.columns)t=e.columns.map(function(e){return n.columnModel.getColumnWithValidation(e)}).filter(function(e){return e});else{var r=this.columnModel.getColumnWithValidation(e.columnStart),o=this.columnModel.getColumnWithValidation(e.columnEnd);if(!r||!o)return;t=this.calculateColumnsBetween(r,o)}if(t)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:t,startColumn:t[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var t=this.createCellRangeFromCellRangeParams(e);t&&(this.cellRanges.push(t),this.dispatchChangedEvent(!1,!0,t.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){if(0===this.cellRanges.length)return!1;if(this.cellRanges.length>1)return!0;var e=this.cellRanges[0],t=this.getRangeStartRow(e),n=this.getRangeEndRow(e);return t.rowPinned!==n.rowPinned||t.rowIndex!==n.rowIndex||1!==e.columns.length},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,t){var n=null!==t.columns&&a.mb.includes(t.columns,e.column),r=this.isRowInRange(e.rowIndex,e.rowPinned,t);return n&&r},t.prototype.isLastCellOfRange=function(e,t){var n=e.startRow,r=e.endRow,o=this.rowPositionUtils.before(n,r)?r:n,i=t.rowIndex===o.rowIndex&&t.rowPinned===o.rowPinned,s=e.columns[0],l=a.mb.last(e.columns);return t.column===(e.startColumn===s?l:s)&&i},t.prototype.isBottomRightCell=function(e,t){var n=this.columnModel.getAllDisplayedColumns(),r=e.columns.map(function(e){return n.indexOf(e)}).sort(function(e,t){return e-t}),o=e.startRow,i=e.endRow,s=this.rowPositionUtils.before(o,i)?i:o,l=n.indexOf(t.column)===a.mb.last(r),u=t.rowIndex===s.rowIndex&&a.mb.makeNull(t.rowPinned)===a.mb.makeNull(s.rowPinned);return l&&u},t.prototype.getCellRangeCount=function(e){var t=this;return this.isEmpty()?0:this.cellRanges.filter(function(n){return t.isCellInSpecificRange(e,n)}).length},t.prototype.isRowInRange=function(e,t,n){var r=this.getRangeStartRow(n),o=this.getRangeEndRow(n),i={rowIndex:e,rowPinned:t||null};if(i.rowIndex===r.rowIndex&&i.rowPinned==r.rowPinned||i.rowIndex===o.rowIndex&&i.rowPinned==o.rowPinned)return!0;var a=!this.rowPositionUtils.before(i,r),s=this.rowPositionUtils.before(i,o);return a&&s},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var t=e.shiftKey,n=e.ctrlKey||e.metaKey,r=!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&n,o=this.mouseEventService.getCellPositionForEvent(e),i=t&&a.mb.existsAndNotEmpty(this.cellRanges);if(!a.mb.missing(o)){if(r||i&&!a.mb.exists(a.mb.last(this.cellRanges).type)||this.removeAllCellRanges(!0),this.dragging=!0,this.draggingCell=o,this.lastMouseEvent=e,i||(this.newestRangeStartCell=o),this.cellRanges.length>0)this.draggingRange=a.mb.last(this.cellRanges);else{var s={rowIndex:o.rowIndex,rowPinned:o.rowPinned};this.draggingRange={startRow:s,endRow:s,columns:[o.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.onDragging=function(e){var t=this;if(this.dragging&&e){this.lastMouseEvent=e;var n=this.mouseEventService.getCellPositionForEvent(e),r=function(e){return n&&n.rowPinned===e&&t.newestRangeStartCell.rowPinned===e},o=r("top")||r("bottom");if(this.autoScrollService.check(e,o),n&&this.draggingCell&&!this.cellPositionUtils.equals(this.draggingCell,n)){var i=this.calculateColumnsBetween(this.newestRangeStartCell.column,n.column);i&&(this.draggingCell=n,this.draggingRange.endRow={rowIndex:n.rowIndex,rowPinned:n.rowPinned},this.draggingRange.columns=i,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.draggingCell=void 0,this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,t,n){var r=Object.freeze({type:a.C.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:e,finished:t,id:n});this.eventService.dispatchEvent(r)},t.prototype.calculateColumnsBetween=function(e,t){var n=this.columnModel.getAllDisplayedColumns(),r=e===t,o=n.indexOf(e);if(o<0)console.warn("AG Grid: column "+e.getId()+" is not visible");else{var i=r?o:n.indexOf(t);if(!(i<0)){if(r)return[e];for(var a=Math.min(o,i),s=a===o?i:o,l=[],u=a;u<=s;u++)l.push(n[u]);return l}console.warn("AG Grid: column "+t.getId()+" is not visible")}},Ih([Object(a.k)("loggerFactory")],t.prototype,"loggerFactory",void 0),Ih([Object(a.k)("rowModel")],t.prototype,"rowModel",void 0),Ih([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),Ih([Object(a.k)("mouseEventService")],t.prototype,"mouseEventService",void 0),Ih([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),Ih([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),Ih([Object(a.k)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Ih([Object(a.k)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ih([Object(a.k)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ih([Object(a.k)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Ih([Object(a.k)("ctrlsService")],t.prototype,"ctrlsService",void 0),Ih([a.S],t.prototype,"init",null),Ih([Object(a.m)("rangeService")],t)}(a.n),Lh=function(){function e(e,t){this.tickingInterval=null,this.gridBodyCtrl=e,this.gridOptionsWrapper=t}return e.prototype.check=function(e,t){void 0===t&&(t=!1);var n=this.gridBodyCtrl.getBodyClientRect();(t=t||this.gridOptionsWrapper.getDomLayout()!==a.x.DOM_LAYOUT_NORMAL)&&!this.gridBodyCtrl.getScrollFeature().isHorizontalScrollShowing()||(this.tickLeft=e.clientX<n.left+20,this.tickRight=e.clientX>n.right-20,this.tickUp=e.clientY<n.top+20&&!t,this.tickDown=e.clientY>n.bottom-20&&!t,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared())},e.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},e.prototype.doTick=function(){this.tickCount++;var e,t=this.gridBodyCtrl.getScrollFeature().getVScrollPosition(),n=this.gridBodyCtrl.getScrollFeature().getHScrollPosition();e=this.tickCount>20?200:this.tickCount>10?80:40,this.tickUp&&this.gridBodyCtrl.getScrollFeature().setVerticalScrollPosition(t.top-e),this.tickDown&&this.gridBodyCtrl.getScrollFeature().setVerticalScrollPosition(t.top+e),this.tickLeft&&this.gridBodyCtrl.getScrollFeature().setHorizontalScrollPosition(n.left-e),this.tickRight&&this.gridBodyCtrl.getScrollFeature().setHorizontalScrollPosition(n.left+e)},e.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},e}(),jh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gh=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Vh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.changedCalculatedValues=!1,t.dragging=!1,t.shouldDestroyOnEndDragging=!1,t}return jh(t,e),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(t){e.dragging=!0,e.rangeService.autoScrollService.check(t),e.changedCalculatedValues&&(e.onDrag(t),e.changedCalculatedValues=!1)},onDragStop:function(t){e.dragging=!1,e.onDragEnd(t),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),a.mb.removeCssClass(document.body,e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),a.mb.addCssClass(document.body,this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===a.bb.FILL?"fill":"range")+"-handle"},t.prototype.updateValuesOnMove=function(e){var t=this.mouseEventService.getCellPositionForEvent(e);t!==this.lastCellHovered&&(this.lastCellHovered=t,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var t=this,n=this.getCellCtrl(),r=this.getGui(),o=a.mb.last(this.rangeService.getCellRanges()),i=o.startRow,s=o.endRow;i&&s&&(this.rowPositionUtils.before(s,i)?(this.setRangeStartRow(s),this.setRangeEndRow(i)):(this.setRangeStartRow(i),this.setRangeEndRow(s))),n===e&&a.mb.isVisible(r)||(this.setCellCtrl(e),window.setTimeout(function(){t.isAlive()&&e.appendChild(r)},1)),this.setCellRange(o)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return a.mb.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,e.prototype.destroy.call(this),this.removeListeners();var t=this.getGui();t.parentElement&&t.parentElement.removeChild(t)},Gh([Object(a.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),Gh([Object(a.k)("dragService")],t.prototype,"dragService",void 0),Gh([Object(a.k)("rangeService")],t.prototype,"rangeService",void 0),Gh([Object(a.k)("mouseEventService")],t.prototype,"mouseEventService",void 0),Gh([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),Gh([Object(a.k)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Gh([Object(a.k)("navigationService")],t.prototype,"navigationService",void 0),Gh([Object(a.k)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Gh([Object(a.k)("ctrlsService")],t.prototype,"ctrlsService",void 0),Gh([a.S],t.prototype,"init",null),t}(a.v),Bh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wh=function(){return(Wh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},zh=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.markedCells=[],n.cellValues=[],n.isUp=!1,n.isLeft=!1,n.isReduce=!1,n.type=a.bb.FILL,n}return Bh(t,e),t.prototype.updateValuesOnMove=function(t){e.prototype.updateValuesOnMove.call(this,t),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(t));var n,r=this.initialXY,o=r.x,i=r.y,a=this.mouseEventService.getNormalisedPosition(t),s=a.y,l=Math.abs(o-a.x),u=Math.abs(i-s),c=this.gridOptionsWrapper.getFillHandleDirection();(n="xy"===c?l>u?"x":"y":c)!==this.dragAxis&&(this.dragAxis=n,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var t=this.getCellCtrl();if(!t)return;this.initialPosition=t.getCellPosition()}var n=this.getLastCellHovered();n&&this.markPathFrom(this.initialPosition,n)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var t,n="x"===this.dragAxis,r=this.getCellRange(),o=r.columns.length,i=this.getRangeStartRow(),a=this.getRangeEndRow();if(this.isUp||this.isLeft){var s=n?i:this.lastCellMarked;t=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,columnStart:n?this.lastCellMarked.column:r.columns[0],rowEndIndex:a.rowIndex,rowEndPinned:a.rowPinned,columnEnd:r.columns[o-1]})}else t=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,columnStart:r.columns[0],rowEndIndex:n?a.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:n?a.rowPinned:this.lastCellMarked.rowPinned,columnEnd:n?this.lastCellMarked.column:r.columns[o-1]});t&&(this.raiseFillStartEvent(),this.handleValueChanged(r,t,e),this.rangeService.setCellRanges([t]),this.raiseFillEndEvent(r,t))}},t.prototype.raiseFillStartEvent=function(){var e={type:a.C.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,t){var n={type:a.C.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:e,finalRange:t};this.eventService.dispatchEvent(n)},t.prototype.handleValueChanged=function(e,t,n){var r=this,o=this.rangeService.getRangeEndRow(e),i=this.rangeService.getRangeStartRow(e),s=this.rangeService.getRangeEndRow(t),l=this.rangeService.getRangeStartRow(t),u="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var c=!0,p=[],d=[],h=0,f=function(){p.length=0,d.length=0,h=0},g=function(t,n){var d=r.isUp?o:i,h=!1;u&&(c=!0,f());for(var g=function(){var g=r.rowPositionUtils.getRowNode(d);if(!g)return"break";u&&t?m(p,t,g,function(){return!r.rowPositionUtils.sameRow(d,r.isUp?i:o)}):n&&(c=!0,f(),n.forEach(function(t){return m(p,t,g,function(){return t!==(r.isLeft?e.columns[0]:a.mb.last(e.columns))})})),h=r.rowPositionUtils.sameRow(d,r.isUp?l:s),d=r.isUp?r.cellNavigationService.getRowAbove(d):r.cellNavigationService.getRowBelow(d)};!h&&d&&"break"!==g(););},m=function(e,t,o,i){var a;c?(a=r.valueService.getValue(t,o),d.push(a),c=i()):(a=r.processValues(n,e,d,t,o,h++),t.isCellEditable(o)&&o.setDataValue(t,a)),e.push(a)};u?e.columns.forEach(function(e){g(e)}):(y=this.isLeft?function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}(t.columns).reverse():t.columns,g(void 0,y))}else{var y=u?e.columns:e.columns.filter(function(e){return t.columns.indexOf(e)<0}),v=u?this.cellNavigationService.getRowBelow(s):l;v&&this.clearCellsInRange(v,o,y)}},t.prototype.clearCellsInRange=function(e,t,n){for(var r=this,o=e,i=!1,a=function(){var e=s.rowPositionUtils.getRowNode(o);if(!e)return"break";n.forEach(function(t){t.isCellEditable(e)&&r.valueService.setValue(e,t,null)}),i=s.rowPositionUtils.sameRow(o,t),o=s.cellNavigationService.getRowBelow(o)},s=this;!i&&o&&"break"!==a(););},t.prototype.processValues=function(e,t,n,r,o,i){var s,l=this.gridOptionsWrapper.getFillOperation(),u="y"===this.dragAxis;if(s=u?this.isUp?"up":"down":this.isLeft?"left":"right",l){var c=l({event:e,values:t,initialValues:n,currentIndex:i,currentCellValue:this.valueService.getValue(r,o),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),direction:s,column:u?r:void 0,rowNode:u?void 0:o});if(!1!==c)return c}var p=!t.some(function(e){var t=parseFloat(e);return isNaN(t)||t.toString()!==e.toString()});if(e.altKey||!p){if(p&&1===n.length){var d=this.isUp||this.isLeft?-1:1;return parseFloat(a.mb.last(t))+1*d}return t[i%t.length]}return a.mb.last(a.mb.findLineByLeastSquares(t.map(Number)))},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,e.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){var t=e.getComp();t.addOrRemoveCssClass("ag-selection-fill-top",!1),t.addOrRemoveCssClass("ag-selection-fill-right",!1),t.addOrRemoveCssClass("ag-selection-fill-bottom",!1),t.addOrRemoveCssClass("ag-selection-fill-left",!1)}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,t){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(t,e))return;var n=this.rowPositionUtils.before(t,e),r=this.getRangeStartRow(),o=this.getRangeEndRow();n&&(t.rowPinned==r.rowPinned&&t.rowIndex>=r.rowIndex||r.rowPinned!=o.rowPinned&&t.rowPinned==o.rowPinned&&t.rowIndex<=o.rowIndex)?(this.reduceVertical(e,t),this.isReduce=!0):(this.extendVertical(e,t,n),this.isReduce=!1)}else{var i=e.column,a=t.column;if(i===a)return;var s=this.columnModel.getAllDisplayedColumns(),l=s.indexOf(i),u=s.indexOf(a);u<=l&&u>=s.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,t),this.isReduce=!0):(this.extendHorizontal(e,t,u<l),this.isReduce=!1)}this.lastCellMarked=t},t.prototype.extendVertical=function(e,t,n){var r=this.navigationService,o=this.rangeService,i=e;do{for(var a=this.getCellRange(),s=a.columns.length,l=0;l<s;l++){var u=a.columns[l],c=Wh(Wh({},{rowIndex:i.rowIndex,rowPinned:i.rowPinned}),{column:u}),p=o.isCellInSpecificRange(c,a),d=this.rowPositionUtils.sameRow(i,e);if(n&&(this.isUp=!0),!d){var h=r.getCellByPosition(c);if(h){this.markedCells.push(h);var f=h.getComp();p||(f.addOrRemoveCssClass("ag-selection-fill-left",0===l),f.addOrRemoveCssClass("ag-selection-fill-right",l===s-1)),f.addOrRemoveCssClass(n?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(i,t))}}}if(this.rowPositionUtils.sameRow(i,t))break}while(i=n?this.cellNavigationService.getRowAbove(i):this.cellNavigationService.getRowBelow(i))},t.prototype.reduceVertical=function(e,t){var n=e;do{for(var r=this.getCellRange(),o=r.columns.length,i=this.rowPositionUtils.sameRow(n,t),a=0;a<o;a++){var s=Wh(Wh({},{rowIndex:n.rowIndex,rowPinned:n.rowPinned}),{column:r.columns[a]}),l=this.navigationService.getCellByPosition(s);l&&(this.markedCells.push(l),l.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(n,t)))}if(i)break}while(n=this.cellNavigationService.getRowAbove(n))},t.prototype.extendHorizontal=function(e,t,n){var r=this,o=this.columnModel.getAllDisplayedColumns(),i=o.indexOf(n?t.column:e.column),s=o.indexOf(n?this.getCellRange().columns[0]:t.column),l=n?0:1,u=o.slice(i+l,s+l),c=this.getRangeStartRow(),p=this.getRangeEndRow();u.forEach(function(e){var t=c,o=!1;do{o=r.rowPositionUtils.sameRow(t,p);var i=r.navigationService.getCellByPosition({rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});if(i){r.markedCells.push(i);var s=i.getComp();s.addOrRemoveCssClass("ag-selection-fill-top",r.rowPositionUtils.sameRow(t,c)),s.addOrRemoveCssClass("ag-selection-fill-bottom",r.rowPositionUtils.sameRow(t,p)),n?(r.isLeft=!0,s.addOrRemoveCssClass("ag-selection-fill-left",e===u[0])):s.addOrRemoveCssClass("ag-selection-fill-right",e===a.mb.last(u))}t=r.cellNavigationService.getRowBelow(t)}while(!o)})},t.prototype.reduceHorizontal=function(e,t){var n=this,r=this.columnModel.getAllDisplayedColumns(),o=r.indexOf(t.column),i=r.indexOf(e.column),a=r.slice(o,i),s=this.getRangeStartRow(),l=this.getRangeEndRow();a.forEach(function(e){var t=s,r=!1;do{r=n.rowPositionUtils.sameRow(t,l);var o=n.navigationService.getCellByPosition({rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});o&&(n.markedCells.push(o),o.getComp().addOrRemoveCssClass("ag-selection-fill-right",e===a[0])),t=n.cellNavigationService.getRowBelow(t)}while(!r)})},t.prototype.refresh=function(t){var n=this.rangeService.getCellRanges()[0];n.startRow&&n.endRow?e.prototype.refresh.call(this,t):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Object(a.k)("valueService")],t.prototype,"valueService",void 0),t}(Vh),Uh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hh=function(){return(Hh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Kh=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.type=a.bb.RANGE,n.rangeFixed=!1,n}return Uh(t,e),t.prototype.onDrag=function(e){var t=this.getLastCellHovered();if(t){var n=this.rangeService.getCellRanges(),r=a.mb.last(n);this.rangeFixed||(this.fixRangeStartEnd(r),this.rangeFixed=!0),this.endPosition={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column},2===n.length&&n[0].type===a.o.DIMENSION&&r.type===a.o.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(r))&&this.rangeService.updateRangeEnd(n[0],Hh(Hh({},this.endPosition),{column:n[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var t=a.mb.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(t),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var t=this.rangeService.getRangeStartRow(e),n=this.rangeService.getRangeEndRow(e),r=e.columns[0];e.startRow=t,e.endRow=n,e.startColumn=r},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(Vh),Xh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xh(t,e),t.prototype.createSelectionHandle=function(e){return this.createBean(e===a.bb.RANGE?new Kh:new zh)},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([Object(a.m)("selectionHandleFactory")],t)}(a.n),Yh={moduleName:a.L.RangeSelectionModule,beans:[Fh,qh],agStackComponents:[{componentName:"AgFillHandle",componentClass:zh},{componentName:"AgRangeHandle",componentClass:Kh}],dependantModules:[U]},Jh={moduleName:a.L.GridChartsModule,beans:[Eh,Ah,kh],dependantModules:[Yh,U]},Qh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zh=function(){return(Zh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},$h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadRowDataVersion=0,t.needRefresh=!1,t}return Qh(t,e),t.prototype.init=function(e,t){var n=this;this.params=t,this.comp=e,null!=t.pinned||(this.setAutoHeightClasses(),this.checkForDeprecations(),this.ensureValidRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(t.node.parent,a.Z.EVENT_DATA_CHANGED,function(){n.needRefresh=!0}))},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),t=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(t,!0)},t.prototype.checkForDeprecations=function(){this.params.suppressRefresh&&(console.warn("AG Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),this.params.refreshStrategy="nothing")},t.prototype.ensureValidRefreshStrategy=function(){switch(this.params.refreshStrategy){case"rows":case"nothing":case"everything":return}this.params.refreshStrategy&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+this.params.refreshStrategy+"' supplied, defaulting to refreshStrategy = 'rows'."),this.params.refreshStrategy="rows"},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(a.mb.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),t=Zh({},this.params.detailGridOptions);e&&(t.domLayout="autoHeight"),this.comp.setDetailGrid(t)}},t.prototype.registerDetailWithMaster=function(e,t){var n=this.params.node.id,r=this.params.api,o={id:n,api:e,columnApi:t},i=this.params.node;r.addDetailGridInfo(n,o),i.detailGridInfo=o,this.addDestroyFunc(function(){r.removeDetailGridInfo(n),i.detailGridInfo=null})},t.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var t=this.loadRowDataVersion,n=this.params.getDetailRowData;n?n({node:this.params.node,data:this.params.node.data,successCallback:function(n){e.loadRowDataVersion===t&&e.comp.setRowData(n)},context:this.gridOptionsWrapper.getContext()}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},t.prototype.refresh=function(){return!this.needRefresh||"nothing"===this.params.refreshStrategy||(this.needRefresh=!1,"everything"!==this.params.refreshStrategy&&(this.loadRowData(),!0))},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Object(a.k)("environment")],t.prototype,"environment",void 0),t}(a.n),ef=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ef(t,e),t.prototype.init=function(e){var t=this;this.params=e,this.selectAndSetTemplate();var n={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},addOrRemoveDetailGridCssClass:function(e,n){return a.mb.addOrRemoveCssClass(t.eDetailGrid,e,n)},setDetailGrid:function(e){return t.setDetailGrid(e)},setRowData:function(e){return t.setRowData(e)}};this.ctrl=this.createManagedBean(new $h),this.ctrl.init(n,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var n=function(){e.setTemplate(t.TEMPLATE)};if(a.mb.missing(this.params.template))n();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var r=(0,this.params.template)(this.params);this.setTemplate(r)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),n();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},t.prototype.setDetailGrid=function(e){this.eDetailGrid&&(new a.F(this.eDetailGrid,e,{$scope:this.params.$scope,$compile:this.params.$compile,providedBeanInstances:{agGridReact:this.params.agGridReact,frameworkComponentWrapper:this.params.frameworkComponentWrapper}}),this.detailApi=e.api,this.ctrl.registerDetailWithMaster(e.api,e.columnApi),this.addDestroyFunc(function(){e.api&&e.api.destroy()}))},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setRowData(e)},t.TEMPLATE='<div class="ag-details-row">\n            <div ref="eDetailGrid" class="ag-details-grid"></div>\n        </div>',function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Object(a.X)("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(a.v),nf={moduleName:a.L.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:tf}],controllers:[{controllerName:"detailCellRenderer",controllerClass:$h}],dependantModules:[U]},rf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),of=function(e){function t(t){var n=e.call(this)||this;return n.wrappedComponent=t,n.setTemplateFromElement(t.getGui()),n}return rf(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}})},t.prototype.handleKeyDown=function(e){e.keyCode===a.J.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([a.S],t.prototype,"postConstruct",null),t}(a.eb),af=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},lf=function(e){function t(t){var n=e.call(this)||this;return n.params=t,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'+n.getClassName()+'" tabindex="-1" role="treeitem"></div>'),n}return af(t,e),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var t=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),a.mb.setAriaDisabled(t,!0)):(this.addGuiEventListener("click",function(t){return e.onItemSelected(t)}),this.addGuiEventListener("keydown",function(t){t.keyCode!==a.J.ENTER&&t.keyCode!==a.J.SPACE||(t.preventDefault(),e.onItemSelected(t))}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(e){return a.mb.addCssClass(t,e)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var n=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var r,o=a.mb.loadTemplate('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var i=a.mb.getAriaLevel(this.getGui()),s=isNaN(i)?1:i+1,l=this.createBean(new df(s));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),o.appendChild(l.getGui()),this.addManagedListener(l,t.EVENT_MENU_ITEM_SELECTED,function(e){return n.dispatchEvent(e)}),l.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),r=function(){return n.destroyBean(l)},e&&setTimeout(function(){return l.activateFirstItem()},0)}else{var u=this.params.subMenu,c=this.createBean(new of(u));c.setParentComponent(this);var p=c.getGui(),d=function(){return n.cancelDeactivate()};p.addEventListener("mouseenter",d),r=function(){return p.removeEventListener("mouseenter",d)},o.appendChild(p),u.afterGuiAttached&&setTimeout(function(){return u.afterGuiAttached()},0)}var h=this.getGui(),f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:h,ePopup:o}),g=this.popupService.addPopup({modal:!0,eChild:o,positionCallback:f,anchorToElement:h});this.subMenuIsOpen=!0,a.mb.setAriaExpanded(h,!0),this.hideSubMenu=function(){g&&g.hideFunc(),n.subMenuIsOpen=!1,a.mb.setAriaExpanded(h,!1),r()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,a.mb.setAriaExpanded(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var t=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){t.isAlive()&&t.isActive&&t.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=a.mb.loadTemplate('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(a.mb.createIconNoSpan("check",this.gridOptionsWrapper)):this.params.icon&&(a.mb.isNodeOrElement(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=a.mb.loadTemplate('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new a.hb(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=a.mb.loadTemplate('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=a.mb.loadTemplate('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),t=this.getGui();if(this.params.subMenu){var n=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";a.mb.setAriaExpanded(t,!1),e.appendChild(a.mb.createIconNoSpan(n,this.gridOptionsWrapper))}t.appendChild(e)}},t.prototype.onItemSelected=function(e){this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var t=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?t+"-"+e:t},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,sf([Object(a.k)("popupService")],t.prototype,"popupService",void 0),sf([a.S],t.prototype,"init",null),t}(a.v),uf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cf=function(){return(cf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},pf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},df=function(e){function t(t){void 0===t&&(t=1);var n=e.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=t,n.menuItems=[],n}return uf(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}})},t.prototype.onTabKeyDown=function(e){var t=this.getParentComponent(),n=t&&t.getGui();n&&a.mb.containsClass(n,"ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case a.J.UP:case a.J.RIGHT:case a.J.DOWN:case a.J.LEFT:e.preventDefault(),this.handleNavKey(e.keyCode);break;case a.J.ESCAPE:var t=this.findTopMenu();t&&this.focusService.focusInto(t.getGui())}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var t=this;null!=e&&e.forEach(function(e){"separator"===e?t.addSeparator():"string"==typeof e?console.warn("AG Grid: unrecognised menu item "+e):t.addItem(e)})},t.prototype.addItem=function(e){var t=this,n=this.createManagedBean(new lf(cf(cf({},e),{isAnotherSubMenuOpen:function(){return a.mb.some(t.menuItems,function(e){return e.isSubMenuOpen()})}})));n.setParentComponent(this),a.mb.setAriaLevel(n.getGui(),this.level),this.menuItems.push(n),this.appendChild(n.getGui()),this.addManagedListener(n,lf.EVENT_MENU_ITEM_SELECTED,function(e){t.dispatchEvent(e)}),this.addManagedListener(n,lf.EVENT_MENU_ITEM_ACTIVATED,function(e){t.activeMenuItem&&t.activeMenuItem!==e.menuItem&&t.activeMenuItem.deactivate(),t.activeMenuItem=e.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(e){return!e.isDisabled()})[0];e&&e.activate()},t.prototype.addSeparator=function(){this.appendChild(a.mb.loadTemplate('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var n=e&&e.getParentComponent&&e.getParentComponent();if(!n||!(n instanceof t||n instanceof lf))break;e=n}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case a.J.UP:case a.J.DOWN:var t=this.findNextItem(e===a.J.UP);return void(t&&t!==this.activeMenuItem&&t.activate())}e===(this.gridOptionsWrapper.isEnableRtl()?a.J.RIGHT:a.J.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var t=this.getParentComponent();t&&t instanceof lf&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var t=this.menuItems.filter(function(e){return!e.isDisabled()});if(t.length){if(!this.activeMenuItem)return e?a.mb.last(t):t[0];var n;e&&t.reverse();for(var r=!1,o=0;o<t.length;o++){var i=t[o];if(r){n=i;break}i===this.activeMenuItem&&(r=!0)}return n||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),e.prototype.destroy.call(this)},pf([Object(a.k)("focusService")],t.prototype,"focusService",void 0),pf([a.S],t.prototype,"postConstruct",null),t}(a.eb),hf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ff=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},gf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hf(t,e),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,t,n){var r=this;this.showMenu(e,function(o){var i=o.getGui();r.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:t,ePopup:i}),n&&o.showTab(n)},"columnMenu",n,void 0,t.target)},t.prototype.showMenuAfterButtonClick=function(e,t,n,r,o){var i=this,a=-1,s="left";this.gridOptionsWrapper.isEnableRtl()&&(a=1,s="right"),this.showMenu(e,function(o){var l=o.getGui();i.popupService.positionPopupUnderComponent({type:n,column:e,eventSource:t,ePopup:l,alignSide:s,nudgeX:9*a,nudgeY:-23,keepWithinBounds:!0}),r&&o.showTab(r)},n,r,o,t)},t.prototype.showMenu=function(e,t,n,r,o,i){var s=this,l=this.createBean(new mf(e,this.lastSelectedTab,o)),u=l.getGui(),c=i||this.ctrlsService.getGridBodyCtrl().getGui(),p=[];p.push(function(t){if(s.destroyBean(l),e.setMenuVisible(!1,"contextMenu"),t instanceof KeyboardEvent&&i&&a.mb.isVisible(i)){var n=s.focusService.findTabbableParent(i);n&&n.focus()}});var d=this.popupService.addPopup({modal:!0,eChild:u,closeOnEsc:!0,closedCallback:function(e){p.forEach(function(t){return t(e)})},afterGuiAttached:function(e){return l.afterGuiAttached(a.mb.assign({},{container:n},e))},positionCallback:function(){return t(l)},anchorToElement:c});if(d){var h=d.stopAnchoringPromise;h&&h.then(function(t){e.addEventListener(a.t.EVENT_LEFT_CHANGED,t),e.addEventListener(a.t.EVENT_VISIBLE_CHANGED,t),p.push(function(){e.removeEventListener(a.t.EVENT_LEFT_CHANGED,t),e.removeEventListener(a.t.EVENT_VISIBLE_CHANGED,t)})})}r||(l.showTabBasedOnPreviousSelection(),t(l)),l.addEventListener(mf.EVENT_TAB_SELECTED,function(e){s.lastSelectedTab=e.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=l,l.addEventListener(a.n.EVENT_DESTROYED,function(){s.activeMenu===l&&(s.activeMenu=null)})},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(mf.TABS_DEFAULT).length>0},ff([Object(a.k)("popupService")],t.prototype,"popupService",void 0),ff([Object(a.k)("focusService")],t.prototype,"focusService",void 0),ff([Object(a.k)("ctrlsService")],t.prototype,"ctrlsService",void 0),ff([Object(a.m)("menuFactory")],t)}(a.n),mf=function(e){function t(n,r,o){var i=e.call(this)||this;return i.tabFactories={},i.includeChecks={},i.column=n,i.initialSelection=r,i.tabFactories[t.TAB_GENERAL]=i.createMainPanel.bind(i),i.tabFactories[t.TAB_FILTER]=i.createFilterPanel.bind(i),i.tabFactories[t.TAB_COLUMNS]=i.createColumnsPanel.bind(i),i.includeChecks[t.TAB_GENERAL]=function(){return!0},i.includeChecks[t.TAB_FILTER]=function(){return n.isFilterAllowed()},i.includeChecks[t.TAB_COLUMNS]=function(){return!0},i.restrictTo=o,i}return hf(t,e),t.prototype.init=function(){var e=this,t=this.getTabsToCreate().map(function(t){return e.createTab(t)});this.tabbedLayout=new a.fb({items:t,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter(function(t){return e.isValidMenuTabItem(t)}).filter(function(t){return e.isNotSuppressed(t)}).filter(function(t){return e.isModuleLoaded(t)})},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||a.M.isRegistered(a.L.ColumnToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var n=!0,r=t.TABS_DEFAULT;return null!=this.restrictTo&&(n=this.restrictTo.indexOf(e)>-1,r=this.restrictTo),(n=n&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+r+"]"),n},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var n=null;switch(e.item){case this.tabItemColumns:n=t.TAB_COLUMNS;break;case this.tabItemFilter:n=t.TAB_FILTER;break;case this.tabItemGeneral:n=t.TAB_GENERAL}n&&this.activateTab(n)},t.prototype.activateTab=function(e){this.dispatchEvent({type:t.EVENT_TAB_SELECTED,key:e})},t.prototype.getMenuItems=function(){var e,n=this.getDefaultMenuOptions(),r=this.gridOptionsWrapper.getMainMenuItemsFunc();return e=r?r({column:this.column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),defaultItems:n}):n,a.mb.removeRepeatsFromArray(e,t.MENU_ITEM_SEPARATOR),e},t.prototype.getDefaultMenuOptions=function(){var e=[],n=!this.column.getColDef().lockPinned,r=this.columnModel.getRowGroupColumns().length,o=r>0,i=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,s=this.column.isAllowValue(),l=this.column.isAllowRowGroup(),u=this.column.isPrimary(),c=this.columnModel.isPivotMode(),p=this.rowModel.getType()===a.x.ROW_MODEL_TYPE_CLIENT_SIDE,d=this.gridOptionsWrapper.isTreeData(),h=u&&o&&s||!u;return n&&e.push("pinSubMenu"),h&&e.push("valueAggSubMenu"),(n||h)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),l&&this.column.isPrimary()&&e.push(i?"rowUnGroup":"rowGroup"),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns"),p&&(d||r>(c?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new df);var e=this.getMenuItems(),n=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(n),this.mainMenuList.addEventListener(lf.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:a.mb.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:a.g.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(){this.hidePopupFunc();var e=this.focusService.getFocusedCell();e&&this.focusService.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.createFilterPanel=function(){var e=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");return this.tabItemFilter={title:a.mb.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:e.guiPromise,afterAttachedCallback:function(t){e.filterPromise&&e.filterPromise.then(function(e){e&&e.afterGuiAttached&&e.afterGuiAttached(t)})},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");a.mb.addCssClass(e,"ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new ft);var n=this.column.getColDef().columnsMenuParams;return n||(n={}),this.columnSelectPanel.init(!1,{suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!n.contractColumnSelection,suppressColumnExpandAll:!!n.suppressColumnExpandAll,suppressColumnFilter:!!n.suppressColumnFilter,suppressColumnSelectAll:!!n.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!n.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi},"columnMenu"),a.mb.addCssClass(this.columnSelectPanel.getGui(),"ag-menu-column-select"),e.appendChild(this.columnSelectPanel.getGui()),this.tabItemColumns={title:a.mb.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:a.g.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var t=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:t}),t&&(this.hidePopupFunc=t,this.addDestroyFunc(t))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL="generalMenuTab",t.TAB_FILTER,t.TAB_COLUMNS="columnsMenuTab"],t.MENU_ITEM_SEPARATOR="separator",ff([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),ff([Object(a.k)("filterManager")],t.prototype,"filterManager",void 0),ff([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),ff([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),ff([Object(a.k)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),ff([Object(a.k)("rowModel")],t.prototype,"rowModel",void 0),ff([Object(a.k)("focusService")],t.prototype,"focusService",void 0),ff([a.S],t.prototype,"init",null),t}(a.n),yf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},bf="ag-menu",Cf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yf(t,e),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,t,n){var r=[];if(a.mb.exists(e)&&a.M.isRegistered(a.L.ClipboardModule)&&t&&r.push("copy","copyWithHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&a.M.isRegistered(a.L.RangeSelectionModule)&&a.M.isRegistered(a.L.GridChartsModule)&&(this.columnModel.isPivotMode()&&r.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&r.push("chartRange")),a.mb.exists(e)){var o=!a.M.isRegistered(a.L.CsvExportModule),i=!a.M.isRegistered(a.L.ExcelExportModule),s=this.gridOptionsWrapper.isSuppressExcelExport()||i,l=this.gridOptionsWrapper.isSuppressCsvExport()||o;!(a.mb.isIOSUserAgent()||s&&l)&&r.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var u=this.gridOptionsWrapper.getContextMenuItemsFunc(),c={node:e,column:t,value:n,defaultItems:r.length?r:void 0,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return u?u(c):void 0}return r},t.prototype.onContextMenu=function(e,t,n,r,o,i){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||(e&&this.preventDefaultOnContextMenu(e),this.gridOptionsWrapper.isSuppressContextMenu()||this.showMenu(n,r,o,e||t.touches[0],i)&&(e||t).preventDefault())},t.prototype.preventDefaultOnContextMenu=function(e){var t=this.gridOptionsWrapper,n=e.which;(t.isPreventDefaultOnContextMenu()||t.isSuppressMiddleClickScrolls()&&2===n)&&e.preventDefault()},t.prototype.showMenu=function(e,t,n,r,o){var i=this,s=this.getMenuItems(e,t,n),l=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===s||a.mb.missingOrEmpty(s))return!1;var u=new wf(s);this.createBean(u);var c=u.getGui(),p={column:t,rowNode:e,type:"contextMenu",mouseEvent:r,ePopup:c,nudgeY:1},d=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(){a.mb.removeCssClass(l," ag-context-menu-open"),i.destroyBean(u)},click:r,positionCallback:function(){i.popupService.positionPopupUnderMouseEvent(a.mb.assign({},{nudgeX:i.gridOptionsWrapper.isEnableRtl()?-1*(c.offsetWidth+1):1},p))},anchorToElement:o});return d&&(a.mb.addCssClass(l," ag-context-menu-open"),u.afterGuiAttached({container:"contextMenu",hidePopup:d.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=u,u.addEventListener(a.n.EVENT_DESTROYED,function(){i.activeMenu===u&&(i.activeMenu=null)}),d&&u.addEventListener(lf.EVENT_MENU_ITEM_SELECTED,d.hideFunc),!0},vf([Object(a.k)("popupService")],t.prototype,"popupService",void 0),vf([Object(a.O)("rangeService")],t.prototype,"rangeService",void 0),vf([Object(a.k)("ctrlsService")],t.prototype,"ctrlsService",void 0),vf([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),vf([Object(a.m)("contextMenuFactory")],t)}(a.n),wf=function(e){function t(t){var n=e.call(this,'<div class="'+bf+'" role="presentation"></div>')||this;return n.menuList=null,n.focusedCell=null,n.menuItems=t,n}return yf(t,e),t.prototype.addMenuItems=function(){var e=this,t=this.createBean(new df),n=this.menuItemMapper.mapWithStockItems(this.menuItems,null);t.addMenuItems(n),this.appendChild(t),this.menuList=t,t.addEventListener(lf.EVENT_MENU_ITEM_SELECTED,function(t){return e.dispatchEvent(t)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var t=this.focusedCell,n=t.rowIndex,r=t.rowPinned,o=t.column,i=this.gridOptionsWrapper.getDocument();i.activeElement===i.body&&this.focusService.setFocusedCell(n,o,r,!0)}},t.prototype.destroy=function(){this.restoreFocusedCell(),e.prototype.destroy.call(this)},vf([Object(a.k)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),vf([Object(a.k)("focusService")],t.prototype,"focusService",void 0),vf([Object(a.k)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),vf([a.S],t.prototype,"addMenuItems",null),t}(a.v),Of=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Sf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Of(t,e),t.prototype.mapWithStockItems=function(e,t){var n=this;if(!e)return[];var r=[];return e.forEach(function(e){var o;if(o="string"==typeof e?n.getStockMenuItem(e,t):e){var i=o.subMenu;i&&i instanceof Array&&(o.subMenu=n.mapWithStockItems(o.subMenu,t)),null!=o&&r.push(o)}}),r},t.prototype.getStockMenuItem=function(e,t){var n=this,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:r("pinColumn","Pin Column"),icon:a.mb.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:r("pinLeft","Pin Left"),action:function(){return n.columnModel.setColumnPinned(t,a.x.PINNED_LEFT,"contextMenu")},checked:!!t&&t.isPinnedLeft()};case"pinRight":return{name:r("pinRight","Pin Right"),action:function(){return n.columnModel.setColumnPinned(t,a.x.PINNED_RIGHT,"contextMenu")},checked:!!t&&t.isPinnedRight()};case"clearPinned":return{name:r("noPin","No Pin"),action:function(){return n.columnModel.setColumnPinned(t,null,"contextMenu")},checked:!!t&&!t.isPinned()};case"valueAggSubMenu":return a.M.assertRegistered(a.L.RowGroupingModule,"Aggregation from Menu")?{name:r("valueAggregation","Value Aggregation"),icon:a.mb.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(t)}:null;case"autoSizeThis":return{name:r("autosizeThiscolumn","Autosize This Column"),action:function(){return n.columnModel.autoSizeColumn(t,o,"contextMenu")}};case"autoSizeAll":return{name:r("autosizeAllColumns","Autosize All Columns"),action:function(){return n.columnModel.autoSizeAllColumns(o,"contextMenu")}};case"rowGroup":return{name:r("groupBy","Group by")+" "+a.mb.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),action:function(){return n.columnModel.addRowGroupColumn(t,"contextMenu")},icon:a.mb.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:r("ungroupBy","Un-Group by")+" "+a.mb.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),action:function(){return n.columnModel.removeRowGroupColumn(t,"contextMenu")},icon:a.mb.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:r("resetColumns","Reset Columns"),action:function(){return n.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:r("expandAll","Expand All"),action:function(){return n.gridApi.expandAll()}};case"contractAll":return{name:r("collapseAll","Collapse All"),action:function(){return n.gridApi.collapseAll()}};case"copy":return a.M.assertRegistered(a.L.ClipboardModule,"Copy from Menu")?{name:r("copy","Copy"),shortcut:r("ctrlC","Ctrl+C"),icon:a.mb.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.copyToClipboard(!1)}}:null;case"copyWithHeaders":return a.M.assertRegistered(a.L.ClipboardModule,"Copy with Headers from Menu")?{name:r("copyWithHeaders","Copy with Headers"),icon:a.mb.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.copyToClipboard(!0)}}:null;case"paste":return a.M.assertRegistered(a.L.ClipboardModule,"Paste from Clipboard")?{name:r("paste","Paste"),shortcut:r("ctrlV","Ctrl+V"),disabled:!0,icon:a.mb.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.pasteFromClipboard()}}:null;case"export":var i=[],s=a.M.isRegistered(a.L.CsvExportModule),l=a.M.isRegistered(a.L.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&s&&i.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&l&&i.push("excelExport"),{name:r("export","Export"),subMenu:i,icon:a.mb.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:r("csvExport","CSV Export"),icon:a.mb.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return n.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:r("excelExport","Excel Export"),icon:a.mb.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return n.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:return this.getChartItems(e)||(console.warn("AG Grid: unknown menu item type "+e),null)}},t.prototype.getChartItems=function(e){var t=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),r=function(e,r,o){return{name:n(e,r),action:function(){return t.chartService.createPivotChart({chartType:o})}}},o=function(e,r,o){return{name:n(e,r),action:function(){return t.chartService.createChartFromCurrentRange(o)}}};switch(e){case"pivotChart":return{name:n("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:a.mb.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:n("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart"],icon:a.mb.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:n("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return r("groupedColumn","Grouped&lrm;",a.q.GroupedColumn);case"pivotStackedColumn":return r("stackedColumn","Stacked&lrm;",a.q.StackedColumn);case"pivotNormalizedColumn":return r("normalizedColumn","100% Stacked&lrm;",a.q.NormalizedColumn);case"rangeColumnChart":return{name:n("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return o("groupedColumn","Grouped&lrm;",a.q.GroupedColumn);case"rangeStackedColumn":return o("stackedColumn","Stacked&lrm;",a.q.StackedColumn);case"rangeNormalizedColumn":return o("normalizedColumn","100% Stacked&lrm;",a.q.NormalizedColumn);case"pivotBarChart":return{name:n("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return r("groupedBar","Grouped&lrm;",a.q.GroupedBar);case"pivotStackedBar":return r("stackedBar","Stacked&lrm;",a.q.StackedBar);case"pivotNormalizedBar":return r("normalizedBar","100% Stacked&lrm;",a.q.NormalizedBar);case"rangeBarChart":return{name:n("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return o("groupedBar","Grouped&lrm;",a.q.GroupedBar);case"rangeStackedBar":return o("stackedBar","Stacked&lrm;",a.q.StackedBar);case"rangeNormalizedBar":return o("normalizedBar","100% Stacked&lrm;",a.q.NormalizedBar);case"pivotPieChart":return{name:n("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return r("pie","Pie&lrm;",a.q.Pie);case"pivotDoughnut":return r("doughnut","Doughnut&lrm;",a.q.Doughnut);case"rangePieChart":return{name:n("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return o("pie","Pie&lrm;",a.q.Pie);case"rangeDoughnut":return o("doughnut","Doughnut&lrm;",a.q.Doughnut);case"pivotLineChart":return r("line","Line&lrm;",a.q.Line);case"rangeLineChart":return o("line","Line&lrm;",a.q.Line);case"pivotXYChart":return{name:n("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return r("scatter","Scatter&lrm;",a.q.Scatter);case"pivotBubble":return r("bubble","Bubble&lrm;",a.q.Bubble);case"rangeXYChart":return{name:n("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return o("scatter","Scatter&lrm;",a.q.Scatter);case"rangeBubble":return o("bubble","Bubble&lrm;",a.q.Bubble);case"pivotAreaChart":return{name:n("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return r("area","Area&lrm;",a.q.Area);case"pivotStackedArea":return r("stackedArea","Stacked&lrm;",a.q.StackedArea);case"pivotNormalizedArea":return r("normalizedArea","100% Stacked&lrm;",a.q.NormalizedArea);case"rangeAreaChart":return{name:n("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return o("area","Area&lrm;",a.q.Area);case"rangeStackedArea":return o("stackedArea","Stacked&lrm;",a.q.StackedArea);case"rangeNormalizedArea":return o("normalizedArea","100% Stacked&lrm;",a.q.NormalizedArea);case"rangeHistogramChart":return o("histogramChart","Histogram&lrm;",a.q.Histogram);default:return null}},t.prototype.createAggregationSubMenu=function(e){var t,n=this,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=e.isValueActive(),i=this.aggFuncService.getFuncNames(e);if(e.isPrimary())t=e;else{var s=e.getColDef().pivotValueColumn;t=a.mb.exists(s)?s:void 0}var l=[];return i.forEach(function(e){l.push({name:r(e,e),action:function(){n.columnModel.setColumnAggFunc(t,e,"contextMenu"),n.columnModel.addValueColumn(t,"contextMenu")},checked:o&&t.getAggFunc()===e})}),l},xf([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),xf([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),xf([Object(a.O)("clipboardService")],t.prototype,"clipboardService",void 0),xf([Object(a.O)("aggFuncService")],t.prototype,"aggFuncService",void 0),xf([Object(a.O)("chartService")],t.prototype,"chartService",void 0),xf([Object(a.m)("menuItemMapper")],t)}(a.n),Pf={moduleName:a.L.MenuModule,beans:[gf,Cf,Sf],dependantModules:[U]},_f=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ef=function(){return(Ef=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Tf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Af=function(e){function t(){var t=e.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return t.filterDefs=[],t.filters=[],t.guiDestroyFuncs=[],t.activeFilterIndices=[],t.lastActivatedMenuItem=null,t.afterFiltersReadyFuncs=[],t}return _f(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(t){return e.onFocusIn(t)}})},t.getFilterDefs=function(e){var t=e.filters;return t&&t.length>0?t:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var n=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var r=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=r;var o=[];return a.mb.forEach(this.filterDefs,function(e,t){var r=n.createFilter(e,t);null!=r&&o.push(r)}),a.g.all(o).then(function(e){n.filters=e,n.refreshGui("columnMenu"),n.afterFiltersReadyFuncs.forEach(function(e){return e()}),n.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var t=this;e!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),a.mb.forEach(this.filters,function(n,r){r>0&&t.appendChild(a.mb.loadTemplate('<div class="ag-filter-separator"></div>'));var o,i=t.filterDefs[r],s=t.getFilterTitle(n,i);o="subMenu"===i.display&&"toolPanel"!==e?t.insertFilterMenu(n,s).getGui():"subMenu"===i.display||"accordion"===i.display?t.insertFilterGroup(n,s).getGui():n.getGui(),t.appendChild(o)}),this.lastOpenedInContainer=e)},t.prototype.getFilterTitle=function(e,t){return null!=t.title?t.title:"function"==typeof e.getFilterTitle?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){a.mb.forEach(this.guiDestroyFuncs,function(e){return e()}),this.guiDestroyFuncs.length=0},t.prototype.insertFilterMenu=function(e,t){var n=this,r=this.createBean(new lf({name:t,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return r.setParentComponent(this),this.guiDestroyFuncs.push(function(){return n.destroyBean(r)}),this.addManagedListener(r,lf.EVENT_MENU_ITEM_ACTIVATED,function(e){n.lastActivatedMenuItem&&n.lastActivatedMenuItem!==e.menuItem&&n.lastActivatedMenuItem.deactivate(),n.lastActivatedMenuItem=e.menuItem}),r.addGuiEventListener("focusin",function(){return r.activate()}),r.addGuiEventListener("focusout",function(){r.isSubMenuOpen()||r.deactivate()}),r},t.prototype.insertFilterGroup=function(e,t){var n=this,r=this.createBean(new a.e({title:t,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return n.destroyBean(r)}),r.addItem(e.getGui()),r.toggleGroupExpand(!1),e.afterGuiAttached){var o={container:this.lastOpenedInContainer,suppressFocus:!0};r.addManagedListener(r,a.e.EVENT_EXPANDED,function(){return e.afterGuiAttached(o)})}return r},t.prototype.isFilterActive=function(){return a.mb.some(this.filters,function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,t){var n=!0;return this.filters.forEach(function(r){n&&r!==t&&r.isFilterActive()&&(n=r.doesFilterPass(e))}),n},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:a.mb.map(this.filters,function(e){return"function"==typeof e.getModelFromUi?e.getModelFromUi():null})}},t.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:a.mb.map(this.filters,function(e){return e.isFilterActive()?e.getModel():null})}:null},t.prototype.setModel=function(e){var t=this,n=function(e,t){return new a.g(function(n){var r=e.setModel(t);r?r.then(function(){return n()}):n()})},r=[];return null==e?r=a.mb.map(this.filters,function(e,r){var o=n(e,null);return t.updateActiveList(r),o}):a.mb.forEach(this.filters,function(o,i){var a=n(o,e.filterModels.length>i?e.filterModels[i]:null);r.push(a),t.updateActiveList(i)}),a.g.all(r).then(function(){})},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var t=this.params.filters,n=t&&a.mb.some(t,function(e){return e.display&&"inline"!==e.display});this.executeFunctionIfExists("afterGuiAttached",Ef(Ef({},e||{}),{suppressFocus:n})),n&&this.forceFocusOutOfContainer(!0)},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var t=this;a.mb.forEach(this.filters,function(e){e.setModel(null),t.destroyBean(e)}),this.filters.length=0,this.destroyChildren(),e.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.mb.forEachReverse(this.filters,function(n){var r=n[e];"function"==typeof r&&r.apply(n,t)})},t.prototype.createFilter=function(e,t){var n,r=this,o=this.params,i=o.filterModifiedCallback,a=o.doesRowPassOtherFilter,s=Ef(Ef({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:i,filterChangedCallback:function(e){r.executeWhenAllFiltersReady(function(){return r.filterChanged(t,e)})},doesRowPassOtherFilter:function(e){return a(e)&&r.doesFilterPass({node:e,data:e.data},n)}}),l=this.userComponentFactory.newFilterComponent(e,s,"agTextColumnFilter");return null!=l?l.then(function(e){return n=e}):l},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var t=this.filters[e];a.mb.removeFromArray(this.activeFilterIndices,e),t.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,t){this.updateActiveList(e),this.filterChangedCallback(t);var n=this.filters[e];a.mb.forEach(this.filters,function(e){e!==n&&"function"==typeof e.onAnyFilterChanged&&e.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){return null==this.lastActivatedMenuItem||this.lastActivatedMenuItem.getGui().contains(e.target)||(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},Tf([Object(a.k)("filterManager")],t.prototype,"filterManager",void 0),Tf([Object(a.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Tf([a.S],t.prototype,"postConstruct",null),t}(a.eb),Mf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Df=function(){return(Df=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},kf=function(e){function t(){var t=e.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return t.floatingFilters=[],t}return Mf(t,e),t.prototype.init=function(e){var t=this;this.params=e;var n=[];return a.mb.forEach(Af.getFilterDefs(e.filterParams),function(r,o){var i=Df(Df({},e),{parentFilterInstance:function(t){e.parentFilterInstance(function(e){var n=e.getChildFilterInstance(o);t(n)})}}),a=t.createFloatingFilter(r,i);null!=a&&n.push(a)}),a.g.all(n).then(function(e){a.mb.forEach(e,function(e,n){t.floatingFilters.push(e);var r=e.getGui();t.appendChild(r),n>0&&a.mb.setDisplayed(r,!1)})})},t.prototype.onParentModelChanged=function(e,t){var n=this;t&&t.afterFloatingFilter||this.params.parentFilterInstance(function(r){if(null==e)a.mb.forEach(n.floatingFilters,function(e,n){e.onParentModelChanged(null,t),a.mb.setDisplayed(e.getGui(),0===n)});else{var o=r.getLastActiveFilterIndex();a.mb.forEach(n.floatingFilters,function(n,r){n.onParentModelChanged(e.filterModels.length>r?e.filterModels[r]:null,t);var i=null==o?0===r:r===o;a.mb.setDisplayed(n.getGui(),i)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,e.prototype.destroy.call(this)},t.prototype.createFloatingFilter=function(e,t){var n=a.E.getDefaultFloatingFilterType(e)||"agTextColumnFloatingFilter";return this.userComponentFactory.newFloatingFilterComponent(e,t,n)},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Object(a.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(a.v),Rf={moduleName:a.L.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:Af},{componentName:"agMultiColumnFloatingFilter",componentClass:kf}],dependantModules:[U]},If=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nf=function(e){function t(t){var n=e.call(this,'<div class="ag-rich-select-row"></div>')||this;return n.params=t,n}return If(t,e),t.prototype.setState=function(e,t,n){this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),a.mb.addOrRemoveCssClass(this.getGui(),"ag-rich-select-row-selected",n)},t.prototype.populateWithoutRenderer=function(e,t){var n=null!=t?t:e;a.mb.exists(n)&&""!==n?this.getGui().textContent=n.toString():this.getGui().innerHTML="&nbsp;"},t.prototype.populateWithRenderer=function(e,t){var n=this,r={value:e,valueFormatted:t,api:this.gridOptionsWrapper.getApi()},o=this.userComponentFactory.newCellRenderer(this.params,r);return null!=o?a.mb.bindCellRendererToHtmlElement(o,this.getGui()):this.getGui().innerText=null!=r.valueFormatted?r.valueFormatted:r.value,!!o&&(o.then(function(e){n.addDestroyFunc(function(){n.getContext().destroyBean(e)})}),!0)},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([Object(a.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(a.v),Ff=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},jf=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.selectionConfirmed=!1,n.searchString="",n}return Ff(t,e),t.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var t=a.mb.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(a.mb.addCssClass(t,"ag-rich-select-value-icon"),this.eValue.appendChild(t),this.virtualList=this.getContext().createBean(new a.lb("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),a.mb.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),a.mb.missing(e.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var n=e.values;this.virtualList.setModel({getRowCount:function(){return n.length},getRow:function(e){return n[e]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var r=this.virtualList.getGui();this.addManagedListener(r,"click",this.onClick.bind(this)),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this));var o=a.mb.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=a.mb.debounce(this.clearSearchString,o),a.mb.exists(e.charPress)&&this.searchText(e.charPress)}},t.prototype.onKeyDown=function(e){var t=e.keyCode;switch(e.preventDefault(),t){case a.J.ENTER:this.onEnterKeyDown();break;case a.J.DOWN:case a.J.UP:this.onNavigationKeyPressed(e,t);break;default:this.searchText(e)}},t.prototype.onEnterKeyDown=function(){this.selectionConfirmed=!0,this.params.stopEditing()},t.prototype.onNavigationKeyPressed=function(e,t){e.preventDefault();var n=this.params.values.indexOf(this.selectedValue),r=t===a.J.UP?n-1:n+1;r>=0&&r<this.params.values.length&&this.setSelectedValue(this.params.values[r])},t.prototype.searchText=function(e){if("string"==typeof e)this.searchString+=e,this.runSearch(),this.clearSearchString();else{var t=e.key;if(e.keyCode===a.J.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!a.mb.isEventFromPrintableCharacter(e))return;this.searchText(t)}},t.prototype.runSearch=function(){var e,t=this.params.values;if("number"!=typeof t[0]&&"string"!=typeof t[0]||(e=t.map(String)),"object"==typeof t[0]&&this.params.colDef.keyCreator&&(e=t.map(this.params.colDef.keyCreator)),e){var n=a.mb.fuzzySuggestions(this.searchString,e,!0,!0)[0];if(n){var r=e.indexOf(n);this.setSelectedValue(t[r])}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.renderSelectedValue=function(){var e=this,t=this.params.formatValue(this.selectedValue),n=this.eValue,r={value:this.selectedValue,valueFormatted:t,api:this.gridOptionsWrapper.getApi()},o=this.userComponentFactory.newCellRenderer(this.params,r);a.mb.exists(o)?(a.mb.bindCellRendererToHtmlElement(o,n),o.then(function(t){e.addDestroyFunc(function(){return e.getContext().destroyBean(t)})})):a.mb.exists(this.selectedValue)?n.innerHTML=t:a.mb.clearElement(n)},t.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var t=this.params.values.indexOf(e);-1!==t&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(t),this.virtualList.refresh())}},t.prototype.createRowComponent=function(e){var t=this.params.formatValue(e),n=new Nf(this.params);return this.getContext().createBean(n),n.setState(e,t,e===this.selectedValue),n},t.prototype.onMouseMove=function(e){var t=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),r=Math.floor((e.clientY-t.top+n)/this.virtualList.getRowHeight()),o=this.params.values[r];void 0!==o&&this.setSelectedValue(o)},t.prototype.onClick=function(){this.selectionConfirmed=!0,this.params.stopEditing()},t.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},t.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},t.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',Lf([Object(a.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Lf([Object(a.X)("eValue")],t.prototype,"eValue",void 0),Lf([Object(a.X)("eList")],t.prototype,"eList",void 0),t}(a.Q),Gf={moduleName:a.L.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:jf},{componentName:"agRichSelectCellEditor",componentClass:jf}],dependantModules:[U]},Vf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Wf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pauseStoreUpdateListening=!1,t}return Vf(t,e),t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideRowModel")},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,a.C.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,a.C.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&a.mb.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Partial Store, then sorting is done on the server side, nothing to do with the client.")},"SSRM.DefaultGroupOrderComparator")},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,this.resetRootStore()},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},t.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns())if(this.storeParams){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),t=this.columnsToValueObjects(this.columnModel.getValueColumns()),n=this.columnsToValueObjects(this.columnModel.getPivotColumns()),r=!a.mb.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),o=!a.mb.jsonEquals(this.storeParams.rowGroupCols,e),i=!a.mb.jsonEquals(this.storeParams.pivotCols,n),s=!a.mb.jsonEquals(this.storeParams.valueCols,t);(r||o||i||s)&&this.resetRootStore()}else this.resetRootStore()},t.prototype.destroyRootStore=function(){this.rootNode&&this.rootNode.childStore&&(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,t){this.storeParams&&(this.storeParams.sortModel=e);var n=this.getRootStore();n&&(n.refreshAfterSort(t),this.onStoreUpdated())},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new a.Z,this.rootNode.group=!0,this.rootNode.level=-1,this.createBean(this.rootNode),this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:a.C.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var t=this;return e.map(function(e){return{id:e.getId(),aggFunc:e.getAggFunc(),displayName:t.columnModel.getDisplayNameForColumn(e,"model"),field:e.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),t=this.columnsToValueObjects(this.columnModel.getValueColumns()),n=this.columnsToValueObjects(this.columnModel.getPivotColumns()),r=this.gridOptionsWrapper.isDynamicRowHeight();return{valueCols:t,rowGroupCols:e,pivotCols:n,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new a.N,dynamicRowHeight:r}},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:a.C.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();e&&e.setDisplayIndexes(new a.N,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var t=this.getRootStore();if(t)return t.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(t){t.group&&t.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,t){this.storeParams&&(this.storeParams.filterModel=e);var n=this.getRootStore();n&&(n.refreshAfterFilter(t),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():1},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var t=this.getRootStore();return t?t.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var t=this.getRootStore();return t?t.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber()}},t.prototype.getRowIndexAtPixel=function(e){var t=this.getRootStore();return e<=0||!t?0:t.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},t.prototype.getType=function(){return a.x.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.forEachNode=function(e){var t=this.getRootStore();t&&t.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e){var t=this.getRootStore();t&&t.forEachNodeDeepAfterFilterAndSort(e)},t.prototype.executeOnStore=function(e,t){var n=this.getRootStore();if(n){var r=n.getChildStore(e);r&&t(r)}},t.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(t){return t.refreshStore(1==e.purge)})},t.prototype.getStoreState=function(){var e=[],t=this.getRootStore();return t&&t.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,t){return a.mb.exists(t)&&e.parent!==t.parent?[]:e.parent.childStore.getRowNodesInRange(t,e)},t.prototype.getRowNode=function(e){var t=void 0;return this.forEachNode(function(n){n.id===e&&(t=n),n.detailNode&&n.detailNode.id===e&&(t=n.detailNode)}),t},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},Bf([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),Bf([Object(a.k)("filterManager")],t.prototype,"filterManager",void 0),Bf([Object(a.k)("sortController")],t.prototype,"sortController",void 0),Bf([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),Bf([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),Bf([Object(a.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),Bf([Object(a.k)("ssrmSortService")],t.prototype,"sortListener",void 0),Bf([Object(a.k)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Bf([Object(a.k)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),Bf([a.U],t.prototype,"destroyDatasource",null),Bf([(0,n=Object(a.W)("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),Bf([a.S],t.prototype,"addEventListeners",null),Bf([a.U],t.prototype,"destroyRootStore",null),Bf([Object(a.m)("rowModel")],t);var n}(a.n),zf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Hf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zf(t,e),t.prototype.createGroupKeys=function(e){for(var t=[],n=e;n&&n.level>=0;)t.push(n.key),n=n.parent;return t.reverse(),t},t.prototype.loadFromDatasource=function(e){var t=this.createGroupKeys(e.parentNode),n=e.storeParams;if(n.datasource){var r={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:n.rowGroupCols,valueCols:n.valueCols,pivotCols:n.pivotCols,pivotMode:n.pivotMode,groupKeys:t,filterModel:n.filterModel,sortModel:n.sortModel},parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){n.datasource&&n.datasource.getRows(r)},0)}},t.prototype.getChildStore=function(e,t,n){if(a.mb.missingOrEmpty(e))return t;var r=n(e[0]);if(r){var o=e.slice(1,e.length),i=r.childStore;return i?i.getChildStore(o):null}return null},t.prototype.isServerRefreshNeeded=function(e,t,n){if(n.alwaysReset||n.valueColChanged||n.secondaryColChanged)return!0;var r=e.level+1;return!(r<t.length&&!(n.changedColumns.indexOf(t[r].id)>-1))},Uf([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),Uf([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),Uf([Object(a.m)("ssrmCacheUtils")],t)}(a.n),Kf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},qf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kf(t,e),t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.createRowNode=function(e){var t=this.getContext().createBean(new a.Z);return t.setRowHeight(this.rowHeight),t.group=e.group,t.leafGroup=e.leafGroup,t.level=e.level,t.uiLevel=e.level,t.parent=e.parent,t.stub=!0,t.group&&(t.expanded=!1,t.field=e.field,t.rowGroupColumn=e.rowGroupColumn),t},t.prototype.destroyRowNodes=function(e){e&&e.forEach(this.destroyRowNode.bind(this))},t.prototype.destroyRowNode=function(e){e.childStore&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},t.prototype.setDataIntoRowNode=function(e,t,n){if(e.stub=!1,a.mb.exists(t)){if(e.setDataAndId(t,n),this.usingTreeData){var r=this.gridOptionsWrapper.getIsServerSideGroupFunc(),o=this.gridOptionsWrapper.getServerSideGroupKeyFunc();null!=r&&(e.group=r(e.data),e.group&&null!=o&&(e.key=o(e.data)))}else if(e.group)e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&a.mb.doOnce(function(){console.warn("null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey");else if(this.usingMasterDetail){var i=this.gridOptionsWrapper.getIsRowMasterFunc();e.master=null==i||i(e.data)}}else e.setDataAndId(void 0,void 0),e.key=null;(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),a.mb.exists(t)&&e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e).height)},t.prototype.setChildCountIntoRowNode=function(e){var t=this.gridOptionsWrapper.getChildCountFunc();t&&(e.allChildrenCount=t(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var t=this,n=this.columnModel.getGroupDisplayColumns(),r=this.gridOptionsWrapper.isTreeData();n.forEach(function(n){if(null==e.groupData&&(e.groupData={}),r)e.groupData[n.getColId()]=e.key;else if(n.isRowGroupDisplayed(e.rowGroupColumn.getId())){var o=t.valueService.getValue(e.rowGroupColumn,e);e.groupData[n.getColId()]=o}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.group&&a.mb.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,t,n){if(e.setRowIndex(t.next()),e.setRowTop(n.value),n.value+=e.rowHeight,e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(t.next()),e.detailNode.setRowTop(n.value),n.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.group&&a.mb.exists(e.childStore)){var r=e.childStore;e.expanded?r.setDisplayIndexes(t,n):r.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,t){var n=0,r=t.length-1;if(a.mb.missing(r)||a.mb.missing(n))console.warn("ag-grid: error: topPointer = "+r+", bottomPointer = "+n);else for(;;){var o=Math.floor((n+r)/2),i=t[o];if(i.rowIndex===e)return i;if(i.master&&i.expanded&&i.detailNode.rowIndex===e)return i.detailNode;var s=i.childStore;if(i.expanded&&s&&s.isDisplayIndexInStore(e))return s.getRowUsingDisplayIndex(e);if(i.rowIndex<e)n=o+1;else{if(!(i.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");r=o-1}}},t.prototype.extractRowBounds=function(e,t){var n=function(e){return{rowHeight:e.rowHeight,rowTop:e.rowTop}};if(e.rowIndex===t)return n(e);if(e.group&&e.expanded&&a.mb.exists(e.childStore)){var r=e.childStore;if(r.isDisplayIndexInStore(t))return r.getRowBounds(t)}else if(e.master&&e.expanded&&a.mb.exists(e.detailNode)&&e.detailNode.rowIndex===t)return n(e.detailNode)},t.prototype.getIndexAtPixel=function(e,t){if(e.isPixelInRange(t))return e.rowIndex;if(e.master&&e.expanded&&e.detailNode.isPixelInRange(t))return e.detailNode.rowIndex;if(e.group&&e.expanded&&a.mb.exists(e.childStore)){var n=e.childStore;if(n.isPixelInRange(t))return n.getRowIndexAtPixel(t)}return null},t.prototype.createNodeIdPrefix=function(e){for(var t=[],n=e;n&&n.level>=0;)t.push(n.key),n=n.parent;if(t.length>0)return t.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var t=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();t&&t({data:e.data,rowNode:e})&&window.setTimeout(function(){return e.setExpanded(!0)},0)}},Xf([Object(a.k)("valueService")],t.prototype,"valueService",void 0),Xf([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),Xf([Object(a.k)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Xf([a.S],t.prototype,"postConstruct",null),Xf([Object(a.m)("ssrmBlockUtils")],t)}(a.n),Yf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Jf=function(){function e(){this.rowNodes={}}return e.prototype.addRowNode=function(e){var t=e.id;this.rowNodes[t]&&(console.warn("AG Grid: duplicate node id "+e.id),console.warn("first instance",this.rowNodes[t].data),console.warn("second instance",e.data)),this.rowNodes[t]=e},e.prototype.removeNode=function(e){var t=e.id;this.rowNodes[t]&&(this.rowNodes[t]=void 0)},e.prototype.clear=function(){this.rowNodes={}},Yf([a.U],e.prototype,"clear",null),Yf([Object(a.m)("ssrmNodeManager")],e)}(),Qf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zf=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},$f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.asyncTransactions=[],t}return Qf(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},t.prototype.applyTransactionAsync=function(e,t){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:t})},t.prototype.scheduleExecuteAsync=function(){var e=this,t=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},t)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var t=[],n=[],r=[],o=!1;if(this.asyncTransactions.forEach(function(i){var s;e.serverSideRowModel.executeOnStore(i.transaction.route,function(e){s=e.applyTransaction(i.transaction)}),null==s&&(s={status:a.db.StoreNotFound}),n.push(s),s.status==a.db.StoreLoading?r.push(i):(i.callback&&t.push(function(){return i.callback(s)}),s.status===a.db.Applied&&(o=!0))}),t.length>0&&window.setTimeout(function(){t.forEach(function(e){return e()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=r,o&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:a.C.EVENT_STORE_UPDATED})),n.length>0){var i={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:a.C.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(i)}}},t.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var t;return this.serverSideRowModel.executeOnStore(e.route,function(n){t=n.applyTransaction(e)}),t?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:a.C.EVENT_STORE_UPDATED}),t):{status:a.db.StoreNotFound}},Zf([Object(a.k)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Zf([Object(a.k)("valueCache")],t.prototype,"valueCache",void 0),Zf([Object(a.k)("rowModel")],t.prototype,"serverSideRowModel",void 0),Zf([a.S],t.prototype,"postConstruct",null),Zf([Object(a.m)("ssrmTransactionManager")],t)}(a.n),eg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ng=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eg(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,a.C.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var t=e.node;if(t.expanded){if(t.master)this.createDetailNode(t);else if(a.mb.missing(t.childStore)){var n=this.serverSideRowModel.getParams();t.childStore=this.createBean(this.storeFactory.createStore(n,t))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&a.mb.exists(t.childStore)&&(t.childStore=this.destroyBean(t.childStore));this.eventService.dispatchEvent({type:a.C.EVENT_STORE_UPDATED})},t.prototype.createDetailNode=function(e){if(a.mb.exists(e.detailNode))return e.detailNode;var t=new a.Z;this.getContext().createBean(t),t.detail=!0,t.selectable=!1,t.parent=e,a.mb.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1;var n=this.gridOptionsWrapper.getRowHeightForNode(t).height;return t.rowHeight=n||200,e.detailNode=t,t},tg([Object(a.k)("rowModel")],t.prototype,"serverSideRowModel",void 0),tg([Object(a.k)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),tg([a.S],t.prototype,"postConstruct",null),tg([Object(a.m)("ssrmExpandListener")],t)}(a.n),rg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),og=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ig=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rg(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,a.C.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()?e:(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e),e)},t.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var t=a.x.GROUP_AUTO_COLUMN_ID+"-",n=0;n<e.length;++n)e[n].colId.indexOf(t)>-1&&(e[n].colId=e[n].colId.substr(t.length))},t.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var t=a.mb.find(e,function(e){return e.colId==a.x.GROUP_AUTO_COLUMN_ID});if(t){var n=e.indexOf(t);a.mb.removeFromArray(e,t);var r=this.columnModel.getRowGroupColumns().filter(function(t){return 0==e.filter(function(e){return e.colId===t.getColId()}).length}).map(function(e){return{colId:e.getId(),sort:t.sort}});a.mb.insertArrayIntoArray(e,r,n)}},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var t=this.extractSortModel(),n=this.findChangedColumnsInSort(t,e.sortModel),r=this.listenerUtils.isSortingWithValueColumn(n),o=this.listenerUtils.isSortingWithSecondaryColumn(n),i=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.serverSideRowModel.refreshAfterSort(t,{valueColChanged:r,secondaryColChanged:o,alwaysReset:i,changedColumns:n})}},t.prototype.findChangedColumnsInSort=function(e,t){var n=[];return[e,t].forEach(function(e){if(e){var t=e.map(function(e){return e.colId});n=n.concat(t)}}),n.filter(function(n){var r=a.mb.find(t,function(e){return e.colId===n}),o=a.mb.find(e,function(e){return e.colId===n});return function(e,t){return(e?e.sort:null)!==(t?t.sort:null)}(r,o)||function(n,r){return t.indexOf(n)!==e.indexOf(r)}(r,o)})},og([Object(a.k)("sortController")],t.prototype,"sortController",void 0),og([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),og([Object(a.k)("rowModel")],t.prototype,"serverSideRowModel",void 0),og([Object(a.k)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),og([a.S],t.prototype,"postConstruct",null),og([Object(a.m)("ssrmSortService")],t)}(a.n),ag=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},lg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ag(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,a.C.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var t=this.filterManager.getFilterModel(),n=this.findChangedColumns(t,e?e.filterModel:{}),r=this.listenerUtils.isSortingWithValueColumn(n),o=this.listenerUtils.isSortingWithSecondaryColumn(n),i=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets();this.serverSideRowModel.refreshAfterFilter(t,{valueColChanged:r,secondaryColChanged:o,alwaysReset:i,changedColumns:n})}},t.prototype.findChangedColumns=function(e,t){var n={};Object.keys(e).forEach(function(e){return n[e]=!0}),Object.keys(t).forEach(function(e){return n[e]=!0});var r=[];return Object.keys(n).forEach(function(n){JSON.stringify(e[n])!=JSON.stringify(t[n])&&r.push(n)}),r},sg([Object(a.k)("rowModel")],t.prototype,"serverSideRowModel",void 0),sg([Object(a.k)("filterManager")],t.prototype,"filterManager",void 0),sg([Object(a.k)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),sg([a.S],t.prototype,"postConstruct",null),sg([Object(a.m)("ssrmFilterListener")],t)}(a.n),ug=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pg=function(e){function t(t,n,r,o,i){var a=e.call(this,t)||this;return a.ssrmParams=r,a.storeParams=o,a.parentRowNode=n,a.startRow=t*o.cacheBlockSize,a.parentStore=i,a.level=n.level+1,a.groupLevel=r.rowGroupCols?a.level<r.rowGroupCols.length:void 0,a.leafGroup=!!r.rowGroupCols&&a.level===r.rowGroupCols.length-1,a}return ug(t,e),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},t.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getBlockHeightPx=function(){return this.blockHeightPx},t.prototype.getBlockTopPx=function(){return this.blockTopPx},t.prototype.isGroupLevel=function(){return this.groupLevel},t.prototype.getGroupField=function(){return this.groupField},t.prototype.prefixId=function(e){return null!=this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},t.prototype.isAnyNodeOpen=function(){return this.rowNodes.filter(function(e){return e.expanded}).length>0},t.prototype.forEachNode=function(e,t,n,r){void 0===t&&(t=new a.N),this.rowNodes.forEach(function(o){if(e(o,t.next()),n&&o.childStore){var i=o.childStore;r?i.forEachNodeDeepAfterFilterAndSort(e,t):i.forEachNodeDeep(e,t)}})},t.prototype.forEachNodeDeep=function(e,t){this.forEachNode(e,t,!0,!1)},t.prototype.forEachNodeAfterFilterAndSort=function(e,t){this.forEachNode(e,t,!0,!0)},t.prototype.forEachNodeShallow=function(e,t){this.forEachNode(e,t,!1,!1)},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e){return this.rowNodes[e-this.startRow]},t.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},t.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},t.prototype.retryLoads=function(){this.getState()===a.ab.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow(function(e){e.childStore&&e.childStore.retryLoads()})},t.prototype.processServerResult=function(e){this.parentStore.onBlockLoaded(this,e)},t.prototype.setData=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=!1),this.destroyRowNodes();for(var n=this.parentStore.getRowCount(),r=this.getId()*this.storeParams.cacheBlockSize,o=Math.min(r+this.storeParams.cacheBlockSize,n)-r,i=0;i<o;i++){var a=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});if(i<e.length){var s=e[i],l=this.prefixId(this.startRow+i);this.blockUtils.setDataIntoRowNode(a,s,l),this.parentStore.removeDuplicateNode(a.id),this.nodeManager.addRowNode(a),this.allNodesMap[a.id]=a,this.blockUtils.checkOpenByDefault(a)}this.rowNodes.push(a),t&&(a.failedLoad=!0)}},t.prototype.removeDuplicateNode=function(e){var t=this.allNodesMap[e];if(t){this.blockUtils.destroyRowNode(t);var n=this.rowNodes.indexOf(t),r=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[n]=r}},t.prototype.refresh=function(){this.getState()!==a.ab.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.rowNodes),this.rowNodes=[],this.allNodesMap={}},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},t.prototype.getRowUsingDisplayIndex=function(e){return this.touchLastAccessed(),this.blockUtils.binarySearchForDisplayIndex(e,this.rowNodes)},t.prototype.loadFromDatasource=function(){this.cacheUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.isPixelInRange=function(e){return e>=this.blockTopPx&&e<this.blockTopPx+this.blockHeightPx},t.prototype.getRowBounds=function(e){var t,n=this;return this.touchLastAccessed(),a.mb.find(this.rowNodes,function(r){return null!=(t=n.blockUtils.extractRowBounds(r,e))}),t},t.prototype.getRowIndexAtPixel=function(e){var t=this;this.touchLastAccessed();var n=null;return a.mb.find(this.rowNodes,function(r){return null!=(n=t.blockUtils.getIndexAtPixel(r,e))}),n},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach(function(t){return e.blockUtils.clearDisplayIndex(t)})},t.prototype.setDisplayIndexes=function(e,t){var n=this;this.displayIndexStart=e.peek(),this.blockTopPx=t.value,this.rowNodes.forEach(function(r){return n.blockUtils.setDisplayIndex(r,e,t)}),this.displayIndexEnd=e.peek(),this.blockHeightPx=t.value-this.blockTopPx},cg([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),cg([Object(a.k)("ssrmCacheUtils")],t.prototype,"cacheUtils",void 0),cg([Object(a.k)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),cg([Object(a.k)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),cg([Object(a.k)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),cg([a.S],t.prototype,"postConstruct",null),cg([a.U],t.prototype,"destroyRowNodes",null),cg([(0,n=Object(a.W)("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),t;var n}(a.ab),dg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.FOUND=0]="FOUND",e[e.CONTINUE_FIND=1]="CONTINUE_FIND",e[e.BREAK_FIND=2]="BREAK_FIND"}(bp||(bp={}));var fg,gg=function(e){function t(n,r,o){var i=e.call(this)||this;return i.blocks={},i.blockHeights={},i.lastRowIndexKnown=!1,i.displayIndexStart=0,i.displayIndexEnd=0,i.cacheTopPixel=0,i.info={},i.ssrmParams=n,i.storeParams=r,i.parentRowNode=o,i.rowCount=t.INITIAL_ROW_COUNT,i}return dg(t,e),t.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(t){return e.destroyBlock(t)})},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.retryLoads=function(){this.getBlocksInOrder().forEach(function(e){return e.retryLoads()})},t.prototype.onBlockLoadFailed=function(e){e.setData([],!0),this.fireCacheUpdatedEvent()},t.prototype.onBlockLoaded=function(e,t){this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+t.rowCount),t.storeInfo&&a.mb.assign(this.info,t.storeInfo),t.rowData||a.mb.doOnce(function(){return console.warn('AG Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.',t)},"InfiniteStore.noData");var n=null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0;this.isAlive()&&(this.checkRowCount(e,n),e.setData(t.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,r=this.getBlocksInOrder().filter(function(t){return t!=e});r.sort(function(e,t){return t.getLastAccessed()-e.getLastAccessed()});var o=this.storeParams.maxBlocksInCache>0,i=o?this.storeParams.maxBlocksInCache-1:null,a=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach(function(e,t){if(e.getState()===pg.STATE_WAITING_TO_LOAD&&t>=a||o&&t>=i){if(e.isAnyNodeOpen())return;if(n.isBlockCurrentlyDisplayed(e))return;if(n.isBlockFocused(e))return;n.destroyBlock(e)}})},t.prototype.isBlockFocused=function(e){var t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;var n=e.getDisplayIndexStart(),r=e.getDisplayIndexEnd();return null!=r&&null!=n&&t.rowIndex>=n&&t.rowIndex<r},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=e.getDisplayIndexStart(),n=e.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(t,n)},t.prototype.removeDuplicateNode=function(e){this.getBlocksInOrder().forEach(function(t){return t.removeDuplicateNode(e)})},t.prototype.checkRowCount=function(e,n){if("number"==typeof n&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var r=(e.getId()+1)*this.storeParams.cacheBlockSize+t.OVERFLOW_SIZE;this.rowCount<r&&(this.rowCount=r)}},t.prototype.forEachNodeDeep=function(e,t){void 0===t&&(t=new a.N),this.getBlocksInOrder().forEach(function(n){return n.forEachNodeDeep(e,t)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,t){void 0===t&&(t=new a.N),this.getBlocksInOrder().forEach(function(n){return n.forEachNodeAfterFilterAndSort(e,t)})},t.prototype.getBlocksInOrder=function(){return a.mb.getAllValuesInObject(this.blocks).sort(function(e,t){return e.getId()-t.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.rowNodeBlockLoader.removeBlock(e)},t.prototype.fireCacheUpdatedEvent=function(){this.eventService.dispatchEvent({type:a.C.EVENT_STORE_UPDATED})},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.getBlocksInOrder().forEach(function(n){n.getId()*e.storeParams.cacheBlockSize>=e.rowCount&&t.push(n)}),t.length>0&&t.forEach(function(t){return e.destroyBlock(t)})},t.prototype.refreshStore=function(e){0==this.getRowCount()||e?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},t.prototype.refreshBlocks=function(){this.getBlocksInOrder().forEach(function(e){e.refresh()}),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=t.INITIAL_ROW_COUNT)},t.prototype.getRowNodesInRange=function(e,t){var n=[],r=-1,o=!1;a.mb.missing(e)&&(o=!0);var i=!1;return this.getBlocksInOrder().forEach(function(a){i||(o&&r+1!==a.getId()?i=!0:(r=a.getId(),a.forEachNodeShallow(function(r){var i=r===e||r===t;(o||i)&&n.push(r),i&&(o=!o)})))}),i||o?[]:n},t.prototype.findBlockAndExecute=function(e,t,n){var r,o=!1,i=!1,a=null;return this.getBlocksInOrder().forEach(function(n){if(!o&&!i){var s=e(n);s==bp.FOUND?(r=t(n),o=!0):s==bp.CONTINUE_FIND?a=n:s==bp.BREAK_FIND&&(i=!0)}}),o||(r=n(a)),r},t.prototype.getRowBounds=function(e){var t=this;return this.findBlockAndExecute(function(t){return t.isDisplayIndexInBlock(e)?bp.FOUND:t.isBlockBefore(e)?bp.CONTINUE_FIND:bp.BREAK_FIND},function(t){return t.getRowBounds(e)},function(n){var r,o;return null!==n?(r=n.getBlockTopPx()+n.getBlockHeightPx(),o=n.getDisplayIndexEnd()):(r=t.cacheTopPixel,o=t.displayIndexStart),{rowHeight:t.defaultRowHeight,rowTop:r+(e-o)*t.defaultRowHeight}})},t.prototype.getRowIndexAtPixel=function(e){var t=this,n=this.findBlockAndExecute(function(t){return t.isPixelInRange(e)?bp.FOUND:t.getBlockTopPx()<e?bp.CONTINUE_FIND:bp.BREAK_FIND},function(t){return t.getRowIndexAtPixel(e)},function(n){var r,o;return n?(r=n.getBlockTopPx()+n.getBlockHeightPx(),o=n.getDisplayIndexEnd()):(r=t.cacheTopPixel,o=t.displayIndexStart),o+((e-r)/t.defaultRowHeight|0)}),r=this.getDisplayIndexEnd()-1;return Math.min(n,r)},t.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach(function(e){return e.clearDisplayIndexes()})},t.prototype.setDisplayIndexes=function(e,t){var n=this;this.displayIndexStart=e.peek(),this.cacheTopPixel=t.value;var r=-1,o=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach(function(i){var s=i.getId(),l=s-r-1,u=l*o;u>0&&e.skip(u);for(var c=1;c<=l;c++){var p=s-c;a.mb.exists(n.blockHeights[p])?t.value+=n.blockHeights[p]:t.value+=o*n.defaultRowHeight}r=s,i.setDisplayIndexes(e,t),n.blockHeights[s]=i.getBlockHeightPx()});var i=(r+1)*o-1,s=this.getRowCount()-i-1;s>0&&(e.skip(s),t.value+=s*this.defaultRowHeight),this.displayIndexEnd=e.peek(),this.cacheHeightPixels=t.value-this.cacheTopPixel},t.prototype.getRowUsingDisplayIndex=function(e,t){var n=this;if(void 0===t&&(t=!1),this.isDisplayIndexInStore(e))return this.findBlockAndExecute(function(t){return t.isDisplayIndexInBlock(e)?bp.FOUND:t.isBlockBefore(e)?bp.CONTINUE_FIND:bp.BREAK_FIND},function(t){return t.getRowUsingDisplayIndex(e)},function(r){if(!t){var o,i,s,l=n.storeParams.cacheBlockSize;if(r)for(o=r.getId()+1,i=r.getDisplayIndexEnd(),s=r.getBlockHeightPx()+r.getBlockTopPx();!(e>=i&&e<i+l);){i+=l;var u=n.blockHeights[o];a.mb.exists(u)?s+=u:s+=n.defaultRowHeight*l,o++}else o=Math.floor((e-n.displayIndexStart)/l),i=n.displayIndexStart+o*l,s=n.cacheTopPixel+o*l*n.defaultRowHeight;return n.logger.log("block missing, rowIndex = "+e+", creating #"+o+", displayIndexStart = "+i),n.createBlock(o,i,{value:s}).getRowUsingDisplayIndex(e)}})},t.prototype.getTopLevelRowDisplayedIndex=function(e){var t=this.storeParams.cacheBlockSize,n=Math.floor(e/t);return this.findBlockAndExecute(function(e){return e.getId()===n?bp.FOUND:e.getId()<n?bp.CONTINUE_FIND:bp.BREAK_FIND},function(t){return t.getRowUsingLocalIndex(e).rowIndex},function(n){if(!n)return e;var r=t*(n.getId()+1)-1,o=n.getRowUsingLocalIndex(r);return(o.expanded&&o.childStore?o.childStore.getDisplayIndexEnd()-1:o.expanded&&o.detailNode?o.detailNode.rowIndex:o.rowIndex)+(e-r)})},t.prototype.addStoreStates=function(e){e.push({type:a.cb.Partial,route:this.storeUtils.createGroupKeys(this.parentRowNode),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(t){return t.addStoreStates(e)})},t.prototype.createBlock=function(e,t,n){var r=this.createBean(new pg(e,this.parentRowNode,this.ssrmParams,this.storeParams,this));return r.setDisplayIndexes(new a.N(t),n),this.blocks[r.getId()]=r,this.purgeBlocksIfNeeded(r),this.rowNodeBlockLoader.addBlock(r),r},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.applyTransaction=function(e){return{status:a.db.StoreWrongType}},t.prototype.getChildStore=function(e){var t=this;return this.storeUtils.getChildStore(e,this,function(e){var n=null;return t.getBlocksInOrder().forEach(function(t){t.forEachNodeShallow(function(t){t.key===e&&(n=t)},new a.N)}),n})},t.prototype.isPixelInRange=function(e){return 0!==this.getRowCount()&&e>=this.cacheTopPixel&&e<this.cacheTopPixel+this.cacheHeightPixels},t.prototype.refreshAfterFilter=function(e){this.resetStore()},t.prototype.refreshAfterSort=function(e){this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.resetStore():this.forEachChildStoreShallow(function(t){return t.refreshAfterSort(e)})},t.prototype.forEachChildStoreShallow=function(e){this.getBlocksInOrder().forEach(function(t){t.isGroupLevel()&&t.forEachNodeShallow(function(t){var n=t.childStore;n&&e(n)},new a.N)})},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,t.INITIAL_ROW_COUNT=1,t.OVERFLOW_SIZE=1,hg([Object(a.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),hg([Object(a.k)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),hg([Object(a.k)("ssrmCacheUtils")],t.prototype,"storeUtils",void 0),hg([Object(a.k)("focusService")],t.prototype,"focusService",void 0),hg([a.S],t.prototype,"postConstruct",null),hg([a.U],t.prototype,"destroyAllBlocks",null),hg([(0,n=Object(a.W)("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),t;var n}(a.n),mg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},vg=function(e){function t(t,n,r){var o=e.call(this,0)||this;return o.nodeIdSequence=new a.N,o.info={},o.ssrmParams=t,o.parentRowNode=r,o.level=r.level+1,o.groupLevel=t.rowGroupCols?o.level<t.rowGroupCols.length:void 0,o.leafGroup=!!t.rowGroupCols&&o.level===t.rowGroupCols.length-1,o}return mg(t,e),t.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.initialiseRowNodes(),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,t){void 0===e&&(e=1),void 0===t&&(t=!1),this.destroyRowNodes();for(var n=0;n<e;n++){var r=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});t&&(r.failedLoad=!0),this.allRowNodes.push(r),this.nodesAfterFilter.push(r),this.nodesAfterSort.push(r)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,t){var n=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=t?a.mb.insertIntoArray(this.allRowNodes,n,t):this.allRowNodes.push(n);var r=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(n,e,r),this.nodeManager.addRowNode(n),this.blockUtils.checkOpenByDefault(n),this.allNodesMap[n.id]=n,n},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){e.storeInfo&&a.mb.assign(this.info,e.storeInfo);var t=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||a.mb.doOnce(function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',e)},"FullStore.noData"),this.createOrRecycleNodes(t,e.rowData),t&&this.blockUtils.destroyRowNodes(a.mb.getAllValuesInObject(t)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,t){var n=this;t&&t.forEach(function(t){var r=function(t){if(e){var r=n.gridOptionsWrapper.getRowNodeIdFunc();if(r){var o=r(t),i=e[o];if(i)return delete e[o],i}}}(t);r?function(e,t){n.allNodesMap[e.id]=e,e.updateData(t),n.allRowNodes.push(e)}(r,t):n.createDataNode(t)})},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.sortController.getSortOptions(),t=!e||0==e.length,n=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.nodesAfterSort=t||n?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},t.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(t){return e.filterManager.doesRowPassFilter({rowNode:t})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(t){return e.blockUtils.clearDisplayIndex(t)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,t){var n=this;this.displayIndexStart=e.peek(),this.topPx=t.value;var r={};this.nodesAfterSort.forEach(function(o){n.blockUtils.setDisplayIndex(o,e,t),r[o.id]=!0}),this.allRowNodes.forEach(function(e){r[e.id]||n.blockUtils.clearDisplayIndex(e)}),this.displayIndexEnd=e.peek(),this.heightPx=t.value-this.topPx},t.prototype.forEachNodeDeep=function(e,t){void 0===t&&(t=new a.N),this.allRowNodes.forEach(function(n){e(n,t.next());var r=n.childStore;r&&r.forEachNodeDeep(e,t)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,t){void 0===t&&(t=new a.N),this.nodesAfterSort.forEach(function(n){e(n,t.next());var r=n.childStore;r&&r.forEachNodeDeepAfterFilterAndSort(e,t)})},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},t.prototype.getRowBounds=function(e){for(var t=0;t<this.nodesAfterSort.length;t++){var n=this.blockUtils.extractRowBounds(this.nodesAfterSort[t],e);if(n)return n}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var t=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var n=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=n.rowTop+n.rowHeight&&n.expanded){if(n.childStore&&n.childStore.getRowCount()>0)return n.childStore.getRowIndexAtPixel(e);if(n.detailNode)return n.detailNode.rowIndex}return n.rowIndex}var r=null;return this.nodesAfterSort.forEach(function(n){var o=t.blockUtils.getIndexAtPixel(n,e);null!=o&&(r=o)}),null==r?this.displayIndexEnd-1:r},t.prototype.getChildStore=function(e){var t=this;return this.storeUtils.getChildStore(e,this,function(e){return a.mb.find(t.allRowNodes,function(t){return t.key===e})})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(t){var n=t.childStore;n&&e(n)})},t.prototype.refreshAfterFilter=function(e){e.alwaysReset||this.gridOptionsWrapper.isTreeData()?this.refreshStore(!0):(this.filterAndSortNodes(),this.forEachChildStoreShallow(function(t){return t.refreshAfterFilter(e)}))},t.prototype.refreshAfterSort=function(e){e.alwaysReset?this.refreshStore(!0):(this.sortRowNodes(),this.forEachChildStoreShallow(function(t){return t.refreshAfterSort(e)}))},t.prototype.applyTransaction=function(e){switch(this.getState()){case a.ab.STATE_FAILED:return{status:a.db.StoreLoadingFailed};case a.ab.STATE_LOADING:return{status:a.db.StoreLoading};case a.ab.STATE_WAITING_TO_LOAD:return{status:a.db.StoreWaitingToLoad}}var t=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(t&&!t({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info}))return{status:a.db.Cancelled};var n={status:a.db.Applied,remove:[],update:[],add:[]},r=[];return this.executeAdd(e,n),this.executeRemove(e,n,r),this.executeUpdate(e,n,r),this.filterAndSortNodes(),this.updateSelection(r),n},t.prototype.updateSelection=function(e){if(e.length>0){e.forEach(function(e){e.setSelected(!1,!1,!0)});var t={type:a.C.EVENT_SELECTION_CHANGED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(t)}},t.prototype.executeAdd=function(e,t){var n=this,r=e.add,o=e.addIndex;a.mb.missingOrEmpty(r)||("number"==typeof o&&o>=0?r.reverse().forEach(function(e){var r=n.createDataNode(e,o);t.add.push(r)}):r.forEach(function(e){var r=n.createDataNode(e);t.add.push(r)}))},t.prototype.executeRemove=function(e,t,n){var r=this,o=e.remove;if(null!=o){var i={};o.forEach(function(e){var o=r.lookupRowNode(e);o&&(o.isSelected()&&n.push(o),o.clearRowTopAndRowIndex(),i[o.id]=!0,delete r.allNodesMap[o.id],t.remove.push(o),r.nodeManager.removeNode(o))}),this.allRowNodes=this.allRowNodes.filter(function(e){return!i[e.id]})}},t.prototype.executeUpdate=function(e,t,n){var r=this,o=e.update;null!=o&&o.forEach(function(e){var o=r.lookupRowNode(e);o&&(o.updateData(e),!o.selectable&&o.isSelected()&&n.push(o),t.update.push(o))})},t.prototype.lookupRowNode=function(e){var t,n=this.gridOptionsWrapper.getRowNodeIdFunc();if(a.mb.exists(n)){var r=n(e);if(!(t=this.allNodesMap[r]))return console.error("AG Grid: could not find row id="+r+", data item was not found for this id"),null}else if(!(t=a.mb.find(this.allRowNodes,function(t){return t.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return t},t.prototype.addStoreStates=function(e){e.push({type:a.cb.Full,route:this.storeUtils.createGroupKeys(this.parentRowNode),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(t){return t.addStoreStates(e)})},t.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===a.ab.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:a.C.EVENT_STORE_UPDATED})},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==a.ab.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,t){var n=[],r=!1;return a.mb.missing(e)&&(r=!0),this.nodesAfterSort.forEach(function(o){var i=o===e||o===t;(r||i)&&n.push(o),i&&(r=!r)}),r?[]:n},yg([Object(a.k)("ssrmCacheUtils")],t.prototype,"storeUtils",void 0),yg([Object(a.k)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),yg([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),yg([Object(a.k)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),yg([Object(a.k)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),yg([Object(a.k)("sortController")],t.prototype,"sortController",void 0),yg([Object(a.k)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),yg([Object(a.k)("filterManager")],t.prototype,"filterManager",void 0),yg([Object(a.k)("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),yg([a.S],t.prototype,"postConstruct",null),yg([a.U],t.prototype,"destroyRowNodes",null),t}(a.ab),bg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Cg=function(){function e(){}return e.prototype.createStore=function(e,t){var n=this.getStoreParams(e,t);return new(n.storeType===a.cb.Partial?gg:vg)(e,n,t)},e.prototype.getStoreParams=function(e,t){var n=this.getLevelSpecificParams(t),r=this.getStoreType(n);return{storeType:r,cacheBlockSize:this.getBlockSize(r,n),maxBlocksInCache:this.getMaxBlocksInCache(r,e,n)}},e.prototype.getMaxBlocksInCache=function(e,t,n){if(e!=a.cb.Full){var r=n&&null!=n.maxBlocksInCache?n.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache();if(null!=r&&r>=0)if(t.dynamicRowHeight)a.mb.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.dynamicRowHeight");else{if(!this.columnModel.isAutoRowHeightActive())return r;a.mb.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.autoRowHeightActive")}}},e.prototype.getBlockSize=function(e,t){if(e!=a.cb.Full){var n=t&&null!=t.cacheBlockSize?t.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return null!=n&&n>0?n:100}},e.prototype.getLevelSpecificParams=function(e){var t=this.gridOptionsWrapper.getServerSideStoreParamsFunc();if(t)return t({level:e.level+1,parentRowNode:e.level>=0?e:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()})},e.prototype.getStoreType=function(e){var t=e&&null!=e.storeType?e.storeType:this.gridOptionsWrapper.getServerSideStoreType();switch(t){case a.cb.Partial:case a.cb.Full:return t;case null:case void 0:return a.cb.Full;default:var n=Object.keys(a.cb).join(", ");return console.warn("AG Grid: invalid Server Side Store Type "+t+", valid types are ["+n+"]"),a.cb.Partial}},bg([Object(a.k)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),bg([Object(a.k)("columnModel")],e.prototype,"columnModel",void 0),bg([Object(a.m)("ssrmStoreFactory")],e)}(),wg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Og=function(){function e(){}return e.prototype.isSortingWithValueColumn=function(e){for(var t=this.columnModel.getValueColumns().map(function(e){return e.getColId()}),n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1},e.prototype.isSortingWithSecondaryColumn=function(e){if(!this.columnModel.getSecondaryColumns())return!1;for(var t=this.columnModel.getSecondaryColumns().map(function(e){return e.getColId()}),n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1},wg([Object(a.k)("columnModel")],e.prototype,"columnModel",void 0),wg([Object(a.m)("ssrmListenerUtils")],e)}(),xg={moduleName:a.L.ServerSideRowModelModule,rowModels:{serverSide:Wf},beans:[ng,ig,Hf,qf,Jf,$f,lg,Cg,Og],dependantModules:[U]},Sg=function(){function e(e,t,n){this.rowModel=e,this.colDef=t,this.valueGetter=n}return e.prototype.extractUniqueValues=function(e){var t=this,n=new Set,r=this.colDef.keyCreator;return this.rowModel.forEachLeafNode(function(o){if(o.data&&e(o)){var i=t.valueGetter(o);r&&(i=r({value:i})),null!=(i=a.mb.makeNull(i))&&Array.isArray(i)?a.mb.forEach(i,function(e){var t=a.mb.toStringOrNull(a.mb.makeNull(e));n.add(t)}):n.add(a.mb.toStringOrNull(i))}}),a.mb.values(n)},e}();!function(e){e[e.PROVIDED_LIST=0]="PROVIDED_LIST",e[e.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",e[e.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(fg||(fg={}));var Pg=function(){function e(e,t,n,r){var o=this;this.filterParams=e,this.setIsLoading=t,this.valueFormatterService=n,this.translate=r,this.localEventService=new a.B,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,this.initialised=!1;var i=e.colDef,s=e.textFormatter,l=e.doesRowPassOtherFilter,u=e.suppressSorting,c=e.comparator,p=e.rowModel,d=e.valueGetter,h=e.values;this.column=e.column,this.colDef=i,this.formatter=s||a.gb.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=l,this.suppressSorting=u||!1,this.comparator=c||i.comparator||a.mb.defaultComparator,p.getType()===a.x.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new Sg(p,i,d)),null==h?this.valuesType=fg.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(h)?fg.PROVIDED_LIST:fg.PROVIDED_CALLBACK,this.providedValues=h),this.updateAllValues().then(function(e){return o.resetSelectionState(e||[])})}return e.prototype.addEventListener=function(e,t,n){this.localEventService.addEventListener(e,t,n)},e.prototype.removeEventListener=function(e,t,n){this.localEventService.removeEventListener(e,t,n)},e.prototype.refreshValues=function(e){void 0===e&&(e=!0);var t=this.getModel();return this.updateAllValues(),this.setModel(e?t:null)},e.prototype.overrideValues=function(e,t){var n=this;return void 0===t&&(t=!0),new a.g(function(r){n.allValuesPromise.then(function(){n.valuesType=fg.PROVIDED_LIST,n.providedValues=e,n.refreshValues(t).then(function(){return r()})})})},e.prototype.refreshAfterAnyFilterChanged=function(){var e=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(t){return e.updateAvailableValues(t||[])}):a.g.resolve()},e.prototype.isInitialised=function(){return this.initialised},e.prototype.updateAllValues=function(){var e=this;return this.allValuesPromise=new a.g(function(t){switch(e.valuesType){case fg.TAKEN_FROM_GRID_VALUES:case fg.PROVIDED_LIST:var n=e.valuesType===fg.TAKEN_FROM_GRID_VALUES?e.getValuesFromRows(!1):a.mb.toStrings(e.providedValues),r=e.sortValues(n||[]);e.allValues=r,t(r);break;case fg.PROVIDED_CALLBACK:e.setIsLoading(!0);var o=e.providedValues,i={success:function(n){var r=a.mb.toStrings(n);e.setIsLoading(!1);var o=e.sortValues(r||[]);e.allValues=o,t(o)},colDef:e.colDef};window.setTimeout(function(){return o(i)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(t){return e.updateAvailableValues(t||[])}).then(function(){return e.initialised=!0}),this.allValuesPromise},e.prototype.setValuesType=function(e){this.valuesType=e},e.prototype.getValuesType=function(){return this.valuesType},e.prototype.isValueAvailable=function(e){return this.availableValues.has(e)},e.prototype.showAvailableOnly=function(){return this.valuesType===fg.TAKEN_FROM_GRID_VALUES&&!this.filterParams.suppressRemoveEntries},e.prototype.updateAvailableValues=function(t){var n=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):t;this.availableValues=a.mb.convertToSet(n),this.localEventService.dispatchEvent({type:e.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},e.prototype.sortValues=function(e){return this.suppressSorting?e:!this.filterParams.excelMode||e.indexOf(null)<0?e.sort(this.comparator):a.mb.filter(e,function(e){return null!=e}).sort(this.comparator).concat(null)},e.prototype.getValuesFromRows=function(e){var t=this;return void 0===e&&(e=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(n){return!e||t.doesRowPassOtherFilters(n)}):(console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},e.prototype.setMiniFilter=function(e){return e=a.mb.makeNull(e),this.miniFilterText!==e&&(this.miniFilterText=e,this.updateDisplayedValues(),!0)},e.prototype.getMiniFilter=function(){return this.miniFilterText},e.prototype.updateDisplayedValues=function(){var e=this;if(null!=this.miniFilterText){this.displayedValues=[];var t=(this.formatter(this.miniFilterText)||"").toUpperCase(),n=function(e){return null!=e&&e.toUpperCase().indexOf(t)>=0};this.availableValues.forEach(function(t){if(null==t)e.filterParams.excelMode&&n(e.translate("blanks"))&&e.displayedValues.push(t);else{var r=e.formatter(t),o=e.valueFormatterService.formatValue(e.column,null,null,r,e.filterParams.valueFormatter,!1);(n(r)||n(o))&&e.displayedValues.push(t)}})}else this.displayedValues=a.mb.values(this.availableValues)},e.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},e.prototype.getDisplayedValue=function(e){return this.displayedValues[e]},e.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},e.prototype.getUniqueValueCount=function(){return this.allValues.length},e.prototype.getUniqueValue=function(e){return this.allValues[e]},e.prototype.getValues=function(){return this.allValues.slice()},e.prototype.selectAllMatchingMiniFilter=function(e){var t=this;void 0===e&&(e=!1),null==this.miniFilterText?this.selectedValues=a.mb.convertToSet(this.allValues):(e&&this.selectedValues.clear(),a.mb.forEach(this.displayedValues,function(e){return t.selectedValues.add(e)}))},e.prototype.deselectAllMatchingMiniFilter=function(){var e=this;null==this.miniFilterText?this.selectedValues.clear():a.mb.forEach(this.displayedValues,function(t){return e.selectedValues.delete(t)})},e.prototype.selectValue=function(e){this.selectedValues.add(e)},e.prototype.deselectValue=function(e){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(e)},e.prototype.isValueSelected=function(e){return this.selectedValues.has(e)},e.prototype.isEverythingVisibleSelected=function(){var e=this;return a.mb.filter(this.displayedValues,function(t){return e.isValueSelected(t)}).length===this.displayedValues.length},e.prototype.isNothingVisibleSelected=function(){var e=this;return 0===a.mb.filter(this.displayedValues,function(t){return e.isValueSelected(t)}).length},e.prototype.getModel=function(){return this.hasSelections()?a.mb.values(this.selectedValues):null},e.prototype.setModel=function(e){var t=this;return this.allValuesPromise.then(function(n){if(null==e)t.resetSelectionState(n||[]);else{t.selectedValues.clear();var r=a.mb.convertToSet(n||[]);a.mb.forEach(e,function(e){r.has(e)&&t.selectedValues.add(e)})}})},e.prototype.resetSelectionState=function(e){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=a.mb.convertToSet(e||[])},e.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",e}(),_g=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Tg=function(e){function t(n,r,o,i){var a=e.call(this,t.TEMPLATE)||this;return a.value=n,a.params=r,a.translate=o,a.isSelected=i,a}return _g(t,e),t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.onValueChange(function(n){var r=n||!1;e.isSelected=r,e.dispatchEvent({type:t.EVENT_SELECTION_CHANGED,isSelected:r})})},t.prototype.toggleSelected=function(){this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected)},t.prototype.render=function(){var e=this.params.column,t=this.value,n=null;"function"==typeof t?t=t():n=this.getFormattedValue(this.params,e,t),this.params.showTooltips&&this.setTooltip(null!=n?n:t);var r={value:t,valueFormatted:n,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};this.renderCell(r)},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="setFilterValue",t.colDef=this.getComponentHolder(),t},t.prototype.getFormattedValue=function(e,t,n){return this.valueFormatterService.formatValue(t,null,null,n,e&&e.valueFormatter,!1)},t.prototype.renderCell=function(e){var t=this,n=this.userComponentFactory.newSetFilterCellRenderer(this.params,e);if(null!=n)n.then(function(e){e&&(t.eCheckbox.setLabel(e.getGui()),t.addDestroyFunc(function(){return t.destroyBean(e)}))});else{var r=null==e.valueFormatted?e.value:e.valueFormatted;this.eCheckbox.setLabel(null==r?this.translate("blanks"):r)}},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',Eg([Object(a.k)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Eg([Object(a.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Eg([Object(a.X)("eCheckbox")],t.prototype,"eCheckbox",void 0),Eg([a.S],t.prototype,"init",null),t}(a.v),Ag={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},Mg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},kg=function(e){function t(){var t=e.call(this,"setFilter")||this;return t.valueModel=null,t.setFilterParams=null,t.virtualList=null,t.appliedModelValues=null,t}return Mg(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.positionableFeature=new a.R(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},t.prototype.handleKeyDown=function(t){if(e.prototype.handleKeyDown.call(this,t),!t.defaultPrevented)switch(t.which||t.keyCode){case a.J.SPACE:this.handleKeySpace(t);break;case a.J.ENTER:this.handleKeyEnter(t)}},t.prototype.handleKeySpace=function(e){if(this.eSetFilterList.contains(document.activeElement)&&this.virtualList){var t=this.virtualList.getLastFocusedRow();if(null!=t){var n=this.virtualList.getComponentAt(t);n&&(e.preventDefault(),n.toggleSelected())}}},t.prototype.handleKeyEnter=function(e){this.setFilterParams&&this.setFilterParams.excelMode&&(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModelAndRefresh=function(e){var t=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return t.refresh()}):a.g.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){this.setMiniFilter(null),e instanceof Array&&a.mb.doOnce(function(){return console.warn("AG Grid: The Set Filter Model is no longer an array and models as arrays are deprecated. Please check the docs on what the set filter model looks like. Future versions of AG Grid will have the array version of the model removed.")},"setFilter.modelAsArray");var t=null==e?null:e instanceof Array?e:e.values;return this.setModelAndRefresh(t)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?this.gridOptionsWrapper.isEnableOldSetFilterModel()?e:{values:e,filterType:this.getFilterType()}:null},t.prototype.getModel=function(){return e.prototype.getModel.call(this)},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&a.mb.areEqual(e.values,t.values)},t.prototype.setParams=function(t){var n=this;this.applyExcelModeOptions(t),e.prototype.setParams.call(this,t),this.checkSetFilterDeprecatedParams(t),this.setFilterParams=t,this.valueModel=new Pg(t,function(e){return n.showOrHideLoadingScreen(e)},this.valueFormatterService,function(e){return n.translateForSetFilter(e)}),this.initialiseFilterBodyUi(),t.rowModel.getType()!==a.x.ROW_MODEL_TYPE_CLIENT_SIDE||t.values||t.suppressSyncValuesAfterDataChange||this.addEventListenersForDataChanges()},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},t.prototype.checkSetFilterDeprecatedParams=function(e){e.syncValuesLikeExcel&&a.mb.doOnce(function(){return console.warn("AG Grid: since version 22.x, the Set Filter param syncValuesLikeExcel is no longer used as this is the default behaviour. To turn this default behaviour off, use the param suppressSyncValuesAfterDataChange")},"syncValuesLikeExcel deprecated"),e.selectAllOnMiniFilter&&a.mb.doOnce(function(){return console.warn("AG Grid: since version 22.x, the Set Filter param selectAllOnMiniFilter is no longer used as this is the default behaviour.")},"selectAllOnMiniFilter deprecated"),e.suppressSyncValuesAfterDataChange&&a.mb.doOnce(function(){return console.warn("AG Grid: since version 23.1, the Set Filter param suppressSyncValuesAfterDataChange has been deprecated and will be removed in a future major release.")},"suppressSyncValuesAfterDataChange deprecated"),e.suppressRemoveEntries&&a.mb.doOnce(function(){return console.warn("AG Grid: since version 23.1, the Set Filter param suppressRemoveEntries has been deprecated and will be removed in a future major release.")},"suppressRemoveEntries deprecated")},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.addManagedListener(this.eventService,a.C.EVENT_ROW_DATA_UPDATED,function(){return e.syncAfterDataChange()}),this.addManagedListener(this.eventService,a.C.EVENT_CELL_VALUE_CHANGED,function(t){e.setFilterParams&&t.column===e.setFilterParams.column&&e.syncAfterDataChange()})},t.prototype.syncAfterDataChange=function(e,t){var n=this;if(void 0===e&&(e=!0),void 0===t&&(t=!0),!this.valueModel)throw new Error("Value model has not been created.");var r=a.g.resolve();return e?r=this.valueModel.refreshValues(t):t||(r=this.valueModel.setModel(null)),r.then(function(){n.refresh(),n.onBtApply(!1,!0)})},t.prototype.setLoading=function(e){a.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, setLoading has been deprecated. The loading screen is displayed automatically when the set filter is retrieving values.")},"setFilter.setLoading"),this.showOrHideLoadingScreen(e)},t.prototype.showOrHideLoadingScreen=function(e){a.mb.setDisplayed(this.eFilterLoading,e)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.virtualList=this.createBean(new a.lb("filter")),n=this.getRefElement("eSetFilterList");n&&n.appendChild(t.getGui());var r,o=this.setFilterParams.cellHeight;null!=o&&t.setRowHeight(o),t.setComponentCreator(function(t){return e.createSetListItem(t)}),r=this.setFilterParams.suppressSelectAll?new Rg(this.valueModel):new Ig(this.valueModel,function(){return e.isSelectAllSelected()}),t.setModel(r)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.createSetListItem=function(e){var n,r=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return e===t.SELECT_ALL_VALUE?((n=this.createBean(new Tg(function(){return r.getSelectAllLabel()},this.setFilterParams,function(e){return r.translateForSetFilter(e)},this.isSelectAllSelected()))).addEventListener(Tg.EVENT_SELECTION_CHANGED,function(e){return r.onSelectAll(e.isSelected)}),n):((n=this.createBean(new Tg(e,this.setFilterParams,function(e){return r.translateForSetFilter(e)},this.valueModel.isValueSelected(e)))).addEventListener(Tg.EVENT_SELECTION_CHANGED,function(t){return r.onItemSelected(e,t.isSelected)}),n)},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.eMiniFilter,n=this.gridOptionsWrapper.getLocaleTextFunc();a.mb.setDisplayed(t.getGui(),!this.setFilterParams.suppressMiniFilter),t.setValue(this.valueModel.getMiniFilter()),t.onValueChange(function(){return e.onMiniFilterInput()}),t.setInputAriaLabel(n("ariaSearchFilterValues","Search filter values")),this.addManagedListener(t.getInputElement(),"keypress",function(t){return e.onMiniFilterKeyPress(t)})},t.prototype.afterGuiAttached=function(t){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");e.prototype.afterGuiAttached.call(this,t),this.refreshVirtualList(),this.setFilterParams.excelMode&&this.resetUiToActiveModel();var n=this.eMiniFilter;n.setInputPlaceholder(this.translateForSetFilter("searchOoo")),t&&t.suppressFocus||n.getFocusableElement().focus();var r,o=!(!t||"floatingFilter"!==t.container);r=this.gridOptionsWrapper.isEnableRtl()?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0},o?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(r)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},t.prototype.applyModel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var t=e.prototype.applyModel.call(this),n=this.getModel();return this.appliedModelValues=n?a.mb.reduce(n.values,function(e,t){return e[String(t)]=!0,e},{}):null,t},t.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},t.prototype.doesFilterPass=function(e){var t=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var n=this.setFilterParams,r=n.colDef.keyCreator,o=(0,n.valueGetter)(e.node);return r&&(o=r({value:o})),o=a.mb.makeNull(o),Array.isArray(o)?a.mb.some(o,function(e){return!0===t.appliedModelValues[a.mb.makeNull(e)]}):!0===this.appliedModelValues[o]},t.prototype.onNewRowsLoaded=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getValuesType(),t=this.isNewRowsActionKeep();this.syncAfterDataChange(e===fg.TAKEN_FROM_GRID_VALUES,t)},t.prototype.setFilterValues=function(e){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e,this.isNewRowsActionKeep()).then(function(){t.refresh(),t.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(fg.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange(!0,this.isNewRowsActionKeep())},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(){return e.refresh()})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setMiniFilter(this.eMiniFilter.getValue())&&(this.setFilterParams.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange())},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode?null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()):this.refresh(),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;a.mb.setDisplayed(this.eNoMatches,e),a.mb.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetUiToActiveModel=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return e.onUiChanged(!1,"prevent")})},t.prototype.onMiniFilterKeyPress=function(e){!a.mb.isKeyPressed(e,a.J.ENTER)||this.setFilterParams&&this.setFilterParams.excelMode||this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){if(void 0===e&&(e=!0),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var t=this;null!=e&&window.setTimeout(function(){if(!t.virtualList)throw new Error("Virtual list has not been created.");t.isAlive()&&t.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var t=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(t)},t.prototype.onItemSelected=function(e,t){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");t?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var n=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(n)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.selectEverything=function(){if(a.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, selectEverything has been deprecated. Please use setModel instead.")},"setFilter.selectEverything"),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.selectAllMatchingMiniFilter(),this.refresh()},t.prototype.selectNothing=function(){if(a.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, selectNothing has been deprecated. Please use setModel instead.")},"setFilter.selectNothing"),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.deselectAllMatchingMiniFilter(),this.refresh()},t.prototype.unselectValue=function(e){if(a.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, unselectValue has been deprecated. Please use setModel instead.")},"setFilter.unselectValue"),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.deselectValue(e),this.refresh()},t.prototype.selectValue=function(e){if(a.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, selectValue has been deprecated. Please use setModel instead.")},"setFilter.selectValue"),!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.selectValue(e),this.refresh()},t.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},t.prototype.isValueSelected=function(e){if(a.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, isValueSelected has been deprecated. Please use getModel instead.")},"setFilter.isValueSelected"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.isValueSelected(e)},t.prototype.isEverythingSelected=function(){if(a.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, isEverythingSelected has been deprecated. Please use getModel instead.")},"setFilter.isEverythingSelected"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.isEverythingVisibleSelected()},t.prototype.isNothingSelected=function(){if(a.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, isNothingSelected has been deprecated. Please use getModel instead.")},"setFilter.isNothingSelected"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.isNothingVisibleSelected()},t.prototype.getUniqueValueCount=function(){if(a.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, getUniqueValueCount has been deprecated. Please use getValues instead.")},"setFilter.getUniqueValueCount"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.getUniqueValueCount()},t.prototype.getUniqueValue=function(e){if(a.mb.doOnce(function(){return console.warn("AG Grid: since version 23.2, getUniqueValue has been deprecated. Please use getValues instead.")},"setFilter.getUniqueValue"),!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.getUniqueValue(e)},t.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},t.prototype.translateForSetFilter=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,Ag[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),e.prototype.destroy.call(this)},t.SELECT_ALL_VALUE="__AG_SELECT_ALL__",Dg([Object(a.X)("eMiniFilter")],t.prototype,"eMiniFilter",void 0),Dg([Object(a.X)("eFilterLoading")],t.prototype,"eFilterLoading",void 0),Dg([Object(a.X)("eSetFilterList")],t.prototype,"eSetFilterList",void 0),Dg([Object(a.X)("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),Dg([Object(a.k)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(a.V),Rg=function(){function e(e){this.model=e}return e.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},e.prototype.getRow=function(e){return this.model.getDisplayedValue(e)},e.prototype.isRowSelected=function(e){return this.model.isValueSelected(this.getRow(e))},e}(),Ig=function(){function e(e,t){this.model=e,this.isSelectAllSelected=t}return e.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},e.prototype.getRow=function(e){return 0===e?kg.SELECT_ALL_VALUE:this.model.getDisplayedValue(e-1)},e.prototype.isRowSelected=function(e){return 0===e?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(e))},e}(),Ng=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Lg=function(e){function t(){var t=e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return t.availableValuesListenerAdded=!1,t}return Ng(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" "+n("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},t.prototype.onParentModelChanged=function(e){this.lastKnownModel=e,this.updateFloatingFilterText()},t.prototype.addAvailableValuesListener=function(){var e=this;this.params.parentFilterInstance(function(t){var n=t.getValueModel();n&&e.addManagedListener(n,Pg.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(){var e=this;if(this.lastKnownModel){this.availableValuesListenerAdded||this.addAvailableValuesListener();var t=this.lastKnownModel instanceof Array?this.lastKnownModel:this.lastKnownModel.values;t?this.params.parentFilterInstance(function(n){var r=n.getValueModel();if(r){var o=a.mb.filter(t,function(e){return r.isValueAvailable(e)}),i=e.gridOptionsWrapper.getLocaleTextFunc(),s=a.mb.map(o,function(t){var n=e.params,r=e.valueFormatterService.formatValue(n.column,null,null,t,n.filterParams.valueFormatter,!1),o=null!=r?r:t;return null==o?i("blanks",Ag.blanks):o}),l=s.length>10?s.slice(0,10).concat("..."):s,u="("+s.length+") "+l.join(",");e.eFloatingFilterText.setValue(u)}}):this.eFloatingFilterText.setValue("")}else this.eFloatingFilterText.setValue("")},Fg([Object(a.X)("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),Fg([Object(a.k)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Fg([Object(a.k)("columnModel")],t.prototype,"columnModel",void 0),t}(a.v),jg={moduleName:a.L.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:kg},{componentName:"agSetColumnFloatingFilter",componentClass:Lg}],dependantModules:[U]},Gg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vg=function(e){function t(){var t=e.call(this)||this;return t.allComponents={},t}return Gg(t,e),t.prototype.registerStatusPanel=function(e,t){this.allComponents[e]=t},t.prototype.getStatusPanel=function(e){return this.allComponents[e]},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([Object(a.m)("statusBarService")],t)}(a.n),Bg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},zg=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Bg(t,e),t.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var e=this.gridOptions.statusBar.statusPanels.filter(function(e){return"left"===e.align});this.createAndRenderComponents(e,this.eStatusBarLeft);var t=this.gridOptions.statusBar.statusPanels.filter(function(e){return"center"===e.align});this.createAndRenderComponents(t,this.eStatusBarCenter);var n=this.gridOptions.statusBar.statusPanels.filter(function(e){return!e.align||"right"===e.align});this.createAndRenderComponents(n,this.eStatusBarRight)}else this.setDisplayed(!1)},t.prototype.createAndRenderComponents=function(e,t){var n=this,r=[];e.forEach(function(e){var t={api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi(),context:n.gridOptionsWrapper.getContext()},o=n.userComponentFactory.newStatusPanelComponent(e,t);o&&r.push({key:e.key||e.statusPanel,promise:o})}),a.g.all(r.map(function(e){return e.promise})).then(function(){r.forEach(function(e){e.promise.then(function(r){var o=function(){n.getContext().destroyBean(r)};n.isAlive()?(n.statusBarService.registerStatusPanel(e.key,r),t.appendChild(r.getGui()),n.addDestroyFunc(o)):o()})})})},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right"></div>\n        </div>',Wg([Object(a.k)("gridOptions")],t.prototype,"gridOptions",void 0),Wg([Object(a.k)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Wg([Object(a.k)("statusBarService")],t.prototype,"statusBarService",void 0),Wg([Object(a.X)("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),Wg([Object(a.X)("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),Wg([Object(a.X)("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),Wg([a.S],t.prototype,"postConstruct",null),t}(a.v),Ug=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Kg=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Ug(t,e),t.prototype.setLabel=function(e,t){this.setDisplayed(!1);var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=n(e,t)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',Hg([Object(a.X)("eLabel")],t.prototype,"eLabel",void 0),Hg([Object(a.X)("eValue")],t.prototype,"eValue",void 0),t}(a.v),Xg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Yg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xg(t,e),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,a.C.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=a.mb.formatNumberCommas(this.getFilteredRowCountValue()),t=a.mb.formatNumberCommas(this.getTotalRowCount());if(e===t)this.setValue(e);else{var n=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(e+" "+n("of","of")+" "+t)}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(t){t.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(t){t.group||e++}),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},qg([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),qg([a.S],t.prototype,"postConstruct",null),t}(Kg),Jg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qg=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Zg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jg(t,e),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,a.C.EVENT_MODEL_UPDATED,e)}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),t=this.getFilteredRowCountValue();this.setValue(a.mb.formatNumberCommas(t)),this.setDisplayed(e!==t)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(t){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(t){t.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},Qg([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),Qg([a.S],t.prototype,"postConstruct",null),t}(Kg),$g=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),em=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},tm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $g(t,e),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,a.C.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){this.setValue(a.mb.formatNumberCommas(this.getRowCountValue()))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(t){return e+=1}),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},em([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),em([a.S],t.prototype,"postConstruct",null),t}(Kg),nm=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rm=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},om=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nm(t,e),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length;this.setValue(a.mb.formatNumberCommas(e)),this.setDisplayed(e>0);var t=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,a.C.EVENT_MODEL_UPDATED,t),this.addManagedListener(this.eventService,a.C.EVENT_SELECTION_CHANGED,t)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length;this.setValue(a.mb.formatNumberCommas(e)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},rm([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),rm([a.S],t.prototype,"postConstruct",null),t}(Kg),im=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),am=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},sm=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return im(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,a.C.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,a.C.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(){},t.prototype.setAggregationComponentValue=function(e,t,n){var r=this.getAggregationValueComponent(e);a.mb.exists(r)&&r&&(r.setValue(a.mb.formatNumberTwoDecimalPlacesAndCommas(t)),r.setDisplayed(n))},t.prototype.getAggregationValueComponent=function(e){var t=e+"AggregationComp",n=null,r=a.mb.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?a.mb.find(this.gridOptions.statusBar.statusPanels,function(e){return"agAggregationComponent"===e.statusPanel}):null;return a.mb.exists(r)&&r?(!a.mb.exists(r.statusPanelParams)||a.mb.exists(r.statusPanelParams)&&a.mb.exists(r.statusPanelParams.aggFuncs)&&a.mb.exists(a.mb.find(r.statusPanelParams.aggFuncs,function(t){return t===e})))&&(n=this[t]):n=this[t],n},t.prototype.onRangeSelectionChanged=function(){var e=this,t=this.rangeService?this.rangeService.getCellRanges():void 0,n=0,r=0,o=0,i=null,s=null,l={};t&&!a.mb.missingOrEmpty(t)&&t.forEach(function(t){for(var u=e.rangeService.getRangeStartRow(t),c=e.rangeService.getRangeEndRow(t);!a.mb.missing(u)&&u&&!e.rowPositionUtils.before(c,u)&&u&&t.columns;)t.columns.forEach(function(t){if(null!==u){var c=e.cellPositionUtils.createId({rowPinned:u.rowPinned,column:t,rowIndex:u.rowIndex});if(!l[c]){l[c]=!0;var p=e.rowRenderer.getRowNode(u);if(!a.mb.missing(p)){var d=e.valueService.getValue(t,p);a.mb.missing(d)||""===d||(d.value&&(d=d.value),"string"==typeof d&&(d=Number(d)),"number"!=typeof d||isNaN(d)||(n+=d,(null===s||d>s)&&(s=d),(null===i||d<i)&&(i=d),o++),r++)}}}}),u=e.cellNavigationService.getRowBelow(u)});var u=o>1;this.setAggregationComponentValue("count",r,r>1),this.setAggregationComponentValue("sum",n,u),this.setAggregationComponentValue("min",i,u),this.setAggregationComponentValue("max",s,u),this.setAggregationComponentValue("avg",n/o,u)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',am([Object(a.O)("rangeService")],t.prototype,"rangeService",void 0),am([Object(a.k)("valueService")],t.prototype,"valueService",void 0),am([Object(a.k)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),am([Object(a.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),am([Object(a.k)("gridOptions")],t.prototype,"gridOptions",void 0),am([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),am([Object(a.k)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),am([Object(a.k)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),am([Object(a.X)("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),am([Object(a.X)("countAggregationComp")],t.prototype,"countAggregationComp",void 0),am([Object(a.X)("minAggregationComp")],t.prototype,"minAggregationComp",void 0),am([Object(a.X)("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),am([Object(a.X)("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),am([a.S],t.prototype,"postConstruct",null),t}(a.v),lm={moduleName:a.L.StatusBarModule,beans:[Vg],agStackComponents:[{componentName:"AgStatusBar",componentClass:zg},{componentName:"AgNameValue",componentClass:Kg}],userComponents:[{componentName:"agAggregationComponent",componentClass:sm},{componentName:"agSelectedRowCountComponent",componentClass:om},{componentName:"agTotalRowCountComponent",componentClass:tm},{componentName:"agFilteredRowCountComponent",componentClass:Zg},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:Yg}],dependantModules:[U]},um=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cm=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.firstRow=-1,t.lastRow=-1,t.rowCount=-1,t.rowNodesByIndex={},t}return um(t,e),t.prototype.ensureRowHeightsValid=function(e,t,n,r){return!1},t.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,a.C.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},t.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.calculateFirstRow=function(e){var t=this.gridOptionsWrapper.getViewportRowModelBufferSize(),n=this.gridOptionsWrapper.getViewportRowModelPageSize(),r=e-t;return r<0?0:Math.floor(r/n)*n},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var t=this.gridOptionsWrapper.getViewportRowModelBufferSize(),n=this.gridOptionsWrapper.getViewportRowModelPageSize(),r=Math.ceil((e+t)/n)*n;return Math.min(r,this.rowCount-1)},t.prototype.onViewportChanged=function(e){var t=this.calculateFirstRow(e.firstRow),n=this.calculateLastRow(e.lastRow);this.firstRow===t&&this.lastRow===n||(this.firstRow=t,this.lastRow=n,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(t){var n=parseInt(t,10);(n<e.firstRow||n>e.lastRow)&&delete e.rowNodesByIndex[n]})},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=0,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return a.x.ROW_MODEL_TYPE_VIEWPORT},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var t=void 0;return this.forEachNode(function(n){n.id===e&&(t=n)}),t},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,t){var n=a.mb.missing(e)?0:e.rowIndex,r=t.rowIndex;if(n<this.firstRow||n>this.lastRow||r<this.firstRow||r>this.lastRow)return[];for(var o=[],i=n<=r?r:n,s=n<=r?n:r;s<=i;s++)o.push(this.rowNodesByIndex[s]);return o},t.prototype.forEachNode=function(e){var t=this,n=0;Object.keys(this.rowNodesByIndex).forEach(function(r){var o=parseInt(r,10);e(t.rowNodesByIndex[o],n),n++})},t.prototype.setRowData=function(e){var t=this;a.mb.iterateObject(e,function(e,n){var r=parseInt(e,10);if(r>=t.firstRow&&r<=t.lastRow){var o=t.rowNodesByIndex[r];a.mb.missing(o)&&(o=t.createBlankRowNode(r),t.rowNodesByIndex[r]=o),o.setDataAndId(n,r.toString())}})},t.prototype.createBlankRowNode=function(e){var t=new a.Z;return this.createBean(t),t.setRowHeight(this.rowHeight),t.setRowTop(this.rowHeight*e),t.setRowIndex(e),t},t.prototype.setRowCount=function(e,t){void 0===t&&(t=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEvent({type:a.C.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:t,animate:!1}))},t.prototype.isRowPresent=function(e){return!1},cm([Object(a.k)("gridApi")],t.prototype,"gridApi",void 0),cm([Object(a.k)("columnApi")],t.prototype,"columnApi",void 0),cm([Object(a.k)("rowRenderer")],t.prototype,"rowRenderer",void 0),cm([a.S],t.prototype,"init",null),cm([a.U],t.prototype,"destroyDatasource",null),cm([Object(a.m)("rowModel")],t)}(a.n);I.concat([q,Lt,nr,br,Jh,nf,Pf,Rf,Yh,Gf,lt,xg,jg,It,lm,{moduleName:a.L.ViewportRowModelModule,rowModels:{viewport:pm},dependantModules:[U]}]),a.M.registerModules([s.a,Lt,br,Pf,Rf,jg]);class dm{}var hm=n("pMnS"),fm=n("g7AK"),gm=n("fF59"),mm=n("BJWQ"),ym=n("PybA"),vm=n("TfA5"),bm=(n("ciZX"),n("9XGM")),Cm=n("Z725"),wm=n("FQWp"),Om=n("SVse");class xm{constructor(e,t,n,r,o){this.sapService=e,this._router=t,this.toaster=n,this.modalService=r,this.confirmationService=o,this.metricsList=[],this.size="sm",this.formLists=null,this.getRowStyle=e=>{if(e.node.rowIndex%2!=0)return{background:"#F8F8F8"}},this.columnDefs=[{headerName:"SAP Configuration Name",wrapText:!0,autoHeight:!0,field:"name",minWidth:400},{headerName:"Approval Status",field:"isApproved",minWidth:200,valueGetter:e=>e.data.isApproved?"Approved":"Pending"},{headerName:"Configuration Status",wrapText:!0,minWidth:200,valueGetter:e=>e.data.isApproved?e.data.isActive?"Activated":"Deactivated":""},{headerName:"Last Read",headerTooltip:"Last Read",field:"lastSyncTimestamp",minWidth:205,comparator:(e,t,n,r,o)=>n||r?n.data.lastSyncTimestamp===r.data.lastSyncTimestamp?0:!n.data.lastSyncTimestamp&&r.data.lastSyncTimestamp?-1:n.data.lastSyncTimestamp&&!r.data.lastSyncTimestamp?1:n.data.lastSyncTimestamp>r.data.lastSyncTimestamp?1:-1:0,valueGetter:e=>e.data.lastSyncTimestamp?Object(Om.formatDate)(e.data.lastSyncTimestamp,"medium","en-US"):""},{headerName:"Edit",sortable:!1,filter:!1,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.onBtnEditClick.bind(this),label:"",imgUrl:"assets/img/edit.svg"},maxWidth:160},{headerName:"Enable/Disable",sortable:!1,filter:!1,cellRendererSelector:function(e){if(e.data.isApproved)return{component:"buttonRenderer",params:{value:"",imgUrl:e.data.isActive?"assets/img/checkmark.svg":"assets/img/error.svg"}}},cellRendererParams:{onClick:this.onBtnEnableDisableClick.bind(this)}},{headerName:"Form Data",sortable:!1,filter:!1,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.onBtnViewFormClick.bind(this),label:"",imgUrl:"assets/img/grip.svg"},maxWidth:160}],this.defaultColDef={resizable:!0,sortable:!0,filter:!0,flex:1,minWidth:120},this.sideBar={toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivotMode:!0,suppressPivots:!0}},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel",minWidth:180,maxWidth:400,width:250}],position:"right",defaultToolPanel:"filters"},this.frameworkComponents={buttonRenderer:wm.a}}onBtnViewFormClick(e){localStorage.setItem("formId",JSON.stringify(e.rowData.sapForm)),this._router.navigateByUrl("/forms/linked-data-listing")}onBtnEnableDisableClick(e){this.disablegroup(e.rowData)}onBtnEditClick(e){this._router.navigate(["sap/edit/"+e.rowData._id])}onGridReady(e){this.gridApi=e.api,this.gridApi.ParentComponent=this,this.gridColumnApi=e.columnApi,this.gridApi.closeToolPanel(),this.getForms("",0),window.addEventListener("resize",function(){setTimeout(function(){e.api.sizeColumnsToFit()})}),setTimeout(function(){e.api.sizeColumnsToFit()},2e3)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}ngOnInit(){}getForms(e,t,n,r){this.sapService.getFormData(e,1e3,0,n,r).subscribe(e=>{this.formLists=e.response.records},e=>{this.formLists=[]})}disablegroup(e){let t=e._id;e.isActive?(this.sub=this.confirmationService.getData().subscribe(n=>{n?(this.sapService.disableEnableSAPConfiguration(t).subscribe(t=>{this.toaster.success(e.isActive?"Deactivated Successfully":"Activated Successfully"),e.isActive=!e.isActive,this.getForms("",0)}),this.confirmationService.setData(!1)):this.sub&&this.sub.unsubscribe()}),this.modalService.create({component:bm.a,inputs:{modalText:"De-activating this SAP configuration will also stop data synchronization for this SAP form.\n\n                       4E will not import SAP data for this configuration this point onwards.\n\n                       Are you sure you want to de-activate?"}})):this.sapService.disableEnableSAPConfiguration(t).subscribe(t=>{this.toaster.success(e.isActive?"Deactivated Successfully":"Activated Successfully"),e.isActive=!e.isActive,this.getForms("",0)})}onSelectedAddAction(){this._router.navigate(["sap/add"])}}var Sm=n("iInd"),Pm=n("EApP"),_m=n("PJ54"),Em=i["\u0275crt"]({encapsulation:0,styles:[[".config-listing-container[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px;padding-top:2rem;background-color:#fff;height:98%;width:100%;display:flex;flex-direction:column}.config-listing-container[_ngcontent-%COMP%]   .bx--btn--danger[_ngcontent-%COMP%]{padding-right:unset}.config-listing-container[_ngcontent-%COMP%]   .bx--btn--danger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:5px}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{margin-right:10px}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{height:48px;flex:auto;margin-right:10px}.config-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]{background-color:#f3f3f3!important;font-size:17px;font-weight:600;min-height:unset}.config-listing-container[_ngcontent-%COMP%]   .c-ag-grid[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;width:100%;height:100%}"]],data:{}});function Tm(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,16,"div",[["class","config-listing-container"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,10,"div",[["class","info-controls"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,2,"div",[["class","label"]],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,1,"ibm-tile",[["class","bx--tile"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["SAP Configuration"])),(e()(),i["\u0275eld"](5,0,null,null,6,"div",[["class","controls"]],null,null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,5,"button",[["ibmButton","danger"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onSelectedAddAction()&&r),r},null,null)),i["\u0275did"](7,16384,null,0,fm.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),i["\u0275eld"](8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Add Configuration"])),(e()(),i["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),i["\u0275did"](11,4210688,null,0,gm.a,[i.ElementRef],null,null),(e()(),i["\u0275eld"](12,16777216,null,null,4,"ag-grid-angular",[["class","ag-theme-alpine c-ag-grid"]],null,[[null,"gridReady"]],function(e,t,n){var r=!0;return"gridReady"===t&&(r=!1!==e.component.onGridReady(n)&&r),r},mm.b,mm.a)),i["\u0275prd"](512,null,ym.e,ym.e,[i.NgZone]),i["\u0275prd"](512,null,ym.d,ym.d,[]),i["\u0275did"](15,4898816,[["agGrid",4]],1,ym.a,[i.ElementRef,i.ViewContainerRef,ym.e,ym.d,i.ComponentFactoryResolver],{rowData:[0,"rowData"],columnDefs:[1,"columnDefs"],frameworkComponents:[2,"frameworkComponents"],defaultColDef:[3,"defaultColDef"],sideBar:[4,"sideBar"],getRowStyle:[5,"getRowStyle"],pagination:[6,"pagination"],paginationAutoPageSize:[7,"paginationAutoPageSize"]},{gridReady:"gridReady"}),i["\u0275qud"](603979776,1,{columns:1})],function(e,t){var n=t.component;e(t,7,0,"danger"),e(t,15,0,n.formLists,n.columnDefs,n.frameworkComponents,n.defaultColDef,n.sideBar,n.getRowStyle,!0,!0)},function(e,t){e(t,6,1,[i["\u0275nov"](t,7).baseClass,i["\u0275nov"](t,7).primaryButton,i["\u0275nov"](t,7).secondaryButton,i["\u0275nov"](t,7).tertiaryButton,i["\u0275nov"](t,7).ghostButton,i["\u0275nov"](t,7).dangerButton,i["\u0275nov"](t,7).dangerPrimaryButton,i["\u0275nov"](t,7).skeleton,i["\u0275nov"](t,7).smallSize,i["\u0275nov"](t,7).toolbarAction,i["\u0275nov"](t,7).overflowMenu])})}function Am(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"app-sap-forms-list",[],null,null,null,Tm,Em)),i["\u0275did"](1,245760,null,0,xm,[vm.a,Sm.o,Pm.j,_m.a,Cm.a],null,null)],function(e,t){e(t,1,0)},null)}var Mm=i["\u0275ccf"]("app-sap-forms-list",xm,Am,{},{},[]),Dm=n("XdKZ"),km=n("MqE1"),Rm=n("tX4/"),Im=n("bl9C"),Nm=n("BOF4");class Fm{constructor(e,t,n,r,o){this._router=e,this.formsService=t,this.modalService=n,this.confirmationService=r,this._toastrService=o,this.rowData=null,this.defaultColDef={resizable:!0,sortable:!0,filter:!0,flex:1,minWidth:120},this.sideBar={toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivotMode:!0,suppressPivots:!0}},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel",minWidth:180,maxWidth:400,width:250}],position:"right",defaultToolPanel:"filters"},this.getRowStyle=e=>{if(e.node.rowIndex%2!=0)return{background:"#F8F8F8"}},this.columnDefs=[{headerName:"Name",headerTooltip:"Form Name",wrapText:!0,autoHeight:!0,field:"formName",minWidth:400},{headerName:"Metrics",headerTooltip:"Metrics",wrapText:!0,field:"metrics",minWidth:300,sortable:!1},{headerName:"Data Count",headerTooltip:"Data Entries Count",type:"numericColumn",field:"submissionCount",minWidth:140},{headerName:"Managed By",headerTooltip:"Managed By",field:"managedBy",sortable:!1},{headerName:"Last Read",headerTooltip:"Last Read",field:"lastSyncTimestamp",minWidth:205,comparator:(e,t,n,r,o)=>n||r?n.data.lastSyncTimestamp===r.data.lastSyncTimestamp?0:!n.data.lastSyncTimestamp&&r.data.lastSyncTimestamp?-1:n.data.lastSyncTimestamp&&!r.data.lastSyncTimestamp?1:n.data.lastSyncTimestamp>r.data.lastSyncTimestamp?1:-1:0,valueGetter:e=>e.data.lastSyncTimestamp?Object(Om.formatDate)(e.data.lastSyncTimestamp,"medium","en-US"):""},{headerName:"Approval",headerTooltip:"Approval Status",field:"approvalStatus",minWidth:130,valueGetter:e=>e.data.isApproved?"Approved":"Pending"},{headerName:"Form Status",headerTooltip:"Form Status",field:"formStatus",minWidth:140,valueGetter:e=>e.data.isApproved?"Active":"Inactive"},{headerName:"Actions",headerTooltip:"More Options",maxWidth:100,resizable:!1,sortable:!1,filter:!1,cellRenderer:e=>' <img alt="More Option" src="assets/img/settings.svg" style="width:20px"/>',onCellClicked:e=>{e.api.rowRenderer.getRenderedNodes()[e.rowIndex].rowRenderer.beans.contextMenuFactory.showMenu(e.node,e.column,e.value,e.event)}}]}getContextMenuItems(e){var t=[{name:"View Data",tooltip:"View SAP form data",action:function(){e.api.ParentComponent.onDataListing(e.node.data)},icon:'<img src="assets/img/grip.svg" style="width:20px"/>'},{name:"Form Filters",tooltip:"View SAP filters & filter data",action:function(){e.api.ParentComponent.onOpenFormFilter(e.node.data)},icon:'<img src="assets/img/filter.svg" style="width:20px"/>'}];return e.api.ParentComponent.isAdmin&&t.push({name:"Mark Master Data",action:function(){e.api.ParentComponent._router.navigateByUrl("/master-data/"+e.node.data.formId)},tooltip:"Mark master data in form",icon:'<img src="assets/img/connect.svg" style="width:20px"/>'}),t.push({name:"Form Preview",action:function(){e.api.ParentComponent.modalService.create({component:Rm.a,inputs:{formData:e.node.data.formElements}})},tooltip:"Preview SAP Form",icon:'<img src="assets/img/eye.svg" style="width:20px" />'}),t.push({name:"Edit SAP Config",tooltip:"Edit SAP Configuration",action:function(){e.api.ParentComponent.onSAPConfigEdit(e.node.data.sapConfigId)},icon:'<img src="assets/img/settings--adjust.svg" style="width:20px"/>'}),t}onGridReady(e){this.gridApi=e.api,this.gridApi.ParentComponent=this,this.gridColumnApi=e.columnApi,this.gridApi.closeToolPanel(),this.getForms(0),window.addEventListener("resize",function(){setTimeout(function(){e.api.sizeColumnsToFit()})}),setTimeout(function(){e.api.sizeColumnsToFit()},2e3)}autoSizeAll(e){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t,e)}ngOnInit(){const e=localStorage.getItem(Im.a.cookieName);let t=Nm(e);this.isAdmin=t.isAdmin,this.logInEmployeeId=localStorage.getItem("E_Id")}populateAgGrid(e){let t=[];e.forEach(e=>{(e.userPermissions.read||e.userPermissions.edit||e.userPermissions.fill)&&("-"==e.lastSyncTimestamp&&(e.lastSyncTimestamp=void 0),e.managedBy=this.getManagedBy(e.managedByUsers,e.managedByDepartments,e.managedByGroups),t.push(e))}),this.rowData=t}getForms(e){this.formsService.getSAPForms(null,(1e3*e).toString(),"1000",null,null).subscribe(e=>{e&&e.success&&this.populateAgGrid(e.response.forms)},e=>{this.rowData=[],console.error(e)})}onSAPConfigEdit(e){this._router.navigate(["sap","edit",e])}onDataListing(e){localStorage.setItem("formId",JSON.stringify(e)),this._router.navigateByUrl("/forms/linked-data-listing")}onOpenFormFilter(e){localStorage.setItem("formId",JSON.stringify(e)),this._router.navigateByUrl("/forms/linked-data-listing/sap/filters")}ngOnDestroy(){}fillForm(e){localStorage.setItem("formId",JSON.stringify(e)),this._router.navigateByUrl("/forms/fill/"+e._id)}getManagedBy(e,t,n){let r="",o=(e||[]).map(e=>(e.firstname?e.firstname:"")+" "+(e.lastname?e.lastname:"")),i=(t||[]).map(e=>e.name),a=(n||[]).map(e=>e.name);return r=o.join(","),i.length>0&&(r+=",",r+=i.join(",")),a.length>0&&(r+=",",r+=a.join(",")),r}exportForms(){this._router.navigate(["forms/export-form"])}}var Lm=i["\u0275crt"]({encapsulation:0,styles:[[".forms-listing-container[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px;padding-top:2rem;background-color:#fff;height:98%;width:100%;display:flex;flex-direction:column}.forms-listing-container[_ngcontent-%COMP%]   .bx--btn--danger[_ngcontent-%COMP%]{padding-right:unset}.forms-listing-container[_ngcontent-%COMP%]   .bx--btn--danger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:5px}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{margin-right:10px}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{height:48px;flex:auto;margin-right:10px}.forms-listing-container[_ngcontent-%COMP%]   .info-controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .bx--tile[_ngcontent-%COMP%]{background-color:#f3f3f3!important;font-size:17px;font-weight:600;min-height:unset}.forms-listing-container[_ngcontent-%COMP%]   .c-ag-grid[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;width:100%;height:100%}"]],data:{}});function jm(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,17,"div",[["class","forms-listing-container"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,11,"div",[["class","info-controls"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,2,"div",[["class","label"]],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,1,"ibm-tile",[["class","bx--tile"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["SAP Forms"])),(e()(),i["\u0275eld"](5,0,null,null,7,"div",[["class","controls"]],null,null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,6,"button",[["ibmButton","danger"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.exportForms()&&r),r},null,null)),i["\u0275did"](7,16384,null,0,fm.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),i["\u0275eld"](8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Export Forms Data "])),(e()(),i["\u0275ted"](-1,null,["\xa0\xa0 "])),(e()(),i["\u0275eld"](11,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconDocumentExport20",""]],null,null,null,null,null)),i["\u0275did"](12,4210688,null,0,Dm.a,[i.ElementRef],null,null),(e()(),i["\u0275eld"](13,16777216,null,null,4,"ag-grid-angular",[["class","ag-theme-alpine c-ag-grid"]],null,[[null,"gridReady"]],function(e,t,n){var r=!0;return"gridReady"===t&&(r=!1!==e.component.onGridReady(n)&&r),r},mm.b,mm.a)),i["\u0275prd"](512,null,ym.e,ym.e,[i.NgZone]),i["\u0275prd"](512,null,ym.d,ym.d,[]),i["\u0275did"](16,4898816,[["agGrid",4]],1,ym.a,[i.ElementRef,i.ViewContainerRef,ym.e,ym.d,i.ComponentFactoryResolver],{rowData:[0,"rowData"],columnDefs:[1,"columnDefs"],defaultColDef:[2,"defaultColDef"],sideBar:[3,"sideBar"],getRowStyle:[4,"getRowStyle"],getContextMenuItems:[5,"getContextMenuItems"],pagination:[6,"pagination"],paginationAutoPageSize:[7,"paginationAutoPageSize"]},{gridReady:"gridReady"}),i["\u0275qud"](603979776,1,{columns:1})],function(e,t){var n=t.component;e(t,7,0,"danger"),e(t,16,0,n.rowData,n.columnDefs,n.defaultColDef,n.sideBar,n.getRowStyle,n.getContextMenuItems,!0,!0)},function(e,t){e(t,6,1,[i["\u0275nov"](t,7).baseClass,i["\u0275nov"](t,7).primaryButton,i["\u0275nov"](t,7).secondaryButton,i["\u0275nov"](t,7).tertiaryButton,i["\u0275nov"](t,7).ghostButton,i["\u0275nov"](t,7).dangerButton,i["\u0275nov"](t,7).dangerPrimaryButton,i["\u0275nov"](t,7).skeleton,i["\u0275nov"](t,7).smallSize,i["\u0275nov"](t,7).toolbarAction,i["\u0275nov"](t,7).overflowMenu])})}function Gm(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"app-sap-source-forms",[],null,null,null,jm,Lm)),i["\u0275did"](1,245760,null,0,Fm,[Sm.o,km.a,_m.a,Cm.a,Pm.j],null,null)],function(e,t){e(t,1,0)},null)}var Vm=i["\u0275ccf"]("app-sap-source-forms",Fm,Gm,{},{},[]),Bm=n("noyz"),Wm=n("M+tS"),zm=n("3yNS"),Um=n("IcCv"),Hm=n("A+V5"),Km=n("1V2r"),Xm=n("gLoP"),qm=n("mEpm"),Ym=n("i3NF"),Jm=n("s7LF"),Qm=n("FNXg"),Zm=n("1ZgJ"),$m=n("baZm"),ey=n("UDqP"),ty=n("4y4f"),ny=n("XvC9"),ry=n("kqF4"),oy=n("Amkq"),iy=n("WeWU"),ay=n("oljc"),sy=n("mrSG"),ly=n("qHnB"),uy=n("HTWL"),cy=n("LvDl"),py=n.n(cy);class dy{constructor(e,t,n){this.settingsService=e,this.toaster=t,this.sapService=n,this.endpoints=[],this.captureFrequencyItems=[],this.serviceQuery={},this.parametersList=[],this.onDetailsChange=new i.EventEmitter,this.cronSchedule={},this.dynamicPickListItems=[],this.showPicklistDropdown=!1,this.limit=100,this.showMasterDataValues=!1,this.data_source_placeholder="Enter Value",this.editableParams={param:"",data_type:"",value:""},this.isEditParam=!1,this.disabled=!1,this.monthDays=[],this.days=[{content:"Sunday",value:0,selected:!1},{content:"Monday",value:0,selected:!1},{content:"Tuesday",value:0,selected:!1},{content:"Wednesday",value:0,selected:!1},{content:"Thursday",value:0,selected:!1},{content:"Friday",value:0,selected:!1},{content:"Saturday",value:0,selected:!1}],this.hours=[],this.interval=[],this.minutes=[],this.period=[{content:"AM",selected:!1},{content:"PM",selected:!1}],this.dataTypes=[{content:"Text",value:"text",selected:!1},{content:"Start Date",value:"startdate",selected:!1},{content:"End Date",value:"enddate",selected:!1}],this.dataSource=[{content:"Enter Manually",value:"manually",selected:!1},{content:"Choose from Master Data",value:"masterData",selected:!1}]}ngOnInit(){return Object(sy.__awaiter)(this,void 0,void 0,function*(){this.addHours(),this.addHourlyDCFInterval(),this.addMinutes(),this.addMonthDays(),this.getEndpoints();let e=yield this.getCaptureFreqNew();e&&e.success&&(this.captureFrequencyItems=[],e.response.forEach(e=>{"Shift Wise"!=e.value&&this.captureFrequencyItems.push({content:e.value,id:e._id,selected:!1})}),this.setCronSchedule())})}addHours(){for(let e=1;e<=12;e++)this.hours.push({content:e<=9?"0"+e:""+e,selected:!1})}addHourlyDCFInterval(){for(let e=1;e<=24;e++)this.interval.push({content:"Every "+e+" hours",value:e,selected:!1})}addMinutes(){for(let e=0;e<=59;e++)this.minutes.push({content:e<=9?"0"+e:""+e,selected:!1})}addMonthDays(){for(let e=1;e<=28;e++)this.monthDays.push({content:e,selected:!1});this.monthDays.push({content:"Last Day Of Month",selected:!1})}ngOnChanges(){this.endpoints.forEach(e=>{e._id==this.serviceQuery.service_endpoint?(e.selected=!0,this.serviceQuery.service_endpoint=e):e.selected=!1})}onClickcapture(e){this.captureId=e.item.id,this.captureType=e.item.content,this.cronSchedule={}}onEndpointSelected(e){this.getRequest()}getCaptureFreqNew(){return Object(sy.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getCapturefrequency().toPromise()})}ifDatesAlreadyPresent(e){let t;for(let n=0;n<this.parametersList.length;n++)if(this.parametersList[n].data_type===e){t=!0;break}return t}onAddCode(){let e=py.a.cloneDeep(this.editableParams);e.data_type=e.data_type.value,e.param&&e.param.trim()?e.value&&e.value.trim()?e.data_type?"startdate"!==e.data_type&&"enddate"!==e.data_type||!this.ifDatesAlreadyPresent(e.data_type)?(e.deleteExistingResponseMapItems=!0,this.parametersList.push(e),this.resetParams(),this.getRequest()):this.toaster.error(`Parameters can not have more than one ${e.data_type}`):this.toaster.error(uy.a.SAP_MISSING_SERVICE_QUERY_DATA_TYPE_WARNING):this.toaster.error(uy.a.SAP_MISSING_SERVICE_QUERY_VALUE_WARNING):this.toaster.error(uy.a.SAP_MISSING_SERVICE_QUERY_NAME_WARNING)}editCode(e){this.editableParams=py.a.cloneDeep(this.parametersList[e]),this.editableParams.data_type=this.dataTypes.find(e=>e.value===this.editableParams.data_type),this.editableParams.data_type.selected=!0,this.editIndex=e,this.isEditParam=!0}updateCode(e){let t=py.a.cloneDeep(this.editableParams);t.data_type=t.data_type.value,this.parametersList[e]=t,this.isEditParam=!1,this.resetParams(),this.getRequest()}removeCode(e){this.parametersList.splice(e,1),this.getRequest()}resetParams(){this.editableParams={param:"",value:""},this.data_source_placeholder="Enter Value",this.showMasterDataValues=!1,this.showPicklistDropdown=!1}getEndpoints(){this.settingsService.getAllIntegrations().subscribe(e=>{e&&e.success&&(this.endpoints=e.response.map(({name:e,_id:t,url:n})=>({content:e,id:t,url:n,selected:t==this.serviceQuery.service_endpoint})))},e=>{})}getRequest(){this.onDetailsChange.emit({queryDetails:this.serviceQuery,service_query_params:this.parametersList,dataCaptureFrequency:this.captureId,cronSchedule:this.cronSchedule})}setCronSchedule(){this.captureFrequencyItems.forEach(e=>{e.id==this.serviceQuery.dataCaptureFrequency&&(e.selected=!0,this.captureType=e.content,this.serviceQuery.dataCaptureFrequency=e)}),this.captureFrequencyItems=[...this.captureFrequencyItems],this.hours.forEach(e=>{e.content==this.cronSchedule.hour&&(e.selected=!0,this.cronSchedule.hour=e)}),this.hours=[...this.hours],this.minutes.forEach(e=>{e.content==this.cronSchedule.minutes&&(e.selected=!0,this.cronSchedule.minutes=e)}),this.minutes=[...this.minutes],this.period.forEach(e=>{e.content==this.cronSchedule.period&&(e.selected=!0,this.cronSchedule.period=e)}),this.period=[...this.period],this.monthDays.forEach(e=>{e.content==this.cronSchedule.dayNumber&&(e.selected=!0,this.cronSchedule.dayNumber=e)}),this.monthDays=[...this.monthDays]}onClickDay(e){this.cronSchedule.dayNumber=e.item,this.getRequest()}onClickHour(e){this.cronSchedule.hour=e.item,this.getRequest()}onClickMinute(e){this.cronSchedule.minutes=e.item,this.getRequest()}onClickPeriod(e){this.cronSchedule.period=e.item,this.getRequest()}emitName(){this.sapService.sendMessage(this.serviceQuery.name)}onDataTypeSelected(e){console.log(e.item),this.editableParams.value="startdate"===e.item.value||"enddate"===e.item.value?"Date will be auto calculated during data fetch operations":""}onDataSourceSelected(e){this.showPicklistDropdown=!1,this.showMasterDataValues=!1,this.data_source=e.item.value,this.data_source_placeholder=e.item.content,this.dynamicPickListItems.forEach(e=>{e.selected=!1}),"masterData"===e.item.value&&this.getDynamicPicklistValues()}getDynamicPicklistValues(e){this.dynamicPickListItems=[],this.showMasterDataValues=!1;let t=null;e&&(t=e),this.settingsService.getPicklistMasterData(t,this.limit).subscribe(e=>{e.success&&e.response&&(this.dynamicPickListItems=e.response.masterDataMappingList.map(e=>(e.content=e.name,e.value=e._id,e)),this.showPicklistDropdown=!0)})}onMasterDataColumnSelected(e){this.selectedMasterDataCol=e.item._id,this.onSearchItem("",this.selectedMasterDataCol)}onMasterDataValueSelected(e){this.editableParams.value=e.item.content.toString()}onSearchItem(e,t){this.comboBoxItems=[],this.settingsService.getMasterDataForColumnID(e,t).subscribe(e=>{e&&e.success&&(this.comboBoxItems=e.response.map(e=>({content:e})),this.showMasterDataValues=!0)},e=>{this.comboBoxItems=[]})}}var hy=i["\u0275crt"]({encapsulation:0,styles:[['.service-query-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:32px}.margin-right30[_ngcontent-%COMP%]{margin-right:30px}  .bx--dropdown{background-color:#f3f3f3!important}  .bx--col-lg-5{padding:0 24px 0 0!important}.title-text[_ngcontent-%COMP%]{color:#161616;font-family:"IBM Plex Sans";font-size:20px;letter-spacing:0;line-height:26px;font-weight:400;margin-bottom:20px}.margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.add-another[_ngcontent-%COMP%]{height:40px!important;width:40px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #fff;background-color:#fff}.update-another[_ngcontent-%COMP%]{height:40px!important;width:110px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #fff;background-color:#fff}.padding0[_ngcontent-%COMP%]{padding:0}.icon-white[_ngcontent-%COMP%]{fill:#e02020}']],data:{}});function fy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](1,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Interval"],["placeholder","Interval"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var r=!0,o=e.component;return"keydown"===t&&(r=!1!==i["\u0275nov"](e,4).onKeyDown(n)&&r),"ngModelChange"===t&&(r=!1!==(o.cronSchedule.interval=n)&&r),"selected"===t&&(r=!1!==o.onClickHour(n)&&r),r},Km.b,Km.a)),i["\u0275did"](4,1294336,null,1,Xm.a,[i.ElementRef,qm.a,Ym.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),i["\u0275qud"](335544320,3,{view:0}),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Xm.a]),i["\u0275did"](7,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](9,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,Qm.b,Qm.a)),i["\u0275did"](11,4374528,null,0,Zm.a,[i.ElementRef,qm.a],{items:[0,"items"]},null),i["\u0275prd"](2048,[[3,4]],$m.a,null,[Zm.a])],function(e,t){var n=t.component,r=e(t,2,0,2,2,2);e(t,1,0,"margin-right30",r),e(t,4,0,"Interval","Interval","single","true"),e(t,7,0,n.cronSchedule.interval),e(t,11,0,n.interval)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).columnClasses),e(t,3,0,i["\u0275nov"](t,4).hostClass,i["\u0275nov"](t,9).ngClassUntouched,i["\u0275nov"](t,9).ngClassTouched,i["\u0275nov"](t,9).ngClassPristine,i["\u0275nov"](t,9).ngClassDirty,i["\u0275nov"](t,9).ngClassValid,i["\u0275nov"](t,9).ngClassInvalid,i["\u0275nov"](t,9).ngClassPending)})}function gy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](1,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Day"],["placeholder","Day"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var r=!0,o=e.component;return"keydown"===t&&(r=!1!==i["\u0275nov"](e,4).onKeyDown(n)&&r),"ngModelChange"===t&&(r=!1!==(o.cronSchedule.dayNumber=n)&&r),"selected"===t&&(r=!1!==o.onClickDay(n)&&r),r},Km.b,Km.a)),i["\u0275did"](4,1294336,null,1,Xm.a,[i.ElementRef,qm.a,Ym.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),i["\u0275qud"](335544320,4,{view:0}),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Xm.a]),i["\u0275did"](7,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](9,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,Qm.b,Qm.a)),i["\u0275did"](11,4374528,null,0,Zm.a,[i.ElementRef,qm.a],{items:[0,"items"]},null),i["\u0275prd"](2048,[[4,4]],$m.a,null,[Zm.a])],function(e,t){var n=t.component,r=e(t,2,0,2,2,2);e(t,1,0,"margin-right30",r),e(t,4,0,"Day","Day","single","true"),e(t,7,0,n.cronSchedule.dayNumber),e(t,11,0,n.monthDays)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).columnClasses),e(t,3,0,i["\u0275nov"](t,4).hostClass,i["\u0275nov"](t,9).ngClassUntouched,i["\u0275nov"](t,9).ngClassTouched,i["\u0275nov"](t,9).ngClassPristine,i["\u0275nov"](t,9).ngClassDirty,i["\u0275nov"](t,9).ngClassValid,i["\u0275nov"](t,9).ngClassInvalid,i["\u0275nov"](t,9).ngClassPending)})}function my(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](1,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Day"],["placeholder","Day"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var r=!0,o=e.component;return"keydown"===t&&(r=!1!==i["\u0275nov"](e,4).onKeyDown(n)&&r),"ngModelChange"===t&&(r=!1!==(o.cronSchedule.dayNumber=n)&&r),"selected"===t&&(r=!1!==o.onClickDay(n)&&r),r},Km.b,Km.a)),i["\u0275did"](4,1294336,null,1,Xm.a,[i.ElementRef,qm.a,Ym.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),i["\u0275qud"](335544320,5,{view:0}),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Xm.a]),i["\u0275did"](7,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](9,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,Qm.b,Qm.a)),i["\u0275did"](11,4374528,null,0,Zm.a,[i.ElementRef,qm.a],{items:[0,"items"]},null),i["\u0275prd"](2048,[[5,4]],$m.a,null,[Zm.a])],function(e,t){var n=t.component,r=e(t,2,0,2,2,2);e(t,1,0,"margin-right30",r),e(t,4,0,"Day","Day","single","true"),e(t,7,0,n.cronSchedule.dayNumber),e(t,11,0,n.days)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).columnClasses),e(t,3,0,i["\u0275nov"](t,4).hostClass,i["\u0275nov"](t,9).ngClassUntouched,i["\u0275nov"](t,9).ngClassTouched,i["\u0275nov"](t,9).ngClassPristine,i["\u0275nov"](t,9).ngClassDirty,i["\u0275nov"](t,9).ngClassValid,i["\u0275nov"](t,9).ngClassInvalid,i["\u0275nov"](t,9).ngClassPending)})}function yy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](1,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Hour"],["placeholder","Hour"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var r=!0,o=e.component;return"keydown"===t&&(r=!1!==i["\u0275nov"](e,4).onKeyDown(n)&&r),"ngModelChange"===t&&(r=!1!==(o.cronSchedule.hour=n)&&r),"selected"===t&&(r=!1!==o.onClickHour(n)&&r),r},Km.b,Km.a)),i["\u0275did"](4,1294336,null,1,Xm.a,[i.ElementRef,qm.a,Ym.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),i["\u0275qud"](335544320,6,{view:0}),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Xm.a]),i["\u0275did"](7,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](9,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,Qm.b,Qm.a)),i["\u0275did"](11,4374528,null,0,Zm.a,[i.ElementRef,qm.a],{items:[0,"items"]},null),i["\u0275prd"](2048,[[6,4]],$m.a,null,[Zm.a])],function(e,t){var n=t.component,r=e(t,2,0,2,2,2);e(t,1,0,"margin-right30",r),e(t,4,0,"Hour","Hour","single","true"),e(t,7,0,n.cronSchedule.hour),e(t,11,0,n.hours)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).columnClasses),e(t,3,0,i["\u0275nov"](t,4).hostClass,i["\u0275nov"](t,9).ngClassUntouched,i["\u0275nov"](t,9).ngClassTouched,i["\u0275nov"](t,9).ngClassPristine,i["\u0275nov"](t,9).ngClassDirty,i["\u0275nov"](t,9).ngClassValid,i["\u0275nov"](t,9).ngClassInvalid,i["\u0275nov"](t,9).ngClassPending)})}function vy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](1,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Minute"],["placeholder","Minute"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var r=!0,o=e.component;return"keydown"===t&&(r=!1!==i["\u0275nov"](e,4).onKeyDown(n)&&r),"ngModelChange"===t&&(r=!1!==(o.cronSchedule.minutes=n)&&r),"selected"===t&&(r=!1!==o.onClickMinute(n)&&r),r},Km.b,Km.a)),i["\u0275did"](4,1294336,null,1,Xm.a,[i.ElementRef,qm.a,Ym.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),i["\u0275qud"](335544320,7,{view:0}),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Xm.a]),i["\u0275did"](7,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](9,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,Qm.b,Qm.a)),i["\u0275did"](11,4374528,null,0,Zm.a,[i.ElementRef,qm.a],{items:[0,"items"]},null),i["\u0275prd"](2048,[[7,4]],$m.a,null,[Zm.a])],function(e,t){var n=t.component,r=e(t,2,0,2,2,2);e(t,1,0,"margin-right30",r),e(t,4,0,"Minute","Minute","single","true"),e(t,7,0,n.cronSchedule.minutes),e(t,11,0,n.minutes)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).columnClasses),e(t,3,0,i["\u0275nov"](t,4).hostClass,i["\u0275nov"](t,9).ngClassUntouched,i["\u0275nov"](t,9).ngClassTouched,i["\u0275nov"](t,9).ngClassPristine,i["\u0275nov"](t,9).ngClassDirty,i["\u0275nov"](t,9).ngClassValid,i["\u0275nov"](t,9).ngClassInvalid,i["\u0275nov"](t,9).ngClassPending)})}function by(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](1,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](3,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Period"],["placeholder","Period"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var r=!0,o=e.component;return"keydown"===t&&(r=!1!==i["\u0275nov"](e,4).onKeyDown(n)&&r),"ngModelChange"===t&&(r=!1!==(o.cronSchedule.period=n)&&r),"selected"===t&&(r=!1!==o.onClickPeriod(n)&&r),r},Km.b,Km.a)),i["\u0275did"](4,1294336,null,1,Xm.a,[i.ElementRef,qm.a,Ym.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),i["\u0275qud"](335544320,8,{view:0}),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Xm.a]),i["\u0275did"](7,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](9,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](10,0,null,0,2,"ibm-dropdown-list",[],null,null,null,Qm.b,Qm.a)),i["\u0275did"](11,4374528,null,0,Zm.a,[i.ElementRef,qm.a],{items:[0,"items"]},null),i["\u0275prd"](2048,[[8,4]],$m.a,null,[Zm.a])],function(e,t){var n=t.component,r=e(t,2,0,2,2,2);e(t,1,0,"margin-right30",r),e(t,4,0,"Period","Period","single","true"),e(t,7,0,n.cronSchedule.period),e(t,11,0,n.period)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).columnClasses),e(t,3,0,i["\u0275nov"](t,4).hostClass,i["\u0275nov"](t,9).ngClassUntouched,i["\u0275nov"](t,9).ngClassTouched,i["\u0275nov"](t,9).ngClassPristine,i["\u0275nov"](t,9).ngClassDirty,i["\u0275nov"](t,9).ngClassValid,i["\u0275nov"](t,9).ngClassInvalid,i["\u0275nov"](t,9).ngClassPending)})}function Cy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,13,"tr",[["class","tr-margin-1"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i["\u0275ted"](2,null,["",""])),(e()(),i["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i["\u0275ted"](4,null,["",""])),(e()(),i["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i["\u0275ted"](6,null,["",""])),(e()(),i["\u0275eld"](7,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),i["\u0275eld"](8,0,null,null,3,":svg:svg",[["class","margin-right-8"],["ibmIconEdit20",""],["title","Edit"]],null,[[null,"click"]],function(e,t,n){var r=!0,o=e.component;return"click"===t&&(n.stopPropagation(),r=!1!==o.editCode(e.context.index)&&r),r},null,null)),i["\u0275did"](9,4210688,null,0,ey.a,[i.ElementRef],{title:[0,"title"]},null),(e()(),i["\u0275eld"](10,0,null,null,1,":svg:title",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Edit"])),(e()(),i["\u0275eld"](12,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconTrashCan20",""]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.removeCode(e.context.index)&&r),r},null,null)),i["\u0275did"](13,4210688,null,0,ty.a,[i.ElementRef],null,null)],function(e,t){e(t,9,0,"Edit")},function(e,t){e(t,2,0,t.context.$implicit.param),e(t,4,0,t.context.$implicit.data_type),e(t,6,0,t.context.$implicit.value)})}function wy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,22,"div",[["class","bx--data-table-container common-table-container"],["data-table",""]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,21,"table",[["class","bx--data-table bx--data-table--sort "]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,17,"thead",[],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,16,"tr",[],null,null,null,null,null)),(e()(),i["\u0275eld"](4,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(e()(),i["\u0275eld"](5,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Parameter"]],null,null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Parameter"])),(e()(),i["\u0275eld"](8,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(e()(),i["\u0275eld"](9,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Data Type"]],null,null,null,null,null)),(e()(),i["\u0275eld"](10,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Data Type"])),(e()(),i["\u0275eld"](12,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(e()(),i["\u0275eld"](13,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Value"]],null,null,null,null,null)),(e()(),i["\u0275eld"](14,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Value"])),(e()(),i["\u0275eld"](16,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(e()(),i["\u0275eld"](17,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Actions"]],null,null,null,null,null)),(e()(),i["\u0275eld"](18,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Actions"])),(e()(),i["\u0275eld"](20,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Cy)),i["\u0275did"](22,278528,null,0,Om.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,22,0,t.component.parametersList)},null)}function Oy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","margin-right30 grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](1,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](3,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](4,0,null,null,1,"label",[["class","bx--label"],["style","margin-bottom: 8px;"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Master Data Column"])),(e()(),i["\u0275eld"](6,0,null,null,1,"app-e4-combo-box",[["class","f"],["placeholder","Select Pick List"],["style","width: 100%;"],["type","single"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,t,n){var r=!0,o=e.component;return"onSearch"===t&&(r=!1!==o.getDynamicPicklistValues(n)&&r),"onSelect"===t&&(r=!1!==o.onMasterDataColumnSelected({item:n})&&r),r},ny.b,ny.a)),i["\u0275did"](7,4964352,null,0,ry.a,[i.ElementRef],{items:[0,"items"],placeholder:[1,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"})],function(e,t){var n=t.component,r=e(t,2,0,4,4,6);e(t,1,0,"margin-right30 grayed-box user-search-combo-box",r),e(t,7,0,n.dynamicPickListItems,"Select Pick List")},function(e,t){e(t,0,0,i["\u0275nov"](t,1).columnClasses)})}function xy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](1,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](3,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](4,0,null,null,1,"label",[["class","bx--label"],["style","margin-bottom: 8px;"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Value"])),(e()(),i["\u0275eld"](6,0,null,null,1,"app-e4-combo-box",[["class","f"],["placeholder","Specify"],["type","single"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,t,n){var r=!0,o=e.component;return"onSearch"===t&&(r=!1!==o.onSearchItem(n,o.selectedMasterDataCol)&&r),"onSelect"===t&&(r=!1!==o.onMasterDataValueSelected({item:n})&&r),r},ny.b,ny.a)),i["\u0275did"](7,4964352,null,0,ry.a,[i.ElementRef],{items:[0,"items"],placeholder:[1,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"})],function(e,t){var n=t.component,r=e(t,2,0,3,3,6);e(t,1,0,"grayed-box user-search-combo-box",r),e(t,7,0,n.comboBoxItems,"Specify")},function(e,t){e(t,0,0,i["\u0275nov"](t,1).columnClasses)})}function Sy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,13,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](1,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](3,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,oy.b,oy.a)),i["\u0275did"](4,1097728,null,0,iy.a,[],null,null),(e()(),i["\u0275eld"](5,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Value"])),(e()(),i["\u0275eld"](7,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter Value"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,o=e.component;return"input"===t&&(r=!1!==i["\u0275nov"](e,9)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==i["\u0275nov"](e,9).onTouched()&&r),"compositionstart"===t&&(r=!1!==i["\u0275nov"](e,9)._compositionStart()&&r),"compositionend"===t&&(r=!1!==i["\u0275nov"](e,9)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(o.editableParams.value=n)&&r),r},null,null)),i["\u0275did"](8,16384,null,0,ay.a,[],null,null),i["\u0275did"](9,16384,null,0,Jm.c,[i.Renderer2,i.ElementRef,[2,Jm.a]],null,null),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Jm.c]),i["\u0275did"](11,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](13,16384,null,0,Jm.r,[[4,Jm.q]],null,null)],function(e,t){var n=t.component,r=e(t,2,0,4,4,6);e(t,1,0,"grayed-box user-search-combo-box",r),e(t,11,0,"startdate"===(null==n.editableParams?null:null==n.editableParams.data_type?null:n.editableParams.data_type.value)||"enddate"===(null==n.editableParams?null:null==n.editableParams.data_type?null:n.editableParams.data_type.value),n.editableParams.value)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).columnClasses),e(t,3,0,i["\u0275nov"](t,4).labelClass),e(t,7,1,[i["\u0275nov"](t,8).inputClass,i["\u0275nov"](t,8).invalid,i["\u0275nov"](t,8).skeleton,i["\u0275nov"](t,8).isLightTheme,i["\u0275nov"](t,13).ngClassUntouched,i["\u0275nov"](t,13).ngClassTouched,i["\u0275nov"](t,13).ngClassPristine,i["\u0275nov"](t,13).ngClassDirty,i["\u0275nov"](t,13).ngClassValid,i["\u0275nov"](t,13).ngClassInvalid,i["\u0275nov"](t,13).ngClassPending])})}function Py(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),i["\u0275did"](1,4210688,null,0,gm.a,[i.ElementRef],null,null)],null,null)}function _y(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onAddCode()&&r),r},null,null))],null,null)}function Ey(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger update-another cursor-pointer pseudo-buttons"],["type","button"],["value","Update"]],null,[[null,"click"]],function(e,t,n){var r=!0,o=e.component;return"click"===t&&(r=!1!==o.updateCode(o.editIndex)&&r),r},null,null))],null,null)}function Ty(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,152,"div",[["class","service-query-container"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,33,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](2,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](3,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](4,0,null,null,1,"h5",[["class","title-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Service Query Details"])),(e()(),i["\u0275eld"](6,0,null,null,28,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](7,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](8,0,null,null,13,"div",[["class","margin-right30"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](9,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](10,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](11,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,oy.b,oy.a)),i["\u0275did"](12,1097728,null,0,iy.a,[],null,null),(e()(),i["\u0275eld"](13,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Name of Service *"])),(e()(),i["\u0275eld"](15,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter Name"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,o=e.component;return"input"===t&&(r=!1!==i["\u0275nov"](e,17)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==i["\u0275nov"](e,17).onTouched()&&r),"compositionstart"===t&&(r=!1!==i["\u0275nov"](e,17)._compositionStart()&&r),"compositionend"===t&&(r=!1!==i["\u0275nov"](e,17)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(o.serviceQuery.name=n)&&r),"input"===t&&(r=!1!==o.emitName()&&r),r},null,null)),i["\u0275did"](16,16384,null,0,ay.a,[],null,null),i["\u0275did"](17,16384,null,0,Jm.c,[i.Renderer2,i.ElementRef,[2,Jm.a]],null,null),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Jm.c]),i["\u0275did"](19,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](21,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](22,0,null,null,12,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](23,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](24,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](25,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Service Endpoint *"],["placeholder","Select Endpoint"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var r=!0,o=e.component;return"keydown"===t&&(r=!1!==i["\u0275nov"](e,26).onKeyDown(n)&&r),"ngModelChange"===t&&(r=!1!==(o.serviceQuery.service_endpoint=n)&&r),"selected"===t&&(r=!1!==o.onEndpointSelected(n)&&r),r},Km.b,Km.a)),i["\u0275did"](26,1294336,null,1,Xm.a,[i.ElementRef,qm.a,Ym.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),i["\u0275qud"](335544320,1,{view:0}),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Xm.a]),i["\u0275did"](29,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](31,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](32,0,null,0,2,"ibm-dropdown-list",[],null,null,null,Qm.b,Qm.a)),i["\u0275did"](33,4374528,null,0,Zm.a,[i.ElementRef,qm.a],{items:[0,"items"]},null),i["\u0275prd"](2048,[[1,4]],$m.a,null,[Zm.a]),(e()(),i["\u0275eld"](35,0,null,null,17,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](36,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](37,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](38,0,null,null,14,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](39,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](40,0,null,null,12,"div",[["ibmCol",""],["style","padding: 0;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](41,81920,null,0,Bm.a,[],null,null),(e()(),i["\u0275eld"](42,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,oy.b,oy.a)),i["\u0275did"](43,1097728,null,0,iy.a,[],null,null),(e()(),i["\u0275eld"](44,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["SAP Service Link*"])),(e()(),i["\u0275eld"](46,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter Name"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,o=e.component;return"input"===t&&(r=!1!==i["\u0275nov"](e,48)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==i["\u0275nov"](e,48).onTouched()&&r),"compositionstart"===t&&(r=!1!==i["\u0275nov"](e,48)._compositionStart()&&r),"compositionend"===t&&(r=!1!==i["\u0275nov"](e,48)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(o.serviceQuery.service_resource=n)&&r),r},null,null)),i["\u0275did"](47,16384,null,0,ay.a,[],null,null),i["\u0275did"](48,16384,null,0,Jm.c,[i.Renderer2,i.ElementRef,[2,Jm.a]],null,null),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Jm.c]),i["\u0275did"](50,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](52,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](53,0,null,null,29,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](54,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](55,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](56,0,null,null,26,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](57,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](58,0,null,null,12,"div",[["class","margin-right30"],["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](59,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](60,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](61,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Data Capture Frequency *"],["placeholder","Select"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var r=!0,o=e.component;return"keydown"===t&&(r=!1!==i["\u0275nov"](e,62).onKeyDown(n)&&r),"ngModelChange"===t&&(r=!1!==(o.serviceQuery.dataCaptureFrequency=n)&&r),"selected"===t&&(r=!1!==o.onClickcapture(n)&&r),r},Km.b,Km.a)),i["\u0275did"](62,1294336,null,1,Xm.a,[i.ElementRef,qm.a,Ym.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),i["\u0275qud"](335544320,2,{view:0}),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Xm.a]),i["\u0275did"](65,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](67,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](68,0,null,0,2,"ibm-dropdown-list",[],null,null,null,Qm.b,Qm.a)),i["\u0275did"](69,4374528,null,0,Zm.a,[i.ElementRef,qm.a],{items:[0,"items"]},null),i["\u0275prd"](2048,[[2,4]],$m.a,null,[Zm.a]),(e()(),i["\u0275and"](16777216,null,null,1,null,fy)),i["\u0275did"](72,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,gy)),i["\u0275did"](74,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,my)),i["\u0275did"](76,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,yy)),i["\u0275did"](78,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,vy)),i["\u0275did"](80,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,by)),i["\u0275did"](82,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](83,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](84,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](85,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](86,0,null,null,1,"h5",[["class","title-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Service Query Parameters"])),(e()(),i["\u0275and"](16777216,null,null,1,null,wy)),i["\u0275did"](89,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](90,0,null,null,52,"div",[["class","margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](91,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](92,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](93,0,null,null,28,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](94,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](95,0,null,null,13,"div",[["class","margin-right30 padding0"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](96,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](97,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](98,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,oy.b,oy.a)),i["\u0275did"](99,1097728,null,0,iy.a,[],null,null),(e()(),i["\u0275eld"](100,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Parameter"])),(e()(),i["\u0275eld"](102,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Parameter Name"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,o=e.component;return"input"===t&&(r=!1!==i["\u0275nov"](e,104)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==i["\u0275nov"](e,104).onTouched()&&r),"compositionstart"===t&&(r=!1!==i["\u0275nov"](e,104)._compositionStart()&&r),"compositionend"===t&&(r=!1!==i["\u0275nov"](e,104)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(o.editableParams.param=n)&&r),r},null,null)),i["\u0275did"](103,16384,null,0,ay.a,[],null,null),i["\u0275did"](104,16384,null,0,Jm.c,[i.Renderer2,i.ElementRef,[2,Jm.a]],null,null),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Jm.c]),i["\u0275did"](106,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](108,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](109,0,null,null,12,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](110,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](111,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](112,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["label","Data Type"],["placeholder","Select Type"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var r=!0,o=e.component;return"keydown"===t&&(r=!1!==i["\u0275nov"](e,113).onKeyDown(n)&&r),"ngModelChange"===t&&(r=!1!==(o.editableParams.data_type=n)&&r),"selected"===t&&(r=!1!==o.onDataTypeSelected(n)&&r),r},Km.b,Km.a)),i["\u0275did"](113,1294336,null,1,Xm.a,[i.ElementRef,qm.a,Ym.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),i["\u0275qud"](335544320,9,{view:0}),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Xm.a]),i["\u0275did"](116,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](118,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](119,0,null,0,2,"ibm-dropdown-list",[],null,null,null,Qm.b,Qm.a)),i["\u0275did"](120,4374528,null,0,Zm.a,[i.ElementRef,qm.a],{items:[0,"items"]},null),i["\u0275prd"](2048,[[9,4]],$m.a,null,[Zm.a]),(e()(),i["\u0275eld"](122,0,null,null,20,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](123,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](124,0,null,null,12,"div",[["class","margin-right30 padding0 grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](125,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](126,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](127,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["label","Populate Value"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var r=!0,o=e.component;return"keydown"===t&&(r=!1!==i["\u0275nov"](e,128).onKeyDown(n)&&r),"ngModelChange"===t&&(r=!1!==(o.data_source=n)&&r),"selected"===t&&(r=!1!==o.onDataSourceSelected(n)&&r),r},Km.b,Km.a)),i["\u0275did"](128,1294336,null,1,Xm.a,[i.ElementRef,qm.a,Ym.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),i["\u0275qud"](335544320,10,{view:0}),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Xm.a]),i["\u0275did"](131,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](133,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](134,0,null,0,2,"ibm-dropdown-list",[],null,[[null,"selected"]],function(e,t,n){var r=!0;return"selected"===t&&(r=!1!==e.component.onDataSourceSelected(n)&&r),r},Qm.b,Qm.a)),i["\u0275did"](135,4374528,null,0,Zm.a,[i.ElementRef,qm.a],{items:[0,"items"]},null),i["\u0275prd"](2048,[[10,4]],$m.a,null,[Zm.a]),(e()(),i["\u0275and"](16777216,null,null,1,null,Oy)),i["\u0275did"](138,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,xy)),i["\u0275did"](140,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Sy)),i["\u0275did"](142,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](143,0,null,null,9,"div",[["class","margin-top-20 padding0"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](144,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](145,0,null,null,7,"div",[["ibmCol",""],["style","display: inline-flex;align-items: center;padding: 0;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](146,81920,null,0,Bm.a,[],null,null),(e()(),i["\u0275and"](16777216,null,null,1,null,Py)),i["\u0275did"](148,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,_y)),i["\u0275did"](150,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ey)),i["\u0275did"](152,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,r=e(t,3,0,8,8,12);e(t,2,0,r);var o=e(t,10,0,3,3,6);e(t,9,0,"margin-right30",o),e(t,19,0,n.serviceQuery.name);var i=e(t,24,0,4,4,6);e(t,23,0,"grayed-box user-search-combo-box",i),e(t,26,0,"Service Endpoint *","Select Endpoint","single","true"),e(t,29,0,n.serviceQuery.service_endpoint),e(t,33,0,n.endpoints);var a=e(t,37,0,5,5,10);e(t,36,0,a),e(t,41,0),e(t,50,0,!n.serviceQuery.modifySAPODATAEntity&&n.serviceQuery.hasOwnProperty("modifySAPODATAEntity"),n.serviceQuery.service_resource);var s=e(t,55,0,12,12,12);e(t,54,0,s);var l=e(t,60,0,2,2,4);e(t,59,0,"margin-right30",l),e(t,62,0,"Data Capture Frequency *","Select","single","true"),e(t,65,0,n.serviceQuery.dataCaptureFrequency),e(t,69,0,n.captureFrequencyItems),e(t,72,0,"Hourly"==n.captureType),e(t,74,0,"Monthly"==n.captureType||"Quarterly"==n.captureType||"Half Yearly"==n.captureType||"Yearly"==n.captureType),e(t,76,0,"Weekly"==n.captureType),e(t,78,0,"Daily"==n.captureType||"Weekly"==n.captureType||"Monthly"==n.captureType||"Quarterly"==n.captureType||"Half Yearly"==n.captureType||"Yearly"==n.captureType),e(t,80,0,"Daily"==n.captureType||"Weekly"==n.captureType||"Monthly"==n.captureType||"Quarterly"==n.captureType||"Half Yearly"==n.captureType||"Yearly"==n.captureType),e(t,82,0,"Daily"==n.captureType||"Weekly"==n.captureType||"Monthly"==n.captureType||"Quarterly"==n.captureType||"Half Yearly"==n.captureType||"Yearly"==n.captureType);var u=e(t,85,0,5,5,12);e(t,84,0,u),e(t,89,0,0!=n.parametersList.length);var c=e(t,92,0,8,8,12);e(t,91,0,"margin-top-20",c);var p=e(t,97,0,4,4,6);e(t,96,0,"margin-right30 padding0",p),e(t,106,0,n.editableParams.param);var d=e(t,111,0,4,4,6);e(t,110,0,"grayed-box user-search-combo-box",d),e(t,113,0,"Data Type","Select Type","single","true"),e(t,116,0,n.editableParams.data_type),e(t,120,0,n.dataTypes);var h=e(t,126,0,4,4,6);e(t,125,0,"margin-right30 padding0 grayed-box user-search-combo-box",h),e(t,128,0,"Populate Value",n.data_source_placeholder,"single","true"),e(t,131,0,n.data_source),e(t,135,0,n.dataSource),e(t,138,0,"masterData"===n.data_source&&!0===n.showPicklistDropdown),e(t,140,0,!0===n.showPicklistDropdown&&!0===n.showMasterDataValues),e(t,142,0,"manually"===n.data_source),e(t,146,0),e(t,148,0,!n.isEditParam),e(t,150,0,!n.isEditParam),e(t,152,0,n.isEditParam)},function(e,t){e(t,1,0,i["\u0275nov"](t,2).columnClasses),e(t,6,0,i["\u0275nov"](t,7).baseClass),e(t,8,0,i["\u0275nov"](t,9).columnClasses),e(t,11,0,i["\u0275nov"](t,12).labelClass),e(t,15,1,[i["\u0275nov"](t,16).inputClass,i["\u0275nov"](t,16).invalid,i["\u0275nov"](t,16).skeleton,i["\u0275nov"](t,16).isLightTheme,i["\u0275nov"](t,21).ngClassUntouched,i["\u0275nov"](t,21).ngClassTouched,i["\u0275nov"](t,21).ngClassPristine,i["\u0275nov"](t,21).ngClassDirty,i["\u0275nov"](t,21).ngClassValid,i["\u0275nov"](t,21).ngClassInvalid,i["\u0275nov"](t,21).ngClassPending]),e(t,22,0,i["\u0275nov"](t,23).columnClasses),e(t,25,0,i["\u0275nov"](t,26).hostClass,i["\u0275nov"](t,31).ngClassUntouched,i["\u0275nov"](t,31).ngClassTouched,i["\u0275nov"](t,31).ngClassPristine,i["\u0275nov"](t,31).ngClassDirty,i["\u0275nov"](t,31).ngClassValid,i["\u0275nov"](t,31).ngClassInvalid,i["\u0275nov"](t,31).ngClassPending),e(t,35,0,i["\u0275nov"](t,36).columnClasses),e(t,38,0,i["\u0275nov"](t,39).baseClass),e(t,40,0,i["\u0275nov"](t,41).columnClasses),e(t,42,0,i["\u0275nov"](t,43).labelClass),e(t,46,1,[i["\u0275nov"](t,47).inputClass,i["\u0275nov"](t,47).invalid,i["\u0275nov"](t,47).skeleton,i["\u0275nov"](t,47).isLightTheme,i["\u0275nov"](t,52).ngClassUntouched,i["\u0275nov"](t,52).ngClassTouched,i["\u0275nov"](t,52).ngClassPristine,i["\u0275nov"](t,52).ngClassDirty,i["\u0275nov"](t,52).ngClassValid,i["\u0275nov"](t,52).ngClassInvalid,i["\u0275nov"](t,52).ngClassPending]),e(t,53,0,i["\u0275nov"](t,54).columnClasses),e(t,56,0,i["\u0275nov"](t,57).baseClass),e(t,58,0,i["\u0275nov"](t,59).columnClasses),e(t,61,0,i["\u0275nov"](t,62).hostClass,i["\u0275nov"](t,67).ngClassUntouched,i["\u0275nov"](t,67).ngClassTouched,i["\u0275nov"](t,67).ngClassPristine,i["\u0275nov"](t,67).ngClassDirty,i["\u0275nov"](t,67).ngClassValid,i["\u0275nov"](t,67).ngClassInvalid,i["\u0275nov"](t,67).ngClassPending),e(t,83,0,i["\u0275nov"](t,84).columnClasses),e(t,90,0,i["\u0275nov"](t,91).columnClasses),e(t,93,0,i["\u0275nov"](t,94).baseClass),e(t,95,0,i["\u0275nov"](t,96).columnClasses),e(t,98,0,i["\u0275nov"](t,99).labelClass),e(t,102,1,[i["\u0275nov"](t,103).inputClass,i["\u0275nov"](t,103).invalid,i["\u0275nov"](t,103).skeleton,i["\u0275nov"](t,103).isLightTheme,i["\u0275nov"](t,108).ngClassUntouched,i["\u0275nov"](t,108).ngClassTouched,i["\u0275nov"](t,108).ngClassPristine,i["\u0275nov"](t,108).ngClassDirty,i["\u0275nov"](t,108).ngClassValid,i["\u0275nov"](t,108).ngClassInvalid,i["\u0275nov"](t,108).ngClassPending]),e(t,109,0,i["\u0275nov"](t,110).columnClasses),e(t,112,0,i["\u0275nov"](t,113).hostClass,i["\u0275nov"](t,118).ngClassUntouched,i["\u0275nov"](t,118).ngClassTouched,i["\u0275nov"](t,118).ngClassPristine,i["\u0275nov"](t,118).ngClassDirty,i["\u0275nov"](t,118).ngClassValid,i["\u0275nov"](t,118).ngClassInvalid,i["\u0275nov"](t,118).ngClassPending),e(t,122,0,i["\u0275nov"](t,123).baseClass),e(t,124,0,i["\u0275nov"](t,125).columnClasses),e(t,127,0,i["\u0275nov"](t,128).hostClass,i["\u0275nov"](t,133).ngClassUntouched,i["\u0275nov"](t,133).ngClassTouched,i["\u0275nov"](t,133).ngClassPristine,i["\u0275nov"](t,133).ngClassDirty,i["\u0275nov"](t,133).ngClassValid,i["\u0275nov"](t,133).ngClassInvalid,i["\u0275nov"](t,133).ngClassPending),e(t,143,0,i["\u0275nov"](t,144).baseClass),e(t,145,0,i["\u0275nov"](t,146).columnClasses)})}var Ay=n("tKJU"),My=n("uUZD"),Dy=n("PsxR");class ky{constructor(e,t,n){this.toaster=e,this.settingsService=t,this.goalService=n,this.responseList=[],this.onMappingChange=new i.EventEmitter,this.editableParams={label:"",data_type:"",api_key:"",unitOfMeasurement:""},this.isEditParam=!1,this.unitOfMeasurementItems=[],this.dataTypes=[{content:"Number",value:"number",selected:!1},{content:"Text",value:"text",selected:!1},{content:"Date",value:"date",selected:!1},{content:"Date-Time",value:"datetime",selected:!1}]}ngOnInit(){return Object(sy.__awaiter)(this,void 0,void 0,function*(){this.setDataType();let e=yield this.getUnitofMeasurement();e&&e.success&&(this.unitOfMeasurementItems=e.response.map(({value:e,_id:t})=>({content:e,id:t})))})}getUOM(e){let t=(this.unitOfMeasurementItems||[]).find(t=>t.id===e);return t?t.content:""}ngOnChanges(){this.setDataType()}setDataType(){this.responseList.forEach(e=>{this.dataTypes.forEach(t=>{e.data_type==t.value&&(t.selected=!0,e.data_type=t)})})}onDataTypeSelected(e){this.editableParams.data_type=e.item}onAddCode(){if(this.editableParams.label)if(this.editableParams.data_type)if("Number"!==this.editableParams.data_type.content||this.editableParams.unitOfMeasurement)if(this.editableParams.api_key){if("datetime"===this.editableParams.data_type.value)for(let e=0;e<this.responseList.length;e++){let t=this.responseList[e];if("datetime"===t.data_type.value&&t.isTimeStamp)return void this.toaster.error(uy.a.SAP_SERVICE_RESPONSE_MORE_THAN_ONE_SAMPLE_DATE_TIME)}this.editableParams.deleteExistingResponseMapItems=!0,this.responseList.push(this.editableParams),this.resetParams()}else this.toaster.error(uy.a.SAP_SERVICE_RESPONSE_MAP_MISSING_KEY_WARNING);else this.toaster.error(uy.a.SAP_SERVICE_RESPONSE_MAP_UNIT_WARNING);else this.toaster.error(uy.a.SAP_SERVICE_RESPONSE_MAP_MISSING_DATA_TYPE_WARNING);else this.toaster.error(uy.a.SAP_SERVICE_RESPONSE_MAP_MISSING_LABEL_WARNING)}editCode(e){if(this.editableParams=this.responseList[e],this.editableParams.data_type.selected=!0,"number"==this.editableParams.data_type.value){let e=py.a.cloneDeep(this.unitOfMeasurementItems);this.unitOfMeasurementItems=[],setTimeout(()=>{e.forEach(e=>{e.selected=e.id==this.editableParams.unitOfMeasurement}),this.unitOfMeasurementItems=e},100)}this.editIndex=e,this.isEditParam=!0}updateCode(e){this.responseList[e]=this.editableParams,this.isEditParam=!1,this.resetParams()}removeCode(e){this.responseList.splice(e,1)}resetParams(){this.editableParams={label:"",data_type:"",api_key:"",unitOfMeasurement:""}}onMeasureSelected(e){this.editableParams.unitOfMeasurement=e.item.id}getUnitofMeasurement(){return this.goalService.getunitofMsrmnt().toPromise()}}var Ry=i["\u0275crt"]({encapsulation:0,styles:[['.service-query-container[_ngcontent-%COMP%]{margin-top:20px}.margin-right30[_ngcontent-%COMP%]{margin-right:30px}  .bx--dropdown{background-color:#f3f3f3!important}  .bx--col-lg-5{padding:0 24px 0 0!important}  .bx--col-lg-2{padding:0}.title-text[_ngcontent-%COMP%]{color:#161616;font-family:"IBM Plex Sans";font-size:20px;letter-spacing:0;line-height:26px;font-weight:400;margin-bottom:20px}.margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.add-another[_ngcontent-%COMP%]{height:40px!important;width:40px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #fff;background-color:#fff}.update-another[_ngcontent-%COMP%]{height:40px!important;width:80px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #fff;background-color:#fff}.padding0[_ngcontent-%COMP%]{padding:0}.icon-white[_ngcontent-%COMP%]{fill:#e02020}.common-table-container[_ngcontent-%COMP%]{max-height:400px;overflow-x:hidden;overflow-y:auto}']],data:{}});function Iy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,":svg:svg",[["class","margin-right-8"],["ibmIconEdit20",""],["title","Edit"]],null,[[null,"click"]],function(e,t,n){var r=!0,o=e.component;return"click"===t&&(n.stopPropagation(),r=!1!==o.editCode(e.parent.context.index)&&r),r},null,null)),i["\u0275did"](1,4210688,null,0,ey.a,[i.ElementRef],{title:[0,"title"]},null),(e()(),i["\u0275eld"](2,0,null,null,1,":svg:title",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Edit"]))],function(e,t){e(t,1,0,"Edit")},null)}function Ny(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,":svg:svg",[["class","close-icon"],["ibmIconTrashCan20",""]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.removeCode(e.parent.context.index)&&r),r},null,null)),i["\u0275did"](1,4210688,null,0,ty.a,[i.ElementRef],null,null),(e()(),i["\u0275eld"](2,0,null,null,1,":svg:title",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Delete"]))],null,null)}function Fy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,15,"tr",[["class","tr-margin-1"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i["\u0275ted"](2,null,["",""])),(e()(),i["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i["\u0275ted"](4,null,["",""])),(e()(),i["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i["\u0275ted"](6,null,["",""])),(e()(),i["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i["\u0275ted"](8,null,["",""])),(e()(),i["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i["\u0275ted"](10,null,["",""])),(e()(),i["\u0275eld"](11,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Iy)),i["\u0275did"](13,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ny)),i["\u0275did"](15,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,13,0,t.context.$implicit.deleteExistingResponseMapItems),e(t,15,0,t.context.$implicit.deleteExistingResponseMapItems)},function(e,t){var n=t.component;e(t,2,0,t.context.$implicit.label),e(t,4,0,t.context.$implicit.data_type.content),e(t,6,0,t.context.$implicit.unitOfMeasurement?n.getUOM(t.context.$implicit.unitOfMeasurement):"-"),e(t,8,0,t.context.$implicit.api_key),e(t,10,0,t.context.$implicit.isTimeStamp?"Yes":"-")})}function Ly(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,30,"div",[["class","bx--data-table-container common-table-container"],["data-table",""]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,29,"table",[["class","bx--data-table bx--data-table--sort "]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,25,"thead",[],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,24,"tr",[],null,null,null,null,null)),(e()(),i["\u0275eld"](4,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(e()(),i["\u0275eld"](5,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Label"]],null,null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Label"])),(e()(),i["\u0275eld"](8,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(e()(),i["\u0275eld"](9,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Data Type"]],null,null,null,null,null)),(e()(),i["\u0275eld"](10,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Data Type"])),(e()(),i["\u0275eld"](12,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(e()(),i["\u0275eld"](13,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Unit of Measurement"]],null,null,null,null,null)),(e()(),i["\u0275eld"](14,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Unit of Measurement"])),(e()(),i["\u0275eld"](16,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(e()(),i["\u0275eld"](17,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","SAP Key Name"]],null,null,null,null,null)),(e()(),i["\u0275eld"](18,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["SAP Key Name"])),(e()(),i["\u0275eld"](20,0,null,null,3,"th",[["class","respective-text"]],null,null,null,null,null)),(e()(),i["\u0275eld"](21,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Data Sample Date & Time"]],null,null,null,null,null)),(e()(),i["\u0275eld"](22,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Sample Date & Time"])),(e()(),i["\u0275eld"](24,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(e()(),i["\u0275eld"](25,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Actions"]],null,null,null,null,null)),(e()(),i["\u0275eld"](26,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Actions"])),(e()(),i["\u0275eld"](28,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Fy)),i["\u0275did"](30,278528,null,0,Om.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,30,0,t.component.responseList)},null)}function jy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","grayed-box user-search-combo-box margin-right30"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](1,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](3,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Unit of measurement"],["placeholder","Select Type"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(e,t,n){var r=!0,o=e.component;return"keydown"===t&&(r=!1!==i["\u0275nov"](e,5).onKeyDown(n)&&r),"selected"===t&&(r=!1!==o.onMeasureSelected(n)&&r),r},Km.b,Km.a)),i["\u0275prd"](5120,null,Jm.p,function(e){return[e]},[Xm.a]),i["\u0275did"](5,1294336,null,1,Xm.a,[i.ElementRef,qm.a,Ym.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),i["\u0275qud"](335544320,2,{view:0}),(e()(),i["\u0275eld"](7,0,null,0,2,"ibm-dropdown-list",[],null,null,null,Qm.b,Qm.a)),i["\u0275did"](8,4374528,null,0,Zm.a,[i.ElementRef,qm.a],{items:[0,"items"]},null),i["\u0275prd"](2048,[[2,4]],$m.a,null,[Zm.a])],function(e,t){var n=t.component,r=e(t,2,0,2,2,3);e(t,1,0,"grayed-box user-search-combo-box margin-right30",r),e(t,5,0,"Unit of measurement","Select Type","single","true"),e(t,8,0,n.unitOfMeasurementItems)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).columnClasses),e(t,3,0,i["\u0275nov"](t,5).hostClass)})}function Gy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](1,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](2,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](3,0,null,null,6,"ibm-checkbox",[],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var r=!0;return"ngModelChange"===t&&(r=!1!==(e.component.editableParams.isTimeStamp=n)&&r),r},Ay.b,Ay.a)),i["\u0275did"](4,4243456,null,0,My.a,[i.ChangeDetectorRef],null,null),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[My.a]),i["\u0275did"](6,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](8,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275ted"](-1,0,["Consider this field as Data Sample Date & Time"]))],function(e,t){var n=t.component,r=e(t,2,0,2,2,2);e(t,1,0,"grayed-box user-search-combo-box",r),e(t,6,0,n.editableParams.isTimeStamp)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).columnClasses),e(t,3,0,i["\u0275nov"](t,4).checkboxWrapperClass,i["\u0275nov"](t,4).formItemClass,i["\u0275nov"](t,8).ngClassUntouched,i["\u0275nov"](t,8).ngClassTouched,i["\u0275nov"](t,8).ngClassPristine,i["\u0275nov"](t,8).ngClassDirty,i["\u0275nov"](t,8).ngClassValid,i["\u0275nov"](t,8).ngClassInvalid,i["\u0275nov"](t,8).ngClassPending)})}function Vy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),i["\u0275did"](1,4210688,null,0,gm.a,[i.ElementRef],null,null)],null,null)}function By(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onAddCode()&&r),r},null,null))],null,null)}function Wy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger update-another cursor-pointer pseudo-buttons"],["type","button"],["value","Update"]],null,[[null,"click"]],function(e,t,n){var r=!0,o=e.component;return"click"===t&&(r=!1!==o.updateCode(o.editIndex)&&r),r},null,null))],null,null)}function zy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,60,"div",[["class","service-query-container"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,59,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](2,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](3,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](4,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](5,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](6,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](7,0,null,null,1,"h5",[["class","title-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Response Map fields"])),(e()(),i["\u0275and"](16777216,null,null,1,null,Ly)),i["\u0275did"](10,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](11,0,null,null,49,"div",[["class","margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](12,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](13,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](14,0,null,null,46,"div",[["ibmRow",""],["style","align-items: flex-end;margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](15,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](16,0,null,null,13,"div",[["class","margin-right30"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](17,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](18,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](19,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,oy.b,oy.a)),i["\u0275did"](20,1097728,null,0,iy.a,[],null,null),(e()(),i["\u0275eld"](21,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Label"])),(e()(),i["\u0275eld"](23,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter Label"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,o=e.component;return"input"===t&&(r=!1!==i["\u0275nov"](e,25)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==i["\u0275nov"](e,25).onTouched()&&r),"compositionstart"===t&&(r=!1!==i["\u0275nov"](e,25)._compositionStart()&&r),"compositionend"===t&&(r=!1!==i["\u0275nov"](e,25)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(o.editableParams.label=n)&&r),r},null,null)),i["\u0275did"](24,16384,null,0,ay.a,[],null,null),i["\u0275did"](25,16384,null,0,Jm.c,[i.Renderer2,i.ElementRef,[2,Jm.a]],null,null),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Jm.c]),i["\u0275did"](27,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](29,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](30,0,null,null,12,"div",[["class","grayed-box user-search-combo-box margin-right30"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](31,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](32,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](33,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["itemValueKey","content"],["label","Data Type"],["placeholder","Select Type"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selected"],[null,"keydown"]],function(e,t,n){var r=!0,o=e.component;return"keydown"===t&&(r=!1!==i["\u0275nov"](e,34).onKeyDown(n)&&r),"ngModelChange"===t&&(r=!1!==(o.editableParams.data_type=n)&&r),"selected"===t&&(r=!1!==o.onDataTypeSelected(n)&&r),r},Km.b,Km.a)),i["\u0275did"](34,1294336,null,1,Xm.a,[i.ElementRef,qm.a,Ym.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"]},{selected:"selected"}),i["\u0275qud"](335544320,1,{view:0}),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Xm.a]),i["\u0275did"](37,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](39,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](40,0,null,0,2,"ibm-dropdown-list",[],null,null,null,Qm.b,Qm.a)),i["\u0275did"](41,4374528,null,0,Zm.a,[i.ElementRef,qm.a],{items:[0,"items"]},null),i["\u0275prd"](2048,[[1,4]],$m.a,null,[Zm.a]),(e()(),i["\u0275and"](16777216,null,null,1,null,jy)),i["\u0275did"](44,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](45,0,null,null,13,"div",[["class","grayed-box user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](46,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](47,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](48,0,null,null,10,"ibm-label",[],[[2,"bx--form-item",null]],null,null,oy.b,oy.a)),i["\u0275did"](49,1097728,null,0,iy.a,[],null,null),(e()(),i["\u0275eld"](50,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["SAP Key Name"])),(e()(),i["\u0275eld"](52,0,null,1,6,"input",[["autocomplete","off"],["ibmText",""],["placeholder","Enter api key"],["type","text"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,o=e.component;return"input"===t&&(r=!1!==i["\u0275nov"](e,54)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==i["\u0275nov"](e,54).onTouched()&&r),"compositionstart"===t&&(r=!1!==i["\u0275nov"](e,54)._compositionStart()&&r),"compositionend"===t&&(r=!1!==i["\u0275nov"](e,54)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(o.editableParams.api_key=n)&&r),r},null,null)),i["\u0275did"](53,16384,null,0,ay.a,[],null,null),i["\u0275did"](54,16384,null,0,Jm.c,[i.Renderer2,i.ElementRef,[2,Jm.a]],null,null),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Jm.c]),i["\u0275did"](56,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](58,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275and"](16777216,null,null,1,null,Gy)),i["\u0275did"](60,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](61,0,null,null,9,"div",[["class","margin-top-20 padding0"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](62,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](63,0,null,null,7,"div",[["ibmCol",""],["style","display: inline-flex;align-items: center;padding: 0;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](64,81920,null,0,Bm.a,[],null,null),(e()(),i["\u0275and"](16777216,null,null,1,null,Vy)),i["\u0275did"](66,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,By)),i["\u0275did"](68,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Wy)),i["\u0275did"](70,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,r=e(t,3,0,12,12,12);e(t,2,0,r);var o=e(t,6,0,6,6,12);e(t,5,0,o),e(t,10,0,0!=n.responseList.length);var i=e(t,13,0,12,12,12);e(t,12,0,"margin-top-20",i);var a=e(t,18,0,2,2,3);e(t,17,0,"margin-right30",a),e(t,27,0,n.editableParams.label);var s=e(t,32,0,2,2,3);e(t,31,0,"grayed-box user-search-combo-box margin-right30",s),e(t,34,0,"Data Type","Select Type","single","true"),e(t,37,0,n.editableParams.data_type),e(t,41,0,n.dataTypes),e(t,44,0,"number"==n.editableParams.data_type.value);var l=e(t,47,0,2,2,2);e(t,46,0,"grayed-box user-search-combo-box",l),e(t,56,0,n.editableParams.api_key),e(t,60,0,"datetime"==n.editableParams.data_type.value),e(t,64,0),e(t,66,0,!n.isEditParam),e(t,68,0,!n.isEditParam),e(t,70,0,n.isEditParam)},function(e,t){e(t,1,0,i["\u0275nov"](t,2).columnClasses),e(t,4,0,i["\u0275nov"](t,5).columnClasses),e(t,11,0,i["\u0275nov"](t,12).columnClasses),e(t,14,0,i["\u0275nov"](t,15).baseClass),e(t,16,0,i["\u0275nov"](t,17).columnClasses),e(t,19,0,i["\u0275nov"](t,20).labelClass),e(t,23,1,[i["\u0275nov"](t,24).inputClass,i["\u0275nov"](t,24).invalid,i["\u0275nov"](t,24).skeleton,i["\u0275nov"](t,24).isLightTheme,i["\u0275nov"](t,29).ngClassUntouched,i["\u0275nov"](t,29).ngClassTouched,i["\u0275nov"](t,29).ngClassPristine,i["\u0275nov"](t,29).ngClassDirty,i["\u0275nov"](t,29).ngClassValid,i["\u0275nov"](t,29).ngClassInvalid,i["\u0275nov"](t,29).ngClassPending]),e(t,30,0,i["\u0275nov"](t,31).columnClasses),e(t,33,0,i["\u0275nov"](t,34).hostClass,i["\u0275nov"](t,39).ngClassUntouched,i["\u0275nov"](t,39).ngClassTouched,i["\u0275nov"](t,39).ngClassPristine,i["\u0275nov"](t,39).ngClassDirty,i["\u0275nov"](t,39).ngClassValid,i["\u0275nov"](t,39).ngClassInvalid,i["\u0275nov"](t,39).ngClassPending),e(t,45,0,i["\u0275nov"](t,46).columnClasses),e(t,48,0,i["\u0275nov"](t,49).labelClass),e(t,52,1,[i["\u0275nov"](t,53).inputClass,i["\u0275nov"](t,53).invalid,i["\u0275nov"](t,53).skeleton,i["\u0275nov"](t,53).isLightTheme,i["\u0275nov"](t,58).ngClassUntouched,i["\u0275nov"](t,58).ngClassTouched,i["\u0275nov"](t,58).ngClassPristine,i["\u0275nov"](t,58).ngClassDirty,i["\u0275nov"](t,58).ngClassValid,i["\u0275nov"](t,58).ngClassInvalid,i["\u0275nov"](t,58).ngClassPending]),e(t,61,0,i["\u0275nov"](t,62).baseClass),e(t,63,0,i["\u0275nov"](t,64).columnClasses)})}var Uy=n("jGGp"),Hy=n("TXHj"),Ky=n("WLIR");class Xy{constructor(e){this.sapService=e,this.serviceQuery={},this.parametersList=[],this.responseList=[],this.displayColumn=[],this.tableData=[],this.isLoading=!1,this.loadedByMe=!1,this.sapFormName=""}ngOnInit(){this.subscription=this.sapService.getMessage().subscribe(e=>{this.sapFormName=e})}ngOnChanges(e){this.sapFormName=this.serviceQuery.name?this.serviceQuery.name+" - Form":""}testConnection(e){this.sapService.testConnectionData(e).subscribe(e=>{if(e&&e.response&&e.response.length){let t=Object.keys(e.response[0]);this.displayColumn=t,this.tableData=e.response,this.isLoading=!1}else this.isLoading=!1},e=>{this.isLoading=!1})}refresh(){if(this.loadedByMe=!0,this.serviceQuery&&this.responseList.length){this.isLoading=!0,this.tableData=[];let e=this.responseList&&this.responseList.map(e=>({label:e.label,data_type:e.data_type.value,api_key:e.api_key,unitOfMeasurement:"number"===e.data_type.value?e.unitOfMeasurement?e.unitOfMeasurement:"":void 0}));this.parametersList.forEach(e=>{delete e.deleteExistingResponseMapItems}),this.testConnection({service_endpoint:this.serviceQuery.service_endpoint.id,service_resource:this.serviceQuery.service_resource,service_query_params:this.parametersList,service_response_map:e})}}}var qy=i["\u0275crt"]({encapsulation:0,styles:[['.service-query-container[_ngcontent-%COMP%]{margin-top:40px}.margin-right30[_ngcontent-%COMP%]{margin-right:30px}.margin-top20[_ngcontent-%COMP%]{margin-top:20px}  .bx--dropdown{background-color:#f3f3f3!important}  .bx--col-lg-5{padding:0 24px 0 0!important}.title-text[_ngcontent-%COMP%]{color:#161616;font-family:"IBM Plex Sans";font-size:20px;letter-spacing:0;line-height:26px;font-weight:400;margin-bottom:20px}.no-result-text[_ngcontent-%COMP%]{font-size:16px;font-family:"IBM Plex Sans";color:#171717;line-height:16px}.renew-icon[_ngcontent-%COMP%]{fill:#e02020;margin-left:5px;margin-top:5px}']],data:{}});function Yy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"th",[["class","goal-text"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Metric Name"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](3,null,["",""]))],null,function(e,t){e(t,3,0,t.context.$implicit)})}function Jy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,16777216,null,null,1,null,null,null,null,null,null,null)),i["\u0275did"](1,540672,null,0,Om.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){e(t,1,0,i["\u0275nov"](t.parent,34))},null)}function Qy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,16777216,null,null,1,null,null,null,null,null,null,null)),i["\u0275did"](1,540672,null,0,Om.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){e(t,1,0,i["\u0275nov"](t.parent,32))},null)}function Zy(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,16777216,null,null,1,null,null,null,null,null,null,null)),i["\u0275did"](1,540672,null,0,Om.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){e(t,1,0,i["\u0275nov"](t.parent,33))},null)}function $y(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit[t.context.$implicit])})}function ev(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"tr",[["class","tr-margin-1"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,$y)),i["\u0275did"](2,278528,null,0,Om.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.displayColumn)},null)}function tv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,ev)),i["\u0275did"](2,278528,null,0,Om.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.tableData)},null)}function nv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","no-result-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" There is an error connecting with the service. Please check the parameters and try again. If the problem persists then contact 4E Support Team.Thank you. "]))],null,null)}function rv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text "]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"],["title","Loading"]],[[2,"bx--loading-overlay",null]],null,null,Uy.b,Uy.a)),i["\u0275did"](2,49152,null,0,Hy.a,[qm.a],{title:[0,"title"],size:[1,"size"]},null),(e()(),i["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Loading..."]))],function(e,t){e(t,2,0,"Loading","sm")},function(e,t){e(t,1,0,i["\u0275nov"](t,2).overlay)})}function ov(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,32,"div",[["class","service-query-container"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,30,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](2,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](3,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](4,0,null,null,27,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](5,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](6,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](7,0,null,null,5,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](8,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](9,0,null,null,1,"h5",[["class","title-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Test SAP Connection"])),(e()(),i["\u0275eld"](11,0,null,null,1,":svg:svg",[["class","renew-icon"],["ibmIconRenew20",""],["title","Refresh"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.refresh()&&r),r},null,null)),i["\u0275did"](12,4210688,null,0,Ky.a,[i.ElementRef],{title:[0,"title"]},null),(e()(),i["\u0275eld"](13,0,null,null,6,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](14,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](15,0,null,null,4,"small",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["The SAP form "])),(e()(),i["\u0275eld"](17,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),i["\u0275ted"](18,null,["",""])),(e()(),i["\u0275ted"](-1,null,[" created via this configuration will look like the following"])),(e()(),i["\u0275eld"](20,0,null,null,11,"div",[["class","common-table-container margin-top20"],["data-table",""]],null,null,null,null,null)),(e()(),i["\u0275eld"](21,0,null,null,10,"table",[["class","bx--data-table bx--data-table--sort "]],null,null,null,null,null)),(e()(),i["\u0275eld"](22,0,null,null,3,"thead",[],null,null,null,null,null)),(e()(),i["\u0275eld"](23,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Yy)),i["\u0275did"](25,278528,null,0,Om.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Jy)),i["\u0275did"](27,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Qy)),i["\u0275did"](29,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Zy)),i["\u0275did"](31,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](0,[["result",2]],null,0,null,tv)),(e()(),i["\u0275and"](0,[["noresults",2]],null,0,null,nv)),(e()(),i["\u0275and"](0,[["loading",2]],null,0,null,rv))],function(e,t){var n=t.component,r=e(t,3,0,12,12,12);e(t,2,0,r);var o=e(t,6,0,12,12,12);e(t,5,0,o),e(t,12,0,"Refresh"),e(t,25,0,n.displayColumn),e(t,27,0,n.isLoading),e(t,29,0,n.tableData&&n.tableData.length&&n.displayColumn&&n.displayColumn.length&&n.loadedByMe&&!n.isLoading),e(t,31,0,!(n.tableData&&n.tableData.length&&n.displayColumn&&n.displayColumn.length)&&n.loadedByMe&&!n.isLoading)},function(e,t){var n=t.component;e(t,1,0,i["\u0275nov"](t,2).columnClasses),e(t,4,0,i["\u0275nov"](t,5).columnClasses),e(t,7,0,i["\u0275nov"](t,8).baseClass),e(t,13,0,i["\u0275nov"](t,14).baseClass),e(t,18,0,n.sapFormName)})}var iv=n("FS8H"),av=n("X/pD");class sv{constructor(e,t,n,r){this.goalService=e,this.settingsService=t,this.homeService=n,this.sapService=r,this.onPermissionChange=new i.EventEmitter,this.permissions=[],this.serviceQuery={},this.selectedViewersArray=[{employeeId:"",userName:"",departmentName:"",read:!1,edit:!1,fill:!1}],this.selectedManualSyncUsersArray=[{employeeId:"",userName:"",departmentName:""}],this.selectedDepartmentsArray=[{departmentId:"",name:"",read:!1,edit:!1,fill:!1}],this.selectedGroupsArray=[{groupId:"",name:"",read:!1,edit:!1,fill:!1}],this.usersArray=[],this.manualSyncUsersArray=[],this.departmentsArray=[],this.groupsArray=[],this.allUsers={read:!1,edit:!1,fill:!1},this.searchedUsers=[{content:"Search user to select."}],this.searchedManualSyncUsers=[{content:"Search user to select."}],this.searchedDepartments=[{content:"Search department to select."}],this.searchedGroups=[{content:"Search groups to select."}],this.sapFormName=""}ngOnInit(){this.subscription=this.sapService.getMessage().subscribe(e=>{this.sapFormName=this.serviceQuery.name?this.serviceQuery.name+" - Form":""})}ngOnChanges(){this.sapFormName=this.serviceQuery.name?this.serviceQuery.name+" - Form":"",this.isAddMode||(this.permissions.users&&(this.usersArray=[],this.permissions.users.forEach((e,t)=>{null==this.selectedViewersArray[t]&&this.onAddViewUser(),this.selectedViewersArray[t].employeeId=e.employeeId,this.selectedViewersArray[t].departmentName=null,this.selectedViewersArray[t].userName=e.firstname+" "+e.lastname,this.selectedViewersArray[t].read=e.read,this.selectedViewersArray[t].edit=e.edit,this.selectedViewersArray[t].fill=e.fill,this.onUserAdd(),this.usersArray[t].employeeId=e.employeeId,this.usersArray[t].firstname=e.firstname,this.usersArray[t].lastname=e.lastname,this.usersArray[t].read=e.read,this.usersArray[t].edit=e.edit,this.usersArray[t].fill=e.fill})),this.permissions.usersWithManualSyncPermission&&(this.manualSyncUsersArray=[],this.permissions.usersWithManualSyncPermission.forEach((e,t)=>{null==this.selectedManualSyncUsersArray[t]&&this.onAddSyncUser(),this.selectedManualSyncUsersArray[t].employeeId=e.employeeId,this.selectedManualSyncUsersArray[t].departmentName=null,this.selectedManualSyncUsersArray[t].userName=e.firstname+" "+e.lastname,this.onSyncUserAdd(),this.manualSyncUsersArray[t].employeeId=e.employeeId,this.manualSyncUsersArray[t].firstname=e.firstname,this.manualSyncUsersArray[t].lastname=e.lastname})),this.permissions.departments&&(this.departmentsArray=[],this.permissions.departments.forEach((e,t)=>{null==this.selectedDepartmentsArray[t]&&this.onAddDepartment(),this.selectedDepartmentsArray[t].departmentId=e.departmentId,this.selectedDepartmentsArray[t].name=e.name,this.selectedDepartmentsArray[t].read=e.read,this.selectedDepartmentsArray[t].edit=e.edit,this.selectedDepartmentsArray[t].fill=e.fill,this.onDepartmentAdd(),this.departmentsArray[t].departmentId=e.departmentId,this.departmentsArray[t].name=e.name,this.departmentsArray[t].read=e.read,this.departmentsArray[t].edit=e.edit,this.departmentsArray[t].fill=e.fill})),this.permissions.groups&&(this.groupsArray=[],this.permissions.groups.forEach((e,t)=>{null==this.selectedGroupsArray[t]&&this.onAddGroup(),this.selectedGroupsArray[t].groupId=e.groupId,this.selectedGroupsArray[t].name=e.name,this.selectedGroupsArray[t].read=e.read,this.selectedGroupsArray[t].edit=e.edit,this.selectedGroupsArray[t].fill=e.fill,this.onGroupAdd(),this.groupsArray[t].groupId=e.groupId,this.groupsArray[t].name=e.name,this.groupsArray[t].read=e.read,this.groupsArray[t].edit=e.edit,this.groupsArray[t].fill=e.fill})),(this.permissions.all.read||this.permissions.all.edit)&&(this.allUsers.read=this.permissions.all.read,this.allUsers.edit=this.permissions.all.edit),this.emitPermissionEvent())}onSearchUser(e,t,n){this.searchedUsers=[],this.selectedViewersArray[n].employeeId=null,this.selectedViewersArray[n].departmentName=null,this.selectedViewersArray[n].userName=e,this.goalService.getUsers(e,!1,t).subscribe(e=>{this.searchedUsers=e.response.map((e,t)=>(e.content=e.firstname+" "+e.lastname,e.id=e.employeeId,e))},e=>{console.log(e)})}onSearchUserSync(e,t,n){this.searchedManualSyncUsers=[],this.selectedManualSyncUsersArray[n].employeeId=null,this.selectedManualSyncUsersArray[n].departmentName=null,this.selectedManualSyncUsersArray[n].userName=e,this.goalService.getUsers(e,!1,t).subscribe(e=>{this.searchedManualSyncUsers=e.response.map((e,t)=>(e.content=e.firstname+" "+e.lastname,e.id=e.employeeId,e))},e=>{console.log(e)})}onSearchDepartment(e,t,n){this.searchedDepartments=[],this.selectedDepartmentsArray[n].departmentId=null,this.selectedDepartmentsArray[n].name=e,this.settingsService.getDepartments(e).subscribe(e=>{e&&e.success&&(this.searchedDepartments=e.response.map((e,t)=>(e.content=e.name,e.id=e.id,e)))},e=>{console.log(e)})}onSearchGroup(e,t,n){this.searchedGroups=[],this.selectedGroupsArray[n].groupId=null,this.selectedGroupsArray[n].name=e,this.homeService.searchGroups(e).subscribe(e=>{e&&e.success&&e.response.forEach(e=>{e.isActive&&(e.content=e.name,e.id=e.id,this.searchedGroups.push(e))})},e=>{console.log(e)})}onUserAdd(){this.usersArray.push({employeeId:"",userName:"",firstname:"",lastname:"",departmentName:"",read:!1,edit:!1,fill:!1})}onSyncUserAdd(){this.manualSyncUsersArray.push({employeeId:"",userName:"",firstname:"",lastname:"",departmentName:"",read:!1,edit:!1,fill:!1})}onDepartmentAdd(){this.departmentsArray.push({departmentId:"",name:"",read:!1,edit:!1,fill:!1})}onGroupAdd(){this.groupsArray.push({groupId:"",name:"",read:!1,edit:!1,fill:!1})}onAddViewUser(){this.selectedViewersArray.push({employeeId:"",userName:"",firstname:"",lastname:"",departmentName:"",read:!1,edit:!1,fill:!1})}onAddSyncUser(){this.selectedManualSyncUsersArray.push({employeeId:"",userName:"",firstname:"",lastname:"",departmentName:""})}onAddDepartment(){this.selectedDepartmentsArray.push({departmentId:"",name:"",read:!1,edit:!1,fill:!1})}onAddGroup(){this.selectedGroupsArray.push({groupId:"",name:"",read:!1,edit:!1,fill:!1})}onSelectedViewUser(e,t){e.id&&!this.checkIfAlreadySelected(this.selectedViewersArray,e.id)?(this.selectedViewersArray[t].firstname=e.firstname,this.selectedViewersArray[t].lastname=e.lastname,this.selectedViewersArray[t].userName=e.content,this.selectedViewersArray[t].employeeId=e.id,this.selectedViewersArray[t].departmentName=e.departmentName,this.onUserAdd(),this.usersArray[t].employeeId=e.employeeId,this.usersArray[t].firstname=e.firstname,this.usersArray[t].lastname=e.lastname,this.usersArray[t].read=!0,this.usersArray[t].edit=e.edit||!1,this.emitPermissionEvent()):alert("User already selected.")}onSelectedViewUserManualSync(e,t){e.id&&!this.checkIfAlreadySelected(this.selectedManualSyncUsersArray,e.id)?(this.selectedManualSyncUsersArray[t].firstname=e.firstname,this.selectedManualSyncUsersArray[t].lastname=e.lastname,this.selectedManualSyncUsersArray[t].userName=e.content,this.selectedManualSyncUsersArray[t].employeeId=e.id,this.selectedManualSyncUsersArray[t].departmentName=e.departmentName,this.onSyncUserAdd(),this.manualSyncUsersArray[t].employeeId=e.employeeId,this.manualSyncUsersArray[t].firstname=e.firstname,this.manualSyncUsersArray[t].lastname=e.lastname,this.emitPermissionEvent()):alert("User already selected.")}onSelectedDepartment(e,t){e.id&&!this.checkIfDepartmentIsAlreadySelected(this.selectedDepartmentsArray,e.id)?(this.selectedDepartmentsArray[t].name=e.name,this.selectedDepartmentsArray[t].departmentId=e.id,this.onDepartmentAdd(),this.departmentsArray[t].name=e.name,this.departmentsArray[t].departmentId=e.id,this.departmentsArray[t].read=!0,this.departmentsArray[t].edit=e.edit||!1,this.emitPermissionEvent()):alert("Department already selected.")}onSelectedGroup(e,t){e.id&&!this.checkIfGroupIsAlreadySelected(this.selectedGroupsArray,e.id)?(this.selectedGroupsArray[t].name=e.name,this.selectedGroupsArray[t].groupId=e.id,this.onGroupAdd(),this.groupsArray[t].name=e.name,this.groupsArray[t].groupId=e.id,this.groupsArray[t].read=!0,this.groupsArray[t].edit=e.edit||!1,this.emitPermissionEvent()):alert("Group already selected")}onReadSelect(e,t){this.selectedViewersArray[t].read=e.checked,this.usersArray[t].read=e.checked,this.emitPermissionEvent()}onDepartmentReadSelect(e,t){this.selectedDepartmentsArray[t].read=e.checked,this.departmentsArray[t].read=e.checked,this.emitPermissionEvent()}onGroupReadSelect(e,t){this.selectedGroupsArray[t].read=e.checked,this.groupsArray[t].read=e.checked,this.emitPermissionEvent()}onEditSelect(e,t){this.selectedViewersArray[t].edit=e.checked,this.usersArray[t].edit=e.checked,this.emitPermissionEvent()}onDepartmentEditSelect(e,t){this.selectedDepartmentsArray[t].edit=e.checked,this.departmentsArray[t].edit=e.checked,this.emitPermissionEvent()}onGroupEditSelect(e,t){this.selectedGroupsArray[t].edit=e.checked,this.groupsArray[t].edit=e.checked,this.emitPermissionEvent()}onallReadSelect(e){this.allUsers.read=e.checked,this.emitPermissionEvent()}emitPermissionEvent(){this.onPermissionChange.emit({manualSyncPermission:this.manualSyncUsersArray,users:this.usersArray,departments:this.departmentsArray,groups:this.groupsArray,all:this.allUsers})}checkIfAlreadySelected(e,t){return e.findIndex(e=>e.employeeId===t)>-1}checkIfDepartmentIsAlreadySelected(e,t){return e.findIndex(e=>e.departmentId===t)>-1}checkIfGroupIsAlreadySelected(e,t){return e.findIndex(e=>e.groupId===t)>-1}removeViewer(e){this.selectedViewersArray.splice(e,1),this.usersArray.splice(e,1),this.emitPermissionEvent()}removeSyncUser(e){this.selectedManualSyncUsersArray.splice(e,1),this.manualSyncUsersArray.splice(e,1),this.emitPermissionEvent()}removeDepartment(e){this.selectedDepartmentsArray.splice(e,1),this.departmentsArray.splice(e,1),this.emitPermissionEvent()}removeGroup(e){this.selectedGroupsArray.splice(e,1),this.groupsArray.splice(e,1),this.emitPermissionEvent()}onApproverSelect(e,t){this.selectedViewersArray.forEach(e=>{e.isApprover=!1}),this.usersArray.forEach(e=>{e.isApprover=!1}),this.selectedViewersArray[t].isApprover=e.checked,this.usersArray[t].isApprover=e.checked,e.checked&&(this.selectedViewersArray[t].read=e.checked,this.usersArray[t].read=e.checked),this.emitPermissionEvent()}}var lv=i["\u0275crt"]({encapsulation:0,styles:[['.add-another[_ngcontent-%COMP%]{height:40px!important;width:126px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #e02020;background-color:#fff}.margin-top-30[_ngcontent-%COMP%]{margin-top:30px}.combo-container[_ngcontent-%COMP%]{flex:1;align-items:center}.anyone-who-has[_ngcontent-%COMP%]{margin-left:5px;opacity:.8;color:#171717;font-family:"IBM Plex Sans";font-size:12px;letter-spacing:.14px;line-height:18px}.all-users-read[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-left:8px}.margin-left-8[_ngcontent-%COMP%]{margin-left:8px}.fill-the-form[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.margin-top-48[_ngcontent-%COMP%]{margin-top:48px}.margin-left-5[_ngcontent-%COMP%]{margin-left:5px}.bx--grid[_ngcontent-%COMP%]{padding:0}.margin-bottom-20[_ngcontent-%COMP%]{margin-bottom:20px}']],data:{}});function uv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function cv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](1,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](2,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","display: flex;align-items: center;margin-bottom: 12px;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](3,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["class","combo-container"],["isDependent","true"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,t,n){var r=!0,o=e.component;return"onSearch"===t&&(r=!1!==o.onSearchUserSync(n,"viewer",e.context.index)&&r),"onSelect"===t&&(r=!1!==o.onSelectedViewUserManualSync(n,e.context.index)&&r),r},ny.b,ny.a)),i["\u0275did"](6,4964352,null,0,ry.a,[i.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"]},{onSearch:"onSearch",onSelect:"onSelect"}),(e()(),i["\u0275eld"](7,0,null,null,4,"div",[["style","flex: 1;"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,uv)),i["\u0275did"](9,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.removeSyncUser(e.context.index)&&r),r},null,null)),i["\u0275did"](11,4210688,null,0,iv.a,[i.ElementRef],null,null)],function(e,t){var n=t.component,r=e(t,4,0,12,12,12);e(t,3,0,"user-search-combo-box",r),e(t,6,0,n.searchedManualSyncUsers,"true",t.context.$implicit.userName),e(t,9,0,null!=t.context.$implicit.employeeId&&""!=t.context.$implicit.employeeId)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).baseClass),e(t,2,0,i["\u0275nov"](t,3).columnClasses)})}function pv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function dv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](1,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](2,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","display: flex;align-items: center;margin-bottom: 12px;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](3,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["class","combo-container"],["isDependent","true"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,t,n){var r=!0,o=e.component;return"onSearch"===t&&(r=!1!==o.onSearchUser(n,"viewer",e.context.index)&&r),"onSelect"===t&&(r=!1!==o.onSelectedViewUser(n,e.context.index)&&r),r},ny.b,ny.a)),i["\u0275did"](6,4964352,null,0,ry.a,[i.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"]},{onSearch:"onSearch",onSelect:"onSelect"}),(e()(),i["\u0275eld"](7,0,null,null,4,"div",[["style","flex: 1;"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,pv)),i["\u0275did"](9,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.removeViewer(e.context.index)&&r),r},null,null)),i["\u0275did"](11,4210688,null,0,iv.a,[i.ElementRef],null,null)],function(e,t){var n=t.component,r=e(t,4,0,12,12,12);e(t,3,0,"user-search-combo-box",r),e(t,6,0,n.searchedUsers,"true",t.context.$implicit.userName),e(t,9,0,null!=t.context.$implicit.employeeId&&""!=t.context.$implicit.employeeId)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).baseClass),e(t,2,0,i["\u0275nov"](t,3).columnClasses)})}function hv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function fv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](1,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](2,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","display: flex;align-items: center;margin-bottom: 12px;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](3,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["class","combo-container"],["isDependent","true"],["placeholder","Search Department"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,t,n){var r=!0,o=e.component;return"onSearch"===t&&(r=!1!==o.onSearchDepartment(n,"viewer",e.context.index)&&r),"onSelect"===t&&(r=!1!==o.onSelectedDepartment(n,e.context.index)&&r),r},ny.b,ny.a)),i["\u0275did"](6,4964352,null,0,ry.a,[i.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"}),(e()(),i["\u0275eld"](7,0,null,null,4,"div",[["style","flex: 1;"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,hv)),i["\u0275did"](9,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.removeDepartment(e.context.index)&&r),r},null,null)),i["\u0275did"](11,4210688,null,0,iv.a,[i.ElementRef],null,null)],function(e,t){var n=t.component,r=e(t,4,0,12,12,12);e(t,3,0,"user-search-combo-box",r),e(t,6,0,n.searchedDepartments,"true",t.context.$implicit.name,"Search Department"),e(t,9,0,null!=t.context.$implicit.departmentId&&""!=t.context.$implicit.departmentId)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).baseClass),e(t,2,0,i["\u0275nov"](t,3).columnClasses)})}function gv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function mv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](1,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](2,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","display: flex;align-items: center;margin-bottom: 12px;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](3,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["class","combo-container"],["isDependent","true"],["placeholder","Search Group"]],null,[[null,"onSearch"],[null,"onSelect"]],function(e,t,n){var r=!0,o=e.component;return"onSearch"===t&&(r=!1!==o.onSearchGroup(n,"viewer",e.context.index)&&r),"onSelect"===t&&(r=!1!==o.onSelectedGroup(n,e.context.index)&&r),r},ny.b,ny.a)),i["\u0275did"](6,4964352,null,0,ry.a,[i.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"}),(e()(),i["\u0275eld"](7,0,null,null,4,"div",[["style","flex: 1;"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,gv)),i["\u0275did"](9,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](10,0,null,null,1,":svg:svg",[["class","close-icon"],["ibmIconClose20",""]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.removeGroup(e.context.index)&&r),r},null,null)),i["\u0275did"](11,4210688,null,0,iv.a,[i.ElementRef],null,null)],function(e,t){var n=t.component,r=e(t,4,0,12,12,12);e(t,3,0,"user-search-combo-box",r),e(t,6,0,n.searchedGroups,"true",t.context.$implicit.name,"Search Group"),e(t,9,0,null!=t.context.$implicit.groupId&&""!=t.context.$implicit.groupId)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).baseClass),e(t,2,0,i["\u0275nov"](t,3).columnClasses)})}function yv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,65,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),i["\u0275did"](1,16384,null,0,Bm.b,[],null,null),(e()(),i["\u0275eld"](2,0,null,null,5,"div",[["ibmRow",""],["style","margin-top: 20px;"]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](3,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](4,0,null,null,3,"small",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Define Users who can perform manual data sync for "])),(e()(),i["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),i["\u0275ted"](7,null,["",""])),(e()(),i["\u0275eld"](8,0,null,null,1,"h1",[["class","margin-top-30 margin-bottom-20"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Individuals"])),(e()(),i["\u0275and"](16777216,null,null,1,null,cv)),i["\u0275did"](11,278528,null,0,Om.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275eld"](12,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](13,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](14,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](15,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](16,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](17,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onAddSyncUser()&&r),r},null,null)),(e()(),i["\u0275eld"](18,0,null,null,0,"hr",[["style","margin-top: 48px;"]],null,null,null,null,null)),(e()(),i["\u0275eld"](19,0,null,null,5,"div",[["ibmRow",""],["style","margin-top: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](20,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](21,0,null,null,3,"small",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Define the read permissions for "])),(e()(),i["\u0275eld"](23,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),i["\u0275ted"](24,null,["",""])),(e()(),i["\u0275eld"](25,0,null,null,1,"h1",[["class","margin-top-30 margin-bottom-20"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Individuals"])),(e()(),i["\u0275and"](16777216,null,null,1,null,dv)),i["\u0275did"](28,278528,null,0,Om.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275eld"](29,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](30,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](31,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](32,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](33,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](34,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onAddViewUser()&&r),r},null,null)),(e()(),i["\u0275eld"](35,0,null,null,1,"h1",[["class","margin-top-30 margin-bottom-20"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Departments"])),(e()(),i["\u0275and"](16777216,null,null,1,null,fv)),i["\u0275did"](38,278528,null,0,Om.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275eld"](39,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](40,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](41,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](42,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](43,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](44,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onAddDepartment()&&r),r},null,null)),(e()(),i["\u0275eld"](45,0,null,null,1,"h1",[["class","margin-top-30 margin-bottom-20"],["style","margin-bottom: 20px;"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Groups"])),(e()(),i["\u0275and"](16777216,null,null,1,null,mv)),i["\u0275did"](48,278528,null,0,Om.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275eld"](49,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](50,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](51,0,null,null,3,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](52,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](53,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](54,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Add another"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onAddGroup()&&r),r},null,null)),(e()(),i["\u0275eld"](55,0,null,null,10,"div",[["class","margin-top-30"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](56,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](57,0,null,null,8,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](58,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](59,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](60,0,null,null,5,"label",[["class","fill-the-form"]],null,null,null,null,null)),(e()(),i["\u0275eld"](61,0,null,null,1,"span",[["style","font-size: 18px;"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Give Read Access to Everyone in the organisation"])),(e()(),i["\u0275eld"](63,0,null,null,2,"ibm-checkbox",[["class","margin-left-5"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],[[null,"change"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.onallReadSelect(n)&&r),r},Ay.b,Ay.a)),i["\u0275prd"](5120,null,Jm.p,function(e){return[e]},[My.a]),i["\u0275did"](65,4243456,null,0,My.a,[i.ChangeDetectorRef],{checked:[0,"checked"]},{change:"change"})],function(e,t){var n=t.component;e(t,11,0,n.selectedManualSyncUsersArray);var r=e(t,16,0,12,12,12);e(t,15,0,r),e(t,28,0,n.selectedViewersArray);var o=e(t,33,0,12,12,12);e(t,32,0,o),e(t,38,0,n.selectedDepartmentsArray);var i=e(t,43,0,12,12,12);e(t,42,0,i),e(t,48,0,n.selectedGroupsArray);var a=e(t,53,0,12,12,12);e(t,52,0,a);var s=e(t,59,0,12,12,12);e(t,58,0,s),e(t,65,0,n.allUsers.read)},function(e,t){var n=t.component;e(t,0,0,i["\u0275nov"](t,1).baseClass),e(t,2,0,i["\u0275nov"](t,3).baseClass),e(t,7,0,n.sapFormName),e(t,12,0,i["\u0275nov"](t,13).baseClass),e(t,14,0,i["\u0275nov"](t,15).columnClasses),e(t,19,0,i["\u0275nov"](t,20).baseClass),e(t,24,0,n.sapFormName),e(t,29,0,i["\u0275nov"](t,30).baseClass),e(t,31,0,i["\u0275nov"](t,32).columnClasses),e(t,39,0,i["\u0275nov"](t,40).baseClass),e(t,41,0,i["\u0275nov"](t,42).columnClasses),e(t,49,0,i["\u0275nov"](t,50).baseClass),e(t,51,0,i["\u0275nov"](t,52).columnClasses),e(t,55,0,i["\u0275nov"](t,56).baseClass),e(t,57,0,i["\u0275nov"](t,58).columnClasses),e(t,63,0,i["\u0275nov"](t,65).checkboxWrapperClass,i["\u0275nov"](t,65).formItemClass)})}class vv{constructor(e,t,n,r){this.sapFormService=e,this._toastrService=t,this.activatedRoute=n,this.router=r,this.queryDetails={},this.queryParameters=[],this.responseMappings=[],this.formPermissions=[],this.isDisable=!0,this.formsLoading=!1,this.isAddMode=!0,this.cronSchedule={}}ngOnInit(){this.isAddMode=-1!=this.router.url.indexOf("add"),this.formsLoading=!0,this.isAddMode?this.formsLoading=!1:this.activatedRoute.params.subscribe(e=>Object(sy.__awaiter)(this,void 0,void 0,function*(){if(this.formid=e.id,this.isAddMode)this.formsLoading=!1;else{const e=(yield this.getFormRecord()).response;this.queryDetails={name:e.name,service_resource:e.service_resource,service_endpoint:e.service_endpoint,dataCaptureFrequency:e.dataCaptureFrequency,modifySAPODATAEntity:e.modifySAPODATAEntity},this.sapFormService.sendMessage(e.name),e.cronSchedule.dayNumber&&"last"===e.cronSchedule.dayNumber?e.cronSchedule.dayNumber={content:"Last Day Of Month",selected:!0}:e.cronSchedule.interval&&(e.cronSchedule.interval={content:"Every "+e.cronSchedule.interval+" hours",value:e.cronSchedule.interval,selected:!0}),this.cronSchedule=e.cronSchedule,e.service_response_map.forEach(t=>{t.deleteExistingResponseMapItems=e.deleteExistingResponseMapItems}),this.queryParameters=e.service_query_params,this.responseMappings=e.service_response_map,this.formPermissions=e.permissions,this.formPermissions.usersWithManualSyncPermission=e.usersWithManualSyncPermission,this.formsLoading=!1,this.formsLoading=!1}}))}fetchDetails(e){this.cronSchedule=e.cronSchedule,this.queryDetails=e.queryDetails,this.queryParameters=e.service_query_params}fetchMapping(e){this.responseMappings=e}fetchPermissions(e){this.formPermissions=e}addForm(){let e={},t=void 0,n=void 0;if(!this.formPermissions||!(this.formPermissions.users&&this.formPermissions.users.length||this.formPermissions.departments&&this.formPermissions.departments.length||this.formPermissions.groups&&this.formPermissions.groups.length||this.formPermissions.all&&this.formPermissions.all.read))return void this._toastrService.error("Please define individuals/departments/groups/organisation level read permission.");{let e=this.formPermissions&&this.formPermissions.users&&this.formPermissions.users.map(e=>({employeeId:e.employeeId,read:e.read,edit:e.edit,fill:e.fill})),r=this.formPermissions&&this.formPermissions.departments&&this.formPermissions.departments.map(e=>({departmentId:e.departmentId,read:e.read,edit:e.edit,fill:e.fill})),o=this.formPermissions&&this.formPermissions.groups&&this.formPermissions.groups.map(e=>({groupId:e.groupId,read:e.read,edit:e.edit,fill:e.fill}));n=this.formPermissions&&this.formPermissions.manualSyncPermission&&this.formPermissions.manualSyncPermission.map(e=>e.employeeId),t={users:e||[],departments:r||[],groups:o||[],all:this.formPermissions&&this.formPermissions.all?this.formPermissions.all:{read:!1,edit:!1}}}let r=this.responseMappings&&this.responseMappings.map(e=>({label:e.label,data_type:e.data_type.value,api_key:e.api_key,isTimeStamp:!!e.isTimeStamp,unitOfMeasurement:e.unitOfMeasurement?e.unitOfMeasurement:""})),o=null;this.cronSchedule&&(this.cronSchedule.hour&&this.cronSchedule.minutes&&this.cronSchedule.period&&(o={hour:this.cronSchedule.hour.content,minutes:this.cronSchedule.minutes.content,period:this.cronSchedule.period.content}),this.cronSchedule.dayNumber&&(o.dayNumber="Last Day Of Month"===this.cronSchedule.dayNumber.content?"last":this.cronSchedule.dayNumber.content)),"Hourly"===this.queryDetails.dataCaptureFrequency.content&&(o={interval:this.cronSchedule.interval.value}),(this.queryParameters||[]).forEach(e=>{delete e.deleteExistingResponseMapItems}),e={name:this.queryDetails.name,service_endpoint:this.queryDetails.service_endpoint.id,service_resource:this.queryDetails.service_resource,service_query_params:this.queryParameters,service_response_map:r,permissions:t,dataCaptureFrequency:this.queryDetails.dataCaptureFrequency.id,cronSchedule:o,manualSyncPermission:n||[]},this.isAddMode?this.sapFormService.addFormData(e).subscribe(e=>{this._toastrService.success("Configuration Saved Successfully"),window.history.back()}):this.sapFormService.patchFormDetails(this.formid,e).subscribe(e=>{this._toastrService.success("Configuration Updated Successfully"),window.history.back()})}getFormRecord(){return Object(sy.__awaiter)(this,void 0,void 0,function*(){return this.sapFormService.getFormDetails(this.formid).toPromise()})}selectTab(e){this.selectedTab=e}next(){this.selectedTab=this.selectedTab+1}prev(){this.selectedTab=this.selectedTab-1}}var bv=i["\u0275crt"]({encapsulation:0,styles:[['.forms-container[_ngcontent-%COMP%]{background-color:#fff;margin-top:10px;padding:32px 32px 20px}.forms-container[_ngcontent-%COMP%]   .metrics-listing-header[_ngcontent-%COMP%]{color:rgba(0,0,0,.85);font-family:"IBM Plex Sans";padding-top:12px;font-size:1.5rem;font-weight:300;line-height:3.125rem;letter-spacing:0}.forms-container[_ngcontent-%COMP%]   .forms-btn-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:row}.forms-container[_ngcontent-%COMP%]   .forms-btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:nth-last-child(1)){margin-right:8px}.forms-container[_ngcontent-%COMP%]   .form-tabs-container[_ngcontent-%COMP%], .forms-container[_ngcontent-%COMP%]   .margin-top-32[_ngcontent-%COMP%]{margin-top:32px}.margin-top-20[_ngcontent-%COMP%]{margin-top:20px!important}.active-status[_ngcontent-%COMP%]{border:1px solid red}.approve-note[_ngcontent-%COMP%]{color:red;margin-top:5px}.add-another[_ngcontent-%COMP%]{height:40px!important;width:80px!important;color:#e02020;font-family:"IBM Plex Sans";font-size:14px;line-height:15px;text-align:center;box-sizing:border-box;border:1px solid #e02020;background-color:#fff}.prev-next[_ngcontent-%COMP%]{margin-left:0;margin-top:12px}.sbmt-btn[_ngcontent-%COMP%]{margin-left:8px;font-size:16px;background-color:#dc222b;border:0;color:#fff;padding:10px;width:100px;cursor:pointer}']],data:{}});function Cv(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](0,null,null,0))],null,null)}function wv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["style","margin-right: 8px;"],["type","button"],["value","Prev"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.prev()&&r),r},null,null))],null,null)}function Ov(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"input",[["class","bx--btn--danger add-another cursor-pointer pseudo-buttons"],["type","button"],["value","Next"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.next()&&r),r},null,null))],null,null)}function xv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](1,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](2,0,null,null,9,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](3,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](4,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](5,0,null,null,6,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](6,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](7,0,null,null,4,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](8,81920,null,0,Bm.a,[],{columnNumbers:[0,"columnNumbers"]},null),i["\u0275pod"](9,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](10,0,null,null,1,"div",[["class","metrics-listing-header"]],null,null,null,null,null)),(e()(),i["\u0275ted"](11,null,[" "," SAP Configuration "])),(e()(),i["\u0275eld"](12,0,null,null,36,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](13,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](14,0,null,null,34,"div",[["class","form-tabs-container"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](15,81920,null,0,Bm.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),i["\u0275pod"](16,{lg:0,md:1,sm:2}),(e()(),i["\u0275eld"](17,0,null,null,23,"ibm-tabs",[],null,null,null,Wm.b,Wm.a)),i["\u0275did"](18,1097728,null,2,zm.a,[],null,null),i["\u0275qud"](603979776,1,{tabs:1}),i["\u0275qud"](335544320,2,{tabHeaders:0}),(e()(),i["\u0275eld"](21,0,null,0,4,"ibm-tab",[["heading","Service Query"]],[[1,"id",0]],[[null,"selected"]],function(e,t,n){var r=!0;return"selected"===t&&(r=!1!==e.component.selectTab(0)&&r),r},Um.b,Um.a)),i["\u0275did"](22,114688,[[1,4]],0,Hm.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(e()(),i["\u0275eld"](23,0,null,0,2,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](24,0,null,null,1,"app-service-query",[],null,[[null,"onDetailsChange"]],function(e,t,n){var r=!0;return"onDetailsChange"===t&&(r=!1!==e.component.fetchDetails(n)&&r),r},Ty,hy)),i["\u0275did"](25,638976,null,0,dy,[ly.a,Pm.j,vm.a],{serviceQuery:[0,"serviceQuery"],parametersList:[1,"parametersList"],cronSchedule:[2,"cronSchedule"]},{onDetailsChange:"onDetailsChange"}),(e()(),i["\u0275eld"](26,0,null,0,4,"ibm-tab",[["heading","Service Response Map"]],[[1,"id",0]],[[null,"selected"]],function(e,t,n){var r=!0;return"selected"===t&&(r=!1!==e.component.selectTab(1)&&r),r},Um.b,Um.a)),i["\u0275did"](27,114688,[[1,4]],0,Hm.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(e()(),i["\u0275eld"](28,0,null,0,2,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](29,0,null,null,1,"app-service-response-map",[],null,[[null,"onMappingChange"]],function(e,t,n){var r=!0;return"onMappingChange"===t&&(r=!1!==e.component.fetchMapping(n)&&r),r},zy,Ry)),i["\u0275did"](30,638976,null,0,ky,[Pm.j,ly.a,Dy.a],{responseList:[0,"responseList"]},{onMappingChange:"onMappingChange"}),(e()(),i["\u0275eld"](31,0,null,0,4,"ibm-tab",[["heading","Test Connection"]],[[1,"id",0]],[[null,"selected"]],function(e,t,n){var r=!0;return"selected"===t&&(r=!1!==e.component.selectTab(2)&&r),r},Um.b,Um.a)),i["\u0275did"](32,114688,[[1,4]],0,Hm.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(e()(),i["\u0275eld"](33,0,null,0,2,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](34,0,null,null,1,"app-test-connection",[],null,null,null,ov,qy)),i["\u0275did"](35,638976,null,0,Xy,[vm.a],{serviceQuery:[0,"serviceQuery"],parametersList:[1,"parametersList"],responseList:[2,"responseList"]},null),(e()(),i["\u0275eld"](36,0,null,0,4,"ibm-tab",[["heading","Permissions"]],[[1,"id",0]],[[null,"selected"]],function(e,t,n){var r=!0;return"selected"===t&&(r=!1!==e.component.selectTab(3)&&r),r},Um.b,Um.a)),i["\u0275did"](37,114688,[[1,4]],0,Hm.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(e()(),i["\u0275eld"](38,0,null,0,2,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](39,0,null,null,1,"app-sap-permissions",[],null,[[null,"onPermissionChange"]],function(e,t,n){var r=!0;return"onPermissionChange"===t&&(r=!1!==e.component.fetchPermissions(n)&&r),r},yv,lv)),i["\u0275did"](40,638976,null,0,sv,[Dy.a,ly.a,av.a,vm.a],{isAddMode:[0,"isAddMode"],permissions:[1,"permissions"],serviceQuery:[2,"serviceQuery"]},{onPermissionChange:"onPermissionChange"}),(e()(),i["\u0275eld"](41,0,null,null,7,"div",[["class","prev-next"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,wv)),i["\u0275did"](43,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ov)),i["\u0275did"](45,16384,null,0,Om.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](46,0,null,null,2,"button",[["class","sbmt-btn"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.addForm()&&r),r},null,null)),(e()(),i["\u0275eld"](47,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Submit"]))],function(e,t){var n=t.component,r=e(t,4,0,12,12,12);e(t,3,0,r);var o=e(t,9,0,5,5,12);e(t,8,0,o);var i=e(t,16,0,12,12,12);e(t,15,0,"form-tabs-container",i),e(t,22,0,"Service Query",0==n.selectedTab),e(t,25,0,n.queryDetails,n.queryParameters,n.cronSchedule),e(t,27,0,"Service Response Map",1==n.selectedTab),e(t,30,0,n.responseMappings),e(t,32,0,"Test Connection",2==n.selectedTab),e(t,35,0,n.queryDetails,n.queryParameters,n.responseMappings),e(t,37,0,"Permissions",3==n.selectedTab),e(t,40,0,n.isAddMode,n.formPermissions,n.queryDetails),e(t,43,0,0!=n.selectedTab),e(t,45,0,3!=n.selectedTab)},function(e,t){var n=t.component;e(t,0,0,i["\u0275nov"](t,1).baseClass),e(t,2,0,i["\u0275nov"](t,3).columnClasses),e(t,5,0,i["\u0275nov"](t,6).baseClass),e(t,7,0,i["\u0275nov"](t,8).columnClasses),e(t,11,0,n.isAddMode?"Add":"Edit"),e(t,12,0,i["\u0275nov"](t,13).baseClass),e(t,14,0,i["\u0275nov"](t,15).columnClasses),e(t,21,0,i["\u0275nov"](t,22).attrClass),e(t,26,0,i["\u0275nov"](t,27).attrClass),e(t,31,0,i["\u0275nov"](t,32).attrClass),e(t,36,0,i["\u0275nov"](t,37).attrClass)})}function Sv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text "]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"],["title","Loading"]],[[2,"bx--loading-overlay",null]],null,null,Uy.b,Uy.a)),i["\u0275did"](2,49152,null,0,Hy.a,[qm.a],{title:[0,"title"],size:[1,"size"]},null),(e()(),i["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Loading..."]))],function(e,t){e(t,2,0,"Loading","sm")},function(e,t){e(t,1,0,i["\u0275nov"](t,2).overlay)})}function Pv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","forms-container"],["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),i["\u0275did"](1,16384,null,0,Bm.b,[],null,null),(e()(),i["\u0275and"](16777216,null,null,1,null,Cv)),i["\u0275did"](3,540672,null,0,Om.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),i["\u0275and"](0,[["result",2]],null,0,null,xv)),(e()(),i["\u0275and"](0,[["loading",2]],null,0,null,Sv))],function(e,t){e(t,3,0,i["\u0275nov"](t,t.component.formsLoading?5:4))},function(e,t){e(t,0,0,i["\u0275nov"](t,1).baseClass)})}function _v(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"app-sap-forms",[],null,null,null,Pv,bv)),i["\u0275did"](1,114688,null,0,vv,[vm.a,Pm.j,Sm.a,Sm.o],null,null)],function(e,t){e(t,1,0)},null)}var Ev=i["\u0275ccf"]("app-sap-forms",vv,_v,{},{},[]),Tv=n("XNiG"),Av=n("Kj3r");class Mv{constructor(e,t,n,r){this.modalService=e,this.toasterService=t,this.confirmationService=n,this.sapService=r,this.title="SAP Configuration approval",this.searchModelChanged=new Tv.a,this.searchQueryText="",this.metricList=[],this.configLists=[]}ngOnInit(){this.logInEmployeeId=localStorage.getItem("E_Id"),this.getForms(),this.searchModelChangeSubscription=this.searchModelChanged.pipe(Object(Av.a)(600)).subscribe(e=>{this.searchQueryText=e,this.getForms()})}getForms(){this.isFormsLoading=!0,this.configLists=[],this.sapService.getApprovalList(this.searchQueryText,!1).subscribe(e=>{e.response.records.forEach(e=>{e.isApproved||this.configLists.push(e)}),this.isFormsLoading=!1},e=>{this.isFormsLoading=!1})}approveConfig(e){this.approval=this.confirmationService.getData().subscribe(t=>{t?this.sapService.approveSAPConfiguration(e).subscribe(e=>{this.toasterService.success(uy.a.SAP_CONFIG_APPROVAL_SUCCESS),this.getForms(),this.confirmationService.setData(!1)}):this.approval&&this.approval.unsubscribe()}),this.modalService.create({component:bm.a,inputs:{modalText:"Are you sure you want to approve?"}})}ngOnDestroy(){this.searchModelChangeSubscription.unsubscribe()}}var Dv=i["\u0275crt"]({encapsulation:0,styles:[['.metric-approval-pending-container[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px;padding-top:3rem}.metric-approval-pending-container[_ngcontent-%COMP%]   .justify-content-flex-end[_ngcontent-%COMP%]{justify-content:flex-end;display:flex}.metric-approval-pending-container[_ngcontent-%COMP%]   .kpi-pending-title[_ngcontent-%COMP%]{color:rgba(0,0,0,.85);font-family:"IBM Plex Sans";font-size:27px;line-height:26px;margin-bottom:36px}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]{padding:2px;height:auto;background:#fff;color:#fff;cursor:pointer}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]   .tag-value.green[_ngcontent-%COMP%]{background-color:#24a249;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 24px;border-radius:22px}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]   .tag-value.orange[_ngcontent-%COMP%]{background-color:#f3a600;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 24px;border-radius:22px}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]   .tag-value.blue[_ngcontent-%COMP%]{background-color:#7598fe;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 24px;border-radius:22px}.metric-approval-pending-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]   .tag-value.gray[_ngcontent-%COMP%]{background-color:#979797;color:#fff;font-family:"IBM Plex Sans";font-size:14px;font-weight:500;line-height:18px;padding:4px 24px;border-radius:22px}.metric-approval-pending-container[_ngcontent-%COMP%]   .align-items-flex-end[_ngcontent-%COMP%]{align-items:flex-end}.metric-approval-pending-container[_ngcontent-%COMP%]   .align-items-flex-center[_ngcontent-%COMP%]{align-items:center}.metric-approval-pending-container[_ngcontent-%COMP%]   .no-padding-max-width-grid[_ngcontent-%COMP%]{padding:0;max-width:none}.metric-approval-pending-container[_ngcontent-%COMP%]   .search-text-input[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px}.metric-approval-pending-container[_ngcontent-%COMP%]   .search-text-input.bx--search-input[_ngcontent-%COMP%]{border-bottom:1px solid #8c8c8c}.metric-approval-pending-container[_ngcontent-%COMP%]   .margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.metric-approval-pending-container[_ngcontent-%COMP%]   .margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTable[_ngcontent-%COMP%]{display:flex;flex-direction:column}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableHead[_ngcontent-%COMP%]{font-size:16px;font-weight:600;display:flex;flex-direction:column;flex-basis:100%;flex:1}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableCell[_ngcontent-%COMP%]{font-size:16px;display:flex;flex-direction:column;flex-basis:100%;flex:1;cursor:pointer}.metric-approval-pending-container[_ngcontent-%COMP%]   .tableHeads[_ngcontent-%COMP%]{height:48px;display:flex;align-items:center;background-color:#f3f3f3;padding:16px}.metric-approval-pending-container[_ngcontent-%COMP%]   .flex-2[_ngcontent-%COMP%]{flex:2!important}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableRowWrapper[_ngcontent-%COMP%]{width:100%;padding:16px;display:flex;align-items:center;border-left:1px solid #f2f3f9;border-bottom:1px solid #f2f3f9;border-top:1px solid #f2f3f9;border-right:1px solid #f2f3f9}.metric-approval-pending-container[_ngcontent-%COMP%]   .rTableRowWrapper.tree-list-child[_ngcontent-%COMP%]{width:calc(100% - 12px)}.metric-approval-pending-container[_ngcontent-%COMP%]   .border-left-blue[_ngcontent-%COMP%]{border-left:5px solid #7598fe}.metric-approval-pending-container[_ngcontent-%COMP%]   .border-left-child-item[_ngcontent-%COMP%]{border-left:5px solid #f3a600}.metric-approval-pending-container[_ngcontent-%COMP%]   .padding-16px[_ngcontent-%COMP%]{padding:16px}.metric-approval-pending-container[_ngcontent-%COMP%]   .padding-top-bottom-16px[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}.metric-approval-pending-container[_ngcontent-%COMP%]   .padding-left-16px[_ngcontent-%COMP%]{padding-left:16px}.metric-approval-pending-container[_ngcontent-%COMP%]   .padding-right-16px[_ngcontent-%COMP%]{padding-right:16px}@media screen and (max-width:992px){.metric-approval-pending-container[_ngcontent-%COMP%]   .align-items-flex-end[_ngcontent-%COMP%], .metric-approval-pending-container[_ngcontent-%COMP%]   .button-goal[_ngcontent-%COMP%]{margin-top:24px}}.metric-approval-pending-container[_ngcontent-%COMP%]   .assinged-to-text[_ngcontent-%COMP%]{color:#bebebe;font-family:"IBM Plex Sans";font-size:10px;line-height:13px}.metric-approval-pending-container[_ngcontent-%COMP%]   .assinged-to-text-normal[_ngcontent-%COMP%]{color:#242425;font-family:"IBM Plex Sans";font-size:10px;line-height:13px}.metric-approval-pending-container[_ngcontent-%COMP%]   .background-blue[_ngcontent-%COMP%]{background-color:#f4f7fe}.metric-approval-pending-container[_ngcontent-%COMP%]   .delivery-schedule-ad[_ngcontent-%COMP%]{color:#414042;font-family:"IBM Plex Sans";font-size:16px;font-weight:500;line-height:20px}.metric-approval-pending-container[_ngcontent-%COMP%]   .percentage-text[_ngcontent-%COMP%]{color:#000;font-family:"IBM Plex Sans";font-size:25px;font-weight:500;line-height:33px}.metric-approval-pending-container[_ngcontent-%COMP%]   .percentage-text-ytd[_ngcontent-%COMP%]{color:#9f9f9f;font-family:"IBM Plex Sans";font-size:12px;line-height:15px}.metric-approval-pending-container[_ngcontent-%COMP%]   .d-p[_ngcontent-%COMP%], .metric-approval-pending-container[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{color:#9f9f9f;font-family:"IBM Plex Sans";font-size:16px;line-height:20px}.metric-approval-pending-container[_ngcontent-%COMP%]   .svg-red[_ngcontent-%COMP%]{width:16px;height:16px;fill:red}.metric-approval-pending-container[_ngcontent-%COMP%]   .svg-green[_ngcontent-%COMP%]{width:16px;height:16px;fill:green}.metric-approval-pending-container[_ngcontent-%COMP%]   .display-inline[_ngcontent-%COMP%]{display:inline}.metric-approval-pending-container[_ngcontent-%COMP%]   .view-action-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.metric-approval-pending-container[_ngcontent-%COMP%]   .details-right-arrow[_ngcontent-%COMP%]{fill:#fff}.metric-approval-pending-container[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:space-around;background:#da1e28;cursor:pointer}.tree-list-parent[_ngcontent-%COMP%]{position:relative;width:100%}.tree-list-parent[_ngcontent-%COMP%]   .tree-list-child[_ngcontent-%COMP%]{margin:12px;position:relative;border-left:5px solid #f3a600}.tree-list-parent[_ngcontent-%COMP%]   .tree-list-child[_ngcontent-%COMP%]::before{position:absolute;content:"";width:1em;left:-17px;top:-118%;z-index:0;height:170%;border-left:1px solid #bebebe;border-bottom:1px solid #bebebe}.metadiv[_ngcontent-%COMP%]{padding:16px;border-left:1px solid #8080804a;border-right:1px solid #8080803b;border-bottom:1px solid #8080803b}.center-loader-text[_ngcontent-%COMP%]{display:flex;align-items:center}.inline[_ngcontent-%COMP%]{display:inline-block}.margin-bottom-16[_ngcontent-%COMP%]{margin-bottom:1em}.width10[_ngcontent-%COMP%]{width:10%!important}.width20[_ngcontent-%COMP%]{width:20%!important}.width30[_ngcontent-%COMP%]{width:30%!important}.elipsis[_ngcontent-%COMP%]{max-width:310px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:block!important}']],data:{}});function kv(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](0,null,null,0))],null,null)}function Rv(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](0,null,null,0))],null,null)}function Iv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","bx--search"],["data-search",""],["role","search"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,5,"input",[["class","bx--search-input search-text-input"],["id","search__input-kpi"],["placeholder","Search by configuration Name"],["style","border-bottom: none;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,o=e.component;return"input"===t&&(r=!1!==i["\u0275nov"](e,2)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==i["\u0275nov"](e,2).onTouched()&&r),"compositionstart"===t&&(r=!1!==i["\u0275nov"](e,2)._compositionStart()&&r),"compositionend"===t&&(r=!1!==i["\u0275nov"](e,2)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(o.searchQueryText=n)&&r),"ngModelChange"===t&&(r=!1!==o.searchModelChanged.next(n)&&r),r},null,null)),i["\u0275did"](2,16384,null,0,Jm.c,[i.Renderer2,i.ElementRef,[2,Jm.a]],null,null),i["\u0275prd"](1024,null,Jm.p,function(e){return[e]},[Jm.c]),i["\u0275did"](4,671744,null,0,Jm.u,[[8,null],[8,null],[8,null],[6,Jm.p]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Jm.q,null,[Jm.u]),i["\u0275did"](6,16384,null,0,Jm.r,[[4,Jm.q]],null,null),(e()(),i["\u0275eld"](7,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","bx--search-magnifier"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 16 16"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(e()(),i["\u0275eld"](8,0,null,null,0,":svg:path",[["d","M15 14.3L10.7 10c1.9-2.3 1.6-5.8-.7-7.7S4.2.7 2.3 3 .7 8.8 3 10.7c2 1.7 5 1.7 7 0l4.3 4.3.7-.7zM2 6.5C2 4 4 2 6.5 2S11 4 11 6.5 9 11 6.5 11 2 9 2 6.5z"]],null,null,null,null,null))],function(e,t){e(t,4,0,t.component.searchQueryText)},function(e,t){e(t,1,0,i["\u0275nov"](t,6).ngClassUntouched,i["\u0275nov"](t,6).ngClassTouched,i["\u0275nov"](t,6).ngClassPristine,i["\u0275nov"](t,6).ngClassDirty,i["\u0275nov"](t,6).ngClassValid,i["\u0275nov"](t,6).ngClassInvalid,i["\u0275nov"](t,6).ngClassPending)})}function Nv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,8,"div",[["class","rTableRow margin-bottom-16"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,7,"div",[["class","rTableRowWrapper"]],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,1,"div",[["class","rTableCell width20 Width140"]],null,null,null,null,null)),(e()(),i["\u0275ted"](4,null,[" "," "])),(e()(),i["\u0275eld"](5,0,null,null,4,"div",[["class","rTableCell width10 align-items-flex-center"]],null,null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](7,0,null,null,2,"button",[["class","accpt-btn"],["ibmButton","danger"],["title","Approve"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.approveConfig(e.context.$implicit._id)&&r),r},null,null)),i["\u0275did"](8,16384,null,0,fm.a,[],{ibmButton:[0,"ibmButton"]},null),(e()(),i["\u0275ted"](-1,null,[" Approve "]))],function(e,t){e(t,8,0,"danger")},function(e,t){e(t,4,0,t.context.$implicit.name),e(t,7,1,[i["\u0275nov"](t,8).baseClass,i["\u0275nov"](t,8).primaryButton,i["\u0275nov"](t,8).secondaryButton,i["\u0275nov"](t,8).tertiaryButton,i["\u0275nov"](t,8).ghostButton,i["\u0275nov"](t,8).dangerButton,i["\u0275nov"](t,8).dangerPrimaryButton,i["\u0275nov"](t,8).skeleton,i["\u0275nov"](t,8).smallSize,i["\u0275nov"](t,8).toolbarAction,i["\u0275nov"](t,8).overflowMenu])})}function Fv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,10,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](1,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](2,0,null,null,8,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](3,81920,null,0,Bm.a,[],null,null),(e()(),i["\u0275eld"](4,0,null,null,4,"div",[["class","rTableRow tableHeads"]],null,null,null,null,null)),(e()(),i["\u0275eld"](5,0,null,null,2,"div",[["class","rTableHead width20 Width140"]],null,null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Configuration Name"])),(e()(),i["\u0275eld"](8,0,null,null,0,"div",[["class","rTableHead"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Nv)),i["\u0275did"](10,278528,null,0,Om.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,3,0),e(t,10,0,n.configLists)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).baseClass),e(t,2,0,i["\u0275nov"](t,3).columnClasses)})}function Lv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text "]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline "],["size","sm"]],[[2,"bx--loading-overlay",null]],null,null,Uy.b,Uy.a)),i["\u0275did"](2,49152,null,0,Hy.a,[qm.a],{title:[0,"title"],size:[1,"size"]},null),(e()(),i["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Loading..."]))],function(e,t){e(t,2,0,t.component.loadingText,"sm")},function(e,t){e(t,1,0,i["\u0275nov"](t,2).overlay)})}function jv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,8,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](1,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](2,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](3,81920,null,0,Bm.a,[],null,null),(e()(),i["\u0275eld"](4,0,null,null,4,"div",[["class","rTableRow tableHeads"]],null,null,null,null,null)),(e()(),i["\u0275eld"](5,0,null,null,2,"div",[["class","rTableHead width20 Width140"]],null,null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Configuration Name"])),(e()(),i["\u0275eld"](8,0,null,null,0,"div",[["class","rTableHead"]],null,null,null,null,null)),(e()(),i["\u0275eld"](9,0,null,null,1,"div",[["class","metadiv "]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["No results found!"]))],function(e,t){e(t,3,0)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).baseClass),e(t,2,0,i["\u0275nov"](t,3).columnClasses)})}function Gv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,13,"div",[["class","metric-approval-pending-container no-padding-max-width-grid"],["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),i["\u0275did"](1,16384,null,0,Bm.b,[],null,null),(e()(),i["\u0275eld"](2,0,null,null,1,"h1",[["class","kpi-pending-title"]],null,null,null,null,null)),(e()(),i["\u0275ted"](3,null,[" "," "])),(e()(),i["\u0275eld"](4,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" (Before approval, you can verify the form fields in SAP forms listing.) "])),(e()(),i["\u0275eld"](6,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),i["\u0275did"](7,16384,null,0,Bm.c,[],null,null),(e()(),i["\u0275eld"](8,0,null,null,3,"div",[["ibmCol",""],["style","margin-bottom: 10px;"]],[[8,"className",0]],null,null,null,null)),i["\u0275did"](9,81920,null,0,Bm.a,[],null,null),(e()(),i["\u0275and"](16777216,null,null,1,null,kv)),i["\u0275did"](11,540672,null,0,Om.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Rv)),i["\u0275did"](13,540672,null,0,Om.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),i["\u0275and"](0,[["searchTemplate",2]],null,0,null,Iv)),(e()(),i["\u0275and"](0,[["result",2]],null,0,null,Fv)),(e()(),i["\u0275and"](0,[["loading",2]],null,0,null,Lv)),(e()(),i["\u0275and"](0,[["noresults",2]],null,0,null,jv))],function(e,t){var n=t.component;e(t,9,0),e(t,11,0,i["\u0275nov"](t,14)),e(t,13,0,i["\u0275nov"](t,n.isFormsLoading?16:n.configLists&&n.configLists.length?15:17))},function(e,t){var n=t.component;e(t,0,0,i["\u0275nov"](t,1).baseClass),e(t,3,0,n.title),e(t,6,0,i["\u0275nov"](t,7).baseClass),e(t,8,0,i["\u0275nov"](t,9).columnClasses)})}function Vv(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"app-approval-list",[],null,null,null,Gv,Dv)),i["\u0275did"](1,245760,null,0,Mv,[_m.a,Pm.j,Cm.a,vm.a],null,null)],function(e,t){e(t,1,0)},null)}var Bv=i["\u0275ccf"]("app-approval-list",Mv,Vv,{},{},[]),Wv=n("1Txd"),zv=n("+jrW"),Uv=n("NpSD"),Hv=n("cbbC"),Kv=n("Gv0t"),Xv=n("cN2v"),qv=n("gKtx"),Yv=n("GRwY"),Jv=n("P08G"),Qv=n("quVZ"),Zv=n("t7MO"),$v=n("GcOC"),eb=n("I0pH"),tb=n("ZHEK"),nb=n("RJDq"),rb=n("U6oK"),ob=n("QQfA"),ib=n("IP0z"),ab=n("POq0"),sb=n("BTng"),lb=n("/HVE"),ub=n("uvqg"),cb=n("f8KH"),pb=n("maoM"),db=n("Z3BZ"),hb=n("pQSL"),fb=n("XX5M"),gb=n("Mc5n"),mb=n("hOhj");class yb{}var vb=n("nU9L"),bb=n("+IpF"),Cb=n("jQIA"),wb=n("+NSx"),Ob=n("jPU2"),xb=n("h6sn"),Sb=n("nXcq"),Pb=n("eUdb"),_b=n("SpJC"),Eb=n("IxoR"),Tb=n("P5T4"),Ab=n("H+bR"),Mb=n("nhzO"),Db=n("cbyg"),kb=n("niTG"),Rb=n("XBWk"),Ib=n("4UMp"),Nb=n("5F/F"),Fb=n("3ezH"),Lb=n("zMNK"),jb=n("5GAg"),Gb=n("Lb5T"),Vb=n("ctAq"),Bb=n("kEMu"),Wb=n("vjI9"),zb=n("yKc8"),Ub=n("ezSh"),Hb=n("pVHs"),Kb=n("ixoK"),Xb=n("LuTi"),qb=n("h5jA"),Yb=n("9Ntg"),Jb=n("wqUn"),Qb=n("HSTZ"),Zb=n("OZcg"),$b=n("nw/W"),eC=n("EJfY"),tC=n("Tl03"),nC=n("TnPb"),rC=n("4CUH"),oC=n("yY6o"),iC=n("+5LG"),aC=n("9LTo"),sC=n("YQsh"),lC=n("r4fo"),uC=n("Cp+m"),cC=n("md77"),pC=n("KsYJ"),dC=n("/swn"),hC=n("aWPX"),fC=n("GMRT"),gC=n("+Inj"),mC=n("UWdB"),yC=n("kdZC"),vC=n("BeZq"),bC=n("bzBv"),CC=n("RCvU"),wC=n("F5Q9"),OC=n("yFBK");n.d(t,"SapFormModuleNgFactory",function(){return xC});var xC=i["\u0275cmf"](dm,[],function(e){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[hm.a,Mm,Vm,Ev,Bv,Wv.a,zv.c,zv.d,Uv.a,Hv.a,Kv.a,Xv.a,qv.a,Yv.a,Jv.a,Qv.a,Zv.a,$v.a,eb.a]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,Om.NgLocalization,Om.NgLocaleLocalization,[i.LOCALE_ID,[2,Om["\u0275angular_packages_common_common_a"]]]),i["\u0275mpd"](4608,Jm.C,Jm.C,[]),i["\u0275mpd"](4608,Jm.f,Jm.f,[]),i["\u0275mpd"](5120,qm.a,tb.a,[[3,qm.a]]),i["\u0275mpd"](5120,nb.a,rb.a,[[3,nb.a]]),i["\u0275mpd"](4608,Ym.a,Ym.a,[nb.a]),i["\u0275mpd"](4608,ob.b,ob.b,[ob.h,ob.d,i.ComponentFactoryResolver,ob.g,ob.e,i.Injector,i.NgZone,Om.DOCUMENT,ib.b,[2,Om.Location]]),i["\u0275mpd"](5120,ob.i,ob.j,[ob.b]),i["\u0275mpd"](4608,ab.a,ab.a,[]),i["\u0275mpd"](5120,sb.s,sb.t,[ob.b]),i["\u0275mpd"](4608,sb.v,sb.v,[ob.b,i.Injector,[2,Om.Location],sb.s,[2,sb.u],[3,sb.v],ob.d]),i["\u0275mpd"](4608,sb.f,sb.f,[]),i["\u0275mpd"](5120,sb.o,sb.p,[ob.b]),i["\u0275mpd"](4608,sb.a,sb.m,[[2,sb.c],lb.a]),i["\u0275mpd"](5120,ub.a,cb.a,[[3,ub.a]]),i["\u0275mpd"](4608,_m.a,_m.a,[i.ComponentFactoryResolver,nb.a]),i["\u0275mpd"](4608,pb.a,pb.a,[i.ComponentFactoryResolver,i.Injector,nb.a]),i["\u0275mpd"](4608,db.a,db.a,[hb.a]),i["\u0275mpd"](4608,Dy.a,Dy.a,[hb.a]),i["\u0275mpd"](4608,av.a,av.a,[hb.a]),i["\u0275mpd"](4608,fb.a,fb.a,[hb.a]),i["\u0275mpd"](4608,ly.a,ly.a,[hb.a]),i["\u0275mpd"](4608,gb.b,gb.b,[Om.DOCUMENT,i.NgZone,mb.d,gb.d]),i["\u0275mpd"](4608,km.a,km.a,[hb.a]),i["\u0275mpd"](4608,vm.a,vm.a,[hb.a]),i["\u0275mpd"](4608,Cm.a,Cm.a,[]),i["\u0275mpd"](1073742336,Om.CommonModule,Om.CommonModule,[]),i["\u0275mpd"](1073742336,Sm.s,Sm.s,[[2,Sm.x],[2,Sm.o]]),i["\u0275mpd"](1073742336,yb,yb,[]),i["\u0275mpd"](1073742336,vb.a,vb.a,[]),i["\u0275mpd"](1073742336,Jm.B,Jm.B,[]),i["\u0275mpd"](1073742336,Jm.l,Jm.l,[]),i["\u0275mpd"](1073742336,Jm.x,Jm.x,[]),i["\u0275mpd"](1073742336,bb.c,bb.c,[]),i["\u0275mpd"](1073742336,Cb.a,Cb.a,[]),i["\u0275mpd"](1073742336,tb.c,tb.c,[]),i["\u0275mpd"](1073742336,rb.b,rb.b,[]),i["\u0275mpd"](1073742336,wb.c,wb.c,[]),i["\u0275mpd"](1073742336,Ob.a,Ob.a,[]),i["\u0275mpd"](1073742336,xb.a,xb.a,[]),i["\u0275mpd"](1073742336,Sb.a,Sb.a,[]),i["\u0275mpd"](1073742336,Pb.c,Pb.c,[]),i["\u0275mpd"](1073742336,_b.a,_b.a,[]),i["\u0275mpd"](1073742336,Eb.a,Eb.a,[]),i["\u0275mpd"](1073742336,Tb.a,Tb.a,[]),i["\u0275mpd"](1073742336,Ab.a,Ab.a,[]),i["\u0275mpd"](1073742336,Mb.a,Mb.a,[]),i["\u0275mpd"](1073742336,Db.a,Db.a,[]),i["\u0275mpd"](1073742336,kb.c,kb.c,[]),i["\u0275mpd"](1073742336,Rb.c,Rb.c,[]),i["\u0275mpd"](1073742336,Ib.a,Ib.a,[]),i["\u0275mpd"](1073742336,Nb.a,Nb.a,[]),i["\u0275mpd"](1073742336,Fb.a,Fb.a,[]),i["\u0275mpd"](1073742336,ib.a,ib.a,[]),i["\u0275mpd"](1073742336,Lb.f,Lb.f,[]),i["\u0275mpd"](1073742336,lb.b,lb.b,[]),i["\u0275mpd"](1073742336,mb.b,mb.b,[]),i["\u0275mpd"](1073742336,ob.f,ob.f,[]),i["\u0275mpd"](1073742336,ab.b,ab.b,[]),i["\u0275mpd"](1073742336,jb.a,jb.a,[]),i["\u0275mpd"](1073742336,sb.q,sb.q,[]),i["\u0275mpd"](1073742336,sb.g,sb.g,[]),i["\u0275mpd"](1073742336,sb.i,sb.i,[]),i["\u0275mpd"](1073742336,sb.h,sb.h,[]),i["\u0275mpd"](1073742336,Gb.b,Gb.b,[]),i["\u0275mpd"](1073742336,iv.b,iv.b,[]),i["\u0275mpd"](1073742336,cb.b,cb.b,[]),i["\u0275mpd"](1073742336,Vb.b,Vb.b,[]),i["\u0275mpd"](1073742336,Bb.a,Bb.a,[]),i["\u0275mpd"](1073742336,Wb.b,Wb.b,[]),i["\u0275mpd"](1073742336,zb.a,zb.a,[]),i["\u0275mpd"](1073742336,Ub.a,Ub.a,[]),i["\u0275mpd"](1073742336,Hb.a,Hb.a,[]),i["\u0275mpd"](1073742336,Kb.c,Kb.c,[]),i["\u0275mpd"](1073742336,Xb.d,Xb.d,[]),i["\u0275mpd"](1073742336,qb.c,qb.c,[]),i["\u0275mpd"](1073742336,Yb.c,Yb.c,[]),i["\u0275mpd"](1073742336,Jb.b,Jb.b,[]),i["\u0275mpd"](1073742336,Qb.a,Qb.a,[]),i["\u0275mpd"](1073742336,Zb.a,Zb.a,[]),i["\u0275mpd"](1073742336,$b.b,$b.b,[]),i["\u0275mpd"](1073742336,eC.a,eC.a,[]),i["\u0275mpd"](1073742336,tC.a,tC.a,[]),i["\u0275mpd"](1073742336,gb.c,gb.c,[]),i["\u0275mpd"](1073742336,gm.b,gm.b,[]),i["\u0275mpd"](1073742336,nC.b,nC.b,[]),i["\u0275mpd"](1073742336,rC.b,rC.b,[]),i["\u0275mpd"](1073742336,oC.b,oC.b,[]),i["\u0275mpd"](1073742336,iC.a,iC.a,[]),i["\u0275mpd"](1073742336,aC.b,aC.b,[]),i["\u0275mpd"](1073742336,sC.b,sC.b,[]),i["\u0275mpd"](1073742336,lC.a,lC.a,[]),i["\u0275mpd"](1073742336,uC.b,uC.b,[]),i["\u0275mpd"](1073742336,Ky.b,Ky.b,[]),i["\u0275mpd"](1073742336,cC.b,cC.b,[]),i["\u0275mpd"](1073742336,ty.b,ty.b,[]),i["\u0275mpd"](1073742336,pC.b,pC.b,[]),i["\u0275mpd"](1073742336,dC.b,dC.b,[]),i["\u0275mpd"](1073742336,hC.b,hC.b,[]),i["\u0275mpd"](1073742336,fC.b,fC.b,[]),i["\u0275mpd"](1073742336,gC.a,gC.a,[]),i["\u0275mpd"](1073742336,mC.c,mC.c,[]),i["\u0275mpd"](1073742336,yC.b,yC.b,[]),i["\u0275mpd"](1073742336,vC.b,vC.b,[]),i["\u0275mpd"](1073742336,ey.b,ey.b,[]),i["\u0275mpd"](1073742336,bC.b,bC.b,[]),i["\u0275mpd"](1073742336,CC.b,CC.b,[]),i["\u0275mpd"](1073742336,Dm.b,Dm.b,[]),i["\u0275mpd"](1073742336,wC.a,wC.a,[]),i["\u0275mpd"](1073742336,ym.c,ym.c,[]),i["\u0275mpd"](1073742336,dm,dm,[]),i["\u0275mpd"](1024,Sm.m,function(){return[[{path:"list",component:xm},{path:"forms",component:Fm},{path:"add",component:vv},{path:"edit/:id",component:vv},{path:"approval",component:Mv}],[{path:"",component:OC.a}]]},[]),i["\u0275mpd"](256,sb.b,sb.n,[])])})},XdKZ:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=n("8Y7J"),o=n("O9pe"),i=function(){function e(){this.focusable=!1}return e.decorators=[{type:r.Component,args:[{selector:"ibm-icon-document-export20",template:'\n    <svg\n      ibmIconDocumentExport20\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],e.propDecorators={ariaLabel:[{type:r.Input}],ariaLabelledby:[{type:r.Input}],ariaHidden:[{type:r.Input}],title:[{type:r.Input}],focusable:[{type:r.Input}],innerClass:[{type:r.Input}]},e}(),a=function(){function e(e){this.elementRef=e,this.isFocusable=!1}return e.prototype.ngAfterViewInit=function(){var t=this.elementRef.nativeElement;t.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M13 21h13.17l-2.58 2.59L25 25l5-5-5-5-1.41 1.41L26.17 19H13v2z"></path><path d="M22 14v-4a1 1 0 0 0-.29-.71l-7-7A1 1 0 0 0 14 2H4a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2h-2v2H4V4h8v6a2 2 0 0 0 2 2h6v2zm-8-4V4.41L19.59 10z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)t.appendChild(t.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var r=Object(o.a)({width:20,height:20,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),i=Object.keys(r),a=0;a<i.length;a++){var s=i[a],l=r[s];"title"!==s&&l&&t.setAttribute(s,l)}if(r.title){var u=document.createElement("title");u.textContent=r.title,u.setAttribute("id","document-export20-"+ ++e.titleIdCounter),t.appendChild(u),t.setAttribute("aria-labelledby","document-export20-"+e.titleIdCounter)}},e.titleIdCounter=0,e.decorators=[{type:r.Directive,args:[{selector:"[ibmIconDocumentExport20]"}]}],e.ctorParameters=function(){return[{type:r.ElementRef}]},e.propDecorators={ariaLabel:[{type:r.Input}],ariaLabelledby:[{type:r.Input}],ariaHidden:[{type:r.Input}],title:[{type:r.Input}],isFocusable:[{type:r.Input}]},e}(),s=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{declarations:[i,a],exports:[i,a]}]}],e}()},bzBv:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=n("8Y7J"),o=n("O9pe"),i=function(){function e(){this.focusable=!1}return e.decorators=[{type:r.Component,args:[{selector:"ibm-icon-notebook-reference20",template:'\n    <svg\n      ibmIconNotebookReference20\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],e.propDecorators={ariaLabel:[{type:r.Input}],ariaLabelledby:[{type:r.Input}],ariaHidden:[{type:r.Input}],title:[{type:r.Input}],focusable:[{type:r.Input}],innerClass:[{type:r.Input}]},e}(),a=function(){function e(e){this.elementRef=e,this.isFocusable=!1}return e.prototype.ngAfterViewInit=function(){var t=this.elementRef.nativeElement;t.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M4 20v2h3.586L2 27.586 3.414 29 9 23.414V27h2v-7H4zm15-10h7v2h-7zm0 5h7v2h-7zm0 5h7v2h-7z"></path><path d="M28 5H4a2.002 2.002 0 0 0-2 2v10h2V7h11v20h13a2.002 2.002 0 0 0 2-2V7a2.002 2.002 0 0 0-2-2zM17 25V7h11l.002 18z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)t.appendChild(t.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var r=Object(o.a)({width:20,height:20,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),i=Object.keys(r),a=0;a<i.length;a++){var s=i[a],l=r[s];"title"!==s&&l&&t.setAttribute(s,l)}if(r.title){var u=document.createElement("title");u.textContent=r.title,u.setAttribute("id","notebook-reference20-"+ ++e.titleIdCounter),t.appendChild(u),t.setAttribute("aria-labelledby","notebook-reference20-"+e.titleIdCounter)}},e.titleIdCounter=0,e.decorators=[{type:r.Directive,args:[{selector:"[ibmIconNotebookReference20]"}]}],e.ctorParameters=function(){return[{type:r.ElementRef}]},e.propDecorators={ariaLabel:[{type:r.Input}],ariaLabelledby:[{type:r.Input}],ariaHidden:[{type:r.Input}],title:[{type:r.Input}],isFocusable:[{type:r.Input}]},e}(),s=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{declarations:[i,a],exports:[i,a]}]}],e}()}}]);