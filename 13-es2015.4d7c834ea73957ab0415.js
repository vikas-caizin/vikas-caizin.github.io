(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+91U":function(l,e,n){"use strict";n.d(e,"a",function(){return h});var t=n("mrSG"),i=n("s7LF"),a=(n("PsxR"),n("wd/R")),u=(n("qHnB"),n("SVse")),o=(n("ciZX"),n("9XGM")),r=(n("Z725"),n("bl9C")),s=n("cp0P"),d=n("Kj3r"),c=(n("+Kk7"),n("XX5M"),n("Z3BZ"),n("HTWL")),p=n("LvDl"),m=n.n(p),g=n("H5zC");class h{constructor(l,e,n,t,i,a,u,o,r,s,d){this.goalService=l,this.settingsService=e,this.calenderService=n,this.formBuilder=t,this._toastrService=i,this.router=a,this.modalService=u,this.confirmationService=o,this.activatedRoute=r,this.kpiService=s,this.metricsService=d,this.deploymentTreeConfig=null,this.followFocus=!0,this.isNavigation=!1,this.isAddMode=!0,this.cards=[],this.captureDataMap=new Map,this.weeklyItems=[],this.dailyItems=[],this.shiftWiseItems=[],this.actionLimit="PRAGMATIC",this.disablePragmaticRadioOption=!1,this.showKpiTarget=!1,this.showTargetCheckbox=!1,this.supportedAttachmentFormats="image/png,image/jpeg,image/jpg,.csv,.doc,.docx,.odf,application/pdf,,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",this.monthlyItems=[],this.yearItems=[{name:1,content:"19-20",selected:!1,startDate:"",endDate:""}],this.QuaterlyItems=[],this.halfYearlyItems=[{name:1,content:"(Apr-Sep)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""},{name:2,content:"(Oct-Mar)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""}],this.KpiItems=[],this.dateArrayDiff=[],this.categoryItems=[],this.shiftItems=[],this.items=[{content:"1"},{content:"2"}],this.directionOfGoodness=[{content:"Higher the better",value:"Up",selected:!1},{content:"Lower the better",value:"Down",selected:!1}],this.ytdCalculation=[{content:"Sum",value:"SUM",selected:!1},{content:"Average",value:"AVG",selected:!1},{content:"Mean",value:"MEAN",selected:!1},{content:"Latest",value:"LATEST",selected:!1},{content:"Custom Formula",value:"FORMULA",selected:!1}],this.weekNumberItems=[{content:"1",selected:!1,isCurrentWeek:!1,name:1}],this.captureFrequencyItems=[],this.filteredFrequencyItems=[],this.filteredReviewFrequencyItems=[],this.perspectiveItems=[],this.unitOfMeasurementItems=[],this.weightageIetms=[],this.reviewItems=[],this.currentid="",this.value=[],this.labelDate="Date Picker Label",this.placeholderDate="mm/dd/yyyy",this.placeholder="mm/dd/yyyy",this.invalidText="Invalid date format",this.dateFormat="m/d/Y",this.invalid=!1,this.disabled=!1,this.valueChange="Date change fired!",this.label="Date Picker Label",this.onChange="Change fired!",this.onIndeterminateChange="Indeterminate change fired!",this.hideLabel=!1,this.autocomplete="off",this.viewers=[],this.owners=[],this.groups=[],this.prevValue=0,this.nextValue=7,this.departmentList=[],this.parentList=[],this.previousFileArray=[{id:"",name:"",url:""}],this.savedcaptureData=[],this.selectedShifttem=[],this.hourlyShifttem=[{name:"1",selected:!1,target:"",lower:"",upper:"",startDate:"00AM",endDate:"1AM",content:"00AM - 1AM"},{name:"2",selected:!1,target:"",lower:"",upper:"",startDate:"1AM",endDate:"2AM",content:"1AM - 2 AM"},{name:"3",selected:!1,target:"",lower:"",upper:"",startDate:"2AM",endDate:"3AM",content:"2 AM - 3 AM"},{name:"4",selected:!1,target:"",lower:"",upper:"",startDate:"3AM",endDate:"4AM",content:"3 AM - 4 AM"},{name:"5",selected:!1,target:"",lower:"",upper:"",startDate:"4AM",endDate:"5AM",content:"4 AM - 5 AM"},{name:"6",selected:!1,target:"",lower:"",upper:"",startDate:"5AM",endDate:"6AM",content:"5 AM - 6 AM"},{name:"7",selected:!1,target:"",lower:"",upper:"",startDate:"6AM",endDate:"7AM",content:"6 AM - 7 AM"},{name:"8",selected:!1,target:"",lower:"",upper:"",startDate:"7AM",endDate:"8AM",content:"7 AM - 8 AM"},{name:"9",selected:!1,target:"",lower:"",upper:"",startDate:"8AM",endDate:"9AM",content:"8 AM - 9 AM"},{name:"10",selected:!1,target:"",lower:"",upper:"",startDate:"9AM",endDate:"10AM",content:"9 AM - 10 AM"},{name:"11",selected:!1,target:"",lower:"",upper:"",startDate:"10AM",endDate:"11AM",content:"10 AM - 11 AM"},{name:"12",selected:!1,target:"",lower:"",upper:"",startDate:"11AM",endDate:"12AM",content:"11 AM - 12 PM"},{name:"13",selected:!1,target:"",lower:"",upper:"",startDate:"12AM",endDate:"1PM",content:"12 PM - 1 PM"},{name:"14",selected:!1,target:"",lower:"",upper:"",startDate:"1PM",endDate:"2PM",content:"1 PM - 2 PM"},{name:"15",selected:!1,target:"",lower:"",upper:"",startDate:"2PM",endDate:"3PM",content:"2 PM - 3 PM"},{name:"16",selected:!1,target:"",lower:"",upper:"",startDate:"3PM",endDate:"4PM",content:"3 PM - 4 PM"},{name:"17",selected:!1,target:"",lower:"",upper:"",startDate:"4PM",endDate:"5PM",content:"4 PM - 5 PM"},{name:"18",selected:!1,target:"",lower:"",upper:"",startDate:"5PM",endDate:"6PM",content:"5 PM - 6 PM"},{name:"19",selected:!1,target:"",lower:"",upper:"",startDate:"6PM",endDate:"7PM",content:"6 PM - 7 PM"},{name:"20",selected:!1,target:"",lower:"",upper:"",startDate:"7PM",endDate:"8PM",content:"7 PM - 8 PM"},{name:"21",selected:!1,target:"",lower:"",upper:"",startDate:"8PM",endDate:"9PM",content:"8 PM - 9 PM"},{name:"22",selected:!1,target:"",lower:"",upper:"",startDate:"9PM",endDate:"10PM",content:"9 PM - 10 PM"},{name:"23",selected:!1,target:"",lower:"",upper:"",startDate:"10PM",endDate:"11PM",content:"10 PM - 11 PM"},{name:"24",selected:!1,target:"",lower:"",upper:"",startDate:"11PM",endDate:"00AM",content:"11 PM - 00 AM"}],this.yearList=[],this.hoverTrue=!1,this.canEdit=!1,this.isNextYear=!1,this.ytdTargetFormulaList=[],this.ytdTargetSearch="",this.ytdActualSearch="",this.ytdActualFormulaList=[],this.noParentKpi=!1,this.reviewItemsBackUp=[],this.holidays=[],this.searchedFormsForStratify=[],this.targetFormFieldList=[],this.searchedUpperLimitMetrics=[],this.searchedLowerLimitMetrics=[],this.dataCaptureFrequencyAggrLogicItems=[{content:"Sum",value:"SUM"},{content:"Average",value:"AVG"}],this.expandAccordianItems=!0;for(let c=1;c<=100;c++)this.weightageIetms.push({content:c,selected:!1});this.createForm()}ngOnInit(){return Object(t.__awaiter)(this,void 0,void 0,function*(){if(this.isPreviousYear=!1,this.isAddMode=-1!=this.router.url.indexOf("add"),this.activatedRoute.params.subscribe(l=>{this.currentid=l.id}),this.isAddMode){this.owners.length||(this.owners=[{employeeId:"",isPrimary:!1,userName:"",departmentName:""}]);let l=yield this.getReviewFreqNew();l&&l.success&&(this.reviewItems=l.response.map(({value:l,_id:e})=>({content:l,id:e})));let e=yield this.getCaptureFreqNew();e&&e.success&&(this.captureFrequencyItems=[],this.captureFrequencyItems=e.response.map(({value:l,_id:e})=>({content:l,id:e}))),this.getPerspectives(),this.getcaptureFrequency(),this.combineFetchData(),this.getShiftSettings(),this.captureType="",this.selectedCaptureType="",this.getCalenderData()}else this.getCalenderData(),this.getGoalDetail();let l=yield this.getperspectivesNew();l&&l.success&&(this.perspectiveItems=l.response.map(({perspective:l,_id:e,perspectivePrefix:n})=>({content:l,id:e,perspectivePrefix:n}))),this.goalService.selectedKpiForExtension.subscribe(l=>{l.length>0?this.showTargetCheckbox=!this.showTargetCheckbox:this.kpiForm.patchValue({extendKpi:!1})})})}getMonthDateRange(l){let e=parseInt(l);e>9?e-=9:e+=3;var n=(new Date).getFullYear();(new Date).getMonth()<=2&&(n-=1);var t=a([n,e-1]),i=a(t).endOf("month");return{startDate:t.toDate().toISOString().slice(0,10).toString(),endDate:i.toDate().toISOString().slice(0,10).toString()}}getQuaterRange(l){let e=3;e=1===l?4:2===l?7:3===l?10:1;var n=(new Date).getFullYear(),t=(new Date).getMonth();t<=3&&e>=4&&e<=12?n-=1:t>3&&e<4?n+=1:n=n;var i=a([n,e-1]),u=a(a(i).add(3,"M")).endOf("month"),o=i.toDate().getFullYear().toString().substr(-2),r=u.toDate().getFullYear().toString().substr(-2);return{startDate:i.toDate().toISOString().slice(0,10).toString(),endDate:u.toDate().toISOString().slice(0,10).toString(),startYear:o,endYear:r}}getFinancialYears(){return this.calenderService.getfinancialYearList()}filterFinacialYearsitems(l,e){const n=l.findIndex(l=>1==l.isCurrentFY);let t=[];if(null==e||l[n].startUnix<=e)t.push({content:"FY "+l[n].start.split("-")[0]+"-"+l[n].end.split("-")[0],isCurrentFY:l[n].isCurrentFY,start:l[n].start,end:l[n].end,startUnix:l[n].startUnix,endUnix:l[n].endUnix,selected:!!l[n].isCurrentFY}),t.push({content:"FY "+l[n+1].start.split("-")[0]+"-"+l[n+1].end.split("-")[0],isCurrentFY:l[n+1].isCurrentFY,start:l[n+1].start,end:l[n+1].end,startUnix:l[n+1].startUnix,endUnix:l[n+1].endUnix,selected:!!l[n+1].isCurrentFY});else{const n=l.findIndex(l=>l.startUnix==e);t.push({content:"FY "+l[n].start.split("-")[0]+"-"+l[n].end.split("-")[0],isCurrentFY:l[n].isCurrentFY,start:l[n].start,end:l[n].end,startUnix:l[n].startUnix,endUnix:l[n].endUnix,selected:!1})}this.yearList=t}setSemiYearDate(l){l.forEach(l=>{})}setYearDate(l){const e=["January","February","March","April","May","June","July","August","September","October","November","December"];l.forEach(l=>{l.selected&&(this.yearItems[0].content="FY "+l.start.split("-")[0]+"-"+l.end.split("-")[0],this.yearItems[0].startDate=l.start,this.yearItems[0].endDate=l.end,this.kpiForm.patchValue({financialYear:l}),this.yearStartDate=l.startUnix,this.yearEndDate=l.endUnix,this.halfYearlyItems[0].content="("+e[new Date(l.start).getMonth()]+"-"+e[new Date(l.start).getMonth()+5]+")",this.halfYearlyItems[0].startDate=a(l.start,"YYYY-MM-DD").format("YYYY-MM-DD"),this.halfYearlyItems[0].endDate=a(l.start,"YYYY-MM-DD").add(5,"months").format("YYYY-MM-DD"),this.halfYearlyItems[1].content="("+e[new Date(l.start).getMonth()+6]+"-"+e[new Date(l.end).getMonth()]+")",this.halfYearlyItems[1].startDate=a(l.start,"YYYY-MM-DD").add(6,"months").format("YYYY-MM-DD"),this.halfYearlyItems[1].endDate=a(l.start,"YYYY-MM-DD").add(11,"months").format("YYYY-MM-DD"))})}setFinancialYear(l){this.filteredFrequencyItems=[],this.isNextYear=!l.item.isCurrentFY,-1==this.yearList.findIndex(e=>e.startUnix==l.item.startUnix&&e.selected)&&(this.yearList.forEach(e=>{e.selected=e.startUnix==l.item.startUnix}),this.setYearDate(this.yearList),this.getParent(),this.getCalenderData())}sourceEvent(l){this.source=l}fieldEvent(l){this.field=l}getOwner(l){this.owners=l}getGroup(l){this.groups=l}getViewer(l){this.viewers=l}setWeightage(l){this.weightage=l}getKPITypes(){return this.settingsService.getKpiTypes()}getCategory(){return this.settingsService.getCategories()}getShiftSettings(){this.settingsService.getShiftSettings().subscribe(l=>{l&&l.success&&(this.shiftItems=l.response.map(({_id:l,shiftHours:e,shiftNumber:n,shiftEnd:t,shiftStart:i})=>({id:l,shiftHours:e,shiftNumber:n,shiftStart:i,shiftEnd:t})),this.shiftItems.forEach(l=>{this.kpiForm.value.captureData.forEach(e=>{l.shiftNumber==e.name&&"SHIFT WISE"===this.captureType&&(l.selected=!0,this.selectedShifttem.push(e))}),l.content=l.shiftStart+"-"+l.shiftEnd}))})}getDepartments(){return this.settingsService.getDepartments()}getParent(){return this.goalService.getmPcP(this.yearStartDate,this.yearEndDate).subscribe(l=>{l&&l.response&&(this.parentObj&&(l.response||[]).findIndex(l=>l._id===this.parentObj._id)<0&&l.response.push(this.parentObj),this.parentList=l.response.map(({_id:l,title:e,dataCaptureFrequency:n,reviewFrequency:t,goalTag:i,unitOfMeasurement:a})=>({id:l,content:e,dataCaptureFrequency:n,reviewFrequency:t,goalTag:i,unitOfMeasurement:a})),this.parentList.forEach(l=>{l.content=l.goalTag+"-"+l.content,l.id==this.kpiForm.value.parent&&(l.selected=!0,this.onParentSelected({item:l}))})),this.isAddMode&&(this.parentList&&(this.parentList||[]).length||this._toastrService.error("No MP/parent found for selected financial year."))})}clearCaptureFreqAndReviewFreqInfo(){this.selectedCaptureType="",this.captureType="",this.filteredFrequencyItems=[],this.filteredReviewFrequencyItems=[],this.kpiForm.get("dataCaptureFrequency").setValue(null),this.kpiForm.get("reviewFrequency").setValue(null),this.clearcaptureData()}getFileData(l){this.settingsService.getFiles(l).subscribe(l=>{l&&l&&(this.previousFileArray=l.response.map(({_id:l,fileName:e,fileURL:n})=>({id:l,name:e,url:n})),this.attachmentFile=this.previousFileArray[0])})}getGoalDetail(){this.goalService.getGoalDetails(this.currentid).subscribe(l=>{if(l&&l.success){console.log("in kpi-add getGoalDetail");const e=l.response;this.editfinancialYearStart=e.financialYearStart,this.getFileData(l.response._id),this.kpiForm.patchValue({title:e.title,pragmaticLimitValue:e.pragmaticLimitValue,goalId:e.goalId?e.goalId:"",targetYTDCustomFormula:e.targetYTDCustomFormula?e.targetYTDCustomFormula:void 0,actualYTDCustomFormula:e.actualYTDCustomFormula?e.actualYTDCustomFormula:void 0,KpiType:e.type,category:e.category,directionOfGoodness:"Up"===e.directionOfGoodness?"Higher the better":"Lower the better",ytdCalculation:this.getYTDCalculationValueFromKPI(e.ytdCalculation),weightage:e.weightage,annualTarget:e.annualTarget,lowerLimit:e.lowerLimit,upperLimit:e.upperLimit,dataCaptureFrequency:e.dataCaptureFrequency,kpiDescription:e.goalDescription,remark:e.remark,kpiFormula:e.kpiFormula,isActive:e.isActive,reviewFrequency:e.reviewFrequency,unitOfMeasurement:e.unitOfMeasurement,department:e.departmentId,parent:e.parentId,perspectivePrefix:e.perspectivePrefix,perspective:e.perspective,noParent:null==e.parentId}),this.actionLimit=e.actionLimit,null==e.parentId&&(this.noParentKpi=!0),this.parentObj=e.parentObject,this.achievementLevelDataSource=e.source?e.source:void 0,this.selectedYTDValue=e.ytdCalculation,this.selectedYTDTargetFormulaId=e.targetYTDCustomFormula?e.targetYTDCustomFormula:void 0,this.selectedYTDActualFormulaId=e.actualYTDCustomFormula?e.actualYTDCustomFormula:void 0,e.targetYTDCustomFormula&&this.getCustomYtdFormulaRecord(e.targetYTDCustomFormula,0),e.actualYTDCustomFormula&&this.getCustomYtdFormulaRecord(e.actualYTDCustomFormula,1),this.ytdCalculation=[{content:"Sum",value:"SUM",selected:!1},{content:"Average",value:"AVG",selected:!1},{content:"Mean",value:"MEAN",selected:!1},{content:"Latest",value:"LATEST",selected:!1},{content:"Custom Formula",value:"FORMULA",selected:!1}],this.directionOfGoodness=[{content:"Higher the better",value:"Up",selected:!1},{content:"Lower the better",value:"Down",selected:!1}],this.directionOfGoodness.forEach(l=>{l.content.toUpperCase()==this.kpiForm.value.directionOfGoodness.toUpperCase()&&(l.selected=!0)}),this.ytdCalculation.forEach(l=>{l.selected=l.content===this.kpiForm.value.ytdCalculation}),this.weightage=this.kpiForm.value.weightage,this.savedcaptureData=l.response.captureData,this.getShiftSettings(),this.getUnitofMeasurement(),this.getOwnersAndViewers(e),this.getEditcaptureFrequency(l.response.captureData),this.weightageIetms=[];for(let l=1;l<=100;l++)this.weightageIetms.push(l==this.kpiForm.value.weightage?{content:l,selected:!0}:{content:l,selected:!1})}})}setCustomYtdFormulas(l){}getYTDCalculationValueFromKPI(l){return"SUM"===l?"Sum":"AVG"===l?"Average":"FORMULA"===l?"Custom Formula":"LATEST"===l?"Latest":"MEAN"===l?"Mean":void 0}getPerspectives(){this.settingsService.getPerspectives().subscribe(l=>{l&&l.success&&(this.perspectiveItems=l.response.map(({perspective:l,_id:e,perspectivePrefix:n})=>({content:l,id:e,perspectivePrefix:n})),this.perspectiveItems.forEach(l=>{l.id==this.kpiForm.value.perspective&&(l.selected=!0),l.content=l.perspectivePrefix+" ("+l.content+")"}))})}getcaptureFrequency(){this.settingsService.getCapturefrequency().subscribe(l=>{l&&l.success&&(this.captureFrequencyItems=[],this.captureFrequencyItems=l.response.map(({value:l,_id:e,order:n})=>({content:l,id:e,order:n})),this.captureFrequencyItems.forEach(l=>{l.id==this.kpiForm.value.dataCaptureFrequency&&(l.selected=!0,this.captureType=l.content.toUpperCase(),this.selectedCaptureType=l.content.toUpperCase())}))})}getEditcaptureFrequency(l){this.settingsService.getCapturefrequency().subscribe(e=>{e&&e.success&&(this.captureFrequencyItems=[],this.captureFrequencyItems=e.response.map(({value:l,_id:e,order:n})=>({content:l,id:e,order:n})),this.captureFrequencyItems.forEach(e=>{e.id==this.kpiForm.value.dataCaptureFrequency&&(e.selected=!0,this.captureType=e.content.toUpperCase(),this.selectedCaptureType=e.content.toUpperCase(),"WEEKLY"===this.captureType?this.setFetchedWeeks(l,this.captureType):this.setEditedCard(l,this.captureType))}),this.filteredFrequencyItems=this.captureFrequencyItems,"SHIFT WISE"===this.captureType&&this.getShiftSettings(),this.getreviewFrequency(),this.combineFetchData(),this.setDateinCalender(l))})}combineFetchData(){Object(s.a)(this.getDepartments(),this.getCategory(),this.getKPITypes(),this.getUnitofMeasurement(),this.getFinancialYears()).subscribe(l=>{l[0]&&l[0].success&&(this.departmentList=l[0].response.map(({name:l,id:e})=>({content:l,id:e,selected:e==this.kpiForm.value.department}))),l[1]&&l[1].success&&(this.categoryItems=l[1].response.map(({_id:l,category:e})=>({id:l,content:e,selected:l==this.kpiForm.value.category}))),l[2]&&l[2].success&&(this.KpiItems=l[2].response.map(({_id:l,type:e})=>({id:l,content:e,selected:l==this.kpiForm.value.KpiType}))),l[3]&&l[3].success&&(this.unitOfMeasurementItems=l[3].response.map(({value:l,_id:e})=>({content:l,id:e,selected:e==this.kpiForm.value.unitOfMeasurement}))),l[4]&&l[4].response&&(this.isAddMode?this.filterFinacialYearsitems(l[4].response,null):(this.filterFinacialYearsitems(l[4].response,this.editfinancialYearStart),this.isPreviousYear=1==this.yearList.length,this.yearList.forEach(l=>{l.isCurrentFY&&(l.selected=!1),l.startUnix===this.editfinancialYearStart&&(l.selected=!0)})),this.setYearDate(this.yearList)),this.getParent(),this.getHolidays()}),this.isKPILoading=!1}setDateinCalender(l){"HOURLY"!==this.captureType&&"SHIFT WISE"!==this.captureType&&"DAILY"!==this.captureType||(this.value.push(new Date(l[0].startDate)),this.value.push(new Date(l[l.length-1].startDate)))}getCalenderData(){const l=["January","February","March","April","May","June","July","August","September","October","November","December"],e=this.getSelectAllArray();Object(s.a)(this.getWeeks(),this.getMonthData(),this.getQuarterRangeData()).subscribe(n=>{this.weekNumberItems=e.concat(n[0].response.map(({week:l,weekStartDate:e,weekEndDate:n,week:t,0:i,0:a,0:u,isCurrentWeek:o})=>({content:l,weekStartDate:e,weekEndDate:n,target:i,upper:u,lower:a,name:t,isCurrentWeek:o}))),this.weekNumberItems.forEach((l,e)=>{if(0!=l.name&&(l.content=this.getWeekContent(l.content,l.weekStartDate,l.weekEndDate),l.isCurrentWeek&&this.isAddMode&&"WEEKLY"==this.captureType)){this.captureType="WEEKLY",this.selectedCaptureType="WEEKLY",l.selected=!0;let n=[];n.push(l),this.captureDataMap.set(l.name,l),this.setDefaultWeekCard(l,e),this.setCard(n)}}),this.monthlyItems=e.concat(n[1].response.map(({start:e,end:n,0:t,0:i,0:a,isCurrentMonth:u})=>({content:l[new Date(e).getMonth()],name:1,startDate:e,endDate:n,target:t,upper:a,lower:i,isCurrentMonth:u}))),this.monthlyItemsShow=n[1].response.map(({start:e,end:n,0:t,0:i,0:a,isCurrentMonth:u})=>({content:l[new Date(e).getMonth()],name:1,startDate:e,endDate:n,target:t,upper:a,lower:i,isCurrentMonth:u}));for(let l=0;l<this.monthlyItemsShow.length;l++){let e=this.monthlyItemsShow[l];e.isCurrentMonth&&(this.selectedMonthStart=e.startDate,this.selectedMonthEnd=e.endDate)}this.monthlyItems.forEach((l,e)=>{0!=l.name&&(l.name=e)}),n[2].response.forEach((e,n)=>{this.QuaterlyItems.push({content:"("+l[new Date(e[0].start).getMonth()]+"-"+l[new Date(e[2].end).getMonth()]+")",name:n+1,startDate:e[0].start,endDate:e[2].end,target:0,upper:0,lower:0,isCurrentQuarter:e.isCurrentQuarter})}),this.QuaterlyItems.forEach((l,e)=>{l.name=e+1}),this.captureType&&this.onClickcapture({item:{content:this.captureType}})})}getSelectAllArray(){return[{content:"Select All",selected:!1,isCurrentWeek:!1,name:0}]}getWeeks(){return this.weekNumberItems=[],this.settingsService.getWeeks(this.isNextYear)}getMonthData(){return this.monthlyItems=[],this.calenderService.getMonthRange(this.isNextYear)}getQuarterRangeData(){return this.QuaterlyItems=[],this.calenderService.getQuarterRange(this.isNextYear)}setDefaultWeekCard(l,e){this.captureData=this.kpiForm.get("captureData");const n=l.weekStartDate?l.weekStartDate:l.startDate,t=l.weekEndDate?l.weekEndDate:l.endDate,i="WEEKLY"!=this.captureType.toUpperCase()||l.content.toString().includes("Week")?l.content:this.getWeekContent(l.content,l.weekStartDate,l.weekEndDate);this.captureData.push(this.createItem(null,null,null,null,null,n,t,i,l.name,!1,e))}setFetchedWeeks(l,e){this.settingsService.getWeeks(this.isNextYear).subscribe(n=>{n&&n.success&&(this.weekNumberItems=[],this.weekNumberItems=n.response.map(({week:l,weekStartDate:e,weekEndDate:n,week:t,0:i,0:a,0:u,isCurrentWeek:o})=>({content:l,weekStartDate:e,weekEndDate:n,target:i,upper:u,lower:a,name:t,isCurrentWeek:o})),this.weekNumberItems.forEach(l=>{l.content=this.getWeekContent(l.content,l.weekStartDate,l.weekEndDate)}),this.setEditedCard(l,e))})}getreviewFrequency(){this.settingsService.getReviewfrequency().subscribe(l=>{if(l&&l.success){this.reviewItems=l.response.map(({value:l,_id:e})=>({content:l,id:e}));let e=this.captureFrequencyItems.find(l=>l.selected).content.toUpperCase();this.reviewItems=this.reviewItems.filter(l=>this.filterReviewItem(e,l.content.toUpperCase())),this.reviewItems.forEach(l=>{l.id==this.kpiForm.value.reviewFrequency&&(l.selected=!0)}),this.filteredReviewFrequencyItems=this.reviewItems}})}filterReviewItem(l,e){return"SHIFT WISE"===l?"HOURLY"!==e:"DAILY"===l?"SHIFT WISE"!==e&&"HOURLY"!==e:"WEEKLY"===l?"SHIFT WISE"!==e&&"DAILY"!==e&&"HOURLY"!==e:"MONTHLY"===l?"WEEKLY"!==e&&"SHIFT WISE"!==e&&"DAILY"!==e&&"HOURLY"!==e:"QUARTERLY"===l?"WEEKLY"!==e&&"MONTHLY"!==e&&"SHIFT WISE"!==e&&"DAILY"!==e&&"HOURLY"!==e:"HALF YEARLY"===l?"WEEKLY"!==e&&"MONTHLY"!==e&&"SHIFT WISE"!==e&&"DAILY"!==e&&"QUARTERLY"!==e&&"HOURLY"!==e:"YEARLY"!==l||"YEARLY"===e}setDefaultWeek(){let l=[];const e=this.weekNumberItems.find(l=>l.isCurrentWeek);l.push(e),this.setCard(l)}setreviewFrequency(l){this.settingsService.getReviewfrequency().subscribe(e=>{e&&e.success&&(this.reviewItems=e.response.map(({value:l,_id:e,order:n})=>({content:l,id:e,order:n})),this.reviewItems=this.reviewItems.filter(e=>this.filterReviewItem(l,e.content.toUpperCase())),this.filteredReviewFrequencyItems=this.reviewItems)})}setFetchedCards(l){l===this.selectedCaptureType&&(this.setEditedCard(this.savedcaptureData,l),this.setDateinCalender(this.savedcaptureData))}resetDatecalender(){this.dailyItems=[],this.value=[],this.prevValue=0,this.nextValue=7,this.selectedShifttem=[],this.dateArrayDiff=[]}selectEditedShiftItem(){this.shiftItems.forEach(l=>{l.selected&&this.selectedShifttem.push(l)})}onYTDChange(l){this.selectedYTDValue=l.item.value,"FORMULA"!==this.selectedYTDValue&&(this.selectedYTDTargetFormulaId="",this.selectedYTDActualFormulaId="")}onClickcapture(l){this.captureType=l.item.content.toUpperCase(),"HOURLY"===this.captureType.toUpperCase()||"DAILY"===this.captureType.toUpperCase()||"SHIFT WISE"===this.captureType.toUpperCase()||"WEEKLY"===this.captureType.toUpperCase()?(this.actionLimit="MANUAL",this.disablePragmaticRadioOption=!0):(this.actionLimit="PRAGMATIC",this.disablePragmaticRadioOption=!1),this.kpiForm.patchValue({checkbox:!1}),this.resetDatecalender(),this.setreviewFrequency(l.item.content.toUpperCase()),"HOURLY"===l.item.content.toUpperCase()||"DAILY"===l.item.content.toUpperCase()?this.clearcaptureData():"SHIFT WISE"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.shiftWiseItems,this.isAddMode||this.selectEditedShiftItem()):"WEEKLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.weeklyItems):"MONTHLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.monthlyItems):"QUARTERLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.setCard(this.QuaterlyItems)):"HALF YEARLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.setCard(this.halfYearlyItems)):(this.clearcaptureData(),this.setCard(this.yearItems)),this.isAddMode||this.setFetchedCards(l.item.content.toUpperCase())}valueDateChange(l,e){this.clearcaptureData(),this.dailyItems=[];let n=a(l[0]),t=a(l[1]),i=this.enumerateDaysBetweenDates(n,t);this.dateArrayDiff=i,0!=i.length?i.forEach((l,e)=>{"SHIFT WISE"===this.captureType?this.selectedShifttem.forEach((e,n)=>{let t=new Date(l),i=new Date(l),a=new Date(l),o=new Date(l);this.dailyItems.push({name:e.shiftNumber,selected:!1,target:"",lower:"",upper:"",startDate:t.setHours(e.shiftStart.includes("AM")?12==parseInt(e.shiftStart.split(" ")[0])?0:parseInt(e.shiftStart.split(" ")[0]):12+parseInt(e.shiftStart.split(" ")[0])),endDate:i.setHours(e.shiftEnd.includes("AM")?12==parseInt(e.shiftEnd.split(" ")[0])?24:parseInt(e.shiftEnd.split(" ")[0]):12+parseInt(e.shiftEnd.split(" ")[0])),content:Object(u.formatDate)(a.setHours(e.shiftStart.includes("AM")?12==parseInt(e.shiftStart.split(" ")[0])?0:parseInt(e.shiftStart.split(" ")[0]):12+parseInt(e.shiftStart.split(" ")[0])),"MMM d, y, h:mm a","en-us")+" - "+Object(u.formatDate)(o.setHours(e.shiftEnd.includes("AM")?12==parseInt(e.shiftEnd.split(" ")[0])?24:parseInt(e.shiftEnd.split(" ")[0]):12+parseInt(e.shiftEnd.split(" ")[0])),"MMM d, y, h:mm a","en-us")})}):"HOURLY"===this.captureType?this.hourlyShifttem.forEach((e,n)=>{this.dailyItems.push({name:e.name,selected:!1,target:"",lower:"",upper:"",startDate:m.a.cloneDeep(l).setHours(e.startDate.includes("AM")?parseInt(e.startDate.split("AM")[0]):12+parseInt(e.startDate.split("PM")[0])),endDate:m.a.cloneDeep(l).setHours(e.endDate.includes("AM")?0==parseInt(e.endDate.split("AM")[0])?24:parseInt(e.endDate.split("AM")[0]):12+parseInt(e.endDate.split("PM")[0])),content:Object(u.formatDate)(m.a.cloneDeep(l).setHours(e.startDate.includes("AM")?parseInt(e.startDate.split("AM")[0]):12+parseInt(e.startDate.split("PM")[0])),"MMM d, y, h:mm a","en-us")+" - "+Object(u.formatDate)(m.a.cloneDeep(l).setHours(e.endDate.includes("AM")?0==parseInt(e.endDate.split("AM")[0])?24:parseInt(e.endDate.split("AM")[0]):12+parseInt(e.endDate.split("PM")[0])),"MMM d, y, h:mm a","en-us")})}):this.dailyItems.push({name:e+1,selected:!1,target:"",lower:"",upper:"",startDate:Object(u.formatDate)(l,"MMM d, y","en-US"),endDate:Object(u.formatDate)(l,"MMM d, y","en-US"),content:Object(u.formatDate)(l,"MMM d, y","en-US")})}):this.dailyItems.push({name:"1",selected:!1,target:"",lower:"",upper:"",startDate:Object(u.formatDate)(l[0],"MMM d, y","en-US"),endDate:Object(u.formatDate)(l[0],"MMM d, y","en-US"),content:Object(u.formatDate)(l[0],"MMM d, y","en-US")}),this.setCard(this.dailyItems)}enumerateDaysBetweenDates(l,e){var n=[],t=a(l).startOf("day"),i=null!=e?a(e).startOf("day"):a(l).startOf("day");for(n.push(t.clone().toDate());t.add(1,"days").diff(i)<=0;)n.push(t.clone().toDate());return n}clearcaptureData(){for(this.captureData=this.kpiForm.get("captureData");this.captureData.length>0;)this.captureData.removeAt(0);this.kpiForm.patchValue({captureData:this.captureData.value}),this.captureDataMap.clear()}onGoalSelection(l){this.selectedCard=l.value}onCloseCard(l){l.value.target=0,l.value.lower=0,l.value.upper=0,l.patchValue({disabled:!l.value.disabled,target:0,upper:0,lower:0})}onPreviousClick(){0!=this.prevValue&&this.filterArray(this.kpiForm.get("captureData").controls,this.selectedMonthStart,this.selectedMonthEnd,this.captureType).length>7&&(this.prevValue=this.prevValue-7,this.nextValue=this.nextValue-7)}onNextClick(){0!=this.nextValue&&this.nextValue<this.filterArray(this.kpiForm.get("captureData").controls,this.selectedMonthStart,this.selectedMonthEnd,this.captureType).length&&this.filterArray(this.kpiForm.get("captureData").controls,this.selectedMonthStart,this.selectedMonthEnd,this.captureType).length>7&&(this.prevValue=this.prevValue+7,this.nextValue=this.nextValue+7)}onClickWeekNumber(l){if(0==l.length)this.weekNumberItems.forEach(l=>{l.selected=!1}),this.clearcaptureData();else{let e=!1;this.setSelectedOptions(l,this.weekNumberItems,e=!(this.weekNumberItems[0].selected||"Select All"!==l[0].content||!l[0].selected));let n=this.weekNumberItems.slice(1).every(l=>l.selected);this.weekNumberItems[0].selected=!!n;let t=m.a.cloneDeep(this.weekNumberItems);if(this.weekNumberItems=[],this.weekNumberItems=t,n||e)this.setCard(this.weekNumberItems.slice(1));else{let e=[];e=l.findIndex(l=>0==l.name)>-1?l.slice(1):l,this.setCard(e)}}}setSelectedOptions(l,e,n){if(n)for(let t=0;t<(e||[]).length;t++)e[t].selected=!0;else for(let t=0;t<(e||[]).length;t++){let n=e[t],i=l.findIndex(l=>l.content===n.content)>-1;n.selected=!!i}}onClickMonth(l){if(0==l.length)this.monthlyItems.forEach(l=>{l.selected=!1}),this.clearcaptureData();else{let e=!1;this.setSelectedOptions(l,this.monthlyItems,e=!(this.monthlyItems[0].selected||"Select All"!==l[0].content||!l[0].selected));let n=this.monthlyItems.slice(1).every(l=>l.selected);this.monthlyItems[0].selected=!!n;let t=m.a.cloneDeep(this.monthlyItems);if(this.monthlyItems=[],this.monthlyItems=t,n||e)this.setCard(this.monthlyItems.slice(1));else{let e=[];e=l.findIndex(l=>0==l.name)>-1?l.slice(1):l,this.setCard(e)}}}changeshiftCard(){this.dateArrayDiff=this.enumerateDaysBetweenDates(this.dailyItems[0].startDate,this.dailyItems[this.dailyItems.length-1].startDate);let l=this.dailyItems;this.dailyItems=[],this.clearcaptureData(),this.dateArrayDiff.forEach((l,e)=>{this.selectedShifttem.forEach((e,n)=>{let t=new Date(l),i=new Date(l),a=new Date(l),o=new Date(l);this.dailyItems.push({name:e.shiftNumber,selected:!1,target:"",lower:"",upper:"",startDate:t.setHours(e.shiftStart.includes("AM")?12==parseInt(e.shiftStart.split(" ")[0])?0:parseInt(e.shiftStart.split(" ")[0]):12+parseInt(e.shiftStart.split(" ")[0])),endDate:i.setHours(e.shiftEnd.includes("AM")?12==parseInt(e.shiftEnd.split(" ")[0])?24:parseInt(e.shiftEnd.split(" ")[0]):12+parseInt(e.shiftEnd.split(" ")[0])),content:Object(u.formatDate)(a.setHours(e.shiftStart.includes("AM")?12==parseInt(e.shiftStart.split(" ")[0])?0:parseInt(e.shiftStart.split(" ")[0]):12+parseInt(e.shiftStart.split(" ")[0])),"MMM d, y, h:mm a","en-us")+" - "+Object(u.formatDate)(o.setHours(e.shiftEnd.includes("AM")?12==parseInt(e.shiftEnd.split(" ")[0])?24:parseInt(e.shiftEnd.split(" ")[0]):12+parseInt(e.shiftEnd.split(" ")[0])),"MMM d, y, h:mm a","en-us")})})}),this.setExistingValues(this.dailyItems,l),this.setCard(this.dailyItems)}setExistingValues(l,e){l.forEach(l=>{const n=e.find(e=>new Date(e.startDate).getTime()===l.startDate);n&&(l.target=n.target,l.lower=n.lower,l.upper=n.upper)})}onClickShiftItems(l){this.selectedShifttem=l&&l.item?[l.item]:[],this.changeshiftCard()}sortItems(l){l.sort("HOURLY"===this.captureType||"SHIFT WISE"===this.captureType?(l,e)=>l.startDate-e.startDate:(l,e)=>l.name-e.name),this.kpiForm.patchValue({captureData:l})}setCard(l){this.captureData=this.kpiForm.get("captureData"),this.captureData.value.forEach(l=>{this.captureDataMap.set(l.name,l)}),this.kpiForm.setControl("captureData",this.captureData),l.forEach((l,e)=>{if(!this.captureDataMap.has(l.name)){const n=l.weekStartDate?l.weekStartDate:l.startDate,t=l.weekEndDate?l.weekEndDate:l.endDate,i="WEEKLY"!=this.captureType.toUpperCase()||l.content.toString().includes("Week")?l.content:this.getWeekContent(l.content,l.weekStartDate,l.weekEndDate);"SHIFT WISE"===this.captureType?this.captureData.push(this.createItem(l.target,l.lower,l.upper,l.lowerPercent,l.upperPercent,n,t,i,l.name,!1,e)):"HOURLY"===this.captureType?(this.captureData.controls.push(this.formBuilder.group({target:null,upper:null,lower:null,upperPercent:null,lowerPercent:null,startDate:n,endDate:t,content:i,name:l.name,disabled:!1,selected:!1,index:e})),this.captureData.value.push({target:null,upper:null,lower:null,upperPercent:null,lowerPercent:null,startDate:n,endDate:t,content:i,name:l.name,disabled:!1,selected:!1,index:e})):this.captureData.push(this.createItem(null,null,null,null,null,n,t,i,l.name,!1,e))}}),"WEEKLY"!==this.captureType&&"MONTHLY"!==this.captureType||this.updatecaptureDataMap(l),this.setHolidays(),this.sortItems(this.captureData.value)}getWeekContent(l,e,n){return"Week "+l.toString()+" ("+a(e,"YYYY-MM-DD").format("LL")+" to "+a(n,"YYYY-MM-DD").format("LL")+")"}updatecaptureDataMap(l){this.captureDataMap.clear(),l.forEach(l=>{this.captureDataMap.set(l.name,l)});const e=[];this.captureData.value.forEach(l=>{this.captureDataMap.has(l.name)||e.push(l.name)}),e.forEach(l=>{const e=this.captureData.value.findIndex(e=>e.name==l);this.captureData.removeAt(e)})}markEditedMarkselected(l,e){l.forEach(l=>{l.name===e.indicator&&(l.selected=!0)})}setDailyCardsItem(){}formatDate(l){var e=l.getDate(),n=l.getMonth(),t=l.getFullYear();return e+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+t}setEditedCard(l,e){this.captureData=this.kpiForm.get("captureData"),this.captureData.value.forEach(l=>{this.captureDataMap.set(l.name,l)}),"WEEKLY"===e&&(this.weekNumberItems=this.getSelectAllArray().concat(this.weekNumberItems),52==l.length&&(this.weekNumberItems[0].selected=!0)),"MONTHLY"===e&&12==l.length&&(this.monthlyItems[0].selected=!0),this.kpiForm.setControl("captureData",this.captureData),l.forEach((n,t)=>{if(!this.captureDataMap.has(n.indicator)){n.weekStartDate?(n.weekStartDate=n.weekStartDate,n.weekEndDate=n.weekEndDate-1e3):(n.startDate=n.startDate,n.endDate=n.endDate-1e3);let i=this.formatDate(n.weekStartDate?new Date(n.weekStartDate):new Date(n.startDate)),a=this.formatDate(n.weekEndDate?new Date(n.weekEndDate):new Date(n.endDate));"SHIFT WISE"!==e&&"HOURLY"!==e||(i=n.startDate,a=n.endDate);let o="";"YEARLY"===e?(this.markEditedMarkselected(this.yearItems,n),o=this.yearItems.find(l=>l.name===parseInt(n.indicator)).content):"WEEKLY"===e?(this.markEditedMarkselected(this.weekNumberItems,n),o=this.weekNumberItems.find(l=>l.name===n.indicator).content):"MONTHLY"===e?(this.markEditedMarkselected(this.monthlyItems,n),o=this.monthlyItems.find(l=>l.name===n.indicator).content):"QUARTERLY"===e?(this.markEditedMarkselected(this.QuaterlyItems,n),o=this.QuaterlyItems.find(l=>l.name===n.indicator).content):"HALF YEARLY"===e?(this.markEditedMarkselected(this.halfYearlyItems,n),o=this.halfYearlyItems.find(l=>l.name===n.indicator).content):"DAILY"===e?(o=this.formatDate(new Date(n.startDate)),n.startDate=this.formatDate(new Date(n.startDate)),n.endDate=this.formatDate(new Date(n.endDate)),0==t&&t==l.length-1&&this.value.push(Object(u.formatDate)(n.startDate,"MMM d, y","en-US")),this.dailyItems.push(n)):(o=Object(u.formatDate)(new Date(n.startDate),"MMM d, y, h:mm a","en-us")+"-"+Object(u.formatDate)(new Date(n.endDate),"MMM d, y, h:mm a","en-us"),n.startDate=Object(u.formatDate)(new Date(n.startDate),"MMM d, y, h:mm a","en-us"),n.endDate=Object(u.formatDate)(new Date(n.endDate),"MMM d, y, h:mm a","en-us"),this.dailyItems.push(n)),this.captureData.push(this.createItem(n.target,n.lower,n.upper,n.lowerPercent,n.upperPercent,i,a,o,parseInt(n.indicator),n.disabled,t))}}),this.sortItems(this.captureData.value)}onClickReview(l){}getUnitofMeasurement(){return this.settingsService.getunitofMsrmnt()}createForm(){this.kpiForm=this.formBuilder.group({title:["",[i.A.required]],goalId:[""],pragmaticLimitValue:["",[i.A.min(1)]],targetYTDCustomFormula:[""],actualYTDCustomFormula:[""],department:["",[i.A.required]],isTypeKPI:[""],directionOfGoodness:["",[i.A.required]],ytdCalculation:["",[i.A.required]],weightage:[""],annualTarget:[""],lowerLimit:[""],upperLimit:[""],captureData:this.formBuilder.array([this.formBuilder.group({target:[null,[i.A.pattern(r.a.numberWithNegativeRegex)]],upper:[null,[i.A.pattern(r.a.numberWithNegativeRegex)]],lower:[null,[i.A.pattern(r.a.numberWithNegativeRegex)]],upperPercent:[null],lowerPercent:[null],startDate:[""],endDate:[""],content:[""],name:[""],disabled:[!1],selected:[!1],index:[0]})]),unitOfMeasurement:["",[i.A.required]],reviewFrequency:["",[i.A.required]],dataCaptureFrequency:["",[i.A.required]],kpiDescription:["",[i.A.required]],remark:[""],kpiFormula:[""],isActive:[""],KpiType:["",[i.A.required]],category:["",[i.A.required]],parent:[null],checkbox:[!1],perspective:[""],perspectivePrefix:[""],noParent:[!1],extendKpi:[!1]})}createItem(l,e,n,t,a,u,o,s,d,c,p){return this.formBuilder.group({target:[l,[i.A.pattern(r.a.numberWithNegativeRegex)]],upper:[n,[i.A.pattern(r.a.numberWithNegativeRegex)]],lower:[e,[i.A.pattern(r.a.numberWithNegativeRegex)]],upperPercent:[t],lowerPercent:[a],startDate:[u],endDate:[o],content:[s],name:[d],disabled:[!!c],selected:[!1],index:p})}openConfirmationModal(l){this.confirmationService.getData().pipe(Object(d.a)(600)).subscribe(e=>{e&&(this.isKPILoading=!0,l._id=this.currentid,l.isApproved=!1,this.goalService.updateGoal(l).subscribe(l=>{l&&l.success&&(this._toastrService.success("KPI updated successfully."),this.previousFileArray.length>0&&null!=this.previousFileArray[0].id?this.deleteFile(this.previousFileArray[0],this.currentid):null!=this.attachmentFile&&this.uploadFile(this.attachmentFile,this.currentid)),this.isKPILoading=!1},l=>{-1!==l.error.message.details[0].message.indexOf("weightage")?this._toastrService.error("No Bandwidth available for the user, Please contact supervisor"):this._toastrService.error("Something went wrong, Please  contact your admin"),this.isKPILoading=!1}),this.confirmationService.setData(!1))}),this.modalService.create({component:o.a,inputs:{modalText:"Are you sure you want to edit this KPI?"}})}onSubmit(){if(this.parentObj&&(!this.parentObj.isApproved||!this.parentObj.isActive))return void this._toastrService.error("This KPI cannot be edited. It seems Parent KPI / MP may be not approved or is inactive.");let l=null;if(!this.validateStartifyTarget())return;if(l={aggregationLogic:this.aggregationLogic},this.useForStratefyTarget&&(l=Object.assign(l,{target:{formId:this.selectedStratifyFormId,formFieldId:this.selectedStratifyTargetFieldId}})),"FORMULA"===this.selectedYTDValue){if(!this.selectedYTDTargetFormulaId)return void this._toastrService.error("Please select YTD Target Formula");if(!this.selectedYTDActualFormulaId)return void this._toastrService.error("Please select YTD Actuals Formula")}this.useForStratifyLowerUpper&&(l=Object.assign(l,{lower:{type:"FORM",formId:this.selectedStratifyFormId,formFieldId:this.selectedStratifyLowerLimitFieldId}},{upper:{type:"FORM",formId:this.selectedStratifyFormId,formFieldId:this.selectedStratifyUpperLimitFieldId}})),this.isSubmitClicked=!0;const{title:e,annualTarget:n,pragmaticLimitValue:t,goalId:i,kpiDescription:u,remark:o}=this.kpiForm.value,r=this.kpiForm.value.dataCaptureFrequency.id,s=this.kpiForm.value.reviewFrequency.id,d=this.kpiForm.value.unitOfMeasurement.id,p=this.kpiForm.value.directionOfGoodness.value,m=this.kpiForm.value.ytdCalculation.value,g=this.weightage,h=this.kpiForm.value.KpiType.id,f=this.kpiForm.value.category.id,v=this.kpiForm.value.department.id,b=this.noParentKpi?this.kpiForm.value.perspective.id:null,C=this.kpiForm.value.perspective.perspectivePrefix,y=this.noParentKpi?null:this.kpiForm.value.parent.id,x=1e3*a(this.yearList.filter(l=>l.selected)[0].start,"YYYY-MM-DDT00:00:00").unix(),w=1e3*a(this.yearList.filter(l=>l.selected)[0].end+"T23:59:59","YYYY-MM-DDTHH:mm:ss").unix();let I=this.kpiForm.value.captureData.map(({target:l,lower:e,upper:n,startDate:t,endDate:i,name:a,disabled:u,upperPercent:o,lowerPercent:r})=>({target:l,lower:e,upper:n,startDate:t,endDate:i,indicator:a,disabled:u,upperPercent:o,lowerPercent:r}));I.forEach(l=>{l.target=l.target?parseFloat(l.target):0,l.upper=l.upper?parseFloat(l.upper):0,l.lower=l.lower?parseFloat(l.lower):0,l.upperPercent?(l.upperValueType="PERCENT",l.upperPercent=parseFloat(l.upperPercent)):(l.upperValueType="ABSOLUTE",delete l.upperPercent),l.lowerPercent?(l.lowerValueType=l.lowerPercent?"PERCENT":"ABSOLUTE",l.lowerPercent=parseFloat(l.lowerPercent)):(l.lowerValueType="ABSOLUTE",delete l.lowerPercent);let e=null,n=null;"Weekly"===this.kpiForm.value.dataCaptureFrequency.content||"Monthly"===this.kpiForm.value.dataCaptureFrequency.content||"Quarterly"===this.kpiForm.value.dataCaptureFrequency.content||"Half Yearly"===this.kpiForm.value.dataCaptureFrequency.content||"Yearly"===this.kpiForm.value.dataCaptureFrequency.content?(e=a(l.startDate).format("YYYY-MM-DDT00:00:00"),n=a(l.endDate).format("YYYY-MM-DDT23:59:59")):"Daily"===this.kpiForm.value.dataCaptureFrequency.content?(e=a(l.startDate).format("YYYY-MM-DDT00:00:00"),n=a(l.endDate).format("YYYY-MM-DDT23:59:59")):(e=a(l.startDate).format("YYYY-MM-DDTHH:mm:ss"),n=a(l.endDate).format("YYYY-MM-DDTHH:mm:ss")),l.startDate=e,l.endDate=n});const D={individuals:this.owners.map(({employeeId:l,isPrimary:e})=>({employeeId:l,isPrimary:e}))},T=D.individuals.findIndex(l=>l.isPrimary);this.viewers=this.viewers.filter(l=>""!=l.employeeId&&l.employeeId&&null!=l.employeeId);const M={individuals:this.viewers.map(({employeeId:l})=>({employeeId:l})),groups:this.groups.map(({groupId:l})=>({groupId:l}))};let P;void 0!==this.source&&this.source.item&&null!==this.source.item.content&&(P=this.source.item.content);let S={title:e,annualTarget:n,targetYTDCustomFormula:this.selectedYTDTargetFormulaId||void 0,actualYTDCustomFormula:this.selectedYTDActualFormulaId||void 0,actionLimit:this.actionLimit,pragmaticLimitValue:"PRAGMATIC"===this.actionLimit?t:void 0,category:f,isTypeKPI:!0,source:P,type:h,departmentId:v,parentId:y,perspective:b,perspectivePrefix:C,directionOfGoodness:p,ytdCalculation:m,weightage:g,captureData:I,unitOfMeasurement:d,reviewFrequency:s,dataCaptureFrequency:r,goalDescription:u,remark:o,goalFormula:null,isActive:!0,owners:D,viewers:M,financialYearStart:x,financialYearEnd:w};l&&this.aggregationLogic&&(S.targetFromForm=l),S.source=this.achievementLevelDataSource&&this.achievementLevelDataSource.type&&this.achievementLevelDataSource.id?this.achievementLevelDataSource:void 0,i.trim().length>0&&(S.goalId=i),this.achievementLevelDataSource&&this.achievementLevelDataSource.type&&!this.achievementLevelDataSource.id?this._toastrService.error("Please select data source correctly"):this.achievementLevelDataSource&&this.achievementLevelDataSource.type&&this.achievementLevelDataSource.filterId&&!this.achievementLevelDataSource.id?this._toastrService.error("Please select data source correctly"):null==this.dataSourceUoM||this.dataSourceUoM==this.kpiForm.value.unitOfMeasurement.id?"PRAGMATIC"!==this.actionLimit||t?this.kpiForm.valid&&this.owners.length>0&&-1!=T&&I.length>0&&null!=g?this.isAddMode?(this.isKPILoading=!0,this.goalService.addGoal(S).subscribe(l=>{l&&l.success&&(this._toastrService.success("KPI added successfully."),this.router.navigateByUrl("/org-kpi/edit/"+l.response._id),null!=this.attachmentFile&&this.uploadFile(this.attachmentFile,l.response._id)),this.isKPILoading=!1},l=>{this.isKPILoading=!1;let e=l.error.message;e.details&&-1!==e.details[0].message.indexOf("weightage")?this._toastrService.error("No Bandwidth available for the user, Please contact supervisor"):this._toastrService.error("Something went wrong, Please  contact your admin")})):this.isPreviousYear?this._toastrService.warning("You cannot edit previous years data, Please  contact your admin"):this.openConfirmationModal(S):this._toastrService.error(-1==T?"Atleast one owner should be primary, kindly verify":null==g?"Weightage for primary owner is not selected, kindly verify":"Some required fields missing, kindly verify"):this._toastrService.error("Please enter value for pragmatic limit"):this._toastrService.warning(c.a.KPI_UOM_FORM_FIELD_UOM_NOT_MATCHING)}getOwnersAndViewers(l){l.owners&&l.owners.individuals&&l.owners.individuals.length&&(this.owners=l.owners.individuals.map((l,e)=>(l.userName=l.firstname+" "+l.lastname,l)),this.owners=this.owners.filter(l=>""!=l.userName&&" "!=l.userName)),this.owners.length||(this.owners=[{employeeId:"",isPrimary:!1,userName:"",departmentName:""}]),l.viewers&&l.viewers.individuals&&l.viewers.individuals.length&&(this.viewers=l.viewers.individuals.map((l,e)=>(l.userName=l.firstname+" "+l.lastname,l)),this.viewers=this.viewers.filter(l=>""!=l.userName&&" "!=l.userName)),l.viewers&&l.viewers.groups&&l.viewers.groups.length&&(this.groups=l.viewers.groups.map((l,e)=>(l.groupName=l.name,l)))}onAttachmentChange(l){this.attachmentFile=l.target.files[0]||null}deleteFile(l,e){this.settingsService.deleteFile({id:l.id}).subscribe(l=>{l&&l.success&&this.uploadFile(this.attachmentFile,e)})}uploadFile(l,e){this.settingsService.uploadFile({file:l,parentId:e}).subscribe(l=>{l&&l.success&&this.getFileData(e)})}onFileSelect(l){this.inputRemarkAttachment.nativeElement.click()}onParentSelected(l){this.filteredFrequencyItems=this.captureFrequencyItems;const e=l.item;this.parentSelectedReviewFreq=l.item.reviewFrequency,this.formChildParentForSelected(e),this.selectedMPParentUoM=e.unitOfMeasurement,this.kpiForm.get("unitOfMeasurement").setValue(this.selectedMPParentUoM);let n=m.a.cloneDeep(this.unitOfMeasurementItems);this.unitOfMeasurementItems=[],n.forEach(l=>{l.selected=l.id===this.selectedMPParentUoM}),this.unitOfMeasurementItems=n}getFilteredCaptureFrequency(l){this.filteredFrequencyItems=[];const e=this.captureFrequencyItems.findIndex(e=>e.id===l);this.filteredFrequencyItems=this.captureFrequencyItems.filter(l=>l.order<=this.captureFrequencyItems[e].order)}getFilteredReviewFrequency(){if(this.filteredReviewFrequencyItems=[],this.parentSelectedReviewFreq){const l=this.reviewItems.findIndex(l=>l.id===this.parentSelectedReviewFreq);this.filteredReviewFrequencyItems=this.reviewItems.filter(e=>e.order<=this.reviewItems[l].order)}else this.filteredReviewFrequencyItems=this.reviewItems}formChildParentForSelected(l){this.kpiService.getDeployementTree(l.id).subscribe(l=>{if(l&&l.success){const e=l.response.deploymentTree[0];this.sanitize(e),this.sanitizeData(e),this.isAddMode&&e.children.push({text:{name:"Adding KPI here",content:""},HTMLclass:"adding-here"}),e.children.children&&e.children.children.length&&(e.children.children=[]),e.HTMLclass="mp-node",this.deploymentTreeConfig={connectorType:"step",orientation:"WEST",nodes:e}}},l=>{const e=[];e.HTMLclass="adding-here",e.text={title:"Adding KPI here",content:""},this.deploymentTreeConfig={connectorType:"step",orientation:"WEST",nodes:e}})}sanitize(l){l&&l.text&&(l.text.parentId||delete l.text.parentId)}sanitizeData(l){l&&l.text&&(this.isAddMode||this.currentid===l.text.id&&(l.HTMLclass="adding-here"),l.text={vcs:l.text.vcs,title:l.text.title,primaryOwnerName:l.text.primaryOwnerName});for(let e=0;e<l.children.length;e++)this.sanitizeData(l.children[e])}updateAchievementLevelDataSource(l){this.achievementLevelDataSource=l.dataSource,this.dataSourceUoM=l.uom,null!=this.dataSourceUoM&&this.dataSourceUoM!=this.kpiForm.value.unitOfMeasurement.id&&this._toastrService.warning(c.a.KPI_UOM_FORM_FIELD_UOM_NOT_MATCHING)}onUoMChange(l){this.noParentKpi||null==this.selectedMPParentUoM||this.selectedMPParentUoM==l.item.id?null!=this.dataSourceUoM&&this.dataSourceUoM!=l.item.id&&this._toastrService.warning(c.a.KPI_UOM_FORM_FIELD_UOM_NOT_MATCHING):this._toastrService.warning(c.a.KPI_UOM_PARENT_UOM_NOT_MATCHING)}onChangeTargetFormula(l){this.getMetrics(l,"YTD_CUSTOM","100","0",0),this.ytdTargetSearch=l,this.kpiForm.value.targetYTDCustomFormula="",this.selectedYTDTargetFormulaId=""}onChangeActualFormula(l){this.ytdActualFormulaList=this.getMetrics(l,"YTD_CUSTOM","100","0",1),this.ytdActualSearch=l,this.kpiForm.value.actualYTDCustomFormula="",this.selectedYTDActualFormulaId=""}onOpenInternal(l){}getMetrics(l,e,n,t,i){this.metricsService.getMetricsListForKPI(l,e,n,t).subscribe(l=>{l&&l.success&&(0==i?this.ytdTargetFormulaList=l.response.metrics.map(({name:l,_id:e})=>({content:l,_id:e})):this.ytdActualFormulaList=l.response.metrics.map(({name:l,_id:e})=>({content:l,_id:e})))},l=>{})}selectedTargetOption(l){this.kpiForm.value.targetYTDCustomFormula=l._id,this.selectedYTDTargetFormulaId=l._id}selectedActualOption(l){this.kpiForm.value.actualYTDCustomFormula=l._id,this.selectedYTDActualFormulaId=l._id}getCustomYtdFormulaRecord(l,e){this.metricsService.getMetricRecord(l).subscribe(l=>{l&&l.success&&(0==e?this.ytdTargetSearch=l.response.name:this.ytdActualSearch=l.response.name)},l=>{})}onChangeParent(l){this.noParentKpi=l.checked,this.kpiForm.patchValue(this.noParentKpi?{perspective:null}:{parent:null}),this.internalQuery=""}getperspectivesNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getPerspectives().toPromise()})}onPerspectiveSelected(l){const e=l.item;this.clearCaptureFreqAndReviewFreqInfo(),this.parentSelectedReviewFreq=l.item.reviewFrequency,l.item.dataCaptureFrequency?this.getFilteredCaptureFrequency(l.item.dataCaptureFrequency):this.filteredFrequencyItems=this.captureFrequencyItems,this.formChildParentForSelected(e)}getCaptureFreqNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getCapturefrequency().toPromise()})}setreviewFrequencyFornNoParentKpi(l){this.filteredReviewFrequencyItems=this.reviewItemsBackUp.filter(e=>!("HOURLY"===e.content.toUpperCase()||"SHIFT WISE"===e.content.toUpperCase()||"DAILY"===e.content.toUpperCase())&&this.filterReviewItemForPerspective(l,e.content.toUpperCase()))}getreviewFrequencyForPerspective(){let l=this.captureFrequencyItems.find(l=>l.selected).content.toUpperCase();this.reviewItemsBackUp=m.a.cloneDeep(this.reviewItems),this.filteredReviewFrequencyItems=this.reviewItemsBackUp.filter(e=>!("HOURLY"===e.content.toUpperCase()||"SHIFT WISE"===e.content.toUpperCase()||"DAILY"===e.content.toUpperCase())&&this.filterReviewItem(l,e.content.toUpperCase())),this.filteredReviewFrequencyItems.forEach(l=>{l.id==this.kpiForm.value.reviewFrequency&&(l.selected=!0)}),this.isKPILoading=!1}filterReviewItemForPerspective(l,e){return"MONTHLY"===l?"WEEKLY"!==e:"QUARTERLY"===l?"WEEKLY"!==e&&"MONTHLY"!==e:"HALF YEARLY"===l?"WEEKLY"!==e&&"MONTHLY"!==e&&"QUARTERLY"!==e:"YEARLY"!==l||"YEARLY"===e}getReviewFreqNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getReviewfrequency().toPromise()})}getHolidays(){this.goalService.getHolidays(this.yearStartDate,this.yearEndDate).subscribe(l=>{this.holidays=l.response})}setHolidays(){"SHIFT WISE"==this.captureType?this.captureData.value.forEach(l=>{this.holidays.forEach(e=>{l.startDate==e.holidayStartUnix&&l.endDate==e.holidayEndUnix&&(l.disabled=!0)})}):"DAILY"!=this.captureType&&"HOURLY"!=this.captureType||this.captureData.value.forEach(l=>{this.holidays.forEach(e=>{new Date(l.startDate).getTime()>=e.holidayStartUnix&&new Date(l.endDate).getTime()<=e.holidayEndUnix&&(l.disabled=!0)})})}filterArray(l,e,n,t){let i=1e3*a(e+"T00:00:00").unix(),u=1e3*a(n+"T23:59:59").unix();return"HALF YEARLY"===t||"QUARTERLY"===t||"HALF YEARLY"===t||"YEARLY"===t?l:(l||[]).filter(l=>{if("WEEKLY"===t){if(a(l.value.startDate).format("M")===a(i).format("M"))return!0}else if("HOURLY"===t||"SHIFT WISE"===t||"DAILY"===t){if(a(l.value.startDate).format("M")===a(i).format("M"))return!0}else if(1e3*a(l.value.startDate).unix()>=i&&1e3*a(l.value.endDate).unix()<=u)return!0;return!1})}onSwitcherSelected(l,e,n){this.prevValue=0,this.nextValue=7,this.selectedMonthStart=e,this.selectedMonthEnd=n}onOpenFormSearchForTargetDef(l){}onTargetFormSearch(l){this.targetFormQuery=l,this.selectedStratifyFormId="",this.targetQuery="",this.selectedStratifyTargetFieldId="",this.lowerLimitQuery="",this.selectedStratifyLowerLimitFieldId="",this.upperLimitQuery="",this.selectedStratifyUpperLimitFieldId="",this.metricsService.getForms(this.targetFormQuery).subscribe(l=>{l&&l.success&&(this.searchedFormsForStratify=(l.response.forms||[]).map(l=>({id:l._id,content:l.formName})))},l=>{this.searchedFormsForStratify=[]})}onTargetFormSelected(l){this.targetFormQuery=l.content,this.selectedStratifyFormId=l.id,this.targetFormFieldList=[],this.metricsService.getMetricFieldsForSelectedForm(l.id).subscribe(l=>{l&&l.success&&l.response.forEach(l=>{this.targetFormFieldList.push({id:l.uuid,content:l.label})})},l=>{this.targetFormFieldList=[]})}onSelectedTargetFormField(l){this.targetQuery=l.content,this.selectedStratifyTargetFieldId=l.id}onOpenUpperLimit(l){}onUpperLimitSearch(l){}onUpperLimitSelected(l){this.upperLimitQuery=l.content,this.selectedStratifyUpperLimitFieldId=l.id}onLowerLimitSelected(l){this.lowerLimitQuery=l.content,this.selectedStratifyLowerLimitFieldId=l.id}onChangeUseForStratefyTarget(l){this.useForStratefyTarget=l.checked,this.useForStratefyTarget||(this.useForStratifyLowerUpper=!1,this.upperLimitQuery="",this.lowerLimitQuery="",this.targetFormQuery="",this.targetQuery="",this.aggregationLogic="",this.selectedStratifyFormId="",this.selectedStratifyTargetFieldId="",this.selectedStratifyUpperLimitFieldId="",this.selectedStratifyLowerLimitFieldId="",this.targetFormFieldList=[])}onChangeUseForStratifyLowerUpper(l){this.useForStratifyLowerUpper=l.checked,this.useForStratifyLowerUpper||(this.upperLimitQuery="",this.lowerLimitQuery="",this.selectedStratifyUpperLimitFieldId="",this.selectedStratifyLowerLimitFieldId="")}validateStartifyTarget(){if(this.useForStratefyTarget){if(!this.aggregationLogic)return this._toastrService.error("Please select aggregation logic."),!1;if(!this.selectedStratifyFormId)return this._toastrService.error("Select form for target definition."),!1;if(!this.selectedStratifyTargetFieldId)return this._toastrService.error("Select form field for target definition."),!1}if(this.useForStratifyLowerUpper){if(!this.selectedStratifyUpperLimitFieldId)return this._toastrService.error("Select form field for upper limit."),!1;if(!this.selectedStratifyLowerLimitFieldId)return this._toastrService.error("Select form field for lower limit."),!1}return!0}showCopyCalendar(l){this.lastCalendarCard&&(this.lastCalendarCard.isShowCopyCal=!1),l.isShowCopyCal=!l.isShowCopyCal,l.isShowCopyCal&&(this.lastCalendarCard=l)}onCopyCalendarChange(l){this.copyDateSelected=l}onCopyValues(l,e){"HOURLY"===this.captureType&&this.captureData.controls.map((l,e)=>{this.captureData.value[e]=l.value}),l.isShowCopyCal=!1;let n=l.value;n.target=l.controls.target.value,n.lower=l.controls.lower.value,n.upper=l.controls.upper.value,n.lowerPercent=l.controls.lowerPercent.value,n.upperPercent=l.controls.upperPercent.value;let t=this.kpiForm.get("captureData");t.value.forEach(e=>{!e.disabled&&this.checkCardWithinGivenDates(e)&&(e.target=l.controls.target.value,e.lower=l.controls.lower.value,e.upper=l.controls.upper.value,e.lowerPercent=l.controls.lowerPercent.value,e.upperPercent=l.controls.upperPercent.value)}),this.captureData=t,this.kpiForm.patchValue({captureData:t.value}),this.copyDateSelected=null}closeCopyDiag(l){l.isShowCopyCal=!1}checkCardWithinGivenDates(l){let e=a(l.startDate).unix(),n=a(l.endDate).unix();if(!this.copyDateSelected)return!1;if(!this.copyDateSelected[0]||!this.copyDateSelected[1])return!1;let t=a(this.copyDateSelected[0]).unix(),i=a(this.copyDateSelected[1]);return i=a(this.copyDateSelected[1]).format("YYYY-MM-DD"),i=a(i+"T23:59:59"),"HOURLY"===this.captureType&&(i=i.add(1,"minute")),i=a(i).unix(),e>=t&&n<=i}aggregationLogicSelected(l){this.aggregationLogic=l.item.value}calculateUpperLowerLimit(l,e,n){let t=l,i="upper"===n?"upperPercent":"lowerPercent";t.patchValue(t.value.target&&t.value[i]?"upper"===n?{upper:parseFloat(t.value.target)+parseFloat(t.value.target)*parseFloat(t.value[i])/100}:{lower:parseFloat(t.value.target)-parseFloat(t.value.target)*parseFloat(t.value[i])/100}:"upper"===n?{upper:0}:{lower:0});let a=t.value;a.target=t.controls.target.value,a.lower=t.controls.lower.value,a.upper=t.controls.upper.value,a.lowerPercent=t.controls.lowerPercent.value,a.upperPercent=t.controls.upperPercent.value}calculateUpperLowerLimitWithTarget(l){let e=l;e.value.target?(e.value.upperPercent&&e.patchValue({upper:parseFloat(e.value.target)+parseFloat(e.value.target)*parseFloat(e.value.upperPercent)/100}),e.value.lowerPercent&&e.patchValue({lower:parseFloat(e.value.target)-parseFloat(e.value.target)*parseFloat(e.value.lowerPercent)/100})):(e.patchValue({upper:0}),e.patchValue({lower:0}))}onRadioChange(l){"MANUAL"===l.value&&(this.manualSub=this.confirmationService.getData().subscribe(e=>{e?(this.actionLimit=l.value,this.isSetFalse=!0,this.confirmationService.setData(!1)):(this.isSetFalse?this.isSetFalse=!1:this.actionLimit="PRAGMATIC",this.manualSub&&this.manualSub.unsubscribe())}),this.modalService.create({component:o.a,inputs:{modalText:"For data capture frequencies on a monthly, quarterly, half yearly and yearly\n                basis, pragmatic limits are strongly recommended.\n                A manual approach may potentially impact quality. "}}))}getTitleForLimits(){return`Pragmatic limits cannot be set for ${this.captureType.toLowerCase()} data capture frequecy`}onExtendKpiChecked(l){l.checked&&this.modalService.create({component:g.a,inputs:{yearList:this.yearList}}).onDestroy(()=>{})}onShowKpiTargetData(l){this.showKpiTarget=!this.showKpiTarget}ngOnDestroy(){this.modalService.destroy(0)}downloadFile(l){return Object(t.__awaiter)(this,void 0,void 0,function*(){let e=l.id?l.id:l._id;if(e){let l=yield this.settingsService.getEncryptedFileUrl(e).toPromise();window.open(l.response)}})}}},"2Fj0":function(l,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return o});var t=n("8Y7J"),i=n("O9pe"),a=function(){function l(){this.focusable=!1}return l.decorators=[{type:t.Component,args:[{selector:"ibm-icon-add-alt20",template:'\n    <svg\n      ibmIconAddAlt20\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],l.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],focusable:[{type:t.Input}],innerClass:[{type:t.Input}]},l}(),u=function(){function l(l){this.elementRef=l,this.isFocusable=!1}return l.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement;e.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M16 4A12 12 0 1 1 4 16 12 12 0 0 1 16 4m0-2a14 14 0 1 0 14 14A14 14 0 0 0 16 2z"></path><path d="M22 15h-5v-5h-2v5h-5v2h5v5h2v-5h5v-2z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)e.appendChild(e.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var t=Object(i.a)({width:20,height:20,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),a=Object.keys(t),u=0;u<a.length;u++){var o=a[u],r=t[o];"title"!==o&&r&&e.setAttribute(o,r)}if(t.title){var s=document.createElement("title");s.textContent=t.title,s.setAttribute("id","add-alt20-"+ ++l.titleIdCounter),e.appendChild(s),e.setAttribute("aria-labelledby","add-alt20-"+l.titleIdCounter)}},l.titleIdCounter=0,l.decorators=[{type:t.Directive,args:[{selector:"[ibmIconAddAlt20]"}]}],l.ctorParameters=function(){return[{type:t.ElementRef}]},l.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],isFocusable:[{type:t.Input}]},l}(),o=function(){function l(){}return l.decorators=[{type:t.NgModule,args:[{declarations:[a,u],exports:[a,u]}]}],l}()},"6p64":function(l,e,n){"use strict";var t=n("8Y7J"),i=n("SVse"),a=n("K1/W"),u=n("QgZ6"),o=n("scMM"),r=n("C7u+"),s=n("E5GT"),d=n("jGGp"),c=n("TXHj"),p=n("mEpm"),m=n("Nkwq"),g=n("itAz");n("dov7"),n.d(e,"a",function(){return h}),n.d(e,"b",function(){return D});var h=t["\u0275crt"]({encapsulation:2,styles:[["blockquote,body,dd,div,dl,dt,fieldset,form,h1,h2,h3,h4,h5,h6,input,li,ol,p,pre,td,textarea,th,ul{margin:0;padding:0}table{border-collapse:collapse;border-spacing:0}abbr,acronym,fieldset,img{border:0}address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:400}caption,th{text-align:left}q:after,q:before{content:''}.chart{height:100%;width:100%;overflow:auto;border-radius:3px;background-color:#1e1d1d}.chart .chart-c{width:100%;height:100%}.emp-node{padding:8px;border-radius:3px;background-color:#393939;border:1px solid #393939;max-width:300px;min-width:250px;width:350px;font-family:Tahoma;font-size:12px;color:#fff;border-left:5px solid #fb0;min-height:100px;height:auto}.emp-node .node-name{color:#fff;font-size:12px;font-weight:300;line-height:13px}.emp-node .node-title{margin-top:4px;margin-bottom:4px;color:#fff;font-size:14px;font-weight:500;line-height:13px}.emp-node img{margin-right:10px}.Treant>a:link,.Treant>a:visited{color:#fff}.Treant>a:link:hover{color:#636363}.zoom-icon{height:24px;width:80px;box-sizing:border-box;border:1px solid #d7d7d7;border-radius:20px;margin-left:5px;margin-right:5px;display:flex;align-items:center;cursor:pointer}.zoom-in{cursor:pointer;margin-left:6px;fill:#8c8c8c!important}.zoom-out{cursor:pointer;fill:#8c8c8c!important;padding:2px}.zoom-mid-line{width:1px!important;height:100%!important;background-color:#d7d7d7;display:inline-flex;margin:0 5px}.adding-here{background-color:#fb0;color:#fff}.parent-node{border-left:5px solid violet}.sibling-node{border-left:5px solid brown}.mp-node{border-left:5px solid #7598fe}.summary-node-red{border-right:5px solid red}.summary-node-green{border-right:5px solid green}.summary-node-yellow{border-right:5px solid #ff0}.summary-node-grey{border-right:5px solid grey}.summary-node-blue{border-right:5px solid #4559e6}.emp-node.node-length{border:4px solid #4559e6;font-family:Tahoma;font-size:12px;color:#fff;min-height:40px;border-radius:100%;max-width:40px;min-width:40px;text-align:center;width:50px;height:auto;padding:5px}.emp-node.node-length:hover{background-color:#4559e6}.e4-tag{padding:2px;height:auto;color:#fff}.e4-tag .parent-legend,.e4-tag .tag-value.violet{background-color:violet;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.e4-tag .tag-value.orange{background-color:#fb0;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.e4-tag .tag-value.red{background-color:red;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.e4-tag .tag-value.yellow{background-color:#ff0;color:#000;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px;max-width:800px}.e4-tag .tag-value.green{background-color:green;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.e4-tag .tag-value.blue{background-color:#7598fe;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.e4-tag .tag-value.gray{background-color:brown;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.node-vcs{color:#ffffffa6;font-size:16px!important}.node-childrenCount,.node-dataCaptureFrequency,.node-directionOfGoodnessArrowColor,.node-id,.node-isCP,.node-isMP,.node-isParent,.node-isSibling,.node-kpiCumulativeLowerLimit,.node-kpiCumulativeUpperLimit,.node-parentId,.node-primaryOwnerEmployeeId,.node-stage,.node-verticalNode,.node-weightage{display:none}.node-primaryOwnerName{font-size:12px!important}.node-cumulativeActual,.node-kpiCumulativeTarget,.node-unitOfMeasurement{display:none}.node-kpiCumulativeTarget1{width:80px;font-size:12px!important;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:inline-block;margin-right:5px}.node-cumulativeActual1{font-size:12px!important;width:80px;text-overflow:ellipsis;white-space:nowrap;float:right;overflow:hidden;margin-right:5px}.node-cumulativeGap1{font-size:12px!important;width:80px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:inline-block;margin-left:22px}.node-kpiCumulativeTargetTitle1{font-size:12px!important;width:80px;display:inline-block;margin-right:5px}.node-cumulativeActualTitle1{font-size:12px!important;width:80px;float:right;margin-right:5px}.node-cumulativeGapTitle1{font-size:12px!important;width:80px;display:inline-block;margin-left:22px}.node-kpiCumulativeTargetTitle1Label{font-size:11px!important;width:80px;display:inline-block;margin-right:5px}.node-cumulativeActualTitle1Label{font-size:11px!important;width:80px;float:right;margin-right:5px}.node-cumulativeGapTitle1Label{font-size:11px!important;width:80px;display:inline-block;margin-left:22px}.node-indicator1{display:inline-block!important;position:relative;height:20px;width:20px;border-radius:50%}.node-indicator1:after,.node-indicator1:before{position:absolute;display:block;content:\"\";border:10px solid transparent}.node-indicator1:before{top:0;border-top-color:#fff}.node-indicator1:after{top:-1px;border-top-color:#393939}.node-directionOfGoodness{display:none}.selected-node{background-color:#6236ff}.dep-tree-container{width:100%;height:100%}.dep-tree-header{display:flex;align-items:center}.flex-1{flex:1}.flex-2{flex:2}.no-nodes-to-show{padding:16px;display:block}.get-parent{will-change:transform;fill:#fff;background:#da1e28;border-radius:50%;margin-left:16px;margin-right:4px;cursor:pointer}.loader-cont{top:35%;left:35%;position:absolute}.gray{fill:#fff;background:gray;cursor:not-allowed}.loadedOnceText{cursor:not-allowed;color:#d3d3d3}.width-64{width:64px}.width-80{width:80px}.show-hover-text{display:none!important;overflow:hidden!important;overflow-y:hidden!important;white-space:nowrap}.dot-tag:hover .show-hover-text,.dot-tag:hover .tag-value{display:block!important;width:-webkit-max-content;width:-moz-max-content;width:max-content}@-webkit-keyframes fade{0%{width:0}100%{width:-webkit-max-content;width:max-content}}@keyframes fade{0%{width:0}100%{width:-webkit-max-content;width:-moz-max-content;width:max-content}}"]],data:{}});function f(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,":svg:svg",[["class","get-parent"],["ibmIconChevronLeft20",""]],null,[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==(!i.noParent&&!i.loadedOnce&&i.loadParent())&&t),t},null,null)),t["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{gray:0}),t["\u0275did"](4,4210688,null,0,a.a,[t.ElementRef],null,null)],function(l,e){var n=e.component,t=l(e,3,0,n.noParent||n.loadedOnce);l(e,2,0,"get-parent",t)},null)}function v(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[["style","color: white;margin-right: 4px;"]],null,[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==(!i.noParent&&!i.loadedOnce&&i.loadParent())&&t),t},null,null)),t["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](3,{loadedOnceText:0}),(l()(),t["\u0275ted"](-1,null,["Go To Parent"]))],function(l,e){var n=e.component,t=l(e,3,0,n.noParent||n.loadedOnce);l(e,2,0,t)},null)}function b(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"ibm-tag",[["class","e4-tag dot-tag "]],[[1,"class",0]],null,null,u.b,u.a)),t["\u0275did"](1,49152,null,0,o.a,[],{class:[0,"class"]},null),(l()(),t["\u0275eld"](2,0,null,0,2,"span",[["class","tag-value elipsis violet"],["style","height: 22px; background-color: violet;"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","show-hover-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Parent"]))],function(l,e){l(e,1,0,"e4-tag dot-tag ")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).attrClass),l(e,2,0,"Parent")})}function C(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"ibm-tag",[["class","e4-tag dot-tag "]],[[1,"class",0]],null,null,u.b,u.a)),t["\u0275did"](1,49152,null,0,o.a,[],{class:[0,"class"]},null),(l()(),t["\u0275eld"](2,0,null,0,2,"span",[["class","tag-value elipsis  gray"],["style","height: 22px;"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","show-hover-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Sibling"]))],function(l,e){l(e,1,0,"e4-tag dot-tag ")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).attrClass),l(e,2,0,"Sibling")})}function y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","zoom-mid-line"]],null,null,null,null,null))],null,null)}function x(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","zoom-out"],["ibmIconMaximize20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.toggleFullScreen()&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,r.a,[t.ElementRef],null,null)],null,null)}function w(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","zoom-out"],["ibmIconMinimize20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.toggleFullScreen()&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,s.a,[t.ElementRef],null,null)],null,null)}function I(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","loader-cont"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["size","sm"],["title","Loading deployment tree "]],[[2,"bx--loading-overlay",null]],null,null,d.b,d.a)),t["\u0275did"](2,49152,null,0,c.a,[p.a],{title:[0,"title"],size:[1,"size"]},null)],function(l,e){l(e,2,0,"Loading deployment tree ","sm")},function(l,e){l(e,1,0,t["\u0275nov"](e,2).overlay)})}function D(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{zoomable:0}),t["\u0275qud"](402653184,2,{deploymentTreeContainer:0}),(l()(),t["\u0275eld"](2,0,null,null,58,"div",[["class","dep-tree-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,51,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,50,"div",[["class","dep-tree-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,33,"div",[["class","flex-2"],["style","display: flex;align-items: center;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](7,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](9,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](11,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](13,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](14,0,null,null,4,"ibm-tag",[["class","e4-tag dot-tag "]],[[1,"class",0]],null,null,u.b,u.a)),t["\u0275did"](15,49152,null,0,o.a,[],{class:[0,"class"]},null),(l()(),t["\u0275eld"](16,0,null,0,2,"span",[["class","tag-value elipsis  blue"],["style","height: 22px;"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"div",[["class","show-hover-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["MP"])),(l()(),t["\u0275eld"](19,0,null,null,4,"ibm-tag",[["class","e4-tag dot-tag "]],[[1,"class",0]],null,null,u.b,u.a)),t["\u0275did"](20,49152,null,0,o.a,[],{class:[0,"class"]},null),(l()(),t["\u0275eld"](21,0,null,0,2,"span",[["class","tag-value elipsis  orange"],["style","height: 22px;"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"div",[["class","show-hover-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["CP"])),(l()(),t["\u0275eld"](24,0,null,null,4,"ibm-tag",[["class","e4-tag dot-tag "]],[[1,"class",0]],null,null,u.b,u.a)),t["\u0275did"](25,49152,null,0,o.a,[],{class:[0,"class"]},null),(l()(),t["\u0275eld"](26,0,null,0,2,"span",[["class","tag-value elipsis  red"],["style","height: 22px;"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,1,"div",[["class","show-hover-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KPI not meeting target"])),(l()(),t["\u0275eld"](29,0,null,null,4,"ibm-tag",[["class","e4-tag dot-tag "]],[[1,"class",0]],null,null,u.b,u.a)),t["\u0275did"](30,49152,null,0,o.a,[],{class:[0,"class"]},null),(l()(),t["\u0275eld"](31,0,null,0,2,"span",[["class","tag-value  elipsis green"],["style","height: 22px;"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,1,"div",[["class","show-hover-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KPI meeting target"])),(l()(),t["\u0275eld"](34,0,null,null,4,"ibm-tag",[["class","e4-tag dot-tag "]],[[1,"class",0]],null,null,u.b,u.a)),t["\u0275did"](35,49152,null,0,o.a,[],{class:[0,"class"]},null),(l()(),t["\u0275eld"](36,0,null,0,2,"span",[["class","tag-value elipsis yellow"],["style","height: 22px;"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,1,"div",[["class","show-hover-text elipsis"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KPI meeting target, one of the CPs not meeting target"])),(l()(),t["\u0275eld"](39,0,null,null,15,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](40,0,null,null,14,"div",[["class","zoom-icon"],["style","float: right;"]],null,null,null,null,null)),t["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](42,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](43,{"width-64":0,"width-80":1}),(l()(),t["\u0275eld"](44,0,null,null,1,":svg:svg",[["class","zoom-in"],["ibmIconZoomIn16",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.zoomToggle(!0)&&t),t},null,null)),t["\u0275did"](45,4210688,null,0,m.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](46,0,null,null,0,"div",[["class","zoom-mid-line"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,1,":svg:svg",[["class","zoom-in"],["ibmIconZoomOut16",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.zoomToggle(!1)&&t),t},null,null)),t["\u0275did"](48,4210688,null,0,g.a,[t.ElementRef],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](50,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,x)),t["\u0275did"](52,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](54,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](55,0,[[1,0],["zoomable",1]],null,3,"div",[["class","chart"]],null,null,null,null,null)),(l()(),t["\u0275eld"](56,0,[[2,0],["deploymentTreeContainer",1]],null,2,"div",[["class","chart-c"],["style","overflow:visible;color: white;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](57,0,null,null,1,"span",[["class","no-nodes-to-show"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No nodes to show..."])),(l()(),t["\u0275and"](16777216,null,null,1,null,I)),t["\u0275did"](60,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,7,0,n.showGoToParent),l(e,9,0,n.showGoToParent),l(e,11,0,n.showTags),l(e,13,0,n.showTags),l(e,15,0,"e4-tag dot-tag "),l(e,20,0,"e4-tag dot-tag "),l(e,25,0,"e4-tag dot-tag "),l(e,30,0,"e4-tag dot-tag "),l(e,35,0,"e4-tag dot-tag ");var t=l(e,43,0,!n.showFullScreen,n.showFullScreen);l(e,42,0,"zoom-icon",t),l(e,50,0,n.showFullScreen),l(e,52,0,!n.fullScreen&&n.showFullScreen),l(e,54,0,n.fullScreen&&n.showFullScreen),l(e,60,0,n.gettingDeploymentTree)},function(l,e){l(e,14,0,t["\u0275nov"](e,15).attrClass),l(e,16,0,"MP"),l(e,19,0,t["\u0275nov"](e,20).attrClass),l(e,21,0,"CP"),l(e,24,0,t["\u0275nov"](e,25).attrClass),l(e,26,0,"KPI not meeting target"),l(e,29,0,t["\u0275nov"](e,30).attrClass),l(e,31,0,"KPI meeting target"),l(e,34,0,t["\u0275nov"](e,35).attrClass),l(e,36,0,"KPI meeting target, one of the CPs not meeting target")})}},Dg3h:function(l,e,n){"use strict";n.d(e,"a",function(){return t});class t{}},ExNA:function(l,e,n){"use strict";n.d(e,"a",function(){return g});var t=n("mrSG"),i=n("s7LF"),a=(n("PsxR"),n("wd/R")),u=(n("qHnB"),n("SVse")),o=(n("ciZX"),n("9XGM")),r=(n("Z725"),n("bl9C")),s=n("XNiG"),d=n("cp0P"),c=(n("+Kk7"),n("XX5M"),n("Z3BZ"),n("HTWL")),p=n("LvDl"),m=n.n(p);class g{constructor(l,e,n,t,i,a,u,o,r,d,c,p){this.goalService=l,this.settingsService=e,this.calenderService=n,this.formBuilder=t,this._toastrService=i,this.router=a,this.modalService=u,this.confirmationService=o,this.activatedRoute=r,this.kpiService=d,this.metricsService=c,this.cd=p,this.deploymentTreeConfig=null,this.followFocus=!0,this.isNavigation=!1,this.isAddMode=!0,this.cards=[],this.captureDataMap=new Map,this.showViewCapDoRedirectButton=!0,this.weeklyItems=[],this.dailyItems=[],this.shiftWiseItems=[],this.actionLimit="PRAGMATIC",this.disablePragmaticRadioOption=!1,this.extendStructure=!1,this.supportedAttachmentFormats="image/png,image/jpeg,image/jpg,.csv,.doc,.docx,.odf,application/pdf,,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",this.monthlyItems=[],this.yearItems=[{name:1,content:"19-20",selected:!1,startDate:"",endDate:""}],this.QuaterlyItems=[],this.halfYearlyItems=[{name:1,content:"(Apr-Sep)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""},{name:2,content:"(Oct-Mar)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""}],this.KpiItems=[],this.dateArrayDiff=[],this.categoryItems=[],this.shiftItems=[],this.items=[{content:"1"},{content:"2"}],this.directionOfGoodness=[{content:"Higher the better",value:"Up",selected:!1},{content:"Lower the better",value:"Down",selected:!1}],this.ytdCalculation=[{content:"Sum",value:"SUM",selected:!1},{content:"Average",value:"AVG",selected:!1},{content:"Mean",value:"MEAN",selected:!1},{content:"Latest",value:"LATEST",selected:!1},{content:"Custom Formula",value:"FORMULA",selected:!1}],this.weekNumberItems=[{content:"1",selected:!1,isCurrentWeek:!1,name:1}],this.captureFrequencyItems=[],this.filteredFrequencyItems=[],this.filteredReviewFrequencyItems=[],this.perspectiveItems=[],this.unitOfMeasurementItems=[],this.weightageIetms=[],this.reviewItems=[],this.currentid="",this.editNotPermittedMessage="",this.value=[],this.labelDate="Date Picker Label",this.placeholderDate="mm/dd/yyyy",this.placeholder="mm/dd/yyyy",this.invalidText="Invalid date format",this.dateFormat="m/d/Y",this.invalid=!1,this.disabled=!1,this.valueChange="Date change fired!",this.label="Date Picker Label",this.onChange="Change fired!",this.hideLabel=!1,this.autocomplete="on",this.viewers=[],this.owners=[],this.prevValue=0,this.nextValue=7,this.prevTargetValue=0,this.nextTargetValue=7,this.showKpiTarget=!0,this.departmentList=[],this.parentList=[],this.previousFileArray=[{id:"",name:"",url:""}],this.selectedShifttem=[],this.hourlyShifttem=[{name:"1",selected:!1,target:"",lower:"",upper:"",startDate:"00AM",endDate:"1AM",content:"00AM - 1AM"},{name:"2",selected:!1,target:"",lower:"",upper:"",startDate:"1AM",endDate:"2AM",content:"1AM - 2 AM"},{name:"3",selected:!1,target:"",lower:"",upper:"",startDate:"2AM",endDate:"3AM",content:"2 AM - 3 AM"},{name:"4",selected:!1,target:"",lower:"",upper:"",startDate:"3AM",endDate:"4AM",content:"3 AM - 4 AM"},{name:"5",selected:!1,target:"",lower:"",upper:"",startDate:"4AM",endDate:"5AM",content:"4 AM - 5 AM"},{name:"6",selected:!1,target:"",lower:"",upper:"",startDate:"5AM",endDate:"6AM",content:"5 AM - 6 AM"},{name:"7",selected:!1,target:"",lower:"",upper:"",startDate:"6AM",endDate:"7AM",content:"6 AM - 7 AM"},{name:"8",selected:!1,target:"",lower:"",upper:"",startDate:"7AM",endDate:"8AM",content:"7 AM - 8 AM"},{name:"9",selected:!1,target:"",lower:"",upper:"",startDate:"8AM",endDate:"9AM",content:"8 AM - 9 AM"},{name:"10",selected:!1,target:"",lower:"",upper:"",startDate:"9AM",endDate:"10AM",content:"9 AM - 10 AM"},{name:"11",selected:!1,target:"",lower:"",upper:"",startDate:"10AM",endDate:"11AM",content:"10 AM - 11 AM"},{name:"12",selected:!1,target:"",lower:"",upper:"",startDate:"11AM",endDate:"12AM",content:"11 AM - 12 PM"},{name:"13",selected:!1,target:"",lower:"",upper:"",startDate:"12AM",endDate:"1PM",content:"12 PM - 1 PM"},{name:"14",selected:!1,target:"",lower:"",upper:"",startDate:"1PM",endDate:"2PM",content:"1 PM - 2 PM"},{name:"15",selected:!1,target:"",lower:"",upper:"",startDate:"2PM",endDate:"3PM",content:"2 PM - 3 PM"},{name:"16",selected:!1,target:"",lower:"",upper:"",startDate:"3PM",endDate:"4PM",content:"3 PM - 4 PM"},{name:"17",selected:!1,target:"",lower:"",upper:"",startDate:"4PM",endDate:"5PM",content:"4 PM - 5 PM"},{name:"18",selected:!1,target:"",lower:"",upper:"",startDate:"5PM",endDate:"6PM",content:"5 PM - 6 PM"},{name:"19",selected:!1,target:"",lower:"",upper:"",startDate:"6PM",endDate:"7PM",content:"6 PM - 7 PM"},{name:"20",selected:!1,target:"",lower:"",upper:"",startDate:"7PM",endDate:"8PM",content:"7 PM - 8 PM"},{name:"21",selected:!1,target:"",lower:"",upper:"",startDate:"8PM",endDate:"9PM",content:"8 PM - 9 PM"},{name:"22",selected:!1,target:"",lower:"",upper:"",startDate:"9PM",endDate:"10PM",content:"9 PM - 10 PM"},{name:"23",selected:!1,target:"",lower:"",upper:"",startDate:"10PM",endDate:"11PM",content:"10 PM - 11 PM"},{name:"24",selected:!1,target:"",lower:"",upper:"",startDate:"11PM",endDate:"00AM",content:"11 PM - 00 AM"}],this.yearList=[],this.hoverTrue=!1,this.canEdit=!1,this.isNextYear=!1,this.ytdTargetFormulaList=[],this.ytdTargetSearch="",this.ytdActualSearch="",this.ytdActualFormulaList=[],this.minDate=new Date,this.groups=[],this.noParentKpi=!1,this.reviewItemsBackUp=[],this.holidays=[],this.searchedFormsForStratify=[],this.targetFormFieldList=[],this.searchedUpperLimitMetrics=[],this.searchedLowerLimitMetrics=[],this.dataCaptureFrequencyAggrLogicItems=[{content:"Sum",value:"SUM"},{content:"Average",value:"AVG"}],this.expandAccordianItems=!0,this.parentPerspectiveChangeSubject=new s.a;for(let s=1;s<=100;s++)this.weightageIetms.push({content:s,selected:!1});this.createForm()}ngDoCheck(){this.cd.markForCheck()}ngOnInit(){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.isPreviousYear=!1,this.isEditPermitted=!0;let l=this.router.url.split("/");this.isAddMode="add"===l[2],this.activatedRoute.params.subscribe(l=>{this.currentid=l.id,this.kpiCapDoPageURL="/org-kpi/performance-indicator/"+l.id,this.extend="extend"===l.extend});let e=yield this.getperspectivesNew();if(e&&e.success&&(this.perspectiveItems=e.response.map(({perspective:l,_id:e,perspectivePrefix:n})=>({content:l,id:e,perspectivePrefix:n}))),!this.isAddMode)try{this.isKPILoading=!0;let l=yield this.getReviewFreqNew();l&&l.success&&(this.reviewItems=l.response.map(({value:l,_id:e,order:n})=>({content:l,id:e,order:n})));let e=yield this.getFinancialYearsNew();e&&e.success&&(this.financialYearsResp=e);let t=yield this.getShiftSettingsNew(),i=yield this.getCaptureFreqNew();i&&i.success&&(this.captureFrequencyItems=[],this.captureFrequencyItems=i.response.map(({value:l,_id:e,order:n})=>({content:l,id:e,order:n}))),t&&t.success&&(this.shiftItems=t.response.map(({_id:l,shiftHours:e,shiftNumber:n,shiftEnd:t,shiftStart:i,content:a=i+"-"+t})=>({id:l,shiftHours:e,shiftNumber:n,shiftStart:i,shiftEnd:t,content:a}))),this.isKPILoading=!1,this.getGoalDetail(),this.getcaptureFrequencyForPerspective()}catch(n){this.isKPILoading=!1}this.getKpiTargetData()})}getCalData(l){return Object(t.__awaiter)(this,void 0,void 0,function*(){let e;e=l?yield this.getCalenderData(l):yield this.getCalenderData();const n=["January","February","March","April","May","June","July","August","September","October","November","December"],t=this.getSelectAllArray();this.weekNumberItems=t.concat(e[0].response.map(({week:l,weekStartDate:e,weekEndDate:n,week:t,0:i,0:a,0:u,isCurrentWeek:o})=>({content:l,weekStartDate:e,weekEndDate:n,target:i,upper:u,lower:a,name:t,isCurrentWeek:o}))),this.weekNumberItems.forEach(l=>{0!=l.name&&(l.content=this.getWeekContent(l.content,l.weekStartDate,l.weekEndDate))}),this.monthlyItems=t.concat(e[1].response.map(({start:l,end:e,0:t,0:i,0:a,isCurrentMonth:u})=>({content:n[new Date(l).getMonth()],name:1,startDate:l,endDate:e,target:t,upper:a,lower:i,isCurrentMonth:u}))),this.monthlyItems.forEach((l,e)=>{0!=l.name&&(l.name=e)}),this.monthlyItemsShow=e[1].response.map(({start:l,end:e,0:t,0:i,0:a,isCurrentMonth:u})=>({content:n[new Date(l).getMonth()],name:1,startDate:l,endDate:e,target:t,upper:a,lower:i,isCurrentMonth:u}));for(let l=0;l<this.monthlyItemsShow.length;l++){let e=this.monthlyItemsShow[l];e.isCurrentMonth&&(this.selectedMonthStart=e.startDate,this.selectedMonthEnd=e.endDate)}e[2].response.forEach((l,e)=>{this.QuaterlyItems.push({content:"("+n[new Date(l[0].start).getMonth()]+"-"+n[new Date(l[2].end).getMonth()]+")",name:e+1,startDate:l[0].start,endDate:l[2].end,target:0,upper:0,lower:0,isCurrentQuarter:l.isCurrentQuarter})}),this.QuaterlyItems.forEach((l,e)=>{l.name=e+1})})}getMonthDateRange(l){let e=parseInt(l);e>9?e-=9:e+=3;var n=(new Date).getFullYear();(new Date).getMonth()<=2&&(n-=1);var t=a([n,e-1]),i=a(t).endOf("month");return{startDate:t.toDate().toISOString().slice(0,10).toString(),endDate:i.toDate().toISOString().slice(0,10).toString()}}getQuaterRange(l){let e=3;e=1===l?4:2===l?7:3===l?10:1;var n=(new Date).getFullYear(),t=(new Date).getMonth();t<=3&&e>=4&&e<=12?n-=1:t>3&&e<4?n+=1:n=n;var i=a([n,e-1]),u=a(a(i).add(3,"M")).endOf("month"),o=i.toDate().getFullYear().toString().substr(-2),r=u.toDate().getFullYear().toString().substr(-2);return{startDate:i.toDate().toISOString().slice(0,10).toString(),endDate:u.toDate().toISOString().slice(0,10).toString(),startYear:o,endYear:r}}getFinancialYears(){return this.calenderService.getfinancialYearList()}getFinancialYearsNew(){return this.calenderService.getfinancialYearList().toPromise()}filterFinacialYearsitems(l,e){const n=l.findIndex(l=>1==l.isCurrentFY);let t=[];if(null==e||l[n].startUnix<=e)t.push({content:"FY "+l[n].start.split("-")[0]+"-"+l[n].end.split("-")[0],isCurrentFY:l[n].isCurrentFY,start:l[n].start,end:l[n].end,startUnix:l[n].startUnix,endUnix:l[n].endUnix,selected:!!l[n].isCurrentFY}),t.push({content:"FY "+l[n+1].start.split("-")[0]+"-"+l[n+1].end.split("-")[0],isCurrentFY:l[n+1].isCurrentFY,start:l[n+1].start,end:l[n+1].end,startUnix:l[n+1].startUnix,endUnix:l[n+1].endUnix,selected:!!l[n+1].isCurrentFY});else{const n=l.findIndex(l=>l.startUnix==e);t.push({content:"FY "+l[n].start.split("-")[0]+"-"+l[n].end.split("-")[0],isCurrentFY:l[n].isCurrentFY,start:l[n].start,end:l[n].end,startUnix:l[n].startUnix,endUnix:l[n].endUnix,selected:!1})}this.yearList=t}setSemiYearDate(l){l.forEach(l=>{})}setYearDate(l){const e=["January","February","March","April","May","June","July","August","September","October","November","December"];l.forEach(l=>{l.selected&&(this.yearItems[0].content="FY "+l.start.split("-")[0]+"-"+l.end.split("-")[0],this.yearItems[0].startDate=l.start,this.yearItems[0].endDate=l.end,this.kpiForm.patchValue({financialYear:l}),this.yearStartDate=l.startUnix,this.yearEndDate=l.endUnix,this.halfYearlyItems[0].content="("+e[new Date(l.start).getMonth()]+"-"+e[new Date(l.start).getMonth()+5]+")",this.halfYearlyItems[0].startDate=a(l.start,"YYYY-MM-DD").format("YYYY-MM-DD"),this.halfYearlyItems[0].endDate=a(l.start,"YYYY-MM-DD").add(5,"months").format("YYYY-MM-DD"),this.halfYearlyItems[1].content="("+e[new Date(l.start).getMonth()+6]+"-"+e[new Date(l.end).getMonth()]+")",this.halfYearlyItems[1].startDate=a(l.start,"YYYY-MM-DD").add(6,"months").format("YYYY-MM-DD"),this.halfYearlyItems[1].endDate=a(l.start,"YYYY-MM-DD").add(11,"months").format("YYYY-MM-DD"))})}setFinancialYear(l){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.isNextYear=!l.item.isCurrentFY,-1==this.yearList.findIndex(e=>e.startUnix==l.item.startUnix&&e.selected)&&(yield this.getCalData(l.item),this.parentList=null,setTimeout(()=>{this.parentList=[]},100),this.deploymentTreeConfig={orientation:null,connectorType:null,nodes:null},this.kpiForm.get("parent").setValue(null),this.yearList.forEach(e=>{e.selected=e.startUnix==l.item.startUnix}),this.filteredFrequencyItems.forEach(l=>{l.id==this.kpiForm.value.dataCaptureFrequency.id&&(l.selected=!0,this.captureType=l.content.toUpperCase(),this.selectedCaptureType=l.content.toUpperCase(),this.clearcaptureData(),this.setEditedCard(this.savedcaptureData,this.captureType))}),this.setYearDate(this.yearList),this.getParent(!1))})}clearCaptureFreqAndReviewFreqInfo(){this.selectedCaptureType="",this.captureType="",this.filteredFrequencyItems=[],this.filteredReviewFrequencyItems=[],this.kpiForm.get("dataCaptureFrequency").setValue(null),this.kpiForm.get("reviewFrequency").setValue(null),this.clearcaptureData()}sourceEvent(l){this.source=l}fieldEvent(l){this.field=l}getOwner(l){this.owners=l}getGroup(l){this.groups=l}getViewer(l){this.viewers=l}setWeightage(l){this.weightage=l}getKPITypes(){return this.settingsService.getKpiTypes()}getCategory(){return this.settingsService.getCategories()}getShiftSettingsNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getShiftSettings().toPromise()})}getDepartments(){return this.settingsService.getDepartments()}getParent(l){return this.goalService.getmPcP(this.yearStartDate,this.yearEndDate).subscribe(e=>{if(e&&e.response){let n;this.parentObj&&!this.extend&&(e.response||[]).findIndex(l=>l._id===this.parentObj._id)<0&&e.response.push(this.parentObj),this.parentList=e.response.map(({_id:l,title:e,dataCaptureFrequency:n,reviewFrequency:t,goalTag:i,unitOfMeasurement:a})=>({id:l,content:e,dataCaptureFrequency:n,reviewFrequency:t,goalTag:i,unitOfMeasurement:a}));let t=this.parentList.map(l=>(l.content=l.goalTag+"-"+l.content,l.id==this.kpiForm.value.parent&&(l.selected=!0,n=l,this.kpiForm.patchValue({parent:l})),l));this.parentList=m.a.cloneDeep(t),n&&(this.selectedMPParentUoM=n.unitOfMeasurement,this.onParentSet({item:n},l)),this.kpiForm.value.perspective&&this.onParentSet({item:{id:this.currentid}},l)}})}getFileData(l){this.settingsService.getFiles(l).subscribe(l=>{l&&l&&(this.previousFileArray=l.response.map(({_id:l,fileName:e,fileURL:n})=>({id:l,name:e,url:n})),this.attachmentFile=this.previousFileArray[0])})}getGoalDetail(){this.isKPILoading=!0,this.goalService.getGoalDetails(this.currentid,this.extend).subscribe(l=>Object(t.__awaiter)(this,void 0,void 0,function*(){if(l&&l.success){const e=l.response;if(this.selectedKpi=e,this.isDraft=e.isDraft,this.primaryOwnerName=e.owners.individuals[0].firstname+" "+e.owners.individuals[0].lastname,this.editfinancialYearStart=e.financialYearStart,this.getFileData(l.response._id),this.extendedFromGoalId=l.response.id,this.showViewCapDoRedirectButton=e.isApproved&&e.isActive&&!this.isDraft,e.targetFromForm){let l=e.targetFromForm,n=l.aggregationLogic;this.dataCaptureFrequencyAggrLogicItems.forEach(l=>{l.selected=l.value.toLowerCase()===n.toLowerCase()});let t=m.a.cloneDeep(this.dataCaptureFrequencyAggrLogicItems);this.dataCaptureFrequencyAggrLogicItems=[],setTimeout(()=>{this.dataCaptureFrequencyAggrLogicItems=t},600),this.aggregationLogic=n,l.target&&(this.useForStratefyTarget=!0,this.selectedStratifyFormId=l.target.formId,this.selectedStratifyTargetFieldId=l.target.formFieldId,this.targetFormQuery=l.target.formName,this.targetQuery=l.target.fieldName,this.targetFormFieldList=[],this.metricsService.getMetricFieldsForSelectedForm(this.selectedStratifyFormId).subscribe(l=>{l&&l.success&&l.response.forEach(l=>{this.targetFormFieldList.push({id:l.uuid,content:l.label})})},l=>{this.targetFormFieldList=[]})),l.lower&&l.upper&&(this.useForStratifyLowerUpper=!0,this.selectedStratifyLowerLimitFieldId=l.lower.formFieldId,this.lowerLimitQuery=l.lower.fieldName,this.selectedStratifyUpperLimitFieldId=l.upper.formFieldId,this.upperLimitQuery=l.upper.fieldName)}this.kpiForm.patchValue({title:e.title,pragmaticLimitValue:e.pragmaticLimitValue,goalId:e.goalId?e.goalId:"",targetYTDCustomFormula:e.targetYTDCustomFormula?e.targetYTDCustomFormula:void 0,actualYTDCustomFormula:e.actualYTDCustomFormula?e.actualYTDCustomFormula:void 0,KpiType:e.type,category:e.category,directionOfGoodness:"Up"===e.directionOfGoodness?"Higher the better":"Lower the better",ytdCalculation:this.getYTDCalculationValueFromKPI(e.ytdCalculation),weightage:e.weightage,annualTarget:e.annualTarget,lowerLimit:e.lowerLimit,upperLimit:e.upperLimit,dataCaptureFrequency:e.dataCaptureFrequency,kpiDescription:e.goalDescription,remark:e.remark,kpiFormula:e.kpiFormula,isActive:e.isActive,reviewFrequency:e.reviewFrequency,unitOfMeasurement:e.unitOfMeasurement,department:e.departmentId,parent:e.parentId,perspectivePrefix:e.perspectivePrefix,perspective:e.perspective,noParent:null==e.parentId,isDraft:e.isDraft?e.isDraft:void 0}),this.parentPerspectiveState={parent:this.kpiForm.value.parent,perspectivePrefix:this.kpiForm.value.perspectivePrefix,perspective:this.kpiForm.value.perspective,noParent:this.kpiForm.value.noParent},this.targetFinancialYear=a(e.fyStart).format("YYYY")+"-"+a(e.fyEnd).format("YYYY"),this.targetKpiTitle=e.title,this.actualYtd=e.ytdActual,this.targetYtd=e.ytdTarget,this.totalChildrenCount=e.totalChildrenCount,this.actionLimit=e.actionLimit,null==e.parentId&&(this.noParentKpi=!0);let n=this.perspectiveItems.map(l=>(l.id==this.kpiForm.value.perspective&&(l.selected=!0,this.kpiForm.patchValue({perspective:l})),l.content=l.perspectivePrefix+" ("+l.content+")",l));this.perspectiveItems=m.a.cloneDeep(n),this.parentObj=e.parentObject,this.achievementLevelDataSource=e.source?e.source:void 0,this.isEditPermitted=e.isEditPermitted,this.editNotPermittedMessage=e.editNotPermittedMessage,this.selectedYTDValue=e.ytdCalculation,this.selectedYTDTargetFormulaId=e.targetYTDCustomFormula?e.targetYTDCustomFormula:void 0,this.selectedYTDActualFormulaId=e.actualYTDCustomFormula?e.actualYTDCustomFormula:void 0,e.targetYTDCustomFormula&&this.getCustomYtdFormulaRecord(e.targetYTDCustomFormula,0),e.actualYTDCustomFormula&&this.getCustomYtdFormulaRecord(e.actualYTDCustomFormula,1),this.weightage=this.kpiForm.value.weightage,this.savedcaptureData=m.a.cloneDeep(l.response.captureData),this.getOwnersAndViewers(e);let t=l.response.captureData,i=m.a.cloneDeep(this.captureFrequencyItems);if(this.financialYearsResp&&this.financialYearsResp.response&&this.financialYearsResp.success){if(this.isAddMode)this.filterFinacialYearsitems(this.financialYearsResp.response,null);else{this.filterFinacialYearsitems(this.financialYearsResp.response,this.editfinancialYearStart),this.isPreviousYear=1==this.yearList.length,this.extend&&this.isPreviousYear&&this.filterFinacialYearsitems(this.financialYearsResp.response,null);for(let l=0;l<this.yearList.length;l++){let e=this.yearList[l];if(!this.extend&&this.isPreviousYear)e.isCurrentFY&&(e.selected=!1),e.startUnix===this.editfinancialYearStart&&(e.selected=!0,this.isNextYear=!e.isCurrentFY,e.isCurrentFY||(this.isNextYear=!this.isPreviousYear),yield this.getCalData());else{if(e.startUnix===this.editfinancialYearStart){e.selected=!0,this.isNextYear=!e.isCurrentFY,yield this.getCalData();break}this.selectedKpi.isDraft&&(e.selected=!1),this.selectedKpi.isDraft&&!1!==this.selectedKpi.isDraft||e.isCurrentFY&&(e.selected=!1,this.isNextYear=!e.isCurrentFY,this.extend&&(e.selected=!0,yield this.getCalData()))}}}this.setYearDate(this.yearList)}if(i.forEach(l=>{l.id==this.kpiForm.value.dataCaptureFrequency&&(l.selected=!0,this.captureType=l.content.toUpperCase(),this.selectedCaptureType=l.content.toUpperCase(),this.setEditedCard(t,this.captureType))}),this.filteredFrequencyItems=i,"SHIFT WISE"===this.captureType){let l=m.a.cloneDeep(this.shiftItems);this.shiftItems=[],l.forEach(l=>{l.content=l.shiftStart+"-"+l.shiftEnd,this.kpiForm.value.captureData.forEach(e=>{l.shiftNumber==e.name&&"SHIFT WISE"===this.captureType&&(l.selected=!0,this.selectedShifttem.push(e))})}),setTimeout(()=>{this.shiftItems=m.a.cloneDeep(l)},100)}let u=i.find(l=>l.selected).content.toUpperCase(),o=m.a.cloneDeep(this.reviewItems);(o=o.filter(l=>this.filterReviewItem(u,l.content.toUpperCase()))).forEach(l=>{l.id==this.kpiForm.value.reviewFrequency&&(l.selected=!0)}),this.filteredReviewFrequencyItems=o,this.combineFetchData(),this.setDateinCalender(t),this.weightageIetms=[];for(let l=1;l<=100;l++)this.weightageIetms.push(l==this.kpiForm.value.weightage?{content:l,selected:!0}:{content:l,selected:!1});this.ytdCalculation=[{content:"Sum",value:"SUM",selected:!1},{content:"Average",value:"AVG",selected:!1},{content:"Mean",value:"MEAN",selected:!1},{content:"Latest",value:"LATEST",selected:!1},{content:"Custom Formula",value:"FORMULA",selected:!1}],this.directionOfGoodness=[{content:"Higher the better",value:"Up",selected:!1},{content:"Lower the better",value:"Down",selected:!1}],this.directionOfGoodness.forEach(l=>{l.content.toUpperCase()==this.kpiForm.value.directionOfGoodness.toUpperCase()&&(l.selected=!0)}),this.ytdCalculation.forEach(l=>{l.selected=l.content===this.kpiForm.value.ytdCalculation})}this.isKPILoading=!1}))}getYTDCalculationValueFromKPI(l){return"SUM"===l?"Sum":"AVG"===l?"Average":"LATEST"===l?"Latest":"FORMULA"===l?"Custom Formula":"MEAN"===l?"Mean":void 0}getPerspectives(){this.settingsService.getPerspectives().subscribe(l=>{l&&l.success&&(this.perspectiveItems=l.response.map(({perspective:l,_id:e,perspectivePrefix:n})=>({content:l,id:e,perspectivePrefix:n})),this.perspectiveItems.forEach(l=>{l.id==this.kpiForm.value.perspective&&(l.selected=!0),l.content=l.perspectivePrefix+" ("+l.content+")"}))})}getEditCaptureFreqNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getCapturefrequency().toPromise()})}combineFetchData(){Object(d.a)(this.getDepartments(),this.getCategory(),this.getKPITypes(),this.getUnitofMeasurement()).subscribe(l=>Object(t.__awaiter)(this,void 0,void 0,function*(){l[0]&&l[0].success&&(this.departmentList=l[0].response.map(({name:l,id:e})=>({content:l,id:e,selected:e==this.kpiForm.value.department}))),l[1]&&l[1].success&&(this.categoryItems=l[1].response.map(({_id:l,category:e})=>({id:l,content:e,selected:l==this.kpiForm.value.category}))),l[2]&&l[2].success&&(this.KpiItems=l[2].response.map(({_id:l,type:e})=>({id:l,content:e,selected:l==this.kpiForm.value.KpiType}))),l[3]&&l[3].success&&(this.unitOfMeasurementItems=l[3].response.map(({value:l,_id:e})=>({content:l,id:e,selected:e==this.kpiForm.value.unitOfMeasurement}))),this.getParent(!0),this.getHolidays()}))}setDateinCalender(l){"HOURLY"!==this.captureType&&"SHIFT WISE"!==this.captureType&&"DAILY"!==this.captureType||(this.value.push(new Date(l[0].startDate)),this.value.push(new Date(l[l.length-1].startDate)))}getCalenderData(l){return Object(t.__awaiter)(this,void 0,void 0,function*(){let e=l||this.yearList.find(l=>!0===l.selected);return e?Object(d.a)(this.getWeeks(e.startUnix),this.getMonthData(e.startUnix),this.getQuarterRangeData(e.startUnix)).toPromise():Object(d.a)(this.getWeeks(),this.getMonthData(),this.getQuarterRangeData()).toPromise()})}getSelectAllArray(){return[{content:"Select All",selected:!1,isCurrentWeek:!1,name:0}]}getWeeks(l){return this.weekNumberItems=[],l?this.settingsService.getWeeks(void 0,l):this.settingsService.getWeeks(this.isNextYear)}getMonthData(l){return this.monthlyItems=[],l?this.calenderService.getMonthRange(void 0,l):this.calenderService.getMonthRange(this.isNextYear)}getQuarterRangeData(l){return this.QuaterlyItems=[],l?this.calenderService.getQuarterRange(void 0,l):this.calenderService.getQuarterRange(this.isNextYear)}filterReviewItem(l,e){return"SHIFT WISE"===l?"HOURLY"!==e:"DAILY"===l?"SHIFT WISE"!==e&&"HOURLY"!==e:"WEEKLY"===l?"SHIFT WISE"!==e&&"DAILY"!==e&&"HOURLY"!==e:"MONTHLY"===l?"WEEKLY"!==e&&"SHIFT WISE"!==e&&"DAILY"!==e&&"HOURLY"!==e:"QUARTERLY"===l?"WEEKLY"!==e&&"MONTHLY"!==e&&"SHIFT WISE"!==e&&"DAILY"!==e&&"HOURLY"!==e:"HALF YEARLY"===l?"WEEKLY"!==e&&"MONTHLY"!==e&&"SHIFT WISE"!==e&&"DAILY"!==e&&"QUARTERLY"!==e&&"HOURLY"!==e:"YEARLY"!==l||"YEARLY"===e}setDefaultWeek(){let l=[];const e=this.weekNumberItems.find(l=>l.isCurrentWeek);l.push(e),this.setCard(l)}setreviewFrequency(l,e){let n=m.a.cloneDeep(this.reviewItems);n=n.filter(e=>this.filterReviewItem(l,e.content.toUpperCase())),this.filteredReviewFrequencyItems=n}setFetchedCards(l){"MONTHLY"===l?this.monthlyItems=this.monthlyItems.map(l=>(l.selected=!1,l)):"WEEKLY"===l?this.weeklyItems=this.weeklyItems.map(l=>(l.selected=!1,l)):"QUARTERLY"===l?this.QuaterlyItems=this.QuaterlyItems.map(l=>(l.selected=!1,l)):"HALF YEARLY"===l?this.halfYearlyItems=this.halfYearlyItems.map(l=>(l.selected=!1,l)):"YEARLY"===l&&(this.yearItems=this.yearItems.map(l=>(l.selected=!1,l)))}resetDatecalender(){this.dailyItems=[],this.value=[],this.prevValue=0,this.nextValue=7,this.selectedShifttem=[],this.dateArrayDiff=[]}selectEditedShiftItem(){this.shiftItems.forEach(l=>{l.selected&&this.selectedShifttem.push(l)})}onYTDChange(l){this.selectedYTDValue=l.item.value,"FORMULA"!==this.selectedYTDValue&&(this.selectedYTDTargetFormulaId="",this.selectedYTDActualFormulaId="")}onClickcapture(l){this.captureType=l.item.content.toUpperCase(),"HOURLY"===this.captureType.toUpperCase()||"DAILY"===this.captureType.toUpperCase()||"SHIFT WISE"===this.captureType.toUpperCase()||"WEEKLY"===this.captureType.toUpperCase()?(this.actionLimit="MANUAL",this.disablePragmaticRadioOption=!0):(this.actionLimit="PRAGMATIC",this.disablePragmaticRadioOption=!1),this.kpiForm.patchValue({checkbox:!1}),this.kpiForm.get("reviewFrequency").setValue(null),this.noParentKpi?(this.resetDatecalender(),this.setreviewFrequency(l.item.content.toUpperCase()),"HOURLY"===l.item.content.toUpperCase()||"DAILY"===l.item.content.toUpperCase()?this.clearcaptureData():"SHIFT WISE"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.shiftWiseItems,this.isAddMode||this.selectEditedShiftItem()):"WEEKLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.isAddMode&&this.setDefaultWeek(),this.cards=this.weeklyItems):"MONTHLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.monthlyItems):"QUARTERLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.setCard(this.QuaterlyItems)):"HALF YEARLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.setCard(this.halfYearlyItems)):(this.clearcaptureData(),this.setCard(this.yearItems)),this.setFetchedCards(l.item.content.toUpperCase())):(this.resetDatecalender(),this.setreviewFrequency(l.item.content.toUpperCase()),"HOURLY"===l.item.content.toUpperCase()||"DAILY"===l.item.content.toUpperCase()?this.clearcaptureData():"SHIFT WISE"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.shiftWiseItems,this.isAddMode||this.selectEditedShiftItem()):"WEEKLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.weeklyItems):"MONTHLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.monthlyItems):"QUARTERLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.setCard(this.QuaterlyItems)):"HALF YEARLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.setCard(this.halfYearlyItems)):(this.clearcaptureData(),this.setCard(this.yearItems)),this.isAddMode||this.setFetchedCards(l.item.content.toUpperCase()))}valueDateChange(l){this.dailyItems=[],this.clearcaptureData();let e=this.enumerateDaysBetweenDates(l[0],l[1]);this.dateArrayDiff=e,0!=e.length?e.forEach((l,e)=>{"SHIFT WISE"===this.captureType?this.selectedShifttem.forEach((e,n)=>{let t=new Date(l),i=new Date(l),a=new Date(l),o=new Date(l);this.dailyItems.push({name:e.shiftNumber,selected:!1,target:"",lower:"",upper:"",startDate:t.setHours(e.shiftStart.includes("AM")?12==parseInt(e.shiftStart.split(" ")[0])?0:parseInt(e.shiftStart.split(" ")[0]):12+parseInt(e.shiftStart.split(" ")[0])),endDate:i.setHours(e.shiftEnd.includes("AM")?12==parseInt(e.shiftEnd.split(" ")[0])?24:parseInt(e.shiftEnd.split(" ")[0]):12+parseInt(e.shiftEnd.split(" ")[0])),content:Object(u.formatDate)(a.setHours(e.shiftStart.includes("AM")?12==parseInt(e.shiftStart.split(" ")[0])?0:parseInt(e.shiftStart.split(" ")[0]):12+parseInt(e.shiftStart.split(" ")[0])),"MMM d, y, h:mm a","en-us")+" - "+Object(u.formatDate)(o.setHours(e.shiftEnd.includes("AM")?12==parseInt(e.shiftEnd.split(" ")[0])?24:parseInt(e.shiftEnd.split(" ")[0]):12+parseInt(e.shiftEnd.split(" ")[0])),"MMM d, y, h:mm a","en-us")})}):"HOURLY"===this.captureType?this.hourlyShifttem.forEach((e,n)=>{this.dailyItems.push({name:e.name,selected:!1,target:"",lower:"",upper:"",startDate:m.a.cloneDeep(l).setHours(e.startDate.includes("AM")?parseInt(e.startDate.split("AM")[0]):12+parseInt(e.startDate.split("PM")[0])),endDate:m.a.cloneDeep(l).setHours(e.endDate.includes("AM")?parseInt(e.endDate.split("AM")[0]):12+parseInt(e.endDate.split("PM")[0])),content:Object(u.formatDate)(m.a.cloneDeep(l).setHours(e.startDate.includes("AM")?parseInt(e.startDate.split("AM")[0]):12+parseInt(e.startDate.split("PM")[0])),"MMM d, y, h:mm a","en-us")+" - "+Object(u.formatDate)(m.a.cloneDeep(l).setHours(e.endDate.includes("AM")?0==parseInt(e.endDate.split("AM")[0])?24:parseInt(e.endDate.split("AM")[0]):12+parseInt(e.endDate.split("PM")[0])),"MMM d, y, h:mm a","en-us")})}):this.dailyItems.push({name:e+1,selected:!1,target:"",lower:"",upper:"",startDate:Object(u.formatDate)(l,"MMM d, y","en-US"),endDate:Object(u.formatDate)(l,"MMM d, y","en-US"),content:Object(u.formatDate)(l,"MMM d, y","en-US")})}):this.dailyItems.push({name:"1",selected:!1,target:"",lower:"",upper:"",startDate:Object(u.formatDate)(l[0],"MMM d, y","en-US"),endDate:Object(u.formatDate)(l[0],"MMM d, y","en-US"),content:Object(u.formatDate)(l[0],"MMM d, y","en-US")}),this.setCard(this.dailyItems)}enumerateDaysBetweenDates(l,e){var n=[],t=a(l).startOf("day"),i=null!=e?a(e).startOf("day"):a(l).startOf("day");for(n.push(t.clone().toDate());t.add(1,"days").diff(i)<=0;)n.push(t.clone().toDate());return n}clearcaptureData(){for(this.captureData=this.kpiForm.get("captureData");this.captureData.length>0;)this.captureData.removeAt(0);this.kpiForm.patchValue({captureData:this.captureData.value}),this.captureDataMap.clear()}onGoalSelection(l){this.selectedCard=l.value}onCloseCard(l){l.value.target=0,l.value.lower=0,l.value.upper=0,l.patchValue({disabled:!l.value.disabled,target:0,upper:0,lower:0})}onPreviousClick(){0!=this.prevValue&&this.filterArray(this.kpiForm.get("captureData").controls,this.selectedMonthStart,this.selectedMonthEnd,this.captureType).length>7&&(this.prevValue=this.prevValue-7,this.nextValue=this.nextValue-7)}onNextClick(){0!=this.nextValue&&this.nextValue<this.filterArray(this.kpiForm.get("captureData").controls,this.selectedMonthStart,this.selectedMonthEnd,this.captureType).length&&this.filterArray(this.kpiForm.get("captureData").controls,this.selectedMonthStart,this.selectedMonthEnd,this.captureType).length>7&&(this.prevValue=this.prevValue+7,this.nextValue=this.nextValue+7)}setSelectedOptions(l,e,n){if(n)for(let t=0;t<(e||[]).length;t++)e[t].selected=!0;else for(let t=0;t<(e||[]).length;t++){let n=e[t],i=l.findIndex(l=>l.content===n.content)>-1;n.selected=!!i}}onClickWeekNumber(l){if(0==l.length)this.weekNumberItems.forEach(l=>{l.selected=!1}),this.clearcaptureData();else{let e=!1;this.setSelectedOptions(l,this.weekNumberItems,e=!(this.weekNumberItems[0].selected||"Select All"!==l[0].content||!l[0].selected));let n=this.weekNumberItems.slice(1).every(l=>l.selected);this.weekNumberItems[0].selected=!!n;let t=m.a.cloneDeep(this.weekNumberItems);if(this.weekNumberItems=[],this.weekNumberItems=t,n||e)this.setCard(this.weekNumberItems.slice(1));else{let e=[];e=l.findIndex(l=>0==l.name)>-1?l.slice(1):l,this.setCard(e)}}}onClickMonth(l){if(0==l.length)this.monthlyItems.forEach(l=>{l.selected=!1}),this.clearcaptureData();else{let e=!1;this.setSelectedOptions(l,this.monthlyItems,e=!(this.monthlyItems[0].selected||"Select All"!==l[0].content||!l[0].selected));let n=this.monthlyItems.slice(1).every(l=>l.selected);this.monthlyItems[0].selected=!!n;let t=m.a.cloneDeep(this.monthlyItems);if(this.monthlyItems=[],this.monthlyItems=t,n||e)this.setCard(this.monthlyItems.slice(1));else{let e=[];e=l.findIndex(l=>0==l.name)>-1?l.slice(1):l,this.setCard(e)}}}changeshiftCard(){this.dateArrayDiff=this.enumerateDaysBetweenDates(this.dailyItems[0].startDate,this.dailyItems[this.dailyItems.length-1].startDate);let l=this.dailyItems;this.dailyItems=[],this.clearcaptureData(),this.dateArrayDiff.forEach((l,e)=>{this.selectedShifttem.forEach((e,n)=>{let t=new Date(l),i=new Date(l),a=new Date(l),o=new Date(l);this.dailyItems.push({name:e.shiftNumber,selected:!1,target:"",lower:"",upper:"",startDate:t.setHours(e.shiftStart.includes("AM")?12==parseInt(e.shiftStart.split(" ")[0])?0:parseInt(e.shiftStart.split(" ")[0]):12+parseInt(e.shiftStart.split(" ")[0])),endDate:i.setHours(e.shiftEnd.includes("AM")?12==parseInt(e.shiftEnd.split(" ")[0])?24:parseInt(e.shiftEnd.split(" ")[0]):12+parseInt(e.shiftEnd.split(" ")[0])),content:Object(u.formatDate)(a.setHours(e.shiftStart.includes("AM")?12==parseInt(e.shiftStart.split(" ")[0])?0:parseInt(e.shiftStart.split(" ")[0]):12+parseInt(e.shiftStart.split(" ")[0])),"MMM d, y, h:mm a","en-us")+" - "+Object(u.formatDate)(o.setHours(e.shiftEnd.includes("AM")?12==parseInt(e.shiftEnd.split(" ")[0])?24:parseInt(e.shiftEnd.split(" ")[0]):12+parseInt(e.shiftEnd.split(" ")[0])),"MMM d, y, h:mm a","en-us")})})}),this.setExistingValues(this.dailyItems,l),this.setCard(this.dailyItems)}setExistingValues(l,e){l.forEach(l=>{const n=e.find(e=>new Date(e.startDate).getTime()===l.startDate);n&&(l.target=n.target,l.lower=n.lower,l.upper=n.upper)})}onClickShiftItems(l){this.selectedShifttem=l&&l.item?[l.item]:[],this.changeshiftCard()}sortItems(l){l.sort("HOURLY"===this.captureType||"SHIFT WISE"===this.captureType?(l,e)=>l.startDate-e.startDate:(l,e)=>l.name-e.name),this.kpiForm.patchValue({captureData:l})}setCard(l){this.captureData=this.kpiForm.get("captureData"),this.captureData.value.forEach(l=>{this.captureDataMap.set(l.name,l)}),this.kpiForm.setControl("captureData",this.captureData),l.forEach((l,e)=>{if(!this.captureDataMap.has(l.name)){const n=l.weekStartDate?l.weekStartDate:l.startDate,t=l.weekEndDate?l.weekEndDate:l.endDate,i="WEEKLY"!=this.captureType.toUpperCase()||l.content.toString().includes("Week")?l.content:this.getWeekContent(l.content,l.weekStartDate,l.weekEndDate);"SHIFT WISE"===this.captureType?this.captureData.push(this.createItem(l.target,l.lower,l.upper,l.upperPercent,l.lowerPercent,n,t,i,l.name,!1,e)):"HOURLY"===this.captureType?(this.captureData.controls.push(this.formBuilder.group({target:null,upper:null,lower:null,upperPercent:null,lowerPercent:null,startDate:n,endDate:t,content:i,name:l.name,disabled:!1,selected:!1,index:e})),this.captureData.value.push({target:null,upper:null,lower:null,upperPercent:null,lowerPercent:null,startDate:n,endDate:t,content:i,name:l.name,disabled:!1,selected:!1,index:e})):this.captureData.push(this.createItem(null,null,null,null,null,n,t,i,l.name,!1,e))}}),"WEEKLY"!==this.captureType&&"MONTHLY"!==this.captureType||this.updatecaptureDataMap(l),this.setHolidays(),this.sortItems(this.captureData.value)}updatecaptureDataMap(l){this.captureDataMap.clear(),l.forEach(l=>{this.captureDataMap.set(l.name,l)});const e=[];this.captureData.value.forEach(l=>{this.captureDataMap.has(l.name)||e.push(l.name)}),e.forEach(l=>{const e=this.captureData.value.findIndex(e=>e.name==l);this.captureData.removeAt(e)})}markEditedMarkselected(l,e){l.forEach(l=>{l.name===e.indicator&&(l.selected=!0)})}formatDate(l){var e=l.getDate(),n=l.getMonth(),t=l.getFullYear();return e+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+t}setEditedCard(l,e){this.captureData=this.kpiForm.get("captureData"),this.captureData.value.forEach(l=>{this.captureDataMap.set(l.name,l)}),"WEEKLY"===e&&52==l.length&&(this.weekNumberItems[0].selected=!0),"MONTHLY"===e&&12==l.length&&(this.monthlyItems[0].selected=!0),this.kpiForm.setControl("captureData",this.captureData),l.forEach((n,t)=>{if(!this.captureDataMap.has(n.indicator)){if(this.extend){let l=this.yearList.find(l=>!0===l.selected);for(;n.startDate<l.startUnix&&n.endDate<l.endUnix;)n.weekStartDate?(n.weekStartDate=1e3*a(n.weekStartDate).add(1,"years").unix(),n.weekEndDate=1e3*a(n.weekEndDate).add(1,"years").unix()-1):(n.startDate=1e3*a(n.startDate).add(1,"years").unix(),n.endDate=1e3*a(n.endDate).add(1,"years").unix()-1)}else n.weekStartDate?(n.weekStartDate=n.weekStartDate,n.weekEndDate=n.weekEndDate-1e3):(n.startDate=n.startDate,n.endDate=n.endDate-1e3);let i=this.formatDate(n.weekStartDate?new Date(n.weekStartDate):new Date(n.startDate)),o=this.formatDate(n.weekEndDate?new Date(n.weekEndDate):new Date(n.endDate));"SHIFT WISE"!==e&&"HOURLY"!==e||(i=n.startDate,o=n.endDate);let r="";"YEARLY"===e?(this.markEditedMarkselected(this.yearItems,n),r=this.yearItems.find(l=>l.name===parseInt(n.indicator)).content):"WEEKLY"===e?(this.markEditedMarkselected(this.weekNumberItems,n),r=this.weekNumberItems.find(l=>l.name===n.indicator).content):"MONTHLY"===e?(this.markEditedMarkselected(this.monthlyItems,n),r=this.monthlyItems.find(l=>l.name===n.indicator).content):"QUARTERLY"===e?(this.markEditedMarkselected(this.QuaterlyItems,n),r=this.QuaterlyItems.find(l=>l.name===n.indicator).content):"HALF YEARLY"===e?(this.markEditedMarkselected(this.halfYearlyItems,n),r=this.halfYearlyItems.find(l=>l.name===n.indicator).content):"DAILY"===e?(r=this.formatDate(new Date(n.startDate)),n.startDate=this.formatDate(new Date(n.startDate)),n.endDate=this.formatDate(new Date(n.endDate)),0==t&&t==l.length-1&&this.value.push(Object(u.formatDate)(n.startDate,"MMM d, y","en-US")),this.dailyItems.push(n)):(r=Object(u.formatDate)(new Date(n.startDate),"MMM d, y, h:mm a","en-us")+"-"+Object(u.formatDate)(new Date(n.endDate),"MMM d, y, h:mm a","en-us"),n.startDate=Object(u.formatDate)(new Date(n.startDate),"MMM d, y, h:mm a","en-us"),n.endDate=Object(u.formatDate)(new Date(n.endDate),"MMM d, y, h:mm a","en-us"),this.dailyItems.push(n)),"HOURLY"===e?(this.captureData.controls.push(this.formBuilder.group({target:n.target,upper:n.lower,lower:n.upper,upperPercent:n.upperPercent,lowerPercent:n.lowerPercent,startDate:i,endDate:o,content:r,name:parseInt(n.indicator),disabled:n.disabled,selected:!1,index:t})),this.captureData.value.push({target:n.target,upper:n.lower,lower:n.upper,upperPercent:n.upperPercent,lowerPercent:n.lowerPercent,startDate:i,endDate:o,content:r,name:parseInt(n.indicator),disabled:n.disabled,selected:!1,index:t})):this.captureData.push(this.createItem(n.target,n.lower,n.upper,n.upperPercent,n.lowerPercent,i,o,r,parseInt(n.indicator),n.disabled,t))}}),this.sortItems(this.captureData.value)}onClickReview(l){}getUnitofMeasurement(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getunitofMsrmnt().toPromise()})}createForm(){this.kpiForm=this.formBuilder.group({title:["",[i.A.required]],goalId:[""],pragmaticLimitValue:["",[i.A.min(1)]],targetYTDCustomFormula:[""],actualYTDCustomFormula:[""],department:["",[i.A.required]],isTypeKPI:[""],directionOfGoodness:["",[i.A.required]],ytdCalculation:["",[i.A.required]],weightage:[""],annualTarget:[""],lowerLimit:[""],upperLimit:[""],captureData:this.formBuilder.array([]),unitOfMeasurement:["",[i.A.required]],reviewFrequency:["",[i.A.required]],dataCaptureFrequency:["",[i.A.required]],kpiDescription:["",[i.A.required]],remark:[""],kpiFormula:[""],isActive:[""],KpiType:["",[i.A.required]],category:["",[i.A.required]],parent:[""],checkbox:[!1],perspective:[""],noParent:[!1],financialYear:[""]})}createItem(l,e,n,t,a,u,o,s,d,c,p){return this.formBuilder.group({target:[l,[i.A.pattern(r.a.numberWithNegativeRegex)]],upper:[n,[i.A.pattern(r.a.numberWithNegativeRegex)]],lower:[e,[i.A.pattern(r.a.numberWithNegativeRegex)]],upperPercent:[t],lowerPercent:[a],startDate:[u],endDate:[o],content:[s],name:[d],disabled:[!!c],selected:[!1],index:p})}openConfirmationModal(l){this.confirmationService.setData(!1);let e=this.confirmationService.getData().subscribe(n=>{n&&(this.isKPILoading=!0,l._id=this.currentid,l.isApproved=!1,this.goalService.updateGoal(l,this.isDraft).subscribe(l=>{l&&l.success&&(this._toastrService.success("KPI updated successfully."),this.previousFileArray.length>0&&null!=this.previousFileArray[0].id?this.deleteFile(this.previousFileArray[0],this.currentid):null!=this.attachmentFile&&this.uploadFile(this.attachmentFile,this.currentid)),e.unsubscribe(),this.isKPILoading=!1},l=>{e.unsubscribe(),l.error.message&&l.error.message.details&&l.error.message.details.length&&-1!==l.error.message.details[0].message.indexOf("weightage")?this._toastrService.error("No Bandwidth available for the user, Please contact supervisor"):this._toastrService.error("Something went wrong, Please  contact your admin"),this.isKPILoading=!1}),this.confirmationService.setData(!1))});this.modalService.create({component:o.a,inputs:{modalText:"Are you sure you want to edit this KPI?"}})}onSubmit(){if(this.parentObj&&!this.extend&&!this.isDraft&&(!this.parentObj.isApproved||!this.parentObj.isActive))return void this._toastrService.error("This KPI cannot be edited. It seems Parent KPI / MP may be not approved or is inactive.");let l=null;if(!this.validateStartifyTarget())return;if(l={aggregationLogic:this.aggregationLogic},this.useForStratefyTarget&&(l=Object.assign(l,{target:{formId:this.selectedStratifyFormId,formFieldId:this.selectedStratifyTargetFieldId}})),"FORMULA"===this.selectedYTDValue){if(!this.selectedYTDTargetFormulaId)return void this._toastrService.error("Please select YTD Target Formula");if(!this.selectedYTDActualFormulaId)return void this._toastrService.error("Please select YTD Actuals Formula")}this.useForStratifyLowerUpper&&(l=Object.assign(l,{lower:{type:"FORM",formId:this.selectedStratifyFormId,formFieldId:this.selectedStratifyLowerLimitFieldId}},{upper:{type:"FORM",formId:this.selectedStratifyFormId,formFieldId:this.selectedStratifyUpperLimitFieldId}})),this.isSubmitClicked=!0;const{title:e,annualTarget:n,pragmaticLimitValue:t,goalId:i,kpiDescription:u,remark:o}=this.kpiForm.value;if(!this.kpiForm.value.dataCaptureFrequency)return void this._toastrService.error("Please select data capture frequency.");if(!this.kpiForm.value.reviewFrequency)return void this._toastrService.error("Please select data review frequency.");const r=this.kpiForm.value.dataCaptureFrequency.id,s=this.kpiForm.value.reviewFrequency.id,d=this.kpiForm.value.unitOfMeasurement.id,p=this.kpiForm.value.directionOfGoodness.value,m=this.kpiForm.value.ytdCalculation.value,g=this.weightage,h=this.kpiForm.value.KpiType.id,f=this.kpiForm.value.category.id,v=this.kpiForm.value.department.id,b=this.noParentKpi?this.kpiForm.value.perspective.id:null,C=this.kpiForm.value.perspectivePrefix,y=this.noParentKpi?null:this.kpiForm.value.parent.id,x=1e3*a(this.yearList.filter(l=>l.selected)[0].start,"YYYY-MM-DDT00:00:00").unix(),w=1e3*a(this.yearList.filter(l=>l.selected)[0].end+"T23:59:59","YYYY-MM-DDTHH:mm:ss").unix();let I=this.kpiForm.value.captureData.map(({target:l,lower:e,upper:n,startDate:t,endDate:i,name:a,disabled:u,upperPercent:o,lowerPercent:r})=>({target:l,lower:e,upper:n,startDate:t,endDate:i,indicator:a,disabled:u,upperPercent:o,lowerPercent:r}));I.forEach(l=>{l.target=l.target?parseFloat(l.target):0,l.upper=l.upper?parseFloat(l.upper):0,l.lower=l.lower?parseFloat(l.lower):0,l.upperPercent?(l.upperValueType="PERCENT",l.upperPercent=parseFloat(l.upperPercent)):(l.upperValueType="ABSOLUTE",delete l.upperPercent),l.lowerPercent?(l.lowerValueType=l.lowerPercent?"PERCENT":"ABSOLUTE",l.lowerPercent=parseFloat(l.lowerPercent)):(l.lowerValueType="ABSOLUTE",delete l.lowerPercent);let e=null,n=null;"Weekly"===this.kpiForm.value.dataCaptureFrequency.content||"Monthly"===this.kpiForm.value.dataCaptureFrequency.content||"Quarterly"===this.kpiForm.value.dataCaptureFrequency.content||"Half Yearly"===this.kpiForm.value.dataCaptureFrequency.content||"Yearly"===this.kpiForm.value.dataCaptureFrequency.content?(e=a(l.startDate).format("YYYY-MM-DDT00:00:00"),n=a(l.endDate).format("YYYY-MM-DDT23:59:59")):"Daily"===this.kpiForm.value.dataCaptureFrequency.content?(e=a(l.startDate).format("YYYY-MM-DDT00:00:00"),n=a(l.endDate).format("YYYY-MM-DDT23:59:59")):(e=a(l.startDate).format("YYYY-MM-DDTHH:mm:ss"),n=a(l.endDate).format("YYYY-MM-DDTHH:mm:ss")),l.startDate=e,l.endDate=n});const D={individuals:this.owners.map(({employeeId:l,isPrimary:e})=>({employeeId:l,isPrimary:e}))},T=D.individuals.findIndex(l=>l.isPrimary);this.viewers=this.viewers.filter(l=>""!=l.employeeId&&l.employeeId&&null!=l.employeeId);const M={individuals:this.viewers.map(({employeeId:l})=>({employeeId:l})),groups:this.groups.map(({groupId:l})=>({groupId:l}))};let P;void 0!==this.source&&this.source.item&&null!==this.source.item.content&&(P=this.source.item.content);let S={title:e,annualTarget:n,targetYTDCustomFormula:this.selectedYTDTargetFormulaId||void 0,actualYTDCustomFormula:this.selectedYTDActualFormulaId||void 0,category:f,actionLimit:this.actionLimit,pragmaticLimitValue:"PRAGMATIC"===this.actionLimit?t:void 0,isTypeKPI:!0,source:P,type:h,departmentId:v,parentId:y,directionOfGoodness:p,ytdCalculation:m,weightage:g,captureData:I,unitOfMeasurement:d,reviewFrequency:s,dataCaptureFrequency:r,goalDescription:u,remark:o,goalFormula:null,isActive:!0,owners:D,viewers:M,financialYearStart:x,financialYearEnd:w,perspective:b,perspectivePrefix:C};l&&this.aggregationLogic&&(S.targetFromForm=l),S.source=this.achievementLevelDataSource&&this.achievementLevelDataSource.type&&this.achievementLevelDataSource.id?this.achievementLevelDataSource:void 0,i.trim().length&&(S.goalId=i),this.achievementLevelDataSource&&this.achievementLevelDataSource.type&&!this.achievementLevelDataSource.id?this._toastrService.error("Please select data source correctly"):this.achievementLevelDataSource&&this.achievementLevelDataSource.type&&this.achievementLevelDataSource.filterId&&!this.achievementLevelDataSource.id?this._toastrService.error("Please select data source correctly"):null==this.dataSourceUoM||this.dataSourceUoM==this.kpiForm.value.unitOfMeasurement.id?"PRAGMATIC"!==this.actionLimit||t?this.kpiForm.valid&&this.owners.length>0&&-1!=T&&I.length>0&&null!=g?this.isAddMode||this.extend?(this.isKPILoading=!0,this.extend&&(S.extendedFromGoalId=this.extendedFromGoalId),this.goalService.addGoal(S).subscribe(l=>{l&&l.success&&(this._toastrService.success("KPI added successfully."),this.router.navigateByUrl("/org-kpi/edit/"+l.response._id),null!=this.attachmentFile&&this.uploadFile(this.attachmentFile,l.response._id)),this.isKPILoading=!1},l=>{let e=l.error.message;e.details&&-1!==e.details[0].message.indexOf("weightage")?this._toastrService.error("No Bandwidth available for the user, Please contact supervisor"):this._toastrService.error(e||"Something went wrong, Please  contact your admin"),this.isKPILoading=!1})):this.isPreviousYear?this._toastrService.error("You cannot edit previous years data, Please contact your admin"):this.openConfirmationModal(S):this._toastrService.error(-1==T?"Atleast one owner should be primary, kindly verify":null==g?"Weightage for primary owner is not selected, kindly verify":"Some required fields missing, kindly verify"):this._toastrService.error("Please enter value for pragmatic limit"):this._toastrService.warning(c.a.KPI_UOM_FORM_FIELD_UOM_NOT_MATCHING)}getOwnersAndViewers(l){l.owners&&l.owners.individuals&&l.owners.individuals.length&&(this.owners=l.owners.individuals.map((l,e)=>(l.userName=l.firstname+" "+l.lastname,l)),this.owners=this.owners.filter(l=>""!=l.userName&&" "!=l.userName)),this.owners.length||(this.owners=[{employeeId:"",isPrimary:!1,userName:"",departmentName:""}]),l.viewers&&l.viewers.individuals&&l.viewers.individuals.length&&(this.viewers=l.viewers.individuals.map((l,e)=>(l.userName=l.firstname+" "+l.lastname,l)),this.viewers=this.viewers.filter(l=>""!=l.userName&&" "!=l.userName)),l.viewers&&l.viewers.groups&&l.viewers.groups.length&&(this.groups=l.viewers.groups.map((l,e)=>(l.groupName=l.name,l)))}onAttachmentChange(l){this.attachmentFile=l.target.files[0]||null}deleteFile(l,e){this.settingsService.deleteFile({id:l.id}).subscribe(l=>{l&&l.success&&this.uploadFile(this.attachmentFile,e)})}uploadFile(l,e){this.settingsService.uploadFile({file:l,parentId:e}).subscribe(l=>{l&&l.success&&this.getFileData(e)})}onFileSelect(l){this.inputRemarkAttachment.nativeElement.click()}onParentSelected(l,e,n){if("onclick"===n&&this.totalChildrenCount>0&&l.item.id!=(null!=this.parentPerspectiveState.parent?this.parentPerspectiveState.parent.id?this.parentPerspectiveState.parent.id:this.parentPerspectiveState.parent:null)){let n=this.parentPerspectiveChangeSubject.subscribe(i=>Object(t.__awaiter)(this,void 0,void 0,function*(){if(!0===i)yield this.onParentSet(l,e),this.kpiForm.patchValue({perspective:null}),this.parentPerspectiveState={parent:this.kpiForm.value.parent,perspectivePrefix:this.kpiForm.value.perspectivePrefix,perspective:this.kpiForm.value.perspective,noParent:this.kpiForm.value.noParent},this.perspectiveItems.forEach(l=>l.selected=!1),this.noParentKpi=!1,this.clearCaptureFreqAndReviewFreqInfo(),yield this.resetFrequencyLists(l);else if(this.kpiForm.patchValue(this.parentPerspectiveState),1==this.parentPerspectiveState.noParent){this.noParentKpi=!0;let l=this.perspectiveItems.map(l=>(l.id==this.parentPerspectiveState.perspective.id||l.id==this.parentPerspectiveState.perspective?(l.selected=!0,this.kpiForm.patchValue({perspective:l})):l.selected=!1,l));this.perspectiveItems=m.a.cloneDeep(l)}else{this.noParentKpi=!1;let l=this.parentList.map(l=>(l.selected=l.id==this.parentPerspectiveState.parent.id||l.id==this.parentPerspectiveState.parent,l));this.parentList=m.a.cloneDeep(l),this.parentPerspectiveState.parent.id?this.onParentSet({item:this.parentPerspectiveState.parent},!this.extend):this.getParent(!this.extend)}n.unsubscribe()})),i="You are changing parent of this KPI which is not yet approved. Changing the parent KPI will change the VCS references (friendly identifiers) of this KPI and all its CPs. This affects the entire KPI hierarchy. If there are other users actively working on the system, and editing definitions for CPs, this could create some issues. If you need to do this, we advise you to do this after your organization\u2019s working hours, when the system is less busy.";this.isDraft||(i="You are changing parent of this KPI which is already approved. Changing the parent KPI will change the VCS references (friendly identifiers) of this KPI and all its CPs. This affects the entire KPI hierarchy. If there are other users actively working on the system, and editing definitions for CPs, this could create some issues. If you need to do this, we advise you to do this after your organization\u2019s working hours, when the system is less busy."),this.modalService.create({component:o.a,inputs:{modalText:i,confirmText:"Confirm",titleText:"Warning",confirmationSubject:this.parentPerspectiveChangeSubject,overlayClose:!1,modalSubText:" Are you sure you want to change the parent of this KPI?"}})}else this.onParentSet(l,e)}resetFrequencyLists(l){let e,n=m.a.cloneDeep(this.captureFrequencyItems);n.forEach(n=>{n.selected=void 0,n.id==l.item.dataCaptureFrequency&&(e=n)}),n=n.filter(l=>l.order<=e.order),this.filteredFrequencyItems=n;let t,i=m.a.cloneDeep(this.reviewItems);i.forEach(e=>{e.selected=void 0,e.id==l.item.reviewFrequency&&(t=e)}),i=i.filter(l=>l.order<=t.order),this.filteredReviewFrequencyItems=i}onParentSet(l,e){const n=l.item;e||l.isUpdate||this.getFilteredCaptureFrequency(l.item.dataCaptureFrequency?l.item.dataCaptureFrequency:this.kpiForm.value.dataCaptureFrequency.id),this.formChildParentForSelected(n)}getFilteredCaptureFrequency(l){this.filteredFrequencyItems=[];const e=this.captureFrequencyItems.findIndex(e=>e.id===l);this.filteredFrequencyItems=this.captureFrequencyItems.filter(l=>l.order<=this.captureFrequencyItems[e].order),this.filteredFrequencyItems.forEach(l=>{l.selected=l.id===this.kpiForm.value.dataCaptureFrequency.id}),this.setreviewFrequency(this.captureFrequencyItems[e].content.toUpperCase()),this.captureType=""}formChildParentForSelected(l){this.kpiService.getDeployementTree(l.id).subscribe(l=>{if(l&&l.success){let e=l.response.deploymentTree[0];this.noParentKpi?e={text:{name:"Adding KPI here",content:""},HTMLclass:"adding-here"}:(this.sanitize(e),this.sanitizeData(e),(this.isAddMode||this.extend)&&e.children.push({text:{name:"Adding KPI here",content:""},HTMLclass:"adding-here"}),e.children.children&&e.children.children.length&&(e.children.children=[])),e.HTMLclass="mp-node",this.deploymentTreeConfig={connectorType:"step",orientation:"WEST",nodes:e}}},l=>{if(!this.isAddMode){const l=[];let e={title:this.kpiForm.controls.title.value,primaryOwnerName:this.primaryOwnerName};l.HTMLclass="mp-node",l.text=e,this.deploymentTreeConfig={connectorType:"step",orientation:"WEST",nodes:l}}})}sanitize(l){l&&l.text&&(l.text.parentId||delete l.text.parentId)}sanitizeData(l){l&&l.text&&(this.isAddMode||this.currentid!==l.text.id||this.extend||(l.HTMLclass="adding-here"),l.text={vcs:l.text.vcs,title:l.text.title,primaryOwnerName:l.text.primaryOwnerName});for(let e=0;e<l.children.length;e++)this.sanitizeData(l.children[e])}updateAchievementLevelDataSource(l){this.achievementLevelDataSource=l.dataSource,this.dataSourceUoM=l.uom,null!=this.dataSourceUoM&&this.dataSourceUoM!=this.kpiForm.value.unitOfMeasurement.id&&null!=this.kpiForm.value.unitOfMeasurement.id&&this._toastrService.warning(c.a.KPI_UOM_FORM_FIELD_UOM_NOT_MATCHING)}onUoMChange(l){this.noParentKpi||null==this.selectedMPParentUoM||this.selectedMPParentUoM==l.item.id?null!=this.dataSourceUoM&&this.dataSourceUoM!=l.item.id&&this._toastrService.warning(c.a.KPI_UOM_FORM_FIELD_UOM_NOT_MATCHING):this._toastrService.warning(c.a.KPI_UOM_PARENT_UOM_NOT_MATCHING)}onChangeTargetFormula(l){this.getMetrics(l,"YTD_CUSTOM","100","0",0),this.ytdTargetSearch=l,this.kpiForm.value.targetYTDCustomFormula="",this.selectedYTDTargetFormulaId=""}onChangeActualFormula(l){this.ytdActualFormulaList=this.getMetrics(l,"YTD_CUSTOM","100","0",1),this.ytdActualSearch=l,this.kpiForm.value.actualYTDCustomFormula="",this.selectedYTDActualFormulaId=""}onOpenInternal(l){}getMetrics(l,e,n,t,i){this.metricsService.getMetricsListForKPI(l,e,n,t).subscribe(l=>{l&&l.success&&(0==i?this.ytdTargetFormulaList=l.response.metrics.map(({name:l,_id:e})=>({content:l,_id:e})):this.ytdActualFormulaList=l.response.metrics.map(({name:l,_id:e})=>({content:l,_id:e})))},l=>{console.log(l)})}selectedTargetOption(l){this.kpiForm.value.targetYTDCustomFormula=l._id,this.selectedYTDTargetFormulaId=l._id}selectedActualOption(l){this.kpiForm.value.actualYTDCustomFormula=l._id,this.selectedYTDActualFormulaId=l._id}getCustomYtdFormulaRecord(l,e){this.metricsService.getMetricRecord(l).subscribe(l=>{l&&l.success&&(0==e?this.ytdTargetSearch=l.response.name:this.ytdActualSearch=l.response.name)},l=>{})}onChangeParent(l){if(this.noParentKpi=l.checked,this.noParentKpi){let l={text:{name:"Adding KPI here",content:""},HTMLclass:"adding-here"};l.HTMLclass="mp-node",this.deploymentTreeConfig={connectorType:"step",orientation:"WEST",nodes:l}}else this.kpiForm.value.parent=null;this.internalQuery=""}getperspectivesNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getPerspectives().toPromise()})}onPerspectiveSelected(l,e){if(this.totalChildrenCount>0){let l=this.parentPerspectiveChangeSubject.subscribe(e=>{if(!0===e)this.kpiForm.patchValue({parent:null}),this.parentPerspectiveState={parent:this.kpiForm.value.parent,perspectivePrefix:this.kpiForm.value.perspectivePrefix,perspective:this.kpiForm.value.perspective,noParent:this.kpiForm.value.noParent},this.parentList.forEach(l=>l.selected=!1),this.noParentKpi=!0;else if(this.kpiForm.patchValue(this.parentPerspectiveState),1==this.parentPerspectiveState.noParent){this.noParentKpi=!0;let l=this.perspectiveItems.map(l=>(l.id==this.parentPerspectiveState.perspective.id||l.id==this.parentPerspectiveState.perspective?(l.selected=!0,this.kpiForm.patchValue({perspective:l})):l.selected=!1,l));this.perspectiveItems=m.a.cloneDeep(l)}else{this.noParentKpi=!1;let l=this.parentList.map(l=>(l.selected=l.id==this.parentPerspectiveState.parent.id||l.id==this.parentPerspectiveState.parent,l));this.parentList=m.a.cloneDeep(l),this.parentPerspectiveState.parent.id?this.onParentSet({item:this.parentPerspectiveState.parent},!this.extend):this.getParent(!this.extend)}l.unsubscribe()}),e="You are changing parent of this KPI which is not yet approved. Changing the parent KPI will change the VCS references (friendly identifiers) of this KPI and all its CPs. This affects the entire KPI hierarchy. If there are other users actively working on the system, and editing definitions for CPs, this could create some issues. If you need to do this, we advise you to do this after your organization\u2019s working hours, when the system is less busy.";this.isDraft||(e="You are changing parent of this KPI which is already approved. Changing the parent KPI will change the VCS references (friendly identifiers) of this KPI and all its CPs. This affects the entire KPI hierarchy. If there are other users actively working on the system, and editing definitions for CPs, this could create some issues. If you need to do this, we advise you to do this after your organization\u2019s working hours, when the system is less busy."),this.modalService.create({component:o.a,inputs:{modalText:e,confirmText:"Confirm",titleText:"Warning",confirmationSubject:this.parentPerspectiveChangeSubject,overlayClose:!1,modalSubText:" Are you sure you want to change the parent of this KPI?"}})}}getCaptureFreqNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getCapturefrequency().toPromise()})}setreviewFrequencyFornNoParentKpi(l){this.filteredReviewFrequencyItems=this.reviewItemsBackUp.filter(e=>!("HOURLY"===e.content.toUpperCase()||"SHIFT WISE"===e.content.toUpperCase()||"DAILY"===e.content.toUpperCase())&&this.filterReviewItemForPerspective(l,e.content.toUpperCase()))}getcaptureFrequencyForPerspective(){this.filteredFrequencyItems=this.captureFrequencyItems.filter(l=>!("HOURLY"===l.content.toUpperCase()||"SHIFT WISE"===l.content.toUpperCase()||"DAILY"===l.content.toUpperCase())),this.filteredFrequencyItems.forEach(l=>{l.id==this.kpiForm.value.dataCaptureFrequency&&(l.selected=!0,this.captureType=l.content.toUpperCase(),this.selectedCaptureType=l.content.toUpperCase()),this.isAddMode&&"WEEKLY"==l.content.toUpperCase()&&(l.selected=!0,this.captureType=l.content.toUpperCase(),this.selectedCaptureType=l.content.toUpperCase())}),this.getreviewFrequencyForPerspective()}getreviewFrequencyForPerspective(){let l=this.captureFrequencyItems.find(l=>l.selected).content.toUpperCase();this.reviewItemsBackUp=m.a.cloneDeep(this.reviewItems),this.filteredReviewFrequencyItems=this.reviewItemsBackUp.filter(e=>!("HOURLY"===e.content.toUpperCase()||"SHIFT WISE"===e.content.toUpperCase()||"DAILY"===e.content.toUpperCase())&&this.filterReviewItem(l,e.content.toUpperCase())),this.filteredReviewFrequencyItems.forEach(l=>{l.id==this.kpiForm.value.reviewFrequency&&(l.selected=!0)}),this.isKPILoading=!1}filterReviewItemForPerspective(l,e){return"MONTHLY"===l?"WEEKLY"!==e:"QUARTERLY"===l?"WEEKLY"!==e&&"MONTHLY"!==e:"HALF YEARLY"===l?"WEEKLY"!==e&&"MONTHLY"!==e&&"QUARTERLY"!==e:"YEARLY"!==l||"YEARLY"===e}getReviewFreqNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getReviewfrequency().toPromise()})}getWeekContent(l,e,n){return"Week "+l.toString()+" ("+a(e,"YYYY-MM-DD").format("LL")+" to "+a(n,"YYYY-MM-DD").format("LL")+")"}getHolidays(){this.goalService.getHolidays(this.yearStartDate,this.yearEndDate).subscribe(l=>{this.holidays=l.response})}setHolidays(){"SHIFT WISE"==this.captureType?this.captureData.value.forEach(l=>{this.holidays.forEach(e=>{l.startDate==e.holidayStartUnix&&l.endDate==e.holidayEndUnix&&(l.disabled=!0)})}):"DAILY"!=this.captureType&&"HOURLY"!=this.captureType||this.captureData.value.forEach(l=>{this.holidays.forEach(e=>{new Date(l.startDate).getTime()>=e.holidayStartUnix&&new Date(l.endDate).getTime()<=e.holidayEndUnix&&(l.disabled=!0)})})}filterArray(l,e,n,t){let i=1e3*a(e+"T00:00:00").unix(),u=1e3*a(n+"T23:59:59").unix();return"HALF YEARLY"===t||"QUARTERLY"===t||"YEARLY"===t||"HALF YEARLY"===t?l:(l||[]).filter(l=>{if("WEEKLY"===t){if(a(l.value.startDate).format("M")===a(i).format("M"))return!0}else if("HOURLY"===t||"SHIFT WISE"===t||"DAILY"===t){if(a(l.value.startDate).format("M")===a(i).format("M"))return!0}else if(1e3*a(l.value.startDate).unix()>=i&&1e3*a(l.value.endDate).unix()<=u)return!0;return!1})}onSwitcherSelected(l,e,n){this.prevValue=0,this.nextValue=7,this.selectedMonthStart=e,this.selectedMonthEnd=n}onOpenFormSearchForTargetDef(l){}onTargetFormSearch(l){this.targetFormQuery=l,this.selectedStratifyFormId="",this.targetQuery="",this.selectedStratifyTargetFieldId="",this.lowerLimitQuery="",this.selectedStratifyLowerLimitFieldId="",this.upperLimitQuery="",this.selectedStratifyUpperLimitFieldId="",this.metricsService.getForms(this.targetFormQuery).subscribe(l=>{l&&l.success&&(this.searchedFormsForStratify=(l.response.forms||[]).map(l=>({id:l._id,content:l.formName})))},l=>{this.searchedFormsForStratify=[]})}onTargetFormSelected(l){this.targetFormQuery=l.content,this.selectedStratifyFormId=l.id,this.targetFormFieldList=[],this.metricsService.getMetricFieldsForSelectedForm(l.id).subscribe(l=>{l&&l.success&&l.response.forEach(l=>{this.targetFormFieldList.push({id:l.uuid,content:l.label})})},l=>{this.targetFormFieldList=[]})}onSelectedTargetFormField(l){this.targetQuery=l.content,this.selectedStratifyTargetFieldId=l.id}onOpenUpperLimit(l){}onUpperLimitSearch(l){}onUpperLimitSelected(l){this.upperLimitQuery=l.content,this.selectedStratifyUpperLimitFieldId=l.id}onLowerLimitSelected(l){this.lowerLimitQuery=l.content,this.selectedStratifyLowerLimitFieldId=l.id}onChangeUseForStratefyTarget(l){this.useForStratefyTarget=l.checked,this.useForStratefyTarget||(this.useForStratifyLowerUpper=!1,this.upperLimitQuery="",this.lowerLimitQuery="",this.targetFormQuery="",this.targetQuery="",this.aggregationLogic="",this.selectedStratifyFormId="",this.selectedStratifyTargetFieldId="",this.selectedStratifyUpperLimitFieldId="",this.selectedStratifyLowerLimitFieldId="",this.targetFormFieldList=[])}onChangeUseForStratifyLowerUpper(l){this.useForStratifyLowerUpper=l.checked,this.useForStratifyLowerUpper||(this.upperLimitQuery="",this.lowerLimitQuery="",this.selectedStratifyUpperLimitFieldId="",this.selectedStratifyLowerLimitFieldId="")}validateStartifyTarget(){if(this.useForStratefyTarget){if(!this.aggregationLogic)return this._toastrService.error("Please select aggregation logic."),!1;if(!this.selectedStratifyFormId)return this._toastrService.error("Select form for target definition."),!1;if(!this.selectedStratifyTargetFieldId)return this._toastrService.error("Select form field for target definition."),!1}if(this.useForStratifyLowerUpper){if(!this.selectedStratifyUpperLimitFieldId)return this._toastrService.error("Select form field for upper limit."),!1;if(!this.selectedStratifyLowerLimitFieldId)return this._toastrService.error("Select form field for lower limit."),!1}return!0}showCopyCalendar(l){this.lastCalendarCard&&(this.lastCalendarCard.isShowCopyCal=!1),l.isShowCopyCal=!l.isShowCopyCal,l.isShowCopyCal&&(this.lastCalendarCard=l)}onCopyCalendarChange(l){this.copyDateSelected=l}onCopyValues(l){l.isShowCopyCal=!1;let e=l.value;e.target=l.controls.target.value,e.lower=l.controls.lower.value,e.upper=l.controls.upper.value,e.lowerPercent=l.controls.lowerPercent.value,e.upperPercent=l.controls.upperPercent.value;let n=this.kpiForm.get("captureData");n.value.forEach(e=>{!e.disabled&&this.checkCardWithinGivenDates(e)&&(e.target=l.controls.target.value,e.lower=l.controls.lower.value,e.upper=l.controls.upper.value,e.lowerPercent=l.controls.lowerPercent.value,e.upperPercent=l.controls.upperPercent.value)}),this.captureData=n,this.kpiForm.patchValue({captureData:n.value}),this.copyDateSelected=[]}closeCopyDiag(l){l.isShowCopyCal=!1}checkCardWithinGivenDates(l){let e=a(l.startDate).unix(),n=a(l.endDate).unix();if(!this.copyDateSelected)return!1;if(!this.copyDateSelected[0]||!this.copyDateSelected[1])return!1;let t=a(this.copyDateSelected[0]).unix(),i=a(this.copyDateSelected[1]);return i=a(this.copyDateSelected[1]).format("YYYY-MM-DD"),i=a(i+"T23:59:59"),"HOURLY"===this.captureType&&(i=i.add(1,"minute")),i=a(i).unix(),e>=t&&n<=i}aggregationLogicSelected(l){this.aggregationLogic=l.item.value}calculateUpperLowerLimit(l,e,n){let t=l,i="upper"===n?"upperPercent":"lowerPercent";t.patchValue(t.value.target&&t.value[i]?"upper"===n?{upper:parseFloat(t.value.target)+parseFloat(t.value.target)*parseFloat(t.value[i])/100}:{lower:parseFloat(t.value.target)-parseFloat(t.value.target)*parseFloat(t.value[i])/100}:"upper"===n?{upper:0}:{lower:0});let a=t.value;a.target=t.controls.target.value,a.lower=t.controls.lower.value,a.upper=t.controls.upper.value,a.lowerPercent=t.controls.lowerPercent.value,a.upperPercent=t.controls.upperPercent.value}calculateUpperLowerLimitWithTarget(l){let e=l;e.value.target?(e.value.upperPercent&&e.patchValue({upper:parseFloat(e.value.target)+parseFloat(e.value.target)*parseFloat(e.value.upperPercent)/100}),e.value.lowerPercent&&e.patchValue({lower:parseFloat(e.value.target)-parseFloat(e.value.target)*parseFloat(e.value.lowerPercent)/100})):(e.patchValue({upper:0}),e.patchValue({lower:0}))}onRadioChange(l){"MANUAL"===l.value&&(this.manualSub=this.confirmationService.getData().subscribe(e=>{e?(this.actionLimit=l.value,this.isSetFalse=!0,this.confirmationService.setData(!1)):(this.isSetFalse?this.isSetFalse=!1:this.actionLimit="PRAGMATIC",this.manualSub&&this.manualSub.unsubscribe())}),this.modalService.create({component:o.a,inputs:{modalText:"For data capture frequencies on a monthly, quarterly, half yearly and yearly\n                basis, pragmatic limits are strongly recommended.\n                A manual approach may potentially impact quality. "}}))}getTitleForLimits(){return`Pragmatic limits cannot be set for ${this.captureType.toLowerCase()} data capture frequecy`}onShowKpiTargetData(l){this.showKpiTarget=!this.showKpiTarget}getKpiTargetData(){this.goalService.getTargetData(this.currentid).subscribe(l=>Object(t.__awaiter)(this,void 0,void 0,function*(){l&&l.success&&(this.targetDataDcf=l.response.dcf.value,this.targetData=l.response.targetData,this.getTargetCardTitle(),this.kpiForm.patchValue({targetData:this.targetData}))}))}getTargetCardTitle(){switch(this.targetDataDcf){case"Yearly":this.targetData.map(l=>{let e=a(l.startDate).format("YYYY"),n=a(l.endDate).format("YYYY");l.cardTitle="("+e+"/"+n+")"});break;case"Quarterly":case"Half Yearly":this.targetData.map(l=>{let e=a(l.startDate).format("MMMM,YYYY"),n=a(l.endDate).format("MMMM,YYYY");l.cardTitle="("+e+"-"+n+")"});break;case"Monthly":this.targetData.map(l=>{let e=a(l.startDate).format("MMMM, YYYY");l.cardTitle=e});break;case"Weekly":this.targetData.map(l=>{let e=a(l.startDate).format("MMMM D, YYYY"),n=a(l.endDate).format("MMMM D, YYYY");l.cardTitle="("+e+" to "+n+")"});break;case"Daily":this.targetData.map(l=>{let e=a(l.startDate).format("MMMM D, YYYY");l.cardTitle=e});break;default:this.targetData.map(l=>{let e=a(l.startDate).format("MMMM D, YYYY hh:mm A"),n=a(l.endDate).format("MMMM D, YYYY hh:mm A");l.cardTitle="("+e+" to "+n+")"})}}onPreviousTargetClick(){0!=this.prevTargetValue&&this.targetData.length>0&&(this.prevTargetValue=this.prevTargetValue-7,this.nextTargetValue=this.nextTargetValue-7)}onNextTargetClick(){0!=this.nextTargetValue&&this.nextTargetValue<this.targetData.length&&this.targetData.length>7&&(this.prevTargetValue=this.prevTargetValue+7,this.nextTargetValue=this.nextTargetValue+7)}changeExtensionType(l){this.extendStructure=!this.extendStructure,!1===this.extendStructure&&this.ngOnInit()}downloadFile(l){return Object(t.__awaiter)(this,void 0,void 0,function*(){let e=l.id?l.id:l._id;if(e){let l=yield this.settingsService.getEncryptedFileUrl(e).toPromise();window.open(l.response)}})}getKpiApprovalStatus(l){return l||null!=l?l.isDraft?"Draft KPI":l.isApproved?l.isActive||null!=l.supervisorId&&("REQUESTED"==l.enableRequestType||!l.isApproved&&null==l.enableRequestType&&(null!=l.lastModifiedBy?l.lastModifiedBy===l.employeeId:l.createdBy===l.employeeId))?(!l.isApproved&&null==l.enableRequestType||"ASKED"==l.enableRequestType&&null!=l.supervisorId)&&l.isActive?"Acceptance Pending":l.isApproved?"Approved":void 0:"Disabled":"Approval Pending":""}}},FKhW:function(l,e,n){"use strict";var t=n("8Y7J"),i=n("1V2r"),a=n("gLoP"),u=n("mEpm"),o=n("i3NF"),r=n("s7LF"),s=n("FNXg"),d=n("1ZgJ"),c=n("baZm"),p=n("SVse"),m=n("uO/F"),g=n("ldNd"),h=n("noyz"),f=n("Amkq"),v=n("WeWU"),b=n("XvC9"),C=n("kqF4"),y=n("BTng"),x=n("oljc"),w=n("+jrW"),I=n("QQfA"),D=n("Lb5T"),T=n("L2d0"),M=n("tKJU"),P=n("uUZD"),S=n("g7AK"),k=n("s5qc"),F=n("Skov"),R=n("o8H7"),L=n("FS8H"),O=n("Yb6w"),N=n("eJBW"),E=n("/7Vj"),A=n("eNer"),Y=n("5OVe"),_=n("JACh"),U=n("A46g"),V=n("5SKc"),q=n("7ho3"),K=n("KADP"),H=n("PsxR"),z=n("Dnte"),B=n("EApP"),G=n("Z3BZ"),W=n("MqE1"),j=n("X/pD"),$=n("fF59"),Q=n("jGGp"),Z=n("TXHj"),X=n("cbbC"),J=n("rP3o"),ll=n("PJ54"),el=n("cN2v"),nl=n("tU3X"),tl=n("uvqg"),il=n("zonc"),al=n("s6ns"),ul=n("qHnB"),ol=n("XX5M"),rl=n("iInd"),sl=n("Z725"),dl=n("+Kk7");n.d(e,"a",function(){return pe});var cl=t["\u0275crt"]({encapsulation:0,styles:[[".bx--modal.bx--modal-tall.is-visible{margin-top:38px;margin-bottom:10px;overflow-y:scroll!important}  .edit-kpi-details .bx--modal-container{min-width:97%!important;min-height:97%!important}  .edit-kpi-details .bx--modal.is-visible .bx--modal-container{width:100%;height:100%!important}  .bx--modal-close{right:20px;padding:0;width:2.5rem}  .bx--modal .bx--text-input{background-color:#f3f3f3}  .bx--list-box input[role=combobox]{background-color:#f3f3f3!important}  table .bx--text-input::-webkit-input-placeholder{margin-bottom:0!important}  table .bx--text-input::-moz-placeholder{margin-bottom:0!important}  table .bx--text-input::-ms-input-placeholder{margin-bottom:0!important}  table .bx--text-input::placeholder{margin-bottom:0!important}  .elipsis .bx--label{margin-bottom:0}  input.disabled-no-action{pointer-events:none;background:#d3d3d3;cursor:not-allowed}.bx--modal-footer[_ngcontent-%COMP%]   button.bx--btn[_ngcontent-%COMP%]{padding-bottom:0!important}.edit-kpi-details[_ngcontent-%COMP%]   .rectangle[_ngcontent-%COMP%]{padding:0 32px}.reason-box[_ngcontent-%COMP%]{background-color:#fff!important;border:1px solid #565656!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#9f9f9f!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::-moz-placeholder{color:#9f9f9f!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::-ms-input-placeholder{color:#9f9f9f!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::placeholder{color:#9f9f9f!important}.dialog-btn[_ngcontent-%COMP%]{outline:0;border:none;font-size:20px;justify-content:center;padding:24px 36px!important}.bx--btn[_ngcontent-%COMP%]:disabled{background-color:#3d70b2;color:#fff;outline:0;border:3px solid transparent;font-size:20px;justify-content:center;padding:24px 36px!important}.top-right-text[_ngcontent-%COMP%]{display:flex!important;font-size:10px!important}.center-loader-text[_ngcontent-%COMP%]{display:flex;align-items:center}.metadiv[_ngcontent-%COMP%]{padding:16px;border-left:1px solid #8080804a;border-right:1px solid #8080803b;border-bottom:1px solid #8080803b}.edit-kpi-details[_ngcontent-%COMP%]{padding-left:32px;padding-bottom:32px;background-color:#fff}.edit-kpi-details[_ngcontent-%COMP%]   .metadiv[_ngcontent-%COMP%]{padding-top:16px}.edit-kpi-details[_ngcontent-%COMP%]   .center-loader-text[_ngcontent-%COMP%]{display:flex;align-items:center}.edit-kpi-details[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline-block}.active-card[_ngcontent-%COMP%]{border:1px solid red}.error-color[_ngcontent-%COMP%]{color:red}.report-colmn[_ngcontent-%COMP%]{display:flex;flex-direction:row}.report-container[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#f3f3f3!important;padding:20px;margin-right:10px}.report-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{visibility:hidden}.report-container[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{visibility:visible}.report-data-head[_ngcontent-%COMP%]{color:#232323;font-family:'IBM Plex Sans';font-size:14px;font-weight:600;line-height:16px;text-align:center;margin-bottom:10px}.limit-class[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;float:right;margin-right:12px}.limit-class[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{fill:grey}.limit-class[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:disabled{fill:green}.button-goal[_ngcontent-%COMP%]{width:172px}.button-goal.bx--btn[_ngcontent-%COMP%]{padding:8px}.card-fill-color[_ngcontent-%COMP%]   .parent-items[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.target-card-fill-color[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.target-card-fill-color[_ngcontent-%COMP%]   .parent-items[_ngcontent-%COMP%]{pointer-events:none}.target-card-fill-color[_ngcontent-%COMP%]   #target[_ngcontent-%COMP%]{pointer-events:none;text-align:center;border-bottom:1px solid #8897a2;padding:32px 0 18px!important;width:100%!important}.input-div[_ngcontent-%COMP%]{padding:32px 0 18px!important;text-align:center}.text-copy[_ngcontent-%COMP%]{color:#000;font-family:'IBM Plex Sans';font-size:14px;line-height:24px}.arrow-icon-span[_ngcontent-%COMP%]{box-sizing:border-box;width:97px;border:1px solid #dcdcdc;background-color:#f3f3f3;margin-left:40px}.left-arrow-icon[_ngcontent-%COMP%]{border-right:1px solid #dcdcdc;height:44px;width:49px}.right-arrow-icon[_ngcontent-%COMP%]{width:42px;height:44px}.top-right-text[_ngcontent-%COMP%]{display:flex!important;float:right!important}.remark-container[_ngcontent-%COMP%]   .bx--text-area[_ngcontent-%COMP%]{height:80px}.attachment-div[_ngcontent-%COMP%]{background-color:#f3f3f3;height:100%;margin-top:10px;padding:5px;display:flex;align-items:center;justify-content:space-between}.attachment-div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer;transform:scaleX(-1);fill:#da1e28}.bx--text-area[_ngcontent-%COMP%]{height:120px;width:100%}.close-icon-center[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;top:-18px;cursor:pointer}.text-bold[_ngcontent-%COMP%]{font-weight:700!important}.text-mid-center[_ngcontent-%COMP%]{display:flex;align-items:center}.dummy[_ngcontent-%COMP%]{color:red}.max-height-400[_ngcontent-%COMP%]{max-height:400px}.record-edit-not-permitted-message-text[_ngcontent-%COMP%]{color:#da1e28;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;letter-spacing:.16px;line-height:20px}.margin-top5[_ngcontent-%COMP%]{margin-top:5px}.bx--content-switcher--selected[_ngcontent-%COMP%]{background-color:#da1e28!important}.bx--content-switcher-btn[_ngcontent-%COMP%]{min-width:100px}.instruction-for-stratify[_ngcontent-%COMP%]{color:#393939;font-family:'IBM Plex Sans';font-size:14px;letter-spacing:.32px;line-height:16px;margin-top:8px}.copy-btn[_ngcontent-%COMP%]{text-align:center;margin-top:8px;color:#00f;cursor:pointer}.copy-btn[_ngcontent-%COMP%]   .bx--label[_ngcontent-%COMP%]{color:#fff!important}.margin-left-20[_ngcontent-%COMP%]{margin-left:20px;margin-top:-10px}.disabled-no-action[_ngcontent-%COMP%]{pointer-events:none;background:#d3d3d3;cursor:not-allowed}.date-picker-new-cont[_ngcontent-%COMP%]   .cal-icon.mod[_ngcontent-%COMP%]{top:32px}"]],data:{animation:[{type:7,name:"slideInOut",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateX(-100%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateX(0%)"},offset:null},timings:"400ms ease-in"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateX(-100%)"},offset:null},timings:"0ms ease-in"}],options:null}],options:{}}]}});function pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid title"]))],null,null)}function gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid perspective"]))],null,null)}function hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Perspective "])),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](4,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","perspective"],["id","perspective"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,5).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onPerspectiveSelected(n)&&i),i},i.b,i.a)),t["\u0275did"](5,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],disabled:[4,"disabled"],appendInline:[5,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,3,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](8,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](10,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](12,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[3,4]],c.a,null,[d.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,gl)),t["\u0275did"](15,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,5,0,"perspective","Choose","sm","single",!n.extend,"true"),l(e,8,0,"perspective",!n.extend),l(e,12,0,n.perspectiveItems),l(e,15,0,n.kpiForm.controls.perspective.invalid&&n.kpiForm.controls.perspective.touched||n.isSubmitClicked&&n.kpiForm.controls.perspective.invalid)},function(l,e){l(e,4,0,t["\u0275nov"](e,5).hostClass,t["\u0275nov"](e,10).ngClassUntouched,t["\u0275nov"](e,10).ngClassTouched,t["\u0275nov"](e,10).ngClassPristine,t["\u0275nov"](e,10).ngClassDirty,t["\u0275nov"](e,10).ngClassValid,t["\u0275nov"](e,10).ngClassInvalid,t["\u0275nov"](e,10).ngClassPending)})}function fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"ibm-combo-box",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","parent"],["placeholder","Choose"],["size","sm"]],[[1,"aria-disabled",0],[2,"bx--list-box__wrapper",null],[1,"role",0],[4,"display",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"itemsChange"],[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,1).hostkeys(n)&&i),"itemsChange"===e&&(i=!1!==(a.parentList=n)&&i),"selected"===e&&(i=!1!==a.onParentSelected(n,!1)&&i),i},m.b,m.a)),t["\u0275did"](1,5816320,null,1,g.a,[t.ElementRef],{items:[0,"items"],placeholder:[1,"placeholder"],size:[2,"size"],disabled:[3,"disabled"]},{selected:"selected"}),t["\u0275qud"](335544320,4,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[g.a]),t["\u0275did"](4,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](6,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](7,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](8,4374528,null,0,d.a,[t.ElementRef,u.a],null,null),t["\u0275prd"](2048,[[4,4]],c.a,null,[d.a])],function(l,e){var n=e.component;l(e,1,0,n.parentList,"Choose","sm",!n.extend),l(e,4,0,"parent",!n.extend)},function(l,e){l(e,0,1,[t["\u0275nov"](e,1).disabled,t["\u0275nov"](e,1).hostClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).display,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending])})}function vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid parent "]))],null,null)}function bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"label",[["class","bx--label margin-top5"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["MP/Parent "])),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](5,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,vl)),t["\u0275did"](7,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,5,0,n.parentList),l(e,7,0,n.kpiForm.controls.parent.invalid&&n.kpiForm.controls.parent.touched||n.isSubmitClicked&&n.kpiForm.controls.parent.invalid)},null)}function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid department"]))],null,null)}function yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid category"]))],null,null)}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid KPI type"]))],null,null)}function wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid direction of goodness"]))],null,null)}function Il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid unit of measurement"]))],null,null)}function Dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please select a valid YTD calculation"]))],null,null)}function Tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid capture frequency"]))],null,null)}function Ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,10,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Shift Number "])),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](7,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label week-dropdown"],["id","shiftNumber"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,9).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickShiftItems(n)&&i),i},i.b,i.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](9,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,12,{view:0}),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](12,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[12,4]],c.a,null,[d.a])],function(l,e){var n=e.component,t=l(e,2,0,2,3,12);l(e,1,0,t),l(e,9,0,"shiftNumber","Choose","sm","single","true"),l(e,12,0,n.shiftItems)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,7,0,t["\u0275nov"](e,9).hostClass)})}function Pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,10,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Week Number "])),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](7,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label week-dropdown"],["id","weekNumber"],["placeholder","Choose"],["size","sm"],["type","multi"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,9).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickWeekNumber(n)&&i),i},i.b,i.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](9,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,13,{view:0}),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](12,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[13,4]],c.a,null,[d.a])],function(l,e){var n=e.component,t=l(e,2,0,3,3,12);l(e,1,0,t),l(e,9,0,"weekNumber","Choose","sm","multi","true"),l(e,12,0,n.weekNumberItems)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,7,0,t["\u0275nov"](e,9).hostClass)})}function Sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,10,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Month "])),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](7,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["id","month"],["placeholder","Choose"],["size","sm"],["type","multi"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,9).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickMonth(n)&&i),i},i.b,i.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](9,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,14,{view:0}),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](12,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[14,4]],c.a,null,[d.a])],function(l,e){var n=e.component,t=l(e,2,0,2,3,12);l(e,1,0,t),l(e,9,0,"month","Choose","sm","multi","true"),l(e,12,0,n.monthlyItems)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,7,0,t["\u0275nov"](e,9).hostClass)})}function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid review frequency"]))],null,null)}function Fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"div",[["class","margin-top-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,7,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,h.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,4,"ibm-label",[],[[2,"bx--form-item",null]],null,null,f.b,f.a)),t["\u0275did"](6,1097728,null,0,v.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["Target YTD Formula "])),(l()(),t["\u0275eld"](8,0,null,0,1,"app-e4-combo-box",[["placeholder",""]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onOpen"===e&&(t=!1!==i.onOpenInternal(n)&&t),"onSearch"===e&&(t=!1!==i.onChangeTargetFormula(n)&&t),"onSelect"===e&&(t=!1!==i.selectedTargetOption(n)&&t),t},b.b,b.a)),t["\u0275did"](9,4964352,null,0,C.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(l()(),t["\u0275eld"](10,0,null,null,7,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](11,81920,null,0,h.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](12,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](13,0,null,null,4,"ibm-label",[],[[2,"bx--form-item",null]],null,null,f.b,f.a)),t["\u0275did"](14,1097728,null,0,v.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["Actuals YTD Formula "])),(l()(),t["\u0275eld"](16,0,null,0,1,"app-e4-combo-box",[["placeholder",""]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onOpen"===e&&(t=!1!==i.onOpenInternal(n)&&t),"onSearch"===e&&(t=!1!==i.onChangeActualFormula(n)&&t),"onSelect"===e&&(t=!1!==i.selectedActualOption(n)&&t),t},b.b,b.a)),t["\u0275did"](17,4964352,null,0,C.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"})],function(l,e){var n=e.component,t=l(e,4,0,6,6,12);l(e,3,0,"user-search-combo-box",t),l(e,9,0,n.ytdTargetFormulaList,n.ytdTargetSearch,"");var i=l(e,12,0,6,6,12);l(e,11,0,"user-search-combo-box",i),l(e,17,0,n.ytdActualFormulaList,n.ytdActualSearch,"")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,5,0,t["\u0275nov"](e,6).labelClass),l(e,10,0,t["\u0275nov"](e,11).columnClasses),l(e,13,0,t["\u0275nov"](e,14).labelClass)})}function Rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","text-bold"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" ("," - ",") "])),t["\u0275ppd"](3,2),t["\u0275ppd"](4,2)],null,function(l,e){var n=e.component,i=t["\u0275unv"](e,2,0,l(e,3,0,t["\u0275nov"](e.parent.parent.parent,0),n.dailyItems[0].startDate,n.mediumdate)),a=t["\u0275unv"](e,2,1,l(e,4,0,t["\u0275nov"](e.parent.parent.parent,0),n.dailyItems[n.dailyItems.length-1].startDate,n.mediumdate));l(e,2,0,i,a)})}function Ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","text-bold"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" ( - ) "]))],null,null)}function Ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","text-copy "]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Selected date Range "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Rl)),t["\u0275did"](3,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ll)),t["\u0275did"](5,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,3,0,0!=n.dailyItems.length&&("SHIFT WISE"===n.captureType&&0!=n.selectedShifttem.length||"DAILY"===n.captureType||"HOURLY"===n.captureType)),l(e,5,0,!(0!=n.dailyItems.length)&&("SHIFT WISE"===n.captureType&&0!=n.selectedShifttem.length||"DAILY"===n.captureType||"HOURLY"===n.captureType))},null)}function Nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,17,"label",[["class","date-picker-new-cont padding-left-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Select Date Range"])),(l()(),t["\u0275eld"](4,0,null,null,10,"input",[["ibmText",""]],[[8,"placeholder",0],[2,"owl-dt-trigger-disabled",null],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"],[null,"blur"],[null,"input"],[null,"change"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,5).handleClickOnHost(n)&&i),"keydown"===e&&(i=!1!==t["\u0275nov"](l,6).handleKeydownOnHost(n)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,6).handleBlurOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,6).handleInputOnHost(n)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,6).handleChangeOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,8)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,8).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,8)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,8)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(a.dateRangevalue=n)&&i),"ngModelChange"===e&&(i=!1!==a.valueDateChange(n)&&i),i},null,null)),t["\u0275did"](5,1785856,null,0,y.y,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"]},null),t["\u0275did"](6,1261568,null,0,y.z,[t.ElementRef,t.Renderer2,[2,y.a],[2,y.b]],{owlDateTime:[0,"owlDateTime"],selectMode:[1,"selectMode"]},null),t["\u0275did"](7,16384,null,0,x.a,[],null,null),t["\u0275did"](8,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.o,function(l){return[l]},[y.z]),t["\u0275prd"](1024,null,r.p,function(l,e){return[l,e]},[y.z,r.c]),t["\u0275did"](11,671744,null,0,r.u,[[2,r.b],[6,r.o],[8,null],[6,r.p]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](12,{standalone:0}),t["\u0275prd"](2048,null,r.q,null,[r.u]),t["\u0275did"](14,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](15,16777216,null,null,1,"owl-date-time",[],null,null,null,w.b,w.a)),t["\u0275did"](16,245760,[["dt11",4]],0,y.d,[I.b,t.ViewContainerRef,y.v,t.NgZone,t.ChangeDetectorRef,[2,y.a],y.o,[2,y.b],[2,p.DOCUMENT]],{pickerType:[0,"pickerType"]},null),(l()(),t["\u0275eld"](17,0,null,null,1,":svg:svg",[["class","cal-icon mod"],["ibmIconCalendar20",""]],null,null,null,null,null)),t["\u0275did"](18,4210688,null,0,D.a,[t.ElementRef],null,null)],function(l,e){var n=e.component;l(e,5,0,t["\u0275nov"](e,16)),l(e,6,0,t["\u0275nov"](e,16),"range");var i=n.dateRangevalue,a=l(e,12,0,!0);l(e,11,0,i,a),l(e,16,0,"calendar")},function(l,e){l(e,4,1,[e.component.placeholder,t["\u0275nov"](e,5).owlDTTriggerDisabledClass,t["\u0275nov"](e,6).owlDateTimeInputAriaHaspopup,t["\u0275nov"](e,6).owlDateTimeInputAriaOwns,t["\u0275nov"](e,6).minIso8601,t["\u0275nov"](e,6).maxIso8601,t["\u0275nov"](e,6).owlDateTimeInputDisabled,t["\u0275nov"](e,7).inputClass,t["\u0275nov"](e,7).invalid,t["\u0275nov"](e,7).skeleton,t["\u0275nov"](e,7).isLightTheme,t["\u0275nov"](e,14).ngClassUntouched,t["\u0275nov"](e,14).ngClassTouched,t["\u0275nov"](e,14).ngClassPristine,t["\u0275nov"](e,14).ngClassDirty,t["\u0275nov"](e,14).ngClassValid,t["\u0275nov"](e,14).ngClassInvalid,t["\u0275nov"](e,14).ngClassPending])})}function El(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid pragmatic limit value"]))],null,null)}function Al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,22,"div",[["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,17,"ibm-label",[],[[2,"bx--form-item",null]],null,null,f.b,f.a)),t["\u0275did"](4,1097728,null,0,v.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["Specify Pragmatic Limit(%) "])),(l()(),t["\u0275eld"](6,0,null,0,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](8,0,null,0,4,"span",[["class","tooltip"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,":svg:svg",[["ibmIconHelp16",""]],null,null,null,null,null)),t["\u0275did"](10,4210688,null,0,T.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[["class","tooltiptext"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Specify how much deviation can be tolerated from the target by the year end. For eg:- If limit set for achieving the target for the year is 4% limit for any one month then is 4 X \u221a12= 13.9%."])),(l()(),t["\u0275eld"](13,0,null,1,7,"input",[["formControlName","pragmaticLimitValue"],["ibmText",""],["id","pragmaticLimitValue"],["min","1"],["type","number"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,15)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,15).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,15)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,15)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,16).onChange(n.target.value)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,16).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,16).onTouched()&&i),i},null,null)),t["\u0275did"](14,16384,null,0,x.a,[],null,null),t["\u0275did"](15,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275did"](16,16384,null,0,r.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,r.p,function(l,e){return[l,e]},[r.c,r.w]),t["\u0275did"](18,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](20,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,El)),t["\u0275did"](22,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component,t=l(e,2,0,2,2,12);l(e,1,0,t),l(e,18,0,"pragmaticLimitValue"),l(e,22,0,"PRAGMATIC"===n.actionLimit&&n.kpiForm.controls.pragmaticLimitValue.invalid&&n.kpiForm.controls.pragmaticLimitValue.touched||n.isSubmitClicked&&n.kpiForm.controls.pragmaticLimitValue.invalid)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).labelClass),l(e,13,1,[t["\u0275nov"](e,14).inputClass,t["\u0275nov"](e,14).invalid,t["\u0275nov"](e,14).skeleton,t["\u0275nov"](e,14).isLightTheme,t["\u0275nov"](e,20).ngClassUntouched,t["\u0275nov"](e,20).ngClassTouched,t["\u0275nov"](e,20).ngClassPristine,t["\u0275nov"](e,20).ngClassDirty,t["\u0275nov"](e,20).ngClassValid,t["\u0275nov"](e,20).ngClassInvalid,t["\u0275nov"](e,20).ngClassPending])})}function Yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["style","margin-bottom: 16px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"ibm-checkbox",[],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onChangeUseForStratefyTarget(n)&&t),t},M.b,M.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[P.a]),t["\u0275did"](3,4243456,null,0,P.a,[t.ChangeDetectorRef],{checked:[0,"checked"]},{change:"change"}),(l()(),t["\u0275ted"](-1,0,["I want to use a form to fill the target data"]))],function(l,e){l(e,3,0,e.component.useForStratefyTarget)},function(l,e){l(e,1,0,t["\u0275nov"](e,3).checkboxWrapperClass,t["\u0275nov"](e,3).formItemClass)})}function _l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,19,"div",[["style","display: flex;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"label",[["class","bx--label"],["style","height: 48px;flex-basis: 320px;margin-right: 16px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Choose Form to fetch target data from "])),(l()(),t["\u0275eld"](3,0,null,null,1,"app-e4-combo-box",[["isDependent","true"],["placeholder","Search form"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onOpen"===e&&(t=!1!==i.onOpenFormSearchForTargetDef(n)&&t),"onSearch"===e&&(t=!1!==i.onTargetFormSearch(n)&&t),"onSelect"===e&&(t=!1!==i.onTargetFormSelected(n)&&t),t},b.b,b.a)),t["\u0275did"](4,4964352,null,0,C.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(l()(),t["\u0275eld"](5,0,null,null,3,"label",[["class","bx--label"],["style","height: 48px;flex-basis: 320px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Choose Target Field "])),(l()(),t["\u0275eld"](7,0,null,null,1,"app-e4-combo-box",[["placeholder","Target"]],null,[[null,"onSelect"]],function(l,e,n){var t=!0;return"onSelect"===e&&(t=!1!==l.component.onSelectedTargetFormField(n)&&t),t},b.b,b.a)),t["\u0275did"](8,4964352,null,0,C.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSelect:"onSelect"}),(l()(),t["\u0275eld"](9,0,null,null,10,"div",[["class","margin-left-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](10,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](11,0,null,null,8,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Capture Frequency Aggregation Logic "])),(l()(),t["\u0275eld"](13,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["id","dataCaptureFrequencyAggrLogic"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,15).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.aggregationLogicSelected(n)&&i),i},i.b,i.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](15,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,17,{view:0}),(l()(),t["\u0275eld"](17,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](18,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[17,4]],c.a,null,[d.a])],function(l,e){var n=e.component;l(e,4,0,n.searchedFormsForStratify,"true",n.targetFormQuery,"Search form"),l(e,8,0,n.targetFormFieldList,n.targetQuery,"Target"),l(e,15,0,"dataCaptureFrequencyAggrLogic","Choose","sm","single","true"),l(e,18,0,n.dataCaptureFrequencyAggrLogicItems)},function(l,e){l(e,9,0,t["\u0275nov"](e,10).baseClass),l(e,13,0,t["\u0275nov"](e,15).hostClass)})}function Ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["style","margin-bottom: 16px;margin-top: 16px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"ibm-checkbox",[],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onChangeUseForStratifyLowerUpper(n)&&t),t},M.b,M.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[P.a]),t["\u0275did"](3,4243456,null,0,P.a,[t.ChangeDetectorRef],{checked:[0,"checked"]},{change:"change"}),(l()(),t["\u0275ted"](-1,0,["Use Form Field for Upper and Lower Limit "]))],function(l,e){l(e,3,0,e.component.useForStratifyLowerUpper)},function(l,e){l(e,1,0,t["\u0275nov"](e,3).checkboxWrapperClass,t["\u0275nov"](e,3).formItemClass)})}function Vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["style","display: flex;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"label",[["class","bx--label"],["style","height: 48px;flex-basis: 320px;margin-right: 16px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Choose Upper Limit Field "])),(l()(),t["\u0275eld"](3,0,null,null,1,"app-e4-combo-box",[["placeholder","Upper Limit"]],null,[[null,"onSelect"]],function(l,e,n){var t=!0;return"onSelect"===e&&(t=!1!==l.component.onUpperLimitSelected(n)&&t),t},b.b,b.a)),t["\u0275did"](4,4964352,null,0,C.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSelect:"onSelect"}),(l()(),t["\u0275eld"](5,0,null,null,3,"label",[["class","bx--label"],["style","height: 48px;flex-basis: 320px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Choose Lower Limit Field "])),(l()(),t["\u0275eld"](7,0,null,null,1,"app-e4-combo-box",[["placeholder","Lower Limit"]],null,[[null,"onSelect"]],function(l,e,n){var t=!0;return"onSelect"===e&&(t=!1!==l.component.onLowerLimitSelected(n)&&t),t},b.b,b.a)),t["\u0275did"](8,4964352,null,0,C.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSelect:"onSelect"})],function(l,e){var n=e.component;l(e,4,0,n.targetFormFieldList,n.upperLimitQuery,"Upper Limit"),l(e,8,0,n.targetFormFieldList,n.lowerLimitQuery,"Lower Limit")},null)}function ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"button",[["ibmButton","danger"],["ibmContentOption",""],["type","button"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null],[8,"className",0],[2,"bx--content-switcher--selected",null],[1,"role",0],[1,"aria-selected",0],[1,"tabIndex",0]],[[null,"click"],[null,"focus"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,2).hostClick()&&i),"focus"===e&&(i=!1!==t["\u0275nov"](l,2).onFocus()&&i),"click"===e&&(i=!1!==a.onSwitcherSelected(n,l.context.$implicit.startDate,l.context.$implicit.endDate)&&i),i},null,null)),t["\u0275did"](1,16384,null,0,S.a,[],{ibmButton:[0,"ibmButton"]},null),t["\u0275did"](2,16384,[[18,4]],0,k.a,[],{active:[0,"active"]},null),(l()(),t["\u0275ted"](3,null,["",""])),t["\u0275ppd"](4,2)],function(l,e){var n=e.component;l(e,1,0,"danger"),l(e,2,0,e.context.$implicit.startDate===n.selectedMonthStart)},function(l,e){l(e,0,1,[t["\u0275nov"](e,1).baseClass,t["\u0275nov"](e,1).primaryButton,t["\u0275nov"](e,1).secondaryButton,t["\u0275nov"](e,1).tertiaryButton,t["\u0275nov"](e,1).ghostButton,t["\u0275nov"](e,1).dangerButton,t["\u0275nov"](e,1).dangerPrimaryButton,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).smallSize,t["\u0275nov"](e,1).toolbarAction,t["\u0275nov"](e,1).overflowMenu,t["\u0275nov"](e,2).switcherClass,t["\u0275nov"](e,2).selectedClass,t["\u0275nov"](e,2).role,t["\u0275nov"](e,2).ariaSelected,t["\u0275nov"](e,2).tabindex]);var n=t["\u0275unv"](e,3,0,l(e,4,0,t["\u0275nov"](e.parent.parent.parent.parent,0),e.context.$implicit.startDate,"MMM-y"));l(e,3,0,n)})}function Kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"ibm-content-switcher",[["style","margin-left: 16px;margin-bottom: 16px;"]],null,[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,1).hostkeys(n)&&i),i},F.b,F.a)),t["\u0275did"](1,4243456,null,1,R.a,[t.ElementRef],null,null),t["\u0275qud"](603979776,18,{options:1}),(l()(),t["\u0275and"](16777216,null,0,1,null,ql)),t["\u0275did"](4,278528,null,0,p.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,e){l(e,4,0,e.component.monthlyItemsShow)},null)}function Hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","instruction-for-stratify"],["style","margin-left: 16px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" You can set numerical or percentage values for Upper Limit and lower limit. If you enter percentages in Upper and Lower limits, the percentages will be with respect to the target. For example if you enter 5% in the Upper limit, the upper limit will be 105% of the target. Likewise if you enter 5% in the Lower limit, the lower limit will be 95% of the target. "]))],null,null)}function zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,26,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,4,"div",[["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Target definition"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Al)),t["\u0275did"](8,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](9,0,null,null,10,"div",[["ibmCol",""],["id","stratefy-target"],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](10,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](11,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,Yl)),t["\u0275did"](13,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,_l)),t["\u0275did"](15,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ul)),t["\u0275did"](17,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Vl)),t["\u0275did"](19,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](20,0,null,null,4,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](21,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](22,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,Kl)),t["\u0275did"](24,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Hl)),t["\u0275did"](26,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component,t=l(e,4,0,12,12,12);l(e,3,0,t),l(e,8,0,"PRAGMATIC"===n.actionLimit);var i=l(e,11,0,12,12,12);l(e,10,0,i),l(e,13,0,"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType),l(e,15,0,n.useForStratefyTarget&&"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType),l(e,17,0,n.useForStratefyTarget&&"PRAGMATIC"!==n.actionLimit),l(e,19,0,n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit);var a=l(e,22,0,12,12,12);l(e,21,0,a),l(e,24,0,(null==n.monthlyItemsShow?null:n.monthlyItemsShow.length)&&(!(n.useForStratefyTarget&&n.useForStratifyLowerUpper)&&"PRAGMATIC"!==n.actionLimit||!n.useForStratefyTarget&&"PRAGMATIC"===n.actionLimit)&&"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType),l(e,26,0,!(n.useForStratefyTarget&&n.useForStratifyLowerUpper)&&"PRAGMATIC"!==n.actionLimit)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,9,0,t["\u0275nov"](e,10).columnClasses),l(e,20,0,t["\u0275nov"](e,21).columnClasses)})}function Bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"ibm-checkbox",[["checked","extend"],["size","sm"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onShowKpiTargetData(n)&&t),t},M.b,M.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[P.a]),t["\u0275did"](2,4243456,null,0,P.a,[t.ChangeDetectorRef],{size:[0,"size"],checked:[1,"checked"]},{change:"change"}),(l()(),t["\u0275ted"](3,0,[" View past year KPI data to compare against "," "]))],function(l,e){l(e,2,0,"sm","extend")},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,2).checkboxWrapperClass,t["\u0275nov"](e,2).formItemClass),l(e,3,0,"( "+n.targetFinancialYear+" | "+n.targetKpiTitle+" | YTD Performance: "+n.actualYtd+" / "+n.targetYtd+" )")})}function Gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","margin-top-40"],["ibmRow",""],["id","show-target-data"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,4,"div",[["ibmCol",""],["style","margin-bottom: 8px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,Bl)),t["\u0275did"](6,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component,t=l(e,4,0,12,4,12);l(e,3,0,t),l(e,6,0,n.extend)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses)})}function Wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[],[[24,"@slideInOut",0]],null,null,null,null)),t["\u0275prd"](512,null,p["\u0275NgClassImpl"],p["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,p.NgClass,[p["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275eld"](3,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"label",[["class","report-data-head"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["Target for "," "])),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"input",[["class","input-div"],["disabled",""],["ibmText",""],["id","target"],["name",""]],[[8,"placeholder",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null]],null,null,null,null)),t["\u0275did"](8,16384,null,0,x.a,[],null,null)],function(l,e){l(e,2,0,e.context.$implicit.value?"report-container card-fill-color":"report-container target-card-fill-color")},function(l,e){l(e,0,0,void 0),l(e,5,0,e.context.$implicit.cardTitle),l(e,7,0,t["\u0275inlineInterpolate"](1,"",e.context.$implicit.target,""),t["\u0275nov"](e,8).inputClass,t["\u0275nov"](e,8).invalid,t["\u0275nov"](e,8).skeleton,t["\u0275nov"](e,8).isLightTheme)})}function jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,23,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,15,"div",[["ibmCol",""],["style","margin-bottom: 8px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,12,"div",[["class","limit-class"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](6,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](7,0,null,null,10,"span",[["class","arrow-icon-span"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,4,":svg:svg",[["aria-hidden","true"],["class","bx--pagination__nav-arrow left-arrow-icon"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 32 32"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onPreviousTargetClick()&&t),t},null,null)),t["\u0275prd"](512,null,p["\u0275NgStyleImpl"],p["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](10,278528,null,0,p.NgStyle,[p["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](11,{fill:0}),(l()(),t["\u0275eld"](12,0,null,null,0,":svg:path",[["d","M19 23l-8-7 8-7v14z"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,4,":svg:svg",[["aria-hidden","true"],["class","bx--pagination__nav-arrow right-arrow-icon"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 32 32"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onNextTargetClick()&&t),t},null,null)),t["\u0275prd"](512,null,p["\u0275NgStyleImpl"],p["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](15,278528,null,0,p.NgStyle,[p["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](16,{fill:0}),(l()(),t["\u0275eld"](17,0,null,null,0,":svg:path",[["d","M13 9l8 7-8 7V9z"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,5,"div",[["class","report-colmn"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](19,81920,null,0,h.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](20,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,2,null,Wl)),t["\u0275did"](22,278528,null,0,p.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](0,p.SlicePipe,[])],function(l,e){var n=e.component,i=l(e,4,0,12,4,12);l(e,3,0,i);var a=l(e,11,0,0===n.prevTargetValue?"grey":"");l(e,10,0,a);var u=l(e,16,0,"");l(e,15,0,u);var o=l(e,20,0,12,12,12);l(e,19,0,"report-colmn",o),l(e,22,0,t["\u0275unv"](e,22,0,t["\u0275nov"](e,23).transform(n.targetData,n.prevTargetValue,n.nextTargetValue)))},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,5,0,t["\u0275nov"](e,6).baseClass),l(e,18,0,t["\u0275nov"](e,19).columnClasses)})}function $l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","fill-da1e28"],["ibmIconClose20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onCloseCard(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,L.a,[t.ElementRef],null,null)],null,null)}function Ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","fill-da1e28"],["ibmIconCheckmark20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onCloseCard(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,O.a,[t.ElementRef],null,null)],null,null)}function Zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"input",[["class","input-div"],["formControlName","target"],["ibmText",""],["id","target"],["name",""],["placeholder","Enter Target"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==a.calculateUpperLowerLimitWithTarget(l.parent.context.$implicit)&&i),i},null,null)),t["\u0275did"](1,16384,null,0,x.a,[],null,null),t["\u0275did"](2,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](4,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](6,16384,null,0,r.r,[[4,r.q]],null,null)],function(l,e){l(e,4,0,"target",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,1).inputClass,t["\u0275nov"](e,1).invalid,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).isLightTheme,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending])})}function Xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"input",[["class","input-div"],["formControlName","upperPercent"],["ibmText",""],["id","upperPercent"],["name",""],["placeholder","%"],["style","margin-right: 8px;flex: 1;min-width: 0"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==a.calculateUpperLowerLimit(l.parent.context.$implicit,l.parent.context.$implicit.value.index,"upper")&&i),i},null,null)),t["\u0275did"](1,16384,null,0,x.a,[],null,null),t["\u0275did"](2,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](4,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](6,16384,null,0,r.r,[[4,r.q]],null,null)],function(l,e){l(e,4,0,"upperPercent",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,1).inputClass,t["\u0275nov"](e,1).invalid,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).isLightTheme,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending])})}function Jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"input",[["class","input-div"],["formControlName","upper"],["ibmText",""],["id","upper"],["name",""],["placeholder","Upper Limit"],["style","flex: 1;min-width: 0"],["tabindex","-1"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,5)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,5).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275prd"](512,null,p["\u0275NgClassImpl"],p["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,p.NgClass,[p["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"disabled-no-action":0}),t["\u0275did"](4,16384,null,0,x.a,[],null,null),t["\u0275did"](5,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](7,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](9,16384,null,0,r.r,[[4,r.q]],null,null)],function(l,e){var n=l(e,3,0,e.parent.context.$implicit.value.upperPercent);l(e,2,0,"input-div",n),l(e,7,0,"upper",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,4).inputClass,t["\u0275nov"](e,4).invalid,t["\u0275nov"](e,4).skeleton,t["\u0275nov"](e,4).isLightTheme,t["\u0275nov"](e,9).ngClassUntouched,t["\u0275nov"](e,9).ngClassTouched,t["\u0275nov"](e,9).ngClassPristine,t["\u0275nov"](e,9).ngClassDirty,t["\u0275nov"](e,9).ngClassValid,t["\u0275nov"](e,9).ngClassInvalid,t["\u0275nov"](e,9).ngClassPending])})}function le(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"input",[["class","input-div"],["formControlName","lowerPercent"],["ibmText",""],["id","lowerPercent"],["name",""],["placeholder","%"],["style","margin-right: 8px;flex: 1;min-width: 0"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==a.calculateUpperLowerLimit(l.parent.context.$implicit,l.parent.context.$implicit.value.index,"lower")&&i),i},null,null)),t["\u0275did"](1,16384,null,0,x.a,[],null,null),t["\u0275did"](2,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](4,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](6,16384,null,0,r.r,[[4,r.q]],null,null)],function(l,e){l(e,4,0,"lowerPercent",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,1).inputClass,t["\u0275nov"](e,1).invalid,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).isLightTheme,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending])})}function ee(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"input",[["class","input-div"],["formControlName","lower"],["ibmText",""],["id","lower"],["name",""],["placeholder","Lower Limit "],["style","flex: 1;min-width: 0"],["tabindex","-1"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,5)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,5).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275prd"](512,null,p["\u0275NgClassImpl"],p["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,p.NgClass,[p["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"disabled-no-action":0}),t["\u0275did"](4,16384,null,0,x.a,[],null,null),t["\u0275did"](5,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](7,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](9,16384,null,0,r.r,[[4,r.q]],null,null)],function(l,e){var n=l(e,3,0,e.parent.context.$implicit.value.lowerPercent);l(e,2,0,"input-div",n),l(e,7,0,"lower",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,4).inputClass,t["\u0275nov"](e,4).invalid,t["\u0275nov"](e,4).skeleton,t["\u0275nov"](e,4).isLightTheme,t["\u0275nov"](e,9).ngClassUntouched,t["\u0275nov"](e,9).ngClassTouched,t["\u0275nov"](e,9).ngClassPristine,t["\u0275nov"](e,9).ngClassDirty,t["\u0275nov"](e,9).ngClassValid,t["\u0275nov"](e,9).ngClassInvalid,t["\u0275nov"](e,9).ngClassPending])})}function ne(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,21,"div",[["style","background-color: #393939;padding: 16px;position: absolute;top: 24px;left: -52px;z-index: 9999;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["class","fill-white-ico"],["ibmIconClose20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.closeCopyDiag(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](2,4210688,null,0,L.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](3,0,null,null,15,"label",[["class","date-picker-new-cont padding-left-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,10,"input",[["ibmText",""]],[[8,"placeholder",0],[2,"owl-dt-trigger-disabled",null],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"],[null,"blur"],[null,"input"],[null,"change"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,5).handleClickOnHost(n)&&i),"keydown"===e&&(i=!1!==t["\u0275nov"](l,6).handleKeydownOnHost(n)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,6).handleBlurOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,6).handleInputOnHost(n)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,6).handleChangeOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,8)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,8).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,8)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,8)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(a.copyDateSelected=n)&&i),"ngModelChange"===e&&(i=!1!==a.onCopyCalendarChange(n)&&i),i},null,null)),t["\u0275did"](5,1785856,null,0,y.y,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"]},null),t["\u0275did"](6,1261568,null,0,y.z,[t.ElementRef,t.Renderer2,[2,y.a],[2,y.b]],{owlDateTime:[0,"owlDateTime"],selectMode:[1,"selectMode"]},null),t["\u0275did"](7,16384,null,0,x.a,[],null,null),t["\u0275did"](8,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.o,function(l){return[l]},[y.z]),t["\u0275prd"](1024,null,r.p,function(l,e){return[l,e]},[y.z,r.c]),t["\u0275did"](11,671744,null,0,r.u,[[2,r.b],[6,r.o],[8,null],[6,r.p]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](12,{standalone:0}),t["\u0275prd"](2048,null,r.q,null,[r.u]),t["\u0275did"](14,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](15,16777216,null,null,1,"owl-date-time",[],null,null,null,w.b,w.a)),t["\u0275did"](16,245760,[["dt10",4]],0,y.d,[I.b,t.ViewContainerRef,y.v,t.NgZone,t.ChangeDetectorRef,[2,y.a],y.o,[2,y.b],[2,p.DOCUMENT]],{pickerType:[0,"pickerType"]},null),(l()(),t["\u0275eld"](17,0,null,null,1,":svg:svg",[["class","cal-icon"],["ibmIconCalendar20",""]],null,null,null,null,null)),t["\u0275did"](18,4210688,null,0,D.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](19,0,null,null,2,"button",[["ibmButton","danger"],["style","width: 100%;margin-top: 8px;"],["type","button"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onCopyValues(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](20,16384,null,0,S.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,["Copy"]))],function(l,e){var n=e.component;l(e,5,0,t["\u0275nov"](e,16)),l(e,6,0,t["\u0275nov"](e,16),"range");var i=n.copyDateSelected,a=l(e,12,0,!0);l(e,11,0,i,a),l(e,16,0,"calendar"),l(e,20,0,"danger")},function(l,e){l(e,4,1,[e.component.placeholder,t["\u0275nov"](e,5).owlDTTriggerDisabledClass,t["\u0275nov"](e,6).owlDateTimeInputAriaHaspopup,t["\u0275nov"](e,6).owlDateTimeInputAriaOwns,t["\u0275nov"](e,6).minIso8601,t["\u0275nov"](e,6).maxIso8601,t["\u0275nov"](e,6).owlDateTimeInputDisabled,t["\u0275nov"](e,7).inputClass,t["\u0275nov"](e,7).invalid,t["\u0275nov"](e,7).skeleton,t["\u0275nov"](e,7).isLightTheme,t["\u0275nov"](e,14).ngClassUntouched,t["\u0275nov"](e,14).ngClassTouched,t["\u0275nov"](e,14).ngClassPristine,t["\u0275nov"](e,14).ngClassDirty,t["\u0275nov"](e,14).ngClassValid,t["\u0275nov"](e,14).ngClassInvalid,t["\u0275nov"](e,14).ngClassPending]),l(e,19,1,[t["\u0275nov"](e,20).baseClass,t["\u0275nov"](e,20).primaryButton,t["\u0275nov"](e,20).secondaryButton,t["\u0275nov"](e,20).tertiaryButton,t["\u0275nov"](e,20).ghostButton,t["\u0275nov"](e,20).dangerButton,t["\u0275nov"](e,20).dangerPrimaryButton,t["\u0275nov"](e,20).skeleton,t["\u0275nov"](e,20).smallSize,t["\u0275nov"](e,20).toolbarAction,t["\u0275nov"](e,20).overflowMenu])})}function te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter numeric values"]))],null,null)}function ie(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,38,"div",[["formArrayName","captureData"]],[[24,"@slideInOut",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["\u0275prd"](512,null,p["\u0275NgClassImpl"],p["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,p.NgClass,[p["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275did"](3,212992,null,0,r.e,[[3,r.b],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.b,null,[r.e]),t["\u0275did"](5,16384,null,0,r.s,[[4,r.b]],null,null),(l()(),t["\u0275eld"](6,0,null,null,5,"div",[["class","close-div"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,4,"div",[["class","close-icon-center"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,$l)),t["\u0275did"](9,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ql)),t["\u0275did"](11,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](12,0,null,null,24,"div",[["class","parent-items"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"change"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==i.onGoalSelection(l.context.$implicit)&&t),"change"===e&&(t=!1!==i.onGoalSelection(l.context.$implicit)&&t),t},null,null)),t["\u0275did"](13,212992,null,0,r.k,[[3,r.b],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.b,null,[r.k]),t["\u0275did"](15,16384,null,0,r.s,[[4,r.b]],null,null),(l()(),t["\u0275eld"](16,0,null,null,1,"label",[["class","report-data-head"]],null,null,null,null,null)),(l()(),t["\u0275ted"](17,null,["Target for ",""])),(l()(),t["\u0275eld"](18,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Zl)),t["\u0275did"](21,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](22,0,null,null,4,"div",[["style","display: flex;justify-content: space-between;overflow: hidden;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Xl)),t["\u0275did"](24,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Jl)),t["\u0275did"](26,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](27,0,null,null,4,"div",[["style","display: flex;justify-content: space-between;overflow: hidden;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,le)),t["\u0275did"](29,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ee)),t["\u0275did"](31,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](32,0,null,null,4,"div",[["class","copy-btn"],["style","position: relative;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ne)),t["\u0275did"](34,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](35,0,null,null,1,"span",[],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.showCopyCalendar(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Copy"])),(l()(),t["\u0275and"](16777216,null,null,1,null,te)),t["\u0275did"](38,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,2,0,e.context.$implicit.value.disabled?"report-container card-fill-color":n.selectedCard&&e.context.$implicit.value.index===n.selectedCard.index?"report-container active-card":"report-container"),l(e,3,0,"captureData"),l(e,9,0,!e.context.$implicit.value.disabled&&("SHIFT WISE"===n.captureType&&0!=n.selectedShifttem.length||"WEEKLY"===n.captureType||"DAILY"===n.captureType||"QUARTERLY"===n.captureType&&"PRAGMATIC"===n.actionLimit||"HALF YEARLY"===n.captureType&&"PRAGMATIC"===n.actionLimit)),l(e,11,0,e.context.$implicit.value.disabled&&("SHIFT WISE"===n.captureType&&0!=n.selectedShifttem.length||"WEEKLY"===n.captureType||"DAILY"===n.captureType||"QUARTERLY"===n.captureType&&"PRAGMATIC"===n.actionLimit||"HALF YEARLY"===n.captureType&&"PRAGMATIC"===n.actionLimit)),l(e,13,0,e.context.$implicit.value.index),l(e,21,0,!n.useForStratefyTarget),l(e,24,0,!n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit),l(e,26,0,!n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit),l(e,29,0,!n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit),l(e,31,0,!n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit),l(e,34,0,e.context.$implicit.isShowCopyCal),l(e,38,0,e.context.$implicit.controls.target.invalid&&e.context.$implicit.controls.target.touched||e.context.$implicit.controls.lower.invalid&&e.context.$implicit.controls.lower.touched||e.context.$implicit.controls.upper.invalid&&e.context.$implicit.controls.upper.touched)},function(l,e){l(e,0,0,void 0,t["\u0275nov"](e,5).ngClassUntouched,t["\u0275nov"](e,5).ngClassTouched,t["\u0275nov"](e,5).ngClassPristine,t["\u0275nov"](e,5).ngClassDirty,t["\u0275nov"](e,5).ngClassValid,t["\u0275nov"](e,5).ngClassInvalid,t["\u0275nov"](e,5).ngClassPending),l(e,12,0,t["\u0275nov"](e,15).ngClassUntouched,t["\u0275nov"](e,15).ngClassTouched,t["\u0275nov"](e,15).ngClassPristine,t["\u0275nov"](e,15).ngClassDirty,t["\u0275nov"](e,15).ngClassValid,t["\u0275nov"](e,15).ngClassInvalid,t["\u0275nov"](e,15).ngClassPending),l(e,17,0,e.context.$implicit.value.content)})}function ae(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,24,"div",[["class","margin-top-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,15,"div",[["ibmCol",""],["style","margin-bottom: 8px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,12,"div",[["class","limit-class"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](6,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](7,0,null,null,10,"span",[["class","arrow-icon-span"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,4,":svg:svg",[["aria-hidden","true"],["class","bx--pagination__nav-arrow left-arrow-icon"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 32 32"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onPreviousClick()&&t),t},null,null)),t["\u0275prd"](512,null,p["\u0275NgStyleImpl"],p["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](10,278528,null,0,p.NgStyle,[p["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](11,{fill:0}),(l()(),t["\u0275eld"](12,0,null,null,0,":svg:path",[["d","M19 23l-8-7 8-7v14z"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,4,":svg:svg",[["aria-hidden","true"],["class","bx--pagination__nav-arrow right-arrow-icon"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 32 32"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onNextClick()&&t),t},null,null)),t["\u0275prd"](512,null,p["\u0275NgStyleImpl"],p["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](15,278528,null,0,p.NgStyle,[p["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](16,{fill:0}),(l()(),t["\u0275eld"](17,0,null,null,0,":svg:path",[["d","M13 9l8 7-8 7V9z"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,6,"div",[["class","report-colmn"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](19,81920,null,0,h.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](20,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,3,null,ie)),t["\u0275did"](22,278528,null,0,p.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](0,N.a,[]),t["\u0275pid"](0,p.SlicePipe,[])],function(l,e){var n=e.component,i=l(e,4,0,12,4,12);l(e,3,0,i);var a=l(e,11,0,0===n.prevValue?"grey":"");l(e,10,0,a);var u=l(e,16,0,n.captureData&&n.nextValue>=n.captureData.value.length?"grey":"");l(e,15,0,u);var o=l(e,20,0,12,12,12);l(e,19,0,"report-colmn",o),l(e,22,0,t["\u0275unv"](e,22,0,t["\u0275nov"](e,24).transform(t["\u0275unv"](e,22,0,t["\u0275nov"](e,23).transform(n.kpiForm.get("captureData").controls,n.selectedMonthStart,n.selectedMonthEnd,n.captureType)),n.prevValue,n.nextValue)))},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,5,0,t["\u0275nov"](e,6).baseClass),l(e,18,0,t["\u0275nov"](e,19).columnClasses)})}function ue(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid kpi description"]))],null,null)}function oe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["ibmCol",""],["style","margin-bottom: 10px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline record-edit-not-permitted-message-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "]))],function(l,e){var n=l(e,2,0,12,12,12);l(e,1,0,n)},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,4,0,n.editNotPermittedMessage)})}function re(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,361,"form",[["class","form-wrapper"],["novalidate",""]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,e,n){var i=!0,a=l.component;return"submit"===e&&(i=!1!==t["\u0275nov"](l,2).onSubmit(n)&&i),"reset"===e&&(i=!1!==t["\u0275nov"](l,2).onReset()&&i),"ngSubmit"===e&&(i=!1!==a.onSubmit()&&i),i},null,null)),t["\u0275did"](1,16384,null,0,r.F,[],null,null),t["\u0275did"](2,540672,null,0,r.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,r.b,null,[r.j]),t["\u0275did"](4,16384,null,0,r.s,[[4,r.b]],null,null),(l()(),t["\u0275eld"](5,0,null,null,156,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](6,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](7,0,null,null,154,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](8,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](9,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](10,0,null,null,18,"div",[["class","margin-top-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](11,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](12,0,null,null,16,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](13,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](14,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](15,0,null,null,11,"ibm-label",[],[[2,"bx--form-item",null]],null,null,f.b,f.a)),t["\u0275did"](16,1097728,null,0,v.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["KPI Title "])),(l()(),t["\u0275eld"](18,0,null,0,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](20,0,null,1,6,"input",[["class"," "],["formControlName","title"],["ibmText",""],["id","title"],["placeholder","Enter title"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,22)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,22).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,22)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,22)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](21,16384,null,0,x.a,[],null,null),t["\u0275did"](22,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](24,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](26,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ml)),t["\u0275did"](28,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](29,0,null,null,5,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](30,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](31,0,null,null,3,"div",[["class",""],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](32,81920,null,0,h.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](33,{lg:0,md:1,sm:2}),(l()(),t["\u0275ted"](-1,null,[" 1. KPI Information "])),(l()(),t["\u0275eld"](35,0,null,null,18,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](36,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](37,0,null,null,16,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](38,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](39,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](40,0,null,null,13,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Financial year "])),(l()(),t["\u0275eld"](42,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](44,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","financialYear"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,45).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.setFinancialYear(n)&&i),i},i.b,i.a)),t["\u0275did"](45,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{placeholder:[0,"placeholder"],size:[1,"size"],type:[2,"type"],disabled:[3,"disabled"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,2,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](48,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](50,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](51,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](52,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[2,4]],c.a,null,[d.a]),(l()(),t["\u0275eld"](54,0,null,null,8,"div",[["class","margin-top-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](55,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](56,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](57,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](58,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,hl)),t["\u0275did"](60,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](62,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](63,0,null,null,58,"div",[["class","margin-top-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](64,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](65,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](66,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](67,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](68,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Department "])),(l()(),t["\u0275eld"](70,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](72,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","department"],["id","department"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,73).onKeyDown(n)&&i),i},i.b,i.a)),t["\u0275did"](73,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},null),t["\u0275qud"](335544320,5,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](76,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](78,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](79,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](80,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[5,4]],c.a,null,[d.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](83,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](84,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](85,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](86,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](87,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Category "])),(l()(),t["\u0275eld"](89,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](91,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","category"],["id",""],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,92).onKeyDown(n)&&i),i},i.b,i.a)),t["\u0275did"](92,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},null),t["\u0275qud"](335544320,6,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](95,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](97,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](98,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](99,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[6,4]],c.a,null,[d.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,yl)),t["\u0275did"](102,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](103,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](104,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](105,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](106,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KPI Type "])),(l()(),t["\u0275eld"](108,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](110,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","KpiType"],["id",""],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,111).onKeyDown(n)&&i),i},i.b,i.a)),t["\u0275did"](111,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},null),t["\u0275qud"](335544320,7,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](114,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](116,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](117,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](118,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[7,4]],c.a,null,[d.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](121,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](122,0,null,null,39,"div",[["class","margin-top-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](123,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](124,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](125,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](126,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](127,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Direction of Goodness "])),(l()(),t["\u0275eld"](129,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](131,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","directionOfGoodness"],["id","directionOfGoodness"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,132).onKeyDown(n)&&i),i},i.b,i.a)),t["\u0275did"](132,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},null),t["\u0275qud"](335544320,8,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](135,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](137,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](138,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](139,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[8,4]],c.a,null,[d.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,wl)),t["\u0275did"](142,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](143,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](144,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](145,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](146,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Unit of Measurement "])),(l()(),t["\u0275eld"](148,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](150,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","unitOfMeasurement"],["id","unitOfMeasurement"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,151).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onUoMChange(n)&&i),i},i.b,i.a)),t["\u0275did"](151,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,9,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](154,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](156,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](157,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](158,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[9,4]],c.a,null,[d.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Il)),t["\u0275did"](161,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](162,0,null,null,92,"div",[["ibmRow",""],["style","margin-top:60px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](163,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](164,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](165,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](166,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](167,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["YTD Calculation "])),(l()(),t["\u0275eld"](169,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](171,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","ytdCalculation"],["id","ytd"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,172).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onYTDChange(n)&&i),i},i.b,i.a)),t["\u0275did"](172,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,10,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](175,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](177,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](178,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](179,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[10,4]],c.a,null,[d.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Dl)),t["\u0275did"](182,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](183,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](184,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](185,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](186,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Capture Frequency "])),(l()(),t["\u0275eld"](188,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](190,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","dataCaptureFrequency"],["id","dataCaptureFrequency"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,191).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickcapture(n)&&i),i},i.b,i.a)),t["\u0275did"](191,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,11,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](194,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](196,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](197,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](198,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[11,4]],c.a,null,[d.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Tl)),t["\u0275did"](201,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ml)),t["\u0275did"](203,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Pl)),t["\u0275did"](205,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Sl)),t["\u0275did"](207,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](208,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](209,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](210,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](211,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Review Frequency "])),(l()(),t["\u0275eld"](213,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](215,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","reviewFrequency"],["id","reviewFrequency"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,216).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickReview(n)&&i),i},i.b,i.a)),t["\u0275did"](216,1294336,null,1,a.a,[t.ElementRef,u.a,o.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,15,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[a.a]),t["\u0275did"](219,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](221,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](222,0,null,0,2,"ibm-dropdown-list",[],null,null,null,s.b,s.a)),t["\u0275did"](223,4374528,null,0,d.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[15,4]],c.a,null,[d.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,kl)),t["\u0275did"](226,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](227,0,null,null,27,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](228,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](229,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](230,0,null,null,24,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Action Limits "])),(l()(),t["\u0275eld"](232,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](234,0,null,null,4,"span",[["class","tooltip"]],null,null,null,null,null)),(l()(),t["\u0275eld"](235,0,null,null,1,":svg:svg",[["ibmIconHelp16",""]],null,null,null,null,null)),t["\u0275did"](236,4210688,null,0,T.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](237,0,null,null,1,"span",[["class","tooltiptext"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["A pragmatic approach automatically computes upper and lower action limits based on the pragmatic value provided. A manual approach would require the user to manually specify upper and lower action limits."])),(l()(),t["\u0275eld"](239,0,null,null,15,"ibm-radio-group",[["aria-label","radiogroup"]],[[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"]],function(l,e,n){var t=!0,i=l.component;return"ngModelChange"===e&&(t=!1!==(i.actionLimit=n)&&t),"change"===e&&(t=!1!==i.onRadioChange(n)&&t),t},E.b,E.a)),t["\u0275did"](240,5292032,null,1,A.a,[],null,{change:"change"}),t["\u0275qud"](603979776,16,{radios:1}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[A.a]),t["\u0275did"](243,671744,null,0,r.u,[[2,r.b],[8,null],[8,null],[6,r.p]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](244,{standalone:0}),t["\u0275prd"](2048,null,r.q,null,[r.u]),t["\u0275did"](246,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](247,0,null,0,3,"ibm-radio",[["value","PRAGMATIC"]],[[1,"title",0],[1,"role",0],[2,"bx--radio-button-wrapper",null],[2,"bx--radio-button-wrapper--label-left",null]],null,null,Y.b,Y.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[_.a]),t["\u0275did"](249,49152,[[16,4]],0,_.a,[],{checked:[0,"checked"],disabled:[1,"disabled"],value:[2,"value"]},null),(l()(),t["\u0275ted"](-1,0,[" Pragmatic (Recommended) "])),(l()(),t["\u0275eld"](251,0,null,0,3,"ibm-radio",[["value","MANUAL"]],[[1,"role",0],[2,"bx--radio-button-wrapper",null],[2,"bx--radio-button-wrapper--label-left",null]],null,null,Y.b,Y.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[_.a]),t["\u0275did"](253,49152,[[16,4]],0,_.a,[],{checked:[0,"checked"],value:[1,"value"]},null),(l()(),t["\u0275ted"](-1,0,[" Manual "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Fl)),t["\u0275did"](256,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](257,0,null,null,11,"div",[["class","margin-top-64"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](258,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](259,0,null,null,4,"div",[["class","text-mid-center"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](260,81920,null,0,h.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](261,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,Ol)),t["\u0275did"](263,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](264,0,null,null,4,"div",[["class",""],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](265,81920,null,0,h.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](266,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,Nl)),t["\u0275did"](268,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,zl)),t["\u0275did"](270,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Gl)),t["\u0275did"](272,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,jl)),t["\u0275did"](274,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ae)),t["\u0275did"](276,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](277,0,null,null,57,"div",[["class","margin-top-24"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](278,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](279,0,null,null,21,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](280,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](281,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](282,0,null,null,16,"ibm-label",[],[[2,"bx--form-item",null]],null,null,f.b,f.a)),t["\u0275did"](283,1097728,null,0,v.a,[],null,null),(l()(),t["\u0275eld"](284,0,null,0,3,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" KPI Description "])),(l()(),t["\u0275eld"](286,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](288,0,null,0,1,"label",[["class","top-right-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](289,null,["","/500"])),(l()(),t["\u0275eld"](290,0,null,1,8,"textarea",[["aria-label","textarea"],["formControlName","kpiDescription"],["ibmTextArea",""],["id","kpiDescription"],["maxlength","500"],["placeholder","Explain the action items for CP"]],[[2,"bx--text-area",null],[2,"bx--text-area--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-area--light",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,292)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,292).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,292)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,292)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](291,16384,null,0,U.a,[],null,null),t["\u0275did"](292,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275did"](293,540672,null,0,r.m,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,r.o,function(l){return[l]},[r.m]),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](296,671744,null,0,r.h,[[3,r.b],[6,r.o],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](298,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ue)),t["\u0275did"](300,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](301,0,null,null,33,"div",[["class","remark-container"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](302,81920,null,0,h.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](303,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](304,0,null,null,18,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](305,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](306,0,null,null,16,"ibm-label",[["ibmCol",""]],[[8,"className",0],[2,"bx--form-item",null]],null,null,f.b,f.a)),t["\u0275did"](307,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](308,{lg:0,md:1,sm:2}),t["\u0275did"](309,1097728,null,0,v.a,[],null,null),(l()(),t["\u0275eld"](310,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Remark"])),(l()(),t["\u0275eld"](312,0,null,0,1,"label",[["class","top-right-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](313,null,["","/500"])),(l()(),t["\u0275eld"](314,0,null,1,8,"textarea",[["aria-label","textarea"],["class","remark-textarea"],["formControlName","remark"],["ibmTextArea",""],["id","remark"],["maxlength","500"],["placeholder","Remark"]],[[2,"bx--text-area",null],[2,"bx--text-area--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-area--light",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,316)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,316).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,316)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,316)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](315,16384,null,0,U.a,[],null,null),t["\u0275did"](316,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275did"](317,540672,null,0,r.m,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,r.o,function(l){return[l]},[r.m]),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](320,671744,null,0,r.h,[[3,r.b],[6,r.o],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](322,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](323,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](324,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](325,0,null,null,9,"div",[["ibmCol",""],["style","height: 30px"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](326,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](327,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](328,0,null,null,6,"div",[["class","attachment-div"]],null,null,null,null,null)),(l()(),t["\u0275eld"](329,0,null,null,2,"a",[["style","cursor: pointer;text-decoration: none;color: black;"],["target","_blank"]],[[8,"download",0],[8,"href",4]],null,null,null,null)),(l()(),t["\u0275eld"](330,0,null,null,1,"label",[["class","font-size-12"]],null,null,null,null,null)),(l()(),t["\u0275ted"](331,null,["",""])),(l()(),t["\u0275eld"](332,0,[[1,0],["inputRemarkAttachment",1]],null,0,"input",[["style","display: none;"],["type","file"]],[[8,"accept",0]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onAttachmentChange(n)&&t),t},null,null)),(l()(),t["\u0275eld"](333,0,null,null,1,":svg:svg",[["class","fill-da1e28"],["ibmIconAttachment20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onFileSelect(n)&&t),t},null,null)),t["\u0275did"](334,4210688,null,0,V.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](335,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](336,0,null,null,1,"app-goalkpi-common",[],null,[[null,"updateAchievementLevelDataSource"],[null,"sourceItem"],[null,"ownerEvent"],[null,"viewerEvent"],[null,"groupEvent"],[null,"weighatgeEvent"]],function(l,e,n){var t=!0,i=l.component;return"updateAchievementLevelDataSource"===e&&(t=!1!==i.updateAchievementLevelDataSource(n)&&t),"sourceItem"===e&&(t=!1!==i.sourceEvent(n)&&t),"ownerEvent"===e&&(t=!1!==i.getOwner(n)&&t),"viewerEvent"===e&&(t=!1!==i.getViewer(n)&&t),"groupEvent"===e&&(t=!1!==i.getGroup(n)&&t),"weighatgeEvent"===e&&(t=!1!==i.setWeightage(n)&&t),t},q.b,q.a)),t["\u0275did"](337,638976,null,0,K.a,[H.a,z.a,B.j,G.a,W.a,j.a],{level:[0,"level"],isAddMode:[1,"isAddMode"],yearEndDate:[2,"yearEndDate"],yearStartDate:[3,"yearStartDate"],weightage:[4,"weightage"],parentOwnerId:[5,"parentOwnerId"],selectedOwnersInputArray:[6,"selectedOwnersInputArray"],selectedViewersInputArray:[7,"selectedViewersInputArray"],selectedGroupsInputArray:[8,"selectedGroupsInputArray"],fromExtendStructure:[9,"fromExtendStructure"],selectedSourceItemForReq:[10,"selectedSourceItemForReq"]},{sourceItem:"sourceItem",ownerEvent:"ownerEvent",viewerEvent:"viewerEvent",groupEvent:"groupEvent",weighatgeEvent:"weighatgeEvent",updateAchievementLevelDataSource:"updateAchievementLevelDataSource"}),(l()(),t["\u0275eld"](338,0,null,null,23,"div",[["class","margin-top-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](339,16384,null,0,h.c,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,oe)),t["\u0275did"](341,16384,null,0,p.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](342,0,null,null,19,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](343,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](344,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](345,0,null,null,16,"div",[["class","margin-top-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](346,16384,null,0,h.c,[],null,null),(l()(),t["\u0275eld"](347,0,null,null,7,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](348,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](349,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](350,0,null,null,4,"button",[["class","button-goal"],["ibmButton","danger"],["type","submit"]],[[8,"disabled",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],null,null,null,null)),t["\u0275did"](351,16384,null,0,S.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,[" Save KPI "])),(l()(),t["\u0275eld"](353,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),t["\u0275did"](354,4210688,null,0,$.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](355,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](356,81920,null,0,h.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](357,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](358,0,null,null,3,"button",[["class","button-goal"],["ibmButton","secondary"],["type","button"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],null,null,null,null)),t["\u0275did"](359,16384,null,0,S.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](360,0,null,null,1,"a",[["style","text-decoration: none; color: #ffffff;"]],[[8,"href",4]],null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["View Cap-Do"]))],function(l,e){var n=e.component;l(e,2,0,n.kpiForm);var t=l(e,9,0,5,5,12);l(e,8,0,t);var i=l(e,14,0,12,12,12);l(e,13,0,i),l(e,24,0,"title"),l(e,28,0,n.kpiForm.controls.title.invalid&&n.kpiForm.controls.title.touched||n.isSubmitClicked&&n.kpiForm.controls.title.invalid);var a=l(e,33,0,8,8,12);l(e,32,0,"",a);var u=l(e,39,0,12,12,12);l(e,38,0,u),l(e,45,0,"Choose","sm","single",!n.isAddMode&&!n.extend,"true"),l(e,48,0,"financialYear",!n.isAddMode&&!n.extend),l(e,52,0,n.yearList);var o=l(e,58,0,12,12,12);l(e,57,0,o),l(e,60,0,n.noParentKpi),l(e,62,0,!n.noParentKpi);var r=l(e,67,0,4,4,12);l(e,66,0,r),l(e,73,0,"department","Choose","sm","single","true"),l(e,76,0,"department"),l(e,80,0,n.departmentList),l(e,83,0,n.kpiForm.controls.department.invalid&&n.kpiForm.controls.department.touched||n.isSubmitClicked&&n.kpiForm.controls.department.invalid);var s=l(e,86,0,4,4,12);l(e,85,0,s),l(e,92,0,"","Choose","sm","single","true"),l(e,95,0,"category"),l(e,99,0,n.categoryItems),l(e,102,0,n.kpiForm.controls.category.invalid&&n.kpiForm.controls.category.touched||n.isSubmitClicked&&n.kpiForm.controls.category.invalid);var d=l(e,105,0,4,4,12);l(e,104,0,d),l(e,111,0,"","Choose","sm","single","true"),l(e,114,0,"KpiType"),l(e,118,0,n.KpiItems),l(e,121,0,n.kpiForm.controls.KpiType.invalid&&n.kpiForm.controls.KpiType.touched||n.isSubmitClicked&&n.kpiForm.controls.KpiType.invalid);var c=l(e,126,0,4,4,12);l(e,125,0,c),l(e,132,0,"directionOfGoodness","Choose","sm","single","true"),l(e,135,0,"directionOfGoodness"),l(e,139,0,n.directionOfGoodness),l(e,142,0,n.kpiForm.controls.directionOfGoodness.invalid&&n.kpiForm.controls.directionOfGoodness.touched||n.isSubmitClicked&&n.kpiForm.controls.directionOfGoodness.invalid);var p=l(e,145,0,4,4,12);l(e,144,0,p),l(e,151,0,"unitOfMeasurement","Choose","sm","single","true"),l(e,154,0,"unitOfMeasurement"),l(e,158,0,n.unitOfMeasurementItems),l(e,161,0,n.kpiForm.controls.unitOfMeasurement.invalid&&n.kpiForm.controls.unitOfMeasurement.touched||n.isSubmitClicked&&n.kpiForm.controls.unitOfMeasurement.invalid);var m=l(e,166,0,2,3,12);l(e,165,0,m),l(e,172,0,"ytd","Choose","sm","single","true"),l(e,175,0,"ytdCalculation"),l(e,179,0,n.ytdCalculation),l(e,182,0,n.kpiForm.controls.ytdCalculation.invalid&&n.kpiForm.controls.ytdCalculation.touched||n.isSubmitClicked&&n.kpiForm.controls.ytdCalculation.invalid);var g=l(e,185,0,2,2,12);l(e,184,0,g),l(e,191,0,"dataCaptureFrequency","Choose","sm","single","true"),l(e,194,0,"dataCaptureFrequency"),l(e,198,0,n.filteredFrequencyItems),l(e,201,0,n.kpiForm.controls.dataCaptureFrequency.invalid&&n.kpiForm.controls.dataCaptureFrequency.touched||n.isSubmitClicked&&n.kpiForm.controls.dataCaptureFrequency.invalid),l(e,203,0,"SHIFT WISE"===n.captureType),l(e,205,0,"WEEKLY"===n.captureType),l(e,207,0,"MONTHLY"===n.captureType);var h=l(e,210,0,2,2,12);l(e,209,0,h),l(e,216,0,"reviewFrequency","Choose","sm","single","true"),l(e,219,0,"reviewFrequency"),l(e,223,0,n.filteredReviewFrequencyItems),l(e,226,0,n.kpiForm.controls.reviewFrequency.invalid&&n.kpiForm.controls.reviewFrequency.touched||n.isSubmitClicked&&n.kpiForm.controls.reviewFrequency.invalid);var f=l(e,229,0,3,3,12);l(e,228,0,f);var v=n.actionLimit,b=l(e,244,0,!0);l(e,243,0,v,b),l(e,249,0,"PRAGMATIC"===n.actionLimit,n.disablePragmaticRadioOption,"PRAGMATIC"),l(e,253,0,"MANUAL"===n.actionLimit,"MANUAL"),l(e,256,0,"FORMULA"===n.selectedYTDValue);var C=l(e,261,0,4,4,12);l(e,260,0,"text-mid-center",C),l(e,263,0,"SHIFT WISE"===n.captureType&&0!=n.selectedShifttem.length||"DAILY"===n.captureType||"HOURLY"===n.captureType);var y=l(e,266,0,4,4,12);l(e,265,0,"",y),l(e,268,0,"SHIFT WISE"===n.captureType&&0!=n.selectedShifttem.length||"DAILY"===n.captureType||"HOURLY"===n.captureType),l(e,270,0,"HOURLY"===n.captureType||"SHIFT WISE"===n.captureType||"DAILY"===n.captureType||"WEEKLY"===n.captureType||"MONTHLY"===n.captureType||"QUARTERLY"===n.captureType&&"PRAGMATIC"===n.actionLimit||"HALF YEARLY"===n.captureType&&"PRAGMATIC"===n.actionLimit||"YEARLY"===n.captureType&&"PRAGMATIC"===n.actionLimit),l(e,272,0,n.extend&&!n.isAddMode&&n.showPreviousTargetData),l(e,274,0,n.showKpiTarget&&n.extend&&!n.isAddMode),l(e,276,0,!(n.useForStratefyTarget&&n.useForStratifyLowerUpper)&&"PRAGMATIC"!==n.actionLimit||!n.useForStratefyTarget&&"PRAGMATIC"===n.actionLimit);var x=l(e,281,0,6,6,12);l(e,280,0,x),l(e,293,0,"500"),l(e,296,0,"kpiDescription"),l(e,300,0,n.kpiForm.controls.kpiDescription.invalid&&n.kpiForm.controls.kpiDescription.touched||n.isSubmitClicked&&n.kpiForm.controls.kpiDescription.invalid);var w=l(e,303,0,6,6,12);l(e,302,0,"remark-container",w);var I=l(e,308,0,12,12,12);l(e,307,0,I),l(e,317,0,"500"),l(e,320,0,"remark");var D=l(e,327,0,12,12,12);l(e,326,0,D),l(e,337,1,[2,n.isAddMode,n.yearEndDate,n.yearStartDate,n.weightage,n.parentOwnerId,n.owners,n.viewers,n.groups,n.fromExtendStructure,n.achievementLevelDataSource]),l(e,341,0,!n.isEditPermitted);var T=l(e,344,0,12,12,12);l(e,343,0,T);var M=l(e,349,0,2,2,12);l(e,348,0,M),l(e,351,0,"danger");var P=l(e,357,0,4,4,12);l(e,356,0,P),l(e,359,0,"secondary")},function(l,e){var n=e.component;l(e,0,0,!0===n.isKPILoading,t["\u0275nov"](e,4).ngClassUntouched,t["\u0275nov"](e,4).ngClassTouched,t["\u0275nov"](e,4).ngClassPristine,t["\u0275nov"](e,4).ngClassDirty,t["\u0275nov"](e,4).ngClassValid,t["\u0275nov"](e,4).ngClassInvalid,t["\u0275nov"](e,4).ngClassPending),l(e,5,0,t["\u0275nov"](e,6).baseClass),l(e,7,0,t["\u0275nov"](e,8).columnClasses),l(e,10,0,t["\u0275nov"](e,11).baseClass),l(e,12,0,t["\u0275nov"](e,13).columnClasses),l(e,15,0,t["\u0275nov"](e,16).labelClass),l(e,20,1,[t["\u0275nov"](e,21).inputClass,t["\u0275nov"](e,21).invalid,t["\u0275nov"](e,21).skeleton,t["\u0275nov"](e,21).isLightTheme,t["\u0275nov"](e,26).ngClassUntouched,t["\u0275nov"](e,26).ngClassTouched,t["\u0275nov"](e,26).ngClassPristine,t["\u0275nov"](e,26).ngClassDirty,t["\u0275nov"](e,26).ngClassValid,t["\u0275nov"](e,26).ngClassInvalid,t["\u0275nov"](e,26).ngClassPending]),l(e,29,0,t["\u0275nov"](e,30).baseClass),l(e,31,0,t["\u0275nov"](e,32).columnClasses),l(e,35,0,t["\u0275nov"](e,36).baseClass),l(e,37,0,t["\u0275nov"](e,38).columnClasses),l(e,44,0,t["\u0275nov"](e,45).hostClass,t["\u0275nov"](e,50).ngClassUntouched,t["\u0275nov"](e,50).ngClassTouched,t["\u0275nov"](e,50).ngClassPristine,t["\u0275nov"](e,50).ngClassDirty,t["\u0275nov"](e,50).ngClassValid,t["\u0275nov"](e,50).ngClassInvalid,t["\u0275nov"](e,50).ngClassPending),l(e,54,0,t["\u0275nov"](e,55).baseClass),l(e,56,0,t["\u0275nov"](e,57).columnClasses),l(e,63,0,t["\u0275nov"](e,64).baseClass),l(e,65,0,t["\u0275nov"](e,66).columnClasses),l(e,72,0,t["\u0275nov"](e,73).hostClass,t["\u0275nov"](e,78).ngClassUntouched,t["\u0275nov"](e,78).ngClassTouched,t["\u0275nov"](e,78).ngClassPristine,t["\u0275nov"](e,78).ngClassDirty,t["\u0275nov"](e,78).ngClassValid,t["\u0275nov"](e,78).ngClassInvalid,t["\u0275nov"](e,78).ngClassPending),l(e,84,0,t["\u0275nov"](e,85).columnClasses),l(e,91,0,t["\u0275nov"](e,92).hostClass,t["\u0275nov"](e,97).ngClassUntouched,t["\u0275nov"](e,97).ngClassTouched,t["\u0275nov"](e,97).ngClassPristine,t["\u0275nov"](e,97).ngClassDirty,t["\u0275nov"](e,97).ngClassValid,t["\u0275nov"](e,97).ngClassInvalid,t["\u0275nov"](e,97).ngClassPending),l(e,103,0,t["\u0275nov"](e,104).columnClasses),l(e,110,0,t["\u0275nov"](e,111).hostClass,t["\u0275nov"](e,116).ngClassUntouched,t["\u0275nov"](e,116).ngClassTouched,t["\u0275nov"](e,116).ngClassPristine,t["\u0275nov"](e,116).ngClassDirty,t["\u0275nov"](e,116).ngClassValid,t["\u0275nov"](e,116).ngClassInvalid,t["\u0275nov"](e,116).ngClassPending),l(e,122,0,t["\u0275nov"](e,123).baseClass),l(e,124,0,t["\u0275nov"](e,125).columnClasses),l(e,131,0,t["\u0275nov"](e,132).hostClass,t["\u0275nov"](e,137).ngClassUntouched,t["\u0275nov"](e,137).ngClassTouched,t["\u0275nov"](e,137).ngClassPristine,t["\u0275nov"](e,137).ngClassDirty,t["\u0275nov"](e,137).ngClassValid,t["\u0275nov"](e,137).ngClassInvalid,t["\u0275nov"](e,137).ngClassPending),l(e,143,0,t["\u0275nov"](e,144).columnClasses),l(e,150,0,t["\u0275nov"](e,151).hostClass,t["\u0275nov"](e,156).ngClassUntouched,t["\u0275nov"](e,156).ngClassTouched,t["\u0275nov"](e,156).ngClassPristine,t["\u0275nov"](e,156).ngClassDirty,t["\u0275nov"](e,156).ngClassValid,t["\u0275nov"](e,156).ngClassInvalid,t["\u0275nov"](e,156).ngClassPending),l(e,162,0,t["\u0275nov"](e,163).baseClass),l(e,164,0,t["\u0275nov"](e,165).columnClasses),l(e,171,0,t["\u0275nov"](e,172).hostClass,t["\u0275nov"](e,177).ngClassUntouched,t["\u0275nov"](e,177).ngClassTouched,t["\u0275nov"](e,177).ngClassPristine,t["\u0275nov"](e,177).ngClassDirty,t["\u0275nov"](e,177).ngClassValid,t["\u0275nov"](e,177).ngClassInvalid,t["\u0275nov"](e,177).ngClassPending),l(e,183,0,t["\u0275nov"](e,184).columnClasses),l(e,190,0,t["\u0275nov"](e,191).hostClass,t["\u0275nov"](e,196).ngClassUntouched,t["\u0275nov"](e,196).ngClassTouched,t["\u0275nov"](e,196).ngClassPristine,t["\u0275nov"](e,196).ngClassDirty,t["\u0275nov"](e,196).ngClassValid,t["\u0275nov"](e,196).ngClassInvalid,t["\u0275nov"](e,196).ngClassPending),l(e,208,0,t["\u0275nov"](e,209).columnClasses),l(e,215,0,t["\u0275nov"](e,216).hostClass,t["\u0275nov"](e,221).ngClassUntouched,t["\u0275nov"](e,221).ngClassTouched,t["\u0275nov"](e,221).ngClassPristine,t["\u0275nov"](e,221).ngClassDirty,t["\u0275nov"](e,221).ngClassValid,t["\u0275nov"](e,221).ngClassInvalid,t["\u0275nov"](e,221).ngClassPending),l(e,227,0,t["\u0275nov"](e,228).columnClasses),l(e,239,0,t["\u0275nov"](e,240).radioButtonGroupClass,t["\u0275nov"](e,246).ngClassUntouched,t["\u0275nov"](e,246).ngClassTouched,t["\u0275nov"](e,246).ngClassPristine,t["\u0275nov"](e,246).ngClassDirty,t["\u0275nov"](e,246).ngClassValid,t["\u0275nov"](e,246).ngClassInvalid,t["\u0275nov"](e,246).ngClassPending),l(e,247,0,n.disablePragmaticRadioOption?n.getTitleForLimits():"",t["\u0275nov"](e,249).role,t["\u0275nov"](e,249).hostClass,t["\u0275nov"](e,249).labelLeft),l(e,251,0,t["\u0275nov"](e,253).role,t["\u0275nov"](e,253).hostClass,t["\u0275nov"](e,253).labelLeft),l(e,257,0,t["\u0275nov"](e,258).baseClass),l(e,259,0,t["\u0275nov"](e,260).columnClasses),l(e,264,0,t["\u0275nov"](e,265).columnClasses),l(e,277,0,t["\u0275nov"](e,278).baseClass),l(e,279,0,t["\u0275nov"](e,280).columnClasses),l(e,282,0,t["\u0275nov"](e,283).labelClass),l(e,289,0,n.kpiForm.value.kpiDescription.length?n.kpiForm.value.kpiDescription.length:"0"),l(e,290,1,[t["\u0275nov"](e,291).baseClass,t["\u0275nov"](e,291).invalid,t["\u0275nov"](e,291).skeleton,t["\u0275nov"](e,291).isLightTheme,t["\u0275nov"](e,293).maxlength?t["\u0275nov"](e,293).maxlength:null,t["\u0275nov"](e,298).ngClassUntouched,t["\u0275nov"](e,298).ngClassTouched,t["\u0275nov"](e,298).ngClassPristine,t["\u0275nov"](e,298).ngClassDirty,t["\u0275nov"](e,298).ngClassValid,t["\u0275nov"](e,298).ngClassInvalid,t["\u0275nov"](e,298).ngClassPending]),l(e,301,0,t["\u0275nov"](e,302).columnClasses),l(e,304,0,t["\u0275nov"](e,305).baseClass),l(e,306,0,t["\u0275nov"](e,307).columnClasses,t["\u0275nov"](e,309).labelClass),l(e,313,0,n.kpiForm.value.remark.length),l(e,314,1,[t["\u0275nov"](e,315).baseClass,t["\u0275nov"](e,315).invalid,t["\u0275nov"](e,315).skeleton,t["\u0275nov"](e,315).isLightTheme,t["\u0275nov"](e,317).maxlength?t["\u0275nov"](e,317).maxlength:null,t["\u0275nov"](e,322).ngClassUntouched,t["\u0275nov"](e,322).ngClassTouched,t["\u0275nov"](e,322).ngClassPristine,t["\u0275nov"](e,322).ngClassDirty,t["\u0275nov"](e,322).ngClassValid,t["\u0275nov"](e,322).ngClassInvalid,t["\u0275nov"](e,322).ngClassPending]),l(e,323,0,t["\u0275nov"](e,324).baseClass),l(e,325,0,t["\u0275nov"](e,326).columnClasses),l(e,329,0,t["\u0275inlineInterpolate"](1,"",null==n.attachmentFile?null:n.attachmentFile.name,""),t["\u0275inlineInterpolate"](1,"",null!=n.attachmentFile&&n.attachmentFile.url?null==n.attachmentFile?null:n.attachmentFile.url:"","")),l(e,331,0,null!=n.attachmentFile&&n.attachmentFile.name?null==n.attachmentFile?null:n.attachmentFile.name:"Select file"),l(e,332,0,t["\u0275inlineInterpolate"](1,"",n.supportedAttachmentFormats,"")),l(e,338,0,t["\u0275nov"](e,339).baseClass),l(e,342,0,t["\u0275nov"](e,343).columnClasses),l(e,345,0,t["\u0275nov"](e,346).baseClass),l(e,347,0,t["\u0275nov"](e,348).columnClasses),l(e,350,1,[n.kpiForm.invalid&&0==n.owners.length||!n.isEditPermitted,t["\u0275nov"](e,351).baseClass,t["\u0275nov"](e,351).primaryButton,t["\u0275nov"](e,351).secondaryButton,t["\u0275nov"](e,351).tertiaryButton,t["\u0275nov"](e,351).ghostButton,t["\u0275nov"](e,351).dangerButton,t["\u0275nov"](e,351).dangerPrimaryButton,t["\u0275nov"](e,351).skeleton,t["\u0275nov"](e,351).smallSize,t["\u0275nov"](e,351).toolbarAction,t["\u0275nov"](e,351).overflowMenu]),l(e,355,0,t["\u0275nov"](e,356).columnClasses),l(e,358,1,[t["\u0275nov"](e,359).baseClass,t["\u0275nov"](e,359).primaryButton,t["\u0275nov"](e,359).secondaryButton,t["\u0275nov"](e,359).tertiaryButton,t["\u0275nov"](e,359).ghostButton,t["\u0275nov"](e,359).dangerButton,t["\u0275nov"](e,359).dangerPrimaryButton,t["\u0275nov"](e,359).skeleton,t["\u0275nov"](e,359).smallSize,t["\u0275nov"](e,359).toolbarAction,t["\u0275nov"](e,359).overflowMenu]),l(e,360,0,t["\u0275inlineInterpolate"](1,"",n.kpiCapDoPageURL,""))})}function se(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class"," center-loader-text "]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"],["title","Loading"]],[[2,"bx--loading-overlay",null]],null,null,Q.b,Q.a)),t["\u0275did"](2,49152,null,0,Z.a,[u.a],{title:[0,"title"],size:[1,"size"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."]))],function(l,e){l(e,2,0,"Loading","sm")},function(l,e){l(e,1,0,t["\u0275nov"](e,2).overlay)})}function de(l){return t["\u0275vid"](2,[t["\u0275pid"](0,p.DatePipe,[t.LOCALE_ID]),t["\u0275qud"](671088640,1,{inputRemarkAttachment:0}),(l()(),t["\u0275eld"](2,0,null,null,10,"ibm-modal",[["class","edit-kpi-details"]],null,[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,3).handleKeyboardEvent(n)&&i),i},X.c,X.b)),t["\u0275did"](3,4440064,null,0,J.a,[ll.a],null,null),(l()(),t["\u0275eld"](4,0,null,0,8,"div",[["style","overflow-y: scroll;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,3,"ibm-modal-header",[],null,[[null,"closeSelect"]],function(l,e,n){var t=!0;return"closeSelect"===e&&(t=!1!==l.component.closeModal()&&t),t},el.c,el.b)),t["\u0275did"](6,49152,null,0,nl.a,[u.a,tl.a],null,{closeSelect:"closeSelect"}),(l()(),t["\u0275eld"](7,0,null,0,1,"h1",[["style","margin: 0 16px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["New KPI"])),(l()(),t["\u0275eld"](9,0,null,null,3,"div",[["class","modal-body rectangle bx--modal-content"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,pl)),t["\u0275did"](11,540672,null,0,p.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275and"](0,[["result",2]],null,0,null,re)),(l()(),t["\u0275and"](0,[["loading",2]],null,0,null,se))],function(l,e){l(e,3,0),l(e,11,0,t["\u0275nov"](e,12))},null)}function ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-edit-kpi-details",[],null,null,null,de,cl)),t["\u0275did"](1,376832,null,0,il.a,[al.a,al.l,H.a,ul.a,ol.a,r.f,B.j,rl.l,ll.a,sl.a,rl.a,dl.a,G.a,t.ChangeDetectorRef],null,null)],function(l,e){l(e,1,0)},null)}var pe=t["\u0275ccf"]("app-edit-kpi-details",il.a,ce,{},{},[])},FXG2:function(l,e,n){"use strict";n.d(e,"a",function(){return t});class t{}},GDFe:function(l,e,n){"use strict";n.d(e,"a",function(){return h});var t=n("mrSG"),i=(n("ciZX"),n("oRpC")),a=(n("PsxR"),n("qDrF"),n("XNiG")),u=n("Kj3r"),o=n("wd/R"),r=(n("+Kk7"),n("bl9C")),s=n("ajXB"),d=n("1bih"),c=(n("XX5M"),n("qHnB"),n("Z3BZ"),n("MqE1"),n("LvDl")),p=n.n(c),m=(n("Dnte"),n("wOnQ")),g=n.n(m);class h{constructor(l,e,n,t,i,u,o,r,d,c,p,m){this.modalService=l,this.activatedRoute=e,this.goalservice=n,this.kpiService=t,this.analysisService=i,this._calendarService=u,this.settingsService=o,this.metrciService=r,this.formService=d,this._toastrService=c,this.peopleService=p,this.router=m,this.unitOfMeasurementMap=new Map,this.captureFrequencyMap=new Map,this.weightageMap=new Map,this.reviewMap=new Map,this.isExpanded=!0,this.isActionListExpanded=!1,this.captureFreqItems=null,this.previousYearsExtendedKPIList=null,this.additionalHeight=0,this.isRolling=!1,this.barChartPerfIndicatorTranslator=new s.a,this.yAxisScaleItems=[{content:5,isSelected:!1},{content:10,isSelected:!1},{content:15,isSelected:!1},{content:20,isSelected:!1}],this.searchModelChanged=new a.a,this.isMP="",this.ownerName="",this.monthlyItems=[{name:"1",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:"",content:"Apr"},{name:"2",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:"",content:"May"},{name:"3",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:"",content:"Jun"},{name:"4",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:"",content:"Jul"},{name:"5",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:"",content:"Aug"},{name:"6",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:"",content:"Sep"},{name:"7",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:"",content:"Oct"},{name:"8",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:"",content:"Nov"},{name:"9",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:"",content:"Dec"},{name:"10",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:"",content:"Jan"},{name:"11",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:"",content:"Feb"},{name:"12",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:"",content:"Mar"}],this.yearItems=[{name:1,content:"19-20",selected:!1,startDate:"",endDate:""}],this.QuaterlyItems=[{name:1,content:"(Apr-Jun)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""},{name:2,content:"(Jul-Sep)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""},{name:3,content:"(Oct-Dec)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""},{name:4,content:"(Jan-Mar)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""}],this.halfYearlyItems=[{name:1,content:"(Apr-Sep)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""},{name:2,content:"(Oct-Mar)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""}],this.groupedBarChartData={labels:[],datasets:[{label:"Target",data:[],fillColors:["#2D99FF","#2D99FF"]},{label:"Actual",data:[],fillColors:["#6BE89A","#6BE89A"]}]},this.groupedBarChartOptions={title:"Yearly Performance",axes:{left:{primary:!0,title:"Performance(%)"},bottom:{scaleType:"labels",secondary:!0,title:"Financial Year"}}},this.scrollableBarChartData={translator:this.barChartPerfIndicatorTranslator},this.groupedLineChartData={chartOptions:{isYaxisEnabled:!0}},this.lineChartData={labels:[],datasets:[]},this.isYaxisEnabled=!1,this.categoryMap=new Map,this.isTypeKPI=!0,this.searchedInternalMetrics=[],this.formMetricList=[],this.selectedSourceItemForReq={type:"",id:""},this.selectedPrevYearKPI=[],this.customYTDList=[],this.lineChartColor={},this.barChartColor={},this.otherColours=[],this.selectedTab="CURRENT",this.isArchived=!1,this.showTargetLine=!0,this.showDataPointLabel=!1,this.showDataPointLabelOnBar=!1,this.positionList=[],this.selectedTabForCapDo="ME",this.compareDropdownItems=[{content:"Compare",value:"unset"},{content:"Form & Field",value:"form"},{content:"Metric",value:"metrics"}],this.compareWith="Extended KPI",this.subs=[{content:"Select"}],this.cumulativeGraph=!1,this.activatedRoute.params.subscribe(l=>{this.currentid=l.id,this.selectedKPIId=l.id}),this.updateAnalysisSubscription=this.analysisService.getUpdateEvent().subscribe(()=>{this.getAnalysis(this.isArchived)})}ngOnInit(){return Object(t.__awaiter)(this,void 0,void 0,function*(){yield this.getKPIDetails(this.selectedKPIId),this.searchModelChangeSubscription=this.searchModelChanged.pipe(Object(u.a)(600)).subscribe(l=>{this.analysisData=[],this.isKPIAnalysisLoading=!0,this.analysisSearchTerm=l,this.analysisService.getAnalysisBySearch(this.selectedKPIId,this.analysisSearchTerm,this.isArchived).subscribe(l=>{l&&l.success&&(this.isKPIAnalysisLoading=!1,this.analysisData=l.response,this.analysisData.forEach(l=>{l.addedTimestamp=o(1e3*l.addedTimestamp).format("DD MMM, YYYY"),l.isActionListData=l.actions.length,l.isActionListExpanded=!1,l.actions.forEach(l=>{l.actualCompletionDate&&(l.actualCompletionDate=o(l.actualCompletionDate).format("DD MMM, YYYY")),l.actionDate=o(l.actionDate).format("DD MMM, YYYY")}),l.dataSample&&this.getLatestDataSample(l._id,this.selectedKPIId,l.dataSample.dataSampleStartDate,l.dataSample.dataSampleEndDate)}))},l=>{this.analysisData=[],this.isKPIAnalysisLoading=!1})})})}getKPIDetails(l){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.logInEmployeeId=localStorage.getItem("E_Id");try{this.isKPIDetailsLoading=!0,this.isKPIAnalysisLoading=!0;const n=yield this.getUnitofMeasurement();n&&n.success&&n.response.forEach(l=>{this.unitOfMeasurementMap.set(l._id,l.value)});const t=yield this.goalservice.getGoalDetails(l).toPromise();if(t&&t.success){this.kpiData=t.response,this.currentid===l&&(this.parentId=this.kpiData.parentId),this.financialYearStartDate=[new Date(t.response.financialYearStart)],this.financialYearEndDate=[new Date(t.response.financialYearEnd)],this.isTypeKPI=this.kpiData.isTypeKPI,this.kpiDetailPageURL=(this.isTypeKPI?"/org-kpi/edit/":"/org-goal/edit/")+this.selectedKPIId,this.getOwnerName(this.kpiData.owners),this.getEmployeInfo(this.ownerId);const e=yield this.getcaptureFrequency();e&&e.success&&e.response.forEach(l=>{this.captureFrequencyMap.set(l._id,l.value),l._id===this.kpiData.dataCaptureFrequency&&(this.captureType=l.value.toUpperCase(),this.oCaptureType=l.value,this.captureFreqItems=e.response.map(l=>(l.content=l.value,l.selected=!1,l)),this.setDefaultDates(l.value),this.setSelectedOptionForGraph(!0))}),this.isKPIDetailsLoading=!1,this.getreviewFrequency(),this.getCategory()}}catch(e){this.isKPIDetailsLoading=!1}this.getAnalysis(this.isArchived),this.getPreviousYearsExtendedKPIs()})}ngOnDestroy(){this.updateAnalysisSubscription&&this.updateAnalysisSubscription.unsubscribe(),this.searchModelChangeSubscription&&this.searchModelChangeSubscription.unsubscribe()}getOffsetDate(l){var e=new Date;switch(l){case"Hourly":return e.setHours(e.getHours()+1);case"Daily":return e.setDate(e.getDate()+1);case"Weekly":return e.setDate(e.getDate()+7);case"Quarterly":case"Half Yearly":case"Yearly":case"Monthly":return e.setMonth(e.getMonth()+1),new Date(e.getFullYear(),e.getMonth()+1,0);default:return e.setDate(e.getDate()+1)}}setDefaultDates(l){var e=this.getOffsetDate(l);let n=new Date(e);this.selectedEndDate=new Date(this.financialYearEndDate[0]).getTime()<(new Date).getTime()?new Date(this.financialYearEndDate):new Date(n),this.lineChartEnd=this.selectedEndDate,this.selectedStartDate=new Date(this.financialYearStartDate),this.lineChartStart=this.selectedStartDate,this.selectedBarGraphStartDate=new Date(this.financialYearStartDate),this.selectedBarGraphEndDate=new Date(this.financialYearEndDate)}setDefaultLineChartDates(){this.selectedStartDate=new Date(this.financialYearStartDate),this.selectedEndDate=new Date(this.financialYearEndDate)}dateToEpochUTC(l,e=!1){if("number"==typeof l)return l;var n=l.getFullYear(),t=l.getMonth(),i=l.getDate();return e?Number(new Date(n,t,i,23,59,59)):Number(new Date(n,t,i))}selectedStartDateValueChange(l){this.selectedStartDate=l,this.groupedLineChartData.chartOptions.start=this.dateToEpochUTC(this.selectedStartDate),this.groupedLineChartData.chartOptions.showTargetLine=this.showTargetLine,this.groupedLineChartData.chartOptions.showDataPointLabel=this.showDataPointLabel,this.groupedLineChartData.chartOptions.showUpperLowerLimit=this.showHideUpperLowerLimit,this.groupedLineChartData.chartOptions.cumulativeGraph=this.cumulativeGraph,this.groupedLineChartData=Object.assign({},this.groupedLineChartData),this.lineChartStart=this.dateToEpochUTC(this.selectedStartDate),this.setLineChartByDate(this.dateToEpochUTC(this.selectedStartDate),this.dateToEpochUTC(this.selectedEndDate,!0))}selectedEndDateValueChange(l){this.selectedEndDate=l,this.groupedLineChartData.chartOptions.end=this.dateToEpochUTC(this.selectedEndDate,!0),this.groupedLineChartData.chartOptions.showTargetLine=this.showTargetLine,this.groupedLineChartData.chartOptions.showUpperLowerLimit=this.showHideUpperLowerLimit,this.groupedLineChartData.chartOptions.showDataPointLabel=this.showDataPointLabel,this.groupedLineChartData.chartOptions.cumulativeGraph=this.cumulativeGraph,this.groupedLineChartData=Object.assign({},this.groupedLineChartData),this.lineChartEnd=this.dateToEpochUTC(this.selectedEndDate,!0),this.setLineChartByDate(this.dateToEpochUTC(this.selectedStartDate),this.dateToEpochUTC(this.selectedEndDate,!0),!0)}getCaptureFreqs(){return this.goalservice.getCapturefrequency().toPromise()}getBarChartData(l){this.scrollableBarChartData.loading=!0,this.kpiService.getPerformanceIndicatorBarChart(this.selectedKPIId,l.item._id,"YTD").subscribe(e=>{let n=[];for(let l=0;l<e.response.length;l++){const t=e.response[l];n.push({latestActual:"-"===t.ytdActual?null:t.ytdActual,fyStart:t.fyStart,fyEnd:t.fyEnd,latestTarget:t.ytdTarget,xLabel:""})}e.response=n,this.setBarChartData(e,l.item.value)},l=>{this.scrollableBarChartData.loading=!1})}setBarChartData(l,e){return Object(t.__awaiter)(this,void 0,void 0,function*(){let n;yield this.getChartColours("Bar"),"Yearly"!==e&&(n={start:this.dateToEpochUTC(this.selectedBarGraphStartDate),end:this.dateToEpochUTC(this.selectedBarGraphEndDate,!0),showDataPointLabelOnBar:this.showDataPointLabelOnBar}),this.scrollableBarChartData={chartOptions:n,translator:this.scrollableBarChartData.translator,kpiRes:[Object.assign({kpi:this.kpiData},l)],unitOfMeasurementMap:this.unitOfMeasurementMap,captureFrequencyMap:this.captureFrequencyMap,dcfType:e,overrideColors:this.barChartColor,colorScale:this.otherColours},this.scrollableBarChartData.loading=!1})}getOwnerName(l){this.isMP="",l.individuals.forEach(l=>{l.isPrimary&&(this.ownerName=l.firstname+" "+l.lastname,this.ownerId=l.employeeId,l.employeeId===localStorage.getItem(r.a.empId)&&(this.isMP="mp"))})}setLineChartData(l,e,n,t,i){this.lineChartData.datasets=[],this.lineChartData.datasets.push({label:"Upper Limit",data:n,fillColors:i.upper}),this.lineChartData.datasets.push({label:"Lower Limit",data:e,fillColors:i.lower}),this.lineChartData.datasets.push({label:"Target",data:l,fillColors:i.target}),this.lineChartData.datasets.push({label:"Actual",data:t,fillColors:i.actual})}getCurrentLabel(l,e){let n="19-20";return"HOURLY"===e||(n="DAILY"===e?l:"WEEKLY"===e?"Week "+l:"MONTHLY"===e?this.monthlyItems.filter(e=>e.name==l)[0].content:"QUARTERLY"===e?this.QuaterlyItems.filter(e=>e.name==l)[0].content:"HALF YEARLY"===e?this.halfYearlyItems.filter(e=>e.name==l)[0].content:this.yearItems.filter(e=>e.name==l)[0].content),n}getAnalysis(l){this.UoM=this.unitOfMeasurementMap.get(this.kpiData.unitOfMeasurement),this.analysisService.getAnalysis(this.selectedKPIId,"",l,this.analysisSearchTerm).subscribe(l=>{l&&l.success&&(this.isKPIAnalysisLoading=!1,this.analysisData=l.response,this.analysisData.forEach(l=>{l.addedTimestamp=o(1e3*l.addedTimestamp).format("DD MMM, YYYY"),l.isActionListData=l.actions.length,l.isActionListExpanded=!1,l.actions.forEach(l=>{l.actualCompletionDate&&(l.actualCompletionDate=o(l.actualCompletionDate).format("DD MMM, YYYY")),l.actionDate=o(l.actionDate).format("DD MMM, YYYY"),"Rework"==l.progress&&(l.isExpanded=!1)}),l.dataSample&&this.getLatestDataSample(l._id,this.selectedKPIId,l.dataSample.dataSampleStartDate,l.dataSample.dataSampleEndDate)}))})}onAddAnalysis(l){this.modalService.create({component:i.a,inputs:{currentid:this.selectedKPIId,analysisId:"",actionId:"",mode:"add",title:this.kpiData.title,goalTag:this.kpiData.goalTag,UoM:this.unitOfMeasurementMap.get(this.kpiData.unitOfMeasurement),target:this.kpiData.latestTarget?this.kpiData.latestTarget:"-",actual:this.kpiData.latestActual?this.kpiData.latestActual:"-",upperLimit:this.kpiData.upperLimit?this.kpiData.upperLimit:"-",lowerLimit:this.kpiData.lowerLimit?this.kpiData.lowerLimit:"-",showDataSample:!1,dataSampleDate:!1}}).onDestroy(()=>{this.refreshList(this.isArchived)})}onAddAction(l){this.modalService.create({component:i.a,inputs:{currentid:this.selectedKPIId,analysisId:l._id,actionId:l.actions&&l.actions.length>0&&l.actions[0]._id?l.actions[0]._id:"",mode:"edit"}}).onDestroy(()=>{this.refreshList(this.isArchived)})}onEditAnalysis(l){let e=!1,n=0,t=0;l.dataSample&&(e=!0,n=l.dataSample.dataSampleStartDate,t=l.dataSample.dataSampleEndDate);let a={currentid:this.selectedKPIId,analysisId:l._id,actionId:"",mode:"edit",title:this.kpiData.title,goalTag:this.kpiData.goalTag,UoM:this.unitOfMeasurementMap.get(this.kpiData.unitOfMeasurement),target:l&&l.dataSample&&l.dataSample.target?l.dataSample.target:"-",actual:l&&l.dataSample&&l.dataSample.actual?l.dataSample.actual:"-",upperLimit:l&&l.dataSample&&l.dataSample.upper?l.dataSample.upper:"-",lowerLimit:l&&l.dataSample&&l.dataSample.lower?l.dataSample.lower:"-",isSOPFollowed:l.isSOPFollowed,actionItemType:"",showDataSample:e,dataSampleDate:!1,startDate:n,endDate:t};l.actions.length&&(a.actionItemType=l.actions[0].type,a.actionId=l.actions[0]._id),this.modalService.create({component:i.a,inputs:a}).onDestroy(()=>{this.refreshList(this.isArchived)})}refreshList(l){setTimeout(()=>{this.getAnalysis(l)},500)}getcaptureFrequency(){return this.goalservice.getCapturefrequency().toPromise()}getreviewFrequency(){this.goalservice.getReviewfrequency().subscribe(l=>{l&&l.success&&l.response.forEach(l=>{this.reviewMap.set(l._id,l.value)})})}getUnitofMeasurement(){return this.goalservice.getunitofMsrmnt().toPromise()}getDate(l){return o(l,"DD/MM/YYYY").format("ll")}getAbs(l,e){return e&&"-"!==e?Math.abs(l-e).toFixed(2):"-"}selectedGraphOption(l,e){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.captureType=l.item.content.toUpperCase(),this.lineChartData.labels=[],this.lineChartData.datasets=[];let n=l.item._id;0==e&&(this.lineChartDcf=l.item._id),yield this.getChartColours("Line"),this.kpiService.getLineChartActualsDataPerDCFAndDates(this.selectedKPIId,l.item._id,this.dateToEpochUTC(this.selectedStartDate),this.dateToEpochUTC(this.selectedEndDate,!0)).subscribe(t=>{if(0==e)this.captureOrder=l.item.order,this.showDataPointLabel=this.captureOrder>=5,this.groupedLineChartData.loading=!0,this.originalKPIRes=Object.assign({kpi:this.kpiData},t),this.groupedLineChartData={kpiRes:[Object.assign({kpi:this.kpiData},t)],leftTicks:this.selctedValueForYAxisGraph,unitOfMeasurementMap:this.unitOfMeasurementMap,captureFrequencyMap:this.captureFrequencyMap,overrideCaptureFrequency:n,overrideColors:this.lineChartColor,colorScale:this.otherColours,chartOptions:{start:this.dateToEpochUTC(this.selectedStartDate),end:this.dateToEpochUTC(this.selectedEndDate,!0),isYaxisEnabled:this.isYaxisEnabled,showTargetLine:this.showTargetLine,showDataPointLabel:this.showDataPointLabel,cumulativeGraph:this.cumulativeGraph,showUpperLowerLimit:this.showHideUpperLowerLimit,maxXEndScaleVal:this.dateToEpochUTC(this.selectedEndDate,!0),compareKPIs:!1}},this.selectedPrevYearKPI&&this.selectedPrevYearKPI.length&&this.selectExtendedKPIForComparison(this.selectedPrevYearKPI),this.groupedLineChartData.loading=!1;else{this.scrollableBarChartData.loading=!0;let e=[];for(let l=0;l<t.response.length;l++){const n=t.response[l];e.push({latestActual:n.actual,fyStart:n.startDate,fyEnd:n.endDate,latestTarget:n.target,xLabel:""})}t.response=e,this.setBarChartData(t,l.item.value)}},l=>{this.groupedLineChartData.loading=!1,console.error(l)})})}setSelectedOptionForGraph(l){let e=this.captureFreqItems,n=-1;for(let t=0;t<e.length;t++)if(e[t].content.toUpperCase()===this.captureType){this.selctedValueForGraph=e[t].content,this.selectedDCF=e[t]._id,this.captureOrder=e[t].order,this.showDataPointLabel=this.captureOrder>=5,this.setLineChartByDate(this.dateToEpochUTC(this.selectedStartDate),this.dateToEpochUTC(this.selectedEndDate,!0)),n=e[t].order;break}if("Hourly"===this.selctedValueForGraph||"Shift Wise"===this.selctedValueForGraph||"Daily"===this.selctedValueForGraph||"Weekly"===this.selctedValueForGraph)this.selectedBarGraphOption({item:e[4]});else{let l=e.find(l=>l.content===this.selctedValueForGraph);this.selectedBarGraphOption({item:l})}e=e.filter(l=>l.order>=n),this.captureFreqItems=e}selectedGraphYAxisOption(l){this.selctedValueForYAxisGraph=l.item.content,this.groupedLineChartData.leftTicks=this.selctedValueForYAxisGraph}selectedBarGraphOption(l){this.selctedValueForBarGraph=l.item.content,"Yearly"===l.item.content?this.getBarChartData(l):this.selectedGraphOption(l,1)}selectedBarGraphStartDateValueChange(l){this.selectedBarGraphStartDate=l,this.scrollableBarChartData.chartOptions.start=this.dateToEpochUTC(this.selectedBarGraphStartDate),this.scrollableBarChartData=Object.assign({},this.scrollableBarChartData),this.scrollableBarChartData.chartOptions.showDataPointLabelOnBar=this.showDataPointLabelOnBar}selectedBarGraphEndDateValueChange(l){this.selectedBarGraphEndDate=l,this.scrollableBarChartData.chartOptions.end=this.dateToEpochUTC(this.selectedBarGraphEndDate,!0),this.scrollableBarChartData=Object.assign({},this.scrollableBarChartData),this.scrollableBarChartData.chartOptions.showDataPointLabelOnBar=this.showDataPointLabelOnBar}onAddMoreAction(l,e,n){let t=!1,i=0,a=0;e.dataSample&&(t=!0,i=e.dataSample.dataSampleStartDate,a=e.dataSample.dataSampleEndDate);let u={currentid:this.selectedKPIId,analysisId:e._id,actionId:"",mode:"add",title:this.kpiData.title,goalTag:this.kpiData.goalTag,UoM:this.unitOfMeasurementMap.get(this.kpiData.unitOfMeasurement),target:e&&e.dataSample&&e.dataSample.target?e.dataSample.target:"-",actual:e&&e.dataSample&&e.dataSample.actual?e.dataSample.actual:"-",upperLimit:e&&e.dataSample&&e.dataSample.upper?e.dataSample.upper:"-",lowerLimit:e&&e.dataSample&&e.dataSample.lower?e.dataSample.lower:"-",isSOPFollowed:e.isSOPFollowed,actionItemType:"",showDataSample:t,dataSampleDate:!1,startDate:i,endDate:a,fromCustomReport:!1};u.parentActionId=-1==n?e.parentActionId:0,e.actions.length&&(u.actionItemType=e.actions[0].type,u.actionId=e.actions[0]._id),this.modalService.create({component:d.a,inputs:u}).onDestroy(()=>{this.refreshList(this.isArchived)})}onDualAxesChange(l){this.groupedLineChartData.chartOptions.isYaxisEnabled=l.checked,this.isYaxisEnabled=l.checked,this.denominatorValue=null,this.uomName=null,this.denominatorValueArray=null,this.selectedCustomYTD="",l.checked||(this.internalQuery="",this.selectedFormMetric="",this.isCustomYTD=l.checked,this.denominatorValue=null,this.uomName=null,this.denominatorValueArray=null,this.selectedCustomYTD="",this.internalQuery="",this.selectedFormMetric=""),this.onDenominatorChange()}onChangeFormOrCustomYTD(l){if(this.isCustomYTD=l.checked,this.denominatorValue=null,this.uomName=null,this.denominatorValueArray=null,this.selectedCustomYTD="",this.internalQuery="",this.selectedFormMetric="",!0===this.isCustomYTD){this.setDefaultLineChartDates(),this.selctedValueForGraph=this.oCaptureType;let l,e=p.a.cloneDeep(this.captureFreqItems);this.captureFreqItems=[],e.forEach(e=>{e.content===this.oCaptureType?(l=e,e.selected=!0):e.selected=!1}),this.captureFreqItems=e,this.selectedGraphOption({item:l},0)}this.onDenominatorChange()}onDenominatorChange(){this.groupedLineChartData.chartOptions.denominator=this.denominatorValue,this.groupedLineChartData.chartOptions.denominatorUOM=this.uomName,this.groupedLineChartData.chartOptions.denominatorArray=this.denominatorValueArray,this.groupedLineChartData.denominator=this.denominatorValue,this.groupedLineChartData=Object.assign({},this.groupedLineChartData)}getFinancialYears(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this._calendarService.getfinancialYearList().toPromise()})}addReworkNewAction(l,e,n){e.parentActionId=n._id,this.onAddMoreAction(l,e,-1)}getReworkActions(l,e){return Object(t.__awaiter)(this,void 0,void 0,function*(){for(let l=0;l<e.actions.length;l++)yield this.callReworkActions(e.actions[l])})}callReworkActions(l){return new Promise((e,n)=>{l.isExpanded=!l.isExpanded,this.kpiService.getReworkActions(l._id).subscribe(n=>{n.response.forEach(l=>{l.actualCompletionDate&&(l.actualCompletionDate=o(l.actualCompletionDate).format("DD MMM, YYYY")),l.actionDate=o(l.actionDate).format("DD MMM, YYYY")}),l.rework=n.response,e()})})}getCategory(){this.settingsService.getCategories().subscribe(l=>{l&&l.success&&l.response.forEach(l=>{this.categoryMap.set(l._id,l.category)})})}getPreviousYearsExtendedKPIs(l){this.goalservice.getPreviousYearsExtendedKPIs(this.kpiData._id,this.kpiData.extensionId,this.kpiData.financialYearStart).subscribe(l=>{l&&l.success&&l.response&&(this.previousYearsExtendedKPIList=[],this.previousYearsExtendedKPIList=l.response.map(l=>{l.content=l.title;let e=new Date(this.financialYearStartDate).getTime(),n=o(e).diff(o(l.financialYearStart),"years");return l.yearsFromCurrentFY=n,l}),this.previousYearsExtendedKPIList&&this.previousYearsExtendedKPIList.length&&!this.compareDropdownItems.find(l=>"extended"===l.value))&&(this.compareDropdownItems=[...this.compareDropdownItems,{content:"Extended KPI",value:"extended"}])})}selectExtendedKPIForComparison(l){return Object(t.__awaiter)(this,void 0,void 0,function*(){if(this.selectedPrevYearKPI=l,this.internalQuery="",this.selectedFormMetric="",l&&l.length){this.multiKPI=!0,this.isCustomYTD=!1,this.groupedLineChartData.loading=!0,this.groupedLineChartData.chartOptions.compareKPIs=!0;let e=[];for(let t=0;t<l.length;t++){let n,i,a=l[t];a.financialYearEnd<=this.dateToEpochUTC(this.selectedStartDate)?n=o(this.selectedStartDate).subtract(a.yearsFromCurrentFY,"years").valueOf():this.previousYearsExtendedKPIList[0].financialYearStart>=this.dateToEpochUTC(this.selectedEndDate,!0)&&(i=o(this.selectedEndDate).subtract(a.yearsFromCurrentFY,"years").valueOf()),e.push(this.getLineChartActualsDataPerDCFAPI(a.id,this.lineChartDcf?this.lineChartDcf:this.selectedDCF,n,i))}let n=yield Promise.all(e);this.groupedLineChartData.kpiRes=[this.originalKPIRes];for(let t=0;t<l.length;t++){let e=l[t];n[t].response.forEach(l=>{this.isRolling||(l.endDate=this.dateToEpochUTC(o(l.endDate).add(e.yearsFromCurrentFY,"years").valueOf()),l.startDate=this.dateToEpochUTC(o(l.startDate).add(e.yearsFromCurrentFY,"years").valueOf()),l.yearsFromCurrentFY=e.yearsFromCurrentFY)}),this.groupedLineChartData.kpiRes.push(Object.assign({kpi:e},n[t]))}this.groupedLineChartData=Object.assign({},this.groupedLineChartData),this.groupedLineChartData.loading=!1}else this.groupedLineChartData.chartOptions.compareKPIs=!1,this.selectedPrevYearKPI=[],this.multiKPI=!1,this.groupedLineChartData.kpiRes=[this.originalKPIRes],this.groupedLineChartData=Object.assign({},this.groupedLineChartData)})}getLineChartActualsDataPerDCFAPI(l,e,n,t){return n=n||this.dateToEpochUTC(this.selectedStartDate),t=t||this.dateToEpochUTC(this.selectedEndDate,!0),this.kpiService.getLineChartActualsDataPerDCFAndDates(l,e,n,t).toPromise()}onEditActions(l,e,n){let t=!1,i=0,a=0;l.dataSample&&(t=!0,i=l.dataSample.dataSampleStartDate,a=l.dataSample.dataSampleEndDate);let u={currentid:this.selectedKPIId,analysisId:l._id,actionId:e._id,mode:"edit",title:this.kpiData.title,goalTag:this.kpiData.goalTag,UoM:this.unitOfMeasurementMap.get(this.kpiData.unitOfMeasurement),target:l&&l.dataSample&&l.dataSample.target?l.dataSample.target:"-",actual:l&&l.dataSample&&l.dataSample.actual?l.dataSample.actual:"-",upperLimit:l&&l.dataSample&&l.dataSample.upper?l.dataSample.upper:"-",lowerLimit:l&&l.dataSample&&l.dataSample.lower?l.dataSample.lower:"-",isSOPFollowed:l.isSOPFollowed,actionItemType:"",showDataSample:t,dataSampleDate:!1,startDate:i,endDate:a,fromCustomReport:!1};u.parentActionId=e.parentActionId?e.parentActionId:0,this.modalService.create({component:d.a,inputs:u}).onDestroy(()=>{this.refreshList(this.isArchived)})}onSearchCustomYTD(l){this.selectedCustomYTD=l,this.metrciService.getMetricsListForKPI(this.selectedCustomYTD,"YTD_CUSTOM","10","0","true","true").subscribe(l=>{l&&l.success&&(this.customYTDList=(l.response.metrics||[]).map(l=>({id:l._id,content:l.name})))},l=>{this.customYTDList=[]})}onSelectedCustomYTD(l){this.selectedCustomYTD=l.content,this.goalservice.getCustomYTDMetricDenominator(l.id,this.selectedKPIId).subscribe(l=>{l&&l.success&&("number"==typeof l.response?(this.denominatorValue=l.response,this.uomName=this.unitOfMeasurementMap.get(this.kpiData.unitOfMeasurement),this.denominatorValueArray=null,this.onDenominatorChange()):"object"==typeof l.response&&l.response.length&&(this.denominatorValue=null,this.denominatorValueArray=l.response,this.uomName=this.unitOfMeasurementMap.get(this.kpiData.unitOfMeasurement),this.onDenominatorChange()))},l=>{l&&l.error&&l.error.message&&this._toastrService.error(l.error.message)})}onSearchInternal(l){this.internalQuery=l,this.selectedSourceItemForReq={type:"FORM_FIELD",id:"",formId:""},this.metrciService.getAllForms(this.internalQuery).subscribe(l=>{l&&l.success&&(this.searchedInternalMetrics=(l.response.forms||[]).map(l=>({id:l._id,content:l.formName,formElements:l.formElements,formId:l.formId})))},l=>{this.searchedInternalMetrics=[]})}onSelectedInternal(l){this.internalQuery=l.content,this.selectedFormMetric="",this.selectedSourceItemForReq={type:"FORM_FIELD",id:"",formId:l.id},this.formMetricList=[],l.formElements.forEach(e=>{"number"===e.field&&e.unitOfMeasurement===this.kpiData.unitOfMeasurement&&(e.content=e.label,e.formId=l.formId,this.formMetricList.push(e))})}onSelectedFormField(l){this.selectedFormMetric=l.content,this.getForms(l.formId,l.uuid)}getForms(l,e){this.formService.getLatestFormData(l,e).subscribe(l=>{l.success&&l.response&&(this.denominatorValue=l.response.value,this.uomName=l.response.uomName,this.onDenominatorChange())},l=>{this.denominatorValue=null,this.uomName=null,this.onDenominatorChange()})}onChange(l,e){let n=e.checked?"YTD":"MTD";l.ytdChecked=e.checked,this.kpiService.getYTDMTDData(l._id,n).subscribe(e=>{this.kpiData.ytdActual=e.response.ytdActual,this.kpiData.ytdTarget=e.response.ytdTarget,this.kpiData.lastActual=e.response.lastActual,this.kpiData.lastTarget=e.response.lastTarget,this.kpiData.lastTimePeriod.start=e.response.lastTimePeriod.start,this.kpiData.lastTimePeriod.end=e.response.lastTimePeriod.end,this.kpiData.latestActual=e.response.latestActual,this.kpiData.latestTarget=e.response.latestTarget,this.kpiData.latestTimePeriod.start=e.response.latestTimePeriod.start,this.kpiData.latestTimePeriod.end=e.response.latestTimePeriod.end,"LATEST"===l.ytdCalculation&&(l.actualsUnavailableMessage=l.ytdChecked&&"-"===l.ytdActual||!l.ytdChecked&&"-"===l.mtdActual?"Cannot be computed as actuals not available":"")})}getChartColours(l){return new Promise(e=>{l=l.toUpperCase(),this.settingsService.getColorMapping(l).subscribe(n=>{let t={};if(n.response&&n.success){this.otherColours=[];const e=n.response.colour;for(let l=0;l<e.length;l++)"ACTUAL"==e[l].type?t.Actual=e[l].colour:"TARGET"==e[l].type?t.Target=e[l].colour:"LOWER"==e[l].type?t["Lower Limit"]=e[l].colour:"UPPER"==e[l].type?t["Upper Limit"]=e[l].colour:"OTHER"==e[l].type&&this.otherColours.push(e[l].colour);"LINE"==l?this.lineChartColor=t:"BAR"==l&&(this.barChartColor=t)}e(null)},l=>{e(null)})})}exportActions(){this.analysisService.exportAnalysis(this.selectedKPIId,this.isArchived).subscribe(l=>{l&&l.success&&this.download(l.response.url,this.kpiData.title)})}download(l,e){var n=document.createElement("a");n.href=l,n.target="_blank",n.setAttribute("download",e),n.click()}getBarChartDataForYearly(l){this.selctedValueForBarGraph=l.item.content,this.scrollableBarChartData.loading=!0,this.kpiService.getPerformanceIndicatorBarChartForYearly(this.selectedKPIId,l.item._id).subscribe(e=>{let n=[];for(let l=0;l<e.response.length;l++){const t=e.response[l];n.push({latestActual:t.actual,fyStart:t.startDate,fyEnd:t.endDate,latestTarget:t.target,xLabel:""})}e.response=n,this.setBarChartData(e,l.item.value)},l=>{this.scrollableBarChartData.loading=!1})}setLineChartByDate(l,e,n){return Object(t.__awaiter)(this,void 0,void 0,function*(){yield this.getChartColours("Line"),this.kpiService.getLineChartActualsDataPerDCFAndDates(this.selectedKPIId,this.lineChartDcf?this.lineChartDcf:this.selectedDCF,l,e).subscribe(l=>{this.groupedLineChartData.loading=!0,this.originalKPIRes=Object.assign({kpi:this.kpiData},l),this.groupedLineChartData={kpiRes:[Object.assign({kpi:this.kpiData},l)],leftTicks:this.selctedValueForYAxisGraph,unitOfMeasurementMap:this.unitOfMeasurementMap,captureFrequencyMap:this.captureFrequencyMap,overrideCaptureFrequency:this.lineChartDcf?this.lineChartDcf:this.selectedDCF,overrideColors:this.lineChartColor,colorScale:this.otherColours,chartOptions:{start:this.dateToEpochUTC(this.selectedStartDate),end:this.dateToEpochUTC(this.selectedEndDate,!0),isYaxisEnabled:this.isYaxisEnabled,showTargetLine:this.showTargetLine,showDataPointLabel:this.showDataPointLabel,showUpperLowerLimit:this.showHideUpperLowerLimit,maxXEndScaleVal:n?null:this.selectedEndDate,compareKPIs:!1,cumulativeGraph:this.cumulativeGraph}},this.selectedPrevYearKPI&&this.selectedPrevYearKPI.length&&this.selectExtendedKPIForComparison(this.selectedPrevYearKPI),this.groupedLineChartData.loading=!1},l=>{this.groupedLineChartData.loading=!1,console.error(l)})})}onTabSelected(l){this.selectedTab=l,this.analysisData=[],this.isArchived="CURRENT"!==l,this.refreshList(this.isArchived)}showHideUpperLower(l){this.showHideUpperLowerLimit=!this.showHideUpperLowerLimit,this.groupedLineChartData.chartOptions.showUpperLowerLimit=this.showHideUpperLowerLimit,this.groupedLineChartData=Object.assign({},this.groupedLineChartData)}showHideTargetLine(l){this.showTargetLine=!this.showTargetLine,this.groupedLineChartData.chartOptions.showTargetLine=this.showTargetLine,this.groupedLineChartData=Object.assign({},this.groupedLineChartData)}showHideDataPointLabel(l){this.showDataPointLabel=!this.showDataPointLabel,this.groupedLineChartData.chartOptions.showDataPointLabel=this.showDataPointLabel,this.groupedLineChartData=Object.assign({},this.groupedLineChartData)}showHideDataPointLabelBar(l){this.showDataPointLabelOnBar=!this.showDataPointLabelOnBar,this.scrollableBarChartData.chartOptions.showDataPointLabelOnBar=this.showDataPointLabelOnBar,this.scrollableBarChartData=Object.assign({},this.scrollableBarChartData)}getEmployeInfo(l){this.positionList=[],this.peopleService.getEmployeeInformation({employeeId:l}).subscribe(l=>{l&&l.success&&(this.positionList=l.response.positions)})}onClickTab(l,e){return Object(t.__awaiter)(this,void 0,void 0,function*(){if(this.selectedTabForCapDo=e,"ME"===e||"PARENT"===e)this.selectedKPIId=l,this.getKPIDetails(this.selectedKPIId);else{let l=[];try{let e=yield this.getDerivedKPIs(this.currentid);e&&e.success&&(l=e.response.map((l,e)=>0===e?{content:l.title,id:l._id,selected:!0}:{content:l.title,id:l._id,selected:!1}))}catch(n){l=[]}setTimeout(()=>{this.subs=p.a.cloneDeep(l),this.subs&&this.subs.length&&(this.selectedKPIId=this.subs[0].id,this.getKPIDetails(this.selectedKPIId))},100)}})}getDerivedKPIs(l){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.goalservice.getDerivedKpi(l).toPromise()})}onSelectKPI(l){this.selectedKPIId=l.item.id,this.getKPIDetails(this.selectedKPIId)}getLatestDataSample(l,e,n,t){this.goalservice.getKPILatestDataSampleForGivenDCF(e,n.toString(),t.toString()).subscribe(e=>{if(!(e&&e.success&&e.response.latestDataSampleDate))return"NA";{let n=e.response.latestDataSampleDate;this.analysisData.map(e=>{e._id===l&&(e.lastDataSampleDate=n)})}})}exportActualsData(){let l=[];l.push(this.selectedKPIId),this.goalservice.exportKPIActualsData(l).subscribe(l=>{l&&l.success&&this.download(l.response,this.kpiData.title)})}ngAfterViewChecked(){}downloadAsImage(l,e){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.loadingReport=!0,this.logo=yield this.settingsService.getApplicationLogo();let n,t=yield this.blobToDataURLForImage(this.logo),i=(yield this.settingsService.getApplicationSettings().toPromise()).response[0].emailCompanyLogoImg;i&&""!=i&&(n=yield this.get64BaseUrl(i)),$(".img").attr("src",t),i&&""!=i&&n&&$(".img-client").attr("src",n),this.typeOfReport="download";let a=$($("#"+l)[0]).find(".chart-container")[0],u=this.kpiData.title+"-"+l;var r=(yield g()(a)).toDataURL("image/png",1),s=document.createElement("canvas"),d=s.getContext("2d");d.canvas.height=800,d.canvas.width=1200,d.fillStyle="white",d.fillRect(0,0,1200,800);let c=new Image;c.src=r,c.onload=l=>{d.drawImage(c,s.width/2-c.width/2,20,c.width,c.height);let a=o().format("LL");d.textAlign="left",d.font="bold 24px IBM Plex Sans",d.fillStyle="black";let r=d.measureText(e.title);d.fillText(e.title,s.width/2-r.width/2,720),d.font="20px IBM Plex Sans",r=d.measureText(e.goalTag+" | "+this.ownerName+" | "+this.positionList[0].name),d.fillText(e.goalTag+" | "+this.ownerName+" | "+this.positionList[0].name,s.width/2-r.width/2,750),d.font="15px IBM Plex Sans",d.fillStyle="gray",r=d.measureText(a),d.fillText(a,s.width/2-r.width/2,775);let p=new Image;p.src=t,p.onload=()=>{if(d.drawImage(p,20,720,120,60),i&&""!=i&&n){let l=new Image;l.src=n,l.onload=()=>{d.drawImage(l,1020,720,156.4,60);var e=s.toDataURL("image/png",1);this.download(e,u+".png"),this.loadingReport=!1}}else{var l=s.toDataURL("image/png",1);this.download(l,u+".png"),this.loadingReport=!1}}}})}blobToDataURLForImage(l){return new Promise(e=>{var n=new FileReader;n.onload=function(l){e(l.target.result)},n.readAsDataURL(l)})}get64BaseUrl(l){return Object(t.__awaiter)(this,void 0,void 0,function*(){try{const n=yield fetch(l);if(200===n.status){const l=yield n.blob();return new Promise(e=>{const n=new FileReader;n.readAsDataURL(l),n.onloadend=()=>{e(n.result)}})}}catch(e){return}})}computeDateString(l){return l&&l.start&&l.end?"Shift Wise"===this.captureFrequencyMap.get(this.kpiData.dataCaptureFrequency)||"Hourly"===this.captureFrequencyMap.get(this.kpiData.dataCaptureFrequency)?`(${l.start} - ${l.end})`:"Daily"===this.captureFrequencyMap.get(this.kpiData.dataCaptureFrequency)?`(${l.start.slice(0,l.start.length-10)})`:`(${l.start.slice(0,l.start.length-10)} - ${l.end.slice(0,l.end.length-10)})`:"( - )"}selectedCompareOption(l){this.onDualAxesChange({checked:!1}),this.isCustomYTD=!1,this.isYaxisEnabled=!1,this.multiKPI=!1,"extended"!==l.item.value?(this.selectedPrevYearKPI=[],this.selectExtendedKPIForComparison([])):"form"===l.item.value?(this.isYaxisEnabled=!0,l.item.checked=!0,this.onDualAxesChange(l.item)):"extended"===l.item.value?(this.isYaxisEnabled=!1,this.multiKPI=!0):"metrics"===l.item.value&&(this.isYaxisEnabled=!0,this.isCustomYTD=!0)}onRollingTrendSelected(l){this.isRolling=l.checked,this.selectExtendedKPIForComparison(this.selectedPrevYearKPI)}showHideCumulative(l){this.cumulativeGraph=!this.cumulativeGraph,this.groupedLineChartData.chartOptions.cumulativeGraph=this.cumulativeGraph,this.groupedLineChartData=Object.assign({},this.groupedLineChartData)}}},H5zC:function(l,e,n){"use strict";n.d(e,"a",function(){return o});var t=n("ciZX"),i=n("XNiG"),a=(n("+Kk7"),n("XX5M"),n("wd/R")),u=(n("PsxR"),n("qHnB"),n("Kj3r"));class o extends t.a{constructor(l,e,n,t,a,u,o){super(),this.modalService=l,this.goalService=e,this.settingsService=n,this.injector=t,this.calenderService=a,this.kpiService=u,this._router=o,this.searchModelChanged=new i.a,this.searchQueryText="",this.isKPILoading=!1,this.dateSelected=!1,this.captureFrequencyMap=new Map,this.reviewMap=new Map,this.categoryMap=new Map,this.unitOfMeasurementMap=new Map,this.filterData=[],this.yearList=this.injector.get("yearList")}ngOnInit(){this.getFinancialYears(),this.searchModelChangeSubscription=this.searchModelChanged.pipe(Object(u.a)(600)).subscribe(l=>{this.searchQueryText=l,this.getInitialData()})}getFinancialYears(){this.calenderService.getfinancialYearList().subscribe(l=>{l&&l.success&&(this.financialYearList=l.response.map(({isCurrentFY:l,start:e,end:n})=>({content:"FY "+e.split("-")[0]+"-"+n.split("-")[0],isCurrentFY:l,start:e,end:n,selected:!1})),this.financialYearList=this.financialYearList.reverse())})}getInitialData(){let l=this.financialYearList.find(l=>!0===l.selected);this.fyStartDate=l.start,this.fyEndDate=l.end,this.getKPIListing(this.searchQueryText.trim(),"","","","","","","","","","","","",this.fyStartDate,this.fyEndDate)}selectFYDropDown(l){this.dateSelected=!0,this.filterData=[],this.financialYearList.forEach(e=>{e.selected=e.content===l.item.content});let e=this.financialYearList.find(l=>!0===l.selected);this.fyStartDate=e.start,this.fyEndDate=e.end,this.getKPIListing(this.searchQueryText.trim(),"","","","","","","","","","","","",this.fyStartDate,this.fyEndDate)}getKPIListing(l,e,n,t,i,u,o,r,s,d,c,p,m,g,h){this.filterData=[],this.isKPILoading=!0,this.kpiService.getKPIs(l,e,n,t,i,u,o,r,s,d,c,p,m,1e3*a(g,"YYYY-MM-DDTHH:mm:ss").unix(),1e3*a(h+"T23:59:59","YYYY-MM-DDTHH:mm:ss").unix(),null).subscribe(l=>{this.isKPILoading=!1,l&&l.success&&(this.KPIListObject=l.response,this.filterDataByType()),this.getcaptureFrequency(),this.getreviewFrequency(),this.getUnitofMeasurement(),this.getCategory()},l=>{this.isKPILoading=!1})}getcaptureFrequency(){this.goalService.getCapturefrequency().subscribe(l=>{l&&l.success&&l.response.forEach(l=>{this.captureFrequencyMap.set(l._id,l.value)})})}getreviewFrequency(){this.goalService.getReviewfrequency().subscribe(l=>{l&&l.success&&l.response.forEach(l=>{this.reviewMap.set(l._id,l.value)})})}getUnitofMeasurement(){this.goalService.getunitofMsrmnt().subscribe(l=>{l&&l.success&&l.response.forEach(l=>{this.unitOfMeasurementMap.set(l._id,l.value)})})}getCategory(){this.settingsService.getCategories().subscribe(l=>{l&&l.success&&l.response.forEach(l=>{this.categoryMap.set(l._id,l.category)})})}filterDataByType(){this.isKPILoading=!0,this.filterData=[],this.KPIListObject.mpKPIList.forEach(l=>{if(l.isTypeKPI){let e=l;e.isDisabled=!(e.financialYearStart>=1e3*a(this.fyStartDate,"YYYY-MM-DDTHH:mm:ss").unix()&&e.financialYearEnd>=1e3*a(this.fyEndDate,"YYYY-MM-DDTHH:mm:ss").unix()),!1===e.isDisabled&&e.isActive&&e.isApproved&&this.filterData.push(l)}}),this.isKPILoading=!1}selectKpiForEntension(l,e){this.selectedKpi=l,this.selectedIndex=e}extendKpi(l){this._router.navigateByUrl((l.isTypeKPI?"/org-kpi/edit/":"/org-goal/edit/")+l._id+"/extend"),this.modalService.destroy()}closeModal(){this.goalService.selectedKpiForExtension.next(""),this.modalService.destroy()}setSortOrder(l){this.sortFilter===l?this.sortOrder="ascending"===this.sortOrder?"descending":"ascending":(this.sortOrder="ascending",this.sortFilter=l)}}},HXlw:function(l,e,n){"use strict";n.d(e,"a",function(){return t});class t{constructor(l,e){this.data=l,this._dialogRef=e,this.confirmationMessage=this.data.confirmationMessage,this.cancelBtnText=this.data.cancelBtnText,this.onOkayText=this.data.onOkayText}ngOnInit(){}onOkay(l){this._dialogRef.close({})}onCancel(){this._dialogRef.close()}}},ITpg:function(l,e,n){"use strict";var t=n("8Y7J"),i=n("cbbC"),a=n("rP3o"),u=n("PJ54"),o=n("cN2v"),r=n("tU3X"),s=n("mEpm"),d=n("uvqg"),c=n("Gv0t"),p=n("J83G"),m=n("aHAg");n.d(e,"a",function(){return v});var g=t["\u0275crt"]({encapsulation:0,styles:[[".cos-sent-modal .bx--modal.is-visible .bx--modal-container{width:25%}"]],data:{}});function h(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"ibm-modal",[["class","cos-sent-modal"],["size","sm"]],null,[[null,"overlaySelected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,1).handleKeyboardEvent(n)&&i),"overlaySelected"===e&&(i=!1!==a.closeModal()&&i),i},i.c,i.b)),t["\u0275did"](1,4440064,null,0,a.a,[u.a],{size:[0,"size"]},{overlaySelected:"overlaySelected"}),(l()(),t["\u0275eld"](2,0,null,0,3,"ibm-modal-header",[],null,[[null,"closeSelect"]],function(l,e,n){var t=!0;return"closeSelect"===e&&(t=!1!==l.component.closeModal()&&t),t},o.c,o.b)),t["\u0275did"](3,49152,null,0,r.a,[s.a,d.a],null,{closeSelect:"closeSelect"}),(l()(),t["\u0275eld"](4,0,null,0,1,"span",[["style","font-size: 18px;font-weight: 600;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Success!"])),(l()(),t["\u0275eld"](6,0,null,0,2,"section",[["class","bx--modal-content"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h1",[["class","modal-msg"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,0,3,"ibm-modal-footer",[],null,null,null,c.c,c.b)),t["\u0275did"](10,49152,null,0,p.a,[],null,null),(l()(),t["\u0275eld"](11,0,null,0,1,"button",[["class","bx--btn bx--btn--primary"],["style","font-size: 18px;text-align: center;justify-content:center;border: none; outline: none;"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.closeModal()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,[" OK "]))],function(l,e){l(e,1,0,"sm")},function(l,e){l(e,8,0,e.component.modalText)})}function f(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-cos-sent",[],null,null,null,h,g)),t["\u0275did"](1,114688,null,0,m.a,[u.a,t.Injector],null,null)],function(l,e){l(e,1,0)},null)}var v=t["\u0275ccf"]("app-cos-sent",m.a,f,{},{close:"close"},[])},Mt6X:function(l,e,n){"use strict";var t=n("8Y7J"),i=n("noyz"),a=n("tKJU"),u=n("uUZD"),o=n("s7LF"),r=n("g7AK"),s=n("fF59"),d=n("1V2r"),c=n("gLoP"),p=n("mEpm"),m=n("i3NF"),g=n("FNXg"),h=n("1ZgJ"),f=n("baZm"),v=n("SVse"),b=n("uO/F"),C=n("ldNd"),y=n("BTng"),x=n("oljc"),w=n("+jrW"),I=n("QQfA"),D=n("Lb5T"),T=n("Amkq"),M=n("WeWU"),P=n("XvC9"),S=n("kqF4"),k=n("L2d0"),F=n("s5qc"),R=n("Skov"),L=n("o8H7"),O=n("FS8H"),N=n("Yb6w"),E=n("eJBW"),A=n("jGGp"),Y=n("TXHj"),_=n("QFd6"),U=n("O5lk"),V=n("AkuH"),q=n("wxoE"),K=n("A46g"),H=n("5SKc"),z=n("6p64"),B=n("dov7"),G=n("/7Vj"),W=n("eNer"),j=n("5OVe"),$=n("JACh"),Q=n("7ho3"),Z=n("KADP"),X=n("PsxR"),J=n("Dnte"),ll=n("EApP"),el=n("Z3BZ"),nl=n("MqE1"),tl=n("X/pD"),il=n("+91U"),al=n("qHnB"),ul=n("XX5M"),ol=n("iInd"),rl=n("PJ54"),sl=n("Z725"),dl=n("+Kk7");n.d(e,"a",function(){return ie});var cl=t["\u0275crt"]({encapsulation:0,styles:[[".kpi-add-container[_ngcontent-%COMP%]{padding-left:0;padding-right:0;padding-bottom:32px;background-color:#fff}.kpi-add-container[_ngcontent-%COMP%]   .metadiv[_ngcontent-%COMP%]{padding-top:22px}.kpi-add-container[_ngcontent-%COMP%]   .center-loader-text[_ngcontent-%COMP%]{display:flex;align-items:center}.kpi-add-container[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline-block}.active-card[_ngcontent-%COMP%]{border:1px solid red}.error-color[_ngcontent-%COMP%]{color:red}.report-colmn[_ngcontent-%COMP%]{display:flex;flex-direction:row}.report-container[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#f3f3f3;padding:20px;margin-right:10px}.report-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{visibility:hidden}.report-container[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{visibility:visible}.report-data-head[_ngcontent-%COMP%]{color:#232323;font-family:'IBM Plex Sans';font-size:14px;font-weight:600;line-height:16px;text-align:center;margin-bottom:10px}.limit-class[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;float:left;margin-right:12px}.limit-class[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{fill:grey}.limit-class[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:disabled{fill:green}.button-goal[_ngcontent-%COMP%]{width:172px}.button-goal.bx--btn[_ngcontent-%COMP%]{padding:8px}.card-fill-color[_ngcontent-%COMP%]   .parent-items[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.input-div[_ngcontent-%COMP%]{padding:32px 0 18px!important;text-align:center}.text-copy[_ngcontent-%COMP%]{color:#000;font-family:'IBM Plex Sans';font-size:14px;line-height:24px}.arrow-icon-span[_ngcontent-%COMP%]{box-sizing:border-box;width:97px;border:1px solid #dcdcdc;background-color:#f3f3f3;margin-left:40px}.left-arrow-icon[_ngcontent-%COMP%]{border-right:1px solid #dcdcdc;height:44px;width:49px}.right-arrow-icon[_ngcontent-%COMP%]{width:42px;height:44px}.top-right-text[_ngcontent-%COMP%]{display:flex!important;float:right!important}.remark-container[_ngcontent-%COMP%]   .bx--text-area[_ngcontent-%COMP%]{height:80px}.attachment-div[_ngcontent-%COMP%]{background-color:#f3f3f3;height:100%;margin-top:10px;padding:5px;display:flex;align-items:center;justify-content:space-between}.attachment-div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer;transform:scaleX(-1);fill:#da1e28}.bx--text-area[_ngcontent-%COMP%]{height:120px;width:100%}.close-icon-center[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;top:-18px;cursor:pointer}.text-bold[_ngcontent-%COMP%]{font-weight:700!important}.text-mid-center[_ngcontent-%COMP%]{display:flex;align-items:center}.dummy[_ngcontent-%COMP%]{color:red}.max-height-400[_ngcontent-%COMP%]{max-height:400px}.bx--content-switcher--selected[_ngcontent-%COMP%]{background-color:#da1e28!important}.bx--content-switcher-btn[_ngcontent-%COMP%]{min-width:100px}.instruction-for-stratify[_ngcontent-%COMP%]{color:#393939;font-family:'IBM Plex Sans';font-size:14px;letter-spacing:.32px;line-height:16px;margin-top:8px}.copy-btn[_ngcontent-%COMP%]{text-align:center;margin-top:8px;color:#00f;cursor:pointer}.copy-btn[_ngcontent-%COMP%]   .bx--label[_ngcontent-%COMP%]{color:#fff!important}.margin-left-20[_ngcontent-%COMP%]{margin-left:20px;margin-top:-10px}.disabled-no-action[_ngcontent-%COMP%]{pointer-events:none;background:#d3d3d3;cursor:not-allowed}.date-picker-new-cont[_ngcontent-%COMP%]   .cal-icon.mod[_ngcontent-%COMP%]{top:32px}  .bx--accordion__heading{background-color:#d2d2d2!important}  .bx--accordion__title{font-size:14px;padding-left:16px;font-weight:700}  .bx--accordion__item{margin-top:5px}  .bx--accordion__arrow{fill:#000}  .bx--accordion__item--active .bx--accordion__arrow{fill:#000}.bx--grid[_ngcontent-%COMP%]{max-width:100%}.input-aligin[_ngcontent-%COMP%]{margin-top:-2px;margin-bottom:8px}div.sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1;background-color:#fff;padding-bottom:8px;padding-top:8px}.bottom-edge-shadow[_ngcontent-%COMP%]{box-shadow:0 2px 6px -6px #000}"]],data:{animation:[{type:7,name:"slideInOut",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateX(-100%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateX(0%)"},offset:null},timings:"400ms ease-in"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateX(-100%)"},offset:null},timings:"0ms ease-in"}],options:null}],options:{}}]}});function pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"h1",[["style","font-size: 24px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,1,0,e.component.kpiForm.controls.title.value)})}function ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"h1",[["style","font-size: 24px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," "]))],null,function(l,e){var n=e.component;l(e,1,0,n.kpiForm.controls.title.value?n.kpiForm.controls.title.value:"New KPI")})}function gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,7,"ibm-checkbox",[["style","margin: auto 16px auto auto; flex: unset;"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,e,n){var t=!0;return"ngModelChange"===e&&(t=!1!==(l.component.expandAccordianItems=n)&&t),t},a.b,a.a)),t["\u0275did"](3,4243456,null,0,u.a,[t.ChangeDetectorRef],null,null),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[u.a]),t["\u0275did"](5,671744,null,0,o.u,[[2,o.b],[8,null],[8,null],[6,o.p]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](6,{standalone:0}),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](8,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275ted"](-1,0,[" Expand All Sections "])),(l()(),t["\u0275eld"](10,0,null,null,4,"button",[["class","button-goal"],["ibmButton","danger"],["type","submit"]],[[8,"disabled",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],null,null,null,null)),t["\u0275did"](11,16384,null,0,r.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,[" Save KPI "])),(l()(),t["\u0275eld"](13,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),t["\u0275did"](14,4210688,null,0,s.a,[t.ElementRef],null,null)],function(l,e){var n=e.component.expandAccordianItems,t=l(e,6,0,!0);l(e,5,0,n,t),l(e,11,0,"danger")},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).checkboxWrapperClass,t["\u0275nov"](e,3).formItemClass,t["\u0275nov"](e,8).ngClassUntouched,t["\u0275nov"](e,8).ngClassTouched,t["\u0275nov"](e,8).ngClassPristine,t["\u0275nov"](e,8).ngClassDirty,t["\u0275nov"](e,8).ngClassValid,t["\u0275nov"](e,8).ngClassInvalid,t["\u0275nov"](e,8).ngClassPending),l(e,10,1,[n.kpiForm.invalid&&0==n.owners.length&&n.isPreviousYear,t["\u0275nov"](e,11).baseClass,t["\u0275nov"](e,11).primaryButton,t["\u0275nov"](e,11).secondaryButton,t["\u0275nov"](e,11).tertiaryButton,t["\u0275nov"](e,11).ghostButton,t["\u0275nov"](e,11).dangerButton,t["\u0275nov"](e,11).dangerPrimaryButton,t["\u0275nov"](e,11).skeleton,t["\u0275nov"](e,11).smallSize,t["\u0275nov"](e,11).toolbarAction,t["\u0275nov"](e,11).overflowMenu])})}function hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Please enter a valid perspective "]))],null,null)}function fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Perspective "])),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](4,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","perspective"],["id","perspective"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,5).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onPerspectiveSelected(n)&&i),i},d.b,d.a)),t["\u0275did"](5,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],disabled:[4,"disabled"],appendInline:[5,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,4,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](8,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](10,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](12,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[4,4]],f.a,null,[h.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,hl)),t["\u0275did"](15,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,5,0,"perspective","Choose","sm","single",!n.isAddMode,"true"),l(e,8,0,"perspective",!n.isAddMode),l(e,12,0,n.perspectiveItems),l(e,15,0,n.kpiForm.controls.perspective.invalid&&n.kpiForm.controls.perspective.touched||n.isSubmitClicked&&n.kpiForm.controls.perspective.invalid)},function(l,e){l(e,4,0,t["\u0275nov"](e,5).hostClass,t["\u0275nov"](e,10).ngClassUntouched,t["\u0275nov"](e,10).ngClassTouched,t["\u0275nov"](e,10).ngClassPristine,t["\u0275nov"](e,10).ngClassDirty,t["\u0275nov"](e,10).ngClassValid,t["\u0275nov"](e,10).ngClassInvalid,t["\u0275nov"](e,10).ngClassPending)})}function vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid parent "]))],null,null)}function bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"label",[["class","bx--label margin-top5"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["MP/Parent "])),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](4,0,null,null,9,"ibm-combo-box",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","parent"],["placeholder","Choose"],["size","sm"]],[[1,"aria-disabled",0],[2,"bx--list-box__wrapper",null],[1,"role",0],[4,"display",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"itemsChange"],[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,5).hostkeys(n)&&i),"itemsChange"===e&&(i=!1!==(a.parentList=n)&&i),"selected"===e&&(i=!1!==a.onParentSelected(n)&&i),i},b.b,b.a)),t["\u0275did"](5,5816320,null,1,C.a,[t.ElementRef],{items:[0,"items"],placeholder:[1,"placeholder"],size:[2,"size"],disabled:[3,"disabled"]},{selected:"selected"}),t["\u0275qud"](335544320,5,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[C.a]),t["\u0275did"](8,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](10,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](12,4374528,null,0,h.a,[t.ElementRef,p.a],null,null),t["\u0275prd"](2048,[[5,4]],f.a,null,[h.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,vl)),t["\u0275did"](15,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,5,0,n.parentList,"Choose","sm",!n.isAddMode),l(e,8,0,"parent",!n.isAddMode),l(e,15,0,n.kpiForm.controls.parent.invalid&&n.kpiForm.controls.parent.touched||n.isSubmitClicked&&n.kpiForm.controls.parent.invalid)},function(l,e){l(e,4,1,[t["\u0275nov"](e,5).disabled,t["\u0275nov"](e,5).hostClass,t["\u0275nov"](e,5).role,t["\u0275nov"](e,5).display,t["\u0275nov"](e,10).ngClassUntouched,t["\u0275nov"](e,10).ngClassTouched,t["\u0275nov"](e,10).ngClassPristine,t["\u0275nov"](e,10).ngClassDirty,t["\u0275nov"](e,10).ngClassValid,t["\u0275nov"](e,10).ngClassInvalid,t["\u0275nov"](e,10).ngClassPending])})}function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid title"]))],null,null)}function yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid kpi description"]))],null,null)}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid department "]))],null,null)}function wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid KPI type "]))],null,null)}function Il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid category "]))],null,null)}function Dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid unit of measurement "]))],null,null)}function Tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid direction of goodness "]))],null,null)}function Ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please select a valid YTD calculation "]))],null,null)}function Pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Please enter a valid capture frequency "]))],null,null)}function Sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid review frequency "]))],null,null)}function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,10,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Shift Number "])),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](7,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label week-dropdown"],["id","shiftNumber"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,9).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickShiftItems(n)&&i),i},d.b,d.a)),t["\u0275prd"](5120,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](9,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,14,{view:0}),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](12,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[14,4]],f.a,null,[h.a])],function(l,e){var n=e.component,t=l(e,2,0,4,4,12);l(e,1,0,t),l(e,9,0,"shiftNumber","Choose","sm","single","true"),l(e,12,0,n.shiftItems)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,7,0,t["\u0275nov"](e,9).hostClass)})}function Fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,10,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Week Number "])),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](7,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label week-dropdown"],["id","weekNumber"],["placeholder","Choose"],["size","sm"],["type","multi"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,9).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickWeekNumber(n)&&i),i},d.b,d.a)),t["\u0275prd"](5120,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](9,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,15,{view:0}),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](12,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[15,4]],f.a,null,[h.a])],function(l,e){var n=e.component,t=l(e,2,0,8,8,12);l(e,1,0,t),l(e,9,0,"weekNumber","Choose","sm","multi","true"),l(e,12,0,n.weekNumberItems)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,7,0,t["\u0275nov"](e,9).hostClass)})}function Rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,10,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Month "])),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](7,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["id","month"],["placeholder","Choose"],["size","sm"],["type","multi"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,9).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickMonth(n)&&i),i},d.b,d.a)),t["\u0275prd"](5120,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](9,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,16,{view:0}),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](12,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[16,4]],f.a,null,[h.a])],function(l,e){var n=e.component,t=l(e,2,0,8,8,12);l(e,1,0,t),l(e,9,0,"month","Choose","sm","multi","true"),l(e,12,0,n.monthlyItems)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,7,0,t["\u0275nov"](e,9).hostClass)})}function Ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,17,"label",[["class","date-picker-new-cont padding-left-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Select Date Range"])),(l()(),t["\u0275eld"](6,0,null,null,10,"input",[["ibmText",""]],[[8,"placeholder",0],[2,"owl-dt-trigger-disabled",null],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"],[null,"blur"],[null,"input"],[null,"change"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,7).handleClickOnHost(n)&&i),"keydown"===e&&(i=!1!==t["\u0275nov"](l,8).handleKeydownOnHost(n)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,8).handleBlurOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,8).handleInputOnHost(n)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,8).handleChangeOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,10)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,10).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,10)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,10)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(a.value=n)&&i),"ngModelChange"===e&&(i=!1!==a.valueDateChange(n)&&i),i},null,null)),t["\u0275did"](7,1785856,null,0,y.y,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"]},null),t["\u0275did"](8,1261568,null,0,y.z,[t.ElementRef,t.Renderer2,[2,y.a],[2,y.b]],{owlDateTime:[0,"owlDateTime"],selectMode:[1,"selectMode"]},null),t["\u0275did"](9,16384,null,0,x.a,[],null,null),t["\u0275did"](10,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.o,function(l){return[l]},[y.z]),t["\u0275prd"](1024,null,o.p,function(l,e){return[l,e]},[y.z,o.c]),t["\u0275did"](13,671744,null,0,o.u,[[2,o.b],[6,o.o],[8,null],[6,o.p]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](14,{standalone:0}),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](16,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](17,16777216,null,null,1,"owl-date-time",[],null,null,null,w.b,w.a)),t["\u0275did"](18,245760,[["dt11",4]],0,y.d,[I.b,t.ViewContainerRef,y.v,t.NgZone,t.ChangeDetectorRef,[2,y.a],y.o,[2,y.b],[2,v.DOCUMENT]],{pickerType:[0,"pickerType"]},null),(l()(),t["\u0275eld"](19,0,null,null,1,":svg:svg",[["class","cal-icon mod"],["ibmIconCalendar20",""]],null,null,null,null,null)),t["\u0275did"](20,4210688,null,0,D.a,[t.ElementRef],null,null)],function(l,e){var n=e.component,i=l(e,2,0,"SHIFT WISE"===n.captureType?4:8,"SHIFT WISE"===n.captureType?4:8,12);l(e,1,0,i),l(e,7,0,t["\u0275nov"](e,18)),l(e,8,0,t["\u0275nov"](e,18),"range");var a=n.value,u=l(e,14,0,!0);l(e,13,0,a,u),l(e,18,0,"calendar")},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,6,1,[n.placeholder,t["\u0275nov"](e,7).owlDTTriggerDisabledClass,t["\u0275nov"](e,8).owlDateTimeInputAriaHaspopup,t["\u0275nov"](e,8).owlDateTimeInputAriaOwns,t["\u0275nov"](e,8).minIso8601,t["\u0275nov"](e,8).maxIso8601,t["\u0275nov"](e,8).owlDateTimeInputDisabled,t["\u0275nov"](e,9).inputClass,t["\u0275nov"](e,9).invalid,t["\u0275nov"](e,9).skeleton,t["\u0275nov"](e,9).isLightTheme,t["\u0275nov"](e,16).ngClassUntouched,t["\u0275nov"](e,16).ngClassTouched,t["\u0275nov"](e,16).ngClassPristine,t["\u0275nov"](e,16).ngClassDirty,t["\u0275nov"](e,16).ngClassValid,t["\u0275nov"](e,16).ngClassInvalid,t["\u0275nov"](e,16).ngClassPending])})}function Ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,7,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,4,"ibm-label",[],[[2,"bx--form-item",null]],null,null,T.b,T.a)),t["\u0275did"](6,1097728,null,0,M.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["Target YTD Formula "])),(l()(),t["\u0275eld"](8,0,null,0,1,"app-e4-combo-box",[["placeholder",""]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onOpen"===e&&(t=!1!==i.onOpenInternal(n)&&t),"onSearch"===e&&(t=!1!==i.onChangeTargetFormula(n)&&t),"onSelect"===e&&(t=!1!==i.selectedTargetOption(n)&&t),t},P.b,P.a)),t["\u0275did"](9,4964352,null,0,S.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(l()(),t["\u0275eld"](10,0,null,null,7,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](11,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](12,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](13,0,null,null,4,"ibm-label",[],[[2,"bx--form-item",null]],null,null,T.b,T.a)),t["\u0275did"](14,1097728,null,0,M.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["Actuals YTD Formula "])),(l()(),t["\u0275eld"](16,0,null,0,1,"app-e4-combo-box",[["placeholder",""]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onOpen"===e&&(t=!1!==i.onOpenInternal(n)&&t),"onSearch"===e&&(t=!1!==i.onChangeActualFormula(n)&&t),"onSelect"===e&&(t=!1!==i.selectedActualOption(n)&&t),t},P.b,P.a)),t["\u0275did"](17,4964352,null,0,S.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"})],function(l,e){var n=e.component,t=l(e,4,0,6,6,12);l(e,3,0,"user-search-combo-box",t),l(e,9,0,n.ytdTargetFormulaList,n.ytdTargetSearch,"");var i=l(e,12,0,6,6,12);l(e,11,0,"user-search-combo-box",i),l(e,17,0,n.ytdActualFormulaList,n.ytdActualSearch,"")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,5,0,t["\u0275nov"](e,6).labelClass),l(e,10,0,t["\u0275nov"](e,11).columnClasses),l(e,13,0,t["\u0275nov"](e,14).labelClass)})}function Nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,3,"ibm-checkbox",[["style","margin: auto;"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onChangeUseForStratifyLowerUpper(n)&&t),t},a.b,a.a)),t["\u0275prd"](5120,null,o.p,function(l){return[l]},[u.a]),t["\u0275did"](5,4243456,null,0,u.a,[t.ChangeDetectorRef],{checked:[0,"checked"]},{change:"change"}),(l()(),t["\u0275ted"](-1,0,["Use Form Field for Upper and Lower Limit "]))],function(l,e){var n=e.component,t=l(e,2,0,3,3,12);l(e,1,0,t),l(e,5,0,n.useForStratifyLowerUpper)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,5).checkboxWrapperClass,t["\u0275nov"](e,5).formItemClass)})}function El(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,3,"ibm-checkbox",[],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onChangeUseForStratefyTarget(n)&&t),t},a.b,a.a)),t["\u0275prd"](5120,null,o.p,function(l){return[l]},[u.a]),t["\u0275did"](7,4243456,null,0,u.a,[t.ChangeDetectorRef],{checked:[0,"checked"]},{change:"change"}),(l()(),t["\u0275ted"](-1,0,["I want to use a form to fill the target data"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Nl)),t["\u0275did"](10,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component,t=l(e,4,0,3,3,12);l(e,3,0,t),l(e,7,0,n.useForStratefyTarget),l(e,10,0,n.useForStratefyTarget&&"PRAGMATIC"!==n.actionLimit)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,5,0,t["\u0275nov"](e,7).checkboxWrapperClass,t["\u0275nov"](e,7).formItemClass)})}function Al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Choose Upper Limit Field "])),(l()(),t["\u0275eld"](7,0,null,null,1,"app-e4-combo-box",[["placeholder","Upper Limit"]],null,[[null,"onSelect"]],function(l,e,n){var t=!0;return"onSelect"===e&&(t=!1!==l.component.onUpperLimitSelected(n)&&t),t},P.b,P.a)),t["\u0275did"](8,4964352,null,0,S.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSelect:"onSelect"}),(l()(),t["\u0275eld"](9,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](10,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](11,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](12,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Choose Lower Limit Field "])),(l()(),t["\u0275eld"](14,0,null,null,1,"app-e4-combo-box",[["placeholder","Lower Limit"]],null,[[null,"onSelect"]],function(l,e,n){var t=!0;return"onSelect"===e&&(t=!1!==l.component.onLowerLimitSelected(n)&&t),t},P.b,P.a)),t["\u0275did"](15,4964352,null,0,S.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSelect:"onSelect"})],function(l,e){var n=e.component,t=l(e,4,0,3,3,12);l(e,3,0,t),l(e,8,0,n.targetFormFieldList,n.upperLimitQuery,"Upper Limit");var i=l(e,11,0,3,3,12);l(e,10,0,i),l(e,15,0,n.targetFormFieldList,n.lowerLimitQuery,"Lower Limit")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,9,0,t["\u0275nov"](e,10).columnClasses)})}function Yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid pragmatic limit value"]))],null,null)}function _l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,22,"div",[["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,17,"ibm-label",[],[[2,"bx--form-item",null]],null,null,T.b,T.a)),t["\u0275did"](4,1097728,null,0,M.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["Specify Pragmatic Limit(%) "])),(l()(),t["\u0275eld"](6,0,null,0,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](8,0,null,0,4,"span",[["class","tooltip"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,":svg:svg",[["ibmIconHelp16",""]],null,null,null,null,null)),t["\u0275did"](10,4210688,null,0,k.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[["class","tooltiptext"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Specify how much deviation can be tolerated from the target by the year end. For eg:- If limit set for achieving the target for the year is 4% limit for any one month then is 4 X \u221a12= 13.9%."])),(l()(),t["\u0275eld"](13,0,null,1,7,"input",[["formControlName","pragmaticLimitValue"],["ibmText",""],["id","pragmaticLimitValue"],["min","1"],["type","number"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,15)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,15).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,15)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,15)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,16).onChange(n.target.value)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,16).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,16).onTouched()&&i),i},null,null)),t["\u0275did"](14,16384,null,0,x.a,[],null,null),t["\u0275did"](15,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275did"](16,16384,null,0,o.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,o.p,function(l,e){return[l,e]},[o.c,o.w]),t["\u0275did"](18,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](20,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Yl)),t["\u0275did"](22,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component,t=l(e,2,0,3,3,12);l(e,1,0,t),l(e,18,0,"pragmaticLimitValue"),l(e,22,0,"PRAGMATIC"===n.actionLimit&&n.kpiForm.controls.pragmaticLimitValue.invalid&&n.kpiForm.controls.pragmaticLimitValue.touched||n.isSubmitClicked&&n.kpiForm.controls.pragmaticLimitValue.invalid)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).labelClass),l(e,13,1,[t["\u0275nov"](e,14).inputClass,t["\u0275nov"](e,14).invalid,t["\u0275nov"](e,14).skeleton,t["\u0275nov"](e,14).isLightTheme,t["\u0275nov"](e,20).ngClassUntouched,t["\u0275nov"](e,20).ngClassTouched,t["\u0275nov"](e,20).ngClassPristine,t["\u0275nov"](e,20).ngClassDirty,t["\u0275nov"](e,20).ngClassValid,t["\u0275nov"](e,20).ngClassInvalid,t["\u0275nov"](e,20).ngClassPending])})}function Ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"button",[["ibmButton","danger"],["ibmContentOption",""],["style","z-index: 0;"],["type","button"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null],[8,"className",0],[2,"bx--content-switcher--selected",null],[1,"role",0],[1,"aria-selected",0],[1,"tabIndex",0]],[[null,"click"],[null,"focus"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,2).hostClick()&&i),"focus"===e&&(i=!1!==t["\u0275nov"](l,2).onFocus()&&i),"click"===e&&(i=!1!==a.onSwitcherSelected(n,l.context.$implicit.startDate,l.context.$implicit.endDate)&&i),i},null,null)),t["\u0275did"](1,16384,null,0,r.a,[],{ibmButton:[0,"ibmButton"]},null),t["\u0275did"](2,16384,[[19,4]],0,F.a,[],{active:[0,"active"]},null),(l()(),t["\u0275ted"](3,null,["",""])),t["\u0275ppd"](4,2)],function(l,e){var n=e.component;l(e,1,0,"danger"),l(e,2,0,e.context.$implicit.startDate===n.selectedMonthStart)},function(l,e){l(e,0,1,[t["\u0275nov"](e,1).baseClass,t["\u0275nov"](e,1).primaryButton,t["\u0275nov"](e,1).secondaryButton,t["\u0275nov"](e,1).tertiaryButton,t["\u0275nov"](e,1).ghostButton,t["\u0275nov"](e,1).dangerButton,t["\u0275nov"](e,1).dangerPrimaryButton,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).smallSize,t["\u0275nov"](e,1).toolbarAction,t["\u0275nov"](e,1).overflowMenu,t["\u0275nov"](e,2).switcherClass,t["\u0275nov"](e,2).selectedClass,t["\u0275nov"](e,2).role,t["\u0275nov"](e,2).ariaSelected,t["\u0275nov"](e,2).tabindex]);var n=t["\u0275unv"](e,3,0,l(e,4,0,t["\u0275nov"](e.parent.parent.parent,0),e.context.$implicit.startDate,"MMM-y"));l(e,3,0,n)})}function Vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"ibm-content-switcher",[],null,[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,1).hostkeys(n)&&i),i},R.b,R.a)),t["\u0275did"](1,4243456,null,1,L.a,[t.ElementRef],null,null),t["\u0275qud"](603979776,19,{options:1}),(l()(),t["\u0275and"](16777216,null,0,1,null,Ul)),t["\u0275did"](4,278528,null,0,v.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,e){l(e,4,0,e.component.monthlyItemsShow)},null)}function ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["ibmRow",""],["style","margin-top: 16px; margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Vl)),t["\u0275did"](3,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,3,0,(null==n.monthlyItemsShow?null:n.monthlyItemsShow.length)&&(!(n.useForStratefyTarget&&n.useForStratifyLowerUpper)&&"PRAGMATIC"!==n.actionLimit||!n.useForStratefyTarget&&"PRAGMATIC"===n.actionLimit)&&"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass)})}function Kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"span",[["class","arrow-icon-span"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,":svg:svg",[["aria-hidden","true"],["class","bx--pagination__nav-arrow left-arrow-icon"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 32 32"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onPreviousClick()&&t),t},null,null)),t["\u0275prd"](512,null,v["\u0275NgStyleImpl"],v["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](3,278528,null,0,v.NgStyle,[v["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](4,{fill:0}),(l()(),t["\u0275eld"](5,0,null,null,0,":svg:path",[["d","M19 23l-8-7 8-7v14z"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,4,":svg:svg",[["aria-hidden","true"],["class","bx--pagination__nav-arrow right-arrow-icon"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 32 32"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onNextClick()&&t),t},null,null)),t["\u0275prd"](512,null,v["\u0275NgStyleImpl"],v["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](8,278528,null,0,v.NgStyle,[v["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](9,{fill:0}),(l()(),t["\u0275eld"](10,0,null,null,0,":svg:path",[["d","M13 9l8 7-8 7V9z"]],null,null,null,null,null))],function(l,e){var n=e.component,t=l(e,4,0,0===n.prevValue?"grey":"");l(e,3,0,t);var i=l(e,9,0,n.captureData&&n.nextValue>=n.captureData.value.length?"grey":"");l(e,8,0,i)},null)}function Hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[["class","tooltip"],["style","margin-left: 8px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["ibmIconHelp16",""]],null,null,null,null,null)),t["\u0275did"](2,4210688,null,0,k.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](3,0,null,null,1,"span",[["class","tooltiptext"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" You can set numerical or percentage values for Upper Limit and lower limit. If you enter percentages in Upper and Lower limits, the percentages will be with respect to the target. For example if you enter 5% in the Upper limit, the upper limit will be 105% of the target. Likewise if you enter 5% in the Lower limit, the lower limit will be 95% of the target. "]))],null,null)}function zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","fill-da1e28"],["ibmIconClose20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onCloseCard(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,O.a,[t.ElementRef],null,null)],null,null)}function Bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","fill-da1e28"],["ibmIconCheckmark20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onCloseCard(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,N.a,[t.ElementRef],null,null)],null,null)}function Gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"input",[["class","input-div"],["formControlName","target"],["ibmText",""],["id","target"],["name",""],["placeholder","Enter Target"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==a.calculateUpperLowerLimitWithTarget(l.parent.context.$implicit)&&i),i},null,null)),t["\u0275did"](1,16384,null,0,x.a,[],null,null),t["\u0275did"](2,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[o.c]),t["\u0275did"](4,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](6,16384,null,0,o.r,[[4,o.q]],null,null)],function(l,e){l(e,4,0,"target",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,1).inputClass,t["\u0275nov"](e,1).invalid,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).isLightTheme,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending])})}function Wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"input",[["class","input-div"],["formControlName","upperPercent"],["ibmText",""],["id","upperPercent"],["name",""],["placeholder","%"],["style","margin-right: 8px;flex: 1;min-width: 0"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==a.calculateUpperLowerLimit(l.parent.context.$implicit,l.parent.context.$implicit.value.index,"upper")&&i),i},null,null)),t["\u0275did"](1,16384,null,0,x.a,[],null,null),t["\u0275did"](2,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[o.c]),t["\u0275did"](4,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](6,16384,null,0,o.r,[[4,o.q]],null,null)],function(l,e){l(e,4,0,"upperPercent",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,1).inputClass,t["\u0275nov"](e,1).invalid,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).isLightTheme,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending])})}function jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"input",[["class","input-div"],["formControlName","upper"],["ibmText",""],["id","upper"],["name",""],["placeholder","Upper Limit"],["style","flex: 1;min-width: 0"],["tabindex","-1"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,5)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,5).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275prd"](512,null,v["\u0275NgClassImpl"],v["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,v.NgClass,[v["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"disabled-no-action":0}),t["\u0275did"](4,16384,null,0,x.a,[],null,null),t["\u0275did"](5,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[o.c]),t["\u0275did"](7,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](9,16384,null,0,o.r,[[4,o.q]],null,null)],function(l,e){var n=l(e,3,0,e.parent.context.$implicit.value.upperPercent);l(e,2,0,"input-div",n),l(e,7,0,"upper",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,4).inputClass,t["\u0275nov"](e,4).invalid,t["\u0275nov"](e,4).skeleton,t["\u0275nov"](e,4).isLightTheme,t["\u0275nov"](e,9).ngClassUntouched,t["\u0275nov"](e,9).ngClassTouched,t["\u0275nov"](e,9).ngClassPristine,t["\u0275nov"](e,9).ngClassDirty,t["\u0275nov"](e,9).ngClassValid,t["\u0275nov"](e,9).ngClassInvalid,t["\u0275nov"](e,9).ngClassPending])})}function $l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"input",[["class","input-div"],["formControlName","lowerPercent"],["ibmText",""],["id","lowerPercent"],["name",""],["placeholder","%"],["style","margin-right: 8px;flex: 1;min-width: 0"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==a.calculateUpperLowerLimit(l.parent.context.$implicit,l.parent.context.$implicit.value.index,"lower")&&i),i},null,null)),t["\u0275did"](1,16384,null,0,x.a,[],null,null),t["\u0275did"](2,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[o.c]),t["\u0275did"](4,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](6,16384,null,0,o.r,[[4,o.q]],null,null)],function(l,e){l(e,4,0,"lowerPercent",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,1).inputClass,t["\u0275nov"](e,1).invalid,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).isLightTheme,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending])})}function Ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"input",[["class","input-div"],["formControlName","lower"],["ibmText",""],["id","lower"],["name",""],["placeholder","Lower Limit "],["style","flex: 1;min-width: 0"],["tabindex","-1"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,5)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,5).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275prd"](512,null,v["\u0275NgClassImpl"],v["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,v.NgClass,[v["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"disabled-no-action":0}),t["\u0275did"](4,16384,null,0,x.a,[],null,null),t["\u0275did"](5,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[o.c]),t["\u0275did"](7,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](9,16384,null,0,o.r,[[4,o.q]],null,null)],function(l,e){var n=l(e,3,0,e.parent.context.$implicit.value.lowerPercent);l(e,2,0,"input-div",n),l(e,7,0,"lower",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,4).inputClass,t["\u0275nov"](e,4).invalid,t["\u0275nov"](e,4).skeleton,t["\u0275nov"](e,4).isLightTheme,t["\u0275nov"](e,9).ngClassUntouched,t["\u0275nov"](e,9).ngClassTouched,t["\u0275nov"](e,9).ngClassPristine,t["\u0275nov"](e,9).ngClassDirty,t["\u0275nov"](e,9).ngClassValid,t["\u0275nov"](e,9).ngClassInvalid,t["\u0275nov"](e,9).ngClassPending])})}function Zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,21,"div",[["style","background-color: #393939;padding: 16px;position: absolute;top: 24px;left: -52px;z-index: 9999;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["class","fill-white-ico"],["ibmIconClose20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.closeCopyDiag(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](2,4210688,null,0,O.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](3,0,null,null,15,"label",[["class","date-picker-new-cont padding-left-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,10,"input",[["ibmText",""]],[[8,"placeholder",0],[2,"owl-dt-trigger-disabled",null],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"],[null,"blur"],[null,"input"],[null,"change"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,5).handleClickOnHost(n)&&i),"keydown"===e&&(i=!1!==t["\u0275nov"](l,6).handleKeydownOnHost(n)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,6).handleBlurOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,6).handleInputOnHost(n)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,6).handleChangeOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,8)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,8).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,8)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,8)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(a.copyDateSelected=n)&&i),"ngModelChange"===e&&(i=!1!==a.onCopyCalendarChange(n)&&i),i},null,null)),t["\u0275did"](5,1785856,null,0,y.y,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"]},null),t["\u0275did"](6,1261568,null,0,y.z,[t.ElementRef,t.Renderer2,[2,y.a],[2,y.b]],{owlDateTime:[0,"owlDateTime"],selectMode:[1,"selectMode"]},null),t["\u0275did"](7,16384,null,0,x.a,[],null,null),t["\u0275did"](8,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.o,function(l){return[l]},[y.z]),t["\u0275prd"](1024,null,o.p,function(l,e){return[l,e]},[y.z,o.c]),t["\u0275did"](11,671744,null,0,o.u,[[2,o.b],[6,o.o],[8,null],[6,o.p]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](12,{standalone:0}),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](14,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](15,16777216,null,null,1,"owl-date-time",[],null,null,null,w.b,w.a)),t["\u0275did"](16,245760,[["dt10",4]],0,y.d,[I.b,t.ViewContainerRef,y.v,t.NgZone,t.ChangeDetectorRef,[2,y.a],y.o,[2,y.b],[2,v.DOCUMENT]],{pickerType:[0,"pickerType"]},null),(l()(),t["\u0275eld"](17,0,null,null,1,":svg:svg",[["class","cal-icon"],["ibmIconCalendar20",""]],null,null,null,null,null)),t["\u0275did"](18,4210688,null,0,D.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](19,0,null,null,2,"button",[["ibmButton","danger"],["style","width: 100%;margin-top: 8px;"],["type","button"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onCopyValues(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](20,16384,null,0,r.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,["Copy"]))],function(l,e){var n=e.component;l(e,5,0,t["\u0275nov"](e,16)),l(e,6,0,t["\u0275nov"](e,16),"range");var i=n.copyDateSelected,a=l(e,12,0,!0);l(e,11,0,i,a),l(e,16,0,"calendar"),l(e,20,0,"danger")},function(l,e){l(e,4,1,[e.component.placeholder,t["\u0275nov"](e,5).owlDTTriggerDisabledClass,t["\u0275nov"](e,6).owlDateTimeInputAriaHaspopup,t["\u0275nov"](e,6).owlDateTimeInputAriaOwns,t["\u0275nov"](e,6).minIso8601,t["\u0275nov"](e,6).maxIso8601,t["\u0275nov"](e,6).owlDateTimeInputDisabled,t["\u0275nov"](e,7).inputClass,t["\u0275nov"](e,7).invalid,t["\u0275nov"](e,7).skeleton,t["\u0275nov"](e,7).isLightTheme,t["\u0275nov"](e,14).ngClassUntouched,t["\u0275nov"](e,14).ngClassTouched,t["\u0275nov"](e,14).ngClassPristine,t["\u0275nov"](e,14).ngClassDirty,t["\u0275nov"](e,14).ngClassValid,t["\u0275nov"](e,14).ngClassInvalid,t["\u0275nov"](e,14).ngClassPending]),l(e,19,1,[t["\u0275nov"](e,20).baseClass,t["\u0275nov"](e,20).primaryButton,t["\u0275nov"](e,20).secondaryButton,t["\u0275nov"](e,20).tertiaryButton,t["\u0275nov"](e,20).ghostButton,t["\u0275nov"](e,20).dangerButton,t["\u0275nov"](e,20).dangerPrimaryButton,t["\u0275nov"](e,20).skeleton,t["\u0275nov"](e,20).smallSize,t["\u0275nov"](e,20).toolbarAction,t["\u0275nov"](e,20).overflowMenu])})}function Xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter numeric values"]))],null,null)}function Jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,38,"div",[["formArrayName","captureData"]],[[24,"@slideInOut",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["\u0275prd"](512,null,v["\u0275NgClassImpl"],v["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,v.NgClass,[v["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275did"](3,212992,null,0,o.e,[[3,o.b],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.b,null,[o.e]),t["\u0275did"](5,16384,null,0,o.s,[[4,o.b]],null,null),(l()(),t["\u0275eld"](6,0,null,null,5,"div",[["class","close-div"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,4,"div",[["class","close-icon-center"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,zl)),t["\u0275did"](9,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Bl)),t["\u0275did"](11,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](12,0,null,null,24,"div",[["class","parent-items"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"change"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==i.onGoalSelection(l.context.$implicit)&&t),"change"===e&&(t=!1!==i.onGoalSelection(l.context.$implicit)&&t),t},null,null)),t["\u0275did"](13,212992,null,0,o.k,[[3,o.b],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.b,null,[o.k]),t["\u0275did"](15,16384,null,0,o.s,[[4,o.b]],null,null),(l()(),t["\u0275eld"](16,0,null,null,1,"label",[["class","report-data-head"]],null,null,null,null,null)),(l()(),t["\u0275ted"](17,null,["Target for ",""])),(l()(),t["\u0275eld"](18,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Gl)),t["\u0275did"](21,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](22,0,null,null,4,"div",[["style","display: flex;justify-content: space-between;overflow: hidden;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Wl)),t["\u0275did"](24,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,jl)),t["\u0275did"](26,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](27,0,null,null,4,"div",[["style","display: flex;justify-content: space-between;overflow: hidden;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,$l)),t["\u0275did"](29,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ql)),t["\u0275did"](31,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](32,0,null,null,4,"div",[["class","copy-btn"],["style","position: relative;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Zl)),t["\u0275did"](34,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](35,0,null,null,1,"span",[],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.showCopyCalendar(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Copy"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Xl)),t["\u0275did"](38,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,2,0,e.context.$implicit.value.disabled?"report-container card-fill-color":n.selectedCard&&e.context.$implicit.value.index===n.selectedCard.index?"report-container active-card":"report-container"),l(e,3,0,"captureData"),l(e,9,0,!e.context.$implicit.value.disabled&&("SHIFT WISE"===n.captureType&&0!=n.selectedShifttem.length||"WEEKLY"===n.captureType||"DAILY"===n.captureType||"QUARTERLY"===n.captureType&&"PRAGMATIC"===n.actionLimit||"HALF YEARLY"===n.captureType&&"PRAGMATIC"===n.actionLimit)),l(e,11,0,e.context.$implicit.value.disabled&&("SHIFT WISE"===n.captureType&&0!=n.selectedShifttem.length||"WEEKLY"===n.captureType||"DAILY"===n.captureType||"QUARTERLY"===n.captureType&&"PRAGMATIC"===n.actionLimit||"HALF YEARLY"===n.captureType&&"PRAGMATIC"===n.actionLimit)),l(e,13,0,e.context.$implicit.value.index),l(e,21,0,!n.useForStratefyTarget),l(e,24,0,!n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit),l(e,26,0,!n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit),l(e,29,0,!n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit),l(e,31,0,!n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit),l(e,34,0,e.context.$implicit.isShowCopyCal),l(e,38,0,e.context.$implicit.controls.target.invalid&&e.context.$implicit.controls.target.touched||e.context.$implicit.controls.lower.invalid&&e.context.$implicit.controls.lower.touched||e.context.$implicit.controls.upper.invalid&&e.context.$implicit.controls.upper.touched)},function(l,e){l(e,0,0,void 0,t["\u0275nov"](e,5).ngClassUntouched,t["\u0275nov"](e,5).ngClassTouched,t["\u0275nov"](e,5).ngClassPristine,t["\u0275nov"](e,5).ngClassDirty,t["\u0275nov"](e,5).ngClassValid,t["\u0275nov"](e,5).ngClassInvalid,t["\u0275nov"](e,5).ngClassPending),l(e,12,0,t["\u0275nov"](e,15).ngClassUntouched,t["\u0275nov"](e,15).ngClassTouched,t["\u0275nov"](e,15).ngClassPristine,t["\u0275nov"](e,15).ngClassDirty,t["\u0275nov"](e,15).ngClassValid,t["\u0275nov"](e,15).ngClassInvalid,t["\u0275nov"](e,15).ngClassPending),l(e,17,0,e.context.$implicit.value.content)})}function le(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,8,"div",[["ibmCol",""],["style","margin-bottom: 8px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,5,"div",[["class","limit-class"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](6,16384,null,0,i.c,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Kl)),t["\u0275did"](8,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Hl)),t["\u0275did"](10,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](11,0,null,null,6,"div",[["class","report-colmn"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](12,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](13,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,3,null,Jl)),t["\u0275did"](15,278528,null,0,v.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](0,E.a,[]),t["\u0275pid"](0,v.SlicePipe,[])],function(l,e){var n=e.component,i=l(e,4,0,12,4,12);l(e,3,0,i),l(e,8,0,!(n.useForStratefyTarget&&n.useForStratifyLowerUpper)&&"PRAGMATIC"!==n.actionLimit),l(e,10,0,!(n.useForStratefyTarget&&n.useForStratifyLowerUpper)&&"PRAGMATIC"!==n.actionLimit);var a=l(e,13,0,12,12,12);l(e,12,0,"report-colmn",a),l(e,15,0,t["\u0275unv"](e,15,0,t["\u0275nov"](e,17).transform(t["\u0275unv"](e,15,0,t["\u0275nov"](e,16).transform(n.kpiForm.get("captureData").controls,n.selectedMonthStart,n.selectedMonthEnd,n.captureType)),n.prevValue,n.nextValue)))},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,5,0,t["\u0275nov"](e,6).baseClass),l(e,11,0,t["\u0275nov"](e,12).columnClasses)})}function ee(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"]],[[2,"bx--loading-overlay",null]],null,null,A.b,A.a)),t["\u0275did"](2,49152,null,0,Y.a,[p.a],{size:[0,"size"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."]))],function(l,e){l(e,2,0,"sm")},function(l,e){l(e,1,0,t["\u0275nov"](e,2).overlay)})}function ne(l){return t["\u0275vid"](2,[t["\u0275pid"](0,v.DatePipe,[t.LOCALE_ID]),t["\u0275qud"](671088640,1,{inputRemarkAttachment:0}),(l()(),t["\u0275eld"](2,0,null,null,469,"div",[["class","kpi-add-container"],["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](3,16384,null,0,i.b,[],null,null),(l()(),t["\u0275eld"](4,0,null,null,467,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,464,"form",[["class","form-wrapper"],["novalidate",""]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,e,n){var i=!0,a=l.component;return"submit"===e&&(i=!1!==t["\u0275nov"](l,7).onSubmit(n)&&i),"reset"===e&&(i=!1!==t["\u0275nov"](l,7).onReset()&&i),"ngSubmit"===e&&(i=!1!==a.onSubmit()&&i),i},null,null)),t["\u0275did"](6,16384,null,0,o.F,[],null,null),t["\u0275did"](7,540672,null,0,o.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,o.b,null,[o.j]),t["\u0275did"](9,16384,null,0,o.s,[[4,o.b]],null,null),(l()(),t["\u0275eld"](10,0,null,null,15,"div",[["class","sticky bottom-edge-shadow"],["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](11,16384,null,0,i.b,[],null,null),(l()(),t["\u0275eld"](12,0,null,null,13,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](13,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](14,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](15,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](16,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,pl)),t["\u0275did"](18,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ml)),t["\u0275did"](20,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](21,0,null,null,4,"div",[["ibmCol",""],["style","text-align: right;margin: auto;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](22,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](23,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,gl)),t["\u0275did"](25,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](26,0,null,null,441,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,440,"ibm-accordion",[],null,null,null,_.b,_.a)),t["\u0275did"](28,1097728,null,1,U.a,[],null,null),t["\u0275qud"](603979776,2,{children:1}),(l()(),t["\u0275eld"](30,0,null,0,243,"ibm-accordion-item",[["title","1. KPI Information"]],[[2,"bx--accordion__item",null],[2,"bx--accordion__item--active",null],[4,"display",null],[1,"role",0],[1,"aria-level",0]],null,null,V.b,V.a)),t["\u0275did"](31,49152,[[2,4]],0,q.a,[],{title:[0,"title"],expanded:[1,"expanded"]},null),(l()(),t["\u0275eld"](32,0,null,0,241,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](33,16384,null,0,i.b,[],null,null),(l()(),t["\u0275eld"](34,0,null,null,11,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](35,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](36,0,null,null,9,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](37,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](38,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](39,0,null,null,6,"ibm-checkbox",[["formControlName","extendKpi"],["size","sm"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onExtendKpiChecked(n)&&t),t},a.b,a.a)),t["\u0275did"](40,4243456,null,0,u.a,[t.ChangeDetectorRef],{size:[0,"size"]},{change:"change"}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[u.a]),t["\u0275did"](42,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](44,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275ted"](-1,0,[" Extend a particular KPI "])),(l()(),t["\u0275eld"](46,0,null,null,23,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](47,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](48,0,null,null,21,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](49,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](50,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](51,0,null,null,18,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](52,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](53,0,null,null,16,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](54,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](55,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](56,0,null,null,13,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Financial year "])),(l()(),t["\u0275eld"](58,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](60,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","financialYear"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,61).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.setFinancialYear(n)&&i),i},d.b,d.a)),t["\u0275did"](61,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{placeholder:[0,"placeholder"],size:[1,"size"],type:[2,"type"],disabled:[3,"disabled"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,3,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](64,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](66,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](67,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](68,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[3,4]],f.a,null,[h.a]),(l()(),t["\u0275eld"](70,0,null,null,12,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](71,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](72,0,null,null,10,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](73,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](74,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](75,0,null,null,7,"div",[["style","display: flex; margin: auto; flex-direction: row-reverse;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](76,0,null,null,6,"ibm-checkbox",[["formControlName","noParent"],["size","sm"],["style","display: contents;"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onChangeParent(n)&&t),t},a.b,a.a)),t["\u0275did"](77,4243456,null,0,u.a,[t.ChangeDetectorRef],{size:[0,"size"]},{change:"change"}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[u.a]),t["\u0275did"](79,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](81,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275ted"](-1,0,["Don't want to associate with MP/Parent "])),(l()(),t["\u0275eld"](83,0,null,null,190,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](84,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](85,0,null,null,50,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](86,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](87,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](88,0,null,null,47,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](89,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](90,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](91,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](92,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](94,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](96,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](97,0,null,null,16,"div",[["class","margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](98,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](99,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](100,0,null,null,11,"ibm-label",[],[[2,"bx--form-item",null]],null,null,T.b,T.a)),t["\u0275did"](101,1097728,null,0,M.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["KPI Title "])),(l()(),t["\u0275eld"](103,0,null,0,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](105,0,null,1,6,"input",[["class","input-aligin"],["formControlName","title"],["ibmText",""],["id","title"],["placeholder","Enter title"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,107)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,107).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,107)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,107)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](106,16384,null,0,x.a,[],null,null),t["\u0275did"](107,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[o.c]),t["\u0275did"](109,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](111,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](113,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](114,0,null,null,21,"div",[["class","margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](115,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](116,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](117,0,null,null,16,"ibm-label",[],[[2,"bx--form-item",null]],null,null,T.b,T.a)),t["\u0275did"](118,1097728,null,0,M.a,[],null,null),(l()(),t["\u0275eld"](119,0,null,0,3,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" KPI Description "])),(l()(),t["\u0275eld"](121,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](123,0,null,0,1,"label",[["class","top-right-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](124,null,["","/500"])),(l()(),t["\u0275eld"](125,0,null,1,8,"textarea",[["aria-label","textarea"],["formControlName","kpiDescription"],["ibmTextArea",""],["id","kpiDescription"],["maxlength","500"],["placeholder","Explain the action items for CP"]],[[2,"bx--text-area",null],[2,"bx--text-area--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-area--light",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,127)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,127).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,127)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,127)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](126,16384,null,0,K.a,[],null,null),t["\u0275did"](127,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275did"](128,540672,null,0,o.m,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,o.o,function(l){return[l]},[o.m]),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[o.c]),t["\u0275did"](131,671744,null,0,o.h,[[3,o.b],[6,o.o],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](133,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,yl)),t["\u0275did"](135,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](136,0,null,null,137,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](137,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](138,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](139,0,null,null,39,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](140,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](141,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](142,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](143,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](144,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Department "])),(l()(),t["\u0275eld"](146,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](148,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","department"],["id","department"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,149).onKeyDown(n)&&i),i},d.b,d.a)),t["\u0275did"](149,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},null),t["\u0275qud"](335544320,6,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](152,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](154,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](155,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](156,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[6,4]],f.a,null,[h.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](159,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](160,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](161,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](162,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](163,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KPI Type "])),(l()(),t["\u0275eld"](165,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](167,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","KpiType"],["id",""],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,168).onKeyDown(n)&&i),i},d.b,d.a)),t["\u0275did"](168,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},null),t["\u0275qud"](335544320,7,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](171,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](173,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](174,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](175,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[7,4]],f.a,null,[h.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,wl)),t["\u0275did"](178,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](179,0,null,null,58,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](180,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](181,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](182,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](183,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](184,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Category "])),(l()(),t["\u0275eld"](186,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](188,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","category"],["id",""],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,189).onKeyDown(n)&&i),i},d.b,d.a)),t["\u0275did"](189,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},null),t["\u0275qud"](335544320,8,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](192,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](194,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](195,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](196,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[8,4]],f.a,null,[h.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Il)),t["\u0275did"](199,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](200,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](201,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](202,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](203,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Unit of Measurement "])),(l()(),t["\u0275eld"](205,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](207,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","unitOfMeasurement"],["id","unitOfMeasurement"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,208).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onUoMChange(n)&&i),i},d.b,d.a)),t["\u0275did"](208,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,9,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](211,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](213,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](214,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](215,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[9,4]],f.a,null,[h.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Dl)),t["\u0275did"](218,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](219,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](220,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](221,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](222,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Direction of Goodness "])),(l()(),t["\u0275eld"](224,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](226,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","directionOfGoodness"],["id","directionOfGoodness"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,227).onKeyDown(n)&&i),i},d.b,d.a)),t["\u0275did"](227,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},null),t["\u0275qud"](335544320,10,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](230,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](232,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](233,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](234,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[10,4]],f.a,null,[h.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Tl)),t["\u0275did"](237,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](238,0,null,null,35,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](239,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](240,0,null,null,33,"div",[["class","remark-container"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](241,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](242,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](243,0,null,null,18,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](244,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](245,0,null,null,16,"ibm-label",[["ibmCol",""]],[[8,"className",0],[2,"bx--form-item",null]],null,null,T.b,T.a)),t["\u0275did"](246,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](247,{lg:0,md:1,sm:2}),t["\u0275did"](248,1097728,null,0,M.a,[],null,null),(l()(),t["\u0275eld"](249,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Remark"])),(l()(),t["\u0275eld"](251,0,null,0,1,"label",[["class","top-right-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](252,null,["","/500"])),(l()(),t["\u0275eld"](253,0,null,1,8,"textarea",[["aria-label","textarea"],["class","remark-textarea"],["formControlName","remark"],["ibmTextArea",""],["id","remark"],["maxlength","500"],["placeholder","Remark"]],[[2,"bx--text-area",null],[2,"bx--text-area--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-area--light",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,255)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,255).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,255)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,255)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](254,16384,null,0,K.a,[],null,null),t["\u0275did"](255,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275did"](256,540672,null,0,o.m,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,o.o,function(l){return[l]},[o.m]),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[o.c]),t["\u0275did"](259,671744,null,0,o.h,[[3,o.b],[6,o.o],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](261,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](262,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](263,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](264,0,null,null,9,"div",[["ibmCol",""],["style","height: 30px"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](265,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](266,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](267,0,null,null,6,"div",[["class","attachment-div"]],null,null,null,null,null)),(l()(),t["\u0275eld"](268,0,null,null,2,"a",[["style","cursor: pointer;text-decoration: none;color: black;"]],null,[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==i.downloadFile(i.attachmentFile)&&t),t},null,null)),(l()(),t["\u0275eld"](269,0,null,null,1,"label",[["class","font-size-12"]],null,null,null,null,null)),(l()(),t["\u0275ted"](270,null,["",""])),(l()(),t["\u0275eld"](271,0,[[1,0],["inputRemarkAttachment",1]],null,0,"input",[["style","display: none;"],["type","file"]],[[8,"accept",0]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onAttachmentChange(n)&&t),t},null,null)),(l()(),t["\u0275eld"](272,0,null,null,1,":svg:svg",[["class","fill-da1e28"],["ibmIconAttachment20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onFileSelect(n)&&t),t},null,null)),t["\u0275did"](273,4210688,null,0,H.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](274,0,null,0,13,"ibm-accordion-item",[["title","2. Deployment Tree"]],[[2,"bx--accordion__item",null],[2,"bx--accordion__item--active",null],[4,"display",null],[1,"role",0],[1,"aria-level",0]],null,null,V.b,V.a)),t["\u0275did"](275,49152,[[2,4]],0,q.a,[],{title:[0,"title"],expanded:[1,"expanded"]},null),(l()(),t["\u0275eld"](276,0,null,0,11,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](277,16384,null,0,i.b,[],null,null),(l()(),t["\u0275eld"](278,0,null,null,9,"div",[["class","margin-top-20"],["ibmRow",""],["style","margin-bottom: 40px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](279,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](280,0,null,null,4,"div",[["ibmCol",""],["style","height: 400px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](281,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](282,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](283,0,null,null,1,"app-deployment-tree",[],null,null,null,z.b,z.a)),t["\u0275did"](284,4964352,null,0,B.a,[],{graphConfig:[0,"graphConfig"]},null),(l()(),t["\u0275eld"](285,0,null,null,2,"div",[["ibmCol",""],["style","height: 400px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](286,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](287,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](288,0,null,0,179,"ibm-accordion-item",[["title","3. Set DCF, DRF & Targets"]],[[2,"bx--accordion__item",null],[2,"bx--accordion__item--active",null],[4,"display",null],[1,"role",0],[1,"aria-level",0]],null,null,V.b,V.a)),t["\u0275did"](289,49152,[[2,4]],0,q.a,[],{title:[0,"title"],expanded:[1,"expanded"]},null),(l()(),t["\u0275eld"](290,0,null,0,177,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](291,16384,null,0,i.b,[],null,null),(l()(),t["\u0275eld"](292,0,null,null,89,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](293,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](294,0,null,null,55,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](295,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](296,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](297,0,null,null,52,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](298,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](299,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](300,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](301,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](302,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["YTD Calculation "])),(l()(),t["\u0275eld"](304,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](306,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","ytdCalculation"],["id","ytd"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,307).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onYTDChange(n)&&i),i},d.b,d.a)),t["\u0275did"](307,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,11,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](310,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](312,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](313,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](314,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[11,4]],f.a,null,[h.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Ml)),t["\u0275did"](317,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](318,0,null,null,12,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](319,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](320,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](321,0,null,null,9,"ibm-label",[],[[2,"bx--form-item",null]],null,null,T.b,T.a)),t["\u0275did"](322,1097728,null,0,M.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["Annual Target "])),(l()(),t["\u0275eld"](324,0,null,1,6,"input",[["class","input-aligin"],["formControlName","annualTarget"],["ibmText",""],["id","annualTarget"],["placeholder","Enter annual target"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,326)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,326).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,326)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,326)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](325,16384,null,0,x.a,[],null,null),t["\u0275did"](326,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[o.c]),t["\u0275did"](328,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](330,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](331,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](332,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](333,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](334,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Capture Frequency "])),(l()(),t["\u0275eld"](336,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](338,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","dataCaptureFrequency"],["id","dataCaptureFrequency"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,339).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickcapture(n)&&i),i},d.b,d.a)),t["\u0275did"](339,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,12,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](342,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](344,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](345,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](346,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[12,4]],f.a,null,[h.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Pl)),t["\u0275did"](349,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](350,0,null,null,31,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](351,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](352,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](353,0,null,null,28,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](354,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](355,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](356,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](357,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](358,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Review Frequency "])),(l()(),t["\u0275eld"](360,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](362,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","reviewFrequency"],["id","reviewFrequency"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,363).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickReview(n)&&i),i},d.b,d.a)),t["\u0275did"](363,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,13,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](366,671744,null,0,o.h,[[3,o.b],[8,null],[8,null],[6,o.p],[2,o.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.q,null,[o.h]),t["\u0275did"](368,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](369,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](370,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[13,4]],f.a,null,[h.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Sl)),t["\u0275did"](373,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,kl)),t["\u0275did"](375,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Fl)),t["\u0275did"](377,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Rl)),t["\u0275did"](379,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ll)),t["\u0275did"](381,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ol)),t["\u0275did"](383,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](384,0,null,null,81,"div",[["class","margin-top-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](385,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](386,0,null,null,4,"div",[["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](387,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](388,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](389,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Target definition"])),(l()(),t["\u0275eld"](391,0,null,null,35,"div",[["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](392,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](393,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,El)),t["\u0275did"](395,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](396,0,null,null,28,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](397,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](398,0,null,null,7,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](399,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](400,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](401,0,null,null,4,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](402,0,null,null,1,"span",[["style","margin-bottom: 8px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Choose Form to fetch target data from"])),(l()(),t["\u0275eld"](404,0,null,null,1,"app-e4-combo-box",[["isDependent","true"],["placeholder","Search form"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onOpen"===e&&(t=!1!==i.onOpenFormSearchForTargetDef(n)&&t),"onSearch"===e&&(t=!1!==i.onTargetFormSearch(n)&&t),"onSelect"===e&&(t=!1!==i.onTargetFormSelected(n)&&t),t},P.b,P.a)),t["\u0275did"](405,4964352,null,0,S.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],isDisable:[2,"isDisable"],searchQuery:[3,"searchQuery"],placeholder:[4,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(l()(),t["\u0275eld"](406,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](407,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](408,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](409,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Choose Target Field "])),(l()(),t["\u0275eld"](411,0,null,null,1,"app-e4-combo-box",[["placeholder","Target"],["style","margin-top: 8px;"]],null,[[null,"onSelect"]],function(l,e,n){var t=!0;return"onSelect"===e&&(t=!1!==l.component.onSelectedTargetFormField(n)&&t),t},P.b,P.a)),t["\u0275did"](412,4964352,null,0,S.a,[t.ElementRef],{items:[0,"items"],isDisable:[1,"isDisable"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSelect:"onSelect"}),(l()(),t["\u0275eld"](413,0,null,null,11,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](414,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](415,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](416,0,null,null,8,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Aggregation Logic "])),(l()(),t["\u0275eld"](418,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["id","dataCaptureFrequencyAggrLogic"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,420).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.aggregationLogicSelected(n)&&i),i},d.b,d.a)),t["\u0275prd"](5120,null,o.p,function(l){return[l]},[c.a]),t["\u0275did"](420,1294336,null,1,c.a,[t.ElementRef,p.a,m.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],disabled:[4,"disabled"],appendInline:[5,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,17,{view:0}),(l()(),t["\u0275eld"](422,0,null,0,2,"ibm-dropdown-list",[],null,null,null,g.b,g.a)),t["\u0275did"](423,4374528,null,0,h.a,[t.ElementRef,p.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[17,4]],f.a,null,[h.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Al)),t["\u0275did"](426,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](427,0,null,null,33,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](428,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](429,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](430,0,null,null,30,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](431,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](432,0,null,null,26,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](433,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](434,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](435,0,null,null,23,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](436,0,null,null,6,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Action Limits "])),(l()(),t["\u0275eld"](438,0,null,null,4,"span",[["class","tooltip"]],null,null,null,null,null)),(l()(),t["\u0275eld"](439,0,null,null,1,":svg:svg",[["ibmIconHelp16",""]],null,null,null,null,null)),t["\u0275did"](440,4210688,null,0,k.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](441,0,null,null,1,"span",[["class","tooltiptext"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["A pragmatic approach automatically computes upper and lower action limits based on the pragmatic value provided. A manual approach would require the user to manually specify upper and lower action limits."])),(l()(),t["\u0275eld"](443,0,null,null,15,"ibm-radio-group",[["aria-label","radiogroup"]],[[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"]],function(l,e,n){var t=!0,i=l.component;return"ngModelChange"===e&&(t=!1!==(i.actionLimit=n)&&t),"change"===e&&(t=!1!==i.onRadioChange(n)&&t),t},G.b,G.a)),t["\u0275did"](444,5292032,null,1,W.a,[],null,{change:"change"}),t["\u0275qud"](603979776,18,{radios:1}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[W.a]),t["\u0275did"](447,671744,null,0,o.u,[[2,o.b],[8,null],[8,null],[6,o.p]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](448,{standalone:0}),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](450,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](451,0,null,0,3,"ibm-radio",[["value","PRAGMATIC"]],[[1,"title",0],[1,"role",0],[2,"bx--radio-button-wrapper",null],[2,"bx--radio-button-wrapper--label-left",null]],null,null,j.b,j.a)),t["\u0275prd"](5120,null,o.p,function(l){return[l]},[$.a]),t["\u0275did"](453,49152,[[18,4]],0,$.a,[],{checked:[0,"checked"],disabled:[1,"disabled"],value:[2,"value"]},null),(l()(),t["\u0275ted"](-1,0,[" Pragmatic (Recommended) "])),(l()(),t["\u0275eld"](455,0,null,0,3,"ibm-radio",[["value","MANUAL"]],[[1,"role",0],[2,"bx--radio-button-wrapper",null],[2,"bx--radio-button-wrapper--label-left",null]],null,null,j.b,j.a)),t["\u0275prd"](5120,null,o.p,function(l){return[l]},[$.a]),t["\u0275did"](457,49152,[[18,4]],0,$.a,[],{checked:[0,"checked"],value:[1,"value"]},null),(l()(),t["\u0275ted"](-1,0,[" Manual "])),(l()(),t["\u0275and"](16777216,null,null,1,null,_l)),t["\u0275did"](460,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](461,0,null,null,4,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](462,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](463,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,ql)),t["\u0275did"](465,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,le)),t["\u0275did"](467,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](468,0,null,null,1,"app-goalkpi-common",[],null,[[null,"updateAchievementLevelDataSource"],[null,"sourceItem"],[null,"ownerEvent"],[null,"groupEvent"],[null,"viewerEvent"],[null,"weighatgeEvent"]],function(l,e,n){var t=!0,i=l.component;return"updateAchievementLevelDataSource"===e&&(t=!1!==i.updateAchievementLevelDataSource(n)&&t),"sourceItem"===e&&(t=!1!==i.sourceEvent(n)&&t),"ownerEvent"===e&&(t=!1!==i.getOwner(n)&&t),"groupEvent"===e&&(t=!1!==i.getGroup(n)&&t),"viewerEvent"===e&&(t=!1!==i.getViewer(n)&&t),"weighatgeEvent"===e&&(t=!1!==i.setWeightage(n)&&t),t},Q.b,Q.a)),t["\u0275did"](469,638976,null,0,Z.a,[X.a,J.a,ll.j,el.a,nl.a,tl.a],{level:[0,"level"],isAddMode:[1,"isAddMode"],yearEndDate:[2,"yearEndDate"],yearStartDate:[3,"yearStartDate"],weightage:[4,"weightage"],selectedOwnersInputArray:[5,"selectedOwnersInputArray"],selectedViewersInputArray:[6,"selectedViewersInputArray"],selectedGroupsInputArray:[7,"selectedGroupsInputArray"],selectedSourceItemForReq:[8,"selectedSourceItemForReq"],expandAccordianItems:[9,"expandAccordianItems"]},{sourceItem:"sourceItem",ownerEvent:"ownerEvent",viewerEvent:"viewerEvent",groupEvent:"groupEvent",weighatgeEvent:"weighatgeEvent",updateAchievementLevelDataSource:"updateAchievementLevelDataSource"}),(l()(),t["\u0275and"](16777216,null,null,1,null,ee)),t["\u0275did"](471,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,7,0,n.kpiForm);var t=l(e,16,0,6,6,12);l(e,15,0,t),l(e,18,0,!n.isAddMode),l(e,20,0,n.isAddMode);var i=l(e,23,0,6,6,12);l(e,22,0,i),l(e,25,0,!n.isKPILoading),l(e,31,0,"1. KPI Information",n.expandAccordianItems);var a=l(e,38,0,6,6,12);l(e,37,0,a),l(e,40,0,"sm"),l(e,42,0,"extendKpi");var u=l(e,50,0,7,7,12);l(e,49,0,u);var o=l(e,55,0,4,4,12);l(e,54,0,o),l(e,61,0,"Choose","sm","single",!n.isAddMode,"true"),l(e,64,0,"financialYear",!n.isAddMode),l(e,68,0,n.yearList);var r=l(e,74,0,6,6,12);l(e,73,0,r),l(e,77,0,"sm"),l(e,79,0,"noParent");var s=l(e,87,0,6,6,12);l(e,86,0,s);var d=l(e,92,0,12,12,12);l(e,91,0,d),l(e,94,0,n.noParentKpi),l(e,96,0,!n.noParentKpi);var c=l(e,99,0,12,12,12);l(e,98,0,"margin-top-20",c),l(e,109,0,"title"),l(e,113,0,n.kpiForm.controls.title.invalid&&n.kpiForm.controls.title.touched||n.isSubmitClicked&&n.kpiForm.controls.title.invalid);var p=l(e,116,0,12,12,12);l(e,115,0,"margin-top-20",p),l(e,128,0,"500"),l(e,131,0,"kpiDescription"),l(e,135,0,n.kpiForm.controls.kpiDescription.invalid&&n.kpiForm.controls.kpiDescription.touched||n.isSubmitClicked&&n.kpiForm.controls.kpiDescription.invalid);var m=l(e,138,0,6,6,12);l(e,137,0,m);var g=l(e,143,0,8,8,12);l(e,142,0,g),l(e,149,0,"department","Choose","sm","single","true"),l(e,152,0,"department"),l(e,156,0,n.departmentList),l(e,159,0,n.kpiForm.controls.department.invalid&&n.kpiForm.controls.department.touched||n.isSubmitClicked&&n.kpiForm.controls.department.invalid);var h=l(e,162,0,4,4,12);l(e,161,0,h),l(e,168,0,"","Choose","sm","single","true"),l(e,171,0,"KpiType"),l(e,175,0,n.KpiItems),l(e,178,0,n.kpiForm.controls.KpiType.invalid&&n.kpiForm.controls.KpiType.touched||n.isSubmitClicked&&n.kpiForm.controls.KpiType.invalid);var f=l(e,183,0,4,4,12);l(e,182,0,f),l(e,189,0,"","Choose","sm","single","true"),l(e,192,0,"category"),l(e,196,0,n.categoryItems),l(e,199,0,n.kpiForm.controls.category.invalid&&n.kpiForm.controls.category.touched||n.isSubmitClicked&&n.kpiForm.controls.category.invalid);var v=l(e,202,0,4,4,12);l(e,201,0,v),l(e,208,0,"unitOfMeasurement","Choose","sm","single","true"),l(e,211,0,"unitOfMeasurement"),l(e,215,0,n.unitOfMeasurementItems),l(e,218,0,n.kpiForm.controls.unitOfMeasurement.invalid&&n.kpiForm.controls.unitOfMeasurement.touched||n.isSubmitClicked&&n.kpiForm.controls.unitOfMeasurement.invalid);var b=l(e,221,0,4,4,12);l(e,220,0,b),l(e,227,0,"directionOfGoodness","Choose","sm","single","true"),l(e,230,0,"directionOfGoodness"),l(e,234,0,n.directionOfGoodness),l(e,237,0,n.kpiForm.controls.directionOfGoodness.invalid&&n.kpiForm.controls.directionOfGoodness.touched||n.isSubmitClicked&&n.kpiForm.controls.directionOfGoodness.invalid);var C=l(e,242,0,12,12,12);l(e,241,0,"remark-container",C);var y=l(e,247,0,12,12,12);l(e,246,0,y),l(e,256,0,"500"),l(e,259,0,"remark");var x=l(e,266,0,12,12,12);l(e,265,0,x),l(e,275,0,"2. Deployment Tree",n.expandAccordianItems);var w=l(e,282,0,6,6,12);l(e,281,0,w),l(e,284,0,n.deploymentTreeConfig);var I=l(e,287,0,6,6,12);l(e,286,0,I),l(e,289,0,"3. Set DCF, DRF & Targets",n.expandAccordianItems);var D=l(e,296,0,6,6,12);l(e,295,0,D);var T=l(e,301,0,4,4,12);l(e,300,0,T),l(e,307,0,"ytd","Choose","sm","single","true"),l(e,310,0,"ytdCalculation"),l(e,314,0,n.ytdCalculation),l(e,317,0,n.kpiForm.controls.ytdCalculation.invalid&&n.kpiForm.controls.ytdCalculation.touched||n.isSubmitClicked&&n.kpiForm.controls.ytdCalculation.invalid);var M=l(e,320,0,4,4,12);l(e,319,0,M),l(e,328,0,"annualTarget");var P=l(e,333,0,4,4,12);l(e,332,0,P),l(e,339,0,"dataCaptureFrequency","Choose","sm","single","true"),l(e,342,0,"dataCaptureFrequency"),l(e,346,0,n.filteredFrequencyItems),l(e,349,0,n.kpiForm.controls.dataCaptureFrequency.invalid&&n.kpiForm.controls.dataCaptureFrequency.touched||n.isSubmitClicked&&n.kpiForm.controls.dataCaptureFrequency.invalid);var S=l(e,352,0,6,6,12);l(e,351,0,S);var k=l(e,357,0,4,4,12);l(e,356,0,k),l(e,363,0,"reviewFrequency","Choose","sm","single","true"),l(e,366,0,"reviewFrequency"),l(e,370,0,n.filteredReviewFrequencyItems),l(e,373,0,n.kpiForm.controls.reviewFrequency.invalid&&n.kpiForm.controls.reviewFrequency.touched||n.isSubmitClicked&&n.kpiForm.controls.reviewFrequency.invalid),l(e,375,0,"SHIFT WISE"===n.captureType),l(e,377,0,"WEEKLY"===n.captureType),l(e,379,0,"MONTHLY"===n.captureType),l(e,381,0,"SHIFT WISE"===n.captureType&&0!=n.selectedShifttem.length||"DAILY"===n.captureType||"HOURLY"===n.captureType),l(e,383,0,"FORMULA"===n.selectedYTDValue);var F=l(e,388,0,12,12,12);l(e,387,0,F);var R=l(e,393,0,12,12,12);l(e,392,0,R),l(e,395,0,"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType);var L=l(e,400,0,3,3,12);l(e,399,0,L),l(e,405,0,n.searchedFormsForStratify,"true",!(n.useForStratefyTarget&&"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType),n.targetFormQuery,"Search form");var O=l(e,408,0,3,3,12);l(e,407,0,O),l(e,412,0,n.targetFormFieldList,!(n.useForStratefyTarget&&"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType),n.targetQuery,"Target");var N=l(e,415,0,3,3,12);l(e,414,0,N),l(e,420,0,"dataCaptureFrequencyAggrLogic","Choose","sm","single",!(n.useForStratefyTarget&&"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType),"true"),l(e,423,0,n.dataCaptureFrequencyAggrLogicItems),l(e,426,0,n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit);var E=l(e,429,0,12,12,12);l(e,428,0,E);var A=l(e,434,0,3,3,12);l(e,433,0,A);var Y=n.actionLimit,_=l(e,448,0,!0);l(e,447,0,Y,_),l(e,453,0,"PRAGMATIC"===n.actionLimit,n.disablePragmaticRadioOption,"PRAGMATIC"),l(e,457,0,"MANUAL"===n.actionLimit,"MANUAL"),l(e,460,0,"PRAGMATIC"===n.actionLimit);var U=l(e,463,0,12,12,12);l(e,462,0,U),l(e,465,0,(null==n.monthlyItemsShow?null:n.monthlyItemsShow.length)&&(!(n.useForStratefyTarget&&n.useForStratifyLowerUpper)&&"PRAGMATIC"!==n.actionLimit||!n.useForStratefyTarget&&"PRAGMATIC"===n.actionLimit)&&"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType),l(e,467,0,!(n.useForStratefyTarget&&n.useForStratifyLowerUpper)&&"PRAGMATIC"!==n.actionLimit||!n.useForStratefyTarget&&"PRAGMATIC"===n.actionLimit),l(e,469,0,4,n.isAddMode,n.yearEndDate,n.yearStartDate,n.weightage,n.owners,n.viewers,n.groups,n.achievementLevelDataSource,n.expandAccordianItems),l(e,471,0,n.isKPILoading)},function(l,e){var n=e.component;l(e,2,0,t["\u0275nov"](e,3).baseClass),l(e,5,0,!0===n.isKPILoading,t["\u0275nov"](e,9).ngClassUntouched,t["\u0275nov"](e,9).ngClassTouched,t["\u0275nov"](e,9).ngClassPristine,t["\u0275nov"](e,9).ngClassDirty,t["\u0275nov"](e,9).ngClassValid,t["\u0275nov"](e,9).ngClassInvalid,t["\u0275nov"](e,9).ngClassPending),l(e,10,0,t["\u0275nov"](e,11).baseClass),l(e,12,0,t["\u0275nov"](e,13).baseClass),l(e,14,0,t["\u0275nov"](e,15).columnClasses),l(e,21,0,t["\u0275nov"](e,22).columnClasses),l(e,30,0,t["\u0275nov"](e,31).itemClass,t["\u0275nov"](e,31).expanded,t["\u0275nov"](e,31).itemType,t["\u0275nov"](e,31).role,t["\u0275nov"](e,31).ariaLevel),l(e,32,0,t["\u0275nov"](e,33).baseClass),l(e,34,0,t["\u0275nov"](e,35).baseClass),l(e,36,0,t["\u0275nov"](e,37).columnClasses),l(e,39,0,t["\u0275nov"](e,40).checkboxWrapperClass,t["\u0275nov"](e,40).formItemClass,t["\u0275nov"](e,44).ngClassUntouched,t["\u0275nov"](e,44).ngClassTouched,t["\u0275nov"](e,44).ngClassPristine,t["\u0275nov"](e,44).ngClassDirty,t["\u0275nov"](e,44).ngClassValid,t["\u0275nov"](e,44).ngClassInvalid,t["\u0275nov"](e,44).ngClassPending),l(e,46,0,t["\u0275nov"](e,47).baseClass),l(e,48,0,t["\u0275nov"](e,49).columnClasses),l(e,51,0,t["\u0275nov"](e,52).baseClass),l(e,53,0,t["\u0275nov"](e,54).columnClasses),l(e,60,0,t["\u0275nov"](e,61).hostClass,t["\u0275nov"](e,66).ngClassUntouched,t["\u0275nov"](e,66).ngClassTouched,t["\u0275nov"](e,66).ngClassPristine,t["\u0275nov"](e,66).ngClassDirty,t["\u0275nov"](e,66).ngClassValid,t["\u0275nov"](e,66).ngClassInvalid,t["\u0275nov"](e,66).ngClassPending),l(e,70,0,t["\u0275nov"](e,71).baseClass),l(e,72,0,t["\u0275nov"](e,73).columnClasses),l(e,76,0,t["\u0275nov"](e,77).checkboxWrapperClass,t["\u0275nov"](e,77).formItemClass,t["\u0275nov"](e,81).ngClassUntouched,t["\u0275nov"](e,81).ngClassTouched,t["\u0275nov"](e,81).ngClassPristine,t["\u0275nov"](e,81).ngClassDirty,t["\u0275nov"](e,81).ngClassValid,t["\u0275nov"](e,81).ngClassInvalid,t["\u0275nov"](e,81).ngClassPending),l(e,83,0,t["\u0275nov"](e,84).baseClass),l(e,85,0,t["\u0275nov"](e,86).columnClasses),l(e,88,0,t["\u0275nov"](e,89).baseClass),l(e,90,0,t["\u0275nov"](e,91).columnClasses),l(e,97,0,t["\u0275nov"](e,98).columnClasses),l(e,100,0,t["\u0275nov"](e,101).labelClass),l(e,105,1,[t["\u0275nov"](e,106).inputClass,t["\u0275nov"](e,106).invalid,t["\u0275nov"](e,106).skeleton,t["\u0275nov"](e,106).isLightTheme,t["\u0275nov"](e,111).ngClassUntouched,t["\u0275nov"](e,111).ngClassTouched,t["\u0275nov"](e,111).ngClassPristine,t["\u0275nov"](e,111).ngClassDirty,t["\u0275nov"](e,111).ngClassValid,t["\u0275nov"](e,111).ngClassInvalid,t["\u0275nov"](e,111).ngClassPending]),l(e,114,0,t["\u0275nov"](e,115).columnClasses),l(e,117,0,t["\u0275nov"](e,118).labelClass),l(e,124,0,n.kpiForm.value.kpiDescription.length),l(e,125,1,[t["\u0275nov"](e,126).baseClass,t["\u0275nov"](e,126).invalid,t["\u0275nov"](e,126).skeleton,t["\u0275nov"](e,126).isLightTheme,t["\u0275nov"](e,128).maxlength?t["\u0275nov"](e,128).maxlength:null,t["\u0275nov"](e,133).ngClassUntouched,t["\u0275nov"](e,133).ngClassTouched,t["\u0275nov"](e,133).ngClassPristine,t["\u0275nov"](e,133).ngClassDirty,t["\u0275nov"](e,133).ngClassValid,t["\u0275nov"](e,133).ngClassInvalid,t["\u0275nov"](e,133).ngClassPending]),l(e,136,0,t["\u0275nov"](e,137).columnClasses),l(e,139,0,t["\u0275nov"](e,140).baseClass),l(e,141,0,t["\u0275nov"](e,142).columnClasses),l(e,148,0,t["\u0275nov"](e,149).hostClass,t["\u0275nov"](e,154).ngClassUntouched,t["\u0275nov"](e,154).ngClassTouched,t["\u0275nov"](e,154).ngClassPristine,t["\u0275nov"](e,154).ngClassDirty,t["\u0275nov"](e,154).ngClassValid,t["\u0275nov"](e,154).ngClassInvalid,t["\u0275nov"](e,154).ngClassPending),l(e,160,0,t["\u0275nov"](e,161).columnClasses),l(e,167,0,t["\u0275nov"](e,168).hostClass,t["\u0275nov"](e,173).ngClassUntouched,t["\u0275nov"](e,173).ngClassTouched,t["\u0275nov"](e,173).ngClassPristine,t["\u0275nov"](e,173).ngClassDirty,t["\u0275nov"](e,173).ngClassValid,t["\u0275nov"](e,173).ngClassInvalid,t["\u0275nov"](e,173).ngClassPending),l(e,179,0,t["\u0275nov"](e,180).baseClass),l(e,181,0,t["\u0275nov"](e,182).columnClasses),l(e,188,0,t["\u0275nov"](e,189).hostClass,t["\u0275nov"](e,194).ngClassUntouched,t["\u0275nov"](e,194).ngClassTouched,t["\u0275nov"](e,194).ngClassPristine,t["\u0275nov"](e,194).ngClassDirty,t["\u0275nov"](e,194).ngClassValid,t["\u0275nov"](e,194).ngClassInvalid,t["\u0275nov"](e,194).ngClassPending),l(e,200,0,t["\u0275nov"](e,201).columnClasses),l(e,207,0,t["\u0275nov"](e,208).hostClass,t["\u0275nov"](e,213).ngClassUntouched,t["\u0275nov"](e,213).ngClassTouched,t["\u0275nov"](e,213).ngClassPristine,t["\u0275nov"](e,213).ngClassDirty,t["\u0275nov"](e,213).ngClassValid,t["\u0275nov"](e,213).ngClassInvalid,t["\u0275nov"](e,213).ngClassPending),l(e,219,0,t["\u0275nov"](e,220).columnClasses),l(e,226,0,t["\u0275nov"](e,227).hostClass,t["\u0275nov"](e,232).ngClassUntouched,t["\u0275nov"](e,232).ngClassTouched,t["\u0275nov"](e,232).ngClassPristine,t["\u0275nov"](e,232).ngClassDirty,t["\u0275nov"](e,232).ngClassValid,t["\u0275nov"](e,232).ngClassInvalid,t["\u0275nov"](e,232).ngClassPending),l(e,238,0,t["\u0275nov"](e,239).baseClass),l(e,240,0,t["\u0275nov"](e,241).columnClasses),l(e,243,0,t["\u0275nov"](e,244).baseClass),l(e,245,0,t["\u0275nov"](e,246).columnClasses,t["\u0275nov"](e,248).labelClass),l(e,252,0,n.kpiForm.value.remark.length),l(e,253,1,[t["\u0275nov"](e,254).baseClass,t["\u0275nov"](e,254).invalid,t["\u0275nov"](e,254).skeleton,t["\u0275nov"](e,254).isLightTheme,t["\u0275nov"](e,256).maxlength?t["\u0275nov"](e,256).maxlength:null,t["\u0275nov"](e,261).ngClassUntouched,t["\u0275nov"](e,261).ngClassTouched,t["\u0275nov"](e,261).ngClassPristine,t["\u0275nov"](e,261).ngClassDirty,t["\u0275nov"](e,261).ngClassValid,t["\u0275nov"](e,261).ngClassInvalid,t["\u0275nov"](e,261).ngClassPending]),l(e,262,0,t["\u0275nov"](e,263).baseClass),l(e,264,0,t["\u0275nov"](e,265).columnClasses),l(e,270,0,null!=n.attachmentFile&&n.attachmentFile.name?null==n.attachmentFile?null:n.attachmentFile.name:"Select file"),l(e,271,0,t["\u0275inlineInterpolate"](1,"",n.supportedAttachmentFormats,"")),l(e,274,0,t["\u0275nov"](e,275).itemClass,t["\u0275nov"](e,275).expanded,t["\u0275nov"](e,275).itemType,t["\u0275nov"](e,275).role,t["\u0275nov"](e,275).ariaLevel),l(e,276,0,t["\u0275nov"](e,277).baseClass),l(e,278,0,t["\u0275nov"](e,279).baseClass),l(e,280,0,t["\u0275nov"](e,281).columnClasses),l(e,285,0,t["\u0275nov"](e,286).columnClasses),l(e,288,0,t["\u0275nov"](e,289).itemClass,t["\u0275nov"](e,289).expanded,t["\u0275nov"](e,289).itemType,t["\u0275nov"](e,289).role,t["\u0275nov"](e,289).ariaLevel),l(e,290,0,t["\u0275nov"](e,291).baseClass),l(e,292,0,t["\u0275nov"](e,293).baseClass),l(e,294,0,t["\u0275nov"](e,295).columnClasses),l(e,297,0,t["\u0275nov"](e,298).baseClass),l(e,299,0,t["\u0275nov"](e,300).columnClasses),l(e,306,0,t["\u0275nov"](e,307).hostClass,t["\u0275nov"](e,312).ngClassUntouched,t["\u0275nov"](e,312).ngClassTouched,t["\u0275nov"](e,312).ngClassPristine,t["\u0275nov"](e,312).ngClassDirty,t["\u0275nov"](e,312).ngClassValid,t["\u0275nov"](e,312).ngClassInvalid,t["\u0275nov"](e,312).ngClassPending),l(e,318,0,t["\u0275nov"](e,319).columnClasses),l(e,321,0,t["\u0275nov"](e,322).labelClass),l(e,324,1,[t["\u0275nov"](e,325).inputClass,t["\u0275nov"](e,325).invalid,t["\u0275nov"](e,325).skeleton,t["\u0275nov"](e,325).isLightTheme,t["\u0275nov"](e,330).ngClassUntouched,t["\u0275nov"](e,330).ngClassTouched,t["\u0275nov"](e,330).ngClassPristine,t["\u0275nov"](e,330).ngClassDirty,t["\u0275nov"](e,330).ngClassValid,t["\u0275nov"](e,330).ngClassInvalid,t["\u0275nov"](e,330).ngClassPending]),l(e,331,0,t["\u0275nov"](e,332).columnClasses),l(e,338,0,t["\u0275nov"](e,339).hostClass,t["\u0275nov"](e,344).ngClassUntouched,t["\u0275nov"](e,344).ngClassTouched,t["\u0275nov"](e,344).ngClassPristine,t["\u0275nov"](e,344).ngClassDirty,t["\u0275nov"](e,344).ngClassValid,t["\u0275nov"](e,344).ngClassInvalid,t["\u0275nov"](e,344).ngClassPending),l(e,350,0,t["\u0275nov"](e,351).columnClasses),l(e,353,0,t["\u0275nov"](e,354).baseClass),l(e,355,0,t["\u0275nov"](e,356).columnClasses),l(e,362,0,t["\u0275nov"](e,363).hostClass,t["\u0275nov"](e,368).ngClassUntouched,t["\u0275nov"](e,368).ngClassTouched,t["\u0275nov"](e,368).ngClassPristine,t["\u0275nov"](e,368).ngClassDirty,t["\u0275nov"](e,368).ngClassValid,t["\u0275nov"](e,368).ngClassInvalid,t["\u0275nov"](e,368).ngClassPending),l(e,384,0,t["\u0275nov"](e,385).baseClass),l(e,386,0,t["\u0275nov"](e,387).columnClasses),l(e,391,0,t["\u0275nov"](e,392).columnClasses),l(e,396,0,t["\u0275nov"](e,397).baseClass),l(e,398,0,t["\u0275nov"](e,399).columnClasses),l(e,406,0,t["\u0275nov"](e,407).columnClasses),l(e,413,0,t["\u0275nov"](e,414).columnClasses),l(e,418,0,t["\u0275nov"](e,420).hostClass),l(e,427,0,t["\u0275nov"](e,428).columnClasses),l(e,430,0,t["\u0275nov"](e,431).baseClass),l(e,432,0,t["\u0275nov"](e,433).columnClasses),l(e,443,0,t["\u0275nov"](e,444).radioButtonGroupClass,t["\u0275nov"](e,450).ngClassUntouched,t["\u0275nov"](e,450).ngClassTouched,t["\u0275nov"](e,450).ngClassPristine,t["\u0275nov"](e,450).ngClassDirty,t["\u0275nov"](e,450).ngClassValid,t["\u0275nov"](e,450).ngClassInvalid,t["\u0275nov"](e,450).ngClassPending),l(e,451,0,n.disablePragmaticRadioOption?n.getTitleForLimits():"",t["\u0275nov"](e,453).role,t["\u0275nov"](e,453).hostClass,t["\u0275nov"](e,453).labelLeft),l(e,455,0,t["\u0275nov"](e,457).role,t["\u0275nov"](e,457).hostClass,t["\u0275nov"](e,457).labelLeft),l(e,461,0,t["\u0275nov"](e,462).columnClasses)})}function te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-kpi-add",[],null,null,null,ne,cl)),t["\u0275did"](1,245760,null,0,il.a,[X.a,al.a,ul.a,o.f,ll.j,ol.l,rl.a,sl.a,ol.a,dl.a,el.a],null,null)],function(l,e){l(e,1,0)},null)}var ie=t["\u0275ccf"]("app-kpi-add",il.a,te,{},{},[])},N2qt:function(l,e,n){"use strict";var t=n("8Y7J"),i=n("IcCv"),a=n("A+V5"),u=n("1V2r"),o=n("s7LF"),r=n("gLoP"),s=n("mEpm"),d=n("i3NF"),c=n("FNXg"),p=n("1ZgJ"),m=n("baZm"),g=n("SVse"),h=n("BTng"),f=n("oljc"),v=n("+jrW"),b=n("QQfA"),C=n("Lb5T"),y=n("SuBU"),x=n("KeT7"),w=n("noyz"),I=n("XvC9"),D=n("kqF4"),T=n("tKJU"),M=n("uUZD"),P=n("+4Gi"),S=n("Jsk+"),k=n("bW04"),F=n("Atj1"),R=n("PJ54"),L=n("qDrF"),O=n("/4G1"),N=n("5Pgy"),E=n("K8sf"),A=n("/tQ4"),Y=n("wE4S"),_=n("H6Gp"),U=n("Eh7y"),V=n("cLLN"),q=n("Myuu"),K=n("fMlX"),H=n("g7AK"),z=n("DoOu"),B=n("fF59"),G=n("M+tS"),W=n("3yNS"),j=n("jGGp"),$=n("TXHj"),Q=n("GDFe"),Z=n("iInd"),X=n("PsxR"),J=n("+Kk7"),ll=n("XX5M"),el=n("qHnB"),nl=n("Z3BZ"),tl=n("MqE1"),il=n("EApP"),al=n("Dnte");n.d(e,"a",function(){return An});var ul=t["\u0275crt"]({encapsulation:0,styles:[[".kpi-details-container[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px;padding-top:3rem;background-color:#fff}.kpi-details-container[_ngcontent-%COMP%]   .margin-bottom-30[_ngcontent-%COMP%]{margin-bottom:30px}.kpi-details-container[_ngcontent-%COMP%]   .rTable[_ngcontent-%COMP%]{display:flex;flex-direction:column}.kpi-details-container[_ngcontent-%COMP%]   .rTableRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%;background-color:#fff}.kpi-details-container[_ngcontent-%COMP%]   .rTableRow.analyisis-n-learning-header[_ngcontent-%COMP%]{margin-bottom:0}.kpi-details-container[_ngcontent-%COMP%]   .rTableHead[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1;line-height:22px;color:#000;font-size:16px}.kpi-details-container[_ngcontent-%COMP%]   .rTableCell[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1;line-height:22px;align-items:baseline;font-size:16px!important;color:#000!important}.kpi-details-container[_ngcontent-%COMP%]   .tableHeads[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f3f3f3;padding:16px}.kpi-details-container[_ngcontent-%COMP%]   .flex-2[_ngcontent-%COMP%]{width:130px!important;margin-right:15px!important}.kpi-details-container[_ngcontent-%COMP%]   .analysis-date[_ngcontent-%COMP%]{color:#959595;font-family:'IBM Plex Sans';font-size:10px;line-height:13px}.kpi-details-container[_ngcontent-%COMP%]   .analysis-text[_ngcontent-%COMP%]{color:rgba(0,0,0,.85);font-family:'IBM Plex Sans';font-size:15px;padding-right:32px;line-height:19px}.kpi-details-container[_ngcontent-%COMP%]   .rTableRowWrapper[_ngcontent-%COMP%]{display:flex;align-items:center;border-bottom:1px solid #f2f3f9;border-top:1px solid #f2f3f9;border-right:1px solid #f2f3f9;margin-bottom:4px}.kpi-details-container[_ngcontent-%COMP%]   .rTableRowWrapper.tree-list-child[_ngcontent-%COMP%]{width:calc(100% - 12px)}.kpi-details-container[_ngcontent-%COMP%]   .percentage-text[_ngcontent-%COMP%]{color:#000;font-family:'IBM Plex Sans';font-size:16px;font-weight:500;line-height:14px!important;width:100%}.kpi-details-container[_ngcontent-%COMP%]   .percentage-text-ytd[_ngcontent-%COMP%]{color:#000;font-family:'IBM Plex Sans';font-size:12px;line-height:22px;padding:0 3px}.kpi-details-container[_ngcontent-%COMP%]   .d-p[_ngcontent-%COMP%]{color:#9f9f9f;font-family:'IBM Plex Sans';font-size:16px;line-height:20px}.kpi-details-container[_ngcontent-%COMP%]   .attachmentColumnCell[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:.7}.kpi-details-container[_ngcontent-%COMP%]   .expandedIconCell[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:.4}.kpi-details-container[_ngcontent-%COMP%]   .search-text-input[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:13px}.kpi-details-container[_ngcontent-%COMP%]   .search-text-input.bx--search-input[_ngcontent-%COMP%]{border-bottom:none}.kpi-details-container[_ngcontent-%COMP%]   .ractionTableCell[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1;overflow-wrap:anywhere;padding-right:2px}.kpi-details-container[_ngcontent-%COMP%]   .actionTableCellFont[_ngcontent-%COMP%]{font-size:16px;color:#000}.kpi-details-container[_ngcontent-%COMP%]   .actionTableHeads[_ngcontent-%COMP%]{border-top:5px;display:flex;height:64px;background-color:#f4f7fe;padding:16px;text-overflow:ellipsis}.kpi-details-container[_ngcontent-%COMP%]   .flex-3[_ngcontent-%COMP%]{flex:3;max-width:320px!important}.kpi-details-container[_ngcontent-%COMP%]   .analysisTableHeads[_ngcontent-%COMP%]{display:flex;height:64px;background-color:#e0e0e0;padding:16px}.kpi-details-container[_ngcontent-%COMP%]   .subscript[_ngcontent-%COMP%], .kpi-details-container[_ngcontent-%COMP%]   .superscript[_ngcontent-%COMP%]{display:block;position:relative;left:2px;top:-10px;font-size:12px}.kpi-details-container[_ngcontent-%COMP%]   .ractionTableRowWrapper[_ngcontent-%COMP%]{width:100%;min-height:64px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:16px;display:flex;background-color:#f4f7fe;border-width:1px 0 0;border-style:groove;border-color:#d8e0f2}.kpi-details-container[_ngcontent-%COMP%]   .ranalysisTableRowWrapper[_ngcontent-%COMP%]{width:100%;min-height:64px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:16px;display:flex;background-color:#f4f4f4}.kpi-details-container[_ngcontent-%COMP%]   .width60[_ngcontent-%COMP%]{max-width:60px}.kpi-details-container[_ngcontent-%COMP%]   .width100[_ngcontent-%COMP%]{max-width:100px}.kpi-details-container[_ngcontent-%COMP%]   .width90[_ngcontent-%COMP%]{max-width:120px}.kpi-details-container[_ngcontent-%COMP%]   .width120[_ngcontent-%COMP%]{min-width:120px}.kpi-details-container[_ngcontent-%COMP%]   .width140[_ngcontent-%COMP%]{min-width:150px}.kpi-details-container[_ngcontent-%COMP%]   .width155[_ngcontent-%COMP%]{min-width:155px}.kpi-details-container[_ngcontent-%COMP%]   .e4-tag[_ngcontent-%COMP%]{padding:16px 24px}.kpi-details-container[_ngcontent-%COMP%]   .e4-tag.green[_ngcontent-%COMP%]{background-color:#24a249;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px}.kpi-details-container[_ngcontent-%COMP%]   .e4-tag.orange[_ngcontent-%COMP%]{background-color:#f3a600;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px}.kpi-details-container[_ngcontent-%COMP%]   .e4-tag.blue[_ngcontent-%COMP%]{background-color:#7598fe;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px}.kpi-details-container[_ngcontent-%COMP%]   .e4-tag.gray[_ngcontent-%COMP%]{background-color:#979797;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px}.kpi-details-container[_ngcontent-%COMP%]   .tag-normal.bx--tag[_ngcontent-%COMP%]{padding:0;margin:0;width:42px;height:24px;display:flex;align-items:center;justify-content:center}.kpi-details-container[_ngcontent-%COMP%]   .flex-2[_ngcontent-%COMP%]{flex:2!important}.kpi-details-container[_ngcontent-%COMP%]   .flex2[_ngcontent-%COMP%]{width:130px!important}.kpi-details-container[_ngcontent-%COMP%]   .flex-direction-row[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.kpi-details-container[_ngcontent-%COMP%]   .owner-label[_ngcontent-%COMP%]{color:#8d8d8d}.kpi-details-container[_ngcontent-%COMP%]   .e4-custom-tag[_ngcontent-%COMP%]{background-color:#7598fe;width:42px;height:20px;text-align:center;display:flex;border-radius:10px;align-items:center;justify-content:center;margin-right:12px;color:#fff}.kpi-details-container[_ngcontent-%COMP%]   .margin-right-5[_ngcontent-%COMP%]{margin-right:5px}.kpi-details-container[_ngcontent-%COMP%]   .rTableRowWrapper[_ngcontent-%COMP%]{width:100%;padding:12px!important;display:flex}.kpi-details-container[_ngcontent-%COMP%]   .svg-red[_ngcontent-%COMP%]{width:16px;height:16px;fill:#fff;background-color:red;border-radius:50%}.kpi-details-container[_ngcontent-%COMP%]   .svg-green[_ngcontent-%COMP%]{width:16px;height:16px;fill:#fff;background-color:green;border-radius:50%}.kpi-details-container[_ngcontent-%COMP%]   .assinged-to-text[_ngcontent-%COMP%], .kpi-details-container[_ngcontent-%COMP%]   .assinged-to-text-normal[_ngcontent-%COMP%]{color:#000;font-family:'IBM Plex Sans';font-size:16px;line-height:13px}.kpi-details-container[_ngcontent-%COMP%]   .display-inline[_ngcontent-%COMP%]{display:inline}.kpi-details-container[_ngcontent-%COMP%]   .margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.kpi-details-container[_ngcontent-%COMP%]   .margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.kpi-details-container[_ngcontent-%COMP%]   .border-left-blue[_ngcontent-%COMP%]{border-left:5px solid #7598fe}.kpi-details-container[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{color:#9f9f9f;font-family:'IBM Plex Sans';font-size:16px;line-height:20px}.kpi-details-container[_ngcontent-%COMP%]   .align-items-center[_ngcontent-%COMP%]{align-items:center}.kpi-details-container[_ngcontent-%COMP%]   .chev-exp-col[_ngcontent-%COMP%]{fill:#565656}.kpi-details-container[_ngcontent-%COMP%]   .align-items-end[_ngcontent-%COMP%]{align-items:flex-end}.kpi-details-container[_ngcontent-%COMP%]   .group-bar-chart-container[_ngcontent-%COMP%]{display:flex;margin-top:20px}.kpi-details-container[_ngcontent-%COMP%]   .chart-cont[_ngcontent-%COMP%]{height:100%!important}.kpi-details-container[_ngcontent-%COMP%]   .d3-chart[_ngcontent-%COMP%]{max-height:100%!important;width:100%!important}.kpi-details-container[_ngcontent-%COMP%]   .chart-dim[_ngcontent-%COMP%]{border:1px solid #f2f3f9;height:720px;flex:2}.kpi-details-container[_ngcontent-%COMP%]   .chart-dim[_ngcontent-%COMP%]:nth-child(1){flex:1;margin-right:20px}.kpi-details-container[_ngcontent-%COMP%]   .add-analysis-btn-cnt[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.kpi-details-container[_ngcontent-%COMP%]   .display-flex[_ngcontent-%COMP%]{display:flex}.kpi-details-container[_ngcontent-%COMP%]   .analysis-container[_ngcontent-%COMP%]{display:flex;width:100%;border:1px solid #f2f3f9}.kpi-details-container[_ngcontent-%COMP%]   .analysis-container[_ngcontent-%COMP%]   .analysis-desc[_ngcontent-%COMP%]{margin-top:10px;color:#414042;font-size:16px;line-height:20px}.kpi-details-container[_ngcontent-%COMP%]   .analysis-container[_ngcontent-%COMP%]   .analysis-date[_ngcontent-%COMP%]{margin-top:10px;color:#8d8d8d;font-size:12px;font-weight:300;line-height:15px}.kpi-details-container[_ngcontent-%COMP%]   .remark-container[_ngcontent-%COMP%]{flex:1;padding:16px;background-color:#f3f3f4}.kpi-details-container[_ngcontent-%COMP%]   .remark-container[_ngcontent-%COMP%]   .remark-desc[_ngcontent-%COMP%]{color:#414042;font-size:13px;line-height:17px;margin-top:10px}.kpi-details-container[_ngcontent-%COMP%]   .add-analysis-btn-cnt[_ngcontent-%COMP%]{align-items:flex-end;display:flex;margin-top:20px}.kpi-details-container[_ngcontent-%COMP%]   .flex-1-padding-16[_ngcontent-%COMP%]{flex:1;padding:16px}.kpi-details-container[_ngcontent-%COMP%]   .flex-2-padding-16[_ngcontent-%COMP%]{flex:2;padding:16px}.kpi-details-container[_ngcontent-%COMP%]   .padding-16[_ngcontent-%COMP%]{padding:16px}.kpi-details-container[_ngcontent-%COMP%]   .action-remark-value-cnt[_ngcontent-%COMP%]{background-color:#f4f7fe}.kpi-details-container[_ngcontent-%COMP%]   .action-remark-value-cnt[_ngcontent-%COMP%]   .col-action-planned[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;border-bottom:1px solid #d8e0f2}.kpi-details-container[_ngcontent-%COMP%]   .action-remark-value-cnt[_ngcontent-%COMP%]   .add-action-btn[_ngcontent-%COMP%]{color:#7598fe;font-size:14px;font-weight:500;line-height:18px;cursor:pointer}.kpi-details-container[_ngcontent-%COMP%]   .action-planned-row[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;border-bottom:1px solid #d8e0f2;margin-bottom:10px}.kpi-details-container[_ngcontent-%COMP%]   .action-planned-row[_ngcontent-%COMP%]   .action-planned-title[_ngcontent-%COMP%]{color:#8d8d8d;font-size:12px;font-weight:300;line-height:15px;margin-bottom:10px}.kpi-details-container[_ngcontent-%COMP%]   .action-planned-row[_ngcontent-%COMP%]   .action-planned-desc[_ngcontent-%COMP%]{color:#565656;font-size:12px;line-height:15px;margin-top:10px}.kpi-details-container[_ngcontent-%COMP%]   .action-planned-row[_ngcontent-%COMP%]   .action-date[_ngcontent-%COMP%], .kpi-details-container[_ngcontent-%COMP%]   .action-planned-row[_ngcontent-%COMP%]   .action-expectation[_ngcontent-%COMP%], .kpi-details-container[_ngcontent-%COMP%]   .action-planned-row[_ngcontent-%COMP%]   .action-status[_ngcontent-%COMP%], .kpi-details-container[_ngcontent-%COMP%]   .action-planned-row[_ngcontent-%COMP%]   .owner-name[_ngcontent-%COMP%]{flex:1;color:#565656;font-size:12px;line-height:15px;padding:16px}.kpi-details-container[_ngcontent-%COMP%]   .flex-2[_ngcontent-%COMP%]{flex:2}.kpi-details-container[_ngcontent-%COMP%]   .flex-1[_ngcontent-%COMP%]{flex:1}.kpi-details-container[_ngcontent-%COMP%]   .margin-bottom-5[_ngcontent-%COMP%]{margin-bottom:5px}.kpi-details-container[_ngcontent-%COMP%]   .display-flex-center-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.border-right-bottom[_ngcontent-%COMP%]{border-right:1px solid #fff;border-bottom:1px solid #bebebe}.margin-bottom-16[_ngcontent-%COMP%]{margin-bottom:16px}.green-prog[_ngcontent-%COMP%]{color:green}.red-prog[_ngcontent-%COMP%]{color:red}.pi-drop-dates[_ngcontent-%COMP%], .pi-drop-element[_ngcontent-%COMP%]{margin-right:8px}.pi-drop-dates[_ngcontent-%COMP%]{display:flex}.endDate[_ngcontent-%COMP%], .startDate[_ngcontent-%COMP%]{margin-left:8px}.chart-label[_ngcontent-%COMP%]{font-size:18px;margin-top:18px;margin-bottom:16px;margin-left:8px;font-weight:600}.text-two-line[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.violet-border[_ngcontent-%COMP%]{border-left:3px solid #1b2966!important}.margin2[_ngcontent-%COMP%]{margin:2px 0!important}.bx--btn--secondary[_ngcontent-%COMP%]{background-color:#393939;padding-right:12px}.date-picker-new-cont[_ngcontent-%COMP%]   .cal-icon[_ngcontent-%COMP%]{top:32px}.current-archived-tabs[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.title-per[_ngcontent-%COMP%]{font-size:32px}strong[_ngcontent-%COMP%]{font-weight:700}.delivery-schedule-ad[_ngcontent-%COMP%]{font-weight:600;padding-right:5px}.icon-16-green[_ngcontent-%COMP%]{width:22px;height:22px;fill:green}.icon-16-red[_ngcontent-%COMP%]{width:22px;height:22px;fill:red}.mat-dialog-container[_ngcontent-%COMP%]{width:400px;visibility:visible;position:absolute;left:0;top:0;z-index:99999999!important;background-color:#fff!important}.kpi-details-container[_ngcontent-%COMP%]{margin-bottom:40px}.expandedIconCell[_ngcontent-%COMP%]{padding:0}.bx--overflow-menu[_ngcontent-%COMP%]{padding-right:16px}.overflowCell[_ngcontent-%COMP%]{margin-right:16px}.fixedCells[_ngcontent-%COMP%]{width:70px}.export-btn-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}  .bx--label{margin-bottom:5px!important;margin-top:0!important}  .widget-overflow-menu .bx--overflow-menu{background-color:#fff!important}  .user-search-combo-box.bx--col{padding-right:0;padding-left:0;margin-right:10px}  .user-search-combo-box.bx--col .bx--combo-box{margin-top:0!important}  .user-search-combo-box.bx--col .bx--list-box__menu{width:200px!important}  .bx--dropdown{border-bottom:1px solid #8897a2;background-color:#f3f3f3}  .icon-navigation-arrow-up-32{margin-top:10px!important}  .compare-list .bx--list-box__menu{width:150px!important}  .kpi-capdo__label{margin-bottom:5px!important}"]],data:{}});function ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ibm-tab",[["heading","Parent"]],[[1,"id",0]],[[null,"selected"]],function(l,e,n){var t=!0,i=l.component;return"selected"===e&&(t=!1!==i.onClickTab(i.parentId,"PARENT")&&t),t},i.b,i.a)),t["\u0275did"](1,114688,[[1,4]],0,a.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"})],function(l,e){l(e,1,0,"Parent","PARENT"===e.component.selectedTabForCapDo)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).attrClass)})}function rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","drop-for-kpi"],["placeholder","Specify a subordinate"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,2).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onSelectKPI(n)&&i),i},u.b,u.a)),t["\u0275prd"](5120,null,o.p,function(l){return[l]},[r.a]),t["\u0275did"](2,1294336,null,1,r.a,[t.ElementRef,s.a,d.a],{placeholder:[0,"placeholder"],type:[1,"type"],appendInline:[2,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,3,{view:0}),(l()(),t["\u0275eld"](4,0,null,0,2,"ibm-dropdown-list",[],null,null,null,c.b,c.a)),t["\u0275did"](5,4374528,null,0,p.a,[t.ElementRef,s.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[3,4]],m.a,null,[p.a])],function(l,e){var n=e.component;l(e,2,0,"Specify a subordinate","single","true"),l(e,5,0,n.subs)},function(l,e){l(e,0,0,t["\u0275nov"](e,2).hostClass)})}function sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,40,"div",[["class","rTableRow tableHeads margin-top-20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","rTableHead"],["style","margin-right: 15px;flex:1.8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KPI"])),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","rTableHead width90"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["DCF"])),(l()(),t["\u0275eld"](7,0,null,null,2,"div",[["class","rTableHead width90"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["DRF"])),(l()(),t["\u0275eld"](10,0,null,null,2,"div",[["class","rTableHead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Category"])),(l()(),t["\u0275eld"](13,0,null,null,2,"div",[["class","rTableHead width90"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["DG"])),(l()(),t["\u0275eld"](16,0,null,null,2,"div",[["class","rTableHead width90"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Weightage"])),(l()(),t["\u0275eld"](19,0,null,null,2,"div",[["class","rTableHead width90"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["UoM"])),(l()(),t["\u0275eld"](22,0,null,null,6,"div",[["class","rTableHead width140"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,5,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Last Available "])),(l()(),t["\u0275eld"](25,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Cycle"])),(l()(),t["\u0275eld"](27,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" (Actual/Target)"])),(l()(),t["\u0275eld"](29,0,null,null,4,"div",[["class","rTableHead width120"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,3,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["YTD/MTD performance"])),(l()(),t["\u0275eld"](32,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" (Actual/Target) "])),(l()(),t["\u0275eld"](34,0,null,null,5,"div",[["class","rTableHead width140"]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,4,"div",[["style","float: left; "]],null,null,null,null,null)),(l()(),t["\u0275eld"](36,0,null,null,3,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Annual"])),(l()(),t["\u0275eld"](38,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Target "])),(l()(),t["\u0275eld"](40,0,null,null,0,"div",[["class","rTableHead"],["style","flex:0.2;"]],null,null,null,null,null))],null,null)}function dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,dl)),t["\u0275did"](1,540672,null,0,g.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){l(e,1,0,t["\u0275nov"](e.parent,e.component.isKPIDetailsLoading?45:40))},null)}function pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["label","Display frequency"],["style","margin-right: 10px;"],["type","single"],["value","content"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,1).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.selectedBarGraphOption(n)&&i),i},u.b,u.a)),t["\u0275did"](1,1294336,null,1,r.a,[t.ElementRef,s.a,d.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"],value:[4,"value"]},{selected:"selected"}),t["\u0275qud"](335544320,4,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[r.a]),t["\u0275did"](4,671744,null,0,o.u,[[8,null],[8,null],[8,null],[6,o.p]],{model:[0,"model"]},null),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](6,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](7,0,null,0,2,"ibm-dropdown-list",[],null,null,null,c.b,c.a)),t["\u0275did"](8,4374528,null,0,p.a,[t.ElementRef,s.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[4,4]],m.a,null,[p.a])],function(l,e){var n=e.component;l(e,1,0,"Display frequency",t["\u0275inlineInterpolate"](1,"",n.selctedValueForBarGraph,""),"single","true","content"),l(e,4,0,n.selctedValueForBarGraph),l(e,8,0,n.captureFreqItems)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).hostClass,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending)})}function ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,34,"div",[["class","pi-drop-dates"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,16,"label",[["class","date-picker-new-cont padding-left-5"],["style","max-width: 120px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Start Date"])),(l()(),t["\u0275eld"](4,0,null,null,9,"input",[["ibmText",""],["placeholder","mm/dd/yyyy"]],[[2,"owl-dt-trigger-disabled",null],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"],[null,"blur"],[null,"input"],[null,"change"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,5).handleClickOnHost(n)&&i),"keydown"===e&&(i=!1!==t["\u0275nov"](l,6).handleKeydownOnHost(n)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,6).handleBlurOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,6).handleInputOnHost(n)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,6).handleChangeOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,8)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,8).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,8)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,8)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(a.selectedBarGraphStartDate=n)&&i),"ngModelChange"===e&&(i=!1!==a.selectedBarGraphStartDateValueChange(n)&&i),i},null,null)),t["\u0275did"](5,1785856,null,0,h.y,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"]},null),t["\u0275did"](6,1261568,null,0,h.z,[t.ElementRef,t.Renderer2,[2,h.a],[2,h.b]],{owlDateTime:[0,"owlDateTime"],max:[1,"max"]},null),t["\u0275did"](7,16384,null,0,f.a,[],null,null),t["\u0275did"](8,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.o,function(l){return[l]},[h.z]),t["\u0275prd"](1024,null,o.p,function(l,e){return[l,e]},[h.z,o.c]),t["\u0275did"](11,671744,null,0,o.u,[[8,null],[6,o.o],[8,null],[6,o.p]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](13,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](14,16777216,null,null,1,"owl-date-time",[],null,null,null,v.b,v.a)),t["\u0275did"](15,245760,[["dt3",4]],0,h.d,[b.b,t.ViewContainerRef,h.v,t.NgZone,t.ChangeDetectorRef,[2,h.a],h.o,[2,h.b],[2,g.DOCUMENT]],{pickerType:[0,"pickerType"]},null),(l()(),t["\u0275eld"](16,0,null,null,1,":svg:svg",[["class","cal-icon"],["ibmIconCalendar20",""]],null,null,null,null,null)),t["\u0275did"](17,4210688,null,0,C.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](18,0,null,null,16,"label",[["class","date-picker-new-cont padding-left-1"],["style","max-width: 120px;margin-left: 8px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["End Date"])),(l()(),t["\u0275eld"](21,0,null,null,9,"input",[["ibmText",""],["placeholder","mm/dd/yyyy"]],[[2,"owl-dt-trigger-disabled",null],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"],[null,"blur"],[null,"input"],[null,"change"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,22).handleClickOnHost(n)&&i),"keydown"===e&&(i=!1!==t["\u0275nov"](l,23).handleKeydownOnHost(n)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,23).handleBlurOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,23).handleInputOnHost(n)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,23).handleChangeOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,25)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,25).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,25)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,25)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==a.selectedBarGraphEndDateValueChange(n)&&i),"ngModelChange"===e&&(i=!1!==(a.selectedBarGraphEndDate=n)&&i),i},null,null)),t["\u0275did"](22,1785856,null,0,h.y,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"]},null),t["\u0275did"](23,1261568,null,0,h.z,[t.ElementRef,t.Renderer2,[2,h.a],[2,h.b]],{owlDateTime:[0,"owlDateTime"],min:[1,"min"]},null),t["\u0275did"](24,16384,null,0,f.a,[],null,null),t["\u0275did"](25,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.o,function(l){return[l]},[h.z]),t["\u0275prd"](1024,null,o.p,function(l,e){return[l,e]},[h.z,o.c]),t["\u0275did"](28,671744,null,0,o.u,[[8,null],[6,o.o],[8,null],[6,o.p]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](30,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](31,16777216,null,null,1,"owl-date-time",[],null,null,null,v.b,v.a)),t["\u0275did"](32,245760,[["dt4",4]],0,h.d,[b.b,t.ViewContainerRef,h.v,t.NgZone,t.ChangeDetectorRef,[2,h.a],h.o,[2,h.b],[2,g.DOCUMENT]],{pickerType:[0,"pickerType"]},null),(l()(),t["\u0275eld"](33,0,null,null,1,":svg:svg",[["class","cal-icon"],["ibmIconCalendar20",""]],null,null,null,null,null)),t["\u0275did"](34,4210688,null,0,C.a,[t.ElementRef],null,null)],function(l,e){var n=e.component;l(e,5,0,t["\u0275nov"](e,15)),l(e,6,0,t["\u0275nov"](e,15),n.selectedBarGraphEndDate),l(e,11,0,n.selectedBarGraphStartDate),l(e,15,0,"calendar"),l(e,22,0,t["\u0275nov"](e,32)),l(e,23,0,t["\u0275nov"](e,32),n.selectedBarGraphStartDate),l(e,28,0,n.selectedBarGraphEndDate),l(e,32,0,"calendar")},function(l,e){l(e,4,1,[t["\u0275nov"](e,5).owlDTTriggerDisabledClass,t["\u0275nov"](e,6).owlDateTimeInputAriaHaspopup,t["\u0275nov"](e,6).owlDateTimeInputAriaOwns,t["\u0275nov"](e,6).minIso8601,t["\u0275nov"](e,6).maxIso8601,t["\u0275nov"](e,6).owlDateTimeInputDisabled,t["\u0275nov"](e,7).inputClass,t["\u0275nov"](e,7).invalid,t["\u0275nov"](e,7).skeleton,t["\u0275nov"](e,7).isLightTheme,t["\u0275nov"](e,13).ngClassUntouched,t["\u0275nov"](e,13).ngClassTouched,t["\u0275nov"](e,13).ngClassPristine,t["\u0275nov"](e,13).ngClassDirty,t["\u0275nov"](e,13).ngClassValid,t["\u0275nov"](e,13).ngClassInvalid,t["\u0275nov"](e,13).ngClassPending]),l(e,21,1,[t["\u0275nov"](e,22).owlDTTriggerDisabledClass,t["\u0275nov"](e,23).owlDateTimeInputAriaHaspopup,t["\u0275nov"](e,23).owlDateTimeInputAriaOwns,t["\u0275nov"](e,23).minIso8601,t["\u0275nov"](e,23).maxIso8601,t["\u0275nov"](e,23).owlDateTimeInputDisabled,t["\u0275nov"](e,24).inputClass,t["\u0275nov"](e,24).invalid,t["\u0275nov"](e,24).skeleton,t["\u0275nov"](e,24).isLightTheme,t["\u0275nov"](e,30).ngClassUntouched,t["\u0275nov"](e,30).ngClassTouched,t["\u0275nov"](e,30).ngClassPristine,t["\u0275nov"](e,30).ngClassDirty,t["\u0275nov"](e,30).ngClassValid,t["\u0275nov"](e,30).ngClassInvalid,t["\u0275nov"](e,30).ngClassPending])})}function gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.showHideDataPointLabelBar(n)&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Show Data Labels "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.showHideDataPointLabelBar(n)&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Hide Data Labels "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["label","Display frequency"],["style","margin-right: 10px;"],["type","single"],["value","content"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,1).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.selectedGraphOption(n,0)&&i),i},u.b,u.a)),t["\u0275did"](1,1294336,null,1,r.a,[t.ElementRef,s.a,d.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],disabled:[3,"disabled"],appendInline:[4,"appendInline"],value:[5,"value"]},{selected:"selected"}),t["\u0275qud"](335544320,6,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[r.a]),t["\u0275did"](4,671744,null,0,o.u,[[8,null],[8,null],[8,null],[6,o.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},null),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](6,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](7,0,null,0,2,"ibm-dropdown-list",[],null,null,null,c.b,c.a)),t["\u0275did"](8,4374528,null,0,p.a,[t.ElementRef,s.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[6,4]],m.a,null,[p.a])],function(l,e){var n=e.component;l(e,1,0,"Display frequency",t["\u0275inlineInterpolate"](1,"",n.selctedValueForGraph,""),"single",n.isCustomYTD,"true","content"),l(e,4,0,n.isCustomYTD,n.selctedValueForGraph),l(e,8,0,n.captureFreqItems)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).hostClass,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending)})}function vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["label","Compare with extended KPIs"],["placeholder","Choose Extended KPI"],["style","flex: 1;margin-right: 10px;"],["type","multi"],["value","content"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,1).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.selectExtendedKPIForComparison(n)&&i),i},u.b,u.a)),t["\u0275did"](1,1294336,null,1,r.a,[t.ElementRef,s.a,d.a],{label:[0,"label"],placeholder:[1,"placeholder"],type:[2,"type"],appendInline:[3,"appendInline"],value:[4,"value"]},{selected:"selected"}),t["\u0275qud"](335544320,7,{view:0}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[r.a]),t["\u0275did"](4,671744,null,0,o.u,[[8,null],[8,null],[8,null],[6,o.p]],{model:[0,"model"]},null),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](6,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](7,0,null,0,2,"ibm-dropdown-list",[],null,[[null,"select"],[null,"selected"]],function(l,e,n){var t=!0,i=l.component;return"select"===e&&(t=!1!==i.selectExtendedKPIForComparison(n)&&t),"selected"===e&&(t=!1!==i.selectExtendedKPIForComparison(n)&&t),t},c.b,c.a)),t["\u0275did"](8,4374528,null,0,p.a,[t.ElementRef,s.a],{items:[0,"items"]},{select:"select"}),t["\u0275prd"](2048,[[7,4]],m.a,null,[p.a])],function(l,e){var n=e.component;l(e,1,0,"Compare with extended KPIs","Choose Extended KPI","multi","true","content"),l(e,4,0,n.selectedValueForExtendedKPI),l(e,8,0,n.previousYearsExtendedKPIList)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).hostClass,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending)})}function bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","flex: 1;"]],[[8,"className",0]],null,null,null,null)),t["\u0275prd"](512,null,g["\u0275NgStyleImpl"],g["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](2,278528,null,0,g.NgStyle,[g["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](3,{"padding-left":0}),t["\u0275did"](4,81920,null,0,w.a,[],{class:[0,"class"]},null),(l()(),t["\u0275eld"](5,0,null,null,2,"label",[["class","bx--label kpi-capdo__label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Select Form"])),(l()(),t["\u0275eld"](8,0,null,null,1,"app-e4-combo-box",[["isDependent","true"],["placeholder","Search form"]],null,[[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onSearch"===e&&(t=!1!==i.onSearchInternal(n)&&t),"onSelect"===e&&(t=!1!==i.onSelectedInternal(n)&&t),t},I.b,I.a)),t["\u0275did"](9,4964352,null,0,D.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],isDisable:[2,"isDisable"],searchQuery:[3,"searchQuery"],placeholder:[4,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"})],function(l,e){var n=e.component,t=l(e,3,0,n.previousYearsExtendedKPIList&&n.previousYearsExtendedKPIList.length?"null":"0");l(e,2,0,t),l(e,4,0,"user-search-combo-box"),l(e,9,0,n.searchedInternalMetrics,"true",!n.isYaxisEnabled||n.multiKPI,n.internalQuery,"Search form")},function(l,e){l(e,0,0,t["\u0275nov"](e,4).columnClasses)})}function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","padding-left: 0;padding-right: 0;flex: 1;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,w.a,[],{class:[0,"class"]},null),(l()(),t["\u0275eld"](2,0,null,null,2,"label",[["class","bx--label kpi-capdo__label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Select Field"])),(l()(),t["\u0275eld"](5,0,null,null,1,"app-e4-combo-box",[["placeholder","Select numeric field"]],null,[[null,"onSelect"]],function(l,e,n){var t=!0;return"onSelect"===e&&(t=!1!==l.component.onSelectedFormField(n)&&t),t},I.b,I.a)),t["\u0275did"](6,4964352,null,0,D.a,[t.ElementRef],{items:[0,"items"],isDisable:[1,"isDisable"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSelect:"onSelect"})],function(l,e){var n=e.component;l(e,1,0,"user-search-combo-box"),l(e,6,0,n.formMetricList,!n.isYaxisEnabled||n.multiKPI,n.selectedFormMetric,"Select numeric field")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses)})}function yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","user-search-combo-box"],["ibmCol",""],["style","padding-left: 0;padding-right: 0;flex:1;max-width: 320px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275prd"](512,null,g["\u0275NgStyleImpl"],g["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](2,278528,null,0,g.NgStyle,[g["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](3,{"padding-left":0}),t["\u0275did"](4,81920,null,0,w.a,[],{class:[0,"class"]},null),(l()(),t["\u0275eld"](5,0,null,null,2,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"span",[["style","display: block;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Select Custom YTD Metric"])),(l()(),t["\u0275eld"](8,0,null,null,1,"app-e4-combo-box",[["placeholder","Select YTD metric field"]],null,[[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onSearch"===e&&(t=!1!==i.onSearchCustomYTD(n)&&t),"onSelect"===e&&(t=!1!==i.onSelectedCustomYTD(n)&&t),t},I.b,I.a)),t["\u0275did"](9,4964352,null,0,D.a,[t.ElementRef],{items:[0,"items"],isDisable:[1,"isDisable"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect"})],function(l,e){var n=e.component,t=l(e,3,0,n.previousYearsExtendedKPIList&&n.previousYearsExtendedKPIList.length?null:"0");l(e,2,0,t),l(e,4,0,"user-search-combo-box"),l(e,9,0,n.customYTDList,!n.isYaxisEnabled||n.multiKPI,n.selectedCustomYTD,"Select YTD metric field")},function(l,e){l(e,0,0,t["\u0275nov"](e,4).columnClasses)})}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.showHideUpperLower(n)&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Show UL & LL "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.showHideUpperLower(n)&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Hide UL & LL "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function Il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.showHideTargetLine(n)&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Show Target "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function Dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.showHideTargetLine(n)&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Hide Target "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function Tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.showHideDataPointLabel(n)&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Show Data Labels "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function Ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.showHideDataPointLabel(n)&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Hide Data Labels "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function Pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==i.showHideCumulative(i.kpiData)&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Show Cumulative Data "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function Sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==i.showHideCumulative(i.kpiData)&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Hide Cumulative Data "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"ibm-checkbox",[["style","flex:0.4"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"]],function(l,e,n){var t=!0,i=l.component;return"ngModelChange"===e&&(t=!1!==(i.isRolling=n)&&t),"change"===e&&(t=!1!==i.onRollingTrendSelected(n)&&t),t},T.b,T.a)),t["\u0275did"](1,4243456,null,0,M.a,[t.ChangeDetectorRef],{disabled:[0,"disabled"]},{change:"change"}),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[M.a]),t["\u0275did"](3,671744,null,0,o.u,[[8,null],[8,null],[8,null],[6,o.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](5,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275ted"](-1,0,["Rolling Trend "]))],function(l,e){var n=e.component;l(e,1,0,!n.multiKPI),l(e,3,0,!n.multiKPI,n.isRolling)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).checkboxWrapperClass,t["\u0275nov"](e,1).formItemClass,t["\u0275nov"](e,5).ngClassUntouched,t["\u0275nov"](e,5).ngClassTouched,t["\u0275nov"](e,5).ngClassPristine,t["\u0275nov"](e,5).ngClassDirty,t["\u0275nov"](e,5).ngClassValid,t["\u0275nov"](e,5).ngClassInvalid,t["\u0275nov"](e,5).ngClassPending)})}function Fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,101,"div",[["class","group-bar-chart-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,21,"div",[["class","chart-dim padding-16"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,16,"div",[["style","display: flex !important;justify-content:space-between !important;height: 80px !important ; margin-bottom: 30px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[["style","display: flex; flex-direction: row;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,pl)),t["\u0275did"](5,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ml)),t["\u0275did"](7,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,9,"ibm-overflow-menu",[["class","widget-overflow-menu"],["flip","true"]],null,null,null,P.b,P.a)),t["\u0275did"](10,49152,null,1,S.a,[t.ElementRef,s.a],{flip:[0,"flip"]},null),t["\u0275qud"](335544320,5,{overflowMenuDirective:0}),(l()(),t["\u0275and"](16777216,null,0,1,null,gl)),t["\u0275did"](13,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,hl)),t["\u0275did"](15,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](16,0,null,0,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==i.downloadAsImage("bar-chart",i.kpiData)&&t),t},y.b,y.a)),t["\u0275did"](17,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Save As Image "])),(l()(),t["\u0275eld"](19,0,null,null,3,"div",[["class","chart-cont scrollable-bar-chart"],["id","bar-chart"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"div",[["class","chart-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"scrollable-bar-chart",[["class","d3-chart"]],null,null,null,k.b,k.a)),t["\u0275did"](22,4440064,null,0,F.a,[t.ElementRef,R.a,L.a,O.a,N.a,t.ChangeDetectorRef],{loading:[0,"loading"],translator:[1,"translator"],leftTicks:[2,"leftTicks"],data:[3,"data"],displayLegend:[4,"displayLegend"]},null),(l()(),t["\u0275eld"](23,0,null,null,78,"div",[["class","chart-dim padding-16"],["style","padding-bottom: 90px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,73,"div",[["style","height: 80px!important; margin-bottom: 30px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,68,"div",[["style","display: flex;align-items: flex-end;justify-content: space-between;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,44,"div",[["style","display: flex; margin-right: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](28,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](29,0,null,null,16,"label",[["class","date-picker-new-cont padding-left-5"],["style","max-width: 120px;margin-right: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Start Date"])),(l()(),t["\u0275eld"](32,0,null,null,9,"input",[["ibmText",""],["placeholder","mm/dd/yyyy"]],[[2,"owl-dt-trigger-disabled",null],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"],[null,"blur"],[null,"input"],[null,"change"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,33).handleClickOnHost(n)&&i),"keydown"===e&&(i=!1!==t["\u0275nov"](l,34).handleKeydownOnHost(n)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,34).handleBlurOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,34).handleInputOnHost(n)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,34).handleChangeOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,36)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,36).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,36)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,36)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(a.selectedStartDate=n)&&i),"ngModelChange"===e&&(i=!1!==a.selectedStartDateValueChange(n)&&i),i},null,null)),t["\u0275did"](33,1785856,null,0,h.y,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"],disabled:[1,"disabled"]},null),t["\u0275did"](34,1261568,null,0,h.z,[t.ElementRef,t.Renderer2,[2,h.a],[2,h.b]],{owlDateTime:[0,"owlDateTime"],max:[1,"max"]},null),t["\u0275did"](35,16384,null,0,f.a,[],null,null),t["\u0275did"](36,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.o,function(l){return[l]},[h.z]),t["\u0275prd"](1024,null,o.p,function(l,e){return[l,e]},[h.z,o.c]),t["\u0275did"](39,671744,null,0,o.u,[[8,null],[6,o.o],[8,null],[6,o.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](41,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](42,16777216,null,null,1,"owl-date-time",[],null,null,null,v.b,v.a)),t["\u0275did"](43,245760,[["dt6",4]],0,h.d,[b.b,t.ViewContainerRef,h.v,t.NgZone,t.ChangeDetectorRef,[2,h.a],h.o,[2,h.b],[2,g.DOCUMENT]],{pickerType:[0,"pickerType"]},null),(l()(),t["\u0275eld"](44,0,null,null,1,":svg:svg",[["class","cal-icon"],["ibmIconCalendar20",""]],null,null,null,null,null)),t["\u0275did"](45,4210688,null,0,C.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](46,0,null,null,16,"label",[["class","date-picker-new-cont padding-left-1"],["style","max-width: 120px;margin-right: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["End Date"])),(l()(),t["\u0275eld"](49,0,null,null,9,"input",[["ibmText",""],["placeholder","mm/dd/yyyy"]],[[2,"owl-dt-trigger-disabled",null],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"],[null,"blur"],[null,"input"],[null,"change"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,50).handleClickOnHost(n)&&i),"keydown"===e&&(i=!1!==t["\u0275nov"](l,51).handleKeydownOnHost(n)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,51).handleBlurOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,51).handleInputOnHost(n)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,51).handleChangeOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,53)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,53).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,53)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,53)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==a.selectedEndDateValueChange(n)&&i),"ngModelChange"===e&&(i=!1!==(a.selectedEndDate=n)&&i),i},null,null)),t["\u0275did"](50,1785856,null,0,h.y,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"],disabled:[1,"disabled"]},null),t["\u0275did"](51,1261568,null,0,h.z,[t.ElementRef,t.Renderer2,[2,h.a],[2,h.b]],{owlDateTime:[0,"owlDateTime"],min:[1,"min"]},null),t["\u0275did"](52,16384,null,0,f.a,[],null,null),t["\u0275did"](53,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.o,function(l){return[l]},[h.z]),t["\u0275prd"](1024,null,o.p,function(l,e){return[l,e]},[h.z,o.c]),t["\u0275did"](56,671744,null,0,o.u,[[8,null],[6,o.o],[8,null],[6,o.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](58,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](59,16777216,null,null,1,"owl-date-time",[],null,null,null,v.b,v.a)),t["\u0275did"](60,245760,[["dt5",4]],0,h.d,[b.b,t.ViewContainerRef,h.v,t.NgZone,t.ChangeDetectorRef,[2,h.a],h.o,[2,h.b],[2,g.DOCUMENT]],{pickerType:[0,"pickerType"]},null),(l()(),t["\u0275eld"](61,0,null,null,1,":svg:svg",[["class","cal-icon"],["ibmIconCalendar20",""]],null,null,null,null,null)),t["\u0275did"](62,4210688,null,0,C.a,[t.ElementRef],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,vl)),t["\u0275did"](64,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](66,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](68,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,yl)),t["\u0275did"](70,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](71,0,null,null,22,"div",[["style","align-self:flex-start;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](72,0,null,null,21,"ibm-overflow-menu",[["class","widget-overflow-menu"],["flip","true"]],null,null,null,P.b,P.a)),t["\u0275did"](73,49152,null,1,S.a,[t.ElementRef,s.a],{flip:[0,"flip"]},null),t["\u0275qud"](335544320,8,{overflowMenuDirective:0}),(l()(),t["\u0275and"](16777216,null,0,1,null,xl)),t["\u0275did"](76,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,wl)),t["\u0275did"](78,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Il)),t["\u0275did"](80,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Dl)),t["\u0275did"](82,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Tl)),t["\u0275did"](84,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Ml)),t["\u0275did"](86,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](87,0,null,0,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==i.downloadAsImage("line-chart",i.kpiData)&&t),t},y.b,y.a)),t["\u0275did"](88,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Save As Image "])),(l()(),t["\u0275and"](16777216,null,0,1,null,Pl)),t["\u0275did"](91,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Sl)),t["\u0275did"](93,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](94,0,null,null,3,"div",[["style","width: 100%;display: flex;margin-top: 10px;align-items: baseline;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](95,0,null,null,2,"div",[["style","display: flex;flex:1;align-items: center;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,kl)),t["\u0275did"](97,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](98,0,null,null,3,"div",[["class","chart-cont grouped-line-chart"],["id","line-chart"]],null,null,null,null,null)),(l()(),t["\u0275eld"](99,0,null,null,2,"div",[["class","chart-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](100,0,null,null,1,"grouped-line-chart",[["class","d3-chart"]],null,null,null,E.b,E.a)),t["\u0275did"](101,4440064,null,0,A.a,[t.ElementRef,R.a,L.a,O.a,N.a,t.ChangeDetectorRef],{loading:[0,"loading"],leftTicks:[1,"leftTicks"],data:[2,"data"],analysisData:[3,"analysisData"],displayLegend:[4,"displayLegend"]},null)],function(l,e){var n=e.component;l(e,5,0,n.captureFreqItems),l(e,7,0,"Yearly"!==n.selctedValueForBarGraph),l(e,10,0,"true"),l(e,13,0,!n.showDataPointLabelOnBar),l(e,15,0,n.showDataPointLabelOnBar),l(e,17,0,"danger"),l(e,22,0,n.scrollableBarChartData.loading,n.scrollableBarChartData.translator,n.scrollableBarChartData.leftTicks,n.scrollableBarChartData,!0),l(e,28,0,n.captureFreqItems),l(e,33,0,t["\u0275nov"](e,43),n.isCustomYTD),l(e,34,0,t["\u0275nov"](e,43),n.selectedEndDate),l(e,39,0,n.isCustomYTD,n.selectedStartDate),l(e,43,0,"calendar"),l(e,50,0,t["\u0275nov"](e,60),n.isCustomYTD),l(e,51,0,t["\u0275nov"](e,60),n.selectedStartDate),l(e,56,0,n.isCustomYTD,n.selectedEndDate),l(e,60,0,"calendar"),l(e,64,0,n.previousYearsExtendedKPIList&&n.previousYearsExtendedKPIList.length&&"Extended KPI"===n.compareWith),l(e,66,0,!n.isCustomYTD&&!n.multiKPI&&n.isYaxisEnabled),l(e,68,0,!n.isCustomYTD&&!n.multiKPI&&n.isYaxisEnabled),l(e,70,0,n.isCustomYTD&&!n.multiKPI),l(e,73,0,"true"),l(e,76,0,!n.showHideUpperLowerLimit),l(e,78,0,n.showHideUpperLowerLimit),l(e,80,0,!n.showTargetLine),l(e,82,0,n.showTargetLine),l(e,84,0,!n.showDataPointLabel),l(e,86,0,n.showDataPointLabel),l(e,88,0,"danger"),l(e,91,0,!1===n.cumulativeGraph),l(e,93,0,!0===n.cumulativeGraph),l(e,97,0,n.previousYearsExtendedKPIList&&n.previousYearsExtendedKPIList.length&&"Extended KPI"===n.compareWith),l(e,101,0,n.groupedLineChartData.loading,n.groupedLineChartData.leftTicks,n.groupedLineChartData,n.analysisData||t["\u0275EMPTY_ARRAY"],!0)},function(l,e){l(e,16,0,t["\u0275nov"](e,17).optionClass,t["\u0275nov"](e,17).role,t["\u0275nov"](e,17).isDanger,t["\u0275nov"](e,17).isDisabled),l(e,32,1,[t["\u0275nov"](e,33).owlDTTriggerDisabledClass,t["\u0275nov"](e,34).owlDateTimeInputAriaHaspopup,t["\u0275nov"](e,34).owlDateTimeInputAriaOwns,t["\u0275nov"](e,34).minIso8601,t["\u0275nov"](e,34).maxIso8601,t["\u0275nov"](e,34).owlDateTimeInputDisabled,t["\u0275nov"](e,35).inputClass,t["\u0275nov"](e,35).invalid,t["\u0275nov"](e,35).skeleton,t["\u0275nov"](e,35).isLightTheme,t["\u0275nov"](e,41).ngClassUntouched,t["\u0275nov"](e,41).ngClassTouched,t["\u0275nov"](e,41).ngClassPristine,t["\u0275nov"](e,41).ngClassDirty,t["\u0275nov"](e,41).ngClassValid,t["\u0275nov"](e,41).ngClassInvalid,t["\u0275nov"](e,41).ngClassPending]),l(e,49,1,[t["\u0275nov"](e,50).owlDTTriggerDisabledClass,t["\u0275nov"](e,51).owlDateTimeInputAriaHaspopup,t["\u0275nov"](e,51).owlDateTimeInputAriaOwns,t["\u0275nov"](e,51).minIso8601,t["\u0275nov"](e,51).maxIso8601,t["\u0275nov"](e,51).owlDateTimeInputDisabled,t["\u0275nov"](e,52).inputClass,t["\u0275nov"](e,52).invalid,t["\u0275nov"](e,52).skeleton,t["\u0275nov"](e,52).isLightTheme,t["\u0275nov"](e,58).ngClassUntouched,t["\u0275nov"](e,58).ngClassTouched,t["\u0275nov"](e,58).ngClassPristine,t["\u0275nov"](e,58).ngClassDirty,t["\u0275nov"](e,58).ngClassValid,t["\u0275nov"](e,58).ngClassInvalid,t["\u0275nov"](e,58).ngClassPending]),l(e,87,0,t["\u0275nov"](e,88).optionClass,t["\u0275nov"](e,88).role,t["\u0275nov"](e,88).isDanger,t["\u0275nov"](e,88).isDisabled)})}function Rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function Ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["style","padding-bottom: 20px; display: block;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Rl)),t["\u0275did"](2,540672,null,0,g.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(l,e){l(e,2,0,e.component.isKPIDetailsLoading?"":t["\u0275nov"](e.parent,42))},null)}function Ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["style","font-size: 16px;margin-top: 10px; display: block;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No subordinates found. "]))],null,null)}function Nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","rTableCell d-p"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){var n=e.component;l(e,1,0,n.categoryMap.get(null==n.kpiData?null:n.kpiData.category))})}function El(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","rTableCell d-p"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["class","icon-navigation-arrow-up-32"],["ibmIconArrowUp32",""]],null,null,null,null,null)),t["\u0275did"](2,4210688,null,0,Y.a,[t.ElementRef],null,null)],null,null)}function Yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["class","icon-navigation-arrow-up-32"],["ibmIconArrowDown32",""]],null,null,null,null,null)),t["\u0275did"](2,4210688,null,0,_.a,[t.ElementRef],null,null)],null,null)}function _l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function Ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"span",[["title","Cannot be computed as actuals not available"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,":svg:svg",[["height","20px"],["viewBox","0 0 16 16"],["width","20px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,":svg:g",[["fill","red"],["fill-rule","evenodd"],["id","warning--solid"],["stroke","none"],["stroke-width","1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,":svg:path",[["d","M0.75,16 C0.192463484,16 -0.170158303,15.4132656 0.0791796068,14.9145898 L7.32917961,0.414589803 C7.60557281,-0.138196601 8.39442719,-0.138196601 8.67082039,0.414589803 L15.9208204,14.9145898 C16.1701583,15.4132656 15.8075365,16 15.25,16 L0.75,16 Z M7.25,6 L7.25,11 L8.75,11 L8.75,6 L7.25,6 Z M8,13.5 C8.41421356,13.5 8.75,13.1642136 8.75,12.75 C8.75,12.3357864 8.41421356,12 8,12 C7.58578644,12 7.25,12.3357864 7.25,12.75 C7.25,13.1642136 7.58578644,13.5 8,13.5 Z"],["fill","#000000"],["fill-rule","nonzero"],["id","warning"],["style","fill: red;"]],null,null,null,null,null))],null,null)}function Vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-16-green"],["ibmIconArrowUp32",""]],null,null,null,null,null)),t["\u0275did"](1,4210688,null,0,Y.a,[t.ElementRef],null,null)],null,null)}function ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-16-red"],["ibmIconArrowDown32",""]],null,null,null,null,null)),t["\u0275did"](1,4210688,null,0,_.a,[t.ElementRef],null,null)],null,null)}function Kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," / ",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,Vl)),t["\u0275did"](3,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ql)),t["\u0275did"](5,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){var n=e.component;l(e,3,0,"GREEN"===n.kpiData.lastPerformance),l(e,5,0,"RED"===n.kpiData.lastPerformance)},function(l,e){var n=e.component;l(e,1,0,null==n.kpiData?null:n.kpiData.lastActual,null==n.kpiData?null:n.kpiData.lastTarget)})}function Hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-16-green"],["ibmIconArrowUp32",""]],null,null,null,null,null)),t["\u0275did"](1,4210688,null,0,Y.a,[t.ElementRef],null,null)],null,null)}function zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-16-red"],["ibmIconArrowDown32",""]],null,null,null,null,null)),t["\u0275did"](1,4210688,null,0,_.a,[t.ElementRef],null,null)],null,null)}function Bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["","/ ",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,Hl)),t["\u0275did"](4,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,zl)),t["\u0275did"](6,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,4,0,"GREEN"===n.kpiData.ytdPerformance),l(e,6,0,"RED"===n.kpiData.ytdPerformance)},function(l,e){var n=e.component;l(e,2,0,n.kpiData.ytdActual,n.kpiData.ytdTarget)})}function Gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-16-green"],["ibmIconArrowUp32",""]],null,null,null,null,null)),t["\u0275did"](1,4210688,null,0,Y.a,[t.ElementRef],null,null)],null,null)}function Wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-16-red"],["ibmIconArrowDown32",""]],null,null,null,null,null)),t["\u0275did"](1,4210688,null,0,_.a,[t.ElementRef],null,null)],null,null)}function jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["","/ ",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,Gl)),t["\u0275did"](4,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Wl)),t["\u0275did"](6,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,4,0,"GREEN"===n.kpiData.ytdPerformance),l(e,6,0,"RED"===n.kpiData.ytdPerformance)},function(l,e){var n=e.component;l(e,2,0,n.kpiData.ytdActual,n.kpiData.ytdTarget)})}function $l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-16-green"],["ibmIconArrowUp32",""]],null,null,null,null,null)),t["\u0275did"](1,4210688,null,0,Y.a,[t.ElementRef],null,null)],null,null)}function Ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","icon-16-red"],["ibmIconArrowDown32",""]],null,null,null,null,null)),t["\u0275did"](1,4210688,null,0,_.a,[t.ElementRef],null,null)],null,null)}function Zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[""," / ",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,$l)),t["\u0275did"](4,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ql)),t["\u0275did"](6,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,4,0,"GREEN"===n.kpiData.mtdPerformance),l(e,6,0,"RED"===n.kpiData.mtdPerformance)},function(l,e){var n=e.component;l(e,2,0,n.kpiData.mtdActual,n.kpiData.mtdTarget)})}function Xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,jl)),t["\u0275did"](2,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Zl)),t["\u0275did"](4,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,2,0,n.kpiData.ytdChecked),l(e,4,0,!n.kpiData.ytdChecked)},null)}function Jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-toggle",[["size","lg"]],[[8,"title",0],[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],[[null,"change"]],function(l,e,n){var t=!0,i=l.component;return"change"===e&&(t=!1!==i.onChange(i.kpiData,n)&&t),t},U.b,U.a)),t["\u0275prd"](5120,null,o.p,function(l){return[l]},[V.a]),t["\u0275did"](2,4243456,null,0,V.a,[t.ChangeDetectorRef,s.a],{size:[0,"size"],checked:[1,"checked"],offText:[2,"offText"],onText:[3,"onText"]},{change:"change"})],function(l,e){var n=e.component;l(e,2,0,"lg",!!n.kpiData.ytdChecked,t["\u0275inlineInterpolate"](1,"",n.kpiData.ytdChecked?"YTD":"MTD",""),t["\u0275inlineInterpolate"](1,"",n.kpiData.ytdChecked?"YTD":"MTD",""))},function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",e.component.kpiData.ytdChecked?"Turn the switch off to see data in MTD":"Turn the switch on to see data in YTD",""),t["\u0275nov"](e,2).checkboxWrapperClass,t["\u0275nov"](e,2).formItemClass)})}function le(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"span",[["style","font-size: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,3,"span",[["title","Cannot be computed as actuals not available"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,":svg:svg",[["height","20px"],["viewBox","0 0 16 16"],["width","20px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,":svg:g",[["fill","red"],["fill-rule","evenodd"],["id","warning--solid"],["stroke","none"],["stroke-width","1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,":svg:path",[["d","M0.75,16 C0.192463484,16 -0.170158303,15.4132656 0.0791796068,14.9145898 L7.32917961,0.414589803 C7.60557281,-0.138196601 8.39442719,-0.138196601 8.67082039,0.414589803 L15.9208204,14.9145898 C16.1701583,15.4132656 15.8075365,16 15.25,16 L0.75,16 Z M7.25,6 L7.25,11 L8.75,11 L8.75,6 L7.25,6 Z M8,13.5 C8.41421356,13.5 8.75,13.1642136 8.75,12.75 C8.75,12.3357864 8.41421356,12 8,12 C7.58578644,12 7.25,12.3357864 7.25,12.75 C7.25,13.1642136 7.58578644,13.5 8,13.5 Z"],["fill","#000000"],["fill-rule","nonzero"],["id","warning"],["style","fill: red;"]],null,null,null,null,null))],null,null)}function ee(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[["style","font-size: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,function(l,e){l(e,2,0,e.component.kpiData.actualsUnavailableMessage)})}function ne(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","percentage-text "]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "," "])),t["\u0275ppd"](2,2)],null,function(l,e){var n=e.component,i=t["\u0275unv"](e,1,0,l(e,2,0,t["\u0275nov"](e.parent.parent,0),n.kpiData.annualTarget,"1.0-2"));l(e,1,0,i,"%"===n.unitOfMeasurementMap.get(n.kpiData.unitOfMeasurement)?n.unitOfMeasurementMap.get(n.kpiData.unitOfMeasurement):"")})}function te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"span",[["title","Cannot calculate annual target"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,":svg:svg",[["height","20px"],["viewBox","0 0 16 16"],["width","20px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,":svg:g",[["fill","red"],["fill-rule","evenodd"],["id","warning--solid"],["stroke","none"],["stroke-width","1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,":svg:path",[["d","M0.75,16 C0.192463484,16 -0.170158303,15.4132656 0.0791796068,14.9145898 L7.32917961,0.414589803 C7.60557281,-0.138196601 8.39442719,-0.138196601 8.67082039,0.414589803 L15.9208204,14.9145898 C16.1701583,15.4132656 15.8075365,16 15.25,16 L0.75,16 Z M7.25,6 L7.25,11 L8.75,11 L8.75,6 L7.25,6 Z M8,13.5 C8.41421356,13.5 8.75,13.1642136 8.75,12.75 C8.75,12.3357864 8.41421356,12 8,12 C7.58578644,12 7.25,12.3357864 7.25,12.75 C7.25,13.1642136 7.58578644,13.5 8,13.5 Z"],["fill","#000000"],["fill-rule","nonzero"],["id","warning"],["style","fill: red;"]],null,null,null,null,null))],null,null)}function ie(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" - "]))],null,null)}function ae(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","chev-exp-col"],["ibmIconChevronUp32",""]],null,[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=0!=(i.isExpanded=!i.isExpanded)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,q.a,[t.ElementRef],null,null)],null,null)}function ue(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","chev-exp-col"],["ibmIconChevronDown32",""]],null,[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=0!=(i.isExpanded=!i.isExpanded)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,K.a,[t.ElementRef],null,null)],null,null)}function oe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,64,"div",[["class","rTableRow"],["style","position: sticky; top: 0;z-index: 3000;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,63,"div",[["class","rTableRowWrapper border-left-blue align-items-center border-right-bottom"],["style","align-items: baseline;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,10,"div",[["class","rTableCell flex2"],["style","flex:1.8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"div",[["class","delivery-schedule-ad"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,[" "," "])),(l()(),t["\u0275eld"](6,0,null,null,2,"span",[["class","assinged-to-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,[" "," | "])),(l()(),t["\u0275eld"](9,0,null,null,1,"span",[["class","assinged-to-text-normal"]],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[["class","assinged-to-text-normal"],["style","display: block;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),(l()(),t["\u0275eld"](13,0,null,null,1,"div",[["class","rTableCell width90 d-p"]],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,[""," "])),(l()(),t["\u0275eld"](15,0,null,null,1,"div",[["class","rTableCell width90 d-p"]],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,[" ",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,Nl)),t["\u0275did"](18,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,El)),t["\u0275did"](20,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](21,0,null,null,4,"div",[["class","rTableCell width90"],["s",""]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Al)),t["\u0275did"](23,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Yl)),t["\u0275did"](25,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](26,0,null,null,1,"div",[["class","rTableCell width90 t"]],null,null,null,null,null)),(l()(),t["\u0275ted"](27,null,[""," %"])),(l()(),t["\u0275eld"](28,0,null,null,1,"div",[["class","rTableCell width90 t"]],null,null,null,null,null)),(l()(),t["\u0275ted"](29,null,["",""])),(l()(),t["\u0275eld"](30,0,null,null,7,"div",[["class","rTableCell width140"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,4,"div",[["class","percentage-text"],["style","display: flex;align-items: baseline;justify-content: space-between;margin-bottom: 5px;padding-right: 24px;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,_l)),t["\u0275did"](33,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["latestYTDAbsent",2]],null,0,null,Ul)),(l()(),t["\u0275and"](0,[["ytdPresent",2]],null,0,null,Kl)),(l()(),t["\u0275eld"](36,0,null,null,1,"div",[["class","percentage-text-ytd"]],null,null,null,null,null)),(l()(),t["\u0275ted"](37,null,[" "," "])),(l()(),t["\u0275eld"](38,0,null,null,13,"div",[["class","rTableCell width120"]],null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,4,"div",[["class","percentage-text"],["style","display: flex;align-items: baseline;justify-content: space-between;margin-bottom: 5px;padding-right: 24px;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Bl)),t["\u0275did"](41,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Xl)),t["\u0275did"](43,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](44,0,null,null,1,"div",[["class","percentage-text-ytd"]],null,null,null,null,null)),(l()(),t["\u0275ted"](45,null,[" (",") "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Jl)),t["\u0275did"](47,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,le)),t["\u0275did"](49,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ee)),t["\u0275did"](51,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](52,0,null,null,7,"div",[["class","rTableCell width40"]],null,null,null,null,null)),(l()(),t["\u0275eld"](53,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ne)),t["\u0275did"](55,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,te)),t["\u0275did"](57,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ie)),t["\u0275did"](59,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](60,0,null,null,4,"div",[["class","rTableCell align-items-end cursor-pointer"],["style","flex:0.2;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ae)),t["\u0275did"](62,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ue)),t["\u0275did"](64,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,18,0,n.isTypeKPI),l(e,20,0,!n.isTypeKPI),l(e,23,0,n.kpiData&&n.kpiData.directionOfGoodness&&"UP"==n.kpiData.directionOfGoodness.toUpperCase()),l(e,25,0,n.kpiData&&n.kpiData.directionOfGoodness&&"DOWN"==n.kpiData.directionOfGoodness.toUpperCase()),l(e,33,0,"LATEST"==n.kpiData.ytdCalculation&&"-"==n.kpiData.lastActual,t["\u0275nov"](e,34),t["\u0275nov"](e,35)),l(e,41,0,!n.kpiData.showMTDYTDToggle),l(e,43,0,n.kpiData.showMTDYTDToggle),l(e,47,0,n.kpiData.showMTDYTDToggle),l(e,49,0,!n.kpiData.showMTDYTDToggle&&"LATEST"==n.kpiData.ytdCalculation&&"-"==n.kpiData.ytdActual),l(e,51,0,n.kpiData.showMTDYTDToggle),l(e,55,0,n.kpiData.annualTarget&&"Cannot calculate annual target"!=n.kpiData.annualTarget),l(e,57,0,"Cannot calculate annual target"===n.kpiData.annualTarget),l(e,59,0,!n.kpiData.annualTarget),l(e,62,0,n.isExpanded),l(e,64,0,!n.isExpanded)},function(l,e){var n=e.component;l(e,5,0,null==n.kpiData?null:n.kpiData.title),l(e,8,0,null==n.kpiData?null:n.kpiData.goalTag),l(e,10,0,n.ownerName),l(e,12,0,n.positionList.length?n.positionList[0].name:""),l(e,14,0,n.captureFrequencyMap.get(null==n.kpiData?null:n.kpiData.dataCaptureFrequency)),l(e,16,0,n.reviewMap.get(null==n.kpiData?null:n.kpiData.reviewFrequency)),l(e,27,0,null==n.kpiData?null:n.kpiData.weightage),l(e,29,0,n.unitOfMeasurementMap.get(null==n.kpiData?null:n.kpiData.unitOfMeasurement)),l(e,37,0,n.computeDateString(null==n.kpiData?null:n.kpiData.lastTimePeriod)),l(e,45,0,null==n.kpiData?null:n.kpiData.ytdCalculation)})}function re(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","rTableRow"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","ranalysisTableRowWrapper align-items-center border-right-bottom"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No results found!"]))],null,null)}function se(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","text-two-line"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.abnormalityDescription,"")),l(e,1,0,e.parent.context.$implicit.abnormalityDescription)})}function de(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","text-two-line"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.analysisDescription,"")),l(e,1,0,e.parent.context.$implicit.analysisDescription)})}function pe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function me(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,1,0,e.parent.context.$implicit.addedTimestamp)})}function ge(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function he(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["N/A"]))],null,null)}function fe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,9,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," | "])),t["\u0275ppd"](3,2),(l()(),t["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,[" "," "])),(l()(),t["\u0275eld"](6,0,null,null,4,"span",[["style","position: absolute;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"sub",[["class","subscript"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,[" "," "])),(l()(),t["\u0275eld"](9,0,null,null,1,"sup",[["class","superscript"]],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,[" "," "])),(l()(),t["\u0275eld"](11,0,null,null,1,"p",[["style","padding-top: 5px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""]))],null,function(l,e){var n=e.component,i=t["\u0275unv"](e,2,0,l(e,3,0,t["\u0275nov"](e.parent.parent.parent,0),e.parent.context.$implicit.dataSample.actual,"1.2-2"));l(e,2,0,i),l(e,5,0,e.parent.context.$implicit.dataSample.target),l(e,8,0,e.parent.context.$implicit.dataSample.upper),l(e,10,0,e.parent.context.$implicit.dataSample.lower),l(e,12,0,n.UoM)})}function ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,1)],null,function(l,e){var n=t["\u0275unv"](e,1,0,l(e,2,0,t["\u0275nov"](e.parent.parent.parent,1),e.parent.context.$implicit.lastDataSampleDate));l(e,1,0,n)})}function be(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,1,0,e.parent.context.$implicit.abnormalityCause)})}function ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function xe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","text-two-line"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" ",""]))],null,function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.remarkDescription,"")),l(e,1,0,e.parent.context.$implicit.remarkDescription)})}function we(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Ie(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["View"]))],null,null)}function De(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","chev-exp-col"],["ibmIconChevronDown32",""]],null,[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(l.parent.context.$implicit.isActionListExpanded=!l.parent.context.$implicit.isActionListExpanded,t=!1!==i.getReworkActions(n,l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,K.a,[t.ElementRef],null,null)],null,null)}function Me(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","chev-exp-col"],["ibmIconChevronUp32",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=0!=(l.parent.context.$implicit.isActionListExpanded=!l.parent.context.$implicit.isActionListExpanded)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,q.a,[t.ElementRef],null,null)],null,null)}function Pe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,":svg:svg",[["style","height: 32px; width: 32px;"]],null,null,null,null,null))],null,null)}function Se(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onAddMoreAction(n,l.parent.context.$implicit,-1)&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Add Action "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function ke(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==(!i.isArchived&&i.onEditAnalysis(l.parent.context.$implicit))&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Edit "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function Fe(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function Re(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,71,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,67,"div",[["class","rTableRow"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,66,"div",[["class","ranalysisTableRowWrapper align-items-center border-right-bottom"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,se)),t["\u0275did"](5,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,de)),t["\u0275did"](7,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ce)),t["\u0275did"](10,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,pe)),t["\u0275did"](12,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](13,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,me)),t["\u0275did"](15,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ge)),t["\u0275did"](17,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](18,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,he)),t["\u0275did"](20,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,fe)),t["\u0275did"](22,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](23,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ve)),t["\u0275did"](25,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,be)),t["\u0275did"](27,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](28,0,null,null,2,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](30,null,["",""])),(l()(),t["\u0275eld"](31,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ce)),t["\u0275did"](33,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ye)),t["\u0275did"](35,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](36,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,xe)),t["\u0275did"](38,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,we)),t["\u0275did"](40,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](41,0,null,null,4,"div",[["class","rTableCell flex-2 attachmentColumnCell cursor-pointer"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ie)),t["\u0275did"](43,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,De)),t["\u0275did"](45,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](46,0,null,null,22,"div",[["class","rTableCell flex-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,21,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](48,16384,null,0,w.c,[],null,null),(l()(),t["\u0275eld"](49,0,null,null,8,"div",[["class","expandedIconCell align-items-end cursor-pointer"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](50,81920,null,0,w.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](51,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,Te)),t["\u0275did"](53,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Me)),t["\u0275did"](55,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Pe)),t["\u0275did"](57,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](58,0,null,null,10,"div",[["class","overflowCell"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](59,81920,null,0,w.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](60,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](61,0,null,null,7,"div",[["style","align-self:flex-end;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](62,0,null,null,6,"ibm-overflow-menu",[["flip","true"]],null,null,null,P.b,P.a)),t["\u0275did"](63,49152,null,1,S.a,[t.ElementRef,s.a],{flip:[0,"flip"]},null),t["\u0275qud"](335544320,9,{overflowMenuDirective:0}),(l()(),t["\u0275and"](16777216,null,0,1,null,Se)),t["\u0275did"](66,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,ke)),t["\u0275did"](68,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,2,null,Fe)),t["\u0275did"](70,540672,null,0,g.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](71,{actionData:0,analysis:1}),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){var n=e.component;l(e,5,0,e.context.$implicit.abnormalityDescription),l(e,7,0,!e.context.$implicit.abnormalityDescription),l(e,10,0,e.context.$implicit.analysisDescription),l(e,12,0,!e.context.$implicit.analysisDescription),l(e,15,0,e.context.$implicit.addedTimestamp),l(e,17,0,!e.context.$implicit.addedTimestamp),l(e,20,0,!e.context.$implicit.dataSample),l(e,22,0,e.context.$implicit.dataSample),l(e,25,0,e.context.$implicit.lastDataSampleDate),l(e,27,0,!e.context.$implicit.lastDataSampleDate),l(e,33,0,e.context.$implicit.abnormalityCause),l(e,35,0,!e.context.$implicit.abnormalityCause),l(e,38,0,e.context.$implicit.remarkDescription),l(e,40,0,!e.context.$implicit.remarkDescription),l(e,43,0,e.context.$implicit.documentsCount>0),l(e,45,0,!e.context.$implicit.documentsCount);var i=l(e,51,0,8,8,8);l(e,50,0,"expandedIconCell align-items-end cursor-pointer",i),l(e,53,0,!e.context.$implicit.isActionListExpanded&&e.context.$implicit.isActionListData),l(e,55,0,e.context.$implicit.isActionListExpanded&&e.context.$implicit.isActionListData),l(e,57,0,!(!e.context.$implicit.isActionListExpanded&&e.context.$implicit.isActionListData||e.context.$implicit.isActionListExpanded&&e.context.$implicit.isActionListData));var a=l(e,60,0,4,4,4);l(e,59,0,"overflowCell",a),l(e,63,0,"true"),l(e,66,0,!n.showHideUpperLowerLimit&&e.context.$implicit.dataSample&&e.context.$implicit.dataSample.dataSampleStartDate),l(e,68,0,!n.showHideUpperLowerLimit);var u=l(e,71,0,e.context.$implicit.actions,e.context.$implicit);l(e,70,0,u,e.context.$implicit.isActionListExpanded?t["\u0275nov"](e.parent.parent,43):"")},function(l,e){l(e,30,0,e.context.$implicit.isSOPFollowedLabel),l(e,47,0,t["\u0275nov"](e,48).baseClass),l(e,49,0,t["\u0275nov"](e,50).columnClasses),l(e,58,0,t["\u0275nov"](e,59).columnClasses)})}function Le(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,re)),t["\u0275did"](1,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Re)),t["\u0275did"](3,278528,null,0,g.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){var n=e.component;l(e,1,0,!(null!=n.analysisData&&n.analysisData.length)),l(e,3,0,n.analysisData)},null)}function Oe(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function Ne(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","text-right"],["style","margin-left: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"button",[["class","button-goal"],["ibmButton","secondary"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.exportActions()&&t),t},null,null)),t["\u0275did"](2,16384,null,0,H.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Export"])),(l()(),t["\u0275eld"](5,0,null,null,1,":svg:svg",[["ibmIconDocumentExport24",""]],null,null,null,null,null)),t["\u0275did"](6,4210688,null,0,z.a,[t.ElementRef],null,null)],function(l,e){l(e,2,0,"secondary")},function(l,e){l(e,1,1,[t["\u0275nov"](e,2).baseClass,t["\u0275nov"](e,2).primaryButton,t["\u0275nov"](e,2).secondaryButton,t["\u0275nov"](e,2).tertiaryButton,t["\u0275nov"](e,2).ghostButton,t["\u0275nov"](e,2).dangerButton,t["\u0275nov"](e,2).dangerPrimaryButton,t["\u0275nov"](e,2).skeleton,t["\u0275nov"](e,2).smallSize,t["\u0275nov"](e,2).toolbarAction,t["\u0275nov"](e,2).overflowMenu])})}function Ee(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"button",[["class","button-goal"],["ibmButton","danger"],["style","margin-left: 10px;"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onAddAnalysis(n)&&t),t},null,null)),t["\u0275did"](1,16384,null,0,H.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Add Remark"])),(l()(),t["\u0275eld"](4,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),t["\u0275did"](5,4210688,null,0,B.a,[t.ElementRef],null,null)],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,1,[t["\u0275nov"](e,1).baseClass,t["\u0275nov"](e,1).primaryButton,t["\u0275nov"](e,1).secondaryButton,t["\u0275nov"](e,1).tertiaryButton,t["\u0275nov"](e,1).ghostButton,t["\u0275nov"](e,1).dangerButton,t["\u0275nov"](e,1).dangerPrimaryButton,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).smallSize,t["\u0275nov"](e,1).toolbarAction,t["\u0275nov"](e,1).overflowMenu])})}function Ae(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function Ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","current-archived-tabs"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"p",[["style","padding-top: 32px; font-size: 18px; height: 26px; padding-bottom: 32px;font-weight: 600;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Analysis and Action Items"])),(l()(),t["\u0275eld"](3,0,null,null,8,"div",[["style","width: 175px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,7,"ibm-tabs",[],null,null,null,G.b,G.a)),t["\u0275did"](5,1097728,null,2,W.a,[],null,null),t["\u0275qud"](603979776,10,{tabs:1}),t["\u0275qud"](335544320,11,{tabHeaders:0}),(l()(),t["\u0275eld"](8,0,null,0,1,"ibm-tab",[["heading","Current"]],[[1,"id",0]],[[null,"selected"]],function(l,e,n){var t=!0;return"selected"===e&&(t=!1!==l.component.onTabSelected("CURRENT")&&t),t},i.b,i.a)),t["\u0275did"](9,114688,[[10,4]],0,a.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(l()(),t["\u0275eld"](10,0,null,0,1,"ibm-tab",[["heading","Archived"]],[[1,"id",0]],[[null,"selected"]],function(l,e,n){var t=!0;return"selected"===e&&(t=!1!==l.component.onTabSelected("ARCHIVED")&&t),t},i.b,i.a)),t["\u0275did"](11,114688,[[10,4]],0,a.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(l()(),t["\u0275eld"](12,0,null,null,7,"div",[["class","add-analysis-btn-cnt"],["style","margin-bottom: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,2,"div",[["style","background-color: #F3F3F3; width: 100%; height: 100%"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Oe)),t["\u0275did"](15,540672,null,0,g.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ne)),t["\u0275did"](17,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ee)),t["\u0275did"](19,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](20,0,null,null,30,"div",[["class","rTableRow analysisTableHeads"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Abnormality Description"])),(l()(),t["\u0275eld"](24,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Analysis Description"])),(l()(),t["\u0275eld"](27,0,null,null,2,"div",[["class","rTableHead flex-2"],["style","margin-right: 8px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Date of Analysis"])),(l()(),t["\u0275eld"](30,0,null,null,4,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,3,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Sample"])),(l()(),t["\u0275eld"](33,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["(UoM)"])),(l()(),t["\u0275eld"](35,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](36,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Sample Date"])),(l()(),t["\u0275eld"](38,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["SOP Followed"])),(l()(),t["\u0275eld"](41,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](42,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Abnormality Cause"])),(l()(),t["\u0275eld"](44,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](45,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Remarks"])),(l()(),t["\u0275eld"](47,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](48,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Attachment"])),(l()(),t["\u0275eld"](50,0,null,null,0,"div",[["class","expandedIconCell flex-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](51,0,null,null,2,"div",[["id","analysis-container-scroll"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ae)),t["\u0275did"](53,540672,null,0,g.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(l,e){var n=e.component;l(e,9,0,"Current","CURRENT"===n.selectedTab),l(e,11,0,"Archived","ARCHIVED"===n.selectedTab),l(e,15,0,t["\u0275nov"](e.parent,44)),l(e,17,0,n.analysisData),l(e,19,0,!n.isArchived),l(e,53,0,t["\u0275nov"](e.parent,n.isKPIAnalysisLoading?45:41))},function(l,e){l(e,8,0,t["\u0275nov"](e,9).attrClass),l(e,10,0,t["\u0275nov"](e,11).attrClass)})}function _e(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,1,0,e.parent.parent.context.$implicit.type)})}function Ue(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont text-two-line"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",e.parent.parent.context.$implicit.description,"")),l(e,1,0,e.parent.parent.context.$implicit.description)})}function qe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Ke(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,1,0,e.parent.parent.context.$implicit.progress)})}function He(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"a",[["style","cursor: pointer;"]],null,[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(n.stopPropagation(),t=!1!==i.addReworkNewAction(n,l.parent.parent.parent.context.analysis,l.parent.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,function(l,e){l(e,2,0,e.parent.parent.context.$implicit.progress)})}function ze(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Be(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,1,0,e.parent.parent.context.$implicit.actorName)})}function Ge(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function We(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,1,0,e.parent.parent.context.$implicit.actionDate)})}function je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function $e(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" ",""]))],null,function(l,e){l(e,1,0,e.parent.parent.context.$implicit.actualCompletionDate)})}function Qe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Ze(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Xe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Yes"]))],null,null)}function Je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No"]))],null,null)}function ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" ",""]))],null,function(l,e){l(e,1,0,e.parent.parent.context.$implicit.effectiveCheckStatus)})}function en(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont text-two-line"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" ",""]))],null,function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",e.parent.parent.context.$implicit.remark,"")),l(e,1,0,e.parent.parent.context.$implicit.remark)})}function tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function an(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[],null,[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==(!i.isArchived&&i.onEditAnalysis(l.parent.parent.parent.context.analysis))&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["View"]))],null,null)}function un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function on(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ibm-overflow-menu-option",[["class","widget-overflow-menu-option"],["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==(!i.isArchived&&i.onEditActions(l.parent.parent.parent.context.analysis,l.parent.parent.context.$implicit,l.parent.parent.context.index))&&t),t},y.b,y.a)),t["\u0275did"](1,4243456,null,0,x.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,["Edit Action "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).optionClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).isDanger,t["\u0275nov"](e,1).isDisabled)})}function rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,1,0,e.parent.context.$implicit.type)})}function sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont text-two-line"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.description,"")),l(e,1,0,e.parent.context.$implicit.description)})}function cn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function pn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,1,0,e.parent.context.$implicit.actorName)})}function mn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,1,0,e.parent.context.$implicit.actionDate)})}function hn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function fn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" ",""]))],null,function(l,e){l(e,1,0,e.parent.context.$implicit.actualCompletionDate)})}function vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Cn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Yes"]))],null,null)}function yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No"]))],null,null)}function xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" ",""]))],null,function(l,e){l(e,1,0,e.parent.context.$implicit.effectiveCheckStatus)})}function wn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function In(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont text-two-line"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.remark,"")),l(e,1,0,e.parent.context.$implicit.remark)})}function Dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onEditAnalysis(l.parent.parent.parent.parent.parent.context.analysis)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["View"]))],null,null)}function Mn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Pn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,52,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,51,"div",[["class","rTableRow"],["style","padding: 0 0 0 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,50,"div",[["class","ranalysisTableRowWrapper align-items-center violet-border margin2"]],null,[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==(!i.isArchived&&i.onEditActions(l.parent.parent.parent.parent.context.analysis,l.context.$implicit,l.parent.parent.parent.context.index))&&t),t},null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[["class","rTableCell flex-2 "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,rn)),t["\u0275did"](5,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,sn)),t["\u0275did"](7,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,0,null,null,4,"div",[["class","rTableCell flex-2  "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,dn)),t["\u0275did"](10,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,cn)),t["\u0275did"](12,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](13,0,null,null,2,"div",[["class","rTableCell flex-2  "]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"p",[["class","actionTableCellFont"]],null,null,null,null,null)),(l()(),t["\u0275ted"](15,null,["",""])),(l()(),t["\u0275eld"](16,0,null,null,4,"div",[["class","rTableCell flex-2  "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,pn)),t["\u0275did"](18,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,mn)),t["\u0275did"](20,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](21,0,null,null,4,"div",[["class","rTableCell flex-2  "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,gn)),t["\u0275did"](23,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,hn)),t["\u0275did"](25,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](26,0,null,null,4,"div",[["class","rTableCell flex-2  "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,fn)),t["\u0275did"](28,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,vn)),t["\u0275did"](30,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](31,0,null,null,6,"div",[["class","rTableCell flex-2  "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,bn)),t["\u0275did"](33,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Cn)),t["\u0275did"](35,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,yn)),t["\u0275did"](37,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](38,0,null,null,4,"div",[["class","rTableCell flex-2  "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,xn)),t["\u0275did"](40,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,wn)),t["\u0275did"](42,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](43,0,null,null,4,"div",[["class","rTableCell flex-2  "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,In)),t["\u0275did"](45,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Dn)),t["\u0275did"](47,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](48,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Tn)),t["\u0275did"](50,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Mn)),t["\u0275did"](52,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){l(e,5,0,e.context.$implicit.type),l(e,7,0,!e.context.$implicit.type),l(e,10,0,e.context.$implicit.description),l(e,12,0,!e.context.$implicit.description),l(e,18,0,e.context.$implicit.actorName),l(e,20,0,!e.context.$implicit.actorName),l(e,23,0,e.context.$implicit.actionDate),l(e,25,0,!e.context.$implicit.actionDate),l(e,28,0,e.context.$implicit.actualCompletionDate),l(e,30,0,!e.context.$implicit.actualCompletionDate),l(e,33,0,"Completed"!=e.context.$implicit.progress),l(e,35,0,e.context.$implicit.candidateForStandarisation&&"Completed"==e.context.$implicit.progress),l(e,37,0,!e.context.$implicit.candidateForStandarisation&&"Completed"==e.context.$implicit.progress),l(e,40,0,e.context.$implicit.effectiveCheckStatus),l(e,42,0,!e.context.$implicit.effectiveCheckStatus),l(e,45,0,e.context.$implicit.remark),l(e,47,0,!e.context.$implicit.remark),l(e,50,0,e.context.$implicit.documentsCount),l(e,52,0,!e.context.$implicit.documentsCount)},function(l,e){l(e,15,0,e.context.$implicit.progress)})}function Sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["style","width: 100%;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Pn)),t["\u0275did"](2,278528,null,0,g.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,e){l(e,2,0,e.parent.parent.context.$implicit.rework)},null)}function kn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,64,"div",[["class","rTableRow"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,61,"div",[["class","ractionTableRowWrapper align-items-center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,_e)),t["\u0275did"](4,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ue)),t["\u0275did"](6,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](7,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ve)),t["\u0275did"](9,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,qe)),t["\u0275did"](11,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](12,0,null,null,6,"div",[["class","rTableCell flex-2 "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ke)),t["\u0275did"](14,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,He)),t["\u0275did"](16,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ze)),t["\u0275did"](18,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](19,0,null,null,4,"div",[["class","rTableCell flex-2 "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Be)),t["\u0275did"](21,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ge)),t["\u0275did"](23,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](24,0,null,null,4,"div",[["class","rTableCell flex-2 "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,We)),t["\u0275did"](26,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,je)),t["\u0275did"](28,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](29,0,null,null,4,"div",[["class","rTableCell flex-2 "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,$e)),t["\u0275did"](31,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Qe)),t["\u0275did"](33,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](34,0,null,null,6,"div",[["class","rTableCell flex-2 "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ze)),t["\u0275did"](36,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Xe)),t["\u0275did"](38,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Je)),t["\u0275did"](40,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](41,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ln)),t["\u0275did"](43,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,en)),t["\u0275did"](45,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](46,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,nn)),t["\u0275did"](48,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,tn)),t["\u0275did"](50,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](51,0,null,null,4,"div",[["class","rTableCell flex-2 "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,an)),t["\u0275did"](53,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](55,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](56,0,null,null,6,"div",[["class","rTableCell flex-1 align-items-end cursor-pointer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](57,0,null,null,5,"div",[["style","align-self:flex-end;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](58,0,null,null,4,"ibm-overflow-menu",[["class","widget-overflow-menu"],["flip","true"]],null,null,null,P.b,P.a)),t["\u0275did"](59,49152,null,1,S.a,[t.ElementRef,s.a],{flip:[0,"flip"]},null),t["\u0275qud"](335544320,12,{overflowMenuDirective:0}),(l()(),t["\u0275and"](16777216,null,0,1,null,on)),t["\u0275did"](62,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Sn)),t["\u0275did"](64,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,4,0,e.parent.context.$implicit.type),l(e,6,0,!e.parent.context.$implicit.type),l(e,9,0,e.parent.context.$implicit.description),l(e,11,0,!e.parent.context.$implicit.description),l(e,14,0,"Rework"!=e.parent.context.$implicit.progress),l(e,16,0,"Rework"==e.parent.context.$implicit.progress),l(e,18,0,!e.parent.context.$implicit.progress),l(e,21,0,e.parent.context.$implicit.actorName),l(e,23,0,!e.parent.context.$implicit.actorName),l(e,26,0,e.parent.context.$implicit.actionDate),l(e,28,0,!e.parent.context.$implicit.actionDate),l(e,31,0,e.parent.context.$implicit.actualCompletionDate),l(e,33,0,!e.parent.context.$implicit.actualCompletionDate),l(e,36,0,"Completed"!=e.parent.context.$implicit.progress),l(e,38,0,e.parent.context.$implicit.candidateForStandarisation&&"Completed"==e.parent.context.$implicit.progress),l(e,40,0,!e.parent.context.$implicit.candidateForStandarisation&&"Completed"==e.parent.context.$implicit.progress),l(e,43,0,e.parent.context.$implicit.effectiveCheckStatus),l(e,45,0,!e.parent.context.$implicit.effectiveCheckStatus),l(e,48,0,e.parent.context.$implicit.remark),l(e,50,0,!e.parent.context.$implicit.remark),l(e,53,0,e.parent.context.$implicit.documentsCount),l(e,55,0,!e.parent.context.$implicit.documentsCount),l(e,59,0,"true"),l(e,62,0,!n.showHideUpperLowerLimit),l(e,64,0,e.parent.context.$implicit.isExpanded)},null)}function Fn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,kn)),t["\u0275did"](2,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){l(e,2,0,!e.context.$implicit.parentActionId)},null)}function Rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,32,"div",[["style","border-top: thick; border-style: groove; border-width: 2px 0px 0px 0px; border-color:  #d9d9d9;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,31,"div",[["class","rTableRow actionTableHeads"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Action Item Type"])),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Action Item Description"])),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Status"])),(l()(),t["\u0275eld"](11,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Assigned To"])),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Planned Completion"])),(l()(),t["\u0275eld"](17,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Actual Completion"])),(l()(),t["\u0275eld"](20,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Candidate for standardization"])),(l()(),t["\u0275eld"](23,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Effective Check Status"])),(l()(),t["\u0275eld"](26,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Remark"])),(l()(),t["\u0275eld"](29,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Attachment"])),(l()(),t["\u0275eld"](32,0,null,null,0,"div",[["class","rTableHead flex-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](33,0,null,null,2,"div",[["style","border-top: thick; border-style: groove; border-width: 0px 0px 2px 0px; border-color:  #d9d9d9;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Fn)),t["\u0275did"](35,278528,null,0,g.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,e){l(e,35,0,e.context.actionData)},null)}function Ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","bx--search"],["data-search",""],["role","search"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"input",[["class","bx--search-input search-text-input"],["id","search__input-kpi"],["placeholder","Search for Analysis or Action Item by Description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(a.searchInputText=n)&&i),"ngModelChange"===e&&(i=!1!==a.searchModelChanged.next(n)&&i),i},null,null)),t["\u0275did"](2,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.p,function(l){return[l]},[o.c]),t["\u0275did"](4,671744,null,0,o.u,[[8,null],[8,null],[8,null],[6,o.p]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,o.q,null,[o.u]),t["\u0275did"](6,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t["\u0275eld"](7,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","bx--search-magnifier"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 16 16"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,0,":svg:path",[["d","M15 14.3L10.7 10c1.9-2.3 1.6-5.8-.7-7.7S4.2.7 2.3 3 .7 8.8 3 10.7c2 1.7 5 1.7 7 0l4.3 4.3.7-.7zM2 6.5C2 4 4 2 6.5 2S11 4 11 6.5 9 11 6.5 11 2 9 2 6.5z"]],null,null,null,null,null))],function(l,e){l(e,4,0,e.component.searchInputText)},function(l,e){l(e,1,0,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending)})}function On(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["size","sm"],["title","Loading KPI details..."]],[[2,"bx--loading-overlay",null]],null,null,j.b,j.a)),t["\u0275did"](2,49152,null,0,$.a,[s.a],{title:[0,"title"],size:[1,"size"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."]))],function(l,e){l(e,2,0,"Loading KPI details...","sm")},function(l,e){l(e,1,0,t["\u0275nov"](e,2).overlay)})}function Nn(l){return t["\u0275vid"](0,[t["\u0275pid"](0,g.DecimalPipe,[t.LOCALE_ID]),t["\u0275pid"](0,g.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](2,0,null,null,37,"div",[["class","kpi-details-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"h1",[["class","title-per"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["CAP-Do"])),(l()(),t["\u0275eld"](5,0,null,null,23,"div",[["class","export-btn-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,11,"ibm-tabs",[],null,null,null,G.b,G.a)),t["\u0275did"](7,1097728,null,2,W.a,[],null,null),t["\u0275qud"](603979776,1,{tabs:1}),t["\u0275qud"](335544320,2,{tabHeaders:0}),(l()(),t["\u0275eld"](10,0,null,0,1,"ibm-tab",[["heading","Me"]],[[1,"id",0]],[[null,"selected"]],function(l,e,n){var t=!0,i=l.component;return"selected"===e&&(t=!1!==i.onClickTab(i.currentid,"ME")&&t),t},i.b,i.a)),t["\u0275did"](11,114688,[[1,4]],0,a.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(l()(),t["\u0275and"](16777216,null,0,1,null,ol)),t["\u0275did"](13,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](14,0,null,0,3,"ibm-tab",[["heading","Subordinate"]],[[1,"id",0]],[[null,"selected"]],function(l,e,n){var t=!0,i=l.component;return"selected"===e&&(t=!1!==i.onClickTab(i.currentid,"CHILD")&&t),t},i.b,i.a)),t["\u0275did"](15,114688,[[1,4]],0,a.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(l()(),t["\u0275and"](16777216,null,0,1,null,rl)),t["\u0275did"](17,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](18,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,3,"button",[["class","button-goal"],["ibmButton","danger"],["type","button"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],null,null,null,null)),t["\u0275did"](20,16384,null,0,H.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](21,0,null,null,1,"a",[["style","text-decoration: none; color: #ffffff;"]],[[8,"href",4]],null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["View KPI Details"])),(l()(),t["\u0275eld"](23,0,null,null,5,"button",[["class","button-goal"],["ibmButton","secondary"],["style","margin-left: 10px;"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.exportActualsData()&&t),t},null,null)),t["\u0275did"](24,16384,null,0,H.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](25,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Export KPI Data"])),(l()(),t["\u0275eld"](27,0,null,null,1,":svg:svg",[["ibmIconDocumentExport24",""]],null,null,null,null,null)),t["\u0275did"](28,4210688,null,0,z.a,[t.ElementRef],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,sl)),t["\u0275did"](30,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,cl)),t["\u0275did"](32,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](33,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Fl)),t["\u0275did"](35,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ll)),t["\u0275did"](37,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ol)),t["\u0275did"](39,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,[["tableRow",2]],null,0,null,oe)),(l()(),t["\u0275and"](0,[["analysisTableRow",2]],null,0,null,Le)),(l()(),t["\u0275and"](0,[["analysisTable",2]],null,0,null,Ye)),(l()(),t["\u0275and"](0,[["actionTable",2]],null,0,null,Rn)),(l()(),t["\u0275and"](0,[["searchTemplate",2]],null,0,null,Ln)),(l()(),t["\u0275and"](0,[["loading",2]],null,0,null,On))],function(l,e){var n=e.component;l(e,11,0,"Me","ME"===n.selectedTabForCapDo),l(e,13,0,n.parentId),l(e,15,0,"Subordinate","CHILD"===n.selectedTabForCapDo),l(e,17,0,null==n.subs?null:n.subs.length),l(e,20,0,"danger"),l(e,24,0,"secondary"),l(e,30,0,"ME"===n.selectedTabForCapDo||"PARENT"===n.selectedTabForCapDo||"CHILD"===n.selectedTabForCapDo&&(null==n.subs?null:n.subs.length)),l(e,32,0,"ME"===n.selectedTabForCapDo||"PARENT"===n.selectedTabForCapDo||"CHILD"===n.selectedTabForCapDo&&(null==n.subs?null:n.subs.length)),l(e,35,0,!n.isKPIDetailsLoading&&n.isExpanded),l(e,37,0,"ME"===n.selectedTabForCapDo||"PARENT"===n.selectedTabForCapDo||"CHILD"===n.selectedTabForCapDo&&(null==n.subs?null:n.subs.length)),l(e,39,0,"CHILD"===n.selectedTabForCapDo&&!(null!=n.subs&&n.subs.length))},function(l,e){var n=e.component;l(e,10,0,t["\u0275nov"](e,11).attrClass),l(e,14,0,t["\u0275nov"](e,15).attrClass),l(e,19,1,[t["\u0275nov"](e,20).baseClass,t["\u0275nov"](e,20).primaryButton,t["\u0275nov"](e,20).secondaryButton,t["\u0275nov"](e,20).tertiaryButton,t["\u0275nov"](e,20).ghostButton,t["\u0275nov"](e,20).dangerButton,t["\u0275nov"](e,20).dangerPrimaryButton,t["\u0275nov"](e,20).skeleton,t["\u0275nov"](e,20).smallSize,t["\u0275nov"](e,20).toolbarAction,t["\u0275nov"](e,20).overflowMenu]),l(e,21,0,t["\u0275inlineInterpolate"](1,"",n.kpiDetailPageURL,"")),l(e,23,1,[t["\u0275nov"](e,24).baseClass,t["\u0275nov"](e,24).primaryButton,t["\u0275nov"](e,24).secondaryButton,t["\u0275nov"](e,24).tertiaryButton,t["\u0275nov"](e,24).ghostButton,t["\u0275nov"](e,24).dangerButton,t["\u0275nov"](e,24).dangerPrimaryButton,t["\u0275nov"](e,24).skeleton,t["\u0275nov"](e,24).smallSize,t["\u0275nov"](e,24).toolbarAction,t["\u0275nov"](e,24).overflowMenu])})}function En(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-kpi-details",[],null,null,null,Nn,ul)),t["\u0275did"](1,8634368,null,0,Q.a,[R.a,Z.a,X.a,J.a,L.a,ll.a,el.a,nl.a,tl.a,il.j,al.a,Z.l],null,null)],function(l,e){l(e,1,0)},null)}var An=t["\u0275ccf"]("app-kpi-details",Q.a,En,{},{},[])},TDjw:function(l,e,n){"use strict";var t=n("8Y7J"),i=n("cbbC"),a=n("rP3o"),u=n("PJ54"),o=n("cN2v"),r=n("tU3X"),s=n("mEpm"),d=n("uvqg"),c=n("noyz"),p=n("Amkq"),m=n("WeWU"),g=n("oljc"),h=n("s7LF"),f=n("XvC9"),v=n("kqF4"),b=n("Gv0t"),C=n("J83G"),y=n("j3Wn"),x=n("PsxR"),w=n("EApP");n.d(e,"a",function(){return M});var I=t["\u0275crt"]({encapsulation:0,styles:[[".cos-rejection-modal .bx--modal.is-visible .bx--modal-container{width:35%}.bx--modal-footer[_ngcontent-%COMP%]   button.bx--btn[_ngcontent-%COMP%]{padding-bottom:0!important}.cos-rejection-modal[_ngcontent-%COMP%]   .rectangle[_ngcontent-%COMP%]{padding:0 16px}.reason-box[_ngcontent-%COMP%]{background-color:#fff!important;border:1px solid #565656!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#9f9f9f!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::-moz-placeholder{color:#9f9f9f!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::-ms-input-placeholder{color:#9f9f9f!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::placeholder{color:#9f9f9f!important}.dialog-btn[_ngcontent-%COMP%]{outline:0;border:none;font-size:20px;justify-content:center;padding:24px 36px!important}.bx--btn[_ngcontent-%COMP%]:disabled{background-color:#3d70b2;color:#fff;outline:0;border:3px solid transparent;font-size:20px;justify-content:center;padding:24px 36px!important}.top-right-text[_ngcontent-%COMP%]{display:flex!important;float:right!important;font-size:10px!important}.center-loader-text[_ngcontent-%COMP%]{display:flex;align-items:center}.metadiv[_ngcontent-%COMP%]{padding:16px;border-left:1px solid #8080804a;border-right:1px solid #8080803b;border-bottom:1px solid #8080803b}.increased-height[_ngcontent-%COMP%]{min-height:300px!important}"]],data:{}});function D(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,43,"ibm-modal",[["class","cos-rejection-modal"],["size","lg"]],null,[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,1).handleKeyboardEvent(n)&&i),i},i.c,i.b)),t["\u0275did"](1,4440064,null,0,a.a,[u.a],{size:[0,"size"]},null),(l()(),t["\u0275eld"](2,0,null,0,3,"ibm-modal-header",[],null,[[null,"closeSelect"]],function(l,e,n){var t=!0;return"closeSelect"===e&&(t=!1!==l.component.closeModal()&&t),t},o.c,o.b)),t["\u0275did"](3,49152,null,0,r.a,[s.a,d.a],null,{closeSelect:"closeSelect"}),(l()(),t["\u0275eld"](4,0,null,0,1,"h4",[["style","font-size: 18px;font-weight: 600;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Add CP"])),(l()(),t["\u0275eld"](6,0,null,0,31,"div",[["class","modal-body rectangle bx--modal-content"],["style","overflow-y: visible; min-height: 300px !important;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,17,"div",[["ibmRow",""],["style","margin-bottom: 30px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](8,16384,null,0,c.c,[],null,null),(l()(),t["\u0275eld"](9,0,null,null,15,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](10,81920,null,0,c.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](11,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](12,0,null,null,12,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](13,1097728,null,0,m.a,[],null,null),(l()(),t["\u0275eld"](14,0,null,0,3,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KPI Title"])),(l()(),t["\u0275eld"](16,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" *"])),(l()(),t["\u0275eld"](18,0,null,1,6,"input",[["appendInline","true"],["ibmText",""],["rows","5"],["style","background-color: #f3f3f3;"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,20)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,20).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,20)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,20)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(a.kpiTitle=n)&&i),i},null,null)),t["\u0275did"](19,16384,null,0,g.a,[],null,null),t["\u0275did"](20,16384,null,0,h.c,[t.Renderer2,t.ElementRef,[2,h.a]],null,null),t["\u0275prd"](1024,null,h.p,function(l){return[l]},[h.c]),t["\u0275did"](22,671744,null,0,h.u,[[8,null],[8,null],[8,null],[6,h.p]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,h.q,null,[h.u]),t["\u0275did"](24,16384,null,0,h.r,[[4,h.q]],null,null),(l()(),t["\u0275eld"](25,0,null,null,12,"div",[["ibmRow",""],["style","margin-top: 50px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](26,16384,null,0,c.c,[],null,null),(l()(),t["\u0275eld"](27,0,null,null,10,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](28,81920,null,0,c.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](29,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](30,0,null,null,7,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](31,1097728,null,0,m.a,[],null,null),(l()(),t["\u0275eld"](32,0,null,0,3,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Owner"])),(l()(),t["\u0275eld"](34,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" *"])),(l()(),t["\u0275eld"](36,0,null,0,1,"app-e4-combo-box",[["isDependent","true"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onOpen"===e&&(t=!1!==i.onOpenOwner(n)&&t),"onSearch"===e&&(t=!1!==i.onSearchUser(n,"viewer")&&t),"onSelect"===e&&(t=!1!==i.onSelectedUser(n)&&t),t},f.b,f.a)),t["\u0275did"](37,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],searchQuery:[2,"searchQuery"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(l()(),t["\u0275eld"](38,0,null,0,5,"ibm-modal-footer",[],null,null,null,b.c,b.b)),t["\u0275did"](39,49152,null,0,C.a,[],null,null),(l()(),t["\u0275eld"](40,0,null,0,1,"button",[["class","bx--btn bx--btn--primary dialog-btn"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.createCPNode()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,[" Confirm "])),(l()(),t["\u0275eld"](42,0,null,0,1,"button",[["class","bx--btn bx--btn--danger dialog-btn"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.closeModal()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,[" Cancel "]))],function(l,e){var n=e.component;l(e,1,0,"lg");var t=l(e,11,0,6,6,12);l(e,10,0,t),l(e,22,0,n.kpiTitle);var i=l(e,29,0,6,6,12);l(e,28,0,i),l(e,37,0,n.searchedUsers,"true",n.username)},function(l,e){l(e,7,0,t["\u0275nov"](e,8).baseClass),l(e,9,0,t["\u0275nov"](e,10).columnClasses),l(e,12,0,t["\u0275nov"](e,13).labelClass),l(e,18,1,[t["\u0275nov"](e,19).inputClass,t["\u0275nov"](e,19).invalid,t["\u0275nov"](e,19).skeleton,t["\u0275nov"](e,19).isLightTheme,t["\u0275nov"](e,24).ngClassUntouched,t["\u0275nov"](e,24).ngClassTouched,t["\u0275nov"](e,24).ngClassPristine,t["\u0275nov"](e,24).ngClassDirty,t["\u0275nov"](e,24).ngClassValid,t["\u0275nov"](e,24).ngClassInvalid,t["\u0275nov"](e,24).ngClassPending]),l(e,25,0,t["\u0275nov"](e,26).baseClass),l(e,27,0,t["\u0275nov"](e,28).columnClasses),l(e,30,0,t["\u0275nov"](e,31).labelClass)})}function T(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-create-cp",[],null,null,null,D,I)),t["\u0275did"](1,114688,null,0,y.a,[u.a,t.Injector,x.a,w.j],null,null)],function(l,e){l(e,1,0)},null)}var M=t["\u0275ccf"]("app-create-cp",y.a,T,{},{close:"close"},[])},VXjn:function(l,e,n){"use strict";n.d(e,"a",function(){return t});class t{}},ajXB:function(l,e,n){"use strict";n.d(e,"a",function(){return a});var t=n("mrSG"),i=n("uwG0");class a{translate(l,e){return Object(t.__awaiter)(this,void 0,void 0,function*(){return e?yield this.processWidgetData(l,e.chartOptions,e.kpiRes,e.unitOfMeasurementMap,e.captureFrequencyMap,e.overrideCaptureFrequency,e.dcfType,e.overrideColors,e.colorScale):e})}processWidgetData(l,e,n,i,a,u,o,r,s){return Object(t.__awaiter)(this,void 0,void 0,function*(){let t={},a=o;return this.isGroupedBarChart(l)&&(t=this.parseGroupedBarData(e,n,a)),t.showDataPointLabelOnBar=!(!e||!0!==e.showDataPointLabelOnBar),t.xAxisLabel=this.getXAxisLabel(a),t.yAxisLabel=this.getYAxisLabel(n,i),r&&(t.overrideColors=r),s&&(t.colorScale=s||[]),t})}getYAxisLabel(l,e){let n,t=function(l){return l?`${l}`:"Performance"};return(l=l||[]).forEach(l=>{l.success&&(n=t(e.get(l.kpi.unitOfMeasurement)))}),n||(n=t(null)),n}getXAxisLabel(l){return l?`Data Capture Freq. (${l})`:"Data Capture Freq."}getDcfValue(l,e,n){if(n){let l=e.get(n);if(l)return l}let t;return(l=l||[]).forEach(l=>{l.success&&(t=e.get(l.kpi.dataCaptureFrequency))}),t}isGroupedBarChart(l){return"bar"==l}isEligibleData(l,e){return!l||l.start<=e.fyStart&&l.end>=e.fyEnd}parseGroupedBarData(l,e,n){let t={data:[],xLabel:"",subGroupLabels:[]};if(0==(e=e||[]).length)return t;let a=i.a.getTimeFormater(n);if(1==e.length)return e.forEach(e=>{let n={},i=[];e.success&&(e.response||[]).length>0&&e.response.forEach(e=>{if(this.isEligibleData(l,e)){let l=a(e.fyStart,e.fyEnd);if(n[l]){let t=n[l];t.Actual+=e.latestActual,t.Target+=e.latestTarget}else e.xLabel=l,e.Actual=e.latestActual,e.Target=e.latestTarget,n[l]=e,i.push(e)}}),t.data=[...i],t.xLabel="xLabel",t.subGroupLabels=["Target","Actual"]}),t;if(e.length>1){let i={},a=[],u={},o=this.getDcfDisplayBuckets(e,n);return e.forEach(e=>{e.success&&(e.response||[]).length>0&&e.response.forEach(n=>{if(this.isEligibleData(l,n)){let l=o.getXLabel(n);if(l){u[e.kpi.title]=e.kpi.title;let t=i[l];t||(n.xLabel=l,i[l]=n,a.push(n),t=i[l]),t.hasOwnProperty(e.kpi.title)||(t[e.kpi.title]=0),t[e.kpi.title]+=n.actual}}})}),t.data=[...a],t.xLabel="xLabel",t.subGroupLabels=Object.keys(u),t}}getDcfDisplayBuckets(l,e){let n=i.a.getTimeFormater(e),t=null;return(l||[]).length>0&&(l=l.filter(l=>l.success&&(l.response||[]).length>0).sort((l,e)=>e.response[0].endDate-e.response[0].startDate-(l.response[0].endDate-l.response[0].startDate)))[0].success&&(t={},(l[0].response||[]).forEach(l=>{let e=n(l.startDate,l.endDate);t[e]={endDate:l.endDate,startDate:l.startDate,xLabel:e}}),t.getXLabel=function(l){let e=null,n=Object.keys(t).map(l=>t[l]);for(let t=0;t<n.length;++t)if(n[t].endDate>=l.startDate&&n[t].startDate<=l.startDate){e=n[t].xLabel;break}return e}),t}}},brgC:function(l,e,n){"use strict";var t=n("8Y7J"),i=n("s6ns"),a=n("g7AK"),u=n("HXlw");n.d(e,"a",function(){return d});var o=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function r(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"h5",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.m,[[2,i.l],t.ElementRef,i.e],null,null),(l()(),t["\u0275ted"](-1,null,["Confirmation"])),(l()(),t["\u0275eld"](3,0,null,null,3,"mat-dialog-content",[["class","mat-typography mat-dialog-content"]],null,null,null,null,null)),t["\u0275did"](4,16384,null,0,i.j,[],null,null),(l()(),t["\u0275eld"](5,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,[" "," "])),(l()(),t["\u0275eld"](7,0,null,null,8,"mat-dialog-actions",[["align","end"],["class","mat-dialog-actions"]],null,null,null,null,null)),t["\u0275did"](8,16384,null,0,i.f,[],null,null),(l()(),t["\u0275eld"](9,0,null,null,2,"button",[["cdkFocusInitial",""],["ibmButton","primary"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onOkay(n)&&t),t},null,null)),t["\u0275did"](10,16384,null,0,a.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](11,null,["",""])),(l()(),t["\u0275eld"](12,0,null,null,3,"button",[["ibmButton","danger"],["mat-dialog-close",""],["style","margin-left: 8px;"]],[[1,"aria-label",0],[1,"type",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var i=!0;return"click"===e&&(i=!1!==t["\u0275nov"](l,13).dialogRef.close(t["\u0275nov"](l,13).dialogResult)&&i),i},null,null)),t["\u0275did"](13,606208,null,0,i.g,[[2,i.l],t.ElementRef,i.e],{dialogResult:[0,"dialogResult"]},null),t["\u0275did"](14,16384,null,0,a.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](15,null,["",""]))],function(l,e){l(e,1,0),l(e,10,0,"primary"),l(e,13,0,""),l(e,14,0,"danger")},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).id),l(e,6,0,n.confirmationMessage),l(e,9,1,[t["\u0275nov"](e,10).baseClass,t["\u0275nov"](e,10).primaryButton,t["\u0275nov"](e,10).secondaryButton,t["\u0275nov"](e,10).tertiaryButton,t["\u0275nov"](e,10).ghostButton,t["\u0275nov"](e,10).dangerButton,t["\u0275nov"](e,10).dangerPrimaryButton,t["\u0275nov"](e,10).skeleton,t["\u0275nov"](e,10).smallSize,t["\u0275nov"](e,10).toolbarAction,t["\u0275nov"](e,10).overflowMenu]),l(e,11,0,n.onOkayText),l(e,12,1,[t["\u0275nov"](e,13).ariaLabel||null,t["\u0275nov"](e,13).type,t["\u0275nov"](e,14).baseClass,t["\u0275nov"](e,14).primaryButton,t["\u0275nov"](e,14).secondaryButton,t["\u0275nov"](e,14).tertiaryButton,t["\u0275nov"](e,14).ghostButton,t["\u0275nov"](e,14).dangerButton,t["\u0275nov"](e,14).dangerPrimaryButton,t["\u0275nov"](e,14).skeleton,t["\u0275nov"](e,14).smallSize,t["\u0275nov"](e,14).toolbarAction,t["\u0275nov"](e,14).overflowMenu]),l(e,15,0,n.cancelBtnText)})}function s(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-mat-confirmation",[],null,null,null,r,o)),t["\u0275did"](1,114688,null,0,u.a,[i.a,i.l],null,null)],function(l,e){l(e,1,0)},null)}var d=t["\u0275ccf"]("app-mat-confirmation",u.a,s,{},{},[])},cXbK:function(l,e,n){"use strict";var t=n("8Y7J"),i=n("jGGp"),a=n("TXHj"),u=n("mEpm"),o=n("/7Vj"),r=n("s7LF"),s=n("eNer"),d=n("5OVe"),c=n("JACh"),p=n("g7AK"),m=n("noyz"),g=n("tKJU"),h=n("uUZD"),f=n("fF59"),v=n("SVse"),b=n("1V2r"),C=n("gLoP"),y=n("i3NF"),x=n("FNXg"),w=n("1ZgJ"),I=n("baZm"),D=n("uO/F"),T=n("ldNd"),M=n("BTng"),P=n("oljc"),S=n("+jrW"),k=n("QQfA"),F=n("Lb5T"),R=n("Amkq"),L=n("WeWU"),O=n("XvC9"),N=n("kqF4"),E=n("L2d0"),A=n("s5qc"),Y=n("Skov"),_=n("o8H7"),U=n("FS8H"),V=n("Yb6w"),q=n("eJBW"),K=n("QFd6"),H=n("O5lk"),z=n("AkuH"),B=n("wxoE"),G=n("A46g"),W=n("5SKc"),j=n("6p64"),Q=n("dov7"),Z=n("7ho3"),X=n("KADP"),J=n("PsxR"),ll=n("Dnte"),el=n("EApP"),nl=n("Z3BZ"),tl=n("MqE1"),il=n("X/pD"),al=n("2Fj0"),ul=n("4y4f"),ol=n("Nkwq"),rl=n("itAz"),sl=n("ciZX"),dl=n("fQX0"),cl=n.n(dl),pl=n("XNiG"),ml=n("Z725"),gl=n("9XGM"),hl=n("j3Wn");class fl{constructor(l,e,n){this.modalService=l,this.confirmationService=e,this.toastrService=n,this.panZoomController=null,this.fullScreen=!1,this.onLoadParent=new t.EventEmitter,this.onClickNode=new t.EventEmitter,this.parentChildMapEmitter=new t.EventEmitter,this.newNodesCounter=0,this.onToggleFullScreen=new t.EventEmitter,this.newCPData=new t.EventEmitter,this.addCPSubject=new pl.a}loadParent(){this.onLoadParent.emit()}getRandomId(){return Math.floor(9999999999*Math.random()+1)+""}ngOnInit(){this.zoomLevels=[.1,.25,.5,.75,1,1.25,1.5,1.75,2,2.5,3],this.currentZoomLevel=this.zoomLevels[4]}ngAfterViewInit(){this.graphConfig&&this.renderChart()}renderChart(){$(this.chartConfig.chart.container).length&&(new Treant(this.chartConfig,null,$),this.zoomable.nativeElement.firstElementChild.style="overflow:visible",this.panZoomController||(this.panZoomController=cl()(this.zoomable.nativeElement.firstElementChild,{maxZoom:3,minZoom:.1,beforeWheel:function(l){return!l.ctrlKey}})))}zoom(){if(this.graphConfig){const l=!0,e=this.currentZoomLevel;if(e){const n=this.panZoomController.getTransform(),t=e+n.x,i=e+n.y;l?this.panZoomController.zoomAbs(0,0,e):this.panZoomController.zoomTo(t,i,e)}}}zoomToggle(l){if(this.graphConfig){const e=this.zoomLevels.indexOf(this.currentZoomLevel);l?void 0!==this.zoomLevels[e+1]&&(this.currentZoomLevel=this.zoomLevels[e+1]):void 0!==this.zoomLevels[e-1]&&(this.currentZoomLevel=this.zoomLevels[e-1]),1===this.currentZoomLevel?(this.panZoomController.moveTo(0,0),this.panZoomController.zoomAbs(0,0,1)):this.zoom()}}ngOnChanges(l){if(l.graphConfig&&l.graphConfig.currentValue){const l=this.getRandomId(),e=this;this.deploymentTreeContainer.nativeElement.setAttribute("id",l),this.chartConfig={chart:{container:"#"+l,callback:{onTreeLoaded:function(){const n=$("#"+l+".Treant .node");e.$nodes=n,n.unbind("click"),n.on("click",function(l){const n=$(this);e.nodeData=n.data("treenode"),e.onClickNodes(e.nodeData)})}},rootOrientation:this.graphConfig.orientation||"WEST",siblingSeparation:20,subTeeSeparation:60,scrollbar:"none",connectors:{type:this.graphConfig.connectorType||"step",style:{stroke:"#979797"}},node:{HTMLclass:"emp-node"}},nodeStructure:this.graphConfig.nodes},this.renderChart()}l.selectedNodeId&&l.selectedNodeId.currentValue&&$(".node-id"+`:contains(${l.selectedNodeId.currentValue})`).parent().addClass("selected-node")}ngOnDestroy(){this.$nodes&&this.$nodes.unbind("click")}toggleFullScreen(){this.fullScreen=!this.fullScreen,this.onToggleFullScreen.emit(this.fullScreen)}openAddCPDialog(){this.modalService.create({component:hl.a,inputs:{data:this.addCPSubject,id:this.newNodesCounter,parentOwnerId:this.selectedNodeUserId}}).onDestroy(()=>{})}openDeleteCPWarning(){this.selectedNodeId===this.graphConfig.nodes.text.id?this.toastrService.error("Cannot delete the MP."):(this.confirmationService.setData(!1),this.disableSub=this.confirmationService.getData().subscribe(l=>{l?this.deleteSelectedCP():this.disableSub&&this.disableSub.unsubscribe()}),this.modalService.create({component:gl.a,inputs:{modalText:"Deleting this KPI will aslo remove the entire branch under it. Are you sure you would like to proceed?",confirmText:"Confirm",titleText:"Warning",overlayClose:!1}}).onDestroy(()=>{this.disableSub.unsubscribe()}))}deleteSelectedCP(){this.nodeDeleted=!1,this.deleteParentAndChildNodes(this.graphConfig.nodes),this.selectedNodeId=null,this.selectedNodeUserId=null,this.ngAfterViewInit()}deleteParentAndChildNodes(l){for(var e=0;e<l.children.length;e++)if(l.children[e].text.id===this.selectedNodeId){let n=l.children.splice(e,1);this.deletedNodeSubject.next(n[0].text.id),this.nodeDeleted=!0;break}!1===this.nodeDeleted&&l.children.forEach(l=>{this.deleteParentAndChildNodes(l)})}ngAfterContentInit(){this.addCPSubject.subscribe(l=>{this.newNodesCounter=this.newNodesCounter+1,this.addChildtoParentNode(this.graphConfig.nodes,l),this.ngAfterViewInit();let e=document.getElementsByClassName("node");for(let n=0;n<e.length;n++){let t=e[n].querySelector(".node-id");if(this.createdCPId=l.id.toString(),t.innerHTML==l.id.toString()){e[n].scrollIntoView();break}}this.selectedNodeId=null,this.selectedNodeUserId=null})}addChildtoParentNode(l,e){this.parentChildMap.set(e.id,this.selectedNodeId),l.text.id===this.selectedNodeId?(l.children.push({HTMLClass:"node",children:[],text:e}),l.text.childrenCount=l.text.childrenCount+1,this.parentChildMapEmitter.emit(this.parentChildMap)):l.children.forEach(l=>{this.addChildtoParentNode(l,e)})}onClickNodes(l){this.highlightNode(l),this.onClickNode.emit(l)}highlightNode(l){$(".emp-node").removeClass("selected-node"),this.selectedNodeId=l.text.id,this.selectedNodeUserId=l.text.primaryOwnerEmployeeId,$(l.nodeDOM).addClass("selected-node")}}var vl=n("PJ54"),bl=t["\u0275crt"]({encapsulation:0,styles:[["blockquote[_ngcontent-%COMP%], body[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], div[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dt[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%], form[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], input[_ngcontent-%COMP%], li[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], td[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], th[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0}table[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0}abbr[_ngcontent-%COMP%], acronym[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{border:0}address[_ngcontent-%COMP%], caption[_ngcontent-%COMP%], cite[_ngcontent-%COMP%], code[_ngcontent-%COMP%], dfn[_ngcontent-%COMP%], em[_ngcontent-%COMP%], strong[_ngcontent-%COMP%], th[_ngcontent-%COMP%], var[_ngcontent-%COMP%]{font-style:normal;font-weight:400}caption[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left}q[_ngcontent-%COMP%]:after, q[_ngcontent-%COMP%]:before{content:''}.chart[_ngcontent-%COMP%]{height:100%;width:100%;overflow:auto;border-radius:3px;background-color:#1e1d1d}.chart[_ngcontent-%COMP%]   .chart-c[_ngcontent-%COMP%]{width:100%;height:100%}.emp-node[_ngcontent-%COMP%]{padding:8px;border-radius:3px;background-color:#393939;border:1px solid #393939;max-width:300px;min-width:250px;width:350px;font-family:Tahoma;font-size:12px;color:#fff;border-left:5px solid #fb0;min-height:100px;height:auto}.emp-node[_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%]{color:#fff;font-size:12px;font-weight:300;line-height:13px}.emp-node[_ngcontent-%COMP%]   .node-title[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:4px;color:#fff;font-size:14px;font-weight:500;line-height:13px}.emp-node[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.Treant[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:link, .Treant[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:visited{color:#fff}.Treant[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:link:hover{color:#636363}.zoom-icon[_ngcontent-%COMP%]{height:24px;width:80px;box-sizing:border-box;border:1px solid #d7d7d7;border-radius:20px;margin-left:5px;margin-right:5px;display:flex;align-items:center;cursor:pointer}.zoom-in[_ngcontent-%COMP%]{cursor:pointer;margin-left:6px;fill:#8c8c8c!important}.zoom-out[_ngcontent-%COMP%]{cursor:pointer;fill:#8c8c8c!important;padding:2px}.zoom-mid-line[_ngcontent-%COMP%]{width:1px!important;height:100%!important;background-color:#d7d7d7;display:inline-flex;margin:0 5px}.adding-here[_ngcontent-%COMP%]{background-color:#fb0;color:#fff}.parent-node[_ngcontent-%COMP%]{border-left:5px solid violet}.sibling-node[_ngcontent-%COMP%]{border-left:5px solid brown}.mp-node[_ngcontent-%COMP%]{border-left:5px solid #7598fe}.summary-node-red[_ngcontent-%COMP%]{border-right:5px solid red}.summary-node-green[_ngcontent-%COMP%]{border-right:5px solid green}.summary-node-yellow[_ngcontent-%COMP%]{border-right:5px solid #ff0}.summary-node-grey[_ngcontent-%COMP%]{border-right:5px solid grey}.summary-node-blue[_ngcontent-%COMP%]{border-right:5px solid #4559e6}.emp-node.node-length[_ngcontent-%COMP%]{border:4px solid #4559e6;font-family:Tahoma;font-size:12px;color:#fff;min-height:40px;border-radius:100%;max-width:40px;min-width:40px;text-align:center;width:50px;height:auto;padding:5px}.emp-node.node-length[_ngcontent-%COMP%]:hover{background-color:#4559e6}.e4-tag[_ngcontent-%COMP%]{padding:2px;height:auto;color:#fff}.e4-tag[_ngcontent-%COMP%]   .tag-value.green[_ngcontent-%COMP%]{background-color:violet;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.e4-tag[_ngcontent-%COMP%]   .tag-value.orange[_ngcontent-%COMP%]{background-color:#f3a600;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.e4-tag[_ngcontent-%COMP%]   .tag-value.blue[_ngcontent-%COMP%]{background-color:#7598fe;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.e4-tag[_ngcontent-%COMP%]   .tag-value.gray[_ngcontent-%COMP%]{background-color:brown;color:#fff;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px;padding:4px 12px;border-radius:22px}.node-vcs[_ngcontent-%COMP%]{color:#ffffffa6;font-size:16px!important}.node-more[_ngcontent-%COMP%]{text-align:right;cursor:pointer!important}.node-more[_ngcontent-%COMP%]:after{cursor:pointer!important;color:#fff;content:'\\2807';font-size:20px}.node-childrenCount[_ngcontent-%COMP%], .node-dataCaptureFrequency[_ngcontent-%COMP%], .node-directionOfGoodnessArrowColor[_ngcontent-%COMP%], .node-id[_ngcontent-%COMP%], .node-isCP[_ngcontent-%COMP%], .node-isMP[_ngcontent-%COMP%], .node-isParent[_ngcontent-%COMP%], .node-isSibling[_ngcontent-%COMP%], .node-kpiCumulativeLowerLimit[_ngcontent-%COMP%], .node-kpiCumulativeUpperLimit[_ngcontent-%COMP%], .node-parentId[_ngcontent-%COMP%], .node-primaryOwnerEmployeeId[_ngcontent-%COMP%], .node-stage[_ngcontent-%COMP%], .node-verticalNode[_ngcontent-%COMP%], .node-weightage[_ngcontent-%COMP%]{display:none}.node-primaryOwnerName[_ngcontent-%COMP%]{font-size:12px!important}.node-cumulativeActual[_ngcontent-%COMP%], .node-kpiCumulativeTarget[_ngcontent-%COMP%], .node-unitOfMeasurement[_ngcontent-%COMP%]{display:none}.node-kpiCumulativeTarget1[_ngcontent-%COMP%]{width:80px;font-size:12px!important;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:inline-block;margin-right:5px}.node-cumulativeActual1[_ngcontent-%COMP%]{font-size:12px!important;width:80px;text-overflow:ellipsis;white-space:nowrap;float:right;overflow:hidden;margin-right:5px}.node-cumulativeGap1[_ngcontent-%COMP%]{font-size:12px!important;width:80px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:inline-block;margin-left:22px}.node-kpiCumulativeTargetTitle1[_ngcontent-%COMP%]{font-size:12px!important;width:80px;display:inline-block;margin-right:5px}.node-cumulativeActualTitle1[_ngcontent-%COMP%]{font-size:12px!important;width:80px;float:right;margin-right:5px}.node-cumulativeGapTitle1[_ngcontent-%COMP%]{font-size:12px!important;width:80px;display:inline-block;margin-left:22px}.node-kpiCumulativeTargetTitle1Label[_ngcontent-%COMP%]{font-size:11px!important;width:80px;display:inline-block;margin-right:5px}.node-cumulativeActualTitle1Label[_ngcontent-%COMP%]{font-size:11px!important;width:80px;float:right;margin-right:5px}.node-cumulativeGapTitle1Label[_ngcontent-%COMP%]{font-size:11px!important;width:80px;display:inline-block;margin-left:22px}.node-indicator1[_ngcontent-%COMP%]{display:inline-block!important;position:relative;height:20px;width:20px;border-radius:50%}.node-indicator1[_ngcontent-%COMP%]:after, .node-indicator1[_ngcontent-%COMP%]:before{position:absolute;display:block;content:\"\";border:10px solid transparent}.node-indicator1[_ngcontent-%COMP%]:before{top:0;border-top-color:#fff}.node-indicator1[_ngcontent-%COMP%]:after{top:-1px;border-top-color:#393939}.node-directionOfGoodness[_ngcontent-%COMP%]{display:none}.selected-node[_ngcontent-%COMP%]{background-color:#6236ff}.dep-tree-container[_ngcontent-%COMP%]{width:100%;height:100%}.dep-tree-header[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-1[_ngcontent-%COMP%]{flex:1}.no-nodes-to-show[_ngcontent-%COMP%]{padding:16px;display:block}.get-parent[_ngcontent-%COMP%]{will-change:transform;fill:#fff;background:#da1e28;border-radius:50%;margin-left:16px;margin-right:4px;cursor:pointer}.loader-cont[_ngcontent-%COMP%]{top:35%;left:35%;position:absolute}.gray[_ngcontent-%COMP%]{fill:#fff;background:gray;cursor:not-allowed}.loadedOnceText[_ngcontent-%COMP%]{cursor:not-allowed;color:#d3d3d3}.width-64[_ngcontent-%COMP%]{width:64px}.width-80[_ngcontent-%COMP%]{width:80px}.dep-tree-header[_ngcontent-%COMP%]{background-color:#1e1d1d!important}.node-options[_ngcontent-%COMP%]{cursor:pointer;background-color:#1e1d1d!important;border:none!important;outline:0!important;color:#fff!important}.icon-white[_ngcontent-%COMP%]{padding-top:8px;margin-right:5px;max-width:15px;fill:#fff!important}  .node-_id,   .node-departmentId,   .node-departmentName,   .node-empDBId,   .node-firstname,   .node-isPrimary,   .node-lastname{display:none!important}"]],data:{}});function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","node-options"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.openAddCPDialog()&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAddAlt20",""]],null,null,null,null,null)),t["\u0275did"](2,4210688,null,0,al.a,[t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,null,[" Add CP"]))],null,null)}function yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","node-options"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.openDeleteCPWarning()&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconTrashCan20",""]],null,null,null,null,null)),t["\u0275did"](2,4210688,null,0,ul.a,[t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,null,[" Delete KPI"]))],null,null)}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","add-kpi-icon"],["style","float: left; display: flex;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","margin:auto 10px !important"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](3,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["style","float: right; margin:auto 10px !important"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,yl)),t["\u0275did"](6,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,3,0,0==n.isTreeExtended&&null!==n.selectedNodeId),l(e,6,0,0==n.isTreeExtended&&null!==n.selectedNodeId)},null)}function wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","loader-cont"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["size","sm"],["title","Loading deployment tree "]],[[2,"bx--loading-overlay",null]],null,null,i.b,i.a)),t["\u0275did"](2,49152,null,0,a.a,[u.a],{title:[0,"title"],size:[1,"size"]},null)],function(l,e){l(e,2,0,"Loading deployment tree ","sm")},function(l,e){l(e,1,0,t["\u0275nov"](e,2).overlay)})}function Il(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{zoomable:0}),t["\u0275qud"](402653184,2,{deploymentTreeContainer:0}),(l()(),t["\u0275eld"](2,0,null,null,19,"div",[["class","dep-tree-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,12,"div",[["class","dep-tree-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,11,"div",[["class","flex-1"],["style"," display: flex; justify-content: flex-end !important; margin: 20px 10px !important"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](6,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](7,0,null,null,8,"div",[["class","zoom-icon"]],null,null,null,null,null)),t["\u0275prd"](512,null,v["\u0275NgClassImpl"],v["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](9,278528,null,0,v.NgClass,[v["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](10,{"width-64":0}),(l()(),t["\u0275eld"](11,0,null,null,1,":svg:svg",[["class","zoom-in"],["ibmIconZoomIn16",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.zoomToggle(!0)&&t),t},null,null)),t["\u0275did"](12,4210688,null,0,ol.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](13,0,null,null,0,"div",[["class","zoom-mid-line"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,":svg:svg",[["class","zoom-in"],["ibmIconZoomOut16",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.zoomToggle(!1)&&t),t},null,null)),t["\u0275did"](15,4210688,null,0,rl.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](16,0,[[1,0],["zoomable",1]],null,3,"div",[["class","chart"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,[[2,0],["deploymentTreeContainer",1]],null,2,"div",[["class","chart-c"],["style","overflow:visible;color: white;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"span",[["class","no-nodes-to-show"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No nodes to show..."])),(l()(),t["\u0275and"](16777216,null,null,1,null,wl)),t["\u0275did"](21,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,6,0,n.nodeData);var t=l(e,10,0,!0);l(e,9,0,"zoom-icon",t),l(e,21,0,n.gettingDeploymentTree)},null)}var Dl=n("+4Gi"),Tl=n("Jsk+"),Ml=n("SuBU"),Pl=n("KeT7"),Sl=n("mrSG"),kl=n("HTWL"),Fl=n("+Kk7"),Rl=n("qHnB"),Ll=n("wd/R"),Ol=n("zonc"),Nl=n("XX5M");class El{constructor(l,e,n,t,i,a,u,o,r,s){this.kpiService=l,this.dialog=e,this.toastrService=n,this.goalService=t,this.settingsService=i,this.modalService=a,this.calenderService=u,this._toastrService=o,this.router=r,this.confirmationService=s,this.yearList=[],this.depTreeLoading=!1,this.setApiLevel=3,this.savedKPIData=new pl.a,this.parentChildMap=new Map,this.kpiDCFMap=new Map,this.kpiOwnerIdMap=new Map,this.deletedNodeSubject=new pl.a,this.deletedNodeList=[],this.hideExtendButton=!1,this.paginationModel=new sl.c,this.kpiList=[],this.kpiLoader=!1,this.isTreeExtended=!1,this.newCPList=[],this.yearItems=[{name:1,content:"19-20",selected:!1,startDate:"",endDate:""}],this.halfYearlyItems=[{name:1,content:"(Apr-Sep)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""},{name:2,content:"(Oct-Mar)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""}],this.isNextYear=!1,this.verticalChildData=[]}ngOnInit(){return Object(Sl.__awaiter)(this,void 0,void 0,function*(){this.refreshPagination(),this.getSelectedKPIDeploymentTree(this.currentKpiId);let l=yield this.getFinancialYearsNew();l&&l.success&&(this.financialYearsResp=l,this.filterFinacialYearsitems(this.financialYearsResp.response,null),this.setYearDate(this.yearList)),this.savedKPIData.subscribe(l=>{let e=l.owners.individuals.find(l=>!0===l.isPrimary);this.kpiOwnerIdMap.set(l._id,e.employeeId),this.kpiDCFMap.set(l._id,l.dataCaptureFrequency);let n=this.kpiList.findIndex(e=>e._id===l._id);this.kpiList[n]=l,this.filterKPIs()}),this.deletedNodeSubject.subscribe(l=>{this.deletedNodeList.push(l)})})}getFinancialYearsNew(){return this.calenderService.getfinancialYearList().toPromise()}getSelectedKPIDeploymentTree(l){this.depTreeLoading=!0,this.kpiService.getDeployementTree(l).subscribe(l=>Object(Sl.__awaiter)(this,void 0,void 0,function*(){if(l&&l.success){const e=l.response.deploymentTree[0];this.treeData=e,this.sanitize(e),this.sanitizeData(e),this.selectedKpi.deploymentTreeConfig={connectorType:"step",orientation:"WEST",nodes:e}}this.selectedKpi.gettingDeploymentTree=!1,this.depTreeLoading=!1}),l=>{this.toastrService.error(kl.a.PLEASE_TRY_AGAIN),this.selectedKpi.gettingDeploymentTree=!1})}sanitize(l){l&&l.text&&(l.text.parentId||delete l.text.parentId)}sanitizeData(l,e){return Object(Sl.__awaiter)(this,void 0,void 0,function*(){let n=!1;e?l.text.id===e[0].text.id&&(n=!0,l.text=e[0].text,l.children=e[0].children,this.mapTreeKeys(l)):l&&l.text&&!l.text.hasOwnProperty("count")?this.mapTreeKeys(l):l.HTMLclass="node-length";for(let t=0;t<l.children.length;t++)l.children[t].text.childrenCount>0&&0===l.children[t].children.length&&l.children[t].children.push({text:{count:l.children[t].text.childrenCount,id:l.children[t].text.id},children:[]}),n?this.sanitizeData(l.children[t]):this.sanitizeData(l.children[t],e)})}mapTreeKeys(l){l&&l.text&&!l.text.hasOwnProperty("count")&&(l.text.isParent?l.HTMLclass="parent-node":l.text.isMP?l.HTMLclass="mp-node":l.text.isSibling?l.HTMLclass="sibling-node":l.text.isCp&&(l.HTMLclass="cp-node"),"RED"===l.text.stage?l.HTMLclass+=" summary-node-red":"GREEN"===l.text.stage?l.HTMLclass+=" summary-node-green":"YELLOW"===l.text.stage?l.HTMLclass+=" summary-node-yellow":"GREY"===l.text.stage&&(l.HTMLclass+=" summary-node-grey"),l.text.kpiCumulativeTarget1=l.text.kpiCumulativeTarget,l.text.cumulativeActual1=l.text.cumulativeGap,l.text.cumulativeGap1="",this.gettingAnalysis||(l.text.vcs=l.text.primaryOwnerName,delete l.text.primaryOwnerName),delete l.text.cumulativeGap,delete l.text.ytdActual,delete l.text.ytdTarget,l.text.kpiCumulativeTargetTitle1="YTD",l.text.cumulativeActualTitle1="Last Cycle",l.text.cumulativeGapTitle1="",l.text.kpiCumulativeTargetTitle1Label="(Actual/Target)",l.text.cumulativeActualTitle1Label="(Actual/Target)",l.text.cumulativeGapTitle1Label="")}openKPIExtendConfirmationModal(){return Object(Sl.__awaiter)(this,void 0,void 0,function*(){this.confirmationService.setData(!1),this.extendKPIStrSub=this.confirmationService.getData().subscribe(l=>{l?this.extendKPIStr():this.extendKPIStrSub&&this.extendKPIStrSub.unsubscribe()}),this.modalService.create({component:gl.a,inputs:{modalText:"KPI structure cannot be modified later. Are you sure you would like to proceed?",confirmText:"Confirm",titleText:"Warning",overlayClose:!1}}).onDestroy(()=>{this.extendKPIStrSub.unsubscribe()})})}extendKPIStr(){return Object(Sl.__awaiter)(this,void 0,void 0,function*(){this.isTreeExtended=!0,this.hideExtendButton=!0,this.selectedKpi.deploymentTreeConfig.nodes.text.isRootNode=!0,this.getCPTree(this.selectedKpi.deploymentTreeConfig.nodes),this.getNewCPList(this.selectedKpi.deploymentTreeConfig.nodes);let l={extendedFYStart:this.financialYearItem.item.startUnix,extendedFYEnd:this.financialYearItem.item.endUnix,mpKPIId:this.selectedKpi.deploymentTreeConfig.nodes.text.id,newCPList:this.newCPList,cpKPIToIgnore:this.deletedNodeList};this.goalService.addKPIStructure(l).subscribe(e=>{e&&e.success&&(this._toastrService.success("Your request has been successfully placed. The server might take upto 10 minutes to process the KPIs."),this.getNewKPIList(l.mpKPIId))},l=>{this.kpiLoader=!1,console.log(l.error.message)}),this.kpiLoader=!1})}getCPTree(l){return l.nodeNewCps=[],l.children.forEach(e=>{if("number"==typeof e.text.id){let n=this.createCPChildTree(e);l.nodeNewCps.push(n)}else this.getCPTree(e)}),l}createCPChildTree(l){let e={title:l.text.title,primaryOwner:l.text.primaryOwnerEmployeeId,children:[]};return l.children.length>0&&l.children.forEach(l=>{e.children.push(this.createCPChildTree(l))}),e}getNewCPList(l){l.nodeNewCps&&l.nodeNewCps.length>0&&this.newCPList.push({cpId:l.text.id,children:l.nodeNewCps}),l.children.forEach(l=>{this.getNewCPList(l)})}getNewKPIList(l){this.kpiLoader=!0,l=l||this.selectedKpi.deploymentTreeConfig.nodes.text.id,setTimeout(()=>{this.goalService.getExtendedKPIList(l,this.financialYearItem.item.startUnix,this.financialYearItem.item.endUnix,0,10).subscribe(l=>Object(Sl.__awaiter)(this,void 0,void 0,function*(){l&&l.success&&(this.kpiList=[],this.kpiList=l.response.extendedKPIList,this.totalKPICount=l.response.preExtensionKPICount,yield this.filterKPIs(),this.kpiLoader=!1)}),l=>{this.kpiLoader=!1,console.log(l.error.message)})},5e3)}filterKPIs(){return Object(Sl.__awaiter)(this,void 0,void 0,function*(){let l=yield this.settingsService.getCapturefrequency().toPromise();l&&l.success&&(this.dcfItems=[],this.dcfItems=l.response.map(({value:l,_id:e})=>({content:l,id:e})));let e=yield this.settingsService.getReviewfrequency().toPromise();e&&e.success&&(this.reviewItems=[],this.reviewItems=e.response.map(({value:l,_id:e})=>({content:l,id:e})));let n=yield this.settingsService.getunitofMsrmnt().toPromise();n&&n.success&&(this.unitOfMeasurementItems=[],this.unitOfMeasurementItems=n.response.map(({value:l,_id:e})=>({content:l,id:e}))),this.kpiList.forEach(l=>{this.setKpiData(l)})})}setKpiData(l){l.primaryOwner=l.firstname?l.firstname+" "+l.lastname:l.firstName+" "+l.lastName,l.reviewFrequency&&this.reviewItems.map(e=>{e.id===l.reviewFrequency&&(e.selected=!0,l.rf=e.content)})}getUpdatedKpiObj(l){this.kpiList.push(l.text),l.children.length>0&&l.children.forEach(l=>{this.getUpdatedKpiObj(l)})}onDCFSelected(l,e){e.dataCaptureFrequency=l.item.id,e.dcf=l.item.content}onReviewFrquencySelected(l,e){e.reviewFrequency=l.item.id,e.rf=l.item.content}onUOMSelected(l,e){e.unitOfMeasurement=l.item.id,e.uom=l.item.content}onSearchUser(l,e,n){n.searchedUsers=[],l&&l.trim()&&l.trim().length&&this.goalService.getUsers(l,!1,e).subscribe(l=>{n.searchedUsers=l.response.map((l,e)=>(l.content=l.firstname+" "+l.lastname,l.id=l.employeeId,l))},l=>{console.log(l)})}onOpenOwner(l,e){e.dropdownClosed=!1,e.searchedUsers=[{ignore:!0,content:"Search user to select."}]}onSelectedUser(l,e){e.dropdownClosed=!0,e.primaryOwner=l.content,e.selectedUser=l;let n={departmentId:e.selectedUser.departmentId,departmentName:e.selectedUser.departmentName,employeeId:e.selectedUser.employeeId,firstname:e.selectedUser.firstname,isPrimary:!0,lastname:e.selectedUser.lastname};if(e.owners){let l=e.owners.individuals.findIndex(l=>!0===l.isPrimary);e.owners.individuals[l]=n}else e.owners={individuals:[n]}}openEditWindow(l){if(l._id!==this.selectedKpi.deploymentTreeConfig.nodes.text.id){let e=this.parentChildMap.get(l._id),n=this.kpiDCFMap.get(e),t=this.kpiOwnerIdMap.get(l._id);this.dialog.open(Ol.a,{data:{kpi:l,selectedFy:this.financialYearItem,savedKPIData:this.savedKPIData,parentDCF:n,parentOwnerId:t}}).afterClosed().subscribe(l=>Object(Sl.__awaiter)(this,void 0,void 0,function*(){let e=this.kpiList.findIndex(e=>e._id===l._id),n=yield this.goalService.getGoalDetails(l._id,!1).toPromise();-1!=e&&(this.kpiList[e]=n.response,this.setKpiData(this.kpiList[e]))}))}else this.dialog.open(Ol.a,{data:{kpi:l,selectedFy:this.financialYearItem,savedKPIData:this.savedKPIData}}).afterClosed().subscribe(l=>{})}filterFinacialYearsitems(l,e){const n=l.findIndex(l=>1==l.isCurrentFY);let t=[];if(null==e||l[n].startUnix<=e)t.push({content:"FY "+l[n].start.split("-")[0]+"-"+l[n].end.split("-")[0],isCurrentFY:l[n].isCurrentFY,start:l[n].start,end:l[n].end,startUnix:l[n].startUnix,endUnix:l[n].endUnix,selected:!!l[n].isCurrentFY}),t.push({content:"FY "+l[n+1].start.split("-")[0]+"-"+l[n+1].end.split("-")[0],isCurrentFY:l[n+1].isCurrentFY,start:l[n+1].start,end:l[n+1].end,startUnix:l[n+1].startUnix,endUnix:l[n+1].endUnix,selected:!!l[n+1].isCurrentFY});else{const n=l.findIndex(l=>l.startUnix==e);t.push({content:"FY "+l[n].start.split("-")[0]+"-"+l[n].end.split("-")[0],isCurrentFY:l[n].isCurrentFY,start:l[n].start,end:l[n].end,startUnix:l[n].startUnix,endUnix:l[n].endUnix,selected:!1})}this.yearList=t}setYearDate(l){const e=["January","February","March","April","May","June","July","August","September","October","November","December"];l.forEach(l=>{if(l.selected){this.yearItems[0].content="FY "+l.start.split("-")[0]+"-"+l.end.split("-")[0],this.yearItems[0].startDate=l.start,this.yearItems[0].endDate=l.end;let n=new Date(0);n.setUTCMilliseconds(l.startUnix),this.selectedStartDate=n,this.minStartDate=this.selectedStartDate,(n=new Date(0)).setUTCMilliseconds(l.endUnix),this.selectedEndDate=n,this.maxEndDate=this.selectedEndDate,this.yearStartDate=l.startUnix,this.yearEndDate=l.endUnix,this.halfYearlyItems[0].content="("+e[new Date(l.start).getMonth()]+"-"+e[new Date(l.start).getMonth()+5]+")",this.halfYearlyItems[0].startDate=Ll(l.start,"YYYY-MM-DD").format("YYYY-MM-DD"),this.halfYearlyItems[0].endDate=Ll(l.start,"YYYY-MM-DD").add(5,"months").format("YYYY-MM-DD"),this.halfYearlyItems[1].content="("+e[new Date(l.start).getMonth()+6]+"-"+e[new Date(l.end).getMonth()]+")",this.halfYearlyItems[1].startDate=Ll(l.start,"YYYY-MM-DD").add(6,"months").format("YYYY-MM-DD"),this.halfYearlyItems[1].endDate=Ll(l.start,"YYYY-MM-DD").add(11,"months").format("YYYY-MM-DD"),this.financialYearItem={item:l}}})}setFinancialYear(l){return Object(Sl.__awaiter)(this,void 0,void 0,function*(){this.financialYearItem=l,this.isNextYear=!l.item.isCurrentFY,-1==this.yearList.findIndex(e=>e.startUnix==l.item.startUnix&&e.selected)&&(this.yearList.forEach(e=>{if(e.startUnix==l.item.startUnix){e.selected=!0;let n=new Date(0);n.setUTCMilliseconds(l.item.startUnix),this.selectedStartDate=n,(n=new Date(0)).setUTCMilliseconds(l.item.endUnix),this.selectedEndDate=n}else e.selected=!1}),this.setYearDate(this.yearList))})}valueEndDateChange(l,e,n){if(!n){let n,t;"from"===e?n=l:t=l,t=null==t?this.selectedEndDate:t,n=null==n?this.selectedStartDate:n}}setParentChildMap(l){this.parentChildMap=l}reloadKpis(){this.getNewKPIList()}refreshPagination(){this.paginationModel.currentPage=1,this.paginationModel.totalDataLength=0,this.paginationModel.pageLength=10}selectPage(l){this.paginationModel.currentPage=l,this.getNewKPIList()}onClickNode(l){return Object(Sl.__awaiter)(this,void 0,void 0,function*(){if(l.text.hasOwnProperty("count")&&l.text.hasOwnProperty("id")&&(++this.setApiLevel,this.selectedKpi.gettingDeploymentTree=!0,this.kpiService.getDeployementTree(l.text.id,"",2).subscribe(l=>{let e=l.response.deploymentTree;if(this.verticalChildData=e[0].children,this.verticalChildData.length>10){e[0].children=this.verticalChildData.slice(0,10);let l=this.verticalChildData.filter(l=>!e[0].children.some(e=>l.text.id===e.text.id));e[0].children.push({text:{count:this.verticalChildData.length-e[0].children.length,id:l[0].text.id,verticalNode:JSON.stringify(l)},children:[]})}this.sanitizeData(this.treeData,e),this.selectedKpi.deploymentTreeConfig={connectorType:"step",orientation:"WEST",nodes:this.treeData},this.selectedKpi.gettingDeploymentTree=!1})),l.text.hasOwnProperty("verticalNode")){let e=JSON.parse(l.text.verticalNode);this.verticalNodeData=JSON.parse(l.text.verticalNode),yield this.updateVerticalCountNode(this.treeData,e)}})}updateVerticalCountNode(l,e){for(let n=0;n<l.children.length;n++)this.verticalNodeData&&l.children[n].text.id===this.verticalNodeData[0].text.id?(l.children.splice(n,1),this.verticalNodeData.forEach(e=>{this.mapTreeKeys(e),l.children.push(e)}),this.verticalNodeData=void 0):l.children.forEach(l=>{this.verticalNodeData&&this.updateVerticalCountNode(l,this.verticalNodeData)})}}var Al=n("s6ns"),Yl=n("iInd"),_l=t["\u0275crt"]({encapsulation:0,styles:[[".widget-overflow-menu .bx--overflow-menu{background-color:#f3f3f3!important}  .date-margin-top{margin-top:10px!important}  .tableheadtitle span{font-weight:700}  .bx-pagination{width:1750px!important}.extend-btn[_ngcontent-%COMP%]{margin-top:30px}.choice-btn[_ngcontent-%COMP%]{cursor:pointer!important;margin-top:8px;color:#7598fe;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;line-height:18px;text-align:center;margin-bottom:8px}.structure-table[_ngcontent-%COMP%]   .bx--list-box[_ngcontent-%COMP%], .structure-table[_ngcontent-%COMP%]   .bx--text-input[_ngcontent-%COMP%]{border-bottom:none}"]],data:{}});function Ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function Vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-kpi-extend-dep-tree",[["showGoToParent","true"],["showTags","true"]],null,[[null,"gettingDeploymentTreeChange"],[null,"onLoadParent"],[null,"onClickNode"],[null,"parentChildMapEmitter"],[null,"onToggleFullScreen"],[null,"newCPData"]],function(l,e,n){var t=!0,i=l.component;return"gettingDeploymentTreeChange"===e&&(t=!1!==(i.selectedKpi.gettingDeploymentTree=n)&&t),"onLoadParent"===e&&(t=!1!==i.onLoadParent(n)&&t),"onClickNode"===e&&(t=!1!==i.onClickNode(n)&&t),"parentChildMapEmitter"===e&&(t=!1!==i.setParentChildMap(n)&&t),"onToggleFullScreen"===e&&(t=!1!==i.onToggleFullScreen(n)&&t),"newCPData"===e&&(t=!1!==i.addnewCpToDepTree(n)&&t),t},Il,bl)),t["\u0275did"](1,6012928,null,0,fl,[vl.a,ml.a,el.j],{fullScreen:[0,"fullScreen"],graphConfig:[1,"graphConfig"],gettingDeploymentTree:[2,"gettingDeploymentTree"],showGoToParent:[3,"showGoToParent"],noParent:[4,"noParent"],loadedOnce:[5,"loadedOnce"],showTags:[6,"showTags"],isTreeExtended:[7,"isTreeExtended"],parentChildMap:[8,"parentChildMap"],deletedNodeSubject:[9,"deletedNodeSubject"],showFullScreen:[10,"showFullScreen"]},{onLoadParent:"onLoadParent",onClickNode:"onClickNode",parentChildMapEmitter:"parentChildMapEmitter",onToggleFullScreen:"onToggleFullScreen",newCPData:"newCPData"})],function(l,e){var n=e.component;l(e,1,1,[n.isFullScreen,n.selectedKpi.deploymentTreeConfig,n.selectedKpi.gettingDeploymentTree,"true",!n.parentId,n.selectedKpi.loadedOnce,"true",n.isTreeExtended,n.parentChildMap,n.deletedNodeSubject,"true"])},null)}function ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","extend-btn"],["ibmButton","danger"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.openKPIExtendConfirmationModal()&&t),t},null,null)),t["\u0275did"](1,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,["Extend KPIs"]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,1,[t["\u0275nov"](e,1).baseClass,t["\u0275nov"](e,1).primaryButton,t["\u0275nov"](e,1).secondaryButton,t["\u0275nov"](e,1).tertiaryButton,t["\u0275nov"](e,1).ghostButton,t["\u0275nov"](e,1).dangerButton,t["\u0275nov"](e,1).dangerPrimaryButton,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).smallSize,t["\u0275nov"](e,1).toolbarAction,t["\u0275nov"](e,1).overflowMenu])})}function Kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","extend-btn"],["ibmButton","danger"],["style","border: none; outline: none;"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.reloadKpis()&&t),t},null,null)),t["\u0275did"](1,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,["Reload KPIs"]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,1,[t["\u0275nov"](e,1).baseClass,t["\u0275nov"](e,1).primaryButton,t["\u0275nov"](e,1).secondaryButton,t["\u0275nov"](e,1).tertiaryButton,t["\u0275nov"](e,1).ghostButton,t["\u0275nov"](e,1).dangerButton,t["\u0275nov"](e,1).dangerPrimaryButton,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).smallSize,t["\u0275nov"](e,1).toolbarAction,t["\u0275nov"](e,1).overflowMenu])})}function Hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["style","margin-top: 10px;    font-size: 0.875rem !important; font-weight: 700;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["","/"," KPIs loaded. "])),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please click reload to see more."]))],null,function(l,e){var n=e.component;l(e,1,0,n.kpiList.length,n.totalKPICount)})}function zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["style","margin-top: 30px;    font-size: 0.875rem !important; font-weight: 700;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," KPIs extended successfully."]))],null,function(l,e){l(e,1,0,e.component.kpiList.length)})}function Bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dep-tree-window margin-top-20"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vl)),t["\u0275did"](2,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ql)),t["\u0275did"](4,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Kl)),t["\u0275did"](6,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Hl)),t["\u0275did"](8,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,zl)),t["\u0275did"](10,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){var n=e.component;l(e,2,0,n.selectedKpi.deploymentTreeConfig&&!n.selectedKpi.gettingDeploymentTree),l(e,4,0,!n.hideExtendButton),l(e,6,0,n.hideExtendButton&&n.kpiList&&n.kpiList.length>0&&n.kpiList.length!==n.totalKPICount),l(e,8,0,n.hideExtendButton&&n.kpiList&&n.kpiList.length>0&&n.kpiList.length!==n.totalKPICount),l(e,10,0,n.hideExtendButton&&n.kpiList&&n.kpiList.length>0&&n.kpiList.length===n.totalKPICount)},null)}function Gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function Wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,31,"div",[["class","bx--data-table-container structure-table"],["data-table",""]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,30,"table",[["class","bx--data-table bx--data-table--sort "]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,26,"thead",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,25,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,3,"th",[["class","goal-text tableheadtitle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","KPI Title"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"span",[["class","bx--table-header-label"],["style","padding-left: 16px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KPI Title"])),(l()(),t["\u0275eld"](8,0,null,null,3,"th",[["class","goal-text tableheadtitle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Owner"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Owner"])),(l()(),t["\u0275eld"](12,0,null,null,3,"th",[["class","goal-text tableheadtitle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Weightage"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Weightage (%)"])),(l()(),t["\u0275eld"](16,0,null,null,3,"th",[["class","goal-text tableheadtitle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","DCF"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["DCF"])),(l()(),t["\u0275eld"](20,0,null,null,3,"th",[["class","goal-text tableheadtitle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","Review Frequency"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Review Frequency"])),(l()(),t["\u0275eld"](24,0,null,null,3,"th",[["class","goal-text tableheadtitle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,2,"button",[["class","bx--table-sort"],["data-event","sort"],["title","UoM"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,1,"span",[["class","bx--table-header-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["UoM"])),(l()(),t["\u0275eld"](28,0,null,null,0,"th",[["class","goal-text tableheadtitle "],["style","background-color: #dcdcdc;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Gl)),t["\u0275did"](31,540672,null,0,v.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(l,e){l(e,31,0,!1===e.component.kpiLoader?t["\u0275nov"](e.parent,6):t["\u0275nov"](e.parent.parent,25))},null)}function jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,31,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,30,"tr",[["class","form-data-cont"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,7,"td",[["class","elipsis"],["style","min-width: 120px; max-width: 150px; position: relative;"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,6,"input",[["ibmText",""],["name","title"],["placeholder","KPI Title"],["style","margin-top: 8px;"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,5)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,5).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(l.context.$implicit.title=n)&&i),i},null,null)),t["\u0275did"](4,16384,null,0,P.a,[],null,null),t["\u0275did"](5,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](7,671744,null,0,r.u,[[8,null],[8,null],[8,null],[6,r.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,r.q,null,[r.u]),t["\u0275did"](9,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](10,0,null,null,2,"td",[["class","elipsis"],["style","min-width: 120px; max-width: 150px;  position: relative;"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"div",[["style"," position: absolute;top: 40%;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,[" "," "])),(l()(),t["\u0275eld"](13,0,null,null,2,"td",[["class","elipsis"],["style","width: 150px; position: relative;"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"div",[["style"," position: absolute;top: 40%;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](15,null,[" "," "])),(l()(),t["\u0275eld"](16,0,null,null,2,"td",[["style","width: 200px !important; position: relative;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"div",[["style"," position: absolute;top: 40%;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](18,null,[" "," "])),(l()(),t["\u0275eld"](19,0,null,null,2,"td",[["style","width: 200px !important; position: relative;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,1,"div",[["style"," position: absolute;top: 40%;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](21,null,[" "," "])),(l()(),t["\u0275eld"](22,0,null,null,2,"td",[["style","width: 200px !important; position: relative;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,1,"div",[["style"," position: absolute;top: 40%;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](24,null,[" "," "])),(l()(),t["\u0275eld"](25,0,null,null,6,"td",[["style","text-align: -webkit-right; width: 5%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,5,"ibm-overflow-menu",[["appendInline","true"],["class","widget-overflow-menu"],["flip","true"]],null,null,null,Dl.b,Dl.a)),t["\u0275did"](27,49152,null,1,Tl.a,[t.ElementRef,u.a],{flip:[0,"flip"]},null),t["\u0275qud"](335544320,2,{overflowMenuDirective:0}),(l()(),t["\u0275eld"](29,0,null,0,2,"ibm-overflow-menu-option",[["type","danger"]],[[8,"className",0],[1,"role",0],[2,"bx--overflow-menu-options__option--danger",null],[2,"bx--overflow-menu-options__option--disabled",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.openEditWindow(l.context.$implicit)&&t),t},Ml.b,Ml.a)),t["\u0275did"](30,4243456,null,0,Pl.a,[t.ElementRef],{type:[0,"type"]},null),(l()(),t["\u0275ted"](-1,0,[" Edit "]))],function(l,e){l(e,7,0,"title",e.context.$implicit.title),l(e,27,0,"true"),l(e,30,0,"danger")},function(l,e){l(e,2,0,e.context.$implicit.title),l(e,3,1,[t["\u0275nov"](e,4).inputClass,t["\u0275nov"](e,4).invalid,t["\u0275nov"](e,4).skeleton,t["\u0275nov"](e,4).isLightTheme,t["\u0275nov"](e,9).ngClassUntouched,t["\u0275nov"](e,9).ngClassTouched,t["\u0275nov"](e,9).ngClassPristine,t["\u0275nov"](e,9).ngClassDirty,t["\u0275nov"](e,9).ngClassValid,t["\u0275nov"](e,9).ngClassInvalid,t["\u0275nov"](e,9).ngClassPending]),l(e,10,0,e.context.$implicit.primaryOwner),l(e,12,0,e.context.$implicit.primaryOwner?e.context.$implicit.primaryOwner:"--"),l(e,13,0,e.context.$implicit.weightage),l(e,15,0,e.context.$implicit.weightage?e.context.$implicit.weightage:"--"),l(e,18,0,e.context.$implicit.dcfLabel?e.context.$implicit.dcfLabel:"--"),l(e,21,0,e.context.$implicit.rf?e.context.$implicit.rf:"--"),l(e,24,0,e.context.$implicit.uomLabel?e.context.$implicit.uomLabel:"--"),l(e,29,0,t["\u0275nov"](e,30).optionClass,t["\u0275nov"](e,30).role,t["\u0275nov"](e,30).isDanger,t["\u0275nov"](e,30).isDisabled)})}function $l(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,jl)),t["\u0275did"](1,278528,null,0,v.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){l(e,1,0,e.component.kpiList)},null)}function Ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","margin-bottom: 15px;margin-top: 20px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"div",[["style","font-size: 22px; font-weight: 300;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" KPI Structure Details "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Wl)),t["\u0275did"](5,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,[["result",2]],null,0,null,$l))],function(l,e){var n=e.component;l(e,5,0,!0===n.kpiLoader||n.kpiList.length>0)},null)}function Zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text "]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"],["title","Loading"]],[[2,"bx--loading-overlay",null]],null,null,i.b,i.a)),t["\u0275did"](2,49152,null,0,a.a,[u.a],{title:[0,"title"],size:[1,"size"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."]))],function(l,e){l(e,2,0,"Loading","sm")},function(l,e){l(e,1,0,t["\u0275nov"](e,2).overlay)})}function Xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["style","margin-bottom: 15px;margin-top: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"div",[["style","font-size: 22px; font-weight: 300;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Define structure to extend "])),(l()(),t["\u0275eld"](3,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,15,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](5,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](6,0,null,null,13,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](7,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](8,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](9,0,null,null,10,"label",[["class","bx--label date-margin-top"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Financial year Extension "])),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](13,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,15).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.setFinancialYear(n)&&i),i},b.b,b.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](15,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{placeholder:[0,"placeholder"],size:[1,"size"],type:[2,"type"],disabled:[3,"disabled"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,1,{view:0}),(l()(),t["\u0275eld"](17,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](18,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[1,4]],I.a,null,[w.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Ul)),t["\u0275did"](21,540672,null,0,v.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275and"](0,[["depTree",2]],null,0,null,Bl)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ql)),t["\u0275did"](24,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,[["loading",2]],null,0,null,Zl))],function(l,e){var n=e.component,i=l(e,8,0,3,3,12);l(e,7,0,i),l(e,15,0,"Choose","sm","single",n.isTreeExtended,"true"),l(e,18,0,n.yearList),l(e,21,0,t["\u0275nov"](e,n.depTreeLoading?25:22)),l(e,24,0,n.hideExtendButton)},function(l,e){l(e,4,0,t["\u0275nov"](e,5).baseClass),l(e,6,0,t["\u0275nov"](e,7).columnClasses),l(e,13,0,t["\u0275nov"](e,15).hostClass)})}var Jl=n("ExNA");n.d(e,"a",function(){return on});var le=t["\u0275crt"]({encapsulation:0,styles:[[".kpi-add-container[_ngcontent-%COMP%]{padding-left:0;padding-bottom:32px;background-color:#fff}.kpi-add-container[_ngcontent-%COMP%]   .metadiv[_ngcontent-%COMP%]{padding-top:22px}.kpi-add-container[_ngcontent-%COMP%]   .center-loader-text[_ngcontent-%COMP%]{display:flex;align-items:center}.kpi-add-container[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline-block}.active-card[_ngcontent-%COMP%]{border:1px solid red}.bx--btn--secondary[_ngcontent-%COMP%]{background-color:#393939;padding-right:12px}.error-color[_ngcontent-%COMP%]{color:red}.report-colmn[_ngcontent-%COMP%]{display:flex;flex-direction:row}.report-container[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#f3f3f3;padding:20px;margin-right:10px}.report-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{visibility:hidden}.report-container[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{visibility:visible}.report-data-head[_ngcontent-%COMP%]{color:#232323;font-family:'IBM Plex Sans';font-size:14px;font-weight:600;line-height:16px;text-align:center;margin-bottom:10px}.limit-class[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;float:left;margin-right:12px}.limit-class[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{fill:grey}.limit-class[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:disabled{fill:green}.button-goal[_ngcontent-%COMP%]{width:172px}.button-goal.bx--btn[_ngcontent-%COMP%]{padding:8px}.card-fill-color[_ngcontent-%COMP%]   .parent-items[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.target-card-fill-color[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.target-card-fill-color[_ngcontent-%COMP%]   .parent-items[_ngcontent-%COMP%]{pointer-events:none}.target-card-fill-color[_ngcontent-%COMP%]   #target[_ngcontent-%COMP%]{pointer-events:none;text-align:center;border-bottom:1px solid #8897a2;padding:32px 0 18px!important;width:100%!important;background-color:#f3f3f3!important}.input-div[_ngcontent-%COMP%]{padding:32px 0 18px!important;text-align:center}.text-copy[_ngcontent-%COMP%]{color:#000;font-family:'IBM Plex Sans';font-size:14px;line-height:24px}.arrow-icon-span[_ngcontent-%COMP%]{box-sizing:border-box;width:97px;border:1px solid #dcdcdc;background-color:#f3f3f3;margin-left:16px}.left-arrow-icon[_ngcontent-%COMP%]{border-right:1px solid #dcdcdc;height:44px;width:49px}.right-arrow-icon[_ngcontent-%COMP%]{width:42px;height:44px}.top-right-text[_ngcontent-%COMP%]{display:flex!important;float:right!important}.remark-container[_ngcontent-%COMP%]   .bx--text-area[_ngcontent-%COMP%]{height:80px}.attachment-div[_ngcontent-%COMP%]{background-color:#f3f3f3;height:100%;margin-top:10px;padding:5px;display:flex;align-items:center;justify-content:space-between}.attachment-div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer;transform:scaleX(-1);fill:#da1e28}.bx--text-area[_ngcontent-%COMP%]{height:120px;width:100%}.close-icon-center[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;top:-18px;cursor:pointer}.text-bold[_ngcontent-%COMP%]{font-weight:700!important}.text-mid-center[_ngcontent-%COMP%]{display:flex;align-items:center}.dummy[_ngcontent-%COMP%]{color:red}.max-height-400[_ngcontent-%COMP%]{max-height:400px}.record-edit-not-permitted-message-text[_ngcontent-%COMP%]{color:#da1e28;font-family:'IBM Plex Sans';font-size:14px;font-weight:500;letter-spacing:.16px;line-height:20px}.margin-top5[_ngcontent-%COMP%]{margin-top:5px}.bx--content-switcher--selected[_ngcontent-%COMP%]{background-color:#da1e28!important}.bx--content-switcher-btn[_ngcontent-%COMP%]{min-width:100px}.instruction-for-stratify[_ngcontent-%COMP%]{color:#393939;font-family:'IBM Plex Sans';font-size:14px;letter-spacing:.32px;line-height:16px;margin-top:8px}.copy-btn[_ngcontent-%COMP%]{text-align:center;margin-top:8px;color:#00f;cursor:pointer}.copy-btn[_ngcontent-%COMP%]   .bx--label[_ngcontent-%COMP%]{color:#fff!important}.margin-left-20[_ngcontent-%COMP%]{margin-left:20px;margin-top:-10px}.disabled-no-action[_ngcontent-%COMP%]{pointer-events:none;background:#d3d3d3;cursor:not-allowed}.date-picker-new-cont[_ngcontent-%COMP%]   .cal-icon.mod[_ngcontent-%COMP%]{top:32px}  .bx--accordion__heading{background-color:#d2d2d2!important}  .bx--accordion__title{font-size:14px;padding-left:16px;font-weight:700}  .bx--accordion__item{margin-top:5px}  .bx--accordion__arrow{fill:#000}  .bx--accordion__item--active .bx--accordion__arrow{fill:#000}.bx--grid[_ngcontent-%COMP%]{max-width:100%}.input-aligin[_ngcontent-%COMP%]{margin-top:-2px;margin-bottom:8px}div.sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1;background-color:#fff;padding-bottom:8px;padding-top:8px}.bottom-edge-shadow[_ngcontent-%COMP%]{box-shadow:0 2px 6px -6px #000}"]],data:{animation:[{type:7,name:"slideInOut",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateX(-100%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateX(0%)"},offset:null},timings:"400ms ease-in"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateX(-100%)"},offset:null},timings:"0ms ease-in"}],options:null}],options:{}}]}});function ee(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"]],[[2,"bx--loading-overlay",null]],null,null,i.b,i.a)),t["\u0275did"](2,49152,null,0,a.a,[u.a],{size:[0,"size"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."]))],function(l,e){l(e,2,0,"sm")},function(l,e){l(e,1,0,t["\u0275nov"](e,2).overlay)})}function ne(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"ibm-radio-group",[["style","margin-bottom: -16px;"]],[[2,"bx--form-item",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.changeExtensionType(n)&&t),t},o.b,o.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[s.a]),t["\u0275did"](2,5292032,null,1,s.a,[],null,{change:"change"}),t["\u0275qud"](603979776,2,{radios:1}),(l()(),t["\u0275eld"](4,0,null,0,3,"ibm-radio",[],[[1,"role",0],[2,"bx--radio-button-wrapper",null],[2,"bx--radio-button-wrapper--label-left",null]],null,null,d.b,d.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[c.a]),t["\u0275did"](6,49152,[[2,4]],0,c.a,[],{checked:[0,"checked"]},null),(l()(),t["\u0275ted"](7,0,[" "," "])),(l()(),t["\u0275eld"](8,0,null,0,3,"ibm-radio",[],[[1,"role",0],[2,"bx--radio-button-wrapper",null],[2,"bx--radio-button-wrapper--label-left",null]],null,null,d.b,d.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[c.a]),t["\u0275did"](10,49152,[[2,4]],0,c.a,[],{checked:[0,"checked"]},null),(l()(),t["\u0275ted"](11,0,[" "," "]))],function(l,e){var n=e.component;l(e,6,0,!n.extendStructure),l(e,10,0,n.extendStructure)},function(l,e){l(e,0,0,t["\u0275nov"](e,2).radioButtonGroupClass),l(e,4,0,t["\u0275nov"](e,6).role,t["\u0275nov"](e,6).hostClass,t["\u0275nov"](e,6).labelLeft),l(e,7,0,"Extend Current"),l(e,8,0,t["\u0275nov"](e,10).role,t["\u0275nov"](e,10).hostClass,t["\u0275nov"](e,10).labelLeft),l(e,11,0,"Extend KPI Structure")})}function ie(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"h1",[["style","font-size: 24px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "," "]))],null,function(l,e){var n=e.component;l(e,1,0,n.extend?"You are extending - ":"",n.kpiForm.controls.title.value)})}function ae(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"h1",[["style","font-size: 24px; "]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," "]))],null,function(l,e){var n=e.component;l(e,1,0,n.kpiForm.controls.title.value?n.kpiForm.controls.title.value:"New KPI")})}function ue(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","button-goal"],["ibmButton","secondary"],["style","margin-left: 16px;"],["type","button"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275eld"](2,0,null,null,1,"a",[["style","text-decoration: none; color: #ffffff;"]],[[8,"href",4]],null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["View Cap-Do"]))],function(l,e){l(e,1,0,"secondary")},function(l,e){var n=e.component;l(e,0,1,[t["\u0275nov"](e,1).baseClass,t["\u0275nov"](e,1).primaryButton,t["\u0275nov"](e,1).secondaryButton,t["\u0275nov"](e,1).tertiaryButton,t["\u0275nov"](e,1).ghostButton,t["\u0275nov"](e,1).dangerButton,t["\u0275nov"](e,1).dangerPrimaryButton,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).smallSize,t["\u0275nov"](e,1).toolbarAction,t["\u0275nov"](e,1).overflowMenu]),l(e,2,0,t["\u0275inlineInterpolate"](1,"",n.kpiCapDoPageURL,""))})}function oe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,7,"ibm-checkbox",[["style","margin: auto 16px auto auto; flex: unset;"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,e,n){var t=!0;return"ngModelChange"===e&&(t=!1!==(l.component.expandAccordianItems=n)&&t),t},g.b,g.a)),t["\u0275did"](3,4243456,null,0,h.a,[t.ChangeDetectorRef],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[h.a]),t["\u0275did"](5,671744,null,0,r.u,[[2,r.b],[8,null],[8,null],[6,r.p]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](6,{standalone:0}),t["\u0275prd"](2048,null,r.q,null,[r.u]),t["\u0275did"](8,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275ted"](-1,0,[" Expand All Sections "])),(l()(),t["\u0275eld"](10,0,null,null,4,"button",[["class","button-goal"],["ibmButton","danger"],["type","button"]],[[8,"disabled",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onSubmit()&&t),t},null,null)),t["\u0275did"](11,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,[" Save KPI "])),(l()(),t["\u0275eld"](13,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),t["\u0275did"](14,4210688,null,0,f.a,[t.ElementRef],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ue)),t["\u0275did"](16,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component,t=n.expandAccordianItems,i=l(e,6,0,!0);l(e,5,0,t,i),l(e,11,0,"danger"),l(e,16,0,n.showViewCapDoRedirectButton)},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).checkboxWrapperClass,t["\u0275nov"](e,3).formItemClass,t["\u0275nov"](e,8).ngClassUntouched,t["\u0275nov"](e,8).ngClassTouched,t["\u0275nov"](e,8).ngClassPristine,t["\u0275nov"](e,8).ngClassDirty,t["\u0275nov"](e,8).ngClassValid,t["\u0275nov"](e,8).ngClassInvalid,t["\u0275nov"](e,8).ngClassPending),l(e,10,1,[n.kpiForm.invalid&&0==n.owners.length||!n.isEditPermitted,t["\u0275nov"](e,11).baseClass,t["\u0275nov"](e,11).primaryButton,t["\u0275nov"](e,11).secondaryButton,t["\u0275nov"](e,11).tertiaryButton,t["\u0275nov"](e,11).ghostButton,t["\u0275nov"](e,11).dangerButton,t["\u0275nov"](e,11).dangerPrimaryButton,t["\u0275nov"](e,11).skeleton,t["\u0275nov"](e,11).smallSize,t["\u0275nov"](e,11).toolbarAction,t["\u0275nov"](e,11).overflowMenu])})}function re(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid perspective"]))],null,null)}function se(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Perspective "])),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](4,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","perspective"],["id","perspective"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,5).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onPerspectiveSelected(n)&&i),i},b.b,b.a)),t["\u0275did"](5,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,5,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](8,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](10,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](12,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[5,4]],I.a,null,[w.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,re)),t["\u0275did"](15,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,5,0,"perspective","Choose","sm","single","true"),l(e,8,0,"perspective"),l(e,12,0,n.perspectiveItems),l(e,15,0,n.kpiForm.controls.perspective.invalid&&n.kpiForm.controls.perspective.touched||n.isSubmitClicked&&n.kpiForm.controls.perspective.invalid)},function(l,e){l(e,4,0,t["\u0275nov"](e,5).hostClass,t["\u0275nov"](e,10).ngClassUntouched,t["\u0275nov"](e,10).ngClassTouched,t["\u0275nov"](e,10).ngClassPristine,t["\u0275nov"](e,10).ngClassDirty,t["\u0275nov"](e,10).ngClassValid,t["\u0275nov"](e,10).ngClassInvalid,t["\u0275nov"](e,10).ngClassPending)})}function de(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"ibm-combo-box",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","parent"],["placeholder","Choose"],["size","sm"]],[[1,"aria-disabled",0],[2,"bx--list-box__wrapper",null],[1,"role",0],[4,"display",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"itemsChange"],[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,1).hostkeys(n)&&i),"itemsChange"===e&&(i=!1!==(a.parentList=n)&&i),"selected"===e&&(i=!1!==a.onParentSelected(n,!1,"onclick")&&i),i},D.b,D.a)),t["\u0275did"](1,5816320,null,1,T.a,[t.ElementRef],{items:[0,"items"],placeholder:[1,"placeholder"],size:[2,"size"]},{selected:"selected"}),t["\u0275qud"](335544320,6,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[T.a]),t["\u0275did"](4,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](6,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](7,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](8,4374528,null,0,w.a,[t.ElementRef,u.a],null,null),t["\u0275prd"](2048,[[6,4]],I.a,null,[w.a])],function(l,e){l(e,1,0,e.component.parentList,"Choose","sm"),l(e,4,0,"parent")},function(l,e){l(e,0,1,[t["\u0275nov"](e,1).disabled,t["\u0275nov"](e,1).hostClass,t["\u0275nov"](e,1).role,t["\u0275nov"](e,1).display,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending])})}function ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid parent "]))],null,null)}function pe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["MP/Parent "])),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275and"](16777216,null,null,1,null,de)),t["\u0275did"](5,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ce)),t["\u0275did"](7,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,5,0,n.parentList),l(e,7,0,n.kpiForm.controls.parent.invalid&&n.kpiForm.controls.parent.touched||n.isSubmitClicked&&n.kpiForm.controls.parent.invalid)},null)}function me(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid title"]))],null,null)}function ge(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid kpi description"]))],null,null)}function he(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid department"]))],null,null)}function fe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid KPI type"]))],null,null)}function ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid category"]))],null,null)}function be(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid unit of measurement"]))],null,null)}function Ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid direction of goodness"]))],null,null)}function ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please select a valid YTD calculation"]))],null,null)}function xe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid capture frequency"]))],null,null)}function we(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid review frequency"]))],null,null)}function Ie(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,10,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Shift Number "])),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](7,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label week-dropdown"],["id","shiftNumber"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,9).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickShiftItems(n)&&i),i},b.b,b.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](9,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,15,{view:0}),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](12,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[15,4]],I.a,null,[w.a])],function(l,e){var n=e.component,t=l(e,2,0,4,4,12);l(e,1,0,t),l(e,9,0,"shiftNumber","Choose","sm","single","true"),l(e,12,0,n.shiftItems)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,7,0,t["\u0275nov"](e,9).hostClass)})}function De(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,10,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Week Number "])),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](7,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label week-dropdown"],["id","weekNumber"],["placeholder","Choose"],["size","sm"],["type","multi"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,9).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickWeekNumber(n)&&i),i},b.b,b.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](9,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,16,{view:0}),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](12,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[16,4]],I.a,null,[w.a])],function(l,e){var n=e.component,t=l(e,2,0,8,8,12);l(e,1,0,t),l(e,9,0,"weekNumber","Choose","sm","multi","true"),l(e,12,0,n.weekNumberItems)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,7,0,t["\u0275nov"](e,9).hostClass)})}function Te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,10,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Month "])),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](7,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["id","month"],["placeholder","Choose"],["size","sm"],["type","multi"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,9).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickMonth(n)&&i),i},b.b,b.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](9,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,17,{view:0}),(l()(),t["\u0275eld"](11,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](12,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[17,4]],I.a,null,[w.a])],function(l,e){var n=e.component,t=l(e,2,0,8,8,12);l(e,1,0,t),l(e,9,0,"month","Choose","sm","multi","true"),l(e,12,0,n.monthlyItems)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,7,0,t["\u0275nov"](e,9).hostClass)})}function Me(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,17,"label",[["class","date-picker-new-cont padding-left-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"span",[["class","bx--label"],["style","margin-bottom: 8px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Select Date Range"])),(l()(),t["\u0275eld"](6,0,null,null,10,"input",[["ibmText",""]],[[8,"placeholder",0],[2,"owl-dt-trigger-disabled",null],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"],[null,"blur"],[null,"input"],[null,"change"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,7).handleClickOnHost(n)&&i),"keydown"===e&&(i=!1!==t["\u0275nov"](l,8).handleKeydownOnHost(n)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,8).handleBlurOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,8).handleInputOnHost(n)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,8).handleChangeOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,10)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,10).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,10)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,10)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(a.value=n)&&i),"ngModelChange"===e&&(i=!1!==a.valueDateChange(n)&&i),i},null,null)),t["\u0275did"](7,1785856,null,0,M.y,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"]},null),t["\u0275did"](8,1261568,null,0,M.z,[t.ElementRef,t.Renderer2,[2,M.a],[2,M.b]],{owlDateTime:[0,"owlDateTime"],selectMode:[1,"selectMode"]},null),t["\u0275did"](9,16384,null,0,P.a,[],null,null),t["\u0275did"](10,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.o,function(l){return[l]},[M.z]),t["\u0275prd"](1024,null,r.p,function(l,e){return[l,e]},[M.z,r.c]),t["\u0275did"](13,671744,null,0,r.u,[[2,r.b],[6,r.o],[8,null],[6,r.p]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](14,{standalone:0}),t["\u0275prd"](2048,null,r.q,null,[r.u]),t["\u0275did"](16,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](17,16777216,null,null,1,"owl-date-time",[],null,null,null,S.b,S.a)),t["\u0275did"](18,245760,[["dt11",4]],0,M.d,[k.b,t.ViewContainerRef,M.v,t.NgZone,t.ChangeDetectorRef,[2,M.a],M.o,[2,M.b],[2,v.DOCUMENT]],{pickerType:[0,"pickerType"]},null),(l()(),t["\u0275eld"](19,0,null,null,1,":svg:svg",[["class","cal-icon mod"],["ibmIconCalendar20",""]],null,null,null,null,null)),t["\u0275did"](20,4210688,null,0,F.a,[t.ElementRef],null,null)],function(l,e){var n=e.component,i=l(e,2,0,"SHIFT WISE"===n.captureType?4:8,"SHIFT WISE"===n.captureType?4:8,12);l(e,1,0,i),l(e,7,0,t["\u0275nov"](e,18)),l(e,8,0,t["\u0275nov"](e,18),"range");var a=n.value,u=l(e,14,0,!0);l(e,13,0,a,u),l(e,18,0,"calendar")},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,6,1,[n.placeholder,t["\u0275nov"](e,7).owlDTTriggerDisabledClass,t["\u0275nov"](e,8).owlDateTimeInputAriaHaspopup,t["\u0275nov"](e,8).owlDateTimeInputAriaOwns,t["\u0275nov"](e,8).minIso8601,t["\u0275nov"](e,8).maxIso8601,t["\u0275nov"](e,8).owlDateTimeInputDisabled,t["\u0275nov"](e,9).inputClass,t["\u0275nov"](e,9).invalid,t["\u0275nov"](e,9).skeleton,t["\u0275nov"](e,9).isLightTheme,t["\u0275nov"](e,16).ngClassUntouched,t["\u0275nov"](e,16).ngClassTouched,t["\u0275nov"](e,16).ngClassPristine,t["\u0275nov"](e,16).ngClassDirty,t["\u0275nov"](e,16).ngClassValid,t["\u0275nov"](e,16).ngClassInvalid,t["\u0275nov"](e,16).ngClassPending])})}function Pe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,7,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,m.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,4,"ibm-label",[],[[2,"bx--form-item",null]],null,null,R.b,R.a)),t["\u0275did"](6,1097728,null,0,L.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["Target YTD Formula "])),(l()(),t["\u0275eld"](8,0,null,0,1,"app-e4-combo-box",[["placeholder",""]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onOpen"===e&&(t=!1!==i.onOpenInternal(n)&&t),"onSearch"===e&&(t=!1!==i.onChangeTargetFormula(n)&&t),"onSelect"===e&&(t=!1!==i.selectedTargetOption(n)&&t),t},O.b,O.a)),t["\u0275did"](9,4964352,null,0,N.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(l()(),t["\u0275eld"](10,0,null,null,7,"div",[["class","user-search-combo-box"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](11,81920,null,0,m.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](12,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](13,0,null,null,4,"ibm-label",[],[[2,"bx--form-item",null]],null,null,R.b,R.a)),t["\u0275did"](14,1097728,null,0,L.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["Actuals YTD Formula "])),(l()(),t["\u0275eld"](16,0,null,0,1,"app-e4-combo-box",[["placeholder",""]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onOpen"===e&&(t=!1!==i.onOpenInternal(n)&&t),"onSearch"===e&&(t=!1!==i.onChangeActualFormula(n)&&t),"onSelect"===e&&(t=!1!==i.selectedActualOption(n)&&t),t},O.b,O.a)),t["\u0275did"](17,4964352,null,0,N.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"})],function(l,e){var n=e.component,t=l(e,4,0,6,6,12);l(e,3,0,"user-search-combo-box",t),l(e,9,0,n.ytdTargetFormulaList,n.ytdTargetSearch,"");var i=l(e,12,0,6,6,12);l(e,11,0,"user-search-combo-box",i),l(e,17,0,n.ytdActualFormulaList,n.ytdActualSearch,"")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,5,0,t["\u0275nov"](e,6).labelClass),l(e,10,0,t["\u0275nov"](e,11).columnClasses),l(e,13,0,t["\u0275nov"](e,14).labelClass)})}function Se(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,3,"ibm-checkbox",[["style","margin: auto;"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onChangeUseForStratifyLowerUpper(n)&&t),t},g.b,g.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[h.a]),t["\u0275did"](5,4243456,null,0,h.a,[t.ChangeDetectorRef],{checked:[0,"checked"]},{change:"change"}),(l()(),t["\u0275ted"](-1,0,["Use Form Field for Upper and Lower Limit "]))],function(l,e){var n=e.component,t=l(e,2,0,3,3,12);l(e,1,0,t),l(e,5,0,n.useForStratifyLowerUpper)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,5).checkboxWrapperClass,t["\u0275nov"](e,5).formItemClass)})}function ke(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,3,"ibm-checkbox",[["style","margin: auto;"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onChangeUseForStratefyTarget(n)&&t),t},g.b,g.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[h.a]),t["\u0275did"](7,4243456,null,0,h.a,[t.ChangeDetectorRef],{checked:[0,"checked"]},{change:"change"}),(l()(),t["\u0275ted"](-1,0,["I want to use a form to fill the target data"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Se)),t["\u0275did"](10,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component,t=l(e,4,0,3,3,12);l(e,3,0,t),l(e,7,0,n.useForStratefyTarget),l(e,10,0,n.useForStratefyTarget&&"PRAGMATIC"!==n.actionLimit)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,5,0,t["\u0275nov"](e,7).checkboxWrapperClass,t["\u0275nov"](e,7).formItemClass)})}function Fe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Choose Upper Limit Field "])),(l()(),t["\u0275eld"](7,0,null,null,1,"app-e4-combo-box",[["placeholder","Upper Limit"]],null,[[null,"onSelect"]],function(l,e,n){var t=!0;return"onSelect"===e&&(t=!1!==l.component.onUpperLimitSelected(n)&&t),t},O.b,O.a)),t["\u0275did"](8,4964352,null,0,N.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSelect:"onSelect"}),(l()(),t["\u0275eld"](9,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](10,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](11,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](12,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Choose Lower Limit Field "])),(l()(),t["\u0275eld"](14,0,null,null,1,"app-e4-combo-box",[["placeholder","Lower Limit"]],null,[[null,"onSelect"]],function(l,e,n){var t=!0;return"onSelect"===e&&(t=!1!==l.component.onLowerLimitSelected(n)&&t),t},O.b,O.a)),t["\u0275did"](15,4964352,null,0,N.a,[t.ElementRef],{items:[0,"items"],searchQuery:[1,"searchQuery"],placeholder:[2,"placeholder"]},{onSelect:"onSelect"})],function(l,e){var n=e.component,t=l(e,4,0,3,3,12);l(e,3,0,t),l(e,8,0,n.targetFormFieldList,n.upperLimitQuery,"Upper Limit");var i=l(e,11,0,3,3,12);l(e,10,0,i),l(e,15,0,n.targetFormFieldList,n.lowerLimitQuery,"Lower Limit")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,9,0,t["\u0275nov"](e,10).columnClasses)})}function Re(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter a valid pragmatic limit value"]))],null,null)}function Le(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,22,"div",[["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,17,"ibm-label",[],[[2,"bx--form-item",null]],null,null,R.b,R.a)),t["\u0275did"](4,1097728,null,0,L.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["Specify Pragmatic Limit(%) "])),(l()(),t["\u0275eld"](6,0,null,0,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](8,0,null,0,4,"span",[["class","tooltip"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,":svg:svg",[["ibmIconHelp16",""]],null,null,null,null,null)),t["\u0275did"](10,4210688,null,0,E.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[["class","tooltiptext"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Specify how much deviation can be tolerated from the target by the year end. For eg:- If limit set for achieving the target for the year is 4% limit for any one month then is 4 X \u221a12= 13.9%."])),(l()(),t["\u0275eld"](13,0,null,1,7,"input",[["formControlName","pragmaticLimitValue"],["ibmText",""],["id","pragmaticLimitValue"],["min","1"],["type","number"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,15)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,15).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,15)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,15)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,16).onChange(n.target.value)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,16).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,16).onTouched()&&i),i},null,null)),t["\u0275did"](14,16384,null,0,P.a,[],null,null),t["\u0275did"](15,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275did"](16,16384,null,0,r.w,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,r.p,function(l,e){return[l,e]},[r.c,r.w]),t["\u0275did"](18,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](20,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Re)),t["\u0275did"](22,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component,t=l(e,2,0,3,3,12);l(e,1,0,t),l(e,18,0,"pragmaticLimitValue"),l(e,22,0,"PRAGMATIC"===n.actionLimit&&n.kpiForm.controls.pragmaticLimitValue.invalid&&n.kpiForm.controls.pragmaticLimitValue.touched||n.isSubmitClicked&&n.kpiForm.controls.pragmaticLimitValue.invalid)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).labelClass),l(e,13,1,[t["\u0275nov"](e,14).inputClass,t["\u0275nov"](e,14).invalid,t["\u0275nov"](e,14).skeleton,t["\u0275nov"](e,14).isLightTheme,t["\u0275nov"](e,20).ngClassUntouched,t["\u0275nov"](e,20).ngClassTouched,t["\u0275nov"](e,20).ngClassPristine,t["\u0275nov"](e,20).ngClassDirty,t["\u0275nov"](e,20).ngClassValid,t["\u0275nov"](e,20).ngClassInvalid,t["\u0275nov"](e,20).ngClassPending])})}function Oe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"button",[["ibmButton","danger"],["ibmContentOption",""],["style","z-index: 0;"],["type","button"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null],[8,"className",0],[2,"bx--content-switcher--selected",null],[1,"role",0],[1,"aria-selected",0],[1,"tabIndex",0]],[[null,"click"],[null,"focus"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,2).hostClick()&&i),"focus"===e&&(i=!1!==t["\u0275nov"](l,2).onFocus()&&i),"click"===e&&(i=!1!==a.onSwitcherSelected(n,l.context.$implicit.startDate,l.context.$implicit.endDate)&&i),i},null,null)),t["\u0275did"](1,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),t["\u0275did"](2,16384,[[20,4]],0,A.a,[],{active:[0,"active"]},null),(l()(),t["\u0275ted"](3,null,["",""])),t["\u0275ppd"](4,2)],function(l,e){var n=e.component;l(e,1,0,"danger"),l(e,2,0,e.context.$implicit.startDate===n.selectedMonthStart)},function(l,e){l(e,0,1,[t["\u0275nov"](e,1).baseClass,t["\u0275nov"](e,1).primaryButton,t["\u0275nov"](e,1).secondaryButton,t["\u0275nov"](e,1).tertiaryButton,t["\u0275nov"](e,1).ghostButton,t["\u0275nov"](e,1).dangerButton,t["\u0275nov"](e,1).dangerPrimaryButton,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).smallSize,t["\u0275nov"](e,1).toolbarAction,t["\u0275nov"](e,1).overflowMenu,t["\u0275nov"](e,2).switcherClass,t["\u0275nov"](e,2).selectedClass,t["\u0275nov"](e,2).role,t["\u0275nov"](e,2).ariaSelected,t["\u0275nov"](e,2).tabindex]);var n=t["\u0275unv"](e,3,0,l(e,4,0,t["\u0275nov"](e.parent.parent.parent.parent.parent,0),e.context.$implicit.startDate,"MMM-y"));l(e,3,0,n)})}function Ne(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"ibm-content-switcher",[],null,[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,1).hostkeys(n)&&i),i},Y.b,Y.a)),t["\u0275did"](1,4243456,null,1,_.a,[t.ElementRef],null,null),t["\u0275qud"](603979776,20,{options:1}),(l()(),t["\u0275and"](16777216,null,0,1,null,Oe)),t["\u0275did"](4,278528,null,0,v.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,e){l(e,4,0,e.component.monthlyItemsShow)},null)}function Ee(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["ibmRow",""],["style","margin-top: 16px; margin-bottom: 16px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,m.c,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ne)),t["\u0275did"](3,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,3,0,(null==n.monthlyItemsShow?null:n.monthlyItemsShow.length)&&(!(n.useForStratefyTarget&&n.useForStratifyLowerUpper)&&"PRAGMATIC"!==n.actionLimit||!n.useForStratefyTarget&&"PRAGMATIC"===n.actionLimit)&&"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass)})}function Ae(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,81,"div",[["class","margin-top-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,4,"div",[["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Target definition"])),(l()(),t["\u0275eld"](7,0,null,null,35,"div",[["ibmCol",""],["style","margin-bottom: 16px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](8,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](9,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,ke)),t["\u0275did"](11,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](12,0,null,null,28,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](13,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](14,0,null,null,7,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](15,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](16,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](17,0,null,null,4,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"span",[["style","margin-bottom: 8px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Choose Form to fetch target data from"])),(l()(),t["\u0275eld"](20,0,null,null,1,"app-e4-combo-box",[["isDependent","true"],["placeholder","Search form"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onOpen"===e&&(t=!1!==i.onOpenFormSearchForTargetDef(n)&&t),"onSearch"===e&&(t=!1!==i.onTargetFormSearch(n)&&t),"onSelect"===e&&(t=!1!==i.onTargetFormSelected(n)&&t),t},O.b,O.a)),t["\u0275did"](21,4964352,null,0,N.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],isDisable:[2,"isDisable"],searchQuery:[3,"searchQuery"],placeholder:[4,"placeholder"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"}),(l()(),t["\u0275eld"](22,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](23,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](24,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](25,0,null,null,3,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Choose Target Field "])),(l()(),t["\u0275eld"](27,0,null,null,1,"app-e4-combo-box",[["placeholder","Target"],["style","margin-top: 8px;"]],null,[[null,"onSelect"]],function(l,e,n){var t=!0;return"onSelect"===e&&(t=!1!==l.component.onSelectedTargetFormField(n)&&t),t},O.b,O.a)),t["\u0275did"](28,4964352,null,0,N.a,[t.ElementRef],{items:[0,"items"],isDisable:[1,"isDisable"],searchQuery:[2,"searchQuery"],placeholder:[3,"placeholder"]},{onSelect:"onSelect"}),(l()(),t["\u0275eld"](29,0,null,null,11,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](30,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](31,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](32,0,null,null,8,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Aggregation Logic "])),(l()(),t["\u0275eld"](34,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["id","dataCaptureFrequencyAggrLogic"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,36).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.aggregationLogicSelected(n)&&i),i},b.b,b.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](36,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],disabled:[4,"disabled"],appendInline:[5,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,18,{view:0}),(l()(),t["\u0275eld"](38,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](39,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[18,4]],I.a,null,[w.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Fe)),t["\u0275did"](42,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](43,0,null,null,33,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](44,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](45,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](46,0,null,null,30,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](47,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](48,0,null,null,26,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](49,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](50,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](51,0,null,null,23,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](52,0,null,null,6,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Action Limits "])),(l()(),t["\u0275eld"](54,0,null,null,4,"span",[["class","tooltip"]],null,null,null,null,null)),(l()(),t["\u0275eld"](55,0,null,null,1,":svg:svg",[["ibmIconHelp16",""]],null,null,null,null,null)),t["\u0275did"](56,4210688,null,0,E.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](57,0,null,null,1,"span",[["class","tooltiptext"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["A pragmatic approach automatically computes upper and lower action limits based on the pragmatic value provided. A manual approach would require the user to manually specify upper and lower action limits."])),(l()(),t["\u0275eld"](59,0,null,null,15,"ibm-radio-group",[["aria-label","radiogroup"]],[[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"]],function(l,e,n){var t=!0,i=l.component;return"ngModelChange"===e&&(t=!1!==(i.actionLimit=n)&&t),"change"===e&&(t=!1!==i.onRadioChange(n)&&t),t},o.b,o.a)),t["\u0275did"](60,5292032,null,1,s.a,[],null,{change:"change"}),t["\u0275qud"](603979776,19,{radios:1}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[s.a]),t["\u0275did"](63,671744,null,0,r.u,[[2,r.b],[8,null],[8,null],[6,r.p]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](64,{standalone:0}),t["\u0275prd"](2048,null,r.q,null,[r.u]),t["\u0275did"](66,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](67,0,null,0,3,"ibm-radio",[["value","PRAGMATIC"]],[[1,"title",0],[1,"role",0],[2,"bx--radio-button-wrapper",null],[2,"bx--radio-button-wrapper--label-left",null]],null,null,d.b,d.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[c.a]),t["\u0275did"](69,49152,[[19,4]],0,c.a,[],{checked:[0,"checked"],disabled:[1,"disabled"],value:[2,"value"]},null),(l()(),t["\u0275ted"](-1,0,[" Pragmatic (Recommended) "])),(l()(),t["\u0275eld"](71,0,null,0,3,"ibm-radio",[["value","MANUAL"]],[[1,"role",0],[2,"bx--radio-button-wrapper",null],[2,"bx--radio-button-wrapper--label-left",null]],null,null,d.b,d.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[c.a]),t["\u0275did"](73,49152,[[19,4]],0,c.a,[],{checked:[0,"checked"],value:[1,"value"]},null),(l()(),t["\u0275ted"](-1,0,[" Manual "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Le)),t["\u0275did"](76,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](77,0,null,null,4,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](78,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](79,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,Ee)),t["\u0275did"](81,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component,t=l(e,4,0,12,12,12);l(e,3,0,t);var i=l(e,9,0,12,12,12);l(e,8,0,i),l(e,11,0,"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType);var a=l(e,16,0,3,3,12);l(e,15,0,a),l(e,21,0,n.searchedFormsForStratify,"true",!(n.useForStratefyTarget&&"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType),n.targetFormQuery,"Search form");var u=l(e,24,0,3,3,12);l(e,23,0,u),l(e,28,0,n.targetFormFieldList,!(n.useForStratefyTarget&&"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType),n.targetQuery,"Target");var o=l(e,31,0,3,3,12);l(e,30,0,o),l(e,36,0,"dataCaptureFrequencyAggrLogic","Choose","sm","single",!(n.useForStratefyTarget&&"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType),"true"),l(e,39,0,n.dataCaptureFrequencyAggrLogicItems),l(e,42,0,n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit);var r=l(e,45,0,12,12,12);l(e,44,0,r);var s=l(e,50,0,3,3,12);l(e,49,0,s);var d=n.actionLimit,c=l(e,64,0,!0);l(e,63,0,d,c),l(e,69,0,"PRAGMATIC"===n.actionLimit,n.disablePragmaticRadioOption,"PRAGMATIC"),l(e,73,0,"MANUAL"===n.actionLimit,"MANUAL"),l(e,76,0,"PRAGMATIC"===n.actionLimit);var p=l(e,79,0,12,12,12);l(e,78,0,p),l(e,81,0,(null==n.monthlyItemsShow?null:n.monthlyItemsShow.length)&&(!(n.useForStratefyTarget&&n.useForStratifyLowerUpper)&&"PRAGMATIC"!==n.actionLimit||!n.useForStratefyTarget&&"PRAGMATIC"===n.actionLimit)&&"QUARTERLY"!==n.captureType&&"HALF YEARLY"!==n.captureType)},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,7,0,t["\u0275nov"](e,8).columnClasses),l(e,12,0,t["\u0275nov"](e,13).baseClass),l(e,14,0,t["\u0275nov"](e,15).columnClasses),l(e,22,0,t["\u0275nov"](e,23).columnClasses),l(e,29,0,t["\u0275nov"](e,30).columnClasses),l(e,34,0,t["\u0275nov"](e,36).hostClass),l(e,43,0,t["\u0275nov"](e,44).columnClasses),l(e,46,0,t["\u0275nov"](e,47).baseClass),l(e,48,0,t["\u0275nov"](e,49).columnClasses),l(e,59,0,t["\u0275nov"](e,60).radioButtonGroupClass,t["\u0275nov"](e,66).ngClassUntouched,t["\u0275nov"](e,66).ngClassTouched,t["\u0275nov"](e,66).ngClassPristine,t["\u0275nov"](e,66).ngClassDirty,t["\u0275nov"](e,66).ngClassValid,t["\u0275nov"](e,66).ngClassInvalid,t["\u0275nov"](e,66).ngClassPending),l(e,67,0,n.disablePragmaticRadioOption?n.getTitleForLimits():"",t["\u0275nov"](e,69).role,t["\u0275nov"](e,69).hostClass,t["\u0275nov"](e,69).labelLeft),l(e,71,0,t["\u0275nov"](e,73).role,t["\u0275nov"](e,73).hostClass,t["\u0275nov"](e,73).labelLeft),l(e,77,0,t["\u0275nov"](e,78).columnClasses)})}function Ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"ibm-checkbox",[["checked","extend"],["size","sm"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onShowKpiTargetData(n)&&t),t},g.b,g.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[h.a]),t["\u0275did"](2,4243456,null,0,h.a,[t.ChangeDetectorRef],{size:[0,"size"],checked:[1,"checked"]},{change:"change"}),(l()(),t["\u0275ted"](3,0,[" View past year KPI data to compare against "," "]))],function(l,e){l(e,2,0,"sm","extend")},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,2).checkboxWrapperClass,t["\u0275nov"](e,2).formItemClass),l(e,3,0,"( "+n.targetFinancialYear+" | "+n.targetKpiTitle+" | YTD Performance: "+n.actualYtd+" / "+n.targetYtd+" )")})}function _e(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,4,"div",[["ibmCol",""],["style","margin-bottom: 8px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,Ye)),t["\u0275did"](6,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component,t=l(e,4,0,12,4,12);l(e,3,0,t),l(e,6,0,n.extend)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses)})}function Ue(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[],[[24,"@slideInOut",0]],null,null,null,null)),t["\u0275prd"](512,null,v["\u0275NgClassImpl"],v["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,v.NgClass,[v["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275eld"](3,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"label",[["class","report-data-head"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["Target for "," "])),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"input",[["class","input-div"],["disabled",""],["ibmText",""],["id","target"],["name",""]],[[8,"placeholder",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null]],null,null,null,null)),t["\u0275did"](8,16384,null,0,P.a,[],null,null)],function(l,e){l(e,2,0,e.context.$implicit.value?"report-container card-fill-color":"report-container target-card-fill-color")},function(l,e){l(e,0,0,void 0),l(e,5,0,e.context.$implicit.cardTitle),l(e,7,0,t["\u0275inlineInterpolate"](1,"",e.context.$implicit.target,""),t["\u0275nov"](e,8).inputClass,t["\u0275nov"](e,8).invalid,t["\u0275nov"](e,8).skeleton,t["\u0275nov"](e,8).isLightTheme)})}function Ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,23,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,15,"div",[["ibmCol",""],["style","margin-bottom: 8px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,12,"div",[["class","limit-class"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](6,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](7,0,null,null,10,"span",[["class","arrow-icon-span"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,4,":svg:svg",[["aria-hidden","true"],["class","bx--pagination__nav-arrow left-arrow-icon"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 32 32"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onPreviousTargetClick()&&t),t},null,null)),t["\u0275prd"](512,null,v["\u0275NgStyleImpl"],v["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](10,278528,null,0,v.NgStyle,[v["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](11,{fill:0}),(l()(),t["\u0275eld"](12,0,null,null,0,":svg:path",[["d","M19 23l-8-7 8-7v14z"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,4,":svg:svg",[["aria-hidden","true"],["class","bx--pagination__nav-arrow right-arrow-icon"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 32 32"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onNextTargetClick()&&t),t},null,null)),t["\u0275prd"](512,null,v["\u0275NgStyleImpl"],v["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](15,278528,null,0,v.NgStyle,[v["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](16,{fill:0}),(l()(),t["\u0275eld"](17,0,null,null,0,":svg:path",[["d","M13 9l8 7-8 7V9z"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,5,"div",[["class","report-colmn"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](19,81920,null,0,m.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](20,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,2,null,Ue)),t["\u0275did"](22,278528,null,0,v.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](0,v.SlicePipe,[])],function(l,e){var n=e.component,i=l(e,4,0,12,4,12);l(e,3,0,i);var a=l(e,11,0,0===n.prevTargetValue?"grey":"");l(e,10,0,a);var u=l(e,16,0,"");l(e,15,0,u);var o=l(e,20,0,12,12,12);l(e,19,0,"report-colmn",o),l(e,22,0,t["\u0275unv"](e,22,0,t["\u0275nov"](e,23).transform(n.targetData,n.prevTargetValue,n.nextTargetValue)))},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,5,0,t["\u0275nov"](e,6).baseClass),l(e,18,0,t["\u0275nov"](e,19).columnClasses)})}function qe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[["class","tooltip"],["style","margin-left: 8px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["ibmIconHelp16",""]],null,null,null,null,null)),t["\u0275did"](2,4210688,null,0,E.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](3,0,null,null,1,"span",[["class","tooltiptext"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" You can set numerical or percentage values for Upper Limit and lower limit. If you enter percentages in Upper and Lower limits, the percentages will be with respect to the target. For example if you enter 5% in the Upper limit, the upper limit will be 105% of the target. Likewise if you enter 5% in the Lower limit, the lower limit will be 95% of the target. "]))],null,null)}function Ke(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","fill-da1e28"],["ibmIconClose20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onCloseCard(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,U.a,[t.ElementRef],null,null)],null,null)}function He(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","fill-da1e28"],["ibmIconCheckmark20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onCloseCard(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,V.a,[t.ElementRef],null,null)],null,null)}function ze(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"input",[["class","input-div"],["formControlName","target"],["ibmText",""],["id","target"],["name",""],["placeholder","Enter Target"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==a.calculateUpperLowerLimitWithTarget(l.parent.context.$implicit)&&i),i},null,null)),t["\u0275did"](1,16384,null,0,P.a,[],null,null),t["\u0275did"](2,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](4,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](6,16384,null,0,r.r,[[4,r.q]],null,null)],function(l,e){l(e,4,0,"target",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,1).inputClass,t["\u0275nov"](e,1).invalid,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).isLightTheme,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending])})}function Be(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"input",[["class","input-div"],["formControlName","upperPercent"],["ibmText",""],["id","upperPercent"],["name",""],["placeholder","%"],["style","margin-right: 8px;flex: 1;min-width: 0"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==a.calculateUpperLowerLimit(l.parent.context.$implicit,l.parent.context.$implicit.value.index,"upper")&&i),i},null,null)),t["\u0275did"](1,16384,null,0,P.a,[],null,null),t["\u0275did"](2,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](4,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](6,16384,null,0,r.r,[[4,r.q]],null,null)],function(l,e){l(e,4,0,"upperPercent",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,1).inputClass,t["\u0275nov"](e,1).invalid,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).isLightTheme,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending])})}function Ge(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"input",[["class","input-div"],["formControlName","upper"],["ibmText",""],["id","upper"],["name",""],["placeholder","Upper Limit"],["style","flex: 1;min-width: 0"],["tabindex","-1"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,5)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,5).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275prd"](512,null,v["\u0275NgClassImpl"],v["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,v.NgClass,[v["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"disabled-no-action":0}),t["\u0275did"](4,16384,null,0,P.a,[],null,null),t["\u0275did"](5,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](7,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](9,16384,null,0,r.r,[[4,r.q]],null,null)],function(l,e){var n=l(e,3,0,e.parent.context.$implicit.value.upperPercent);l(e,2,0,"input-div",n),l(e,7,0,"upper",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,4).inputClass,t["\u0275nov"](e,4).invalid,t["\u0275nov"](e,4).skeleton,t["\u0275nov"](e,4).isLightTheme,t["\u0275nov"](e,9).ngClassUntouched,t["\u0275nov"](e,9).ngClassTouched,t["\u0275nov"](e,9).ngClassPristine,t["\u0275nov"](e,9).ngClassDirty,t["\u0275nov"](e,9).ngClassValid,t["\u0275nov"](e,9).ngClassInvalid,t["\u0275nov"](e,9).ngClassPending])})}function We(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"input",[["class","input-div"],["formControlName","lowerPercent"],["ibmText",""],["id","lowerPercent"],["name",""],["placeholder","%"],["style","margin-right: 8px;flex: 1;min-width: 0"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==a.calculateUpperLowerLimit(l.parent.context.$implicit,l.parent.context.$implicit.value.index,"lower")&&i),i},null,null)),t["\u0275did"](1,16384,null,0,P.a,[],null,null),t["\u0275did"](2,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](4,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](6,16384,null,0,r.r,[[4,r.q]],null,null)],function(l,e){l(e,4,0,"lowerPercent",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,1).inputClass,t["\u0275nov"](e,1).invalid,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).isLightTheme,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending])})}function je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"input",[["class","input-div"],["formControlName","lower"],["ibmText",""],["id","lower"],["name",""],["placeholder","Lower Limit "],["style","flex: 1;min-width: 0"],["tabindex","-1"]],[[8,"autocomplete",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,5)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,5).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,5)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275prd"](512,null,v["\u0275NgClassImpl"],v["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,v.NgClass,[v["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"disabled-no-action":0}),t["\u0275did"](4,16384,null,0,P.a,[],null,null),t["\u0275did"](5,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](7,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](9,16384,null,0,r.r,[[4,r.q]],null,null)],function(l,e){var n=l(e,3,0,e.parent.context.$implicit.value.lowerPercent);l(e,2,0,"input-div",n),l(e,7,0,"lower",e.parent.context.$implicit.value.disabled)},function(l,e){l(e,0,1,[e.component.autocomplete,t["\u0275nov"](e,4).inputClass,t["\u0275nov"](e,4).invalid,t["\u0275nov"](e,4).skeleton,t["\u0275nov"](e,4).isLightTheme,t["\u0275nov"](e,9).ngClassUntouched,t["\u0275nov"](e,9).ngClassTouched,t["\u0275nov"](e,9).ngClassPristine,t["\u0275nov"](e,9).ngClassDirty,t["\u0275nov"](e,9).ngClassValid,t["\u0275nov"](e,9).ngClassInvalid,t["\u0275nov"](e,9).ngClassPending])})}function $e(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,21,"div",[["style","background-color: #393939;padding: 16px;position: absolute;top: 24px;left: -52px;z-index: 9999;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["class","fill-white-ico"],["ibmIconClose20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.closeCopyDiag(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](2,4210688,null,0,U.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](3,0,null,null,15,"label",[["class","date-picker-new-cont padding-left-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,10,"input",[["ibmText",""]],[[8,"placeholder",0],[2,"owl-dt-trigger-disabled",null],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"],[null,"blur"],[null,"input"],[null,"change"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"click"===e&&(i=!1!==t["\u0275nov"](l,5).handleClickOnHost(n)&&i),"keydown"===e&&(i=!1!==t["\u0275nov"](l,6).handleKeydownOnHost(n)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,6).handleBlurOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,6).handleInputOnHost(n)&&i),"change"===e&&(i=!1!==t["\u0275nov"](l,6).handleChangeOnHost(n)&&i),"input"===e&&(i=!1!==t["\u0275nov"](l,8)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,8).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,8)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,8)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(a.copyDateSelected=n)&&i),"ngModelChange"===e&&(i=!1!==a.onCopyCalendarChange(n)&&i),i},null,null)),t["\u0275did"](5,1785856,null,0,M.y,[t.ChangeDetectorRef],{dtPicker:[0,"dtPicker"]},null),t["\u0275did"](6,1261568,null,0,M.z,[t.ElementRef,t.Renderer2,[2,M.a],[2,M.b]],{owlDateTime:[0,"owlDateTime"],selectMode:[1,"selectMode"]},null),t["\u0275did"](7,16384,null,0,P.a,[],null,null),t["\u0275did"](8,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.o,function(l){return[l]},[M.z]),t["\u0275prd"](1024,null,r.p,function(l,e){return[l,e]},[M.z,r.c]),t["\u0275did"](11,671744,null,0,r.u,[[2,r.b],[6,r.o],[8,null],[6,r.p]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](12,{standalone:0}),t["\u0275prd"](2048,null,r.q,null,[r.u]),t["\u0275did"](14,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](15,16777216,null,null,1,"owl-date-time",[],null,null,null,S.b,S.a)),t["\u0275did"](16,245760,[["dt10",4]],0,M.d,[k.b,t.ViewContainerRef,M.v,t.NgZone,t.ChangeDetectorRef,[2,M.a],M.o,[2,M.b],[2,v.DOCUMENT]],{pickerType:[0,"pickerType"]},null),(l()(),t["\u0275eld"](17,0,null,null,1,":svg:svg",[["class","cal-icon"],["ibmIconCalendar20",""]],null,null,null,null,null)),t["\u0275did"](18,4210688,null,0,F.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](19,0,null,null,2,"button",[["ibmButton","danger"],["style","width: 100%;margin-top: 8px;"],["type","button"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onCopyValues(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](20,16384,null,0,p.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,["Copy"]))],function(l,e){var n=e.component;l(e,5,0,t["\u0275nov"](e,16)),l(e,6,0,t["\u0275nov"](e,16),"range");var i=n.copyDateSelected,a=l(e,12,0,!0);l(e,11,0,i,a),l(e,16,0,"calendar"),l(e,20,0,"danger")},function(l,e){l(e,4,1,[e.component.placeholder,t["\u0275nov"](e,5).owlDTTriggerDisabledClass,t["\u0275nov"](e,6).owlDateTimeInputAriaHaspopup,t["\u0275nov"](e,6).owlDateTimeInputAriaOwns,t["\u0275nov"](e,6).minIso8601,t["\u0275nov"](e,6).maxIso8601,t["\u0275nov"](e,6).owlDateTimeInputDisabled,t["\u0275nov"](e,7).inputClass,t["\u0275nov"](e,7).invalid,t["\u0275nov"](e,7).skeleton,t["\u0275nov"](e,7).isLightTheme,t["\u0275nov"](e,14).ngClassUntouched,t["\u0275nov"](e,14).ngClassTouched,t["\u0275nov"](e,14).ngClassPristine,t["\u0275nov"](e,14).ngClassDirty,t["\u0275nov"](e,14).ngClassValid,t["\u0275nov"](e,14).ngClassInvalid,t["\u0275nov"](e,14).ngClassPending]),l(e,19,1,[t["\u0275nov"](e,20).baseClass,t["\u0275nov"](e,20).primaryButton,t["\u0275nov"](e,20).secondaryButton,t["\u0275nov"](e,20).tertiaryButton,t["\u0275nov"](e,20).ghostButton,t["\u0275nov"](e,20).dangerButton,t["\u0275nov"](e,20).dangerPrimaryButton,t["\u0275nov"](e,20).skeleton,t["\u0275nov"](e,20).smallSize,t["\u0275nov"](e,20).toolbarAction,t["\u0275nov"](e,20).overflowMenu])})}function Qe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error-msg-form"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Please enter numeric values"]))],null,null)}function Ze(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,38,"div",[["formArrayName","captureData"]],[[24,"@slideInOut",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["\u0275prd"](512,null,v["\u0275NgClassImpl"],v["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,v.NgClass,[v["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275did"](3,212992,null,0,r.e,[[3,r.b],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.b,null,[r.e]),t["\u0275did"](5,16384,null,0,r.s,[[4,r.b]],null,null),(l()(),t["\u0275eld"](6,0,null,null,5,"div",[["class","close-div"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,4,"div",[["class","close-icon-center"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ke)),t["\u0275did"](9,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,He)),t["\u0275did"](11,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](12,0,null,null,24,"div",[["class","parent-items"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"change"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==i.onGoalSelection(l.context.$implicit)&&t),"change"===e&&(t=!1!==i.onGoalSelection(l.context.$implicit)&&t),t},null,null)),t["\u0275did"](13,212992,null,0,r.k,[[3,r.b],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.b,null,[r.k]),t["\u0275did"](15,16384,null,0,r.s,[[4,r.b]],null,null),(l()(),t["\u0275eld"](16,0,null,null,1,"label",[["class","report-data-head"]],null,null,null,null,null)),(l()(),t["\u0275ted"](17,null,["Target for ",""])),(l()(),t["\u0275eld"](18,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ze)),t["\u0275did"](21,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](22,0,null,null,4,"div",[["style","display: flex;justify-content: space-between;overflow: hidden;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Be)),t["\u0275did"](24,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ge)),t["\u0275did"](26,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](27,0,null,null,4,"div",[["style","display: flex;justify-content: space-between;overflow: hidden;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,We)),t["\u0275did"](29,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,je)),t["\u0275did"](31,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](32,0,null,null,4,"div",[["class","copy-btn"],["style","position: relative;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,$e)),t["\u0275did"](34,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](35,0,null,null,1,"span",[],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.showCopyCalendar(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Copy"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Qe)),t["\u0275did"](38,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,2,0,e.context.$implicit.value.disabled?"report-container card-fill-color":n.selectedCard&&e.context.$implicit.value.index===n.selectedCard.index?"report-container active-card":"report-container"),l(e,3,0,"captureData"),l(e,9,0,!e.context.$implicit.value.disabled&&("SHIFT WISE"===n.captureType&&0!=n.selectedShifttem.length||"WEEKLY"===n.captureType||"DAILY"===n.captureType||"QUARTERLY"===n.captureType&&"PRAGMATIC"===n.actionLimit||"HALF YEARLY"===n.captureType&&"PRAGMATIC"===n.actionLimit)),l(e,11,0,e.context.$implicit.value.disabled&&("SHIFT WISE"===n.captureType&&0!=n.selectedShifttem.length||"WEEKLY"===n.captureType||"DAILY"===n.captureType||"QUARTERLY"===n.captureType&&"PRAGMATIC"===n.actionLimit||"HALF YEARLY"===n.captureType&&"PRAGMATIC"===n.actionLimit)),l(e,13,0,e.context.$implicit.value.index),l(e,21,0,!n.useForStratefyTarget),l(e,24,0,!n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit),l(e,26,0,!n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit),l(e,29,0,!n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit),l(e,31,0,!n.useForStratifyLowerUpper&&"PRAGMATIC"!==n.actionLimit),l(e,34,0,e.context.$implicit.isShowCopyCal),l(e,38,0,e.context.$implicit.controls.target.invalid&&e.context.$implicit.controls.target.touched||e.context.$implicit.controls.lower.invalid&&e.context.$implicit.controls.lower.touched||e.context.$implicit.controls.upper.invalid&&e.context.$implicit.controls.upper.touched)},function(l,e){l(e,0,0,void 0,t["\u0275nov"](e,5).ngClassUntouched,t["\u0275nov"](e,5).ngClassTouched,t["\u0275nov"](e,5).ngClassPristine,t["\u0275nov"](e,5).ngClassDirty,t["\u0275nov"](e,5).ngClassValid,t["\u0275nov"](e,5).ngClassInvalid,t["\u0275nov"](e,5).ngClassPending),l(e,12,0,t["\u0275nov"](e,15).ngClassUntouched,t["\u0275nov"](e,15).ngClassTouched,t["\u0275nov"](e,15).ngClassPristine,t["\u0275nov"](e,15).ngClassDirty,t["\u0275nov"](e,15).ngClassValid,t["\u0275nov"](e,15).ngClassInvalid,t["\u0275nov"](e,15).ngClassPending),l(e,17,0,e.context.$implicit.value.content)})}function Xe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,26,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,17,"div",[["ibmCol",""],["style","margin-bottom: 8px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,14,"div",[["class","limit-class"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](6,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](7,0,null,null,10,"span",[["class","arrow-icon-span"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,4,":svg:svg",[["aria-hidden","true"],["class","bx--pagination__nav-arrow left-arrow-icon"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 32 32"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onPreviousClick()&&t),t},null,null)),t["\u0275prd"](512,null,v["\u0275NgStyleImpl"],v["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](10,278528,null,0,v.NgStyle,[v["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](11,{fill:0}),(l()(),t["\u0275eld"](12,0,null,null,0,":svg:path",[["d","M19 23l-8-7 8-7v14z"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,4,":svg:svg",[["aria-hidden","true"],["class","bx--pagination__nav-arrow right-arrow-icon"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 32 32"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onNextClick()&&t),t},null,null)),t["\u0275prd"](512,null,v["\u0275NgStyleImpl"],v["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](15,278528,null,0,v.NgStyle,[v["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](16,{fill:0}),(l()(),t["\u0275eld"](17,0,null,null,0,":svg:path",[["d","M13 9l8 7-8 7V9z"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,qe)),t["\u0275did"](19,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](20,0,null,null,6,"div",[["class","report-colmn"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](21,81920,null,0,m.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](22,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,3,null,Ze)),t["\u0275did"](24,278528,null,0,v.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](0,q.a,[]),t["\u0275pid"](0,v.SlicePipe,[])],function(l,e){var n=e.component,i=l(e,4,0,12,4,12);l(e,3,0,i);var a=l(e,11,0,0===n.prevValue?"grey":"");l(e,10,0,a);var u=l(e,16,0,n.captureData&&n.nextValue>=n.captureData.value.length?"grey":"");l(e,15,0,u),l(e,19,0,!(n.useForStratefyTarget&&n.useForStratifyLowerUpper)&&"PRAGMATIC"!==n.actionLimit);var o=l(e,22,0,12,12,12);l(e,21,0,"report-colmn",o),l(e,24,0,t["\u0275unv"](e,24,0,t["\u0275nov"](e,26).transform(t["\u0275unv"](e,24,0,t["\u0275nov"](e,25).transform(n.kpiForm.get("captureData").controls,n.selectedMonthStart,n.selectedMonthEnd,n.captureType)),n.prevValue,n.nextValue)))},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,5,0,t["\u0275nov"](e,6).baseClass),l(e,20,0,t["\u0275nov"](e,21).columnClasses)})}function Je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["ibmCol",""],["style","margin-bottom: 10px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline record-edit-not-permitted-message-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "]))],function(l,e){var n=l(e,2,0,12,12,12);l(e,1,0,n)},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,4,0,n.editNotPermittedMessage)})}function ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text"],["style","padding-left: 32px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"]],[[2,"bx--loading-overlay",null]],null,null,i.b,i.a)),t["\u0275did"](2,49152,null,0,a.a,[u.a],{size:[0,"size"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."]))],function(l,e){l(e,2,0,"sm")},function(l,e){l(e,1,0,t["\u0275nov"](e,2).overlay)})}function en(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,394,"form",[["class","form-wrapper"],["novalidate",""]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,e,n){var i=!0;return"submit"===e&&(i=!1!==t["\u0275nov"](l,2).onSubmit(n)&&i),"reset"===e&&(i=!1!==t["\u0275nov"](l,2).onReset()&&i),i},null,null)),t["\u0275did"](1,16384,null,0,r.F,[],null,null),t["\u0275did"](2,540672,null,0,r.j,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,r.b,null,[r.j]),t["\u0275did"](4,16384,null,0,r.s,[[4,r.b]],null,null),(l()(),t["\u0275eld"](5,0,null,null,24,"div",[["class","sticky bottom-edge-shadow"],["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](6,16384,null,0,m.b,[],null,null),(l()(),t["\u0275eld"](7,0,null,null,22,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](8,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](9,0,null,null,15,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](10,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](11,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,te)),t["\u0275did"](14,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](15,0,null,null,9,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](16,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](17,0,null,null,3,"span",[["style","margin: auto 8px 16px 16px"]],null,null,null,null,null)),(l()(),t["\u0275ted"](18,null,[""," "])),(l()(),t["\u0275eld"](19,0,null,null,1,"span",[["style","margin: auto 8px auto 8px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["|"])),(l()(),t["\u0275and"](16777216,null,null,1,null,ie)),t["\u0275did"](22,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ae)),t["\u0275did"](24,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](25,0,null,null,4,"div",[["ibmCol",""],["style","text-align: right;margin: auto;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](26,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](27,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,oe)),t["\u0275did"](29,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](30,0,null,null,364,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,357,"ibm-accordion",[],null,null,null,K.b,K.a)),t["\u0275did"](32,1097728,null,1,H.a,[],null,null),t["\u0275qud"](603979776,3,{children:1}),(l()(),t["\u0275eld"](34,0,null,0,236,"ibm-accordion-item",[["title","1. KPI Information"]],[[2,"bx--accordion__item",null],[2,"bx--accordion__item--active",null],[4,"display",null],[1,"role",0],[1,"aria-level",0]],null,null,z.b,z.a)),t["\u0275did"](35,49152,[[3,4]],0,B.a,[],{title:[0,"title"],expanded:[1,"expanded"]},null),(l()(),t["\u0275eld"](36,0,null,0,234,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](37,16384,null,0,m.b,[],null,null),(l()(),t["\u0275eld"](38,0,null,null,23,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](39,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](40,0,null,null,21,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](41,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](42,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](43,0,null,null,18,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](44,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](45,0,null,null,16,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](46,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](47,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](48,0,null,null,13,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Financial year "])),(l()(),t["\u0275eld"](50,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](52,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","financialYear"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,53).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.setFinancialYear(n)&&i),i},b.b,b.a)),t["\u0275did"](53,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{placeholder:[0,"placeholder"],size:[1,"size"],type:[2,"type"],disabled:[3,"disabled"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,4,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](56,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](58,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](59,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](60,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[4,4]],I.a,null,[w.a]),(l()(),t["\u0275eld"](62,0,null,null,17,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](63,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](64,0,null,null,15,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](65,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](66,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](67,0,null,null,12,"div",[["style","display: flex; margin: auto; flex-direction: row-reverse;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](68,0,null,null,3,"ibm-checkbox",[["style","margin-left: 16px; display: contents;"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null]],null,null,g.b,g.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[h.a]),t["\u0275did"](70,4243456,null,0,h.a,[t.ChangeDetectorRef],{disabled:[0,"disabled"]},null),(l()(),t["\u0275ted"](-1,0,[" Filter by Department "])),(l()(),t["\u0275eld"](72,0,null,null,0,"div",[["style","margin: 8px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](73,0,null,null,6,"ibm-checkbox",[["formControlName","noParent"],["style","display: contents;"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onChangeParent(n)&&t),t},g.b,g.a)),t["\u0275did"](74,4243456,null,0,h.a,[t.ChangeDetectorRef],null,{change:"change"}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[h.a]),t["\u0275did"](76,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](78,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275ted"](-1,0,["Don't want to associate with MP/Parent "])),(l()(),t["\u0275eld"](80,0,null,null,190,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](81,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](82,0,null,null,50,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](83,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](84,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](85,0,null,null,47,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](86,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](87,0,null,null,6,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](88,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](89,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,se)),t["\u0275did"](91,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,pe)),t["\u0275did"](93,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](94,0,null,null,16,"div",[["class","margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](95,81920,null,0,m.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](96,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](97,0,null,null,11,"ibm-label",[],[[2,"bx--form-item",null]],null,null,R.b,R.a)),t["\u0275did"](98,1097728,null,0,L.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["KPI Title "])),(l()(),t["\u0275eld"](100,0,null,0,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](102,0,null,1,6,"input",[["class","input-aligin"],["formControlName","title"],["ibmText",""],["id","title"],["placeholder","Enter title"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,104)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,104).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,104)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,104)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](103,16384,null,0,P.a,[],null,null),t["\u0275did"](104,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](106,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](108,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,me)),t["\u0275did"](110,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](111,0,null,null,21,"div",[["class","margin-top-20"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](112,81920,null,0,m.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](113,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](114,0,null,null,16,"ibm-label",[],[[2,"bx--form-item",null]],null,null,R.b,R.a)),t["\u0275did"](115,1097728,null,0,L.a,[],null,null),(l()(),t["\u0275eld"](116,0,null,0,3,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" KPI Description "])),(l()(),t["\u0275eld"](118,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](120,0,null,0,1,"label",[["class","top-right-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](121,null,["","/500"])),(l()(),t["\u0275eld"](122,0,null,1,8,"textarea",[["aria-label","textarea"],["formControlName","kpiDescription"],["ibmTextArea",""],["id","kpiDescription"],["maxlength","500"],["placeholder","Explain the action items for CP"]],[[2,"bx--text-area",null],[2,"bx--text-area--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-area--light",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,124)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,124).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,124)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,124)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](123,16384,null,0,G.a,[],null,null),t["\u0275did"](124,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275did"](125,540672,null,0,r.m,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,r.o,function(l){return[l]},[r.m]),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](128,671744,null,0,r.h,[[3,r.b],[6,r.o],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](130,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ge)),t["\u0275did"](132,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](133,0,null,null,137,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](134,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](135,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](136,0,null,null,39,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](137,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](138,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](139,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](140,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](141,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Department "])),(l()(),t["\u0275eld"](143,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](145,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","department"],["id","department"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,146).onKeyDown(n)&&i),i},b.b,b.a)),t["\u0275did"](146,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},null),t["\u0275qud"](335544320,7,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](149,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](151,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](152,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](153,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[7,4]],I.a,null,[w.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,he)),t["\u0275did"](156,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](157,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](158,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](159,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](160,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KPI Type "])),(l()(),t["\u0275eld"](162,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](164,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","KpiType"],["id",""],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,165).onKeyDown(n)&&i),i},b.b,b.a)),t["\u0275did"](165,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},null),t["\u0275qud"](335544320,8,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](168,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](170,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](171,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](172,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[8,4]],I.a,null,[w.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,fe)),t["\u0275did"](175,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](176,0,null,null,58,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](177,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](178,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](179,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](180,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](181,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Category "])),(l()(),t["\u0275eld"](183,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](185,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","category"],["id",""],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,186).onKeyDown(n)&&i),i},b.b,b.a)),t["\u0275did"](186,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},null),t["\u0275qud"](335544320,9,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](189,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](191,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](192,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](193,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[9,4]],I.a,null,[w.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,ve)),t["\u0275did"](196,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](197,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](198,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](199,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](200,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Unit of Measurement "])),(l()(),t["\u0275eld"](202,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](204,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","unitOfMeasurement"],["id","unitOfMeasurement"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,205).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onUoMChange(n)&&i),i},b.b,b.a)),t["\u0275did"](205,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],disabled:[4,"disabled"],appendInline:[5,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,10,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](208,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](210,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](211,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](212,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[10,4]],I.a,null,[w.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,be)),t["\u0275did"](215,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](216,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](217,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](218,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](219,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Direction of Goodness "])),(l()(),t["\u0275eld"](221,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](223,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","directionOfGoodness"],["id","directionOfGoodness"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,224).onKeyDown(n)&&i),i},b.b,b.a)),t["\u0275did"](224,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],disabled:[4,"disabled"],appendInline:[5,"appendInline"]},null),t["\u0275qud"](335544320,11,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](227,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](229,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](230,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](231,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[11,4]],I.a,null,[w.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,Ce)),t["\u0275did"](234,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](235,0,null,null,35,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](236,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](237,0,null,null,33,"div",[["class","remark-container"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](238,81920,null,0,m.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](239,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](240,0,null,null,18,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](241,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](242,0,null,null,16,"ibm-label",[["ibmCol",""]],[[8,"className",0],[2,"bx--form-item",null]],null,null,R.b,R.a)),t["\u0275did"](243,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](244,{lg:0,md:1,sm:2}),t["\u0275did"](245,1097728,null,0,L.a,[],null,null),(l()(),t["\u0275eld"](246,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Remark"])),(l()(),t["\u0275eld"](248,0,null,0,1,"label",[["class","top-right-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](249,null,["","/500"])),(l()(),t["\u0275eld"](250,0,null,1,8,"textarea",[["aria-label","textarea"],["class","remark-textarea"],["formControlName","remark"],["ibmTextArea",""],["id","remark"],["maxlength","500"],["placeholder","Remark"]],[[2,"bx--text-area",null],[2,"bx--text-area--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-area--light",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,252)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,252).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,252)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,252)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](251,16384,null,0,G.a,[],null,null),t["\u0275did"](252,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275did"](253,540672,null,0,r.m,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,r.o,function(l){return[l]},[r.m]),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](256,671744,null,0,r.h,[[3,r.b],[6,r.o],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](258,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](259,0,null,null,11,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](260,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](261,0,null,null,9,"div",[["ibmCol",""],["style","height: 30px"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](262,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](263,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](264,0,null,null,6,"div",[["class","attachment-div"]],null,null,null,null,null)),(l()(),t["\u0275eld"](265,0,null,null,2,"a",[["style","cursor: pointer;text-decoration: none;color: black;"]],null,[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==i.downloadFile(i.attachmentFile)&&t),t},null,null)),(l()(),t["\u0275eld"](266,0,null,null,1,"label",[["class","font-size-12"]],null,null,null,null,null)),(l()(),t["\u0275ted"](267,null,["",""])),(l()(),t["\u0275eld"](268,0,[[1,0],["inputRemarkAttachment",1]],null,0,"input",[["style","display: none;"],["type","file"]],[[8,"accept",0]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onAttachmentChange(n)&&t),t},null,null)),(l()(),t["\u0275eld"](269,0,null,null,1,":svg:svg",[["class","fill-da1e28"],["ibmIconAttachment20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onFileSelect(n)&&t),t},null,null)),t["\u0275did"](270,4210688,null,0,W.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](271,0,null,0,13,"ibm-accordion-item",[["title","2. Deployment Tree"]],[[2,"bx--accordion__item",null],[2,"bx--accordion__item--active",null],[4,"display",null],[1,"role",0],[1,"aria-level",0]],null,null,z.b,z.a)),t["\u0275did"](272,49152,[[3,4]],0,B.a,[],{title:[0,"title"],expanded:[1,"expanded"]},null),(l()(),t["\u0275eld"](273,0,null,0,11,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](274,16384,null,0,m.b,[],null,null),(l()(),t["\u0275eld"](275,0,null,null,9,"div",[["class","margin-top-20"],["ibmRow",""],["style","margin-bottom: 40px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](276,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](277,0,null,null,4,"div",[["ibmCol",""],["style","height: 400px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](278,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](279,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](280,0,null,null,1,"app-deployment-tree",[],null,null,null,j.b,j.a)),t["\u0275did"](281,4964352,null,0,Q.a,[],{graphConfig:[0,"graphConfig"]},null),(l()(),t["\u0275eld"](282,0,null,null,2,"div",[["ibmCol",""],["style","height: 400px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](283,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](284,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](285,0,null,0,103,"ibm-accordion-item",[["title","3. Set DCF, DRF & Targets"]],[[2,"bx--accordion__item",null],[2,"bx--accordion__item--active",null],[4,"display",null],[1,"role",0],[1,"aria-level",0]],null,null,z.b,z.a)),t["\u0275did"](286,49152,[[3,4]],0,B.a,[],{title:[0,"title"],expanded:[1,"expanded"]},null),(l()(),t["\u0275eld"](287,0,null,0,101,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](288,16384,null,0,m.b,[],null,null),(l()(),t["\u0275eld"](289,0,null,null,89,"div",[["class","margin-top-20"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](290,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](291,0,null,null,55,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](292,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](293,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](294,0,null,null,52,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](295,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](296,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](297,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](298,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](299,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["YTD Calculation "])),(l()(),t["\u0275eld"](301,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](303,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","ytdCalculation"],["id","ytd"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,304).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onYTDChange(n)&&i),i},b.b,b.a)),t["\u0275did"](304,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,12,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](307,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](309,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](310,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](311,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[12,4]],I.a,null,[w.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,ye)),t["\u0275did"](314,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](315,0,null,null,12,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](316,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](317,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](318,0,null,null,9,"ibm-label",[],[[2,"bx--form-item",null]],null,null,R.b,R.a)),t["\u0275did"](319,1097728,null,0,L.a,[],null,null),(l()(),t["\u0275ted"](-1,0,["Annual Target "])),(l()(),t["\u0275eld"](321,0,null,1,6,"input",[["class","input-aligin"],["formControlName","annualTarget"],["ibmText",""],["id","annualTarget"],["placeholder","Enter annual target"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,323)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,323).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,323)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,323)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](322,16384,null,0,P.a,[],null,null),t["\u0275did"](323,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[r.c]),t["\u0275did"](325,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](327,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](328,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](329,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](330,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](331,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Capture Frequency "])),(l()(),t["\u0275eld"](333,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](335,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","dataCaptureFrequency"],["id","dataCaptureFrequency"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,336).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickcapture(n)&&i),i},b.b,b.a)),t["\u0275did"](336,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,13,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](339,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](341,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](342,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](343,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[13,4]],I.a,null,[w.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,xe)),t["\u0275did"](346,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](347,0,null,null,31,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](348,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](349,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](350,0,null,null,28,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](351,16384,null,0,m.c,[],null,null),(l()(),t["\u0275eld"](352,0,null,null,18,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](353,81920,null,0,m.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](354,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](355,0,null,null,15,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Review Frequency "])),(l()(),t["\u0275eld"](357,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](359,0,null,null,9,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["formControlName","reviewFrequency"],["id","reviewFrequency"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,360).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.onClickReview(n)&&i),i},b.b,b.a)),t["\u0275did"](360,1294336,null,1,C.a,[t.ElementRef,u.a,y.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,14,{view:0}),t["\u0275prd"](1024,null,r.p,function(l){return[l]},[C.a]),t["\u0275did"](363,671744,null,0,r.h,[[3,r.b],[8,null],[8,null],[6,r.p],[2,r.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.q,null,[r.h]),t["\u0275did"](365,16384,null,0,r.r,[[4,r.q]],null,null),(l()(),t["\u0275eld"](366,0,null,0,2,"ibm-dropdown-list",[],null,null,null,x.b,x.a)),t["\u0275did"](367,4374528,null,0,w.a,[t.ElementRef,u.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[14,4]],I.a,null,[w.a]),(l()(),t["\u0275and"](16777216,null,null,1,null,we)),t["\u0275did"](370,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ie)),t["\u0275did"](372,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,De)),t["\u0275did"](374,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Te)),t["\u0275did"](376,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Me)),t["\u0275did"](378,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Pe)),t["\u0275did"](380,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ae)),t["\u0275did"](382,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,_e)),t["\u0275did"](384,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ve)),t["\u0275did"](386,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Xe)),t["\u0275did"](388,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](389,0,null,null,1,"app-goalkpi-common",[],null,[[null,"updateAchievementLevelDataSource"],[null,"sourceItem"],[null,"ownerEvent"],[null,"viewerEvent"],[null,"groupEvent"],[null,"weighatgeEvent"]],function(l,e,n){var t=!0,i=l.component;return"updateAchievementLevelDataSource"===e&&(t=!1!==i.updateAchievementLevelDataSource(n)&&t),"sourceItem"===e&&(t=!1!==i.sourceEvent(n)&&t),"ownerEvent"===e&&(t=!1!==i.getOwner(n)&&t),"viewerEvent"===e&&(t=!1!==i.getViewer(n)&&t),"groupEvent"===e&&(t=!1!==i.getGroup(n)&&t),"weighatgeEvent"===e&&(t=!1!==i.setWeightage(n)&&t),t},Z.b,Z.a)),t["\u0275did"](390,638976,null,0,X.a,[J.a,ll.a,el.j,nl.a,tl.a,il.a],{level:[0,"level"],isAddMode:[1,"isAddMode"],yearEndDate:[2,"yearEndDate"],yearStartDate:[3,"yearStartDate"],weightage:[4,"weightage"],selectedOwnersInputArray:[5,"selectedOwnersInputArray"],selectedViewersInputArray:[6,"selectedViewersInputArray"],selectedGroupsInputArray:[7,"selectedGroupsInputArray"],selectedSourceItemForReq:[8,"selectedSourceItemForReq"],expandAccordianItems:[9,"expandAccordianItems"]},{sourceItem:"sourceItem",ownerEvent:"ownerEvent",viewerEvent:"viewerEvent",groupEvent:"groupEvent",weighatgeEvent:"weighatgeEvent",updateAchievementLevelDataSource:"updateAchievementLevelDataSource"}),(l()(),t["\u0275eld"](391,0,null,null,3,"div",[["class","margin-top-40"],["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](392,16384,null,0,m.c,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Je)),t["\u0275did"](394,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ln)),t["\u0275did"](396,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){var n=e.component;l(e,2,0,n.kpiForm);var t=l(e,11,0,6,6,12);l(e,10,0,t),l(e,14,0,n.extend&&n.selectedKpi),l(e,22,0,!n.isAddMode),l(e,24,0,n.isAddMode);var i=l(e,27,0,6,6,12);l(e,26,0,i),l(e,29,0,n.selectedKpi),l(e,35,0,"1. KPI Information",n.expandAccordianItems);var a=l(e,42,0,7,7,12);l(e,41,0,a);var u=l(e,47,0,4,4,12);l(e,46,0,u),l(e,53,0,"Choose","sm","single",!n.isAddMode&&!n.extend&&!n.isDraft,"true"),l(e,56,0,"financialYear",!n.isAddMode&&!n.extend&&!n.isDraft),l(e,60,0,n.yearList);var o=l(e,66,0,6,6,12);l(e,65,0,o),l(e,70,0,!0),l(e,76,0,"noParent");var r=l(e,84,0,6,6,12);l(e,83,0,r);var s=l(e,89,0,12,12,12);l(e,88,0,s),l(e,91,0,n.noParentKpi),l(e,93,0,!n.noParentKpi);var d=l(e,96,0,12,12,12);l(e,95,0,"margin-top-20",d),l(e,106,0,"title"),l(e,110,0,n.kpiForm.controls.title.invalid&&n.kpiForm.controls.title.touched||n.isSubmitClicked&&n.kpiForm.controls.title.invalid);var c=l(e,113,0,12,12,12);l(e,112,0,"margin-top-20",c),l(e,125,0,"500"),l(e,128,0,"kpiDescription"),l(e,132,0,n.kpiForm.controls.kpiDescription.invalid&&n.kpiForm.controls.kpiDescription.touched||n.isSubmitClicked&&n.kpiForm.controls.kpiDescription.invalid);var p=l(e,135,0,6,6,12);l(e,134,0,p);var m=l(e,140,0,8,8,12);l(e,139,0,m),l(e,146,0,"department","Choose","sm","single","true"),l(e,149,0,"department"),l(e,153,0,n.departmentList),l(e,156,0,n.kpiForm.controls.department.invalid&&n.kpiForm.controls.department.touched||n.isSubmitClicked&&n.kpiForm.controls.department.invalid);var g=l(e,159,0,4,4,12);l(e,158,0,g),l(e,165,0,"","Choose","sm","single","true"),l(e,168,0,"KpiType"),l(e,172,0,n.KpiItems),l(e,175,0,n.kpiForm.controls.KpiType.invalid&&n.kpiForm.controls.KpiType.touched||n.isSubmitClicked&&n.kpiForm.controls.KpiType.invalid);var h=l(e,180,0,4,4,12);l(e,179,0,h),l(e,186,0,"","Choose","sm","single","true"),l(e,189,0,"category"),l(e,193,0,n.categoryItems),l(e,196,0,n.kpiForm.controls.category.invalid&&n.kpiForm.controls.category.touched||n.isSubmitClicked&&n.kpiForm.controls.category.invalid);var f=l(e,199,0,4,4,12);l(e,198,0,f),l(e,205,0,"unitOfMeasurement","Choose","sm","single",n.extend?"disabled":null,"true"),l(e,208,0,"unitOfMeasurement",n.extend?"disabled":null),l(e,212,0,n.unitOfMeasurementItems),l(e,215,0,n.kpiForm.controls.unitOfMeasurement.invalid&&n.kpiForm.controls.unitOfMeasurement.touched||n.isSubmitClicked&&n.kpiForm.controls.unitOfMeasurement.invalid);var v=l(e,218,0,4,4,12);l(e,217,0,v),l(e,224,0,"directionOfGoodness","Choose","sm","single",n.extend?"disabled":null,"true"),l(e,227,0,"directionOfGoodness",n.extend?"disabled":null),l(e,231,0,n.directionOfGoodness),l(e,234,0,n.kpiForm.controls.directionOfGoodness.invalid&&n.kpiForm.controls.directionOfGoodness.touched||n.isSubmitClicked&&n.kpiForm.controls.directionOfGoodness.invalid);var b=l(e,239,0,12,12,12);l(e,238,0,"remark-container",b);var C=l(e,244,0,12,12,12);l(e,243,0,C),l(e,253,0,"500"),l(e,256,0,"remark");var y=l(e,263,0,12,12,12);l(e,262,0,y),l(e,272,0,"2. Deployment Tree",n.expandAccordianItems);var x=l(e,279,0,6,6,12);l(e,278,0,x),l(e,281,0,n.deploymentTreeConfig);var w=l(e,284,0,6,6,12);l(e,283,0,w),l(e,286,0,"3. Set DCF, DRF & Targets",n.expandAccordianItems);var I=l(e,293,0,6,6,12);l(e,292,0,I);var D=l(e,298,0,4,4,12);l(e,297,0,D),l(e,304,0,"ytd","Choose","sm","single","true"),l(e,307,0,"ytdCalculation"),l(e,311,0,n.ytdCalculation),l(e,314,0,n.kpiForm.controls.ytdCalculation.invalid&&n.kpiForm.controls.ytdCalculation.touched||n.isSubmitClicked&&n.kpiForm.controls.ytdCalculation.invalid);var T=l(e,317,0,4,4,12);l(e,316,0,T),l(e,325,0,"annualTarget");var M=l(e,330,0,4,4,12);l(e,329,0,M),l(e,336,0,"dataCaptureFrequency","Choose","sm","single","true"),l(e,339,0,"dataCaptureFrequency"),l(e,343,0,n.filteredFrequencyItems),l(e,346,0,n.kpiForm.controls.dataCaptureFrequency.invalid&&n.kpiForm.controls.dataCaptureFrequency.touched||n.isSubmitClicked&&n.kpiForm.controls.dataCaptureFrequency.invalid);var P=l(e,349,0,6,6,12);l(e,348,0,P);var S=l(e,354,0,4,4,12);l(e,353,0,S),l(e,360,0,"reviewFrequency","Choose","sm","single","true"),l(e,363,0,"reviewFrequency"),l(e,367,0,n.filteredReviewFrequencyItems),l(e,370,0,n.kpiForm.controls.reviewFrequency.invalid&&n.kpiForm.controls.reviewFrequency.touched||n.isSubmitClicked&&n.kpiForm.controls.reviewFrequency.invalid),l(e,372,0,"SHIFT WISE"===n.captureType),l(e,374,0,"WEEKLY"===n.captureType),l(e,376,0,"MONTHLY"===n.captureType),l(e,378,0,"SHIFT WISE"===n.captureType&&0!=n.selectedShifttem.length||"DAILY"===n.captureType||"HOURLY"===n.captureType),l(e,380,0,"FORMULA"===n.selectedYTDValue),l(e,382,0,"HOURLY"===n.captureType||"SHIFT WISE"===n.captureType||"DAILY"===n.captureType||"WEEKLY"===n.captureType||"MONTHLY"===n.captureType||"QUARTERLY"===n.captureType&&"PRAGMATIC"===n.actionLimit||"HALF YEARLY"===n.captureType&&"PRAGMATIC"===n.actionLimit),l(e,384,0,n.extend),l(e,386,0,n.showKpiTarget&&n.extend),l(e,388,0,!(n.useForStratefyTarget&&n.useForStratifyLowerUpper)&&"PRAGMATIC"!==n.actionLimit||!n.useForStratefyTarget&&"PRAGMATIC"===n.actionLimit),l(e,390,0,4,n.isAddMode,n.yearEndDate,n.yearStartDate,n.weightage,n.owners,n.viewers,n.groups,n.achievementLevelDataSource,n.expandAccordianItems),l(e,394,0,!n.isEditPermitted),l(e,396,0,n.isKPILoading)},function(l,e){var n=e.component;l(e,0,0,!0===n.isKPILoading,t["\u0275nov"](e,4).ngClassUntouched,t["\u0275nov"](e,4).ngClassTouched,t["\u0275nov"](e,4).ngClassPristine,t["\u0275nov"](e,4).ngClassDirty,t["\u0275nov"](e,4).ngClassValid,t["\u0275nov"](e,4).ngClassInvalid,t["\u0275nov"](e,4).ngClassPending),l(e,5,0,t["\u0275nov"](e,6).baseClass),l(e,7,0,t["\u0275nov"](e,8).baseClass),l(e,9,0,t["\u0275nov"](e,10).columnClasses),l(e,15,0,t["\u0275nov"](e,16).baseClass),l(e,18,0,n.selectedKpi.goalTag),l(e,25,0,t["\u0275nov"](e,26).columnClasses),l(e,34,0,t["\u0275nov"](e,35).itemClass,t["\u0275nov"](e,35).expanded,t["\u0275nov"](e,35).itemType,t["\u0275nov"](e,35).role,t["\u0275nov"](e,35).ariaLevel),l(e,36,0,t["\u0275nov"](e,37).baseClass),l(e,38,0,t["\u0275nov"](e,39).baseClass),l(e,40,0,t["\u0275nov"](e,41).columnClasses),l(e,43,0,t["\u0275nov"](e,44).baseClass),l(e,45,0,t["\u0275nov"](e,46).columnClasses),l(e,52,0,t["\u0275nov"](e,53).hostClass,t["\u0275nov"](e,58).ngClassUntouched,t["\u0275nov"](e,58).ngClassTouched,t["\u0275nov"](e,58).ngClassPristine,t["\u0275nov"](e,58).ngClassDirty,t["\u0275nov"](e,58).ngClassValid,t["\u0275nov"](e,58).ngClassInvalid,t["\u0275nov"](e,58).ngClassPending),l(e,62,0,t["\u0275nov"](e,63).baseClass),l(e,64,0,t["\u0275nov"](e,65).columnClasses),l(e,68,0,t["\u0275nov"](e,70).checkboxWrapperClass,t["\u0275nov"](e,70).formItemClass),l(e,73,0,t["\u0275nov"](e,74).checkboxWrapperClass,t["\u0275nov"](e,74).formItemClass,t["\u0275nov"](e,78).ngClassUntouched,t["\u0275nov"](e,78).ngClassTouched,t["\u0275nov"](e,78).ngClassPristine,t["\u0275nov"](e,78).ngClassDirty,t["\u0275nov"](e,78).ngClassValid,t["\u0275nov"](e,78).ngClassInvalid,t["\u0275nov"](e,78).ngClassPending),l(e,80,0,t["\u0275nov"](e,81).baseClass),l(e,82,0,t["\u0275nov"](e,83).columnClasses),l(e,85,0,t["\u0275nov"](e,86).baseClass),l(e,87,0,t["\u0275nov"](e,88).columnClasses),l(e,94,0,t["\u0275nov"](e,95).columnClasses),l(e,97,0,t["\u0275nov"](e,98).labelClass),l(e,102,1,[t["\u0275nov"](e,103).inputClass,t["\u0275nov"](e,103).invalid,t["\u0275nov"](e,103).skeleton,t["\u0275nov"](e,103).isLightTheme,t["\u0275nov"](e,108).ngClassUntouched,t["\u0275nov"](e,108).ngClassTouched,t["\u0275nov"](e,108).ngClassPristine,t["\u0275nov"](e,108).ngClassDirty,t["\u0275nov"](e,108).ngClassValid,t["\u0275nov"](e,108).ngClassInvalid,t["\u0275nov"](e,108).ngClassPending]),l(e,111,0,t["\u0275nov"](e,112).columnClasses),l(e,114,0,t["\u0275nov"](e,115).labelClass),l(e,121,0,n.kpiForm.value.kpiDescription.length),l(e,122,1,[t["\u0275nov"](e,123).baseClass,t["\u0275nov"](e,123).invalid,t["\u0275nov"](e,123).skeleton,t["\u0275nov"](e,123).isLightTheme,t["\u0275nov"](e,125).maxlength?t["\u0275nov"](e,125).maxlength:null,t["\u0275nov"](e,130).ngClassUntouched,t["\u0275nov"](e,130).ngClassTouched,t["\u0275nov"](e,130).ngClassPristine,t["\u0275nov"](e,130).ngClassDirty,t["\u0275nov"](e,130).ngClassValid,t["\u0275nov"](e,130).ngClassInvalid,t["\u0275nov"](e,130).ngClassPending]),l(e,133,0,t["\u0275nov"](e,134).columnClasses),l(e,136,0,t["\u0275nov"](e,137).baseClass),l(e,138,0,t["\u0275nov"](e,139).columnClasses),l(e,145,0,t["\u0275nov"](e,146).hostClass,t["\u0275nov"](e,151).ngClassUntouched,t["\u0275nov"](e,151).ngClassTouched,t["\u0275nov"](e,151).ngClassPristine,t["\u0275nov"](e,151).ngClassDirty,t["\u0275nov"](e,151).ngClassValid,t["\u0275nov"](e,151).ngClassInvalid,t["\u0275nov"](e,151).ngClassPending),l(e,157,0,t["\u0275nov"](e,158).columnClasses),l(e,164,0,t["\u0275nov"](e,165).hostClass,t["\u0275nov"](e,170).ngClassUntouched,t["\u0275nov"](e,170).ngClassTouched,t["\u0275nov"](e,170).ngClassPristine,t["\u0275nov"](e,170).ngClassDirty,t["\u0275nov"](e,170).ngClassValid,t["\u0275nov"](e,170).ngClassInvalid,t["\u0275nov"](e,170).ngClassPending),l(e,176,0,t["\u0275nov"](e,177).baseClass),l(e,178,0,t["\u0275nov"](e,179).columnClasses),l(e,185,0,t["\u0275nov"](e,186).hostClass,t["\u0275nov"](e,191).ngClassUntouched,t["\u0275nov"](e,191).ngClassTouched,t["\u0275nov"](e,191).ngClassPristine,t["\u0275nov"](e,191).ngClassDirty,t["\u0275nov"](e,191).ngClassValid,t["\u0275nov"](e,191).ngClassInvalid,t["\u0275nov"](e,191).ngClassPending),l(e,197,0,t["\u0275nov"](e,198).columnClasses),l(e,204,0,t["\u0275nov"](e,205).hostClass,t["\u0275nov"](e,210).ngClassUntouched,t["\u0275nov"](e,210).ngClassTouched,t["\u0275nov"](e,210).ngClassPristine,t["\u0275nov"](e,210).ngClassDirty,t["\u0275nov"](e,210).ngClassValid,t["\u0275nov"](e,210).ngClassInvalid,t["\u0275nov"](e,210).ngClassPending),l(e,216,0,t["\u0275nov"](e,217).columnClasses),l(e,223,0,t["\u0275nov"](e,224).hostClass,t["\u0275nov"](e,229).ngClassUntouched,t["\u0275nov"](e,229).ngClassTouched,t["\u0275nov"](e,229).ngClassPristine,t["\u0275nov"](e,229).ngClassDirty,t["\u0275nov"](e,229).ngClassValid,t["\u0275nov"](e,229).ngClassInvalid,t["\u0275nov"](e,229).ngClassPending),l(e,235,0,t["\u0275nov"](e,236).baseClass),l(e,237,0,t["\u0275nov"](e,238).columnClasses),l(e,240,0,t["\u0275nov"](e,241).baseClass),l(e,242,0,t["\u0275nov"](e,243).columnClasses,t["\u0275nov"](e,245).labelClass),l(e,249,0,n.kpiForm.value.remark.length),l(e,250,1,[t["\u0275nov"](e,251).baseClass,t["\u0275nov"](e,251).invalid,t["\u0275nov"](e,251).skeleton,t["\u0275nov"](e,251).isLightTheme,t["\u0275nov"](e,253).maxlength?t["\u0275nov"](e,253).maxlength:null,t["\u0275nov"](e,258).ngClassUntouched,t["\u0275nov"](e,258).ngClassTouched,t["\u0275nov"](e,258).ngClassPristine,t["\u0275nov"](e,258).ngClassDirty,t["\u0275nov"](e,258).ngClassValid,t["\u0275nov"](e,258).ngClassInvalid,t["\u0275nov"](e,258).ngClassPending]),l(e,259,0,t["\u0275nov"](e,260).baseClass),l(e,261,0,t["\u0275nov"](e,262).columnClasses),l(e,267,0,null!=n.attachmentFile&&n.attachmentFile.name?null==n.attachmentFile?null:n.attachmentFile.name:"Select file"),l(e,268,0,t["\u0275inlineInterpolate"](1,"",n.supportedAttachmentFormats,"")),l(e,271,0,t["\u0275nov"](e,272).itemClass,t["\u0275nov"](e,272).expanded,t["\u0275nov"](e,272).itemType,t["\u0275nov"](e,272).role,t["\u0275nov"](e,272).ariaLevel),l(e,273,0,t["\u0275nov"](e,274).baseClass),l(e,275,0,t["\u0275nov"](e,276).baseClass),l(e,277,0,t["\u0275nov"](e,278).columnClasses),l(e,282,0,t["\u0275nov"](e,283).columnClasses),l(e,285,0,t["\u0275nov"](e,286).itemClass,t["\u0275nov"](e,286).expanded,t["\u0275nov"](e,286).itemType,t["\u0275nov"](e,286).role,t["\u0275nov"](e,286).ariaLevel),l(e,287,0,t["\u0275nov"](e,288).baseClass),l(e,289,0,t["\u0275nov"](e,290).baseClass),l(e,291,0,t["\u0275nov"](e,292).columnClasses),l(e,294,0,t["\u0275nov"](e,295).baseClass),l(e,296,0,t["\u0275nov"](e,297).columnClasses),l(e,303,0,t["\u0275nov"](e,304).hostClass,t["\u0275nov"](e,309).ngClassUntouched,t["\u0275nov"](e,309).ngClassTouched,t["\u0275nov"](e,309).ngClassPristine,t["\u0275nov"](e,309).ngClassDirty,t["\u0275nov"](e,309).ngClassValid,t["\u0275nov"](e,309).ngClassInvalid,t["\u0275nov"](e,309).ngClassPending),l(e,315,0,t["\u0275nov"](e,316).columnClasses),l(e,318,0,t["\u0275nov"](e,319).labelClass),l(e,321,1,[t["\u0275nov"](e,322).inputClass,t["\u0275nov"](e,322).invalid,t["\u0275nov"](e,322).skeleton,t["\u0275nov"](e,322).isLightTheme,t["\u0275nov"](e,327).ngClassUntouched,t["\u0275nov"](e,327).ngClassTouched,t["\u0275nov"](e,327).ngClassPristine,t["\u0275nov"](e,327).ngClassDirty,t["\u0275nov"](e,327).ngClassValid,t["\u0275nov"](e,327).ngClassInvalid,t["\u0275nov"](e,327).ngClassPending]),l(e,328,0,t["\u0275nov"](e,329).columnClasses),l(e,335,0,t["\u0275nov"](e,336).hostClass,t["\u0275nov"](e,341).ngClassUntouched,t["\u0275nov"](e,341).ngClassTouched,t["\u0275nov"](e,341).ngClassPristine,t["\u0275nov"](e,341).ngClassDirty,t["\u0275nov"](e,341).ngClassValid,t["\u0275nov"](e,341).ngClassInvalid,t["\u0275nov"](e,341).ngClassPending),l(e,347,0,t["\u0275nov"](e,348).columnClasses),l(e,350,0,t["\u0275nov"](e,351).baseClass),l(e,352,0,t["\u0275nov"](e,353).columnClasses),l(e,359,0,t["\u0275nov"](e,360).hostClass,t["\u0275nov"](e,365).ngClassUntouched,t["\u0275nov"](e,365).ngClassTouched,t["\u0275nov"](e,365).ngClassPristine,t["\u0275nov"](e,365).ngClassDirty,t["\u0275nov"](e,365).ngClassValid,t["\u0275nov"](e,365).ngClassInvalid,t["\u0275nov"](e,365).ngClassPending),l(e,391,0,t["\u0275nov"](e,392).baseClass)})}function nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"ibm-radio-group",[["style","margin-bottom: -12px;"]],[[2,"bx--form-item",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.changeExtensionType(n)&&t),t},o.b,o.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[s.a]),t["\u0275did"](2,5292032,null,1,s.a,[],null,{change:"change"}),t["\u0275qud"](603979776,21,{radios:1}),(l()(),t["\u0275eld"](4,0,null,0,3,"ibm-radio",[],[[1,"role",0],[2,"bx--radio-button-wrapper",null],[2,"bx--radio-button-wrapper--label-left",null]],null,null,d.b,d.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[c.a]),t["\u0275did"](6,49152,[[21,4]],0,c.a,[],{checked:[0,"checked"]},null),(l()(),t["\u0275ted"](7,0,[" "," "])),(l()(),t["\u0275eld"](8,0,null,0,3,"ibm-radio",[],[[1,"role",0],[2,"bx--radio-button-wrapper",null],[2,"bx--radio-button-wrapper--label-left",null]],null,null,d.b,d.a)),t["\u0275prd"](5120,null,r.p,function(l){return[l]},[c.a]),t["\u0275did"](10,49152,[[21,4]],0,c.a,[],{checked:[0,"checked"]},null),(l()(),t["\u0275ted"](11,0,[" "," "]))],function(l,e){var n=e.component;l(e,6,0,!n.extendStructure),l(e,10,0,n.extendStructure)},function(l,e){l(e,0,0,t["\u0275nov"](e,2).radioButtonGroupClass),l(e,4,0,t["\u0275nov"](e,6).role,t["\u0275nov"](e,6).hostClass,t["\u0275nov"](e,6).labelLeft),l(e,7,0,"Extend Current"),l(e,8,0,t["\u0275nov"](e,10).role,t["\u0275nov"](e,10).hostClass,t["\u0275nov"](e,10).labelLeft),l(e,11,0,"Extend KPI Structure")})}function tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,m.b,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["style","min-height: 16px; margin-top: 8px; margin-bottom: 16px;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,nn)),t["\u0275did"](4,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](5,0,null,null,1,"app-extend-kpi-structure",[],null,null,null,Xl,_l)),t["\u0275did"](6,114688,null,0,El,[Fl.a,Al.e,el.j,J.a,Rl.a,vl.a,Nl.a,el.j,Yl.l,ml.a],{currentKpiId:[0,"currentKpiId"],selectedKpi:[1,"selectedKpi"]},null)],function(l,e){var n=e.component;l(e,4,0,n.extend&&n.selectedKpi),l(e,6,0,n.currentid,n.selectedKpi)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass)})}function an(l){return t["\u0275vid"](2,[t["\u0275pid"](0,v.DatePipe,[t.LOCALE_ID]),t["\u0275qud"](671088640,1,{inputRemarkAttachment:0}),(l()(),t["\u0275eld"](2,0,null,null,6,"div",[["class","kpi-add-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,3,"div",[["ibmGrid",""]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](4,16384,null,0,m.b,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ee)),t["\u0275did"](6,16384,null,0,v.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ne)),t["\u0275did"](8,540672,null,0,v.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275and"](0,[["extendCurrentKpi",2]],null,0,null,en)),(l()(),t["\u0275and"](0,[["extendKpiStructure",2]],null,0,null,tn))],function(l,e){var n=e.component;l(e,6,0,!n.selectedKpi),l(e,8,0,t["\u0275nov"](e,n.extendStructure?10:9))},function(l,e){l(e,3,0,t["\u0275nov"](e,4).baseClass)})}function un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-kpi-extend",[],null,null,null,an,le)),t["\u0275did"](1,376832,null,0,Jl.a,[J.a,Rl.a,Nl.a,r.f,el.j,Yl.l,vl.a,ml.a,Yl.a,Fl.a,nl.a,t.ChangeDetectorRef],null,null)],function(l,e){l(e,1,0)},null)}var on=t["\u0275ccf"]("app-kpi-extend",Jl.a,un,{},{},[])},dov7:function(l,e,n){"use strict";n.d(e,"a",function(){return u});var t=n("8Y7J"),i=n("fQX0"),a=n.n(i);class u{constructor(){this.panZoomController=null,this.fullScreen=!1,this.onLoadParent=new t.EventEmitter,this.onClickNode=new t.EventEmitter,this.onToggleFullScreen=new t.EventEmitter}loadParent(){this.onLoadParent.emit()}getRandomId(){return Math.floor(9999999999*Math.random()+1)+""}ngOnInit(){this.zoomLevels=[.1,.25,.5,.75,1,1.25,1.5,1.75,2,2.5,3],this.currentZoomLevel=this.zoomLevels[4]}ngAfterViewInit(){this.graphConfig&&(this.renderChart(),this.selectedNodeId&&this.selectedNodeId&&$(".node-id"+`:contains(${this.selectedNodeId})`).parent().addClass("selected-node"))}renderChart(){$(this.chartConfig.chart.container).length&&(new Treant(this.chartConfig,null,$),this.zoomable.nativeElement.firstElementChild.style="overflow:visible",this.panZoomController||(this.panZoomController=a()(this.zoomable.nativeElement.firstElementChild,{maxZoom:3,minZoom:.1,beforeWheel:function(l){return!l.ctrlKey}})))}zoom(){if(this.graphConfig){const l=!0,e=this.currentZoomLevel;if(e){const n=this.panZoomController.getTransform(),t=e+n.x,i=e+n.y;l?this.panZoomController.zoomAbs(0,0,e):this.panZoomController.zoomTo(t,i,e)}}}zoomToggle(l){if(this.graphConfig){const e=this.zoomLevels.indexOf(this.currentZoomLevel);l?void 0!==this.zoomLevels[e+1]&&(this.currentZoomLevel=this.zoomLevels[e+1]):void 0!==this.zoomLevels[e-1]&&(this.currentZoomLevel=this.zoomLevels[e-1]),1===this.currentZoomLevel?(this.panZoomController.moveTo(0,0),this.panZoomController.zoomAbs(0,0,1)):this.zoom()}}ngOnChanges(l){if(l.graphConfig&&l.graphConfig.currentValue){const l=this.getRandomId(),e=this;this.deploymentTreeContainer.nativeElement.setAttribute("id",l),this.chartConfig={chart:{container:"#"+l,callback:{onTreeLoaded:function(){const n=$("#"+l+".Treant .node");e.$nodes=n,n.unbind("click"),n.on("click",function(l){const n=$(this);e.onClickNode.emit(n.data("treenode"))})}},rootOrientation:this.graphConfig.orientation||"WEST",siblingSeparation:20,subTeeSeparation:60,scrollbar:"none",connectors:{type:this.graphConfig.connectorType||"step",style:{stroke:"#979797"}},node:{HTMLclass:"emp-node"}},nodeStructure:this.graphConfig.nodes},this.renderChart()}l.selectedNodeId&&l.selectedNodeId.currentValue&&$(".node-id"+`:contains(${l.selectedNodeId.currentValue})`).parent().addClass("selected-node")}ngOnDestroy(){this.$nodes&&this.$nodes.unbind("click")}toggleFullScreen(){this.fullScreen=!this.fullScreen,this.onToggleFullScreen.emit(this.fullScreen)}}},fUnB:function(l,e,n){"use strict";n.d(e,"a",function(){return t});class t{}},hmap:function(l,e,n){"use strict";n.d(e,"a",function(){return t}),n("+91U"),n("ExNA"),n("GDFe");class t{}},j3Wn:function(l,e,n){"use strict";n.d(e,"a",function(){return i});var t=n("ciZX");n("PsxR");class i extends t.a{constructor(l,e,n,t){super(),this.modalService=l,this.injector=e,this.goalService=n,this.toasterService=t,this.searchedUsers=[],this.username="",this.dropdownClosed=!0,this.data=this.injector.get("data"),this.id=this.injector.get("id"),this.parentOwnerId=this.injector.get("parentOwnerId")}ngOnInit(){}closeModal(){this.modalService.destroy()}createCPNode(){null==this.kpiTitle||""===this.kpiTitle?this.toasterService.error("Please add a KPI title."):this.selectedUser?(this.data.next({vcs:this.selectedUser.firstname+" "+this.selectedUser.lastname,title:this.kpiTitle,primaryOwnerEmployeeId:this.selectedUser.employeeId,id:this.id,_id:this.id,departmentId:this.selectedUser.departmentId,departmentName:this.selectedUser.departmentName,empDBId:this.selectedUser._id,firstname:this.selectedUser.firstname,isPrimary:!0,lastname:this.selectedUser.lastname}),this.closeModal()):this.toasterService.error("Please select a KPI owner.")}onSearchUser(l,e){this.searchedUsers=[],l&&l.trim()&&l.trim().length&&this.goalService.getUsers(l,!1,e,void 0,this.parentOwnerId).subscribe(l=>{this.searchedUsers=l.response.map((l,e)=>(l.content=l.firstname+" "+l.lastname,l.id=l.employeeId,l))},l=>{console.log(l)})}onOpenOwner(l){this.dropdownClosed=!1,this.searchedUsers=[{ignore:!0,content:"Search user to select."}]}onSelectedUser(l){this.dropdownClosed=!0,this.username=l.content,this.selectedUser=l}}},jMuS:function(l,e,n){"use strict";n.d(e,"a",function(){return o});var t=n("8Y7J"),i=n("O9pe"),a=function(){function l(){this.focusable=!1}return l.decorators=[{type:t.Component,args:[{selector:"ibm-icon-add-filled16",template:'\n    <svg\n      ibmIconAddFilled16\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],l.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],focusable:[{type:t.Input}],innerClass:[{type:t.Input}]},l}(),u=function(){function l(l){this.elementRef=l,this.isFocusable=!1}return l.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement;e.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var n=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><path d="M8 1C4.2 1 1 4.2 1 8s3.2 7 7 7 7-3.2 7-7-3.2-7-7-7zm3 7.5H8.5V11h-1V8.5H5v-1h2.5V5h1v2.5H11v1z"></path></svg>',"image/svg+xml").documentElement.firstChild;n;)e.appendChild(e.ownerDocument.importNode(n,!0)),n=n.nextSibling;for(var t=Object(i.a)({width:16,height:16,viewBox:"0 0 16 16",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),a=Object.keys(t),u=0;u<a.length;u++){var o=a[u],r=t[o];"title"!==o&&r&&e.setAttribute(o,r)}if(t.title){var s=document.createElement("title");s.textContent=t.title,s.setAttribute("id","add-filled16-"+ ++l.titleIdCounter),e.appendChild(s),e.setAttribute("aria-labelledby","add-filled16-"+l.titleIdCounter)}},l.titleIdCounter=0,l.decorators=[{type:t.Directive,args:[{selector:"[ibmIconAddFilled16]"}]}],l.ctorParameters=function(){return[{type:t.ElementRef}]},l.propDecorators={ariaLabel:[{type:t.Input}],ariaLabelledby:[{type:t.Input}],ariaHidden:[{type:t.Input}],title:[{type:t.Input}],isFocusable:[{type:t.Input}]},l}(),o=function(){function l(){}return l.decorators=[{type:t.NgModule,args:[{declarations:[a,u],exports:[a,u]}]}],l}()},"nS/7":function(l,e,n){"use strict";n.d(e,"a",function(){return t});class t{}},pMyo:function(l,e,n){"use strict";var t=n("8Y7J"),i=n("s7LF"),a=n("jGGp"),u=n("TXHj"),o=n("mEpm"),r=n("noyz"),s=n("SVse"),d=n("wE4S"),c=n("H6Gp"),p=n("R3lN"),m=n("qHnB"),g=n("PsxR"),h=n("cbbC"),f=n("rP3o"),v=n("PJ54"),b=n("cN2v"),C=n("tU3X"),y=n("uvqg"),x=n("1V2r"),w=n("gLoP"),I=n("i3NF"),D=n("FNXg"),T=n("1ZgJ"),M=n("baZm"),P=n("Gv0t"),S=n("J83G"),k=n("H5zC"),F=n("XX5M"),R=n("+Kk7"),L=n("iInd");n.d(e,"a",function(){return ul});var O=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .extend-kpi-modal .bx--modal.is-visible .bx--modal-container{width:55%;font-size:13px}[_nghost-%COMP%]     .bx--modal-content{overflow-y:visible}.bx--modal-content[_ngcontent-%COMP%]{padding:0}strong[_ngcontent-%COMP%]{font-weight:600!important}.bx--list-box__menu[_ngcontent-%COMP%]{overflow-y:visible}.search-text-input[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px}.search-text-input.bx--search-input[_ngcontent-%COMP%]{border-bottom:1px solid #8c8c8c}.dialog-btn[_ngcontent-%COMP%]{outline:0;border:none;font-size:20px;justify-content:center;padding:24px 36px!important}.bx--btn[_ngcontent-%COMP%]:disabled{background-color:#3d70b2;color:#fff;outline:0;border:3px solid transparent;font-size:20px;justify-content:center;padding:24px 36px!important}.rTableRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%;background-color:#fff}.tableHeads[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f3f3f3;padding:16px;margin-bottom:4px}.rTableHead[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1;line-height:22px;color:#000;font-weight:600!important;margin-right:5px}.rTableCell[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1;line-height:22px;font-size:14px!important;color:#000!important;align-self:baseline;margin-right:5px}.metadiv[_ngcontent-%COMP%]{padding:16px 50px;color:#bbb9b9;text-align:center}.metadiv[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:900!important}.center-loader-text[_ngcontent-%COMP%]{display:flex;align-items:center}.rTableRowWrapper[_ngcontent-%COMP%]{width:100%;padding:12px;display:flex;align-items:center;border:2px solid #f3f3f3;margin-bottom:4px}.rTableRowWrapper[_ngcontent-%COMP%]   .rTableCell[_ngcontent-%COMP%]{cursor:pointer!important}.kpi-selected[_ngcontent-%COMP%]{background-color:#f3f3f3!important;border:3px solid #3d70b2!important}.assinged-to-text[_ngcontent-%COMP%]{color:#525252;font-family:'IBM Plex Sans';font-size:14px;line-height:22px}.tableheadtitle[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important}.arrows[_ngcontent-%COMP%]{display:flex}.arrows[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{float:right;margin:auto}.tableheadtitle[_ngcontent-%COMP%]   .double-arrow[_ngcontent-%COMP%]{fill:#f3f3f3!important}.tableheadtitle[_ngcontent-%COMP%]:hover   .double-arrow[_ngcontent-%COMP%]{fill:#152935!important}.elipsis[_ngcontent-%COMP%]{font-size:14px;max-width:99%;text-overflow:ellipsis}.text-two-line[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.rTableCell[_ngcontent-%COMP%]:nth-of-type(1), .rTableHead[_ngcontent-%COMP%]:nth-of-type(1){max-width:none!important}"]],data:{}});function N(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function E(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function A(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","bx--search"],["data-search",""],["role","search"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"input",[["class","bx--search-input search-text-input"],["id","search__input-kpi"],["placeholder","Search by KPI Name,  MP/CP Reference number, Assigned to"],["style","border-bottom: none;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,2)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(a.searchQueryText=n)&&i),"ngModelChange"===e&&(i=!1!==a.searchModelChanged.next(n)&&i),i},null,null)),t["\u0275did"](2,16384,null,0,i.c,[t.Renderer2,t.ElementRef,[2,i.a]],null,null),t["\u0275prd"](1024,null,i.p,function(l){return[l]},[i.c]),t["\u0275did"](4,671744,null,0,i.u,[[8,null],[8,null],[8,null],[6,i.p]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,i.q,null,[i.u]),t["\u0275did"](6,16384,null,0,i.r,[[4,i.q]],null,null),(l()(),t["\u0275eld"](7,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","bx--search-magnifier"],["focusable","false"],["height","20"],["preserveAspectRatio","xMidYMid meet"],["style","will-change: transform;"],["viewBox","0 0 16 16"],["width","20"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,0,":svg:path",[["d","M15 14.3L10.7 10c1.9-2.3 1.6-5.8-.7-7.7S4.2.7 2.3 3 .7 8.8 3 10.7c2 1.7 5 1.7 7 0l4.3 4.3.7-.7zM2 6.5C2 4 4 2 6.5 2S11 4 11 6.5 9 11 6.5 11 2 9 2 6.5z"]],null,null,null,null,null))],function(l,e){l(e,4,0,e.component.searchQueryText)},function(l,e){l(e,1,0,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending)})}function Y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text "]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline "],["size","sm"]],[[2,"bx--loading-overlay",null]],null,null,a.b,a.a)),t["\u0275did"](2,49152,null,0,u.a,[o.a],{title:[0,"title"],size:[1,"size"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline "]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."]))],function(l,e){l(e,2,0,e.component.loadingText,"sm")},function(l,e){l(e,1,0,t["\u0275nov"](e,2).overlay)})}function _(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Specify a Financial Year to view relevant KPIs "]))],null,null)}function U(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,27,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,r.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,25,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,r.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,null,23,"div",[["class","rTableRow tableHeads"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","rTableHead"],["style","flex:2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KPI"])),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","rTableHead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["DCF"])),(l()(),t["\u0275eld"](11,0,null,null,2,"div",[["class","rTableHead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Category"])),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","rTableHead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["DG"])),(l()(),t["\u0275eld"](17,0,null,null,2,"div",[["class","rTableHead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Weightage"])),(l()(),t["\u0275eld"](20,0,null,null,2,"div",[["class","rTableHead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["UoM"])),(l()(),t["\u0275eld"](23,0,null,null,4,"div",[["class","rTableHead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,3,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Performance"])),(l()(),t["\u0275eld"](26,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" (Actual/Target) "])),(l()(),t["\u0275eld"](28,0,null,null,4,"div",[["class","metadiv"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No Data Available "])),(l()(),t["\u0275and"](16777216,null,null,1,null,_)),t["\u0275did"](32,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,3,0),l(e,32,0,!n.dateSelected)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses)})}function V(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function q(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function K(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function H(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function z(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function B(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function G(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function W(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,53,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,r.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,51,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,r.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,null,47,"div",[["class","rTableRow tableHeads"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,6,"div",[["class","rTableHead tableheadtitle"],["style","flex:2;"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.setSortOrder("title")&&t),t},null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["style","float: left; "]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KPI"])),(l()(),t["\u0275and"](16777216,null,null,2,null,V)),t["\u0275did"](10,540672,null,0,s.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](11,{colName:0}),(l()(),t["\u0275eld"](12,0,null,null,6,"div",[["class","rTableHead tableheadtitle"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.setSortOrder("dataCaptureFrequency")&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,2,"div",[["style","float: left; "]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["DCF"])),(l()(),t["\u0275and"](16777216,null,null,2,null,q)),t["\u0275did"](17,540672,null,0,s.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](18,{colName:0}),(l()(),t["\u0275eld"](19,0,null,null,6,"div",[["class","rTableHead tableheadtitle"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.setSortOrder("category")&&t),t},null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"div",[["style","float: left; "]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Category"])),(l()(),t["\u0275and"](16777216,null,null,2,null,K)),t["\u0275did"](24,540672,null,0,s.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](25,{colName:0}),(l()(),t["\u0275eld"](26,0,null,null,6,"div",[["class","rTableHead tableheadtitle"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.setSortOrder("directionOfGoodness")&&t),t},null,null)),(l()(),t["\u0275eld"](27,0,null,null,2,"div",[["style","float: left; "]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["DG"])),(l()(),t["\u0275and"](16777216,null,null,2,null,H)),t["\u0275did"](31,540672,null,0,s.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](32,{colName:0}),(l()(),t["\u0275eld"](33,0,null,null,6,"div",[["class","rTableHead tableheadtitle"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.setSortOrder("weightage")&&t),t},null,null)),(l()(),t["\u0275eld"](34,0,null,null,2,"div",[["style","float: left; "]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Weightage"])),(l()(),t["\u0275and"](16777216,null,null,2,null,z)),t["\u0275did"](38,540672,null,0,s.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](39,{colName:0}),(l()(),t["\u0275eld"](40,0,null,null,2,"div",[["class","rTableHead tableheadtitle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](41,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["UoM"])),(l()(),t["\u0275eld"](43,0,null,null,8,"div",[["class","rTableHead tableheadtitle"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.setSortOrder("ytdPerformance")&&t),t},null,null)),(l()(),t["\u0275eld"](44,0,null,null,4,"div",[["style","float: left; "]],null,null,null,null,null)),(l()(),t["\u0275eld"](45,0,null,null,3,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Performance"])),(l()(),t["\u0275eld"](47,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" (Actual/Target) "])),(l()(),t["\u0275and"](16777216,null,null,2,null,B)),t["\u0275did"](50,540672,null,0,s.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](51,{colName:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,G)),t["\u0275did"](53,540672,null,0,s.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(l,e){l(e,3,0);var n=l(e,11,0,"title");l(e,10,0,n,t["\u0275nov"](e.parent,48));var i=l(e,18,0,"dataCaptureFrequency");l(e,17,0,i,t["\u0275nov"](e.parent,48));var a=l(e,25,0,"category");l(e,24,0,a,t["\u0275nov"](e.parent,48));var u=l(e,32,0,"directionOfGoodness");l(e,31,0,u,t["\u0275nov"](e.parent,48));var o=l(e,39,0,"weightage");l(e,38,0,o,t["\u0275nov"](e.parent,48));var r=l(e,51,0,"ytdPerformance");l(e,50,0,r,t["\u0275nov"](e.parent,48)),l(e,53,0,t["\u0275nov"](e.parent,47))},function(l,e){l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses)})}function j(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","rTableCell"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,e){l(e,1,0,e.parent.context.$implicit.isTypeKPI&&e.parent.context.$implicit.category?e.component.categoryMap.get(e.parent.context.$implicit.category):"--")})}function $(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["class","icon-navigation-arrow-up-32"],["ibmIconArrowUp32",""]],null,null,null,null,null)),t["\u0275did"](2,4210688,null,0,d.a,[t.ElementRef],null,null)],null,null)}function Q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,":svg:svg",[["class","icon-navigation-arrow-up-32"],["ibmIconArrowDown32",""]],null,null,null,null,null)),t["\u0275did"](2,4210688,null,0,c.a,[t.ElementRef],null,null)],null,null)}function Z(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,33,"div",[["class","rTableRow"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,32,"div",[["class","rTableRowWrapper"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.selectKpiForEntension(l.context.$implicit,l.context.index)&&t),t},null,null)),t["\u0275prd"](512,null,s["\u0275NgClassImpl"],s["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](3,278528,null,0,s.NgClass,[s["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](4,{"kpi-selected":0}),(l()(),t["\u0275eld"](5,0,null,null,12,"div",[["class","rTableCell name-cell"],["style","flex:2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,7,"span",[["class","assinged-to-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,3,"div",[["class","delivery-schedule-ad"],["style","display: block;margin-bottom: 8px;"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"p",[["class","text-two-line elipsis"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,["",""])),(l()(),t["\u0275eld"](12,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"p",[["class","text-two-line elipsis"]],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,[""," |"])),(l()(),t["\u0275eld"](15,0,null,null,2,"span",[["class","assinged-to-text-normal"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"p",[["class"," text-two-line elipsis"]],null,null,null,null,null)),(l()(),t["\u0275ted"](17,null,["",""])),(l()(),t["\u0275eld"](18,0,null,null,1,"div",[["class","rTableCell"]],null,null,null,null,null)),(l()(),t["\u0275ted"](19,null,[" "," "])),(l()(),t["\u0275and"](16777216,null,null,1,null,j)),t["\u0275did"](21,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](22,0,null,null,4,"div",[["class","rTableCell "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,$)),t["\u0275did"](24,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Q)),t["\u0275did"](26,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](27,0,null,null,1,"div",[["class","rTableCell"]],null,null,null,null,null)),(l()(),t["\u0275ted"](28,null,[" "," "])),(l()(),t["\u0275eld"](29,0,null,null,1,"div",[["class","rTableCell"]],null,null,null,null,null)),(l()(),t["\u0275ted"](30,null,[" "," "])),(l()(),t["\u0275eld"](31,0,null,null,2,"div",[["class","rTableCell"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](33,null,["","/",""]))],function(l,e){var n=l(e,4,0,e.component.selectedIndex===e.context.index);l(e,3,0,"rTableRowWrapper",n),l(e,21,0,e.context.$implicit.isTypeKPI);var t="UP"==e.context.$implicit.directionOfGoodness.toUpperCase();l(e,24,0,t);var i="DOWN"==e.context.$implicit.directionOfGoodness.toUpperCase();l(e,26,0,i)},function(l,e){var n=e.component;l(e,8,0,t["\u0275inlineInterpolate"](1,"",e.context.$implicit.title,"")),l(e,11,0,e.context.$implicit.title),l(e,14,0,e.context.$implicit.goalTag),l(e,17,0,e.context.$implicit.firstname+" "+e.context.$implicit.lastname),l(e,19,0,n.captureFrequencyMap.get(e.context.$implicit.dataCaptureFrequency)),l(e,28,0,e.context.$implicit.weightage),l(e,30,0,n.unitOfMeasurementMap.get(e.context.$implicit.unitOfMeasurement)),l(e,33,0,e.context.$implicit.ytdActual,e.context.$implicit.ytdTarget)})}function X(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,Z)),t["\u0275did"](2,278528,null,0,s.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](0,p.a,[m.a,g.a]),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){var n=e.component;l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform(n.filterData,n.sortOrder,n.sortFilter)))},null)}function J(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,X)),t["\u0275did"](1,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){l(e,1,0,e.component.filterData)},null)}function ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","double-arrow"],["height","14"],["viewBox","0 0 16 16"],["width","14"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,":svg:path",[["d","M12 14.186l2.724-2.477.686.726-3.875 3.524-3.875-3.524.686-.726L11 14.122V0h1v14.186zM5.038 1.805V16h-1V1.805L1.348 4.25l-.685-.727L4.538 0l3.875 3.523-.686.727-2.69-2.445z"]],null,null,null,null,null))],null,null)}function el(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["height","14"],["viewBox","0 0 16 16"],["width","14"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,":svg:path",[["d","M5.993 4.047l-3.905 4.09L.635 6.763 6.992 0l6.366 6.762-1.452 1.376-3.913-4.092V16h-2V4.047z"]],null,null,null,null,null))],null,null)}function nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["height","14"],["viewBox","0 0 16 16"],["width","14"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,":svg:path",[["d","M8 11.953l3.905-4.09 1.453 1.374L7 16 .635 9.238l1.452-1.376L6 11.954V0h2v11.953z"]],null,null,null,null,null))],null,null)}function tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","arrows"],["style","float: right; flex: 1;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ll)),t["\u0275did"](2,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,el)),t["\u0275did"](4,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,nl)),t["\u0275did"](6,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,2,0,n.sortFilter!==e.context.colName||!n.sortFilter),l(e,4,0,n.sortFilter===e.context.colName&&"descending"===n.sortOrder),l(e,6,0,n.sortFilter===e.context.colName&&"ascending"===n.sortOrder)},null)}function il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,42,"ibm-modal",[["class","extend-kpi-modal"],["size","sm"]],null,[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,1).handleKeyboardEvent(n)&&i),i},h.c,h.b)),t["\u0275did"](1,4440064,null,0,f.a,[v.a],{size:[0,"size"]},null),(l()(),t["\u0275eld"](2,0,null,0,3,"ibm-modal-header",[],null,[[null,"closeSelect"]],function(l,e,n){var t=!0;return"closeSelect"===e&&(t=!1!==l.component.closeModal()&&t),t},b.c,b.b)),t["\u0275did"](3,49152,null,0,C.a,[o.a,y.a],null,{closeSelect:"closeSelect"}),(l()(),t["\u0275eld"](4,0,null,0,1,"span",[["style","font-size: 18px;font-weight: 600;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Specify KPI to extend"])),(l()(),t["\u0275eld"](6,0,null,0,30,"section",[["class","bx--modal-content"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,15,"div",[["ibmRow",""],["style","margin: 10px 10px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](8,16384,null,0,r.c,[],null,null),(l()(),t["\u0275eld"](9,0,null,null,13,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](10,81920,null,0,r.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](11,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](12,0,null,null,10,"label",[["class","bx--label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Financial year "])),(l()(),t["\u0275eld"](14,0,null,null,1,"span",[["class","error-color"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](16,0,null,null,6,"ibm-dropdown",[["appendInline","true"],["class","margin-top-dropdown-label"],["id","department"],["placeholder","Choose"],["size","sm"],["type","single"]],[[2,"bx--dropdown__wrapper",null]],[[null,"selected"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,18).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.selectFYDropDown(n)&&i),i},x.b,x.a)),t["\u0275prd"](5120,null,i.p,function(l){return[l]},[w.a]),t["\u0275did"](18,1294336,null,1,w.a,[t.ElementRef,o.a,I.a],{id:[0,"id"],placeholder:[1,"placeholder"],size:[2,"size"],type:[3,"type"],appendInline:[4,"appendInline"]},{selected:"selected"}),t["\u0275qud"](335544320,1,{view:0}),(l()(),t["\u0275eld"](20,0,null,0,2,"ibm-dropdown-list",[],null,null,null,D.b,D.a)),t["\u0275did"](21,4374528,null,0,T.a,[t.ElementRef,o.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[1,4]],M.a,null,[T.a]),(l()(),t["\u0275eld"](23,0,null,null,6,"div",[["ibmRow",""],["style","margin: 10px 10px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](24,16384,null,0,r.c,[],null,null),(l()(),t["\u0275eld"](25,0,null,null,4,"div",[["ibmCol",""],["style","margin-bottom: 10px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](26,81920,null,0,r.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](27,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,N)),t["\u0275did"](29,540672,null,0,s.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275eld"](30,0,null,null,6,"div",[["ibmRow",""],["style","margin: 5px 10px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](31,16384,null,0,r.c,[],null,null),(l()(),t["\u0275eld"](32,0,null,null,4,"div",[["ibmCol",""],["style","margin-bottom: 10px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](33,81920,null,0,r.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](34,{lg:0,md:1,sm:2}),(l()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](36,540672,null,0,s.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275eld"](37,0,null,0,5,"ibm-modal-footer",[],null,null,null,P.c,P.b)),t["\u0275did"](38,49152,null,0,S.a,[],null,null),(l()(),t["\u0275eld"](39,0,null,0,1,"button",[["class","bx--btn bx--btn--primary dialog-btn"]],null,[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==i.extendKpi(i.selectedKpi)&&t),t},null,null)),(l()(),t["\u0275ted"](40,null,[" "," "])),(l()(),t["\u0275eld"](41,0,null,0,1,"button",[["class","bx--btn bx--btn--danger dialog-btn"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.closeModal()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,[" Cancel "])),(l()(),t["\u0275and"](0,[["searchTemplate",2]],null,0,null,A)),(l()(),t["\u0275and"](0,[["loading",2]],null,0,null,Y)),(l()(),t["\u0275and"](0,[["noresults",2]],null,0,null,U)),(l()(),t["\u0275and"](0,[["result",2]],null,0,null,W)),(l()(),t["\u0275and"](0,[["kpiList",2]],null,0,null,J)),(l()(),t["\u0275and"](0,[["sort",2]],null,0,null,tl))],function(l,e){var n=e.component;l(e,1,0,"sm");var i=l(e,11,0,6,6,6);l(e,10,0,i),l(e,18,0,"department","Choose","sm","single","true"),l(e,21,0,n.financialYearList);var a=l(e,27,0,12,12,12);l(e,26,0,a),l(e,29,0,t["\u0275nov"](e,43));var u=l(e,34,0,12,12,12);l(e,33,0,u),l(e,36,0,t["\u0275nov"](e,n.isKPILoading?44:n.filterData.length?46:45))},function(l,e){l(e,7,0,t["\u0275nov"](e,8).baseClass),l(e,9,0,t["\u0275nov"](e,10).columnClasses),l(e,16,0,t["\u0275nov"](e,18).hostClass),l(e,23,0,t["\u0275nov"](e,24).baseClass),l(e,25,0,t["\u0275nov"](e,26).columnClasses),l(e,30,0,t["\u0275nov"](e,31).baseClass),l(e,32,0,t["\u0275nov"](e,33).columnClasses),l(e,40,0,"Extend")})}function al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-kpi-extend-modal",[],null,null,null,il,O)),t["\u0275did"](1,114688,null,0,k.a,[v.a,g.a,m.a,t.Injector,F.a,R.a,L.l],null,null)],function(l,e){l(e,1,0)},null)}var ul=t["\u0275ccf"]("app-kpi-extend-modal",k.a,al,{},{close:"close"},[])},qYds:function(l,e,n){"use strict";n.d(e,"a",function(){return t});class t{}},szKh:function(l,e,n){"use strict";n.d(e,"a",function(){return i});var t=n("cp0P");n("qHnB");class i{constructor(l){this.settingsService=l}resolve(l,e){return Object(t.a)(this.settingsService.getCapturefrequency(),this.settingsService.getunitofMsrmnt(),this.settingsService.getPerspectives(),this.settingsService.getReviewfrequency())}}},yybR:function(l,e,n){"use strict";var t=n("8Y7J"),i=n("noyz"),a=n("IcCv"),u=n("A+V5"),o=n("SVse"),r=n("g7AK"),s=n("jGGp"),d=n("TXHj"),c=n("mEpm"),p=n("Amkq"),m=n("WeWU"),g=n("A46g"),h=n("s7LF"),f=n("XvC9"),v=n("kqF4"),b=n("paOI"),C=n("7yMk"),y=n("1V2r"),x=n("gLoP"),w=n("i3NF"),I=n("FNXg"),D=n("1ZgJ"),T=n("baZm"),M=n("tKJU"),P=n("uUZD"),S=n("fMlX"),k=n("Myuu"),F=n("5SKc"),R=n("niTG"),L=n("VBvp"),O=n("ShXb"),N=n("cbbC"),E=n("rP3o"),A=n("PJ54"),Y=n("FS8H"),_=n("oljc"),U=n("M+tS"),V=n("3yNS"),q=n("1bih"),K=n("qDrF"),H=n("PsxR"),z=n("Z725"),B=n("EApP"),G=n("qHnB"),W=n("s6ns");n.d(e,"a",function(){return Ul});var j=t["\u0275crt"]({encapsulation:0,styles:[['.margin-top-16[_ngcontent-%COMP%]{margin-top:16px}.margin-left-16[_ngcontent-%COMP%]{margin-left:16px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}th[_ngcontent-%COMP%]{height:24px;width:148.5px;background-color:#dcdcdc;text-align:left;padding:8px;font-size:14px;font-weight:600;letter-spacing:.16px}td[_ngcontent-%COMP%]{text-align:left;height:24px;padding:8px;background-color:#f4f4f4;font-size:14px;letter-spacing:.16px;color:#393939}.f-item[_ngcontent-%COMP%]   .bx--date-picker.bx--date-picker--single[_ngcontent-%COMP%]   .bx--date-picker__input[_ngcontent-%COMP%]{background-color:#f3f3f3;width:13.5rem}.submit-button[_ngcontent-%COMP%]{height:48px;width:178px;background-color:#da1e28}.add-dropdown-field[_ngcontent-%COMP%]{height:40px;width:282px;margin-bottom:18px}.add-input-field[_ngcontent-%COMP%]{height:40px;width:594px;margin-bottom:18px}.file-uploader-group[_ngcontent-%COMP%]{margin-top:32px}.tabs-item-selected[_ngcontent-%COMP%]{height:40px;width:188px}.remark-n-analysis-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:16px;display:block}.alight-icon-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.action-planned-header[_ngcontent-%COMP%]{border-bottom:1px solid #979797;margin:0;padding-top:16px;padding-bottom:16px;align-items:center}.action-planned-header[_ngcontent-%COMP%]   .bx--col-lg-10[_ngcontent-%COMP%]{margin:0;padding:0}.email-sms-toggle[_ngcontent-%COMP%]{display:inline-flex;align-items:center;color:#9f9f9f;font-size:12px;line-height:15px}.padding-left-16[_ngcontent-%COMP%]{padding-left:16px}.reset-padding-margin[_ngcontent-%COMP%]{padding:0;margin:0}.icon-24[_ngcontent-%COMP%]{width:24px;height:24px}.cancel-btn[_ngcontent-%COMP%]{color:#da1e28;font-size:14px;font-weight:500;letter-spacing:.16px;line-height:20px;cursor:pointer}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.position-relative[_ngcontent-%COMP%]{position:relative}.character-count[_ngcontent-%COMP%]{position:absolute;right:0}.width-date-class[_ngcontent-%COMP%]{background-color:#f4f7fb!important}.font-size-12[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.float-right[_ngcontent-%COMP%]{float:right}.float-right[_ngcontent-%COMP%]   .header-attachment-label[_ngcontent-%COMP%]{color:#171717;font-family:"IBM Plex Sans";font-size:15px!important;font-weight:600;letter-spacing:.16px;line-height:18px}.header-attachment-label[_ngcontent-%COMP%]{width:100%!important;height:16px;color:#565656;font-family:"IBM Plex Sans";font-size:12px;letter-spacing:.32px;line-height:16px;font-weight:400;display:inline-block;vertical-align:baseline;margin-bottom:.5rem}.grayButton[_ngcontent-%COMP%]{background-color:#999898!important;color:#fff!important}.pointe-event-none[_ngcontent-%COMP%]{pointer-events:none}.reason-box[_ngcontent-%COMP%]{background-color:#fff!important;border:1px solid #565656!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#9f9f9f!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::-moz-placeholder{color:#9f9f9f!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::-ms-input-placeholder{color:#9f9f9f!important}.reason-box.bx--text-area[_ngcontent-%COMP%]::placeholder{color:#9f9f9f!important}.tableHeads[_ngcontent-%COMP%]{height:48px;display:flex;align-items:center;background-color:#dcdcdc;padding:12px 16px 16px}.rTableHead[_ngcontent-%COMP%]{display:flex;font-size:14px;font-weight:600;flex-direction:column;flex-basis:100%;flex:1;padding:5px}.rTableCell[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:14px;flex-basis:100%;flex:1;padding:5px}.rTableRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.rTableRowWrapper[_ngcontent-%COMP%]{width:100%;padding:16px;display:flex;align-items:center;border-left:1px solid #f2f3f9;border-bottom:1px solid #cac8c8;border-top:1px solid #f2f3f9;border-right:1px solid #f2f3f9}.align-items-flex-center[_ngcontent-%COMP%]{align-items:center}.flex-2[_ngcontent-%COMP%]{flex:2}.text-two-line[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.flex-4[_ngcontent-%COMP%]{flex:4}.top-right-text[_ngcontent-%COMP%]{display:flex!important;float:right!important;font-size:10px!important}']],data:{}});function $(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,27,"div",[["ibmRow",""],["style","margin-bottom: 20px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](2,0,null,null,25,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](3,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](4,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Sample "])),(l()(),t["\u0275eld"](7,0,null,null,1,"label",[["label",""],["style","margin-left: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["UOM: "," | Sample Date Range:"," - ",""])),(l()(),t["\u0275eld"](9,0,null,null,18,"table",[["style","margin-top: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Actual"])),(l()(),t["\u0275eld"](13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Target"])),(l()(),t["\u0275eld"](15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Upper Limit"])),(l()(),t["\u0275eld"](17,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Lower Limit"])),(l()(),t["\u0275eld"](19,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](21,null,[" "," "])),(l()(),t["\u0275eld"](22,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](23,null,[" "," "])),(l()(),t["\u0275eld"](24,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](25,null,[" "," "])),(l()(),t["\u0275eld"](26,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](27,null,[" "," "]))],function(l,e){var n=l(e,4,0,12,12,12);l(e,3,0,n)},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).baseClass),l(e,2,0,t["\u0275nov"](e,3).columnClasses),l(e,8,0,n.UoM,n.startTime,n.endTime),l(e,21,0,n.actual),l(e,23,0,n.target),l(e,25,0,n.upperLimit),l(e,27,0,n.lowerLimit)})}function Q(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function Z(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"ibm-tab",[["heading","Containment Action"]],[[1,"id",0]],[[null,"selected"]],function(l,e,n){var t=!0;return"selected"===e&&(t=!1!==l.component.selectTab(0)&&t),t},a.b,a.a)),t["\u0275did"](1,114688,[[2,4]],0,u.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(l()(),t["\u0275and"](16777216,null,0,2,null,Q)),t["\u0275did"](3,540672,null,0,o.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](4,{form:0,name:1})],function(l,e){var n=e.component;l(e,1,0,"Containment Action",0==n.tabIndex);var i=l(e,4,0,n.containmentForm,"containmentForm");l(e,3,0,i,t["\u0275nov"](e.parent,52))},function(l,e){l(e,0,0,t["\u0275nov"](e,1).attrClass)})}function X(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function J(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"ibm-tab",[["heading","Corrective Action"]],[[1,"id",0]],[[null,"selected"]],function(l,e,n){var t=!0;return"selected"===e&&(t=!1!==l.component.selectTab(1)&&t),t},a.b,a.a)),t["\u0275did"](1,114688,[[2,4]],0,u.a,[],{heading:[0,"heading"],active:[1,"active"]},{selected:"selected"}),(l()(),t["\u0275and"](16777216,null,0,2,null,X)),t["\u0275did"](3,540672,null,0,o.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](4,{form:0,name:1})],function(l,e){var n=e.component;l(e,1,0,"Corrective Action",1==n.tabIndex);var i=l(e,4,0,n.correctiveForm,"correctiveForm");l(e,3,0,i,t["\u0275nov"](e.parent,52))},function(l,e){l(e,0,0,t["\u0275nov"](e,1).attrClass)})}function ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","submit-button"],["ibmButton","danger"],["style","margin-top: 20px;"],["type","submit"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onSubmit()&&t),t},null,null)),t["\u0275did"](1,16384,null,0,r.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,[" Submit "]))],function(l,e){l(e,1,0,"danger")},function(l,e){l(e,0,1,[t["\u0275nov"](e,1).baseClass,t["\u0275nov"](e,1).primaryButton,t["\u0275nov"](e,1).secondaryButton,t["\u0275nov"](e,1).tertiaryButton,t["\u0275nov"](e,1).ghostButton,t["\u0275nov"](e,1).dangerButton,t["\u0275nov"](e,1).dangerPrimaryButton,t["\u0275nov"](e,1).skeleton,t["\u0275nov"](e,1).smallSize,t["\u0275nov"](e,1).toolbarAction,t["\u0275nov"](e,1).overflowMenu])})}function el(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"button",[["class","submit-button"],["ibmButton","danger"],["style","margin-top: 20px;"],["type","button"]],[[8,"disabled",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==i.onReset(i.tabIndex)&&t),t},null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{grayButton:0}),t["\u0275did"](4,16384,null,0,r.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,[" Reset "]))],function(l,e){var n=e.component,t=l(e,3,0,n.isSubmitButtonLoading||n.containmentDisable);l(e,2,0,"submit-button",t),l(e,4,0,"danger")},function(l,e){var n=e.component;l(e,0,1,[n.isSubmitButtonLoading||n.containmentDisable,t["\u0275nov"](e,4).baseClass,t["\u0275nov"](e,4).primaryButton,t["\u0275nov"](e,4).secondaryButton,t["\u0275nov"](e,4).tertiaryButton,t["\u0275nov"](e,4).ghostButton,t["\u0275nov"](e,4).dangerButton,t["\u0275nov"](e,4).dangerPrimaryButton,t["\u0275nov"](e,4).skeleton,t["\u0275nov"](e,4).smallSize,t["\u0275nov"](e,4).toolbarAction,t["\u0275nov"](e,4).overflowMenu])})}function nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"button",[["class","submit-button"],["ibmButton","danger"],["style","margin-top: 20px;"],["type","button"]],[[8,"disabled",0],[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==i.onReset(i.tabIndex)&&t),t},null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{grayButton:0}),t["\u0275did"](4,16384,null,0,r.a,[],{ibmButton:[0,"ibmButton"]},null),(l()(),t["\u0275ted"](-1,null,[" Reset "]))],function(l,e){var n=e.component,t=l(e,3,0,n.isSubmitButtonLoading||n.correctiveDisable);l(e,2,0,"submit-button",t),l(e,4,0,"danger")},function(l,e){var n=e.component;l(e,0,1,[n.isSubmitButtonLoading||n.correctiveDisable,t["\u0275nov"](e,4).baseClass,t["\u0275nov"](e,4).primaryButton,t["\u0275nov"](e,4).secondaryButton,t["\u0275nov"](e,4).tertiaryButton,t["\u0275nov"](e,4).ghostButton,t["\u0275nov"](e,4).dangerButton,t["\u0275nov"](e,4).dangerPrimaryButton,t["\u0275nov"](e,4).skeleton,t["\u0275nov"](e,4).smallSize,t["\u0275nov"](e,4).toolbarAction,t["\u0275nov"](e,4).overflowMenu])})}function tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","metadiv center-loader-text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"ibm-loading",[["class","inline"],["size","sm"]],[[2,"bx--loading-overlay",null]],null,null,s.b,s.a)),t["\u0275did"](2,49152,null,0,d.a,[c.a],{size:[0,"size"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","inline"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."]))],function(l,e){l(e,2,0,"sm")},function(l,e){l(e,1,0,t["\u0275nov"](e,2).overlay)})}function il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"div",[["ibmCol",""],["style","margin-bottom: 8px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,12,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](4,1097728,null,0,m.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Description*"])),(l()(),t["\u0275eld"](7,0,null,1,8,"textarea",[["cols","50"],["formControlName","description"],["ibmTextArea",""],["id","actionItemDescription"],["maxlength","500"],["placeholder","Enter Description"],["rows","4"]],[[1,"disabled",0],[2,"bx--text-area",null],[2,"bx--text-area--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-area--light",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,9)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,9).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,9)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,9)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](8,16384,null,0,g.a,[],null,null),t["\u0275did"](9,16384,null,0,h.c,[t.Renderer2,t.ElementRef,[2,h.a]],null,null),t["\u0275did"](10,540672,null,0,h.m,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,h.o,function(l){return[l]},[h.m]),t["\u0275prd"](1024,null,h.p,function(l){return[l]},[h.c]),t["\u0275did"](13,671744,null,0,h.h,[[3,h.b],[6,h.o],[8,null],[6,h.p],[2,h.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.q,null,[h.h]),t["\u0275did"](15,16384,null,0,h.r,[[4,h.q]],null,null)],function(l,e){var n=l(e,2,0,12,12,12);l(e,1,0,n),l(e,10,0,"500"),l(e,13,0,"description")},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).labelClass),l(e,7,1,[n.containmentDisable?"":null,t["\u0275nov"](e,8).baseClass,t["\u0275nov"](e,8).invalid,t["\u0275nov"](e,8).skeleton,t["\u0275nov"](e,8).isLightTheme,t["\u0275nov"](e,10).maxlength?t["\u0275nov"](e,10).maxlength:null,t["\u0275nov"](e,15).ngClassUntouched,t["\u0275nov"](e,15).ngClassTouched,t["\u0275nov"](e,15).ngClassPristine,t["\u0275nov"](e,15).ngClassDirty,t["\u0275nov"](e,15).ngClassValid,t["\u0275nov"](e,15).ngClassInvalid,t["\u0275nov"](e,15).ngClassPending])})}function al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"div",[["ibmCol",""],["style","margin-bottom: 8px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,12,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](4,1097728,null,0,m.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Description*"])),(l()(),t["\u0275eld"](7,0,null,1,8,"textarea",[["cols","50"],["formControlName","description"],["ibmTextArea",""],["id","actionItemDescription"],["maxlength","500"],["placeholder","Enter Description"],["rows","4"]],[[1,"disabled",0],[2,"bx--text-area",null],[2,"bx--text-area--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-area--light",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,9)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,9).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,9)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,9)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](8,16384,null,0,g.a,[],null,null),t["\u0275did"](9,16384,null,0,h.c,[t.Renderer2,t.ElementRef,[2,h.a]],null,null),t["\u0275did"](10,540672,null,0,h.m,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,h.o,function(l){return[l]},[h.m]),t["\u0275prd"](1024,null,h.p,function(l){return[l]},[h.c]),t["\u0275did"](13,671744,null,0,h.h,[[3,h.b],[6,h.o],[8,null],[6,h.p],[2,h.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.q,null,[h.h]),t["\u0275did"](15,16384,null,0,h.r,[[4,h.q]],null,null)],function(l,e){var n=l(e,2,0,12,12,12);l(e,1,0,n),l(e,10,0,"500"),l(e,13,0,"description")},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).labelClass),l(e,7,1,[n.correctiveDisable?"":null,t["\u0275nov"](e,8).baseClass,t["\u0275nov"](e,8).invalid,t["\u0275nov"](e,8).skeleton,t["\u0275nov"](e,8).isLightTheme,t["\u0275nov"](e,10).maxlength?t["\u0275nov"](e,10).maxlength:null,t["\u0275nov"](e,15).ngClassUntouched,t["\u0275nov"](e,15).ngClassTouched,t["\u0275nov"](e,15).ngClassPristine,t["\u0275nov"](e,15).ngClassDirty,t["\u0275nov"](e,15).ngClassValid,t["\u0275nov"](e,15).ngClassInvalid,t["\u0275nov"](e,15).ngClassPending])})}function ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](3,{"pointe-event-none":0}),t["\u0275did"](4,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](5,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](6,0,null,null,1,"label",[["class","header-attachment-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Assigned To*"])),(l()(),t["\u0275eld"](8,0,null,null,1,"app-e4-combo-box",[["isDependent","true"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onOpen"===e&&(t=!1!==i.onOpenOwner(n)&&t),"onSearch"===e&&(t=!1!==i.onSearchUser(n,l.parent.context.name)&&t),"onSelect"===e&&(t=!1!==i.onSelectedUser(n,l.parent.context.name)&&t),t},f.b,f.a)),t["\u0275did"](9,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],isDisable:[2,"isDisable"],searchQuery:[3,"searchQuery"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"})],function(l,e){var n=e.component,t=l(e,3,0,n.containmentDisable);l(e,2,0,t);var i=l(e,5,0,6,6,12);l(e,4,0,i),l(e,9,0,n.searchUsersObjectOfArrays[e.parent.context.name],"true",n.containmentDisable,n.selectedUsers[e.parent.context.name])},function(l,e){l(e,0,0,t["\u0275nov"](e,4).columnClasses)})}function ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](3,{"pointe-event-none":0}),t["\u0275did"](4,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](5,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](6,0,null,null,1,"label",[["class","header-attachment-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Assigned To*"])),(l()(),t["\u0275eld"](8,0,null,null,1,"app-e4-combo-box",[["isDependent","true"]],null,[[null,"onOpen"],[null,"onSearch"],[null,"onSelect"]],function(l,e,n){var t=!0,i=l.component;return"onOpen"===e&&(t=!1!==i.onOpenOwner(n)&&t),"onSearch"===e&&(t=!1!==i.onSearchUser(n,l.parent.context.name)&&t),"onSelect"===e&&(t=!1!==i.onSelectedUser(n,l.parent.context.name)&&t),t},f.b,f.a)),t["\u0275did"](9,4964352,null,0,v.a,[t.ElementRef],{items:[0,"items"],isDependent:[1,"isDependent"],isDisable:[2,"isDisable"],searchQuery:[3,"searchQuery"]},{onSearch:"onSearch",onSelect:"onSelect",onOpen:"onOpen"})],function(l,e){var n=e.component,t=l(e,3,0,n.correctiveDisable);l(e,2,0,t);var i=l(e,5,0,6,6,12);l(e,4,0,i),l(e,9,0,n.searchUsersObjectOfArrays[e.parent.context.name],"true",n.correctiveDisable,n.selectedUsers[e.parent.context.name])},function(l,e){l(e,0,0,t["\u0275nov"](e,4).columnClasses)})}function rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,7,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](4,1097728,null,0,m.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Planned Date Of Completion*"])),(l()(),t["\u0275eld"](7,0,null,1,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,2,"ibm-date-picker",[["dateFormat","d/m/y"],["placeholder","Select Date"]],null,[[null,"valueChange"],[null,"focusin"]],function(l,e,n){var i=!0,a=l.component;return"focusin"===e&&(i=!1!==t["\u0275nov"](l,10).onFocus()&&i),"valueChange"===e&&(i=!1!==a.valueChange(n,l.parent.context.name)&&i),i},b.b,b.a)),t["\u0275prd"](5120,null,h.p,function(l){return[l]},[C.a]),t["\u0275did"](10,9093120,null,0,C.a,[t.ElementRef],{dateFormat:[0,"dateFormat"],placeholder:[1,"placeholder"],value:[2,"value"],disabled:[3,"disabled"]},{valueChange:"valueChange"})],function(l,e){var n=e.component,t=l(e,2,0,6,6,12);l(e,1,0,t),l(e,10,0,"d/m/y","Select Date",n.dateValues[e.parent.context.name],n.correctiveDisable)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).labelClass)})}function sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,7,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](4,1097728,null,0,m.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Planned Date Of Completion*"])),(l()(),t["\u0275eld"](7,0,null,1,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,2,"ibm-date-picker",[["dateFormat","d/m/y"],["placeholder","Select Date"]],null,[[null,"valueChange"],[null,"focusin"]],function(l,e,n){var i=!0,a=l.component;return"focusin"===e&&(i=!1!==t["\u0275nov"](l,10).onFocus()&&i),"valueChange"===e&&(i=!1!==a.valueChange(n,l.parent.context.name)&&i),i},b.b,b.a)),t["\u0275prd"](5120,null,h.p,function(l){return[l]},[C.a]),t["\u0275did"](10,9093120,null,0,C.a,[t.ElementRef],{dateFormat:[0,"dateFormat"],placeholder:[1,"placeholder"],value:[2,"value"],disabled:[3,"disabled"]},{valueChange:"valueChange"})],function(l,e){var n=e.component,t=l(e,2,0,6,6,12);l(e,1,0,t),l(e,10,0,"d/m/y","Select Date",n.dateValues[e.parent.context.name],n.containmentDisable)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).labelClass)})}function dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"div",[["ibmCol",""],["style","margin-bottom: 8px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,12,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](4,1097728,null,0,m.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Comments"])),(l()(),t["\u0275eld"](7,0,null,1,8,"textarea",[["cols","50"],["formControlName","remarkDescription"],["ibmTextArea",""],["id","remarkDescription"],["maxlength","500"],["placeholder","Enter Comments"],["rows","4"]],[[1,"disabled",0],[2,"bx--text-area",null],[2,"bx--text-area--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-area--light",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,9)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,9).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,9)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,9)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](8,16384,null,0,g.a,[],null,null),t["\u0275did"](9,16384,null,0,h.c,[t.Renderer2,t.ElementRef,[2,h.a]],null,null),t["\u0275did"](10,540672,null,0,h.m,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,h.o,function(l){return[l]},[h.m]),t["\u0275prd"](1024,null,h.p,function(l){return[l]},[h.c]),t["\u0275did"](13,671744,null,0,h.h,[[3,h.b],[6,h.o],[8,null],[6,h.p],[2,h.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.q,null,[h.h]),t["\u0275did"](15,16384,null,0,h.r,[[4,h.q]],null,null)],function(l,e){var n=l(e,2,0,12,12,12);l(e,1,0,n),l(e,10,0,"500"),l(e,13,0,"remarkDescription")},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).labelClass),l(e,7,1,[n.containmentDisable?"":null,t["\u0275nov"](e,8).baseClass,t["\u0275nov"](e,8).invalid,t["\u0275nov"](e,8).skeleton,t["\u0275nov"](e,8).isLightTheme,t["\u0275nov"](e,10).maxlength?t["\u0275nov"](e,10).maxlength:null,t["\u0275nov"](e,15).ngClassUntouched,t["\u0275nov"](e,15).ngClassTouched,t["\u0275nov"](e,15).ngClassPristine,t["\u0275nov"](e,15).ngClassDirty,t["\u0275nov"](e,15).ngClassValid,t["\u0275nov"](e,15).ngClassInvalid,t["\u0275nov"](e,15).ngClassPending])})}function cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"div",[["ibmCol",""],["style","margin-bottom: 8px;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,12,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](4,1097728,null,0,m.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Comments"])),(l()(),t["\u0275eld"](7,0,null,1,8,"textarea",[["cols","50"],["formControlName","remarkDescription"],["ibmTextArea",""],["id","remarkDescription"],["maxlength","500"],["placeholder","Enter Comments"],["rows","4"]],[[1,"disabled",0],[2,"bx--text-area",null],[2,"bx--text-area--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-area--light",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,9)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,9).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,9)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,9)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](8,16384,null,0,g.a,[],null,null),t["\u0275did"](9,16384,null,0,h.c,[t.Renderer2,t.ElementRef,[2,h.a]],null,null),t["\u0275did"](10,540672,null,0,h.m,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,h.o,function(l){return[l]},[h.m]),t["\u0275prd"](1024,null,h.p,function(l){return[l]},[h.c]),t["\u0275did"](13,671744,null,0,h.h,[[3,h.b],[6,h.o],[8,null],[6,h.p],[2,h.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.q,null,[h.h]),t["\u0275did"](15,16384,null,0,h.r,[[4,h.q]],null,null)],function(l,e){var n=l(e,2,0,12,12,12);l(e,1,0,n),l(e,10,0,"500"),l(e,13,0,"remarkDescription")},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).labelClass),l(e,7,1,[n.correctiveDisable?"":null,t["\u0275nov"](e,8).baseClass,t["\u0275nov"](e,8).invalid,t["\u0275nov"](e,8).skeleton,t["\u0275nov"](e,8).isLightTheme,t["\u0275nov"](e,10).maxlength?t["\u0275nov"](e,10).maxlength:null,t["\u0275nov"](e,15).ngClassUntouched,t["\u0275nov"](e,15).ngClassTouched,t["\u0275nov"](e,15).ngClassPristine,t["\u0275nov"](e,15).ngClassDirty,t["\u0275nov"](e,15).ngClassValid,t["\u0275nov"](e,15).ngClassInvalid,t["\u0275nov"](e,15).ngClassPending])})}function pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,11,"ibm-dropdown",[["appendInline","true"],["formControlName","progress"],["ibmCol",""],["id","progress"],["label","Progress*"],["placeholder","Select Progress"]],[[2,"bx--dropdown__wrapper",null],[8,"className",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"onClose"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,4).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.selectedProgress(n,l.parent.context.name)&&i),"onClose"===e&&(i=!1!==a.onClose(n)&&i),i},y.b,y.a)),t["\u0275did"](4,1294336,null,1,x.a,[t.ElementRef,c.a,w.a],{id:[0,"id"],label:[1,"label"],placeholder:[2,"placeholder"],appendInline:[3,"appendInline"]},{selected:"selected",onClose:"onClose"}),t["\u0275qud"](335544320,4,{view:0}),t["\u0275did"](6,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](7,{lg:0,md:1,sm:2}),t["\u0275prd"](1024,null,h.p,function(l){return[l]},[x.a]),t["\u0275did"](9,671744,null,0,h.h,[[3,h.b],[8,null],[8,null],[6,h.p],[2,h.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.q,null,[h.h]),t["\u0275did"](11,16384,null,0,h.r,[[4,h.q]],null,null),(l()(),t["\u0275eld"](12,0,null,0,2,"ibm-dropdown-list",[],null,null,null,I.b,I.a)),t["\u0275did"](13,4374528,null,0,D.a,[t.ElementRef,c.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[4,4]],T.a,null,[D.a])],function(l,e){var n=e.component,t=l(e,2,0,6,6,12);l(e,1,0,t),l(e,4,0,"progress","Progress*","Select Progress","true");var i=l(e,7,0,4,4,6);l(e,6,0,i),l(e,9,0,"progress"),l(e,13,0,n.ProgressitemsObjectOfArrays[e.parent.context.name])},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).hostClass,t["\u0275nov"](e,6).columnClasses,t["\u0275nov"](e,11).ngClassUntouched,t["\u0275nov"](e,11).ngClassTouched,t["\u0275nov"](e,11).ngClassPristine,t["\u0275nov"](e,11).ngClassDirty,t["\u0275nov"](e,11).ngClassValid,t["\u0275nov"](e,11).ngClassInvalid,t["\u0275nov"](e,11).ngClassPending)})}function ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,11,"ibm-dropdown",[["appendInline","true"],["formControlName","progress"],["ibmCol",""],["id","progress"],["label","Progress*"],["placeholder","Select Progress"]],[[2,"bx--dropdown__wrapper",null],[8,"className",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"onClose"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,4).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.selectedProgress(n,l.parent.context.name)&&i),"onClose"===e&&(i=!1!==a.onClose(n)&&i),i},y.b,y.a)),t["\u0275did"](4,1294336,null,1,x.a,[t.ElementRef,c.a,w.a],{id:[0,"id"],label:[1,"label"],placeholder:[2,"placeholder"],appendInline:[3,"appendInline"]},{selected:"selected",onClose:"onClose"}),t["\u0275qud"](335544320,5,{view:0}),t["\u0275did"](6,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](7,{lg:0,md:1,sm:2}),t["\u0275prd"](1024,null,h.p,function(l){return[l]},[x.a]),t["\u0275did"](9,671744,null,0,h.h,[[3,h.b],[8,null],[8,null],[6,h.p],[2,h.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.q,null,[h.h]),t["\u0275did"](11,16384,null,0,h.r,[[4,h.q]],null,null),(l()(),t["\u0275eld"](12,0,null,0,2,"ibm-dropdown-list",[],null,null,null,I.b,I.a)),t["\u0275did"](13,4374528,null,0,D.a,[t.ElementRef,c.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[5,4]],T.a,null,[D.a])],function(l,e){var n=e.component,t=l(e,2,0,6,6,12);l(e,1,0,t),l(e,4,0,"progress","Progress*","Select Progress","true");var i=l(e,7,0,4,4,6);l(e,6,0,i),l(e,9,0,"progress"),l(e,13,0,n.ProgressitemsObjectOfArrays[e.parent.context.name])},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).hostClass,t["\u0275nov"](e,6).columnClasses,t["\u0275nov"](e,11).ngClassUntouched,t["\u0275nov"](e,11).ngClassTouched,t["\u0275nov"](e,11).ngClassPristine,t["\u0275nov"](e,11).ngClassDirty,t["\u0275nov"](e,11).ngClassValid,t["\u0275nov"](e,11).ngClassInvalid,t["\u0275nov"](e,11).ngClassPending)})}function gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,11,"ibm-dropdown",[["appendInline","true"],["formControlName","effectiveCheckStatus"],["ibmCol",""],["id","effectiveCheckStatus"],["label","Effective Check Status"],["placeholder","Select Status"]],[[2,"bx--dropdown__wrapper",null],[8,"className",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"onClose"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,4).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.selected(n)&&i),"onClose"===e&&(i=!1!==a.onClose(n)&&i),i},y.b,y.a)),t["\u0275did"](4,1294336,null,1,x.a,[t.ElementRef,c.a,w.a],{id:[0,"id"],label:[1,"label"],placeholder:[2,"placeholder"],disabled:[3,"disabled"],appendInline:[4,"appendInline"]},{selected:"selected",onClose:"onClose"}),t["\u0275qud"](335544320,6,{view:0}),t["\u0275did"](6,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](7,{lg:0,md:1,sm:2}),t["\u0275prd"](1024,null,h.p,function(l){return[l]},[x.a]),t["\u0275did"](9,671744,null,0,h.h,[[3,h.b],[8,null],[8,null],[6,h.p],[2,h.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,h.q,null,[h.h]),t["\u0275did"](11,16384,null,0,h.r,[[4,h.q]],null,null),(l()(),t["\u0275eld"](12,0,null,0,2,"ibm-dropdown-list",[],null,null,null,I.b,I.a)),t["\u0275did"](13,4374528,null,0,D.a,[t.ElementRef,c.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[6,4]],T.a,null,[D.a])],function(l,e){var n=e.component,t=l(e,2,0,6,6,12);l(e,1,0,t),l(e,4,0,"effectiveCheckStatus","Effective Check Status","Select Status","Completed"!==n.containmentForm.value.progress.content,"true");var i=l(e,7,0,4,4,6);l(e,6,0,i),l(e,9,0,"effectiveCheckStatus","Completed"!==n.containmentForm.value.progress.content),l(e,13,0,n.EffectiveitemsObjectOfArrays[e.parent.context.name])},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).hostClass,t["\u0275nov"](e,6).columnClasses,t["\u0275nov"](e,11).ngClassUntouched,t["\u0275nov"](e,11).ngClassTouched,t["\u0275nov"](e,11).ngClassPristine,t["\u0275nov"](e,11).ngClassDirty,t["\u0275nov"](e,11).ngClassValid,t["\u0275nov"](e,11).ngClassInvalid,t["\u0275nov"](e,11).ngClassPending)})}function hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,11,"ibm-dropdown",[["appendInline","true"],["formControlName","effectiveCheckStatus"],["ibmCol",""],["id","effectiveCheckStatus"],["label","Effective Check Status"],["placeholder","Select Status"]],[[2,"bx--dropdown__wrapper",null],[8,"className",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selected"],[null,"onClose"],[null,"keydown"]],function(l,e,n){var i=!0,a=l.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,4).onKeyDown(n)&&i),"selected"===e&&(i=!1!==a.selected(n)&&i),"onClose"===e&&(i=!1!==a.onClose(n)&&i),i},y.b,y.a)),t["\u0275did"](4,1294336,null,1,x.a,[t.ElementRef,c.a,w.a],{id:[0,"id"],label:[1,"label"],placeholder:[2,"placeholder"],disabled:[3,"disabled"],appendInline:[4,"appendInline"]},{selected:"selected",onClose:"onClose"}),t["\u0275qud"](335544320,7,{view:0}),t["\u0275did"](6,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](7,{lg:0,md:1,sm:2}),t["\u0275prd"](1024,null,h.p,function(l){return[l]},[x.a]),t["\u0275did"](9,671744,null,0,h.h,[[3,h.b],[8,null],[8,null],[6,h.p],[2,h.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,h.q,null,[h.h]),t["\u0275did"](11,16384,null,0,h.r,[[4,h.q]],null,null),(l()(),t["\u0275eld"](12,0,null,0,2,"ibm-dropdown-list",[],null,null,null,I.b,I.a)),t["\u0275did"](13,4374528,null,0,D.a,[t.ElementRef,c.a],{items:[0,"items"]},null),t["\u0275prd"](2048,[[7,4]],T.a,null,[D.a])],function(l,e){var n=e.component,t=l(e,2,0,6,6,12);l(e,1,0,t),l(e,4,0,"effectiveCheckStatus","Effective Check Status","Select Status","Completed"!==n.correctiveForm.value.progress.content,"true");var i=l(e,7,0,4,4,6);l(e,6,0,i),l(e,9,0,"effectiveCheckStatus","Completed"!==n.correctiveForm.value.progress.content),l(e,13,0,n.EffectiveitemsObjectOfArrays[e.parent.context.name])},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).hostClass,t["\u0275nov"](e,6).columnClasses,t["\u0275nov"](e,11).ngClassUntouched,t["\u0275nov"](e,11).ngClassTouched,t["\u0275nov"](e,11).ngClassPristine,t["\u0275nov"](e,11).ngClassDirty,t["\u0275nov"](e,11).ngClassValid,t["\u0275nov"](e,11).ngClassInvalid,t["\u0275nov"](e,11).ngClassPending)})}function fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"ibm-checkbox",[["checked","showReasonBox[formname]"],["formControlName","candidateForStandarisation"]],[[2,"bx--checkbox-wrapper",null],[2,"bx--form-item",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"]],function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.checkBoxEvent(n,l.parent.parent.context.name)&&t),t},M.b,M.a)),t["\u0275did"](1,4243456,null,0,P.a,[t.ChangeDetectorRef],{disabled:[0,"disabled"],checked:[1,"checked"]},{change:"change"}),t["\u0275prd"](1024,null,h.p,function(l){return[l]},[P.a]),t["\u0275did"](3,671744,null,0,h.h,[[3,h.b],[8,null],[8,null],[6,h.p],[2,h.D]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,h.q,null,[h.h]),t["\u0275did"](5,16384,null,0,h.r,[[4,h.q]],null,null),(l()(),t["\u0275ted"](6,0,[" "," "]))],function(l,e){var n=e.component;l(e,1,0,n.isCosDisabled[e.parent.parent.context.name],"showReasonBox[formname]"),l(e,3,0,"candidateForStandarisation",n.isCosDisabled[e.parent.parent.context.name])},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).checkboxWrapperClass,t["\u0275nov"](e,1).formItemClass,t["\u0275nov"](e,5).ngClassUntouched,t["\u0275nov"](e,5).ngClassTouched,t["\u0275nov"](e,5).ngClassPristine,t["\u0275nov"](e,5).ngClassDirty,t["\u0275nov"](e,5).ngClassValid,t["\u0275nov"](e,5).ngClassInvalid,t["\u0275nov"](e,5).ngClassPending),l(e,6,0,n.cosCheckboxLabel[e.parent.parent.context.name])})}function vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](1,1097728,null,0,m.a,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Details"])),(l()(),t["\u0275eld"](4,0,null,0,1,"label",[["class","top-right-text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["","/500"])),(l()(),t["\u0275eld"](6,0,null,1,8,"textarea",[["class","reason-box"],["cols","50"],["formControlName","candidateForStandarisationReason"],["ibmTextArea",""],["id","candidateForStandarisationReason"],["maxlength","500"],["placeholder","Please provide a description of why this process is a candidate for standardisation."],["rows","4"]],[[2,"bx--text-area",null],[2,"bx--text-area--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-area--light",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](l,8)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,8).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,8)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,8)._compositionEnd(n.target.value)&&i),i},null,null)),t["\u0275did"](7,16384,null,0,g.a,[],null,null),t["\u0275did"](8,16384,null,0,h.c,[t.Renderer2,t.ElementRef,[2,h.a]],null,null),t["\u0275did"](9,540672,null,0,h.m,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,h.o,function(l){return[l]},[h.m]),t["\u0275prd"](1024,null,h.p,function(l){return[l]},[h.c]),t["\u0275did"](12,671744,null,0,h.h,[[3,h.b],[6,h.o],[8,null],[6,h.p],[2,h.D]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.q,null,[h.h]),t["\u0275did"](14,16384,null,0,h.r,[[4,h.q]],null,null)],function(l,e){l(e,9,0,"500"),l(e,12,0,"candidateForStandarisationReason")},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,1).labelClass),l(e,5,0,"containmentForm"===e.parent.parent.context.name?n.containmentForm.value.candidateForStandarisationReason.length:n.correctiveForm.value.candidateForStandarisationReason.length),l(e,6,1,[t["\u0275nov"](e,7).baseClass,t["\u0275nov"](e,7).invalid,t["\u0275nov"](e,7).skeleton,t["\u0275nov"](e,7).isLightTheme,t["\u0275nov"](e,9).maxlength?t["\u0275nov"](e,9).maxlength:null,t["\u0275nov"](e,14).ngClassUntouched,t["\u0275nov"](e,14).ngClassTouched,t["\u0275nov"](e,14).ngClassPristine,t["\u0275nov"](e,14).ngClassDirty,t["\u0275nov"](e,14).ngClassValid,t["\u0275nov"](e,14).ngClassInvalid,t["\u0275nov"](e,14).ngClassPending])})}function bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","text-two-line"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.cosReason,"")),l(e,1,0,e.parent.context.$implicit.cosReason)})}function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","chev-exp-col"],["ibmIconChevronDown32",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.toggleExpand(n,l.parent.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,S.a,[t.ElementRef],null,null)],null,null)}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","chev-exp-col"],["ibmIconChevronUp32",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.toggleExpand(n,l.parent.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,4210688,null,0,k.a,[t.ElementRef],null,null)],null,null)}function wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","expandedIconCell align-items-end cursor-pointer"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,yl)),t["\u0275did"](2,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](4,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){l(e,2,0,!e.parent.context.$implicit.isExpanded),l(e,4,0,e.parent.context.$implicit.isExpanded)},null)}function Il(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function Dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,Il)),t["\u0275did"](2,540672,null,0,o.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](3,{item:0}),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){var n=l(e,3,0,e.parent.context.$implicit);l(e,2,0,n,t["\u0275nov"](e.parent.parent.parent.parent.parent,53))},null)}function Tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,14,"div",[["class","rTableRow "],["style","background-color: #f3f3f3;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,13,"div",[["class","rTableRowWrapper"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","rTableCell  flex-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275ppd"](5,1),(l()(),t["\u0275eld"](6,0,null,null,4,"div",[["class","rTableCell flex-4"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](8,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](10,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](11,0,null,null,1,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,[" "," "])),(l()(),t["\u0275eld"](13,0,null,null,2,"div",[["class","rTableCell align-items-flex-center"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,wl)),t["\u0275did"](15,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Dl)),t["\u0275did"](17,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){l(e,8,0,e.context.$implicit.cosReason),l(e,10,0,!e.context.$implicit.cosReason),l(e,15,0,"Rejected"===e.context.$implicit.cosStatus),l(e,17,0,e.context.$implicit.isExpanded)},function(l,e){var n=t["\u0275unv"](e,4,0,l(e,5,0,t["\u0275nov"](e.parent.parent.parent.parent,0),e.context.$implicit.cosRequestDate));l(e,4,0,n),l(e,12,0,"Pending Approval"===e.context.$implicit.cosStatus?"Approval Pending":e.context.$implicit.cosStatus)})}function Ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["style","padding-top: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","rTableRow tableHeads"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Request Date"])),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","rTableHead flex-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Details"])),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Status"])),(l()(),t["\u0275eld"](11,0,null,null,0,"div",[["class","rTableHead"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Tl)),t["\u0275did"](13,278528,null,0,o.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,e){l(e,13,0,e.component.cosList[e.parent.parent.context.name])},null)}function Pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](1,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](2,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](3,0,null,null,4,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](4,1097728,null,0,m.a,[],null,null),(l()(),t["\u0275eld"](5,0,null,1,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](7,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["style","padding-top: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,vl)),t["\u0275did"](10,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ml)),t["\u0275did"](12,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component,t=l(e,2,0,12,12,12);l(e,1,0,t),l(e,7,0,n.showCFSObject[e.parent.context.name]),l(e,10,0,n.showReasonBox[e.parent.context.name]&&!n.isCosDisabled[e.parent.context.name]),l(e,12,0,n.cosList[e.parent.context.name].length>0)},function(l,e){l(e,0,0,t["\u0275nov"](e,1).columnClasses),l(e,3,0,t["\u0275nov"](e,4).labelClass)})}function Sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["style","display: flex;align-items: center;"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.downloadFile(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,":svg:svg",[["class","fill-da1e28"],["ibmIconAttachment20",""]],null,null,null,null,null)),t["\u0275did"](3,4210688,null,0,F.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](4,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""])),(l()(),t["\u0275eld"](6,0,null,null,1,":svg:svg",[["class","fill-da1e28"],["ibmIconClose16",""]],null,[[null,"click"]],function(l,e,n){var t=!0,i=l.component;return"click"===e&&(n.stopPropagation(),t=!1!==i.deleteFile(l.context.$implicit.id,l.context.index,"action",l.parent.parent.context.name)&&t),t},null,null)),t["\u0275did"](7,4210688,null,0,R.b,[t.ElementRef],null,null)],null,function(l,e){l(e,5,0,e.context.$implicit.name)})}function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["style","height: 150px;overflow-y: auto;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Sl)),t["\u0275did"](2,278528,null,0,o.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,e){l(e,2,0,e.component.previousActionFilesObjectOfArrays[e.parent.context.name])},null)}function Fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No attachment found. "]))],null,null)}function Rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,49,"form",[["class","form-wrapper"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,e,n){var i=!0;return"submit"===e&&(i=!1!==t["\u0275nov"](l,2).onSubmit(n)&&i),"reset"===e&&(i=!1!==t["\u0275nov"](l,2).onReset()&&i),i},null,null)),t["\u0275did"](1,16384,null,0,h.F,[],null,null),t["\u0275did"](2,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,h.b,null,[h.j]),t["\u0275did"](4,16384,null,0,h.s,[[4,h.b]],null,null),(l()(),t["\u0275eld"](5,0,null,null,27,"div",[["ibmRow",""],["style","margin-top: 10px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](6,16384,null,0,i.c,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,il)),t["\u0275did"](8,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,al)),t["\u0275did"](10,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ul)),t["\u0275did"](12,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ol)),t["\u0275did"](14,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,rl)),t["\u0275did"](16,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,sl)),t["\u0275did"](18,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,dl)),t["\u0275did"](20,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,cl)),t["\u0275did"](22,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,pl)),t["\u0275did"](24,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ml)),t["\u0275did"](26,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,gl)),t["\u0275did"](28,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,hl)),t["\u0275did"](30,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Pl)),t["\u0275did"](32,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](33,0,null,null,16,"div",[["ibmRow",""],["style","margin-top: 10px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](34,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](35,0,null,null,5,"div",[["class","file-uploader-group"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](36,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](37,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](38,0,null,null,2,"ibm-file-uploader",[["class","margin-bottom-16 pseudo-buttons upload-btn"]],null,[[null,"filesChange"]],function(l,e,n){var t=!0;return"filesChange"===e&&(t=!1!==l.component.filesChange(n,l.context.name)&&t),t},L.b,L.a)),t["\u0275prd"](5120,null,h.p,function(l){return[l]},[O.a]),t["\u0275did"](40,114688,null,0,O.a,[c.a],{buttonText:[0,"buttonText"],title:[1,"title"],description:[2,"description"],multiple:[3,"multiple"]},{filesChange:"filesChange"}),(l()(),t["\u0275eld"](41,0,null,null,8,"div",[["class","file-uploader-group"],["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](42,81920,null,0,i.a,[],{class:[0,"class"],columnNumbers:[1,"columnNumbers"]},null),t["\u0275pod"](43,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](44,0,null,null,1,"label",[["class","header-attachment-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Existing attachment"])),(l()(),t["\u0275and"](16777216,null,null,1,null,kl)),t["\u0275did"](47,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Fl)),t["\u0275did"](49,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,2,0,e.context.form),l(e,8,0,"containmentForm"==e.context.name),l(e,10,0,"correctiveForm"==e.context.name),l(e,12,0,"containmentForm"==e.context.name),l(e,14,0,"correctiveForm"==e.context.name),l(e,16,0,"correctiveForm"==e.context.name),l(e,18,0,"containmentForm"==e.context.name),l(e,20,0,"containmentForm"==e.context.name),l(e,22,0,"correctiveForm"==e.context.name),l(e,24,0,"containmentForm"==e.context.name),l(e,26,0,"correctiveForm"==e.context.name),l(e,28,0,"containmentForm"==e.context.name),l(e,30,0,"correctiveForm"==e.context.name),l(e,32,0,"correctiveForm"==e.context.name);var t=l(e,37,0,6,6,12);l(e,36,0,"file-uploader-group",t),l(e,40,0,n.buttonText,n.title,n.description,n.multiple);var i=l(e,43,0,6,6,12);l(e,42,0,"file-uploader-group",i),l(e,47,0,n.previousActionFilesObjectOfArrays[e.context.name]&&n.previousActionFilesObjectOfArrays[e.context.name].length),l(e,49,0,!(null!=n.previousActionFilesObjectOfArrays[e.context.name]&&n.previousActionFilesObjectOfArrays[e.context.name].length))},function(l,e){l(e,0,0,t["\u0275nov"](e,4).ngClassUntouched,t["\u0275nov"](e,4).ngClassTouched,t["\u0275nov"](e,4).ngClassPristine,t["\u0275nov"](e,4).ngClassDirty,t["\u0275nov"](e,4).ngClassValid,t["\u0275nov"](e,4).ngClassInvalid,t["\u0275nov"](e,4).ngClassPending),l(e,5,0,t["\u0275nov"](e,6).baseClass),l(e,33,0,t["\u0275nov"](e,34).baseClass),l(e,35,0,t["\u0275nov"](e,36).columnClasses),l(e,41,0,t["\u0275nov"](e,42).columnClasses)})}function Ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](0,null,null,0))],null,null)}function Ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","rTableRow analysisTableHeads rTableRowWrapper"],["style","background-color: #F4F7FE;border-bottom: 1px solid #DCDCDC;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","rTableHead"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Rejection Date"])),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","rTableHead flex-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Reason for Rejection"])),(l()(),t["\u0275and"](16777216,null,null,2,null,Ll)),t["\u0275did"](8,540672,null,0,o.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](9,{item:0}),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){var n=l(e,9,0,e.context.item);l(e,8,0,n,t["\u0275nov"](e.parent,54))},null)}function Nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","text-two-line"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",e.parent.context.item.cosRejectionReason,"")),l(e,1,0,e.parent.context.item.cosRejectionReason)})}function El(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function Al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","rTableRow analysisTableHeads rTableRowWrapper"],["style","background-color: #F4F7FE;border-bottom: 2px solid #cac8c8;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","rTableCell"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),t["\u0275ppd"](3,1),(l()(),t["\u0275eld"](4,0,null,null,4,"div",[["class","rTableCell flex-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Nl)),t["\u0275did"](6,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,El)),t["\u0275did"](8,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){l(e,6,0,e.context.item.cosRejectionReason),l(e,8,0,!e.context.item.cosRejectionReason)},function(l,e){var n=t["\u0275unv"](e,2,0,l(e,3,0,t["\u0275nov"](e.parent,0),e.context.item.cosRejectionDate));l(e,2,0,n)})}function Yl(l){return t["\u0275vid"](0,[t["\u0275pid"](0,o.DatePipe,[t.LOCALE_ID]),t["\u0275qud"](402653184,1,{dialogRef:0}),(l()(),t["\u0275eld"](2,0,null,null,48,"ibm-modal",[["class","full-add-analytics"],["size","sm"]],null,[[null,"keydown"]],function(l,e,n){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](l,3).handleKeyboardEvent(n)&&i),i},N.c,N.b)),t["\u0275did"](3,4440064,null,0,E.a,[A.a],{size:[0,"size"]},null),(l()(),t["\u0275eld"](4,0,null,0,46,"section",[["class","modal-body"],["ibmGrid",""],["style","width: min-content;padding-top: 23px; padding-bottom: 32px; height: auto;overflow-y: auto;"]],[[2,"bx--grid",null]],null,null,null,null)),t["\u0275did"](5,16384,null,0,i.b,[],null,null),(l()(),t["\u0275eld"](6,0,null,null,6,"div",[["ibmRow",""]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](7,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](8,0,null,null,4,"div",[["ibmCol",""],["style","display: flex; justify-content: flex-end;"]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](9,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](10,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](11,0,null,null,1,":svg:svg",[["ibmIconClose20",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onCloseModal()&&t),t},null,null)),t["\u0275did"](12,4210688,null,0,Y.a,[t.ElementRef],null,null),(l()(),t["\u0275eld"](13,0,null,null,1,"strong",[["class","remark-n-analysis-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,["",""])),(l()(),t["\u0275eld"](15,0,null,null,16,"div",[["ibmRow",""],["style","margin-bottom: 10px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](16,16384,null,0,i.c,[],null,null),(l()(),t["\u0275eld"](17,0,null,null,14,"div",[["ibmCol",""]],[[8,"className",0]],null,null,null,null)),t["\u0275did"](18,81920,null,0,i.a,[],{columnNumbers:[0,"columnNumbers"]},null),t["\u0275pod"](19,{lg:0,md:1,sm:2}),(l()(),t["\u0275eld"](20,0,null,null,11,"ibm-label",[["class","position-relative"]],[[2,"bx--form-item",null]],null,null,p.b,p.a)),t["\u0275did"](21,1097728,null,0,m.a,[],null,null),(l()(),t["\u0275eld"](22,0,null,0,1,"label",[["label",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["KPI"])),(l()(),t["\u0275eld"](24,0,null,1,7,"div",[["class","add-input-field"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,6,"input",[["appendInline","true"],["disabled","disabled"],["ibmText",""],["rows","5"]],[[2,"bx--text-input",null],[2,"bx--text-input--invalid",null],[2,"bx--skeleton",null],[2,"bx--text-input--light",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var i=!0,a=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,27)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,27).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,27)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,27)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(a.kpiTitle=n)&&i),i},null,null)),t["\u0275did"](26,16384,null,0,_.a,[],null,null),t["\u0275did"](27,16384,null,0,h.c,[t.Renderer2,t.ElementRef,[2,h.a]],null,null),t["\u0275prd"](1024,null,h.p,function(l){return[l]},[h.c]),t["\u0275did"](29,671744,null,0,h.u,[[8,null],[8,null],[8,null],[6,h.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,h.q,null,[h.u]),t["\u0275did"](31,16384,null,0,h.r,[[4,h.q]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,$)),t["\u0275did"](33,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](34,0,null,null,7,"ibm-tabs",[],null,null,null,U.b,U.a)),t["\u0275did"](35,1097728,null,2,V.a,[],null,null),t["\u0275qud"](603979776,2,{tabs:1}),t["\u0275qud"](335544320,3,{tabHeaders:0}),(l()(),t["\u0275and"](16777216,null,0,1,null,Z)),t["\u0275did"](39,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,J)),t["\u0275did"](41,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](42,0,null,null,8,"div",[["ibmRow",""],["style","float: left;align-items: center; padding-top: 20px; margin: 0px;"]],[[2,"bx--row",null]],null,null,null,null)),t["\u0275did"](43,16384,null,0,i.c,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ll)),t["\u0275did"](45,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t["\u0275ted"](-1,null,["\xa0\xa0 "])),(l()(),t["\u0275and"](16777216,null,null,1,null,el)),t["\u0275did"](48,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,nl)),t["\u0275did"](50,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,[["loading",2]],null,0,null,tl)),(l()(),t["\u0275and"](0,[["actionformTemplate",2]],null,0,null,Rl)),(l()(),t["\u0275and"](0,[["cosData",2]],null,0,null,Ol)),(l()(),t["\u0275and"](0,[["cosContent",2]],null,0,null,Al))],function(l,e){var n=e.component;l(e,3,0,"sm");var i=l(e,10,0,12,12,12);l(e,9,0,i);var a=l(e,19,0,12,12,12);l(e,18,0,a),l(e,29,0,"disabled",n.kpiTitle),l(e,33,0,n.showDataSample),l(e,39,0,!(n.isAddRemark||n.fromCustomReport&&0!=n.tabIndex)),l(e,41,0,!(n.isAddRemark||n.fromCustomReport&&1!=n.tabIndex)),l(e,45,0,!n.isSubmitButtonLoading,t["\u0275nov"](e,51)),l(e,48,0,0==n.tabIndex&&!n.fromCustomReport),l(e,50,0,1==n.tabIndex&&!n.fromCustomReport)},function(l,e){var n=e.component;l(e,4,0,t["\u0275nov"](e,5).baseClass),l(e,6,0,t["\u0275nov"](e,7).baseClass),l(e,8,0,t["\u0275nov"](e,9).columnClasses),l(e,14,0,n.modalTitle),l(e,15,0,t["\u0275nov"](e,16).baseClass),l(e,17,0,t["\u0275nov"](e,18).columnClasses),l(e,20,0,t["\u0275nov"](e,21).labelClass),l(e,25,1,[t["\u0275nov"](e,26).inputClass,t["\u0275nov"](e,26).invalid,t["\u0275nov"](e,26).skeleton,t["\u0275nov"](e,26).isLightTheme,t["\u0275nov"](e,31).ngClassUntouched,t["\u0275nov"](e,31).ngClassTouched,t["\u0275nov"](e,31).ngClassPristine,t["\u0275nov"](e,31).ngClassDirty,t["\u0275nov"](e,31).ngClassValid,t["\u0275nov"](e,31).ngClassInvalid,t["\u0275nov"](e,31).ngClassPending]),l(e,42,0,t["\u0275nov"](e,43).baseClass)})}function _l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-add-action",[],null,null,null,Yl,j)),t["\u0275did"](1,114688,null,0,q.a,[A.a,K.a,H.a,t.Injector,z.a,B.j,G.a,h.f,W.e],null,null)],function(l,e){l(e,1,0)},null)}var Ul=t["\u0275ccf"]("app-add-action",q.a,_l,{},{close:"close",onActionAdd:"onActionAdd"},[])},zonc:function(l,e,n){"use strict";n.d(e,"a",function(){return m});var t=n("mrSG"),i=n("s7LF"),a=(n("ciZX"),n("Z3BZ"),n("qHnB"),n("PsxR"),n("LvDl")),u=n.n(a),o=n("wd/R"),r=n("9XGM"),s=n("HTWL"),d=n("bl9C"),c=n("SVse"),p=n("cp0P");n("XX5M"),n("Z725"),n("+Kk7");class m{constructor(l,e,n,t,i,a,u,o,r,s,d,c,p,m){this.data=l,this.dialogRef=e,this.goalService=n,this.settingsService=t,this.calenderService=i,this.formBuilder=a,this._toastrService=u,this.router=o,this.modalService=r,this.confirmationService=s,this.activatedRoute=d,this.kpiService=c,this.metricsService=p,this.cd=m,this.deploymentTreeConfig=null,this.followFocus=!0,this.isNavigation=!1,this.isAddMode=!0,this.cards=[],this.captureDataMap=new Map,this.weeklyItems=[],this.dailyItems=[],this.shiftWiseItems=[],this.actionLimit="PRAGMATIC",this.disablePragmaticRadioOption=!1,this.extendStructure=!1,this.supportedAttachmentFormats="image/png,image/jpeg,image/jpg,.csv,.doc,.docx,.odf,application/pdf,,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",this.monthlyItems=[],this.yearItems=[{name:1,content:"19-20",selected:!1,startDate:"",endDate:""}],this.QuaterlyItems=[],this.halfYearlyItems=[{name:1,content:"(Apr-Sep)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""},{name:2,content:"(Oct-Mar)",selected:!1,target:"",lower:"",upper:"",startDate:"",endDate:""}],this.KpiItems=[],this.dateArrayDiff=[],this.categoryItems=[],this.shiftItems=[],this.items=[{content:"1"},{content:"2"}],this.directionOfGoodness=[{content:"Higher the better",value:"Up",selected:!1},{content:"Lower the better",value:"Down",selected:!1}],this.ytdCalculation=[{content:"Sum",value:"SUM",selected:!1},{content:"Average",value:"AVG",selected:!1},{content:"Mean",value:"MEAN",selected:!1},{content:"Latest",value:"LATEST",selected:!1},{content:"Custom Formula",value:"FORMULA",selected:!1}],this.weekNumberItems=[{content:"1",selected:!1,isCurrentWeek:!1,name:1}],this.captureFrequencyItems=[],this.filteredFrequencyItems=[],this.filteredReviewFrequencyItems=[],this.perspectiveItems=[],this.unitOfMeasurementItems=[],this.weightageIetms=[],this.reviewItems=[],this.currentid="",this.kpiCapDoPageURL="",this.editNotPermittedMessage="",this.dateRangevalue=[],this.labelDate="Date Picker Label",this.placeholderDate="mm/dd/yyyy",this.placeholder="mm/dd/yyyy",this.invalidText="Invalid date format",this.dateFormat="m/d/Y",this.invalid=!1,this.disabled=!1,this.valueChange="Date change fired!",this.label="Date Picker Label",this.onChange="Change fired!",this.hideLabel=!1,this.autocomplete="on",this.viewers=[],this.owners=[],this.prevValue=0,this.nextValue=7,this.prevTargetValue=0,this.nextTargetValue=7,this.showKpiTarget=!0,this.departmentList=[],this.parentList=[],this.previousFileArray=[{id:"",name:"",url:""}],this.selectedShifttem=[],this.hourlyShifttem=[{name:"1",selected:!1,target:"",lower:"",upper:"",startDate:"00AM",endDate:"1AM",content:"00AM - 1AM"},{name:"2",selected:!1,target:"",lower:"",upper:"",startDate:"1AM",endDate:"2AM",content:"1AM - 2 AM"},{name:"3",selected:!1,target:"",lower:"",upper:"",startDate:"2AM",endDate:"3AM",content:"2 AM - 3 AM"},{name:"4",selected:!1,target:"",lower:"",upper:"",startDate:"3AM",endDate:"4AM",content:"3 AM - 4 AM"},{name:"5",selected:!1,target:"",lower:"",upper:"",startDate:"4AM",endDate:"5AM",content:"4 AM - 5 AM"},{name:"6",selected:!1,target:"",lower:"",upper:"",startDate:"5AM",endDate:"6AM",content:"5 AM - 6 AM"},{name:"7",selected:!1,target:"",lower:"",upper:"",startDate:"6AM",endDate:"7AM",content:"6 AM - 7 AM"},{name:"8",selected:!1,target:"",lower:"",upper:"",startDate:"7AM",endDate:"8AM",content:"7 AM - 8 AM"},{name:"9",selected:!1,target:"",lower:"",upper:"",startDate:"8AM",endDate:"9AM",content:"8 AM - 9 AM"},{name:"10",selected:!1,target:"",lower:"",upper:"",startDate:"9AM",endDate:"10AM",content:"9 AM - 10 AM"},{name:"11",selected:!1,target:"",lower:"",upper:"",startDate:"10AM",endDate:"11AM",content:"10 AM - 11 AM"},{name:"12",selected:!1,target:"",lower:"",upper:"",startDate:"11AM",endDate:"12AM",content:"11 AM - 12 PM"},{name:"13",selected:!1,target:"",lower:"",upper:"",startDate:"12AM",endDate:"1PM",content:"12 PM - 1 PM"},{name:"14",selected:!1,target:"",lower:"",upper:"",startDate:"1PM",endDate:"2PM",content:"1 PM - 2 PM"},{name:"15",selected:!1,target:"",lower:"",upper:"",startDate:"2PM",endDate:"3PM",content:"2 PM - 3 PM"},{name:"16",selected:!1,target:"",lower:"",upper:"",startDate:"3PM",endDate:"4PM",content:"3 PM - 4 PM"},{name:"17",selected:!1,target:"",lower:"",upper:"",startDate:"4PM",endDate:"5PM",content:"4 PM - 5 PM"},{name:"18",selected:!1,target:"",lower:"",upper:"",startDate:"5PM",endDate:"6PM",content:"5 PM - 6 PM"},{name:"19",selected:!1,target:"",lower:"",upper:"",startDate:"6PM",endDate:"7PM",content:"6 PM - 7 PM"},{name:"20",selected:!1,target:"",lower:"",upper:"",startDate:"7PM",endDate:"8PM",content:"7 PM - 8 PM"},{name:"21",selected:!1,target:"",lower:"",upper:"",startDate:"8PM",endDate:"9PM",content:"8 PM - 9 PM"},{name:"22",selected:!1,target:"",lower:"",upper:"",startDate:"9PM",endDate:"10PM",content:"9 PM - 10 PM"},{name:"23",selected:!1,target:"",lower:"",upper:"",startDate:"10PM",endDate:"11PM",content:"10 PM - 11 PM"},{name:"24",selected:!1,target:"",lower:"",upper:"",startDate:"11PM",endDate:"00AM",content:"11 PM - 00 AM"}],this.yearList=[],this.hoverTrue=!1,this.canEdit=!1,this.isNextYear=!1,this.ytdTargetFormulaList=[],this.ytdTargetSearch="",this.ytdActualSearch="",this.ytdActualFormulaList=[],this.minDate=new Date,this.groups=[],this.noParentKpi=!1,this.reviewItemsBackUp=[],this.holidays=[],this.searchedFormsForStratify=[],this.targetFormFieldList=[],this.searchedUpperLimitMetrics=[],this.searchedLowerLimitMetrics=[],this.dataCaptureFrequencyAggrLogicItems=[{content:"Sum",value:"SUM"},{content:"Average",value:"AVG"}];for(let g=1;g<=100;g++)this.weightageIetms.push({content:g,selected:!1});this.createForm(),this.kpi=l.kpi}ngDoCheck(){this.cd.markForCheck()}ngOnInit(){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.isPreviousYear=!1,this.isEditPermitted=!0,this.isAddMode=!1,this.currentid=this.kpi._id,this.kpiCapDoPageURL="/org-kpi/performance-indicator/"+this.kpi._id,this.extend=!1;let l=yield this.getperspectivesNew();if(l&&l.success&&(this.perspectiveItems=l.response.map(({perspective:l,_id:e,perspectivePrefix:n})=>({content:l,id:e,perspectivePrefix:n}))),!this.isAddMode)try{this.isKPILoading=!0;let l=yield this.getReviewFreqNew();l&&l.success&&(this.reviewItems=l.response.map(({value:l,_id:e})=>({content:l,id:e})));let n=yield this.getFinancialYearsNew();n&&n.success&&(this.financialYearsResp=n);let t=yield this.getShiftSettingsNew(),i=yield this.getCaptureFreqNew();i&&i.success&&(this.captureFrequencyItems=[],this.captureFrequencyItems=i.response.map(({value:l,_id:e,order:n})=>({content:l,id:e,order:n}))),t&&t.success&&(this.shiftItems=t.response.map(({_id:l,shiftHours:e,shiftNumber:n,shiftEnd:t,shiftStart:i,content:a=i+"-"+t})=>({id:l,shiftHours:e,shiftNumber:n,shiftStart:i,shiftEnd:t,content:a}))),this.isKPILoading=!1,this.getGoalDetail(),this.getcaptureFrequencyForPerspective()}catch(e){this.isKPILoading=!1}this.getKpiTargetData()})}getCalData(){return Object(t.__awaiter)(this,void 0,void 0,function*(){let l=yield this.getCalenderData();const e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=this.getSelectAllArray();this.weekNumberItems=n.concat(l[0].response.map(({week:l,weekStartDate:e,weekEndDate:n,week:t,0:i,0:a,0:u,isCurrentWeek:o})=>({content:l,weekStartDate:e,weekEndDate:n,target:i,upper:u,lower:a,name:t,isCurrentWeek:o}))),this.weekNumberItems.forEach(l=>{0!=l.name&&(l.content=this.getWeekContent(l.content,l.weekStartDate,l.weekEndDate))}),this.monthlyItems=n.concat(l[1].response.map(({start:l,end:n,0:t,0:i,0:a,isCurrentMonth:u})=>({content:e[new Date(l).getMonth()],name:1,startDate:l,endDate:n,target:t,upper:a,lower:i,isCurrentMonth:u}))),this.monthlyItems.forEach((l,e)=>{0!=l.name&&(l.name=e)}),this.monthlyItemsShow=l[1].response.map(({start:l,end:n,0:t,0:i,0:a,isCurrentMonth:u})=>({content:e[new Date(l).getMonth()],name:1,startDate:l,endDate:n,target:t,upper:a,lower:i,isCurrentMonth:u}));for(let t=0;t<this.monthlyItemsShow.length;t++){let l=this.monthlyItemsShow[t];l.isCurrentMonth&&(this.selectedMonthStart=l.startDate,this.selectedMonthEnd=l.endDate)}l[2].response.forEach((l,n)=>{this.QuaterlyItems.push({content:"("+e[new Date(l[0].start).getMonth()]+"-"+e[new Date(l[2].end).getMonth()]+")",name:n+1,startDate:l[0].start,endDate:l[2].end,target:0,upper:0,lower:0,isCurrentQuarter:l.isCurrentQuarter})}),this.QuaterlyItems.forEach((l,e)=>{l.name=e+1})})}getMonthDateRange(l){let e=parseInt(l);e>9?e-=9:e+=3;var n=(new Date).getFullYear();(new Date).getMonth()<=2&&(n-=1);var t=o([n,e-1]),i=o(t).endOf("month");return{startDate:t.toDate().toISOString().slice(0,10).toString(),endDate:i.toDate().toISOString().slice(0,10).toString()}}getQuaterRange(l){let e=3;e=1===l?4:2===l?7:3===l?10:1;var n=(new Date).getFullYear(),t=(new Date).getMonth();t<=3&&e>=4&&e<=12?n-=1:t>3&&e<4?n+=1:n=n;var i=o([n,e-1]),a=o(o(i).add(3,"M")).endOf("month"),u=i.toDate().getFullYear().toString().substr(-2),r=a.toDate().getFullYear().toString().substr(-2);return{startDate:i.toDate().toISOString().slice(0,10).toString(),endDate:a.toDate().toISOString().slice(0,10).toString(),startYear:u,endYear:r}}getFinancialYears(){return this.calenderService.getfinancialYearList()}getFinancialYearsNew(){return this.calenderService.getfinancialYearList().toPromise()}filterFinacialYearsitems(l,e){const n=l.findIndex(l=>1==l.isCurrentFY);let t=[];if(null==e||l[n].startUnix<=e)t.push({content:"FY "+l[n].start.split("-")[0]+"-"+l[n].end.split("-")[0],isCurrentFY:l[n].isCurrentFY,start:l[n].start,end:l[n].end,startUnix:l[n].startUnix,endUnix:l[n].endUnix,selected:!!l[n].isCurrentFY}),t.push({content:"FY "+l[n+1].start.split("-")[0]+"-"+l[n+1].end.split("-")[0],isCurrentFY:l[n+1].isCurrentFY,start:l[n+1].start,end:l[n+1].end,startUnix:l[n+1].startUnix,endUnix:l[n+1].endUnix,selected:!!l[n+1].isCurrentFY});else{const n=l.findIndex(l=>l.startUnix==e);t.push({content:"FY "+l[n].start.split("-")[0]+"-"+l[n].end.split("-")[0],isCurrentFY:l[n].isCurrentFY,start:l[n].start,end:l[n].end,startUnix:l[n].startUnix,endUnix:l[n].endUnix,selected:!1})}this.yearList=t}setSemiYearDate(l){l.forEach(l=>{})}setYearDate(l){const e=["January","February","March","April","May","June","July","August","September","October","November","December"];l.forEach(l=>{l.selected&&(this.yearItems[0].content="FY "+l.start.split("-")[0]+"-"+l.end.split("-")[0],this.yearItems[0].startDate=l.start,this.yearItems[0].endDate=l.end,this.kpiForm.patchValue({financialYear:l}),this.yearStartDate=l.startUnix,this.yearEndDate=l.endUnix,this.halfYearlyItems[0].content="("+e[new Date(l.start).getMonth()]+"-"+e[new Date(l.start).getMonth()+5]+")",this.halfYearlyItems[0].startDate=o(l.start,"YYYY-MM-DD").format("YYYY-MM-DD"),this.halfYearlyItems[0].endDate=o(l.start,"YYYY-MM-DD").add(5,"months").format("YYYY-MM-DD"),this.halfYearlyItems[1].content="("+e[new Date(l.start).getMonth()+6]+"-"+e[new Date(l.end).getMonth()]+")",this.halfYearlyItems[1].startDate=o(l.start,"YYYY-MM-DD").add(6,"months").format("YYYY-MM-DD"),this.halfYearlyItems[1].endDate=o(l.start,"YYYY-MM-DD").add(11,"months").format("YYYY-MM-DD"))})}setFinancialYear(l){return Object(t.__awaiter)(this,void 0,void 0,function*(){this.isNextYear=!l.item.isCurrentFY,-1==this.yearList.findIndex(e=>e.startUnix==l.item.startUnix&&e.selected)&&(yield this.getCalData(),this.parentList=null,setTimeout(()=>{this.parentList=[]},100),this.deploymentTreeConfig={orientation:null,connectorType:null,nodes:null},this.kpiForm.get("parent").setValue(null),this.yearList.forEach(e=>{e.selected=e.startUnix==l.item.startUnix}),this.setYearDate(this.yearList),this.getParent(!1))})}clearCaptureFreqAndReviewFreqInfo(){this.selectedCaptureType="",this.captureType="",this.filteredFrequencyItems=[],this.filteredReviewFrequencyItems=[],this.kpiForm.get("dataCaptureFrequency").setValue(null),this.kpiForm.get("reviewFrequency").setValue(null),this.clearcaptureData()}sourceEvent(l){this.source=l}fieldEvent(l){this.field=l}getOwner(l){this.owners=l}getGroup(l){this.groups=l}getViewer(l){this.viewers=l}setWeightage(l){this.weightage=l}getKPITypes(){return this.settingsService.getKpiTypes()}getCategory(){return this.settingsService.getCategories()}getShiftSettingsNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getShiftSettings().toPromise()})}getDepartments(){return this.settingsService.getDepartments()}getParent(l){return this.goalService.getmPcP(this.yearStartDate,this.yearEndDate).subscribe(e=>{e&&e.response&&(this.parentObj&&!this.extend&&(e.response||[]).findIndex(l=>l._id===this.parentObj._id)<0&&e.response.push(this.parentObj),this.parentList=e.response.map(({_id:l,title:e,dataCaptureFrequency:n,reviewFrequency:t,goalTag:i,unitOfMeasurement:a})=>({id:l,content:e,dataCaptureFrequency:n,reviewFrequency:t,goalTag:i,unitOfMeasurement:a})),this.parentList.forEach(e=>{e.content=e.goalTag+"-"+e.content,e.id==this.kpiForm.value.parent&&(this.selectedMPParentUoM=e.unitOfMeasurement,e.selected=!0,this.onParentSelected({item:e},l))}),this.kpiForm.value.perspective&&this.onParentSelected({item:{id:this.currentid}},l))})}getFileData(l){this.settingsService.getFiles(l).subscribe(l=>{l&&l&&(this.previousFileArray=l.response.map(({_id:l,fileName:e,fileURL:n})=>({id:l,name:e,url:n})),this.attachmentFile=this.previousFileArray[0])})}getGoalDetail(){this.isKPILoading=!0,this.goalService.getGoalDetails(this.currentid,this.extend).subscribe(l=>Object(t.__awaiter)(this,void 0,void 0,function*(){if(l&&l.success){const e=l.response;if(this.selectedKpi=e,this.isDraft=e.isDraft,this.primaryOwnerName=e.owners.individuals[0].firstname+" "+e.owners.individuals[0].lastname,this.editfinancialYearStart=e.financialYearStart,this.getFileData(l.response._id),this.extendedFromGoalId=l.response.id,e.targetFromForm){let l=e.targetFromForm,n=l.aggregationLogic;this.dataCaptureFrequencyAggrLogicItems.forEach(l=>{l.selected=l.value.toLowerCase()===n.toLowerCase()});let t=u.a.cloneDeep(this.dataCaptureFrequencyAggrLogicItems);this.dataCaptureFrequencyAggrLogicItems=[],setTimeout(()=>{this.dataCaptureFrequencyAggrLogicItems=t},600),this.aggregationLogic=n,l.target&&(this.useForStratefyTarget=!0,this.selectedStratifyFormId=l.target.formId,this.selectedStratifyTargetFieldId=l.target.formFieldId,this.targetFormQuery=l.target.formName,this.targetQuery=l.target.fieldName,this.targetFormFieldList=[],this.metricsService.getMetricFieldsForSelectedForm(this.selectedStratifyFormId).subscribe(l=>{l&&l.success&&l.response.forEach(l=>{this.targetFormFieldList.push({id:l.uuid,content:l.label})})},l=>{this.targetFormFieldList=[]})),l.lower&&l.upper&&(this.useForStratifyLowerUpper=!0,this.selectedStratifyLowerLimitFieldId=l.lower.formFieldId,this.lowerLimitQuery=l.lower.fieldName,this.selectedStratifyUpperLimitFieldId=l.upper.formFieldId,this.upperLimitQuery=l.upper.fieldName)}this.kpiForm.patchValue({title:e.title,pragmaticLimitValue:e.pragmaticLimitValue,goalId:e.goalId?e.goalId:"",targetYTDCustomFormula:e.targetYTDCustomFormula?e.targetYTDCustomFormula:void 0,actualYTDCustomFormula:e.actualYTDCustomFormula?e.actualYTDCustomFormula:void 0,KpiType:e.type,category:e.category,directionOfGoodness:"Up"===e.directionOfGoodness?"Higher the better":"Lower the better",ytdCalculation:this.getYTDCalculationValueFromKPI(e.ytdCalculation),weightage:e.weightage,annualTarget:e.annualTarget,lowerLimit:e.lowerLimit,upperLimit:e.upperLimit,dataCaptureFrequency:e.dataCaptureFrequency,kpiDescription:e.goalDescription,remark:e.remark,kpiFormula:e.kpiFormula,isActive:e.isActive,reviewFrequency:e.reviewFrequency,unitOfMeasurement:e.unitOfMeasurement,department:e.departmentId,parent:e.parentId,perspectivePrefix:e.perspectivePrefix,perspective:e.perspective,noParent:null==e.parentId,isDraft:e.isDraft?e.isDraft:void 0}),this.targetFinancialYear=o(e.fyStart).format("YYYY")+"-"+o(e.fyEnd).format("YYYY"),this.targetKpiTitle=e.title,this.actualYtd=e.ytdActual,this.targetYtd=e.ytdTarget,this.actionLimit=e.actionLimit,null==e.parentId&&(this.noParentKpi=!0);let n=this.perspectiveItems.map(l=>(l.id==this.kpiForm.value.perspective&&(l.selected=!0,l.content=l.perspectivePrefix+" ("+l.content+")",this.kpiForm.patchValue({perspective:l})),l.content=l.perspectivePrefix+" ("+l.content+")",l));this.perspectiveItems=u.a.cloneDeep(n),this.parentObj=e.parentObject,this.achievementLevelDataSource=e.source?e.source:void 0,this.isEditPermitted=e.isEditPermitted,this.editNotPermittedMessage=e.editNotPermittedMessage,this.selectedYTDValue=e.ytdCalculation,this.selectedYTDTargetFormulaId=e.targetYTDCustomFormula?e.targetYTDCustomFormula:void 0,this.selectedYTDActualFormulaId=e.actualYTDCustomFormula?e.actualYTDCustomFormula:void 0,e.targetYTDCustomFormula&&this.getCustomYtdFormulaRecord(e.targetYTDCustomFormula,0),e.actualYTDCustomFormula&&this.getCustomYtdFormulaRecord(e.actualYTDCustomFormula,1),this.ytdCalculation=[{content:"Sum",value:"SUM",selected:!1},{content:"Average",value:"AVG",selected:!1},{content:"Mean",value:"MEAN",selected:!1},{content:"Latest",value:"LATEST",selected:!1},{content:"Custom Formula",value:"FORMULA",selected:!1}],this.directionOfGoodness=[{content:"Higher the better",value:"Up",selected:!1},{content:"Lower the better",value:"Down",selected:!1}],this.directionOfGoodness.forEach(l=>{l.content.toUpperCase()==this.kpiForm.value.directionOfGoodness.toUpperCase()&&(l.selected=!0)}),this.ytdCalculation.forEach(l=>{l.selected=l.content===this.kpiForm.value.ytdCalculation}),this.weightage=this.kpiForm.value.weightage,this.getOwnersAndViewers(e),l.response.captureData&&l.response.captureData.forEach(l=>{l.disabled=!1});let t=l.response.captureData,i=u.a.cloneDeep(this.captureFrequencyItems);if(this.financialYearsResp&&this.financialYearsResp.response&&this.financialYearsResp.success){if(this.isAddMode)this.filterFinacialYearsitems(this.financialYearsResp.response,null);else{this.filterFinacialYearsitems(this.financialYearsResp.response,this.editfinancialYearStart),this.isPreviousYear=1==this.yearList.length,this.extend&&this.isPreviousYear&&this.filterFinacialYearsitems(this.financialYearsResp.response,null);for(let l=0;l<this.yearList.length;l++){let e=this.yearList[l];if(!this.extend&&this.isPreviousYear)e.isCurrentFY&&(e.selected=!1),e.startUnix===this.editfinancialYearStart&&(e.selected=!0,this.isNextYear=!e.isCurrentFY,e.isCurrentFY||(this.isNextYear=!this.isPreviousYear),yield this.getCalData());else{if(e.startUnix===this.editfinancialYearStart){e.selected=!0,this.isNextYear=!e.isCurrentFY,yield this.getCalData();break}this.selectedKpi.isDraft&&(e.selected=!1),this.selectedKpi.isDraft&&!1!==this.selectedKpi.isDraft||e.isCurrentFY&&(e.selected=!1,this.isNextYear=!e.isCurrentFY,this.extend&&(e.selected=!0,yield this.getCalData()))}}}this.setYearDate(this.yearList)}if(i.forEach(l=>{l.id==this.kpiForm.value.dataCaptureFrequency&&(l.selected=!0,this.captureType=l.content.toUpperCase(),this.selectedCaptureType=l.content.toUpperCase(),this.setEditedCard(t,this.captureType))}),this.filteredFrequencyItems=i,"SHIFT WISE"===this.captureType){let l=u.a.cloneDeep(this.shiftItems);this.shiftItems=[],l.forEach(l=>{l.content=l.shiftStart+"-"+l.shiftEnd,this.kpiForm.value.captureData.forEach(e=>{l.shiftNumber==e.name&&"SHIFT WISE"===this.captureType&&(l.selected=!0,this.selectedShifttem.push(e))})}),setTimeout(()=>{this.shiftItems=u.a.cloneDeep(l)},100)}let a=i.find(l=>l.selected).content.toUpperCase(),r=u.a.cloneDeep(this.reviewItems);(r=r.filter(l=>this.filterReviewItem(a,l.content.toUpperCase()))).forEach(l=>{l.id==this.kpiForm.value.reviewFrequency&&(l.selected=!0)}),this.filteredReviewFrequencyItems=r,this.combineFetchData(),this.setDateinCalender(t),this.weightageIetms=[];for(let l=1;l<=100;l++)this.weightageIetms.push(l==this.kpiForm.value.weightage?{content:l,selected:!0}:{content:l,selected:!1})}this.isKPILoading=!1}))}getYTDCalculationValueFromKPI(l){return"SUM"===l?"Sum":"AVG"===l?"Average":"LATEST"===l?"Latest":"FORMULA"===l?"Custom Formula":"MEAN"===l?"Mean":void 0}getPerspectives(){this.settingsService.getPerspectives().subscribe(l=>{l&&l.success&&(this.perspectiveItems=l.response.map(({perspective:l,_id:e,perspectivePrefix:n})=>({content:l,id:e,perspectivePrefix:n})),this.perspectiveItems.forEach(l=>{l.id==this.kpiForm.value.perspective&&(l.selected=!0),l.content=l.perspectivePrefix+" ("+l.content+")"}))})}getEditCaptureFreqNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getCapturefrequency().toPromise()})}combineFetchData(){Object(p.a)(this.getDepartments(),this.getCategory(),this.getKPITypes(),this.getUnitofMeasurement()).subscribe(l=>Object(t.__awaiter)(this,void 0,void 0,function*(){l[0]&&l[0].success&&(this.departmentList=l[0].response.map(({name:l,id:e})=>({content:l,id:e,selected:e==this.kpiForm.value.department}))),l[1]&&l[1].success&&(this.categoryItems=l[1].response.map(({_id:l,category:e})=>({id:l,content:e,selected:l==this.kpiForm.value.category}))),l[2]&&l[2].success&&(this.KpiItems=l[2].response.map(({_id:l,type:e})=>({id:l,content:e,selected:l==this.kpiForm.value.KpiType}))),l[3]&&l[3].success&&(this.unitOfMeasurementItems=l[3].response.map(({value:l,_id:e})=>({content:l,id:e,selected:e==this.kpiForm.value.unitOfMeasurement}))),this.getParent(!0),this.getHolidays()}))}setDateinCalender(l){"HOURLY"!==this.captureType&&"SHIFT WISE"!==this.captureType&&"DAILY"!==this.captureType||(this.dateRangevalue.push(new Date(l[0].startDate)),this.dateRangevalue.push(new Date(l[l.length-1].startDate)))}getCalenderData(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return Object(p.a)(this.getWeeks(),this.getMonthData(),this.getQuarterRangeData()).toPromise()})}getSelectAllArray(){return[{content:"Select All",selected:!1,isCurrentWeek:!1,name:0}]}getWeeks(){return this.weekNumberItems=[],this.settingsService.getWeeks(this.isNextYear)}getMonthData(){return this.monthlyItems=[],this.calenderService.getMonthRange(this.isNextYear)}getQuarterRangeData(){return this.QuaterlyItems=[],this.calenderService.getQuarterRange(this.isNextYear)}filterReviewItem(l,e){return"SHIFT WISE"===l?"HOURLY"!==e:"DAILY"===l?"SHIFT WISE"!==e&&"HOURLY"!==e:"WEEKLY"===l?"SHIFT WISE"!==e&&"DAILY"!==e&&"HOURLY"!==e:"MONTHLY"===l?"WEEKLY"!==e&&"SHIFT WISE"!==e&&"DAILY"!==e&&"HOURLY"!==e:"QUARTERLY"===l?"WEEKLY"!==e&&"MONTHLY"!==e&&"SHIFT WISE"!==e&&"DAILY"!==e&&"HOURLY"!==e:"HALF YEARLY"===l?"WEEKLY"!==e&&"MONTHLY"!==e&&"SHIFT WISE"!==e&&"DAILY"!==e&&"QUARTERLY"!==e&&"HOURLY"!==e:"YEARLY"!==l||"YEARLY"===e}setDefaultWeek(){let l=[];const e=this.weekNumberItems.find(l=>l.isCurrentWeek);l.push(e),this.setCard(l)}setreviewFrequency(l,e){let n=u.a.cloneDeep(this.reviewItems);n=n.filter(e=>this.filterReviewItem(l,e.content.toUpperCase())),this.filteredReviewFrequencyItems=n,this.filteredReviewFrequencyItems.forEach(l=>{l.selected=l.id===this.kpiForm.value.reviewFrequency.id})}setFetchedCards(l){"MONTHLY"===l?this.monthlyItems=this.monthlyItems.map(l=>(l.selected=!1,l)):"WEEKLY"===l?this.weeklyItems=this.weeklyItems.map(l=>(l.selected=!1,l)):"QUARTERLY"===l?this.QuaterlyItems=this.QuaterlyItems.map(l=>(l.selected=!1,l)):"HALF YEARLY"===l?this.halfYearlyItems=this.halfYearlyItems.map(l=>(l.selected=!1,l)):"YEARLY"===l&&(this.yearItems=this.yearItems.map(l=>(l.selected=!1,l)))}resetDatecalender(){this.dailyItems=[],this.dateRangevalue=[],this.prevValue=0,this.nextValue=7,this.selectedShifttem=[],this.dateArrayDiff=[]}selectEditedShiftItem(){this.shiftItems.forEach(l=>{l.selected&&this.selectedShifttem.push(l)})}onYTDChange(l){this.selectedYTDValue=l.item.value,"FORMULA"!==this.selectedYTDValue&&(this.selectedYTDTargetFormulaId="",this.selectedYTDActualFormulaId="")}onClickcapture(l){this.captureType=l.item.content.toUpperCase(),"HOURLY"===this.captureType.toUpperCase()||"DAILY"===this.captureType.toUpperCase()||"SHIFT WISE"===this.captureType.toUpperCase()||"WEEKLY"===this.captureType.toUpperCase()?(this.actionLimit="MANUAL",this.disablePragmaticRadioOption=!0):(this.actionLimit="PRAGMATIC",this.disablePragmaticRadioOption=!1),this.kpiForm.patchValue({checkbox:!1}),this.kpiForm.get("reviewFrequency").setValue(null),this.noParentKpi?(this.resetDatecalender(),this.setreviewFrequency(l.item.content.toUpperCase()),"HOURLY"===l.item.content.toUpperCase()||"DAILY"===l.item.content.toUpperCase()?this.clearcaptureData():"SHIFT WISE"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.shiftWiseItems,this.isAddMode||this.selectEditedShiftItem()):"WEEKLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.isAddMode&&this.setDefaultWeek(),this.cards=this.weeklyItems):"MONTHLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.monthlyItems):"QUARTERLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.setCard(this.QuaterlyItems)):"HALF YEARLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.setCard(this.halfYearlyItems)):(this.clearcaptureData(),this.setCard(this.yearItems)),this.setFetchedCards(l.item.content.toUpperCase())):(this.resetDatecalender(),this.setreviewFrequency(l.item.content.toUpperCase()),"HOURLY"===l.item.content.toUpperCase()||"DAILY"===l.item.content.toUpperCase()?this.clearcaptureData():"SHIFT WISE"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.shiftWiseItems,this.isAddMode||this.selectEditedShiftItem()):"WEEKLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.weeklyItems):"MONTHLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.cards=this.monthlyItems):"QUARTERLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.setCard(this.QuaterlyItems)):"HALF YEARLY"===l.item.content.toUpperCase()?(this.clearcaptureData(),this.setCard(this.halfYearlyItems)):(this.clearcaptureData(),this.setCard(this.yearItems)),this.isAddMode||this.setFetchedCards(l.item.content.toUpperCase()))}valueDateChange(l){this.dailyItems=[],this.clearcaptureData();let e=this.enumerateDaysBetweenDates(l[0],l[1]);this.dateArrayDiff=e,0!=e.length?e.forEach((l,e)=>{"SHIFT WISE"===this.captureType?this.selectedShifttem.forEach((e,n)=>{let t=new Date(l),i=new Date(l),a=new Date(l),u=new Date(l);this.dailyItems.push({name:e.shiftNumber,selected:!1,target:"",lower:"",upper:"",startDate:t.setHours(e.shiftStart.includes("AM")?12==parseInt(e.shiftStart.split(" ")[0])?0:parseInt(e.shiftStart.split(" ")[0]):12+parseInt(e.shiftStart.split(" ")[0])),endDate:i.setHours(e.shiftEnd.includes("AM")?12==parseInt(e.shiftEnd.split(" ")[0])?24:parseInt(e.shiftEnd.split(" ")[0]):12+parseInt(e.shiftEnd.split(" ")[0])),content:Object(c.formatDate)(a.setHours(e.shiftStart.includes("AM")?12==parseInt(e.shiftStart.split(" ")[0])?0:parseInt(e.shiftStart.split(" ")[0]):12+parseInt(e.shiftStart.split(" ")[0])),"MMM d, y, h:mm a","en-us")+" - "+Object(c.formatDate)(u.setHours(e.shiftEnd.includes("AM")?12==parseInt(e.shiftEnd.split(" ")[0])?24:parseInt(e.shiftEnd.split(" ")[0]):12+parseInt(e.shiftEnd.split(" ")[0])),"MMM d, y, h:mm a","en-us")})}):"HOURLY"===this.captureType?this.hourlyShifttem.forEach((e,n)=>{this.dailyItems.push({name:e.name,selected:!1,target:"",lower:"",upper:"",startDate:u.a.cloneDeep(l).setHours(e.startDate.includes("AM")?parseInt(e.startDate.split("AM")[0]):12+parseInt(e.startDate.split("PM")[0])),endDate:u.a.cloneDeep(l).setHours(e.endDate.includes("AM")?parseInt(e.endDate.split("AM")[0]):12+parseInt(e.endDate.split("PM")[0])),content:Object(c.formatDate)(u.a.cloneDeep(l).setHours(e.startDate.includes("AM")?parseInt(e.startDate.split("AM")[0]):12+parseInt(e.startDate.split("PM")[0])),"MMM d, y, h:mm a","en-us")+" - "+Object(c.formatDate)(u.a.cloneDeep(l).setHours(e.endDate.includes("AM")?0==parseInt(e.endDate.split("AM")[0])?24:parseInt(e.endDate.split("AM")[0]):12+parseInt(e.endDate.split("PM")[0])),"MMM d, y, h:mm a","en-us")})}):this.dailyItems.push({name:e+1,selected:!1,target:"",lower:"",upper:"",startDate:Object(c.formatDate)(l,"MMM d, y","en-US"),endDate:Object(c.formatDate)(l,"MMM d, y","en-US"),content:Object(c.formatDate)(l,"MMM d, y","en-US")})}):this.dailyItems.push({name:"1",selected:!1,target:"",lower:"",upper:"",startDate:Object(c.formatDate)(l[0],"MMM d, y","en-US"),endDate:Object(c.formatDate)(l[0],"MMM d, y","en-US"),content:Object(c.formatDate)(l[0],"MMM d, y","en-US")}),this.setCard(this.dailyItems)}enumerateDaysBetweenDates(l,e){var n=[],t=o(l).startOf("day"),i=null!=e?o(e).startOf("day"):o(l).startOf("day");for(n.push(t.clone().toDate());t.add(1,"days").diff(i)<=0;)n.push(t.clone().toDate());return n}clearcaptureData(){for(this.captureData=this.kpiForm.get("captureData");this.captureData.length>0;)this.captureData.removeAt(0);this.kpiForm.patchValue({captureData:this.captureData.value}),this.captureDataMap.clear()}onGoalSelection(l){this.selectedCard=l.value}onCloseCard(l){l.value.target=0,l.value.lower=0,l.value.upper=0,l.patchValue({disabled:!l.value.disabled,target:0,upper:0,lower:0})}onPreviousClick(){0!=this.prevValue&&this.filterArray(this.kpiForm.get("captureData").controls,this.selectedMonthStart,this.selectedMonthEnd,this.captureType).length>7&&(this.prevValue=this.prevValue-7,this.nextValue=this.nextValue-7)}onNextClick(){0!=this.nextValue&&this.nextValue<this.filterArray(this.kpiForm.get("captureData").controls,this.selectedMonthStart,this.selectedMonthEnd,this.captureType).length&&this.filterArray(this.kpiForm.get("captureData").controls,this.selectedMonthStart,this.selectedMonthEnd,this.captureType).length>7&&(this.prevValue=this.prevValue+7,this.nextValue=this.nextValue+7)}setSelectedOptions(l,e,n){if(n)for(let t=0;t<(e||[]).length;t++)e[t].selected=!0;else for(let t=0;t<(e||[]).length;t++){let n=e[t],i=l.findIndex(l=>l.content===n.content)>-1;n.selected=!!i}}onClickWeekNumber(l){if(0==l.length)this.weekNumberItems.forEach(l=>{l.selected=!1}),this.clearcaptureData();else{let e=!1;this.setSelectedOptions(l,this.weekNumberItems,e=!(this.weekNumberItems[0].selected||"Select All"!==l[0].content||!l[0].selected));let n=this.weekNumberItems.slice(1).every(l=>l.selected);this.weekNumberItems[0].selected=!!n;let t=u.a.cloneDeep(this.weekNumberItems);if(this.weekNumberItems=[],this.weekNumberItems=t,n||e)this.setCard(this.weekNumberItems.slice(1));else{let e=[];e=l.findIndex(l=>0==l.name)>-1?l.slice(1):l,this.setCard(e)}}}onClickMonth(l){if(0==l.length)this.monthlyItems.forEach(l=>{l.selected=!1}),this.clearcaptureData();else{let e=!1;this.setSelectedOptions(l,this.monthlyItems,e=!(this.monthlyItems[0].selected||"Select All"!==l[0].content||!l[0].selected));let n=this.monthlyItems.slice(1).every(l=>l.selected);this.monthlyItems[0].selected=!!n;let t=u.a.cloneDeep(this.monthlyItems);if(this.monthlyItems=[],this.monthlyItems=t,n||e)this.setCard(this.monthlyItems.slice(1));else{let e=[];e=l.findIndex(l=>0==l.name)>-1?l.slice(1):l,this.setCard(e)}}}changeshiftCard(){this.dateArrayDiff=this.enumerateDaysBetweenDates(this.dailyItems[0].startDate,this.dailyItems[this.dailyItems.length-1].startDate);let l=this.dailyItems;this.dailyItems=[],this.clearcaptureData(),this.dateArrayDiff.forEach((l,e)=>{this.selectedShifttem.forEach((e,n)=>{let t=new Date(l),i=new Date(l),a=new Date(l),u=new Date(l);this.dailyItems.push({name:e.shiftNumber,selected:!1,target:"",lower:"",upper:"",startDate:t.setHours(e.shiftStart.includes("AM")?12==parseInt(e.shiftStart.split(" ")[0])?0:parseInt(e.shiftStart.split(" ")[0]):12+parseInt(e.shiftStart.split(" ")[0])),endDate:i.setHours(e.shiftEnd.includes("AM")?12==parseInt(e.shiftEnd.split(" ")[0])?24:parseInt(e.shiftEnd.split(" ")[0]):12+parseInt(e.shiftEnd.split(" ")[0])),content:Object(c.formatDate)(a.setHours(e.shiftStart.includes("AM")?12==parseInt(e.shiftStart.split(" ")[0])?0:parseInt(e.shiftStart.split(" ")[0]):12+parseInt(e.shiftStart.split(" ")[0])),"MMM d, y, h:mm a","en-us")+" - "+Object(c.formatDate)(u.setHours(e.shiftEnd.includes("AM")?12==parseInt(e.shiftEnd.split(" ")[0])?24:parseInt(e.shiftEnd.split(" ")[0]):12+parseInt(e.shiftEnd.split(" ")[0])),"MMM d, y, h:mm a","en-us")})})}),this.setExistingValues(this.dailyItems,l),this.setCard(this.dailyItems)}setExistingValues(l,e){l.forEach(l=>{const n=e.find(e=>new Date(e.startDate).getTime()===l.startDate);n&&(l.target=n.target,l.lower=n.lower,l.upper=n.upper)})}onClickShiftItems(l){this.selectedShifttem=l&&l.item?[l.item]:[],this.changeshiftCard()}sortItems(l){l.sort("HOURLY"===this.captureType||"SHIFT WISE"===this.captureType?(l,e)=>l.startDate-e.startDate:(l,e)=>l.name-e.name),this.kpiForm.patchValue({captureData:l})}setCard(l){this.captureData=this.kpiForm.get("captureData"),this.captureData.value.forEach(l=>{this.captureDataMap.set(l.name,l)}),this.kpiForm.setControl("captureData",this.captureData),l.forEach((l,e)=>{if(!this.captureDataMap.has(l.name)){const n=l.weekStartDate?l.weekStartDate:l.startDate,t=l.weekEndDate?l.weekEndDate:l.endDate,i="WEEKLY"!=this.captureType.toUpperCase()||l.content.toString().includes("Week")?l.content:this.getWeekContent(l.content,l.weekStartDate,l.weekEndDate);"SHIFT WISE"===this.captureType?this.captureData.push(this.createItem(l.target,l.lower,l.upper,l.upperPercent,l.lowerPercent,n,t,i,l.name,!1,e)):"HOURLY"===this.captureType?(this.captureData.controls.push(this.formBuilder.group({target:null,upper:null,lower:null,upperPercent:null,lowerPercent:null,startDate:n,endDate:t,content:i,name:l.name,disabled:!1,selected:!1,index:e})),this.captureData.value.push({target:null,upper:null,lower:null,upperPercent:null,lowerPercent:null,startDate:n,endDate:t,content:i,name:l.name,disabled:!1,selected:!1,index:e})):this.captureData.push(this.createItem(null,null,null,null,null,n,t,i,l.name,!1,e))}}),"WEEKLY"!==this.captureType&&"MONTHLY"!==this.captureType||this.updatecaptureDataMap(l),this.setHolidays(),this.sortItems(this.captureData.value)}updatecaptureDataMap(l){this.captureDataMap.clear(),l.forEach(l=>{this.captureDataMap.set(l.name,l)});const e=[];this.captureData.value.forEach(l=>{this.captureDataMap.has(l.name)||e.push(l.name)}),e.forEach(l=>{const e=this.captureData.value.findIndex(e=>e.name==l);this.captureData.removeAt(e)})}markEditedMarkselected(l,e){l.forEach(l=>{l.name===e.indicator&&(l.selected=!0)})}formatDate(l){var e=l.getDate(),n=l.getMonth(),t=l.getFullYear();return e+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+t}setEditedCard(l,e){this.captureData=this.kpiForm.get("captureData"),this.captureData.value.forEach(l=>{this.captureDataMap.set(l.name,l)}),"WEEKLY"===e&&52==l.length&&(this.weekNumberItems[0].selected=!0),"MONTHLY"===e&&12==l.length&&(this.monthlyItems[0].selected=!0),this.kpiForm.setControl("captureData",this.captureData),l.forEach((n,t)=>{if(!this.captureDataMap.has(n.indicator)){let i=this.yearList.find(l=>!0===l.selected);for(;n.startDate<i.startUnix&&n.endDate<i.endUnix;)n.weekStartDate?(n.weekStartDate=1e3*o(n.weekStartDate).add(1,"years").unix(),n.weekEndDate=1e3*o(n.weekEndDate).add(1,"years").unix()-1):(n.startDate=1e3*o(n.startDate).add(1,"years").unix(),n.endDate=1e3*o(n.endDate).add(1,"years").unix()-1);let a=this.formatDate(n.weekStartDate?new Date(n.weekStartDate):new Date(n.startDate)),u=this.formatDate(n.weekEndDate?new Date(n.weekEndDate):new Date(n.endDate));"SHIFT WISE"!==e&&"HOURLY"!==e||(a=n.startDate,u=n.endDate);let r="";"YEARLY"===e?(this.markEditedMarkselected(this.yearItems,n),r=this.yearItems.find(l=>l.name===parseInt(n.indicator)).content):"WEEKLY"===e?(this.markEditedMarkselected(this.weekNumberItems,n),r=this.weekNumberItems.find(l=>l.name===n.indicator).content):"MONTHLY"===e?(this.markEditedMarkselected(this.monthlyItems,n),r=this.monthlyItems.find(l=>l.name===n.indicator).content):"QUARTERLY"===e?(this.markEditedMarkselected(this.QuaterlyItems,n),r=this.QuaterlyItems.find(l=>l.name===n.indicator).content):"HALF YEARLY"===e?(this.markEditedMarkselected(this.halfYearlyItems,n),r=this.halfYearlyItems.find(l=>l.name===n.indicator).content):"DAILY"===e?(r=this.formatDate(new Date(n.startDate)),n.startDate=this.formatDate(new Date(n.startDate)),n.endDate=this.formatDate(new Date(n.endDate)),0==t&&t==l.length-1&&this.dateRangevalue.push(Object(c.formatDate)(n.startDate,"MMM d, y","en-US")),this.dailyItems.push(n)):(r=Object(c.formatDate)(new Date(n.startDate),"MMM d, y, h:mm a","en-us")+"-"+Object(c.formatDate)(new Date(n.endDate),"MMM d, y, h:mm a","en-us"),n.startDate=Object(c.formatDate)(new Date(n.startDate),"MMM d, y, h:mm a","en-us"),n.endDate=Object(c.formatDate)(new Date(n.endDate),"MMM d, y, h:mm a","en-us"),this.dailyItems.push(n)),"HOURLY"===e?(this.captureData.controls.push(this.formBuilder.group({target:n.target,upper:n.lower,lower:n.upper,upperPercent:n.upperPercent,lowerPercent:n.lowerPercent,startDate:a,endDate:u,content:r,name:parseInt(n.indicator),disabled:n.disabled,selected:!1,index:t})),this.captureData.value.push({target:n.target,upper:n.lower,lower:n.upper,upperPercent:n.upperPercent,lowerPercent:n.lowerPercent,startDate:a,endDate:u,content:r,name:parseInt(n.indicator),disabled:n.disabled,selected:!1,index:t})):this.captureData.push(this.createItem(n.target,n.lower,n.upper,n.upperPercent,n.lowerPercent,a,u,r,parseInt(n.indicator),n.disabled,t))}}),this.sortItems(this.captureData.value)}onClickReview(l){}getUnitofMeasurement(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getunitofMsrmnt().toPromise()})}createForm(){this.kpiForm=this.formBuilder.group({title:["",[i.A.required]],goalId:[""],pragmaticLimitValue:["",[i.A.min(1)]],targetYTDCustomFormula:[""],actualYTDCustomFormula:[""],department:["",[i.A.required]],isTypeKPI:[""],directionOfGoodness:["",[i.A.required]],ytdCalculation:["",[i.A.required]],weightage:[""],annualTarget:[""],lowerLimit:[""],upperLimit:[""],captureData:this.formBuilder.array([]),unitOfMeasurement:["",[i.A.required]],reviewFrequency:["",[i.A.required]],dataCaptureFrequency:["",[i.A.required]],kpiDescription:["",[i.A.required]],remark:[""],kpiFormula:[""],isActive:[""],KpiType:["",[i.A.required]],category:["",[i.A.required]],parent:[""],checkbox:[!1],perspective:[""],noParent:[!1]})}createItem(l,e,n,t,a,u,o,r,s,c,p){return this.formBuilder.group({target:[l,[i.A.pattern(d.a.numberWithNegativeRegex)]],upper:[n,[i.A.pattern(d.a.numberWithNegativeRegex)]],lower:[e,[i.A.pattern(d.a.numberWithNegativeRegex)]],upperPercent:[t],lowerPercent:[a],startDate:[u],endDate:[o],content:[r],name:[s],disabled:[!!c],selected:[!1],index:p})}openConfirmationModal(l){this.confirmationService.setData(!1);let e=this.confirmationService.getData().subscribe(n=>{n&&(this.isKPILoading=!0,l._id=this.currentid,l.isApproved=!1,this.goalService.updateGoal(l,this.isDraft).subscribe(n=>{n&&n.success&&(this._toastrService.success("KPI updated successfully."),this.previousFileArray.length>0&&null!=this.previousFileArray[0].id?this.deleteFile(this.previousFileArray[0],this.currentid):null!=this.attachmentFile&&this.uploadFile(this.attachmentFile,this.currentid),this.closeModal(l)),e.unsubscribe(),this.isKPILoading=!1},l=>{e.unsubscribe(),l.error.message&&l.error.message.details&&l.error.message.details.length&&-1!==l.error.message.details[0].message.indexOf("weightage")?this._toastrService.error("No Bandwidth available for the user, Please contact supervisor"):this._toastrService.error("Something went wrong, Please  contact your admin"),this.isKPILoading=!1}),this.confirmationService.setData(!1))});this.modalService.create({component:r.a,inputs:{modalText:"Are you sure you want to edit this KPI?"}})}onSubmit(){if(this.parentObj&&!this.extend&&!this.isDraft&&(!this.parentObj.isApproved||!this.parentObj.isActive))return void this._toastrService.error("This KPI cannot be edited. It seems Parent KPI / MP may be not approved or is inactive.");let l=null;if(!this.validateStartifyTarget())return;if(l={aggregationLogic:this.aggregationLogic},this.useForStratefyTarget&&(l=Object.assign(l,{target:{formId:this.selectedStratifyFormId,formFieldId:this.selectedStratifyTargetFieldId}})),"FORMULA"===this.selectedYTDValue){if(!this.selectedYTDTargetFormulaId)return void this._toastrService.error("Please select YTD Target Formula");if(!this.selectedYTDActualFormulaId)return void this._toastrService.error("Please select YTD Actuals Formula")}this.useForStratifyLowerUpper&&(l=Object.assign(l,{lower:{type:"FORM",formId:this.selectedStratifyFormId,formFieldId:this.selectedStratifyLowerLimitFieldId}},{upper:{type:"FORM",formId:this.selectedStratifyFormId,formFieldId:this.selectedStratifyUpperLimitFieldId}})),this.isSubmitClicked=!0;const{title:e,pragmaticLimitValue:n,goalId:t,kpiDescription:i,remark:a}=this.kpiForm.value;if(!this.kpiForm.value.dataCaptureFrequency)return void this._toastrService.error("Please select data capture frequency.");if(!this.kpiForm.value.reviewFrequency)return void this._toastrService.error("Please select data review frequency.");const u=this.kpiForm.value.dataCaptureFrequency.id,r=this.kpiForm.value.reviewFrequency.id,d=this.kpiForm.value.unitOfMeasurement.id,c=this.kpiForm.value.directionOfGoodness.value,p=this.kpiForm.value.ytdCalculation.value,m=this.weightage,g=this.kpiForm.value.KpiType.id,h=this.kpiForm.value.category.id,f=this.kpiForm.value.department.id,v=this.noParentKpi?this.kpiForm.value.perspective.id:null,b=this.kpiForm.value.perspectivePrefix,C=this.noParentKpi?null:this.kpiForm.value.parent.id,y=1e3*o(this.yearList.filter(l=>l.selected)[0].start,"YYYY-MM-DDT00:00:00").unix(),x=1e3*o(this.yearList.filter(l=>l.selected)[0].end+"T23:59:59","YYYY-MM-DDTHH:mm:ss").unix();let w=this.kpiForm.value.captureData.map(({target:l,lower:e,upper:n,startDate:t,endDate:i,name:a,disabled:u,upperPercent:o,lowerPercent:r})=>({target:l,lower:e,upper:n,startDate:t,endDate:i,indicator:a,disabled:u,upperPercent:o,lowerPercent:r}));w.forEach(l=>{l.target=l.target?parseFloat(l.target):0,l.upper=l.upper?parseFloat(l.upper):0,l.lower=l.lower?parseFloat(l.lower):0,l.upperPercent?(l.upperValueType="PERCENT",l.upperPercent=parseFloat(l.upperPercent)):(l.upperValueType="ABSOLUTE",delete l.upperPercent),l.lowerPercent?(l.lowerValueType=l.lowerPercent?"PERCENT":"ABSOLUTE",l.lowerPercent=parseFloat(l.lowerPercent)):(l.lowerValueType="ABSOLUTE",delete l.lowerPercent);let e=null,n=null;"Weekly"===this.kpiForm.value.dataCaptureFrequency.content||"Monthly"===this.kpiForm.value.dataCaptureFrequency.content||"Quarterly"===this.kpiForm.value.dataCaptureFrequency.content||"Half Yearly"===this.kpiForm.value.dataCaptureFrequency.content||"Yearly"===this.kpiForm.value.dataCaptureFrequency.content?(e=o(l.startDate).format("YYYY-MM-DDT00:00:00"),n=o(l.endDate).format("YYYY-MM-DDT23:59:59")):"Daily"===this.kpiForm.value.dataCaptureFrequency.content?(e=o(l.startDate).format("YYYY-MM-DDT00:00:00"),n=o(l.endDate).format("YYYY-MM-DDT23:59:59")):(e=o(l.startDate).format("YYYY-MM-DDTHH:mm:ss"),n=o(l.endDate).format("YYYY-MM-DDTHH:mm:ss")),l.startDate=e,l.endDate=n});const I={individuals:this.owners.map(({employeeId:l,isPrimary:e})=>({employeeId:l,isPrimary:e}))},D=I.individuals.findIndex(l=>l.isPrimary);this.viewers=this.viewers.filter(l=>""!=l.employeeId&&l.employeeId&&null!=l.employeeId);const T={individuals:this.viewers.map(({employeeId:l})=>({employeeId:l})),groups:this.groups.map(({groupId:l})=>({groupId:l}))};let M;void 0!==this.source&&this.source.item&&null!==this.source.item.content&&(M=this.source.item.content);let P={title:e,targetYTDCustomFormula:this.selectedYTDTargetFormulaId||void 0,actualYTDCustomFormula:this.selectedYTDActualFormulaId||void 0,category:h,actionLimit:this.actionLimit,pragmaticLimitValue:"PRAGMATIC"===this.actionLimit?n:void 0,isTypeKPI:!0,source:M,type:g,departmentId:f,parentId:C,directionOfGoodness:c,ytdCalculation:p,weightage:m,captureData:w,unitOfMeasurement:d,reviewFrequency:r,dataCaptureFrequency:u,goalDescription:i,remark:a,goalFormula:null,isActive:!0,owners:I,viewers:T,financialYearStart:y,financialYearEnd:x,perspective:v,perspectivePrefix:b};l&&this.aggregationLogic&&(P.targetFromForm=l),P.source=this.achievementLevelDataSource&&this.achievementLevelDataSource.type&&this.achievementLevelDataSource.id?this.achievementLevelDataSource:void 0,t.trim().length&&(P.goalId=t),this.achievementLevelDataSource&&this.achievementLevelDataSource.type&&!this.achievementLevelDataSource.id?this._toastrService.error("Please select data source correctly"):this.achievementLevelDataSource&&this.achievementLevelDataSource.type&&this.achievementLevelDataSource.filterId&&!this.achievementLevelDataSource.id?this._toastrService.error("Please select data source correctly"):null==this.dataSourceUoM||this.dataSourceUoM==this.kpiForm.value.unitOfMeasurement.id?"PRAGMATIC"!==this.actionLimit||n?this.kpiForm.valid&&this.owners.length>0&&-1!=D&&w.length>0&&null!=m?this.isAddMode||this.extend?(this.isKPILoading=!0,this.extend&&(P.extendedFromGoalId=this.extendedFromGoalId),this.goalService.addGoal(P).subscribe(l=>{l&&l.success&&(this._toastrService.success("KPI added successfully."),null!=this.attachmentFile&&this.uploadFile(this.attachmentFile,l.response._id),this.closeModal()),this.isKPILoading=!1},l=>{let e=l.error.message;e.details&&-1!==e.details[0].message.indexOf("weightage")?this._toastrService.error("No Bandwidth available for the user, Please contact supervisor"):this._toastrService.error(e||"Something went wrong, Please  contact your admin"),this.isKPILoading=!1})):this.isPreviousYear?this._toastrService.error("You cannot edit previous years data, Please contact your admin"):this.openConfirmationModal(P):this._toastrService.error(-1==D?"Atleast one owner should be primary, kindly verify":null==m?"Weightage for primary owner is not selected, kindly verify":"Some required fields missing, kindly verify"):this._toastrService.error("Please enter value for pragmatic limit"):this._toastrService.warning(s.a.KPI_UOM_FORM_FIELD_UOM_NOT_MATCHING)}getOwnersAndViewers(l){l.owners&&l.owners.individuals&&l.owners.individuals.length&&(this.owners=l.owners.individuals.map((l,e)=>(l.userName=l.firstname+" "+l.lastname,l)),this.owners=this.owners.filter(l=>""!=l.userName&&" "!=l.userName)),this.owners.length||(this.owners=[{employeeId:"",isPrimary:!1,userName:"",departmentName:""}]),l.viewers&&l.viewers.individuals&&l.viewers.individuals.length&&(this.viewers=l.viewers.individuals.map((l,e)=>(l.userName=l.firstname+" "+l.lastname,l)),this.viewers=this.viewers.filter(l=>""!=l.userName&&" "!=l.userName)),l.viewers&&l.viewers.groups&&l.viewers.groups.length&&(this.groups=l.viewers.groups.map((l,e)=>(l.groupName=l.name,l)))}onAttachmentChange(l){this.attachmentFile=l.target.files[0]||null}deleteFile(l,e){this.settingsService.deleteFile({id:l.id}).subscribe(l=>{l&&l.success&&this.uploadFile(this.attachmentFile,e)})}uploadFile(l,e){this.settingsService.uploadFile({file:l,parentId:e}).subscribe(l=>{l&&l.success&&this.getFileData(e)})}onFileSelect(l){this.inputRemarkAttachment.nativeElement.click()}onParentSelected(l,e){const n=l.item;l.item.dataCaptureFrequency&&this.getFilteredCaptureFrequency(l.item.dataCaptureFrequency),this.formChildParentForSelected(n)}getFilteredCaptureFrequency(l){this.filteredFrequencyItems=[];const e=this.captureFrequencyItems.findIndex(e=>e.id===l);this.filteredFrequencyItems=this.captureFrequencyItems.filter(l=>l.order<=this.captureFrequencyItems[e].order),this.filteredFrequencyItems.forEach(l=>{l.selected=l.id===this.kpiForm.value.dataCaptureFrequency.id}),this.setreviewFrequency(this.captureFrequencyItems[e].content.toUpperCase())}formChildParentForSelected(l){this.kpiService.getDeployementTree(l.id).subscribe(l=>{if(l&&l.success){let e=l.response.deploymentTree[0];this.noParentKpi?e={text:{name:"Adding KPI here",content:""},HTMLclass:"adding-here"}:(this.sanitize(e),this.sanitizeData(e),(this.isAddMode||this.extend)&&e.children.push({text:{name:"Adding KPI here",content:""},HTMLclass:"adding-here"}),e.children.children&&e.children.children.length&&(e.children.children=[])),e.HTMLclass="mp-node",this.deploymentTreeConfig={connectorType:"step",orientation:"WEST",nodes:e}}},l=>{if(!this.isAddMode){const l=[];let e={title:this.kpiForm.controls.title.value,primaryOwnerName:this.primaryOwnerName};l.HTMLclass="mp-node",l.text=e,this.deploymentTreeConfig={connectorType:"step",orientation:"WEST",nodes:l}}})}sanitize(l){l&&l.text&&(l.text.parentId||delete l.text.parentId)}sanitizeData(l){l&&l.text&&(this.isAddMode||this.currentid!==l.text.id||this.extend||(l.HTMLclass="adding-here"),l.text={vcs:l.text.vcs,title:l.text.title,primaryOwnerName:l.text.primaryOwnerName});for(let e=0;e<l.children.length;e++)this.sanitizeData(l.children[e])}updateAchievementLevelDataSource(l){this.achievementLevelDataSource=l.dataSource,this.dataSourceUoM=l.uom,null!=this.dataSourceUoM&&this.dataSourceUoM!=this.kpiForm.value.unitOfMeasurement.id&&null!=this.kpiForm.value.unitOfMeasurement.id&&this._toastrService.warning(s.a.KPI_UOM_FORM_FIELD_UOM_NOT_MATCHING)}onUoMChange(l){this.noParentKpi||null==this.selectedMPParentUoM||this.selectedMPParentUoM==l.item.id?null!=this.dataSourceUoM&&this.dataSourceUoM!=l.item.id&&this._toastrService.warning(s.a.KPI_UOM_FORM_FIELD_UOM_NOT_MATCHING):this._toastrService.warning(s.a.KPI_UOM_PARENT_UOM_NOT_MATCHING)}onChangeTargetFormula(l){this.getMetrics(l,"YTD_CUSTOM","100","0",0),this.ytdTargetSearch=l,this.kpiForm.value.targetYTDCustomFormula="",this.selectedYTDTargetFormulaId=""}onChangeActualFormula(l){this.ytdActualFormulaList=this.getMetrics(l,"YTD_CUSTOM","100","0",1),this.ytdActualSearch=l,this.kpiForm.value.actualYTDCustomFormula="",this.selectedYTDActualFormulaId=""}onOpenInternal(l){}getMetrics(l,e,n,t,i){this.metricsService.getMetricsListForKPI(l,e,n,t).subscribe(l=>{l&&l.success&&(0==i?this.ytdTargetFormulaList=l.response.metrics.map(({name:l,_id:e})=>({content:l,_id:e})):this.ytdActualFormulaList=l.response.metrics.map(({name:l,_id:e})=>({content:l,_id:e})))},l=>{console.log(l)})}selectedTargetOption(l){this.kpiForm.value.targetYTDCustomFormula=l._id,this.selectedYTDTargetFormulaId=l._id}selectedActualOption(l){this.kpiForm.value.actualYTDCustomFormula=l._id,this.selectedYTDActualFormulaId=l._id}getCustomYtdFormulaRecord(l,e){this.metricsService.getMetricRecord(l).subscribe(l=>{l&&l.success&&(0==e?this.ytdTargetSearch=l.response.name:this.ytdActualSearch=l.response.name)},l=>{})}onChangeParent(l){if(this.noParentKpi=l.checked,this.noParentKpi){let l={text:{name:"Adding KPI here",content:""},HTMLclass:"adding-here"};l.HTMLclass="mp-node",this.deploymentTreeConfig={connectorType:"step",orientation:"WEST",nodes:l}}else this.kpiForm.value.parent.id=null;this.internalQuery=""}getperspectivesNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getPerspectives().toPromise()})}onPerspectiveSelected(l){}getCaptureFreqNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getCapturefrequency().toPromise()})}setreviewFrequencyFornNoParentKpi(l){this.filteredReviewFrequencyItems=this.reviewItemsBackUp.filter(e=>!("HOURLY"===e.content.toUpperCase()||"SHIFT WISE"===e.content.toUpperCase()||"DAILY"===e.content.toUpperCase())&&this.filterReviewItemForPerspective(l,e.content.toUpperCase()))}getcaptureFrequencyForPerspective(){this.filteredFrequencyItems=this.captureFrequencyItems.filter(l=>!("HOURLY"===l.content.toUpperCase()||"SHIFT WISE"===l.content.toUpperCase()||"DAILY"===l.content.toUpperCase())),this.filteredFrequencyItems.forEach(l=>{l.id==this.kpiForm.value.dataCaptureFrequency&&(l.selected=!0,this.captureType=l.content.toUpperCase(),this.selectedCaptureType=l.content.toUpperCase()),this.isAddMode&&"WEEKLY"==l.content.toUpperCase()&&(l.selected=!0,this.captureType=l.content.toUpperCase(),this.selectedCaptureType=l.content.toUpperCase())}),this.getreviewFrequencyForPerspective()}getreviewFrequencyForPerspective(){let l=this.captureFrequencyItems.find(l=>l.selected).content.toUpperCase();this.reviewItemsBackUp=u.a.cloneDeep(this.reviewItems),this.filteredReviewFrequencyItems=this.reviewItemsBackUp.filter(e=>!("HOURLY"===e.content.toUpperCase()||"SHIFT WISE"===e.content.toUpperCase()||"DAILY"===e.content.toUpperCase())&&this.filterReviewItem(l,e.content.toUpperCase())),this.filteredReviewFrequencyItems.forEach(l=>{l.id==this.kpiForm.value.reviewFrequency&&(l.selected=!0)}),this.isKPILoading=!1}filterReviewItemForPerspective(l,e){return"MONTHLY"===l?"WEEKLY"!==e:"QUARTERLY"===l?"WEEKLY"!==e&&"MONTHLY"!==e:"HALF YEARLY"===l?"WEEKLY"!==e&&"MONTHLY"!==e&&"QUARTERLY"!==e:"YEARLY"!==l||"YEARLY"===e}getReviewFreqNew(){return Object(t.__awaiter)(this,void 0,void 0,function*(){return this.settingsService.getReviewfrequency().toPromise()})}getWeekContent(l,e,n){return"Week "+l.toString()+" ("+o(e,"YYYY-MM-DD").format("LL")+" to "+o(n,"YYYY-MM-DD").format("LL")+")"}getHolidays(){this.goalService.getHolidays(this.yearStartDate,this.yearEndDate).subscribe(l=>{this.holidays=l.response})}setHolidays(){"SHIFT WISE"==this.captureType?this.captureData.value.forEach(l=>{this.holidays.forEach(e=>{l.startDate==e.holidayStartUnix&&l.endDate==e.holidayEndUnix&&(l.disabled=!0)})}):"DAILY"!=this.captureType&&"HOURLY"!=this.captureType||this.captureData.value.forEach(l=>{this.holidays.forEach(e=>{new Date(l.startDate).getTime()>=e.holidayStartUnix&&new Date(l.endDate).getTime()<=e.holidayEndUnix&&(l.disabled=!0)})})}filterArray(l,e,n,t){let i=1e3*o(e+"T00:00:00").unix(),a=1e3*o(n+"T23:59:59").unix();return"HALF YEARLY"===t||"QUARTERLY"===t||"YEARLY"===t||"HALF YEARLY"===t?l:(l||[]).filter(l=>{if("WEEKLY"===t){if(o(l.value.startDate).format("M")===o(i).format("M"))return!0}else if("HOURLY"===t||"SHIFT WISE"===t||"DAILY"===t){if(o(l.value.startDate).format("M")===o(i).format("M"))return!0}else if(1e3*o(l.value.startDate).unix()>=i&&1e3*o(l.value.endDate).unix()<=a)return!0;return!1})}onSwitcherSelected(l,e,n){this.prevValue=0,this.nextValue=7,this.selectedMonthStart=e,this.selectedMonthEnd=n}onOpenFormSearchForTargetDef(l){}onTargetFormSearch(l){this.targetFormQuery=l,this.selectedStratifyFormId="",this.targetQuery="",this.selectedStratifyTargetFieldId="",this.lowerLimitQuery="",this.selectedStratifyLowerLimitFieldId="",this.upperLimitQuery="",this.selectedStratifyUpperLimitFieldId="",this.metricsService.getForms(this.targetFormQuery).subscribe(l=>{l&&l.success&&(this.searchedFormsForStratify=(l.response.forms||[]).map(l=>({id:l._id,content:l.formName})))},l=>{this.searchedFormsForStratify=[]})}onTargetFormSelected(l){this.targetFormQuery=l.content,this.selectedStratifyFormId=l.id,this.targetFormFieldList=[],this.metricsService.getMetricFieldsForSelectedForm(l.id).subscribe(l=>{l&&l.success&&l.response.forEach(l=>{this.targetFormFieldList.push({id:l.uuid,content:l.label})})},l=>{this.targetFormFieldList=[]})}onSelectedTargetFormField(l){this.targetQuery=l.content,this.selectedStratifyTargetFieldId=l.id}onOpenUpperLimit(l){}onUpperLimitSearch(l){}onUpperLimitSelected(l){this.upperLimitQuery=l.content,this.selectedStratifyUpperLimitFieldId=l.id}onLowerLimitSelected(l){this.lowerLimitQuery=l.content,this.selectedStratifyLowerLimitFieldId=l.id}onChangeUseForStratefyTarget(l){this.useForStratefyTarget=l.checked,this.useForStratefyTarget||(this.useForStratifyLowerUpper=!1,this.upperLimitQuery="",this.lowerLimitQuery="",this.targetFormQuery="",this.targetQuery="",this.aggregationLogic="",this.selectedStratifyFormId="",this.selectedStratifyTargetFieldId="",this.selectedStratifyUpperLimitFieldId="",this.selectedStratifyLowerLimitFieldId="",this.targetFormFieldList=[])}onChangeUseForStratifyLowerUpper(l){this.useForStratifyLowerUpper=l.checked,this.useForStratifyLowerUpper||(this.upperLimitQuery="",this.lowerLimitQuery="",this.selectedStratifyUpperLimitFieldId="",this.selectedStratifyLowerLimitFieldId="")}validateStartifyTarget(){if(this.useForStratefyTarget){if(!this.aggregationLogic)return this._toastrService.error("Please select aggregation logic."),!1;if(!this.selectedStratifyFormId)return this._toastrService.error("Select form for target definition."),!1;if(!this.selectedStratifyTargetFieldId)return this._toastrService.error("Select form field for target definition."),!1}if(this.useForStratifyLowerUpper){if(!this.selectedStratifyUpperLimitFieldId)return this._toastrService.error("Select form field for upper limit."),!1;if(!this.selectedStratifyLowerLimitFieldId)return this._toastrService.error("Select form field for lower limit."),!1}return!0}showCopyCalendar(l){this.lastCalendarCard&&(this.lastCalendarCard.isShowCopyCal=!1),l.isShowCopyCal=!l.isShowCopyCal,l.isShowCopyCal&&(this.lastCalendarCard=l)}onCopyCalendarChange(l){this.copyDateSelected=l}onCopyValues(l){l.isShowCopyCal=!1;let e=l.value;e.target=l.controls.target.value,e.lower=l.controls.lower.value,e.upper=l.controls.upper.value,e.lowerPercent=l.controls.lowerPercent.value,e.upperPercent=l.controls.upperPercent.value;let n=this.kpiForm.get("captureData");n.value.forEach(e=>{!e.disabled&&this.checkCardWithinGivenDates(e)&&(e.target=l.controls.target.value,e.lower=l.controls.lower.value,e.upper=l.controls.upper.value,e.lowerPercent=l.controls.lowerPercent.value,e.upperPercent=l.controls.upperPercent.value)}),this.captureData=n,this.kpiForm.patchValue({captureData:n.value}),this.copyDateSelected=[]}closeCopyDiag(l){l.isShowCopyCal=!1}checkCardWithinGivenDates(l){let e=o(l.startDate).unix(),n=o(l.endDate).unix();if(!this.copyDateSelected)return!1;if(!this.copyDateSelected[0]||!this.copyDateSelected[1])return!1;let t=o(this.copyDateSelected[0]).unix(),i=o(this.copyDateSelected[1]);return i=o(this.copyDateSelected[1]).format("YYYY-MM-DD"),i=o(i+"T23:59:59"),"HOURLY"===this.captureType&&(i=i.add(1,"minute")),i=o(i).unix(),e>=t&&n<=i}aggregationLogicSelected(l){this.aggregationLogic=l.item.value}calculateUpperLowerLimit(l,e,n){let t=l,i="upper"===n?"upperPercent":"lowerPercent";t.patchValue(t.value.target&&t.value[i]?"upper"===n?{upper:parseFloat(t.value.target)+parseFloat(t.value.target)*parseFloat(t.value[i])/100}:{lower:parseFloat(t.value.target)-parseFloat(t.value.target)*parseFloat(t.value[i])/100}:"upper"===n?{upper:0}:{lower:0});let a=t.value;a.target=t.controls.target.value,a.lower=t.controls.lower.value,a.upper=t.controls.upper.value,a.lowerPercent=t.controls.lowerPercent.value,a.upperPercent=t.controls.upperPercent.value}calculateUpperLowerLimitWithTarget(l){let e=l;e.value.target?(e.value.upperPercent&&e.patchValue({upper:parseFloat(e.value.target)+parseFloat(e.value.target)*parseFloat(e.value.upperPercent)/100}),e.value.lowerPercent&&e.patchValue({lower:parseFloat(e.value.target)-parseFloat(e.value.target)*parseFloat(e.value.lowerPercent)/100})):(e.patchValue({upper:0}),e.patchValue({lower:0}))}onRadioChange(l){"MANUAL"===l.value&&(this.manualSub=this.confirmationService.getData().subscribe(e=>{e?(this.actionLimit=l.value,this.isSetFalse=!0,this.confirmationService.setData(!1)):(this.isSetFalse?this.isSetFalse=!1:this.actionLimit="PRAGMATIC",this.manualSub&&this.manualSub.unsubscribe())}),this.modalService.create({component:r.a,inputs:{modalText:"For data capture frequencies on a monthly, quarterly, half yearly and yearly\n                basis, pragmatic limits are strongly recommended.\n                A manual approach may potentially impact quality. "}}))}getTitleForLimits(){return`Pragmatic limits cannot be set for ${this.captureType.toLowerCase()} data capture frequecy`}onShowKpiTargetData(l){this.showKpiTarget=!this.showKpiTarget}getKpiTargetData(){this.goalService.getTargetData(this.currentid).subscribe(l=>Object(t.__awaiter)(this,void 0,void 0,function*(){l&&l.success&&(this.targetDataDcf=l.response.dcf.value,this.targetData=l.response.targetData,this.getTargetCardTitle(),this.kpiForm.patchValue({targetData:this.targetData}))}))}getTargetCardTitle(){switch(this.targetDataDcf){case"Yearly":this.targetData.map(l=>{let e=o(l.startDate).format("YYYY"),n=o(l.endDate).format("YYYY");l.cardTitle="("+e+"/"+n+")"});break;case"Quarterly":case"Half Yearly":this.targetData.map(l=>{let e=o(l.startDate).format("MMMM,YYYY"),n=o(l.endDate).format("MMMM,YYYY");l.cardTitle="("+e+"-"+n+")"});break;case"Monthly":this.targetData.map(l=>{let e=o(l.startDate).format("MMMM, YYYY");l.cardTitle=e});break;case"Weekly":this.targetData.map(l=>{let e=o(l.startDate).format("MMMM D, YYYY"),n=o(l.endDate).format("MMMM D, YYYY");l.cardTitle="("+e+" to "+n+")"});break;case"Daily":this.targetData.map(l=>{let e=o(l.startDate).format("MMMM D, YYYY");l.cardTitle=e});break;default:this.targetData.map(l=>{let e=o(l.startDate).format("MMMM D, YYYY hh:mm A"),n=o(l.endDate).format("MMMM D, YYYY hh:mm A");l.cardTitle="("+e+" to "+n+")"})}}onPreviousTargetClick(){0!=this.prevTargetValue&&this.targetData.length>0&&(this.prevTargetValue=this.prevTargetValue-7,this.nextTargetValue=this.nextTargetValue-7)}onNextTargetClick(){0!=this.nextTargetValue&&this.nextTargetValue<this.targetData.length&&this.targetData.length>7&&(this.prevTargetValue=this.prevTargetValue+7,this.nextTargetValue=this.nextTargetValue+7)}changeExtensionType(l){this.extendStructure=!this.extendStructure,!1===this.extendStructure&&this.ngOnInit()}closeModal(l){this.dialogRef.close(l)}}},zopQ:function(l,e,n){"use strict";n.d(e,"a",function(){return t});class t{}}}]);